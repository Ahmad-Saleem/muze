{"version":3,"sources":["webpack://muze/webpack/universalModuleDefinition","webpack://muze/webpack/bootstrap","webpack://muze/../datamodel/dist/datamodel.js","webpack://muze/../hyperdis/dist/hyperdis.js","webpack://muze/(webpack)/buildin/module.js","webpack://muze/./packages/layout/src/enums/constants.js","webpack://muze/./packages/layout/src/generic-layout/index.js","webpack://muze/./packages/layout/src/grid-layout/computations.js","webpack://muze/./packages/layout/src/grid-layout/defaults.js","webpack://muze/./packages/layout/src/grid-layout/index.js","webpack://muze/./packages/layout/src/grid-layout/layout-helper.js","webpack://muze/./packages/layout/src/grid-layout/layout.js","webpack://muze/./packages/layout/src/grid-layout/renderer.js","webpack://muze/./packages/layout/src/grid-layout/span-maker.js","webpack://muze/./packages/layout/src/index.js","webpack://muze/./packages/layout/src/utils/index.js","webpack://muze/./packages/layout/src/visual-matrix/column-matrix.js","webpack://muze/./packages/layout/src/visual-matrix/default-config.js","webpack://muze/./packages/layout/src/visual-matrix/props.js","webpack://muze/./packages/layout/src/visual-matrix/row-matrix.js","webpack://muze/./packages/layout/src/visual-matrix/visual-matrix.js","webpack://muze/./packages/muze-axis/src/axis-renderer.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/band-axis.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/continous-axis.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/default-config.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/helper.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/index.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/interpolators/index.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/interpolators/linear.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/interpolators/log.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/interpolators/pow.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/props.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/simple-axis.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/space-setter.js","webpack://muze/./packages/muze-axis/src/cartesian-axis/time-axis.js","webpack://muze/./packages/muze-axis/src/color-axis/color-axis.js","webpack://muze/./packages/muze-axis/src/color-axis/color-maps.js","webpack://muze/./packages/muze-axis/src/color-axis/color-strategy.js","webpack://muze/./packages/muze-axis/src/color-axis/defaults.js","webpack://muze/./packages/muze-axis/src/color-axis/index.js","webpack://muze/./packages/muze-axis/src/color-axis/props.js","webpack://muze/./packages/muze-axis/src/data-type-scale-map.js","webpack://muze/./packages/muze-axis/src/enums/axis-orientation.js","webpack://muze/./packages/muze-axis/src/enums/constants.js","webpack://muze/./packages/muze-axis/src/enums/scale-type.js","webpack://muze/./packages/muze-axis/src/index.js","webpack://muze/./packages/muze-axis/src/scale-creator.js","webpack://muze/./packages/muze-axis/src/shape-axis/defaults.js","webpack://muze/./packages/muze-axis/src/shape-axis/helper.js","webpack://muze/./packages/muze-axis/src/shape-axis/index.js","webpack://muze/./packages/muze-axis/src/shape-axis/props.js","webpack://muze/./packages/muze-axis/src/shape-axis/shape-axis.js","webpack://muze/./packages/muze-axis/src/size-axis/defaults.js","webpack://muze/./packages/muze-axis/src/size-axis/index.js","webpack://muze/./packages/muze-axis/src/size-axis/props.js","webpack://muze/./packages/muze-axis/src/size-axis/size-axis.js","webpack://muze/./packages/muze-axis/src/size-axis/size-strategy.js","webpack://muze/./packages/muze-axis/src/styles.scss?b476","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/brush.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/filter.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/generic.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/highlight.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/index.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/persistent.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/select.js","webpack://muze/./packages/muze-firebolt/src/actions/behavioural/volatile.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/click.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/drag.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/helpers/drag-action-config.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/helpers/drag-event.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/helpers/index.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/hover.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/index.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/longtouch.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/selection-box-drag.js","webpack://muze/./packages/muze-firebolt/src/actions/physical/touch-drag.js","webpack://muze/./packages/muze-firebolt/src/behaviour-effect-map.js","webpack://muze/./packages/muze-firebolt/src/enums/actions.js","webpack://muze/./packages/muze-firebolt/src/enums/behaviours.js","webpack://muze/./packages/muze-firebolt/src/enums/constants.js","webpack://muze/./packages/muze-firebolt/src/enums/selection.js","webpack://muze/./packages/muze-firebolt/src/firebolt.js","webpack://muze/./packages/muze-firebolt/src/helper/index.js","webpack://muze/./packages/muze-firebolt/src/index.js","webpack://muze/./packages/muze-firebolt/src/selection-set/index.js","webpack://muze/./packages/muze-firebolt/src/selection-set/selection-set.js","webpack://muze/./packages/muze-firebolt/src/side-effects/anchors/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/anchors/styles.scss?1187","webpack://muze/./packages/muze-firebolt/src/side-effects/brush-anchors.js","webpack://muze/./packages/muze-firebolt/src/side-effects/crossline/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/crossline/styles.scss?5624","webpack://muze/./packages/muze-firebolt/src/side-effects/filter/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/generic/generic-sideeffect.js","webpack://muze/./packages/muze-firebolt/src/side-effects/generic/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/helper/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/persistent-anchors.js","webpack://muze/./packages/muze-firebolt/src/side-effects/plot-highlighter/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/plot-highlighter/strategy.js","webpack://muze/./packages/muze-firebolt/src/side-effects/selection-box/helper.js","webpack://muze/./packages/muze-firebolt/src/side-effects/selection-box/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/selection-box/styles.scss?a1f5","webpack://muze/./packages/muze-firebolt/src/side-effects/spawnable.js","webpack://muze/./packages/muze-firebolt/src/side-effects/surrogate.js","webpack://muze/./packages/muze-firebolt/src/side-effects/tooltip/index.js","webpack://muze/./packages/muze-firebolt/src/side-effects/tooltip/strategies.js","webpack://muze/./packages/muze-firebolt/src/side-effects/tooltip/styles.scss?fb1a","webpack://muze/./packages/muze-legend/src/enums/actions.js","webpack://muze/./packages/muze-legend/src/enums/behaviours.js","webpack://muze/./packages/muze-legend/src/enums/constants.js","webpack://muze/./packages/muze-legend/src/enums/side-effects.js","webpack://muze/./packages/muze-legend/src/firebolt/action-behaviour-map.js","webpack://muze/./packages/muze-legend/src/firebolt/behaviour-effect-map.js","webpack://muze/./packages/muze-legend/src/firebolt/behavioural/index.js","webpack://muze/./packages/muze-legend/src/firebolt/behavioural/select.js","webpack://muze/./packages/muze-legend/src/firebolt/helper.js","webpack://muze/./packages/muze-legend/src/firebolt/legend-firebolt.js","webpack://muze/./packages/muze-legend/src/firebolt/physical/click.js","webpack://muze/./packages/muze-legend/src/firebolt/physical/drag.js","webpack://muze/./packages/muze-legend/src/firebolt/physical/hover.js","webpack://muze/./packages/muze-legend/src/firebolt/physical/index.js","webpack://muze/./packages/muze-legend/src/firebolt/physical/selection-box-drag.js","webpack://muze/./packages/muze-legend/src/firebolt/side-effects/index.js","webpack://muze/./packages/muze-legend/src/firebolt/side-effects/legend-highlighter/index.js","webpack://muze/./packages/muze-legend/src/firebolt/side-effects/legend-highlighter/strategies.js","webpack://muze/./packages/muze-legend/src/firebolt/side-effects/selection-box/index.js","webpack://muze/./packages/muze-legend/src/firebolt/side-effects/selection-box/styles.scss?8db9","webpack://muze/./packages/muze-legend/src/index.js","webpack://muze/./packages/muze-legend/src/legend/defaults.js","webpack://muze/./packages/muze-legend/src/legend/discrete-legend.js","webpack://muze/./packages/muze-legend/src/legend/gradient-helper.js","webpack://muze/./packages/muze-legend/src/legend/gradient-legend.js","webpack://muze/./packages/muze-legend/src/legend/index.js","webpack://muze/./packages/muze-legend/src/legend/legend-helper.js","webpack://muze/./packages/muze-legend/src/legend/position-config.js","webpack://muze/./packages/muze-legend/src/legend/props.js","webpack://muze/./packages/muze-legend/src/legend/renderer.js","webpack://muze/./packages/muze-legend/src/legend/simple-legend.js","webpack://muze/./packages/muze-legend/src/legend/step-legend.js","webpack://muze/./packages/muze-legend/src/styles.scss?0ff0","webpack://muze/./packages/muze-tooltip/src/constants.js","webpack://muze/./packages/muze-tooltip/src/content.js","webpack://muze/./packages/muze-tooltip/src/default-config.js","webpack://muze/./packages/muze-tooltip/src/helper.js","webpack://muze/./packages/muze-tooltip/src/index.js","webpack://muze/./packages/muze-tooltip/src/strategy.js","webpack://muze/./packages/muze-tooltip/src/styles.scss?739e","webpack://muze/./packages/muze-tooltip/src/tooltip.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/array.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/ascending.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/bisect.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/bisector.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/constant.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/cross.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/descending.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/deviation.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/extent.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/histogram.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/identity.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/max.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/mean.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/median.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/merge.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/min.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/number.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/pairs.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/permute.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/quantile.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/range.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/scan.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/shuffle.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/sum.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/threshold/freedmanDiaconis.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/threshold/scott.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/threshold/sturges.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/ticks.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/transpose.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/variance.js","webpack://muze/./packages/muze-utils/node_modules/d3-array/src/zip.js","webpack://muze/./packages/muze-utils/node_modules/d3-axis/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-axis/src/array.js","webpack://muze/./packages/muze-utils/node_modules/d3-axis/src/axis.js","webpack://muze/./packages/muze-utils/node_modules/d3-axis/src/identity.js","webpack://muze/./packages/muze-utils/node_modules/d3-collection/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-collection/src/entries.js","webpack://muze/./packages/muze-utils/node_modules/d3-collection/src/keys.js","webpack://muze/./packages/muze-utils/node_modules/d3-collection/src/map.js","webpack://muze/./packages/muze-utils/node_modules/d3-collection/src/nest.js","webpack://muze/./packages/muze-utils/node_modules/d3-collection/src/set.js","webpack://muze/./packages/muze-utils/node_modules/d3-collection/src/values.js","webpack://muze/./packages/muze-utils/node_modules/d3-color/src/color.js","webpack://muze/./packages/muze-utils/node_modules/d3-color/src/cubehelix.js","webpack://muze/./packages/muze-utils/node_modules/d3-color/src/define.js","webpack://muze/./packages/muze-utils/node_modules/d3-color/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-color/src/lab.js","webpack://muze/./packages/muze-utils/node_modules/d3-color/src/math.js","webpack://muze/./packages/muze-utils/node_modules/d3-dispatch/src/dispatch.js","webpack://muze/./packages/muze-utils/node_modules/d3-dispatch/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-drag/src/constant.js","webpack://muze/./packages/muze-utils/node_modules/d3-drag/src/drag.js","webpack://muze/./packages/muze-utils/node_modules/d3-drag/src/event.js","webpack://muze/./packages/muze-utils/node_modules/d3-drag/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-drag/src/nodrag.js","webpack://muze/./packages/muze-utils/node_modules/d3-drag/src/noevent.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/back.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/bounce.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/circle.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/cubic.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/elastic.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/exp.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/linear.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/poly.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/quad.js","webpack://muze/./packages/muze-utils/node_modules/d3-ease/src/sin.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/defaultLocale.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/exponent.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatDecimal.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatGroup.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatNumerals.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatPrefixAuto.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatRounded.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatSpecifier.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatTrim.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/formatTypes.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/identity.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/locale.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/precisionFixed.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/precisionPrefix.js","webpack://muze/./packages/muze-utils/node_modules/d3-format/src/precisionRound.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/array.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/basis.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/basisClosed.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/color.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/constant.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/cubehelix.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/date.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/discrete.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/hcl.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/hsl.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/hue.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/lab.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/number.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/object.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/piecewise.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/quantize.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/rgb.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/round.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/string.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/transform/decompose.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/transform/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/transform/parse.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/value.js","webpack://muze/./packages/muze-utils/node_modules/d3-interpolate/src/zoom.js","webpack://muze/./packages/muze-utils/node_modules/d3-path/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-path/src/path.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Accent.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Dark2.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Paired.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Pastel1.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Pastel2.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Set1.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Set2.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/Set3.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/categorical/category10.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/colors.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/BrBG.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/PRGn.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/PiYG.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/PuOr.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/RdBu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/RdGy.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/RdYlBu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/RdYlGn.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/diverging/Spectral.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/ramp.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/BuGn.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/BuPu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/GnBu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/OrRd.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/PuBu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/PuBuGn.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/PuRd.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/RdPu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/YlGn.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/YlGnBu.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/YlOrBr.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/YlOrRd.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/cubehelix.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/rainbow.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/sinebow.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-multi/viridis.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-single/Blues.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-single/Greens.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-single/Greys.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-single/Oranges.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-single/Purples.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale-chromatic/src/sequential-single/Reds.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/array.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/band.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/category10.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/category20.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/category20b.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/category20c.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/colors.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/constant.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/continuous.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/cubehelix.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/identity.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/linear.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/log.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/nice.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/number.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/ordinal.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/pow.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/quantile.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/quantize.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/rainbow.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/sequential.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/threshold.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/tickFormat.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/time.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/utcTime.js","webpack://muze/./packages/muze-utils/node_modules/d3-scale/src/viridis.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/constant.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/create.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/creator.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/local.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/matcher.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/mouse.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/namespace.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/namespaces.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/point.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/select.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selectAll.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/append.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/attr.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/call.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/classed.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/clone.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/data.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/datum.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/dispatch.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/each.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/empty.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/enter.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/exit.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/filter.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/html.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/insert.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/lower.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/merge.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/node.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/nodes.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/on.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/order.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/property.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/raise.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/remove.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/select.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/selectAll.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/size.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/sort.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/sparse.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/style.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selection/text.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selector.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/selectorAll.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/sourceEvent.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/touch.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/touches.js","webpack://muze/./packages/muze-utils/node_modules/d3-selection/src/window.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/arc.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/area.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/areaRadial.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/array.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/constant.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/basis.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/basisClosed.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/basisOpen.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/bundle.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/cardinal.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/cardinalClosed.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/cardinalOpen.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/catmullRom.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/catmullRomClosed.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/catmullRomOpen.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/linear.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/linearClosed.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/monotone.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/natural.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/radial.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/curve/step.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/descending.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/identity.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/line.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/lineRadial.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/link/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/math.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/noop.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/offset/diverging.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/offset/expand.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/offset/none.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/offset/silhouette.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/offset/wiggle.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/order/ascending.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/order/descending.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/order/insideOut.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/order/none.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/order/reverse.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/pie.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/point.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/pointRadial.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/stack.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/circle.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/cross.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/diamond.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/square.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/star.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/triangle.js","webpack://muze/./packages/muze-utils/node_modules/d3-shape/src/symbol/wye.js","webpack://muze/./packages/muze-utils/node_modules/d3-time-format/src/defaultLocale.js","webpack://muze/./packages/muze-utils/node_modules/d3-time-format/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-time-format/src/isoFormat.js","webpack://muze/./packages/muze-utils/node_modules/d3-time-format/src/isoParse.js","webpack://muze/./packages/muze-utils/node_modules/d3-time-format/src/locale.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/day.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/duration.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/hour.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/interval.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/millisecond.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/minute.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/month.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/second.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/utcDay.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/utcHour.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/utcMinute.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/utcMonth.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/utcWeek.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/utcYear.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/week.js","webpack://muze/./packages/muze-utils/node_modules/d3-time/src/year.js","webpack://muze/./packages/muze-utils/node_modules/d3-timer/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-timer/src/interval.js","webpack://muze/./packages/muze-utils/node_modules/d3-timer/src/timeout.js","webpack://muze/./packages/muze-utils/node_modules/d3-timer/src/timer.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/active.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/interrupt.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/selection/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/selection/interrupt.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/selection/transition.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/attr.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/attrTween.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/delay.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/duration.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/ease.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/filter.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/interpolate.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/merge.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/on.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/remove.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/schedule.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/select.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/selectAll.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/selection.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/style.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/styleTween.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/text.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/transition.js","webpack://muze/./packages/muze-utils/node_modules/d3-transition/src/transition/tween.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/Beach.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/Cell.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/Circle.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/Diagram.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/Edge.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/RedBlackTree.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/constant.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/index.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/point.js","webpack://muze/./packages/muze-utils/node_modules/d3-voronoi/src/voronoi.js","webpack://muze/./packages/muze-utils/node_modules/fusioncharts-smartlabel/lib/SmartlabelManager.js","webpack://muze/./packages/muze-utils/node_modules/fusioncharts-smartlabel/lib/container-manager.js","webpack://muze/./packages/muze-utils/node_modules/fusioncharts-smartlabel/lib/lib.js","webpack://muze/./packages/muze-utils/src/DataSystem/data-object.js","webpack://muze/./packages/muze-utils/src/DataSystem/dataSelect.js","webpack://muze/./packages/muze-utils/src/DataSystem/index.js","webpack://muze/./packages/muze-utils/src/DataSystem/selection.js","webpack://muze/./packages/muze-utils/src/color-schemes.js","webpack://muze/./packages/muze-utils/src/common-utils.js","webpack://muze/./packages/muze-utils/src/enums/common-props.js","webpack://muze/./packages/muze-utils/src/enums/index.js","webpack://muze/./packages/muze-utils/src/enums/namespace.js","webpack://muze/./packages/muze-utils/src/enums/reserved-fields.js","webpack://muze/./packages/muze-utils/src/enums/stack-config.js","webpack://muze/./packages/muze-utils/src/index.js","webpack://muze/./packages/muze-utils/src/lifecycle-manager/event-list.js","webpack://muze/./packages/muze-utils/src/lifecycle-manager/index.js","webpack://muze/./packages/muze-utils/src/lifecycle-manager/lifecycle-manager.js","webpack://muze/./packages/muze-utils/src/renderer-utils.js","webpack://muze/./packages/muze-utils/src/scales.js","webpack://muze/./packages/muze/src/action-model.js","webpack://muze/./packages/muze/src/canvas/app-state.js","webpack://muze/./packages/muze/src/canvas/canvas.js","webpack://muze/./packages/muze/src/canvas/component-resolver.js","webpack://muze/./packages/muze/src/canvas/defaults.js","webpack://muze/./packages/muze/src/canvas/firebolt/group-firebolt.js","webpack://muze/./packages/muze/src/canvas/firebolt/index.js","webpack://muze/./packages/muze/src/canvas/helper.js","webpack://muze/./packages/muze/src/canvas/index.js","webpack://muze/./packages/muze/src/canvas/layout-maker.js","webpack://muze/./packages/muze/src/canvas/legend-maker.js","webpack://muze/./packages/muze/src/canvas/local-options.js","webpack://muze/./packages/muze/src/canvas/renderer.js","webpack://muze/./packages/muze/src/canvas/title-maker.js","webpack://muze/./packages/muze/src/constants.js","webpack://muze/./packages/muze/src/default-registry.js","webpack://muze/./packages/muze/src/defaults.js","webpack://muze/./packages/muze/src/index.js","webpack://muze/./packages/muze/src/muze.js","webpack://muze/./packages/muze/src/muze.scss?e1a1","webpack://muze/./packages/muze/src/operators.js","webpack://muze/./packages/muze/src/options.js","webpack://muze/./packages/muze/src/transaction-support.js","webpack://muze/./packages/transform/src/enums/transform-type.js","webpack://muze/./packages/transform/src/group-transform/index.js","webpack://muze/./packages/transform/src/identity-transform/index.js","webpack://muze/./packages/transform/src/index.js","webpack://muze/./packages/transform/src/stack-transform/index.js","webpack://muze/./packages/transform/src/transform-factory/index.js","webpack://muze/./packages/visual-cell/src/axis-cell.js","webpack://muze/./packages/visual-cell/src/blank-cell.js","webpack://muze/./packages/visual-cell/src/cell-registry.js","webpack://muze/./packages/visual-cell/src/constants.js","webpack://muze/./packages/visual-cell/src/defaults.js","webpack://muze/./packages/visual-cell/src/enums/cell-type.js","webpack://muze/./packages/visual-cell/src/enums/constants.js","webpack://muze/./packages/visual-cell/src/enums/defaults.js","webpack://muze/./packages/visual-cell/src/geom-cell.js","webpack://muze/./packages/visual-cell/src/index.js","webpack://muze/./packages/visual-cell/src/props.js","webpack://muze/./packages/visual-cell/src/simple-cell.js","webpack://muze/./packages/visual-cell/src/text-cell.js","webpack://muze/./packages/visual-cell/src/text-cell.scss?1818","webpack://muze/./packages/visual-group/src/data-type-scale-map.js","webpack://muze/./packages/visual-group/src/encoder/cartesian-encoder.js","webpack://muze/./packages/visual-group/src/encoder/encoder-helper.js","webpack://muze/./packages/visual-group/src/encoder/field-sanitizer.js","webpack://muze/./packages/visual-group/src/encoder/index.js","webpack://muze/./packages/visual-group/src/encoder/polar-encoder.js","webpack://muze/./packages/visual-group/src/encoder/retinal-encoder.js","webpack://muze/./packages/visual-group/src/encoder/visual-encoder.js","webpack://muze/./packages/visual-group/src/enums/constants.js","webpack://muze/./packages/visual-group/src/enums/defaults.js","webpack://muze/./packages/visual-group/src/enums/scale-maps.js","webpack://muze/./packages/visual-group/src/group-helper/cell-creator.js","webpack://muze/./packages/visual-group/src/group-helper/group-utils.js","webpack://muze/./packages/visual-group/src/group-helper/index.js","webpack://muze/./packages/visual-group/src/group-helper/matrix-model.js","webpack://muze/./packages/visual-group/src/group-helper/matrix-resolver.js","webpack://muze/./packages/visual-group/src/group-helper/resolver-props.js","webpack://muze/./packages/visual-group/src/index.js","webpack://muze/./packages/visual-group/src/simple-group/index.js","webpack://muze/./packages/visual-group/src/simple-group/simple-group.js","webpack://muze/./packages/visual-group/src/variable/composed-vars.js","webpack://muze/./packages/visual-group/src/variable/index.js","webpack://muze/./packages/visual-group/src/variable/simple-var.js","webpack://muze/./packages/visual-group/src/variable/variable.js","webpack://muze/./packages/visual-group/src/visual-group/change-listener.js","webpack://muze/./packages/visual-group/src/visual-group/helper.js","webpack://muze/./packages/visual-group/src/visual-group/index.js","webpack://muze/./packages/visual-group/src/visual-group/local-options.js","webpack://muze/./packages/visual-group/src/visual-group/props.js","webpack://muze/./packages/visual-group/src/visual-group/value-matrix.js","webpack://muze/./packages/visual-group/src/visual-group/visual-group.js","webpack://muze/./packages/visual-layer/src/base-layer/base-layer.js","webpack://muze/./packages/visual-layer/src/base-layer/default-options.js","webpack://muze/./packages/visual-layer/src/base-layer/index.js","webpack://muze/./packages/visual-layer/src/base-layer/listener-map.js","webpack://muze/./packages/visual-layer/src/base-layer/props.js","webpack://muze/./packages/visual-layer/src/defaults.js","webpack://muze/./packages/visual-layer/src/enums/constants.js","webpack://muze/./packages/visual-layer/src/enums/props.js","webpack://muze/./packages/visual-layer/src/helpers/index.js","webpack://muze/./packages/visual-layer/src/index.js","webpack://muze/./packages/visual-layer/src/layer-factory/index.js","webpack://muze/./packages/visual-layer/src/layer-factory/layer-factory.js","webpack://muze/./packages/visual-layer/src/layer-registry.js","webpack://muze/./packages/visual-layer/src/layers/arc/arc-helper.js","webpack://muze/./packages/visual-layer/src/layers/arc/arc.js","webpack://muze/./packages/visual-layer/src/layers/arc/default-config.js","webpack://muze/./packages/visual-layer/src/layers/arc/index.js","webpack://muze/./packages/visual-layer/src/layers/arc/styles.scss?365c","webpack://muze/./packages/visual-layer/src/layers/area/area.js","webpack://muze/./packages/visual-layer/src/layers/area/default-config.js","webpack://muze/./packages/visual-layer/src/layers/area/index.js","webpack://muze/./packages/visual-layer/src/layers/area/renderer.js","webpack://muze/./packages/visual-layer/src/layers/area/styles.scss?d057","webpack://muze/./packages/visual-layer/src/layers/bar/bar-helper.js","webpack://muze/./packages/visual-layer/src/layers/bar/bar.js","webpack://muze/./packages/visual-layer/src/layers/bar/default-config.js","webpack://muze/./packages/visual-layer/src/layers/bar/index.js","webpack://muze/./packages/visual-layer/src/layers/bar/renderer.js","webpack://muze/./packages/visual-layer/src/layers/bar/styles.scss?199c","webpack://muze/./packages/visual-layer/src/layers/line/default-config.js","webpack://muze/./packages/visual-layer/src/layers/line/index.js","webpack://muze/./packages/visual-layer/src/layers/line/line.js","webpack://muze/./packages/visual-layer/src/layers/line/renderer.js","webpack://muze/./packages/visual-layer/src/layers/line/styles.scss?88fa","webpack://muze/./packages/visual-layer/src/layers/point/default-config.js","webpack://muze/./packages/visual-layer/src/layers/point/index.js","webpack://muze/./packages/visual-layer/src/layers/point/point.js","webpack://muze/./packages/visual-layer/src/layers/point/renderer.js","webpack://muze/./packages/visual-layer/src/layers/point/styles.scss?f31c","webpack://muze/./packages/visual-layer/src/layers/text/default-config.js","webpack://muze/./packages/visual-layer/src/layers/text/index.js","webpack://muze/./packages/visual-layer/src/layers/text/renderer.js","webpack://muze/./packages/visual-layer/src/layers/text/styles.scss?edfc","webpack://muze/./packages/visual-layer/src/layers/text/text.js","webpack://muze/./packages/visual-layer/src/layers/tick/default-config.js","webpack://muze/./packages/visual-layer/src/layers/tick/index.js","webpack://muze/./packages/visual-layer/src/layers/tick/renderer.js","webpack://muze/./packages/visual-layer/src/layers/tick/styles.scss?d4a8","webpack://muze/./packages/visual-layer/src/layers/tick/tick.js","webpack://muze/./packages/visual-layer/src/simple-layer/index.js","webpack://muze/./packages/visual-layer/src/simple-layer/simple-layer.js","webpack://muze/./packages/visual-unit/src/default-config.js","webpack://muze/./packages/visual-unit/src/enums/constants.js","webpack://muze/./packages/visual-unit/src/enums/reactive-props.js","webpack://muze/./packages/visual-unit/src/firebolt/action-behaviour-map.js","webpack://muze/./packages/visual-unit/src/firebolt/data-propagator.js","webpack://muze/./packages/visual-unit/src/firebolt/helper.js","webpack://muze/./packages/visual-unit/src/firebolt/index.js","webpack://muze/./packages/visual-unit/src/firebolt/payload-generator.js","webpack://muze/./packages/visual-unit/src/helper/grid-lines.js","webpack://muze/./packages/visual-unit/src/helper/index.js","webpack://muze/./packages/visual-unit/src/index.js","webpack://muze/./packages/visual-unit/src/listener-map.js","webpack://muze/./packages/visual-unit/src/local-options.js","webpack://muze/./packages/visual-unit/src/props.js","webpack://muze/./packages/visual-unit/src/styles.scss?7299","webpack://muze/./packages/visual-unit/src/visual-unit.js"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","window","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","csvParse","csvParseRows","csvFormat","csvFormatRows","_dsv__WEBPACK_IMPORTED_MODULE_0__","csv","parse","parseRows","format","formatRows","EOL","EOF","QUOTE","NEWLINE","RETURN","objectConverter","columns","Function","map","JSON","stringify","join","customConverter","f","row","inferColumns","rows","columnSet","forEach","column","push","delimiter","reFormat","RegExp","DELIMITER","charCodeAt","text","convert","N","length","I","eof","eol","token","j","slice","replace","formatValue","concat","formatRow","test","_csv__WEBPACK_IMPORTED_MODULE_1__","_tsv__WEBPACK_IMPORTED_MODULE_2__","tsvParse","tsvParseRows","tsvFormat","tsvFormatRows","tsv","PROPAGATION","ROW_ID","DM_DERIVATIVES","JOINS","LOGICAL_OPERATORS","_enums__WEBPACK_IMPORTED_MODULE_0__","SELECT","PROJECT","GROUPBY","COMPOSE","CAL_VAR","BIN","CROSS","LEFTOUTER","RIGHTOUTER","NATURAL","FULLOUTER","AND","OR","_flat_json__WEBPACK_IMPORTED_MODULE_0__","_dsv_arr__WEBPACK_IMPORTED_MODULE_1__","_dsv_str__WEBPACK_IMPORTED_MODULE_2__","_utils__WEBPACK_IMPORTED_MODULE_3__","Auto","data","options","converters","FlatJSON","DSVStr","DSVArr","dataFormat","Error","_utils__WEBPACK_IMPORTED_MODULE_0__","_toConsumableArray","arr","Array","isArray","arr2","from","defaultOption","firstRowHeader","assign","header","splice","field","apply","undefined","d3_dsv__WEBPACK_IMPORTED_MODULE_0__","str","fieldSeparator","dsv","insertionIndex","item","fields","keys","_dsv_arr__WEBPACK_IMPORTED_MODULE_0__","_dsv_str__WEBPACK_IMPORTED_MODULE_1__","_flat_json__WEBPACK_IMPORTED_MODULE_2__","_auto_resolver__WEBPACK_IMPORTED_MODULE_3__","_helper__WEBPACK_IMPORTED_MODULE_1__","_constants__WEBPACK_IMPORTED_MODULE_2__","_operator__WEBPACK_IMPORTED_MODULE_3__","_operator_bucket_creator__WEBPACK_IMPORTED_MODULE_4__","_relation__WEBPACK_IMPORTED_MODULE_5__","_utils_reducer_store__WEBPACK_IMPORTED_MODULE_6__","_field_creator__WEBPACK_IMPORTED_MODULE_7__","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_i","iterator","_s","next","done","err","TypeError","_createClass","defineProperties","target","props","descriptor","configurable","writable","Constructor","protoProps","staticProps","_classCallCheck","instance","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","constructor","setPrototypeOf","__proto__","DataModel","_Relation","_ref","_len","arguments","args","_key","_this","getPrototypeOf","_onPropagation","_sortingDetails","getData","defOptions","order","formatter","withUid","getAllFields","sort","getPartialFieldspace","dataGenerated","_rowDiffset","_colIdentifier","columnWise","addUid","_options","schema","uids","fieldNames","e","fmtFieldNames","fmtFieldIdx","reduce","acc","idx","indexOf","elem","fIdx","fmtFn","datum","datumIdx","groupBy","fieldsArr","reducers","config","saveChild","groupByString","params","newDataModel","_children","defaultReducer","_parent","sortingDetails","rawData","dataInCSVArr","sortedDm","serialize","type","_dataFormat","getFieldspace","colData","formattedData","rowsCount","serializedData","rowIdx","colIdx","FLAT_JSON","DSV_STR","_row","DSV_ARR","_row2","addField","fieldName","partialFieldspace","_partialFieldspace","fieldsObj","fieldIndex","findIndex","fieldinst","__calculateFieldspace","calculateFieldsConfig","calculateVariable","dependency","_this2","replaceVar","fieldsConfig","getFieldsConfig","depVars","retrieveFn","depFieldIndices","fieldSpec","index","clone","fs","suppliedFields","cachedStore","cloneProvider","detachedRoot","computedValues","fieldsData","partialField","_createFields","_createFields2","propagate","identifiers","addToNameSpace","propConfig","isMutableAction","propagationSourceId","sourceId","payload","rootModel","propagationNameSpace","_propagationNameSpace","rootGroupByModel","rootModels","groupByModel","model","on","eventName","callback","unsubscribe","handlePropagation","propModel","_this3","propListeners","fn","bin","dimensionName","binFieldName","find","currfield","dataSet","binField","DIMENSION","subtype","BINNED","bins","range","mid","getSchema","AUTO","DataFormat","DimensionSubtype","CATEGORICAL","TEMPORAL","GEO","FieldType","MEASURE","FilteringMode","NORMAL","INVERSE","ALL","_data_format__WEBPACK_IMPORTED_MODULE_0__","_dimension_subtype__WEBPACK_IMPORTED_MODULE_1__","_measure_subtype__WEBPACK_IMPORTED_MODULE_2__","_field_type__WEBPACK_IMPORTED_MODULE_3__","_filtering_mode__WEBPACK_IMPORTED_MODULE_4__","MeasureSubtype","CONTINUOUS","_datamodel__WEBPACK_IMPORTED_MODULE_0__","_operator__WEBPACK_IMPORTED_MODULE_1__","_stats__WEBPACK_IMPORTED_MODULE_2__","_enums__WEBPACK_IMPORTED_MODULE_3__","_utils__WEBPACK_IMPORTED_MODULE_4__","_constants__WEBPACK_IMPORTED_MODULE_5__","_package_json__WEBPACK_IMPORTED_MODULE_6__","_package_json__WEBPACK_IMPORTED_MODULE_6___namespace","Operators","compose","select","project","crossProduct","difference","naturalJoin","leftOuterJoin","rightOuterJoin","fullOuterJoin","union","Stats","DateTimeFormatter","version","createUnitFieldFromPartial","createFields","_fields__WEBPACK_IMPORTED_MODULE_1__","createUnitField","rowDiffset","dataColumn","headers","headersObj","_utils__WEBPACK_IMPORTED_MODULE_1__","fieldStore","createNamespace","fieldArr","dataId","retObj","getMeasure","getDimension","_dimension__WEBPACK_IMPORTED_MODULE_0__","Binned","_Dimension","calculateDataDomain","binsArr","_operator_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_0__","_enums__WEBPACK_IMPORTED_MODULE_1__","_dimension__WEBPACK_IMPORTED_MODULE_2__","Categorical","hash","Set","domain","has","add","_measure__WEBPACK_IMPORTED_MODULE_2__","Continuous","_Measure","min","Number","POSITIVE_INFINITY","max","NEGATIVE_INFINITY","_field__WEBPACK_IMPORTED_MODULE_0__","Dimension","_Field","_cachedDomain","Field","description","displayName","_dimension__WEBPACK_IMPORTED_MODULE_1__","_categorical__WEBPACK_IMPORTED_MODULE_2__","_temporal__WEBPACK_IMPORTED_MODULE_3__","_binned__WEBPACK_IMPORTED_MODULE_4__","_measure__WEBPACK_IMPORTED_MODULE_5__","_continuous__WEBPACK_IMPORTED_MODULE_6__","_parsers_field_parser__WEBPACK_IMPORTED_MODULE_7__","_parsers_categorical_parser__WEBPACK_IMPORTED_MODULE_8__","_parsers_temporal_parser__WEBPACK_IMPORTED_MODULE_9__","_parsers_binned_parser__WEBPACK_IMPORTED_MODULE_10__","_parsers_continuous_parser__WEBPACK_IMPORTED_MODULE_11__","_partial_field__WEBPACK_IMPORTED_MODULE_12__","_operator_group_by_function__WEBPACK_IMPORTED_MODULE_1__","_field__WEBPACK_IMPORTED_MODULE_2__","Measure","unit","defAggFn","numberFormat","_field_parser__WEBPACK_IMPORTED_MODULE_0__","BinnedParser","_FieldParser","val","regex","String","matched","match","CategoricalParser","trim","ContinuousParser","parseFloat","isNaN","FieldParser","_field_parser__WEBPACK_IMPORTED_MODULE_1__","TemporalParser","_dtf","getNativeDate","getTime","Date","PartialField","parser","_sanitize","_utils__WEBPACK_IMPORTED_MODULE_2__","Temporal","minimumConsecutiveDifference","currIdx","prevDatum","minDiff","Math","_this4","formatAs","prepareJoinData","updateFields","persistDerivation","selectHelper","filterPropagationModel","cloneWithSelect","cloneWithProject","sanitizeUnitSchema","sanitizeSchema","updateData","fieldInSchema","getOperationArguments","getRootGroupByModel","getRootDataModel","getPathToRootModel","propagateToAllDataModels","propagateImmutableActions","addToPropNamespace","_field_store__WEBPACK_IMPORTED_MODULE_1__","_value__WEBPACK_IMPORTED_MODULE_2__","_constants__WEBPACK_IMPORTED_MODULE_4__","_field_creator__WEBPACK_IMPORTED_MODULE_5__","_default_config__WEBPACK_IMPORTED_MODULE_6__","_converter__WEBPACK_IMPORTED_MODULE_7__","_utils__WEBPACK_IMPORTED_MODULE_8__","prepareSelectionData","resp","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","return","fieldStoreName","_ref2","colIdentifier","collID","split","partialFieldMap","newFields","coll","operation","criteriaFn","derivative","op","meta","criteria","_derivation","_model$_derivation","selectFn","sourceDm","newRowDiffSet","lastInsertedValue","li","selectorHelperFn","checker","propModels","filterByMeasure","fns","dataModel","dataObj","fieldsSpace","values","v","def","include","some","every","propField","valueOf","filteredModel","clonedModel","selectConfig","cloneConfig","cloned","projField","allFields","projectionSet","filter","actualProjField","unitSchema","relation","converterFn","_converterFn","_converterFn2","nameSpace","_","child","derivation","applyExistingOperationOnModel","_getOperationArgument","selectionModel","rejectionModel","_propModel$","_propModel$2","getFilteredModel","path","len","propagateIdentifiers","propModelInf","nonTraversingModel","excludeModels","children","_applyExistingOperati","_applyExistingOperati2","propagationInf","propagateToSource","propagateInterpolatedValues","filterFn","entry","criterias","persistent","_ref3","actionCriterias","mutableActions","filteredCriteria","action","sourceActionCriterias","actionInf","actionConf","applyOnSource","models","sourceIdentifiers","inf","propagationModel","reverse","immutableActions","filterImmutableAction","criteriaModel","sourceNamespace","default","createBinnedFieldData","_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_0__","buckets","binCount","binSize","start","dataStore","binnedData","_field$domain","_field$domain2","oriMax","stops","binEnd","prevEndpoint","extraBinELm","endPoint","tempStore","unshift","a","b","dm","_len2","_key2","_len3","_key3","_len4","_key4","_len5","operations","_key5","currentDM","frstChild","derivations","addParent","dispose","_get_common_schema__WEBPACK_IMPORTED_MODULE_2__","_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_3__","_helper__WEBPACK_IMPORTED_MODULE_5__","defaultFilterFn","dm1","dm2","replaceCommonSchema","jointype","applicableFilterFn","dm1FieldStore","dm2FieldStore","dm1FieldStoreName","dm2FieldStoreName","commonSchemaList","tmpSchema","rowAdded","rowPosition","ii","tuple","userArg","cloneProvider1","cloneProvider2","dm1Fields","dm2Fields","tupleObj","cellVal","iii","_tupleObj","dataBuilder","_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_1__","_merge_sort__WEBPACK_IMPORTED_MODULE_2__","_helper__WEBPACK_IMPORTED_MODULE_3__","getSortFn","dataType","sortType","retFunc","a1","b1","groupData","hashMap","Map","groupedData","fieldVal","set","createSortingFnArg","groupedDatum","targetFields","targetFieldDetails","arg","label","sortData","sortMeta","fDetails","sortingFn","toLowerCase","pop","reqSorting","tmpDataArr","colIArr","colName","insertInd","tmpData","_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_2__","_utils_helper__WEBPACK_IMPORTED_MODULE_3__","hashTable","schemaNameArr","dm1FieldStoreFieldObj","dm2FieldStoreFieldObj","prepareDataHelper","addData","hashData","schemaName","getCommonSchema","fs1","fs2","retArr","fs1Arr","defaultReducerName","sum","fnList","allNulls","isNestedArray","sumVal","carry","x","avg","arrSum","Infinity","first","last","count","variance","mean","num","pow","std","sqrt","getFieldArr","getReducerObj","_export__WEBPACK_IMPORTED_MODULE_2__","_utils_reducer_store__WEBPACK_IMPORTED_MODULE_3__","_enums__WEBPACK_IMPORTED_MODULE_4__","dimensions","entries","pReducers","measures","reducer","_ref4","resolve","existingDataModel","sFieldArr","reducerObj","fieldStoreObj","dbName","dimensionArr","measureArr","_ref5","_ref6","rowCount","_bucket_creator__WEBPACK_IMPORTED_MODULE_0__","_compose__WEBPACK_IMPORTED_MODULE_1__","_pure_operators__WEBPACK_IMPORTED_MODULE_2__","_cross_product__WEBPACK_IMPORTED_MODULE_3__","_data_builder__WEBPACK_IMPORTED_MODULE_4__","_difference__WEBPACK_IMPORTED_MODULE_5__","_get_common_schema__WEBPACK_IMPORTED_MODULE_6__","_group_by_function__WEBPACK_IMPORTED_MODULE_7__","_group_by__WEBPACK_IMPORTED_MODULE_8__","_merge_sort__WEBPACK_IMPORTED_MODULE_9__","_natural_join_filter_function__WEBPACK_IMPORTED_MODULE_10__","_natural_join__WEBPACK_IMPORTED_MODULE_11__","_outer_join__WEBPACK_IMPORTED_MODULE_12__","_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_13__","_union__WEBPACK_IMPORTED_MODULE_14__","mergeSort","defSortFn","merge","lo","hi","sortFn","mainArr","auxArr","floor","naturalJoinFilter","_get_common_schema__WEBPACK_IMPORTED_MODULE_0__","commonSchemaArr","retainTuple","_cross_product__WEBPACK_IMPORTED_MODULE_0__","_natural_join_filter_function__WEBPACK_IMPORTED_MODULE_1__","dataModel1","dataModel2","_constants__WEBPACK_IMPORTED_MODULE_1__","_union__WEBPACK_IMPORTED_MODULE_2__","rowDiffsetIterator","rowDiffArr","diffStr","diffStsArr","end","_export__WEBPACK_IMPORTED_MODULE_0__","_helper__WEBPACK_IMPORTED_MODULE_2__","Relation","source","_fieldStoreName","getName","_fieldspace","joinWith","unionWith","differenceWith","defConfig","oDm","selectDm","rejectDm","isEmpty","linkParent","retDataModel","jsonData","rowObj","fieldConfig","_config","normalizedProjField","search","projectionClone","rejectionClone","_projectionClone","_fieldConfig","fieldDef","removeChild","sibling","parent","criteriaQueue","sd","_operator_group_by_function__WEBPACK_IMPORTED_MODULE_0__","store","convertToNativeDate","date","pad","escape","dtParams","nativeDate","TOKEN_PREFIX","DATETIME_PARAM_SEQUENCE","YEAR","MONTH","DAY","HOUR","MINUTE","SECOND","MILLISECOND","defaultNumberParser","defVal","parsedVal","isFinite","parseInt","defaultRangeParser","nVal","getTokenDefinitions","daysDef","short","long","monthsDef","definitions","H","extract","getHours","toString","hours","P","M","mins","getMinutes","S","seconds","getSeconds","K","ms","getMilliseconds","day","getDay","A","getDate","month","getMonth","B","y","substring","year","getFullYear","Y","getTokenFormalNames","HOUR_12","AMPM_UPPERCASE","AMPM_LOWERCASE","SHORT_DAY","LONG_DAY","DAY_OF_MONTH","DAY_OF_MONTH_CONSTANT_WIDTH","SHORT_MONTH","LONG_MONTH","MONTH_OF_YEAR","SHORT_YEAR","LONG_YEAR","tokenResolver","defaultResolver","targetParam","hourFormat24","hourFormat12","ampmLower","ampmUpper","amOrpm","isPM","findTokens","tokenPrefix","tokenLiterals","occurrence","forwardChar","nDate","formattedStr","formattedVal","dateTimeStamp","extractTokenValue","dtParamSeq","noBreak","dtParamArr","resolverKey","resolverParams","resolverFn","param","resolvedVal","tokenObj","lastOccurrenceIndex","occObj","occIndex","targetText","regexFormat","tokenArr","obj","occurrenceLength","extractValues","shift","extend2","_typeof","OBJECTSTRING","objectToStrFn","objectToStr","arrayToStr","checkCyclicRef","parentArr","bIndex","obj1","obj2","skipUndef","tgtArr","srcArr","srcVal","tgtVal","cRef","isObject","isString","isCallable","uniqueValues","getUniqueId","getMinDiff","isArrEqual","formatNumber","detectDataFormat","round","random","unique","diff","uniqueVals","abs","arr1","_date_time_formatter__WEBPACK_IMPORTED_MODULE_0__","_column_major__WEBPACK_IMPORTED_MODULE_1__","_domain_generator__WEBPACK_IMPORTED_MODULE_2__","_extend2__WEBPACK_IMPORTED_MODULE_3__","_helper__WEBPACK_IMPORTED_MODULE_4__","_operator__WEBPACK_IMPORTED_MODULE_0__","ReducerStore","register","__unregister","delete","reducerStore","getStore","Value","_value","ElectricNode","edges","listeners","nextFrame","currentFrame","addEdges","_edges","regListenerForCurrFrame","lstnrs","regListenerForNextFrame","hasNextFrameListener","GraphNode","qualifiedName","outgoingEdges","_seed","requireResolve","retriever","history","resolver","electricEdges","addDependencies","dep","addElectricNode","node","seed","retrieveDetails","edge","repeatHead","head","flush","hist","isRoot","_graph_node__WEBPACK_IMPORTED_MODULE_1__","_electric_node__WEBPACK_IMPORTED_MODULE_2__","Graph","qualifiedNodeMap","accumulate","_wholeSet","_propagate","propagationOverride","currentFrameListeners","nextFrameListeners","_schedule","qname","flushTarget","createNodesFrom","mount","resolveReqList","rec","objn","perv","_node","getDependencies","identity","getResolvedList","getNodeValue","prop","createElectricNodeOf","fnSpec","nodes","eNode","update","changedSet","upstreamNodes","__execUniqueElectricEdges","upstreamNode","append","cfLstnrs","nfLstnrs","differenceSet","toArray","resetPropagationOverride","resetNodeValue","qnames","stopPropagation","setPropagationOverride","getNodeFromQualifiedName","resolved","_model__WEBPACK_IMPORTED_MODULE_0__","_graph__WEBPACK_IMPORTED_MODULE_0__","_defineProperty","Model","_graph","_lockFlag","_reqQ","mountPoint","_addPropInModel","calculatedProp","_customResolver","calculationConfig","customResolver","varName","fetchFn","dependencies","instantCall","propsArr","unsub","_graph$stopPropagatio","_graph$stopPropagatio2","lock","unlock","setProp","graph","isSimpleObject","scheduler","flat","identityMap","pullableEnd","pullableRecent","splitPathProp","resolveDependencyOrder","fetch","fetchAggregator","CustomResolver","getUpstreamNodes","_set__WEBPACK_IMPORTED_MODULE_0__","minMsThreshold","win","reqAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","setTimeout","getTimeBasedId","__lastTime","__id","nFn","res","arrays","pathArr","onFinishCallback","queue","animationFrame","tempQ","namedNode","list","placedIndex","preArr","postArr","nodeDetails","resolveMap","neighbour","_dep","makeEntry","sCon","ForeignSet","_set","set1","set2","filteredKeys","s1","s2","webpackPolyfill","deprecate","paths","VIEW_INDEX","top","center","bottom","GRID_WIDTH","GRID_HEIGHT","BORDER","ROW_POINTER","COLUMN_POINTER","ROW_SIZE_IS_EQUAL","COLUMN_SIZE_IS_EQUAL","COLUMN_WIDTHS","ROW_HEIGHTS","LEFT_MATRIX_WIDTH","RIGHT_MATRIX_WIDTH","TOP_MATRIX_HEIGHT","BOTTOM_MATRIX_HEIGHT","MOUNT_POINT","LEFT_TABLE_ID","RIGHT_TABLE_ID","TOP_TABLE_ID","BOTTOM_TABLE_ID","CENTER_TABLE_ID","TOP_DIV_ID","BOTTOM_DIV_ID","CENTER_DIV_ID","HAVE_ROWS_CHANGED","HAVE_COLUMNS_CHANGED","HAVE_VALUES_CHANGED","ROW_MATRIX_WIDTH","COLUMN_MATRIX_HEIGHT","UNIT_WIDTH","UNIT_HEIGHT","STYLE","COLOR","WIDTH","COLLAPSE","SPACING","DISTRIBUTION","GUTTERSPACE","BREAK_PAGE","SHOW_ROW_BORDERS","SHOW_COL_BORDERS","SHOW_VALUE_BORDERS","HEIGHT","COLUMN","ROW","TOP","LEFT","RIGHT","BOTTOM","CENTER","CLICK","ROW_LEFT","ROW_RIGHT","COLUMN_BOTTOM","COLUMN_TOP","ROW_SPAN","COL_SPAN","ROW_ROOT","COLUMN_ROOT","PRIMARY","SECONDARY","GenericLayout","measurement","_measurement","_matrices","_dependencies","matrices","mergeRecursive","sanitizeIP","typeObj","matrix","_rowMatrix","_columnMatrix","_centerMatrix","_mountPoint","getMatrixMeasurement","getLogicalSpace","setMatrixMeasurement","spaces","setAvailableSpace","width","height","widths","heights","rIdx","placeholder","cIdx","setViewSpaces","layout","pointerType","viewSpaces","pointer","computeLayoutMeasurements","rowMatrix","columnMatrix","centerMatrix","border","rowMatrixWidth","maxRowMatrixWidth","borderWidth","columnMatrixWidth","maxColumnMatrixHeight","columnViewPages","getViewableSpaces","columnViewSpace","columnPointer","columnMatrixHeight","primary","secondary","rowMatrixHeight","rowViewableSpaces","rowHeights","rowWidthsPrimary","columnWidths","rowWidthsSecondary","columnViewableSpaces","columnHeightsPrimary","columnHeightsSecondary","getViewMatrices","rowPointer","rowMatrices","getViewableMatrices","columnMatrices","centralMatrixPointer","primaryMatrix","secondaryMatrix","rowMatrixLen","columnMatrixLen","rowPages","columnPages","getViewMeasurements","leftWidth","rightWidth","topHeight","bottomHeight","centerHeight","centerWidth","viewWidth","viewHeight","DEFAULT_CONFIGURATION","FieldNames","DEFAULT_MEASUREMENTS","BLANK_BORDERS","generateVisualMatrices","context","leftMatrix","rightMatrix","topMatrix","bottomMatrix","begColCells","endColCells","isRowSizeEqual","isColumnSizeEqual","gutterSpace","distribution","breakPage","priority","minUnitHeight","minUnitWidth","topLeft","topColumns","topRight","leftRows","valueMatrix","rightRows","bottomLeft","bottomColumns","bottomRight","RowMatrix","isDistributionEqual","gutter","unitMeasures","extraCellLengths","ColumnMatrix","isTransposed","col","GridLayout","defaultConfig","_layoutId","_viewInfo","defaultViewInfo","setViewInformation","pageNumber","pageType","viewInfo","viewMatricesInfo","totalPages","renderGrid","currentPage","layoutDimensions","renderMatrices","defaultMeasurement","renderTable","className","rowData","table","makeElement","body","cells","show","rowIndex","id","applyRowBorders","borderStyle","showBorders","color","borderType","style","applyColBorders","applyBorders","showRowBorders","showColBorders","showValueBorders","renderMatrix","classPrefix","containerForMatrix","classed","cellSpanMaker","viewMatrix","spans","attr","cell","colIndex","span","selectElement","availHeight","availWidth","each","render","exit","remove","ceil","columnFilter","previousRow","currentRow","prevCell","nextRow","prevRow","calcRowSpan","isNull","calcColSpan","mask","filteredRow","temp","ridx","currSpan","nest","Symbols","getMeasureInfo","firstMeasure","secondMeasure","findInPage","page","combineMatrices","joinedMatrix","createTree","matrixTree","lastLevelKey","facet","nestFn","layoutMatrix","_layoutMatrix","keyLength","counter","primaryMatrixLength","newMatrix","tree","getMinMeasures","minMeasures","maxMeasure","firstMeasureValue","secondMeasureValue","valueArray","fMeasure","sMeasure","space","computeLogicalSpace","maxMeasures","logicalSpace","valueItem","spaceTakenByRow","spaceTakenByColumn","createMatrixEachLevel","eachLevel","breakMatrix","breakPointer","columnIndex","getDistributedWidth","layoutConfig","availableWidth","distSum","distWidth","rowLen","getDistributedHeight","gutterSum","heightWithoutGutter","availableHeight","colLen","distHeight","extraCellsRemover","beg","createMatrixInstances","depth","matrixInfo","_breakPointer","brokenMatrix","nextLevel","ColumnVisualMatrix","_tree","_logicalSpace","maxHeights","maxWidths","viewableMatrix","matrixInst","cellDimOptions","matrixIndex","getCellDimensions","heightMeasures","columnMeasures","begCellLen","endCellLen","remainaingHeight","heightDist","conditions","divider","widthMeasures","availableSpace","mWidth","mHeight","redistributeViewSpaces","computeViewableSpaces","rHeights","_lastLevelKey","cWidths","oldLogicalSpace","heightDistribution","getPriorityDistribution","colHeight","colWidth","VisualMatrix","PROPS","sanitization","RowVisualMatrix","remainaingAvailWidth","remainaingWidth","maxPrioritySpace","currentWidth","maxWidth","dist","prioritySpace","logicalWidths","_primaryMatrix","_secondaryMatrix","_maxMeasures","_availableSpace","generateGetterSetters","defCon","ERROR_MSG","INTERFACE_IMPL","populateMaxMeasures","calculateDepth","createViewPortMatrix","viewableMeasures","redistributeSpaces","childDepth","removeExtraCells","rotateAxis","tickText","labelManager","rotation","axis","renderConfig","smartTicks","ticks","scale","orientation","fixedBaseline","labels","tickSize","getTickSize","yShift","xShift","tickFormatter","tickFormat","tickLabelDim","getOriSize","quadrant","rotationNormalizer","sin","angleToRadian","AxisOrientation","LINEAR","transition","duration","changeTickOrientation","selectContainer","axisInstance","_smartTicks","isSmartTicks","selectAll","tspan","lines","oriTextHeight","setFixedBaseline","setAxisNamePos","textNode","axisNameHeight","yOffset","labelOffset","renderAxis","_axisNameStyle","_tickLabelStyle","tickValues","xOffset","axisNamePadding","showAxisName","setStyle","labelFunc","quantile","labelProps","axisComponentDimensions","largestTickDimensions","HIDDEN","axisNameSpace","axisNameWidth","BandAxis","padding","isOffset","labelConfig","spaceSetter","band","setTickConfig","smartlabel","maxTickSpaces","noWrap","getRotatedSpaces","useEllipsesOnOverflow","getSmartText","textToLines","calculateBandSpace","setOffset","bandwidth","showInnerTicks","showOuterTicks","tickSizeInner","tickSizeOuter","invert","BAND","SimpleAxis","interpolatorMap","LOG","LogInterpolator","POW","PowInterpolator","LinearInterpolator","ContinousAxis","base","interpolator","exponent","InterpolatorCls","_interpolator","createScale","nice","domainVal","getScaleValue","setContinousAxisDomain","setAxisComponentDimensions","_domain","continous","getTickValues","labelDim","getNumberOfTicks","getSmallestDiff","allTickDimensions","tickTransform","axisName","defClassName","CLASSPREFIX","numberOfTicks","rotate","rotatedHeight","rotatedWidth","angle","PI","cos","tickLength","numberOfValues","getAxisComponentDimensions","largestTick","smartTick","axisTicks","originalLabel","getFormattedText","tickDimensions","axisNameDimensions","computeAxisDimensions","labelHeight","labelWidth","getHorizontalAxisSpace","axisDimensions","axisDimHeight","tickDimHeight","tickDimWidth","minTickDiff","getMinTickDifference","_minTickDistance","getVerticalAxisSpace","getAxisDimensions","largestDimHeight","minTickWidth","calculateContinousSpace","axisWidth","effHeight","userDom","scaleFactory","scaleMap","linear","_scale","log","oldConfig","createAxis","_renderConfig","_id","_mount","_range","_domainLock","_axisDimensions","simpleConfig","bodyElem","getSmartComputedStyle","_minTickSpace","_axis","dom","axisClass","axisOrientationMap","getTickFormatter","v1","v2","p1","p2","extent","invertExtent","setAxisRange","rangeBounds","offset","getAxisOffset","timeDiff","pvr","avWidth","bars","barWidth","adjustRange","spaceConfig","tickInterval","heightForTicks","left","right","namePadding","minTickDistance","minTickSpace","_minDiff","time","tickShifter","widthForTicks","interval","baseline","totalTickWidth","TimeAxis","TIME","ColorAxis","_domainType","CONTINOUS","DISCRETE","_rangeType","step","_schemeType","getSchemeType","_colorStrategy","setColorStrategy","updateDomain","colorStrategy","getScheme","domainType","rangeType","schemeType","strategyGetter","hslColorArray","getHslString","getRawColor","lastIndexOf","rgbToHsv","domainRangeFn","domainRange","scaleInfo","scaleDomain","transformationArr","h","newH","newS","newL","newA","hsla","DEFAULT_CONFIG","x11Colors","Pink","hex","rgb","LightPink","HotPink","DeepPink","PaleVioletRed","MediumVioletRed","LightSalmon","Salmon","DarkSalmon","LightCoral","IndianRed","Crimson","FireBrick","DarkRed","Red","OrangeRed","Tomato","Coral","DarkOrange","Orange","Gold","Yellow","LightYellow","LemonChiffon","LightGoldenrodYellow","PapayaWhip","Moccasin","PeachPuff","PaleGoldenrod","Khaki","DarkKhaki","Cornsilk","BlanchedAlmond","Bisque","NavajoWhite","Wheat","BurlyWood","Tan","RosyBrown","SandyBrown","Goldenrod","DarkGoldenrod","Peru","Chocolate","SaddleBrown","Sienna","Brown","Maroon","DarkOliveGreen","Olive","OliveDrab","YellowGreen","LimeGreen","Lime","LawnGreen","Chartreuse","GreenYellow","SpringGreen","MediumSpringGreen","LightGreen","PaleGreen","DarkSeaGreen","MediumSeaGreen","SeaGreen","ForestGreen","Green","DarkGreen","MediumAquamarine","Aqua","Cyan","LightCyan","PaleTurquoise","Aquamarine","Turquoise","MediumTurquoise","DarkTurquoise","LightSeaGreen","CadetBlue","DarkCyan","Teal","LightSteelBlue","PowderBlue","LightBlue","SkyBlue","LightSkyBlue","DeepSkyBlue","DodgerBlue","CornflowerBlue","SteelBlue","RoyalBlue","Blue","MediumBlue","DarkBlue","Navy","MidnightBlue","Lavender","Thistle","Plum","Violet","Orchid","Fuchsia","Magenta","MediumOrchid","MediumPurple","BlueViolet","DarkViolet","DarkOrchid","DarkMagenta","Purple","Indigo","DarkSlateBlue","SlateBlue","MediumSlateBlue","White","Snow","Honeydew","MintCream","Azure","AliceBlue","GhostWhite","WhiteSmoke","Seashell","Beige","OldLace","FloralWhite","Ivory","AntiqueWhite","Linen","LavenderBlush","MistyRose","Gainsboro","LightGray","Silver","DarkGrey","Grey","DimGrey","LightSlateGrey","SlateGrey","DarkSlateGrey","Black","getStops","newStops","numberInterpolator","rangeStops","newStopsLength","newRange","maxRangeLength","piecewiseInterpolator","hslInterpolator","indexedDomain","retDomain","indexedDomainMeasure","normalDomain","steppedDomain","continousSteppedDomain","hslRange","uniqueRange","domainValue","numVal","indexedRange","normalRange","strategies","SEQUENTIAL","ORDINAL","QUANTILE","palette","DEFAULT_GRADIENT_COLOR","hslArr","convertToXllString","baseString","charAt","toUpperCase","getActualHslColor","paletteColor","detectColor","HSL","HSLA","HEX","hexToHsv","RGB","newConfig","DATA_TYPES","dataTypeScaleMap","ScaleType","axisLeft","axisBottom","axisRight","axisTop","THRESHOLD","QUANTIZE","SHAPE","SIZE","DOMAIN","NUMBER","IDENTITY","scaleLinear","scales","scaleThreshold","scaleLog","scalePow","scaleIdentity","scaleOrdinal","scaleSequential","scaleQuantize","scaleQuantile","schemeCategory10","schemeCategory20","schemeCategory20b","scaleBand","scaleTime","SCHEMES","SCHEME1","SCHEME2","SCHEME3","scheme","colorSchemes","updateScaleRange","getScaleType","steps","generator","shapeGenerator","generatorFn","generatedShapes","ShapeAxis","_generatedShapes","shapeType","getSymbol","SizeAxis","_sizeStrategy","setStrategy","strategy","sizeVal","domainFn","domainInfo","intervals","newIntervals","discreteRange","pieceWiseRange","BrushBehaviour","BEHAVIOURNAMES","VolatileBehaviour","FilterBehaviour","FILTER","GenericBehaviour","firebolt","_enabled","formalName","selectionSets","getSelectionSets","getAddSetFromCriteria","getPropagationInf","filteredDataModel","entryExitSets","selectionSet","setSelectionSet","getEntryExitSet","getSets","entrySet","exitSet","completeSet","getFullData","setConfig","isSourceFieldPresent","propagationData","getSetInfo","mergedEnter","getMergedSet","mergedExit","getSourceFields","sourceSelectionSet","_volatile","HighlightBehaviour","HIGHLIGHT","PersistentBehaviour","addSet","reset","existingAddSet","SELECTION","updateExit","updateEntry","mergedExitSet","completeSetCount","getCompleteSet","SelectBehaviour","click","targetEl","behaviours","dispatchBehaviour","event","getEvent","generatePayloadFromEvent","beh","drag","attachDragEvent","getDragActionConfig","sourceInfo","axes","xAxis","yAxis","axisFields","xField","getMembers","yField","xFieldType","yFieldType","stPos","startPos","endPos","dragDim","isXDimension","isYDimension","xRange","yRange","selectedDomains","rangeObj","xdom","ydom","snap","getNearestRange","touch","drawingInf","d3Drag","getD3Drag","touchStart","getDrawingContext","getSourceInfo","dragEnd","pos","getClientPoint","svgContainer","touches","nearestPoint","getNearestPoint","showInPosition","position","hover","tooltipConf","interaction","tooltip","getAllPoints","CONSOLIDATED","FRAGMENTED","physicalActions","ACTIONNAMES","longtouch","touchdrag","touchEnd","selectionBoxDrag","subject","onDrag","dx","dy","y2","x2","behaviourEffectMap","BEHAVIOURS","DRAG","HOVER","SELECTIONDRAG","LONGTOUCH","TOUCHDRAG","ALL_ACTIONS","BRUSH","TOOLTIP","SELECTION_NEW_ENTRY","SELECTION_NEW_EXIT","SELECTION_NULL","SELECTION_OLD_ENTRY","SELECTION_OLD_EXIT","Firebolt","actions","sideEffects","_sideEffectDefinitions","_sideEffects","_propagationInf","_actions","behavioural","physical","_selectionSet","_volatileSelectionSet","_propagationFields","_sourceSideEffects","selectionBox","_propagationBehaviourMap","_sourceBehaviours","_actionBehaviourMap","_behaviourEffectMap","_entryExitSet","_actionHistory","_queuedSideEffects","mapSideEffects","registerBehaviouralActions","registerSideEffects","registerPhysicalBehaviouralMap","physicalBehaviouralMap","registerPhysicalActions","behEffectMap","preventDefaultActions","effectNames","effects","initializeBehaviouralActions","prepareSelectionSets","initializeSideEffects","sideEffectStore","actionHistory","queuedSideEffects","sideEffect","combinedSet","unionSets","effect","sideEffectInstance","isEnabled","mutates","dispatchSideEffect","disable","behaviour","propagationInfo","behaviouralActions","getSideEffects","dispatch","propagationSelectionSet","getPropagationSelectionSet","shouldApplySideEffects","applicableSideEffects","getApplicableSideEffects","applySideEffects","changeSideEffectAvailability","physicalAction","actionBehaviourMap","behaviourMap","onDataModelPropagation","propValue","uniqueIds","volatileSelectionSet","SelectionSet","sideEffectDefinitions","initedActions","initializePhysicalActions","initedPhysicalActions","mapObj","getDefaultTargetContainer","hasTouch","bindActionWithBehaviour","targets","behaviourList","empty","getDataModelFromIdentifiers","xFields","yFields","xMeasures","yMeasures","propagationSource","applicableSelectionSets","_resetted","sideEffectsMap","SideEffect","sideEffectConf","dispatchableBehaviours","Action","toEnable","change","enable","sourceFields","conditionsMap","newEntry","oldEntry","newExit","oldExit","complete","getModelFromSet","condition","resetted","found","entryExitSet","existingModel","_completeSetCount","_lockedSelection","ids","lockedSel","removeSet","updateSet","addLayer","layerDefs","layerRegistry","layers","layerDef","mark","layerCls","shouldDrawAnchors","depLayerEncoding","encoding","getObjProp","size","defaultSizeValue","layerObj","instances","transform","getTransitionConfig","calculateDomain","interactive","linkedLayer","AnchorEffect","_layersMap","addAnchorLayers","metaInf","registry","layerDefsVal","registerImmediateListener","STATE_NAMESPACES","UNIT_LOCAL_NAMESPACE","namespace","_layers","disabled","drawingContext","sideEffectGroup","parentGroup","createElement","anchorGroups","layer","elems","getLayerByName","getTransformedDataFromIdentifiers","transformedData","transformedDataModel","SpawnableSideEffect","BrushAnchors","Crossline","bandWidth","px","bandClass","lineClass","hide","sourceInf","elemData","dataArr","axisIndex","fieldInst","getUnitWidth","plotWidth","getPlotSpan","getPlotPadding","startPx","endPx","dataPoint","FilterEffect","entryModel","clearCaching","resetData","enableCaching","SurrogateSideEffect","GenericSideEffect","_strategy","_strategies","spaceOutBoxes","boxes","showVertically","spaceOutIfOverlap","firstBox","secondBox","opposite","PersistentAnchors","PlotHighlighter","fadeFn","applyInteractionStyle","fade","focus","highlight","getBoxDimensionsFromPayload","x1","y1","direction","xDim","yDim","xLinear","yLinear","xCriteria","yCriteria","bandScale","x1Val","x2Val","x1DomainIndex","x2DomainIndex","y1Val","y2Val","y1DomainIndex","y2DomainIndex","dimension","changeVisibility","visible","SelectionBox","boxConf","box","unitWidth","unitHeight","selectionGroupClassName","points","selectionGroup","selection","enter","attrs","element","isValidValue","boxClassName","getQualifiedClassName","container","elemType","callbacks","_drawingContext","interactionType","Tooltip","_tooltips","totalHeight","totalWidth","tooltips","boundBox","dataModels","fragmented","xFieldDim","tooltipPos","indices","plotDimensions","getPlotPointsFromIdentifiers","getBBox","plotDim","dt","dataTransform","layoutContainer","parentContainer","layoutBoundBox","getBoundingClientRect","unitBoundBox","htmlContainer","offsetLeft","offsetTop","tooltipInst","TooltipRenderer","detailFields","timeDiffs","timeDiffsByField","content","positionRelativeTo","_position","tooltipBoundBox","_tooltipContainer","getContents","repositionArrow","showSelectedItems","aggregatedModel","fieldsConf","measureNames","toFixed","IDFIELD","CONFIG","DATAMODEL","AXES","LAYERDEFS","MOUNTPOINT","GRIDLINEPARENTGROUPCLASS","TRANSFORM","DEFAULTCOLOR","DEFAULTSIZE","DEFAULTSHAPE","STEP","GRADIENT","SCALE_FUNCTIONS","shape","HORIZONTAL","VERTICAL","VALUE","PATH","ICON","RECT","START","UPPER","LOWER","END","SELECTIONBOX","Highlighter","ACTIONS","propagationBehaviourMap","propagationSideEffects","existingRemoveSet","metaData","fieldType","propPayload","sourceCanvas","canvasAlias","check","getDataModelFromRange","assembleModelFromIdentifiers","LegendFireBolt","behaviourName","getCriteriaFromData","boundingBox","gradientDimensions","axisType","align","axisScale","rangeShifter","getSelectionCriteria","selectionBoxMeasure","drawingInfMeasure","subjectStartPoint","getMousePos","sourceEvent","fadeOut","LegendHighlighter","brighten","gradientDimension","legendGradContainer","legendSelGroup","enterFn","el","selBox","ALIGN","DEFAULT_MEASUREMENT","maxHeight","margin","LEGEND_TITLE","borderColor","bounds","lower","upper","icon","ICON_MAP","DiscreteLegend","getScaleInfo","scaleType","scaleFn","domainForLegend","ele","nextVal","legendContainer","createLegendSkeleton","legendItem","createItemSkeleton","itemSkeleton","renderDiscreteItem","mapActionsAndBehaviour","createSelectionSet","SimpleLegend","getGradientDomain","accumulator","currentValue","MAX_VALUE","MIN_VALUE","makeLinearGradient","defs","linearGradient","AxisCell","_cells","newAxis","_computedStyle","_labelManager","legendGradSvg","legendGradCont","legendRect","renderGradient","gradHeight","gradWidth","titleSpaces","applyStyle","fill","_legendGradientSvg","GradientLegend","getInterpolatedData","getScaleFactor","effPadding","axisSpace","axisDomainLength","labelSpaces","interpolatedFn","titleCreator","title","titleContainer","getMaxMeasures","getItemMeasures","computeItemSpaces","maxItemSpaces","titleWidth","titleHeight","textOrientation","itemSpaces","iconSpaces","maxIconWidth","labelSpace","itemSpace","iconSpace","getDomainBounds","domainBounds","domainLeg","legendOrientation","datasets","itemContainerMeasures","getStepSpacesInfo","iconHeight","iconWidth","stepPadding","horizontal","vertical","positionConfig","alignmentMap","stepData","itemStack","resetLogicalSpace","commit","_title","getItemContainers","legendInstance","positionObj","maxGradHeight","maxGradWidth","legendBody","stack","alignClass","applyItemStyle","measureType","stepColorCheck","checkPath","createShape","defaultIcon","groupElement","Promise","then","Element","newShape","cloneNode","nodeName","src","href","document","createElementNS","setAttribute","shapeElement","appendChild","pathStr","getLegendIcon","renderIcon","svg","group","renderStepItem","_data","_metaData","_fieldName","_firebolt","legendBehaviours","_canvasAlias","effBorder","effMargin","dataFromScale","titleSpace","getTitleSpace","getLabelSpaces","renderTitle","StepLegend","lowerBounds","upperBounds","ARROW_RIGHT","ARROW_TOP","ARROW_BOTTOM","ARROW_LEFT","TOOLTIP_LEFT","TOOLTIP_RIGHT","TOOLTIP_BOTTOM","TOOLTIP_TOP","INITIAL_STYLE","Content","_model","DEFAULT_STRATEGY","_formatter","ctx","_context","iconContainerSize","rowMargin","html","displayFormat","tbody","setStyles","display","spacing","setAttrs","connectorClassName","iconScale","iconShape","iconColor","separator","parentClassName","arrow","getArrowPos","orient","dim","arrowPos","boxHeight","boxWidth","arrowDisabled","arrowWidth","plotBottom","boxBottom","plotRight","boxRight","placeArrow","tooltipArrow","_tooltipArrow","tooltipBackground","_tooltipBackground","arrowConf","_arrowOrientation","reorderContainers","timeFormats","millisecond","second","minute","hour","timeDurations","getNearestInterval","getClosestIndexOf","defaultTooltipFormatters","formatters","nearestInterval","getTabularData","fieldspace","fieldObj","formatterFn","buildTooltipData","fieldValues","dimensionMeasureMap","containsDetailField","dataLen","getRowContent","formattedValue","measureIndex","colorAxis","shapeAxis","sizeAxis","isRetinalField","associatedMeasures","getColor","getShape","getSize","measure","allMeasures","filteredMeasures","keyValue","connectorContainer","contentClass","_container","_contentContainer","_contents","_tooltipConnectorContainer","qualifiedClassName","addClass","defConf","contentConfig","contentConf","clear","conf","_target","arrowOrient","outsidePlot","offsetHeight","offsetWidth","connector","_offset","_extent","arrowSize","draw","topSpace","dimX","rightSpace","leftSpace","positionTop","positionRight","positionLeft","positionHorizontal","positionVertical","_arrowPos","array","NaN","ascendingBisect","bisector","ascending","bisectRight","bisectLeft","compare","ascendingComparator","values0","values1","n0","n1","i0","i1","value0","pair","valueof","threshold","sturges","histogram","xz","x0","tz","tickStep","bisect","constant","thresholds","number","numbers","merged","pairs","indexes","permutes","value1","stop","xi","xj","deviation","LN2","e10","e5","e2","tickIncrement","power","LN10","error","step0","step1","transpose","delta","epsilon","translateX","translateY","entering","__axis","tickArguments","tickPadding","k","range0","range1","copy","tick","tickExit","tickEnter","line","insert","getAttribute","parentNode","prefix","sortKeys","sortValues","rollup","createResult","setResult","valuesByKey","result","sortKey","createObject","setObject","createMap","setMap","proto","Color","darker","brighter","reI","reN","reP","reHex3","reHex6","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","displayable","exec","Rgb","rgbn","rgba","g","rgbConvert","opacity","extend","Hsl","hslConvert","hsl","m2","m1","hsl2rgb","C","D","E","ED","EB","BC_DA","cubehelixConvert","Cubehelix","bl","atan2","rad2deg","cubehelix","deg2rad","cosh","sinh","definition","Xn","Yn","Zn","t0","t1","t2","t3","labConvert","Lab","Hcl","rgb2lrgb","xyz2lab","z","lab","lab2xyz","lrgb2rgb","hclConvert","lch","hcl","noop","Dispatch","parseTypenames","typenames","types","typename","T","that","defaultFilter","button","defaultContainer","defaultSubject","defaultTouchable","touchable","gestures","active","mousedownx","mousedowny","mousemoving","touchending","clickDistance2","mousedowned","touchstarted","touchmoved","touchended","gesture","beforestart","mouse","view","mousemoved","mouseupped","nodrag","nopropagation","clientX","clientY","noevent","yesdrag","changedTouches","identifier","clearTimeout","point","sublisteners","customEvent","DragEvent","p0","clickDistance","documentElement","__noselect","MozUserSelect","noclick","stopImmediatePropagation","preventDefault","overshoot","backIn","custom","backOut","backInOut","b2","b3","b4","b5","b6","b7","b8","b9","b0","bounceIn","bounceOut","bounceInOut","circleIn","circleOut","circleInOut","cubicIn","cubicOut","cubicInOut","tau","amplitude","period","elasticIn","asin","elasticOut","elasticInOut","expIn","expOut","expInOut","polyIn","polyOut","polyInOut","quadIn","quadOut","quadInOut","pi","halfPi","sinIn","sinOut","sinInOut","locale","formatPrefix","defaultLocale","decimal","thousands","grouping","currency","formatLocale","formatDecimal","toExponential","coefficient","numerals","prefixExponent","re","formatSpecifier","specifier","FormatSpecifier","sign","symbol","zero","comma","precision","out","toPrecision","formatRounded","formatPrefixAuto","prefixes","formatGroup","formatNumerals","percent","newFormat","formatTypes","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","formatTrim","nb","na","basis","v0","v3","exponential","hue","gamma","nogamma","cubehelixGamma","colorCubehelix","cubehelixLong","setTime","colorHcl","hclLong","colorHsl","hslLong","colorLab","piecewise","interpolate","samples","rgbGamma","colorRgb","rgbSpline","spline","colors","rgbBasis","rgbBasisClosed","basisClosed","reA","reB","one","bi","lastIndex","am","bm","bs","q","degrees","skewX","scaleX","scaleY","atan","interpolateTransform","pxComma","pxParen","degParen","translate","xa","ya","xb","yb","interpolateTransformCss","parseCss","interpolateTransformSvg","parseSvg","cssNode","cssRoot","cssView","svgNode","defaultView","getComputedStyle","getPropertyValue","decompose","baseVal","consolidate","string","rho","SQRT2","rho2","rho4","epsilon2","exp","tanh","ux0","uy0","w0","ux1","uy1","w1","d2","d1","r0","r1","coshr0","u","tauEpsilon","Path","_x0","_y0","_x1","_y1","moveTo","closePath","lineTo","quadraticCurveTo","bezierCurveTo","arcTo","y0","x21","y21","x01","y01","l01_2","x20","y20","l21_2","l20_2","l21","l01","acos","t01","t21","arc","a0","ccw","cw","da","rect","w","ramp","interpolateRgbBasis","interpolateCubehelixLong","warm","cool","ts","pi_1_3","pi_2_3","magma","inferno","plasma","ordinal","unknown","ordinalRange","paddingInner","paddingOuter","rescale","sequence","rangeRound","hiIndex","pointish","side","low","arrLen","high","highVal","deinterpolateLinear","deinterpolateClamp","deinterpolate","reinterpolateClamp","reinterpolate","bimap","d0","polymap","clamp","continuous","interpolateValue","output","input","interpolateRound","linearish","pow10","powp","logp","log10","log2","reflect","logs","pows","implicit","raise","quantiles","quantize","rainbow","sequential","precisionPrefix","precisionRound","precisionFixed","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","durationYear","calendar","week","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","formatYear","tickIntervals","timeYear","timeMonth","timeWeek","timeDay","timeHour","timeMinute","timeSecond","timeMillisecond","timeFormat","utcYear","utcMonth","utcWeek","utcDay","utcHour","utcMinute","utcSecond","utcMillisecond","utcFormat","UTC","creator","creatorInherit","ownerDocument","uri","namespaceURI","xhtml","creatorFixed","fullname","local","nextId","Local","matcher","selector","matches","vendorMatches","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","oMatchesSelector","namespaces","xlink","xml","xmlns","ownerSVGElement","createSVGPoint","matrixTransform","getScreenCTM","inverse","clientLeft","clientTop","Selection","querySelector","querySelectorAll","attrRemove","removeAttribute","attrRemoveNS","removeAttributeNS","attrConstant","attrConstantNS","setAttributeNS","attrFunction","attrFunctionNS","getAttributeNS","classArray","classList","ClassList","_names","contains","classedAdd","names","classedRemove","classedTrue","classedFalse","classedFunction","selection_cloneShallow","insertBefore","nextSibling","selection_cloneDeep","deep","keyPrefix","bindIndex","groupLength","dataLength","__data__","EnterNode","bindKey","nodeByKeyValue","keyValues","parents","_parents","groups","_groups","enterGroup","updateGroup","exitGroup","previous","_next","_enter","_exit","dispatchEvent","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","sparse","subgroups","subgroup","htmlRemove","innerHTML","htmlConstant","htmlFunction","selection_select","selection_selectAll","selection_filter","selection_data","selection_enter","selection_exit","selection_merge","selection_order","selection_sort","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","selection_attr","selection_style","selection_property","selection_classed","selection_text","selection_html","selection_raise","selection_lower","selection_append","selection_insert","selection_remove","selection_clone","selection_datum","selection_on","selection_dispatch","constantNull","before","previousSibling","firstChild","groups0","groups1","m0","merges","group0","group1","filterEvents","mouseenter","mouseleave","filterContextListener","listener","contextListener","related","relatedTarget","compareDocumentPosition","event1","event0","onRemove","__on","removeEventListener","capture","onAdd","wrap","addEventListener","propertyRemove","propertyConstant","propertyFunction","subnode","selectorAll","compareNode","sortgroups","sortgroup","styleRemove","removeProperty","styleConstant","setProperty","styleFunction","styleValue","textRemove","textContent","textConstant","textFunction","none","current","arcInnerRadius","innerRadius","arcOuterRadius","outerRadius","arcStartAngle","startAngle","arcEndAngle","endAngle","arcPadAngle","padAngle","intersect","x3","y3","x10","y10","x32","y32","cornerTangents","rc","ox","oy","x11","y11","x00","y00","cx0","cy0","cx1","cy1","dx0","dy0","dx1","dy1","cx","cy","cornerRadius","padRadius","buffer","a01","a11","a00","a10","da0","da1","ap","rp","rc0","rc1","oc","ax","ay","bx","by","kc","lc","centroid","pointX","pointY","defined","curve","curveLinear","area","defined0","x0z","y0z","areaStart","lineStart","lineEnd","areaEnd","arealine","lineX0","lineY0","lineY1","lineX1","curveRadialLinear","radius","lineStartAngle","lineRadial","lineEndAngle","lineInnerRadius","lineOuterRadius","curveRadial","_curve","Basis","_line","_point","BasisClosed","_x2","_x3","_x4","_y2","_y3","_y4","BasisOpen","Bundle","beta","_basis","_beta","_x","_y","bundle","_k","Cardinal","tension","cardinal","CardinalClosed","_x5","_y5","CardinalOpen","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","alpha","_alpha","x23","y23","catmullRom","CatmullRomClosed","CatmullRomOpen","Linear","LinearClosed","slope3","h0","h1","s0","slope2","MonotoneX","_t0","MonotoneY","ReflectContext","monotoneX","monotoneY","Natural","controlPoints","py","Radial","radial","Step","_t","stepBefore","stepAfter","linkSource","linkTarget","link","argv","curveHorizontal","curveVertical","pointRadial","p3","linkHorizontal","linkVertical","linkRadial","series","yp","yn","si","sij0","sij1","s3","sk","skj0","skj1","sums","tops","bottoms","descending","pie","arcs","pa","stackValue","orderNone","offsetNone","kz","sz","oz","ki","sij","symbols","circle","cross","diamond","square","star","triangle","wye","tan30","tan30_2","ka","kr","kx","ky","sqrt3","timeParse","utcParse","dateTime","periods","days","shortDays","months","shortMonths","isoSpecifier","formatIsoNative","toISOString","formatIso","parseIsoNative","parseIso","localDate","L","setFullYear","utcDate","setUTCFullYear","newYear","locale_dateTime","locale_date","locale_time","locale_periods","locale_weekdays","locale_shortWeekdays","locale_months","locale_shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatShortWeekday","formatWeekday","formatShortMonth","formatDayOfMonth","formatMicroseconds","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatPeriod","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCPeriod","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseShortWeekday","parseWeekday","parseShortMonth","parseMonth","parseLocaleDateTime","parseDayOfMonth","parseMicroseconds","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parsePeriod","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseLocaleDate","parseLocaleTime","parseYear","parseFullYear","parseZone","parseLiteralPercent","X","pads","newParse","newDate","parseSpecifier","Q","V","getUTCDay","utcMonday","getUTCFullYear","getUTCMonth","getUTCDate","timeMonday","W","U","Z","getUTCHours","numberRe","percentRe","requoteRe","requote","timeSunday","timeThursday","getTimezoneOffset","getUTCMilliseconds","getUTCMinutes","getUTCSeconds","dow","utcSunday","utcThursday","setHours","setDate","newInterval","floori","offseti","milliseconds","minutes","setMonth","setUTCHours","setUTCDate","utcDays","setUTCMinutes","utcHours","setUTCSeconds","utcMinutes","setUTCMonth","utcMonths","utcWeekday","utcTuesday","utcWednesday","utcFriday","utcSaturday","utcSundays","utcMondays","utcTuesdays","utcWednesdays","utcThursdays","utcFridays","utcSaturdays","utcYears","weekday","sunday","monday","tuesday","wednesday","thursday","friday","saturday","sundays","mondays","tuesdays","wednesdays","thursdays","fridays","saturdays","years","delay","Timer","total","restart","now","elapsed","frame","timeout","pokeDelay","taskHead","taskTail","clockLast","clockNow","clockSkew","clock","performance","setFrame","clearNow","_call","_time","timer","sleep","timerFlush","wake","nap","poke","clearInterval","setInterval","schedules","__transition","schedule","state","SCHEDULED","Transition","STARTING","ENDING","ENDED","interrupt","selection_interrupt","selection_transition","defaultTiming","ease","easeCubicInOut","inherit","timing","_name","newId","value00","interpolate0","value10","attrTween","tweenValue","attrTweenNS","tween","delayFunction","init","delayConstant","durationFunction","durationConstant","easeConstant","selection_prototype","transition_select","transition_selectAll","transition_filter","transition_merge","transition_selection","transition_transition","transition_on","transition_attr","transition_attrTween","transition_style","styleTween","transition_styleTween","transition_text","transition_remove","transition_tween","transition_delay","transition_duration","transition_ease","interpolateNumber","interpolateRgb","interpolateString","onFunction","on0","on1","sit","removeFunction","emptyOn","emptyTween","CREATED","STARTED","RUNNING","styleRemoveEnd","id0","id1","tweenRemove","tween0","tween1","tweenFunction","beachPool","Beach","RedBlackNode","site","createBeach","beach","detachBeach","detachCircle","beaches","removeBeach","vertex","disappearing","lArc","rArc","nArcs","iArc","setEdgeEnd","createEdge","attachCircle","addBeach","directrix","dxl","dxr","leftBreakPoint","rightBreakPoint","R","createCell","newArc","lSite","rSite","hb","hc","rfocx","rfocy","pby2","lfocx","lfocy","plby2","hl","aby2","halfedges","cellHalfedgeAngle","va","vb","cellHalfedgeStart","cellHalfedgeEnd","sortCellHalfedges","clipCells","nCells","iCell","iHalfedge","nHalfedges","startX","startY","endX","endY","cover","createBorderEdge","dc","v00","v01","v11","v10","circlePool","firstCircle","Circle","cSite","ha","circles","triangleArea","lexicographic","Diagram","sites","RedBlackTree","clipEdges","polygons","polygon","triangles","e1","links","_found","vx","vy","clipEdge","connectEdge","lx","ly","rx","ry","fx","fy","fm","fb","after","grandpa","uncle","RedBlackFirst","RedBlackRotateLeft","RedBlackRotateRight","voronoi","_interopRequireDefault","_lib","require","_lib2","_containerManager","_containerManager2","slLib","doc","BLANK","htmlSplCharSpace","documentSupport","getDocumentSupport","SVG_BBOX_CORRECTION","isWebKit","SmartLabelManager","useEllipses","wrapper","prevInstance","isBrowserLess","maxCacheLimit","maxDefaultCacheLimit","getElementById","createContainer","testStrAvg","isHeadLess","isIE","parentContainerStyle","_showNoEllipses","_init","_calCharDimWithCache","calculateDifference","csArr","tw","twi","cachedStyle","asymmetricDifference","maxAdvancedCacheLimit","cache","_advancedCache","advancedCacheKey","_advancedCacheKey","cacheName","fontSize","fontFamily","fontWeight","fontStyle","cacheInitName","repeat","_getWidthFn","contObj","_containerObj","svgText","bbox","sCont","_styleNotSet","setLineHeight","_cache","charCache","_lineHeight","lineHeight","trimStr","tempArr","tmpText","maxWidthWithEll","toolText","oriWidth","oriHeight","newCharIndex","nearestChar","tempChar","getWidth","initialLeft","initialTop","getOriSizeImproveObj","spanArr","minWidth","chr","elemRightMostPoint","elemLowestPoint","lastBR","removeFromIndex","removeFromIndexForEllipses","hasHTMLTag","maxStrWidth","lastDash","lastSpace","lastIndexBroken","strWidth","strHeight","oriTextArr","ellipsesStr","ellipsesWidth","dotWidth","characterArr","dashIndex","spaceIndex","lastLineBreak","fastTrim","ws","smartLabel","oriTextWidth","oriText","isTruncated","xmlTagRegEx","ltgtRegex","substr","getNearestBreakIndex","detailObj","tooltext","spanAdditionRegx","spanAdditionReplacer","classNameWithTag","classNameWithTagBR","childRetriverFn","childRetriverString","noClassTesting","classNameReg","spaceIdx","dashIdx","classNameBrReg","spanRemovalRegx","detailedCalculationFlag","textArr","letter","lSize","cumulativeSize","indiSizeStore","ContainerManager","maxContainers","containers","rootNode","svgRoot","containerObj","keyStr","supportedStyle","prev","removeContainer","addContainer","avgCharWidth","hasSVG","cObj","lib","nav","navigator","userAgent","DIV","containerInstanceCount","clsNameSpace","containerClass","brReplaceRegex","whiteSpace","overflow","font","getElementsByClassName","opera","Boolean","SVGAngle","implementation","hasFeature","containerParent","getElementsByTagName","sl","charLen","increment","avgWidth","styleObj","fSize","DataObject","dataSelect","_idMap","_mode","_enterdata","_exitdata","newData","idGetter","_idGetter","tempMap","purgedIds","purged","startIdx","HTMLElement","checkExistence","nonExistentKeys","htmlElem","getMax","getMin","getDomainFromData","domArr","firstMin","secondMin","firstMax","secondMax","unionDomain","domains","symbolFns","symbolCircle","symbolCross","symbolDiamond","symbolSquare","symbolStar","symbolWye","symbolTriangle","easeFns","cubic","easeCubic","bounce","easeBounce","easeLinear","elastic","easeElastic","back","easeBack","poly","easePoly","easeCircle","getExtremePoint","compareValue","minOrMax","extremePoint","minOrMaxVal","getMinPoint","getMaxPoint","getWindow","cancelAnimFrame","cancelAnimationFrame","capitalizeFirst","txt","cls","defaultValue","getDependencyOrder","dependencyOrder","visited","visit","objectIterator","Voronoi","_voronoi","_voronoiFn","addListenerToNamespace","namespaceInf","_listeners","Store","propName","propNames","callBack","intSanitizer","transactor","holder","nameSpaceProp","subNamespace","nsProp","compareTo","paramsLen","prevVal","spreadParams","typeCheck","typeExpected","preset","oldValues","propInfo","typeChecker","getArraySum","arraysEqual","isEqual","oldVal","newVal","is","enableChainedTransaction","transactionModel","transactionEndpoint","transactionItems","isHTMLElem","sink","interpolateArray","fitCount","linearInterpolate","atPoint","springFactor","tmp","replaceCSSPrefix","colorInterpolator","interpolateHslLong","transformColors","hue2rgb","hslToRgb","hsvToRgb","matchRgb","matchHsl","matchRgba","matchHsla","matchHex","fieldMap","vals","selFields","selFn","filteredSchema","registerListeners","listenerMap","propListenerMap","subNamespaceInf","propType","listenerFn","escapeHTML","htmlEscapes","htmlEscaper","transposeArray","extendsClass","extendsFrom","concatModels","dataObj1","dataObj2","data1","data2","schema1","schema2","tuples1","tuples2","commonTuples","row1","row2","dim1Values","dim2Values","allDimSame","dm1Key","dm2Key","commonSchema","stackOrders","STACK_CONFIG","stackOrderNone","stackOrderAscending","stackOrderDescending","stackOffsets","stackOffsetDiverging","stackOffsetNone","stackOffsetExpand","stackOffsetWiggle","d3Stack","nestCollection","pathInterpolators","curveStepAfter","curveStepBefore","curveStep","curveCatmullRom","Scales","lookupWhat","lookupDetails","resolvable","lookupTarget","depArr","deps","nextAnimFrame","CommonProps","ACTION_INF","ON_LAYER_DRAW","UNIT_GLOBAL_NAMESPACE","LAYER_LOCAL_NAMESPACE","LAYER_GLOBAL_NAMESPACE","GROUP_GLOBAL_NAMESPACE","GROUP_LOCAL_NAMESPACE","CANVAS_LOCAL_NAMESPACE","CANVAS_GLOBAL_NAMESPACE","ReservedFields","ORDER_ASCENDING","ORDER_DESCENDING","ORDER_NONE","OFFSET_DIVERGING","OFFSET_NONE","OFFSET_EXPAND","OFFSET_WIGGLE","events","compositions","EVENT_LIST","composition","LifeCycleManager","resolveFn","notification","hasOwn","_eventList","_promises","_notifiers","_lifeCycles","_unreleasedLifeCycles","_boot","_preparePromises","_makeNotifierPromise","client","_releasePromisesFromCache","_notify","stage","_resolvePromise","promise","retrieve","_callLifeCycleCallback","_cachePromise","_resetTargetPromise","stages","lifeCycles","keyFn","SVGElement","selectorVal","selectorType","actualSelector","enterSel","mergeSel","exitSel","appendElement","element1","element2","setElementAttrs","removeClass","styles","createElements","sel","selectionMerge","clipElement","clipPathElement","clipPathRect","boundingClientRect","clientPoint","tag","d3event","d3drag","css","textEl","testText","mandatoryStyle","computedStyle","styleForSmartLabel","defaultPolicy","registrableComponents","aliases","comp","alias","propagationPayload","propagationCanvas","ActionModel","_registrableComponents","components","canvases","canvas","once","visualGroup","matrixInstance","registerPropagationBehaviourMap","maps","dissociateBehaviour","dissociateSideEffect","policy","mergedPolicy","crossInteractionPolicy","actionModel","APP_INITIAL_STATE","app","units","Canvas","globalDependencies","_allOptions","localOptions","_registry","_composition","_cachedProps","_alias","_renderedResolve","_renderedPromise","_store","canvasOptions","GroupFireBolt","subtitle","legend","setupChangeListener","componentSubRegistry","initedComponents","initCanvas","createGroupState","lifeCycleManager","visGroup","getRenderDetails","notify","prepareLayout","renderComponents","promises","all","getAxes","RETINAL","initialSettings","regEntry","TransactionSupport","arrangeComponents","legendConfig","titleConfig","subtitleConfig","titleLayouts","TITLE","SUB_TITLE","GROUP","legendLayouts","LEGEND","LAYOUT","titlePosition","subtitlePosition","legends","TITLE_CONFIG","maxLines","SUB_TITLE_CONFIG","defaultInteractionPolicy","isMeasure","getFieldsFromChannel","colDim","fieldInf","rowFacets","colFacets","unitFireBolt","facetFields","facetByFields","unitColFacets","equals","unitRowFacets","propFields","propagateWith","defaultCrossInteractionPolicy","propagationCanvasAlias","parentAlias","propagationUnit","sourceUnit","unitId","_interactionPolicy","_crossInteractionPolicy","applyInteractionPolicy","changeBehaviourStateOnPropagation","changeSideEffectStateOnPropagation","reg","VisualGroup","dispatchProps","allOptions","createMatrices","equalityChecker","option","ROWS","COLUMNS","DETAIL","DATA","updateChecker","nameSpaceProps","registerChangeListener","updateProps","policies","getState","globalState","localState","cornerMatrices","triggerReflow","heightAttr","widthAttr","placeholderInfo","minHeight","showHeaders","legendPosition","layoutArrangement","availableHeightForCanvas","availableWidthForCanvas","createHeaders","headerHeight","createLegend","legendSpace","getLegendSpace","legendWidth","legendHeight","mountSpace","canvasWidth","canvasHeight","legendCreator","LegendCls","dataset","getRetinalAxes","axisInfo","scaleProps","stepMapper","LEGEND_TYPE_MAP","legendInitializer","prevLegends","legendInfo","dataInfo","legendMeasures","TextCell","PADDING","MARGIN","getGroupByData","setLegendMeasures","LAYERS","_sanitized","sub","setLabelRotationForAxes","xAxes","getSkeletons","containersEnter","mergedContainer","innerContainer","innerContainerEnter","layoutType","renderLegend","legendComponents","sectionComponents","legendMount","legWidth","legHeight","sections","currHeight","currWidth","leg","renderHeader","headerCell","shifter","selEnter","cont","shiftLegend","prepareGridContainer","innerSel","innerSelEnter","resolveTitleSubTitleContent","rawContent","headerCreator","cellType","minSpacing","createHeading","headerOptions","INITIALIZED","SOURCE","MOUNT","CANVAS_UPDATED","POLICIES","RESOLVE","STEP_COLOR","TITLE_TEMPLATE_NOT_ALLOWED_TAGS","COMPONENTS","VisualUnit","SUBREGISTRIES","cellRegistry","INTERFACES","SimpleGroup","SimpleCell","minCharacters","verticalAlign","collapse","autoGroupBy","Muze","globalCache","defaultRegistry","overrideRegistryDefinitions","overrideRegistry","muze","env","globalStore","componentSubRegistryDef","settings","withSettings","Smartlabel","SideEffects","standards","Behaviours","pkg","layerFactory","operators","utils","share","vars","ComposedVars","SimpleVariable","variable","treeShakeNode","nodeType","Node","ELEMENT_NODE","tagName","childNodes","childNode","strings","htmlCode","expLn","frag","createDocumentFragment","isInteger","oldConf","newConf","INTERFACE_IMPl","STACK","FRACTURE","groupByIndices","identityTransform","normalizeData","valueField","uniqueField","uniqueFieldIndex","valueFieldIndex","seriesKeyIndex","seriesKeys","tuples","_tuple","seriesKey","newArr","normalizedData","orderBy","orderIndex","groupByIndex","localeCompare","stackData","seriesData","transformMap","TransformType","transformFactory","computeAxisSpace","logicalWidth","logicalHeight","spaceFixer","_availHeight","_availWidth","AXIS","wrapperDiv","AXIS_CELL","BlankCell","BLANK_CELL","DEFAULT_PLACEHOLDERS","SIMPLE_CELL","TEXT_CELL","GEOM_CELL","CONSTANTS","GeomCell","SIMPLE","TEXT","GEOM","SPACE_FIXER","VERTICAL_ALIGN","TEXT_ALIGN","IS_OFFSET","MIDDLE","BASELINE","SHOW","HEADER","FACET_BY_FIELDS","FIELDS","LAYER_DEF","DETAIL_FIELDS","MAX_LINES","MIN_CHARS","ROTATION","computeGeomSpace","getCaptionSpace","_unit","_axes","_datamodel","_facetByFields","_fields","_transform","_caption","caption","lockModel","unlockModel","captionSpace","captionDom","DEFAULT_PROPS","geomProps","textProps","smartText","setSmartText","minHeightSpace","minWidthSpace","paddedHeight","paddedWidth","computeTextSpace","minText","_minTextSpace","smartSpace","_className","textAlign","vAlign","translation","middle","categorical","temporal","CartesianEncoder","axesCreators","fieldInfo","geomCellAxes","projections","rowFields","columnFields","yAxes","BOTH","axisFrom","generateAxisFromMap","unitDomains","unitsArr","len2","axesArr","adjustedDomain","alignZeroLine","getAdjustedDomain","axisConf","updateDomainCache","facets","primaryFacets","secondaryFacets","primaryFields","secondaryFields","primaryLen","secondaryLen","projArr","primaryField","secondaryField","COL","axisFromIndex","existIndex","getIndex","datamodel","groupedModel","encodingObj","retriveDomainFromData","layerArray","serializedLayers","sanitizeLayerConfig","userLayerConfig","layerConfig","colField","colFieldName","rowField","configs","rowFieldName","rowFieldType","colFieldType","getDefaultMark","defConfigs","layerConfigs","getLayerConfFromFields","layerConf","mergedLayerConf","serializedLayerConfig","getSerializedConf","CARTESIAN","VisualEncoder","getAxisConfig","axisOrientation","userAxisConfig","allOrientations","axisConfig","createSimpleAxis","Cls","scaleMaps","simpleAxis","y1ratio","y2ratio","allSameSign","groupAxes","axisKey","currentAxes","cacheMaps","commonAxisKey","getAxisKey","_rotationLock","resetDomain","mutateAxesFromMap","xAxesMap","yAxesMap","xAxisSet","yAxisSet","axisId","BAR","LINE","POINT","createRetinalAxis","fieldProps","getAxisType","arrIndex","colFields","userConf","encodingArr","colFieldExist","rowFieldExist","orderFields","fieldArray","temporalArr","categoricalArr","fieldList","numOfMeasures","allDimensions","normalizeFields","convertToVar","transformFields","normalizedFields","norFields","rowsInfo","columnsInfo","rowDimensions","rowMeasures","rowTemporalFields","rowCategoricalFields","columnDimensions","columnTemporalFields","columnCategoricalFields","PolarEncoder","pieAxes","domainProps","sanitizedRows","sanitizedColumns","sanitizedFields","typeIndex","fieldSet","sizeField","colorField","parentModel","layerEncoding","RADIUS","ANGLE","encType","measureField","ARC","POLAR","RetinalEncoder","newAxes","encodingConfigs","enc","_fieldInfo","_axisFrom","_headerFrom","__headerFrom","getHeaderAxisFrom","rowHeader","rowAxis","colHeader","colAxis","headerFrom","MEASUREMENT","MIN_UNIT_WIDTH","MIN_UNIT_HEIGHT","DIMENSIONS","MEASURES","PIVOT","FORMAT","HAS_DATA_UPDATED","CELL","X_AXES","Y_AXES","ENTRY_CELLS","EXIT_CELLS","UNIT","UPDATED","BEFORE_UPDATE","VALUE_MATRIX","FACET_HEADERS","INTERACTION","GRID_LINES","GRID_BANDS","FACET","DATA_UPDATE_COUNTER","DEFAULT_LAYER_TYPE","updateCells","geomCell","facetKey","createValueCells","suppliedLayers","encoder","matrixLayers","horizontalAxis","verticalAxis","datamodelTransform","entryCellMap","exitCellMap","layerConfigArr","getLayerConfig","normalizedColumns","normalizedRows","geomCellKey","getCellKey","allFacets","createAxisCells","createSelection","axisInst","axisPlaceholderGn","selObj","axesMatrix","selObjProp","axesForDraw","rowsPrimary","rowPrime","columnsPrimary","colPrime","createTextCells","headerPlaceholderGn","selectionObj","selectionKeys","keySet","generatePlaceholders","facetsAndProjections","encoders","valuesMatrix","rowProjections","colProjections","rowKeys","columnKeys","takeAxisFrom","simpleEncoder","takeHeaderFrom","rowsSecondary","columnsSecondary","getObjects","headerConfig","section","hContext","generateMatrices","placeholderContext","leftHeaders","topHeaders","bottomHeaders","rightHeaders","rowSec","colSec","leftFacets","rightFacets","rowPriority","colPriority","innerHeaders","currentBottomLength","computeMatrices","componentRegistry","globalConfig","otherEncodings","optionalProjections","matrixGnContext","getCellDef","colCells","rowCells","resetSimpleAxes","newCacheMap","valueCellContext","serializeLayerConfig","getFieldsFromSuppliedLayers","extractFields","aggregationFns","cellCreator","valueCellsCreator","valueMatrixInfo","getMatrixModel","createUnits","initStore","rowType","initializeCacheMaps","cellMap","rowId","columnId","extractUnitConfig","unitConfig","attrNames","getHeaderText","rowLength","fieldHeaders","findInGroup","channel","facetType","projType","getEncoder","userAxisFromConfig","firstField","secondField","firstFieldType","secondFieldType","setFacetsAndProjections","getFacetsAndProjections","appendObj","idFn","mergedSelection","getRowBorders","borders","getColumnsBorders","getValueBorders","borderTypeRow","borderTypeCol","getBorders","allDimensionLength","allMeasuresLength","allTemporalFieldsLength","suppliedLayerConfig","layerFields","flattenArray","Variable","getFieldNames","fields1","fields2","createSelectedDataModel","uniqueKeyGenerator","keyArray","newDm","nextDepthUniqueValues","newContext","projectRows","allColumnProjections","projectFields","projFieldNames","colProjFieldNames","pushToMatrix","facetInfo","rowProj","projIdx","rowProjFieldNames","projectedDm","rowDataModels","colProj","firstLevelRowKeys","rowFacetFieldNames","selectedDataModel","colFacetNames","firstLevelColumnKeys","dme","rIndex","cIndex","transposedColKeys","MatrixResolver","_layerConfig","_matrixLayers","_valueMatrix","_facets","_projections","_datamodelTransform","_units","_cacheMaps","RESOLVER_PROPS","otherEncodingTypes","_horizontalAxis","_verticalAxis","matrixType","sideEffectRegistry","axisInf","retContext","getRetinalFieldsDomain","retinalEncoder","setCommonDomain","retinalAxes","retinalFields","updateModel","placeholders","topCols","bottomCols","rowHeaders","blankCellCreator","footers","texts","_vars","member","oneVar","_oneVar","dtFormat","fieldSpace","varInst","setupChangeListeners","registerDomainChangeListener","unionUnitDomains","createUnitState","initializeGlobalState","sanitizeRetinalConfig","retinalConf","confValue","setMatrixInstances","ValueMatrix","matrixConfig","retinalConfig","groupType","fieldSanitizer","setAxisAndHeaders","getMatrices","_groupedDataModel","createRetinalAxes","setDomains","matrixArr","instancesById","cellValue","_instancesById","_matrix","_filterFn","rowWidth","currentRowWidth","rowHeight","currentRowHeight","_selection","getSimpleAxes","BaseLayer","_points","_cachedData","localNs","defaultOptions","global","unitRowIndex","unitColIndex","_encodingFieldsInf","_encodingTransform","_cacheEnabled","transformType","encodingFieldsInf","transformData","calculateDomainFromData","encodingType","getNormalizedData","interactionConfig","interactionStyles","_transformType","pointMap","_pointMap","_dataProps","xMeasure","yMeasure","xMeasureIndex","yMeasureIndex","getAllAttrs","filteredPoints","identifierData","identifierSchema","_normalizedData","tupleArr","exist","transformedVal","SimpleLayer","renderLayer","throwback","encodingValue","getEncodingFieldInf","getValidTransform","_transformedData","getTransformedData","DEFAULT_LAYERS","AreaLayer","ArcLayer","LineLayer","TextLayer","PointLayer","TickLayer","BarLayer","OUTER_RADIUS_VALUE","TEXT_ANCHOR_MIDDLE","ENCODING","X0","Y0","ASCENDING","AREA_LAYER","ARC_LAYER","LINE_LAYER","TEXT_LAYER","POINT_LAYER","BAR_LAYER","TICK_LAYER","SIMPLE_LAYER","BASE_LAYER","getLayerColor","colorEncoding","colorFieldIndex","rawColor","transfromColor","styleType","intensity","stateColor","originalColor","fillColorInfo","transformColor","elements","getPlotElementsFromSet","colorTransform","fadeUnfadeSelection","hasFaded","focusUnfocusSelection","isFocussed","getAxesScales","xScale","yScale","x0Field","y0Field","shapeField","xFieldSubType","yFieldSubType","xFieldIndex","yFieldIndex","x0FieldIndex","y0FieldIndex","encodingFieldInf","groupByField","groupByFieldMeasure","getIndividualClassName","individualClassName","classNameStr","transformedDataArr","fieldsLen","pointObj","yEnc","xEnc","attachDataToVoronoi","updateStyle","animateGroup","groupTransition","groupAnimateStyle","positionPoints","positioner","encodingTransform","getGroupSpan","groupSpan","getPlotMeasurement","dimensionalValues","_bandScale","offsetValues","actualGroupWidth","isTemporal","dataProps","innerPadding","isAxisBandScale","axisPadding","groupPadding","parseLayerDefinition","layerType","strs","sanitizeEncoding","compositeLayers","factoryObj","setLayerRegistry","_layerRegistry","serializedDefs","unitLayerDef","sDef","getLayerInstance","layerConstructor","getLayerClass","composeLayers","regObj","getRangeValue","defaultRadius","domainMultiplier","outerRadiusValue","sizeAxisDomain","sizeMultiplier","rangeVal","getRadiusRange","minOuterRadius","innerRadiusFixer","getPreviousPoint","prevData","currIndex","prevArc","nextArc","tweenPie","rangeValueGetter","_previousInfo","tweenExitPie","consecutiveExits","consecutiveExitArr","gElem","getFieldIndices","angleField","radiusField","angleIndex","sizeIndex","radiusIndex","colorIndex","_prevPieData","pieData","pieIndex","dataVal","uid","colorVal","angleVal","domainKey","getIdentifiersFromData","layerId","chartHeight","chartWidth","qualClassName","radiusDomain","_chartWidth","_chartHeight","arcFn","individualClass","exitCounter","tweenExit","exitArr","oldExitCounter","pieSlices","filteredPies","tData","pieSliceInf","states","fadeout","selected","drawArea","classNameFn","isXDim","isYDim","xPx","yPx","y0Px","cachePoint","nearestPointThreshold","strokeOpacity","connectNullData","easeEffect","curveInterpolatorFn","enterAreaPath","updateAreaPath","selectionEnter","resolveDimByField","axesInfo","spaceType","sizeEncoding","sizeConfig","sizeValue","enterSpace","minVal","maxVal","diffPx","zeroPos","axisType0","resolveDimensions","enterWidth","enterX","xPos","enterHeight","enterY","yPos","getTranslatedPoints","_plotPadding","_plotSpan","normalizedDataArr","containerSelection","generateDataPoints","seriesClassName","drawRects","barWidthMetrics","barHeightMetrics","barWidthOffsets","barHeightOffsets","translatePoints","barWidthOffset","barHeight","barHeightOffset","uniqueFieldType","filterData","pointFound","transitionBars","selTransition","barEnterFn","updateFns","drawLine","stroke","getPathStyle","colorValFn","getDrawFn","searchRadius","linepath","defColorStyle","fillOpacity","shapes","sizes","shapeEncoding","shapeFieldIndex","sizeFieldIndex","offsetX","offsetY","maxSize","drawFn","_maxSize","widthMetrics","heightMetrics","offsetXValues","offsetYValues","measurementConf","getMeasurementConfig","widthSpan","heightSpan","distanceLimit","drawSymbols","mergedGroups","symbolGroups","symbolEnter","exitGroups","background","drawText","textanchor","textStyle","backgroundVal","backgroundPadding","backgroundEl","textEncoding","textField","textFormatter","backgroundEncoding","backgroundValue","textFieldIndex","textValue","ticksEnter","xSpan","ySpan","x0Px","drawTicks","trackerClassName","gridLines","zeroLineColor","gridBands","arcLayerClassName","sideEffectClassName","GRIDBANDPARENTGROUPCLASS","RETINAL_FIELDS","PARENT_ALIAS","CACHED_DATA","STORE","primaryXAxisUpdated","primaryYAxisUpdated","secondaryXAxisUpdated","secondaryYAxisUpdated","DATADOMAIN","LAYERSCREATED","TIMEDIFFS","LAYERAXISINDEX","getModelWithFacetData","propagateValues","propagationFieldInf","propagationFields","cachedData","sideEfffects","mergedModel","propagationBehaviour","groupId","behaviourInstance","propagationConf","sourceBehaviour","enabled","propConf","propInf","initSideEffects","clearActionHistory","dispatchQueuedSideEffects","originalData","attachPropagationListener","_layerDeps","onlayerdraw","UnitFireBolt","aliasName","propagationSourceCanvas","sourceUnitId","sourceSideEffects","sideEffectInstances","actionOnSource","mappedEffects","se","sideEffectChecker","enabledFn","payloadFn","payloadGenerator","__default","sourceIdentifierFields","sourceBehaviours","getRangeFromData","selectionDataModel","propCriteria","isActionSourceSame","isDimension","brush","getLayerDefinition","gridLineColor","gridBandColor","isLinearScale","isNegativeDomain","getDefaultVisibilty","getGridLayerDefinitions","getGridLayerData","gridData","createGridLineLayer","vuConf","_gridbands","_gridlines","atomicDef","axesObj","sConf","attachDataToGridLineLayers","gridLayerData","inst","renderGridLineLayers","parentGroupClass","_timeDiffs","getDimensionMeasureMap","retinalEncodingsAndMeasures","transformDataModels","transformVal","getLayerFromDef","existingLayer","instanceArr","resolveEncodingTransform","layerInst","createLayers","layerDefinitions","layersMap","markSet","layerIndex","layersArr","markId","defArr","instanceValues","layerdeps","sanitizeLayerDef","sanitizedDefs","attachDataToLayers","transformedDataModels","dataSource","attachAxisToLayers","layerAxisIndex","getLayerAxisIndex","unionDomainFromLayers","getDataDomain","domainValues","layerDomain","fieldDomain","fieldStr","renderLayers","_lifeCycleManager","orderedLayers","layerParentGroup","layerDepOrder","_layerDepOrder","layerSeq","getNearestDimensionalValue","entryVal","getLayersBy","searchBy","removeLayersBy","createSideEffectGroup","createLayerState","removeExitLayers","calculateDomainListener","_layerAxisIndex","fieldsVal","_timeDiffsByField","layerAxisIndexVal","axesVal","_transformedDataModels","_dimensionMeasureMap","oldData","FORMAL_NAME","_layerNamespaces","_rootSvg","class","_sideEffectGroup","rootSvg","layerDefinition","startIndex","stateStore","dimValue","pointInf","getMarkInfFromLayers","markInf","parsedIdentifiers","getPointsFromIdentifiers","_parentContainer"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;;AClFA,CAAC,SAASA,gCAAT,CAA0CC,IAA1C,EAAgDC,OAAhD,EAAyD;AACzD,QAAG,+BAAOC,OAAP,OAAmB,QAAnB,IAA+B,+BAAOC,MAAP,OAAkB,QAApD,EACCA,OAAOD,OAAP,GAAiBD,SAAjB,CADD,KAEK,IAAG,IAAH,EACJG,iCAAoB,EAApB,oCAAwBH,OAAxB;AAAA;AAAA;AAAA,qGADI,KAEA,EAGJ;AACD,CATD,EASGI,MATH,EASW,YAAW;AACtB,WAAO,SAAU,UAASC,OAAT,EAAkB;AAAE;AACrC,oBADmC,CACzB;AACV,oBAAU,IAAIC,mBAAmB,EAAvB;AACV;AACA,oBAJmC,CAIzB;AACV,oBAAU,SAASC,mBAAT,CAA6BC,QAA7B,EAAuC;AACjD;AACA,wBAFiD,CAEtC;AACX,wBAAW,IAAGF,iBAAiBE,QAAjB,CAAH,EAA+B;AAC1C,4BAAY,OAAOF,iBAAiBE,QAAjB,EAA2BP,OAAlC;AACZ;AAAY;AACZ,wBANiD,CAMtC;AACX,wBAAW,IAAIC,SAASI,iBAAiBE,QAAjB,IAA6B;AACrD,4BAAYC,GAAGD,QADsC;AAErD,4BAAYE,GAAG,KAFsC;AAGrD,4BAAYT,SAAS;AACrB,4BAJqD,EAA1C;AAKX;AACA,wBAbiD,CAatC;AACX,wBAAWI,QAAQG,QAAR,EAAkBG,IAAlB,CAAuBT,OAAOD,OAA9B,EAAuCC,MAAvC,EAA+CA,OAAOD,OAAtD,EAA+DM,mBAA/D;AACX;AACA,wBAhBiD,CAgBtC;AACX,wBAAWL,OAAOQ,CAAP,GAAW,IAAX;AACX;AACA,wBAnBiD,CAmBtC;AACX,wBAAW,OAAOR,OAAOD,OAAd;AACX;AAAW;AACX;AACA;AACA,oBA7BmC,CA6BzB;AACV,oBAAUM,oBAAoBK,CAApB,GAAwBP,OAAxB;AACV;AACA,oBAhCmC,CAgCzB;AACV,oBAAUE,oBAAoBM,CAApB,GAAwBP,gBAAxB;AACV;AACA,oBAnCmC,CAmCzB;AACV,oBAAUC,oBAAoBO,CAApB,GAAwB,UAASb,OAAT,EAAkBc,IAAlB,EAAwBC,MAAxB,EAAgC;AAClE,wBAAW,IAAG,CAACT,oBAAoBU,CAApB,CAAsBhB,OAAtB,EAA+Bc,IAA/B,CAAJ,EAA0C;AACrD,4BAAYG,OAAOC,cAAP,CAAsBlB,OAAtB,EAA+Bc,IAA/B,EAAqC,EAAEK,YAAY,IAAd,EAAoBC,KAAKL,MAAzB,EAArC;AACZ;AAAY;AACZ;AAAW,aAJD;AAKV;AACA,oBA1CmC,CA0CzB;AACV,oBAAUT,oBAAoBe,CAApB,GAAwB,UAASrB,OAAT,EAAkB;AACpD,wBAAW,IAAG,OAAOsB,MAAP,KAAkB,WAAlB,IAAiCA,OAAOC,WAA3C,EAAwD;AACnE,4BAAYN,OAAOC,cAAP,CAAsBlB,OAAtB,EAA+BsB,OAAOC,WAAtC,EAAmD,EAAEC,OAAO,QAAT,EAAnD;AACZ;AAAY;AACZ,wBAAWP,OAAOC,cAAP,CAAsBlB,OAAtB,EAA+B,YAA/B,EAA6C,EAAEwB,OAAO,IAAT,EAA7C;AACX;AAAW,aALD;AAMV;AACA,oBAlDmC,CAkDzB;AACV,oBAnDmC,CAmDzB;AACV,oBApDmC,CAoDzB;AACV,oBArDmC,CAqDzB;AACV,oBAtDmC,CAsDzB;AACV,oBAAUlB,oBAAoBmB,CAApB,GAAwB,UAASD,KAAT,EAAgBE,IAAhB,EAAsB;AACxD,wBAAW,IAAGA,OAAO,CAAV,EAAaF,QAAQlB,oBAAoBkB,KAApB,CAAR;AACxB,wBAAW,IAAGE,OAAO,CAAV,EAAa,OAAOF,KAAP;AACxB,wBAAW,IAAIE,OAAO,CAAR,IAAc,QAAOF,KAAP,0CAAOA,KAAP,OAAiB,QAA/B,IAA2CA,KAA3C,IAAoDA,MAAMG,UAA7D,EAAyE,OAAOH,KAAP;AACpF,wBAAW,IAAII,KAAKX,OAAOY,MAAP,CAAc,IAAd,CAAT;AACX,wBAAWvB,oBAAoBe,CAApB,CAAsBO,EAAtB;AACX,wBAAWX,OAAOC,cAAP,CAAsBU,EAAtB,EAA0B,SAA1B,EAAqC,EAAET,YAAY,IAAd,EAAoBK,OAAOA,KAA3B,EAArC;AACX,wBAAW,IAAGE,OAAO,CAAP,IAAY,OAAOF,KAAP,IAAgB,QAA/B,EAAyC,KAAI,IAAIM,GAAR,IAAeN,KAAf;AAAsBlB,wCAAoBO,CAApB,CAAsBe,EAAtB,EAA0BE,GAA1B,EAA+B,UAASA,GAAT,EAAc;AAAE,+BAAON,MAAMM,GAAN,CAAP;AAAoB,qBAApC,CAAqCC,IAArC,CAA0C,IAA1C,EAAgDD,GAAhD,CAA/B;AAAtB,iBAPI,CAQxD,QAAW,OAAOF,EAAP;AACX;AAAW,aATD;AAUV;AACA,oBAlEmC,CAkEzB;AACV,oBAAUtB,oBAAoB0B,CAApB,GAAwB,UAAS/B,MAAT,EAAiB;AACnD,wBAAW,IAAIc,SAASd,UAAUA,OAAO0B,UAAjB;AACxB,wBAAY,SAASM,UAAT,GAAsB;AAAE,2BAAOhC,OAAO,SAAP,CAAP;AAA2B,iBADvC;AAExB,wBAAY,SAASiC,gBAAT,GAA4B;AAAE,2BAAOjC,MAAP;AAAgB,iBAF/C;AAGX,wBAAWK,oBAAoBO,CAApB,CAAsBE,MAAtB,EAA8B,GAA9B,EAAmCA,MAAnC;AACX,wBAAW,OAAOA,MAAP;AACX;AAAW,aAND;AAOV;AACA,oBA3EmC,CA2EzB;AACV,oBAAUT,oBAAoBU,CAApB,GAAwB,UAASmB,MAAT,EAAiBC,QAAjB,EAA2B;AAAE,uBAAOnB,OAAOoB,SAAP,CAAiBC,cAAjB,CAAgC5B,IAAhC,CAAqCyB,MAArC,EAA6CC,QAA7C,CAAP;AAAgE,aAArH;AACV;AACA,oBA9EmC,CA8EzB;AACV,oBAAU9B,oBAAoBiC,CAApB,GAAwB,EAAxB;AACV;AACA;AACA,oBAlFmC,CAkFzB;AACV,oBAAU,OAAOjC,oBAAoBA,oBAAoBkC,CAApB,GAAwB,gBAA5C,CAAP;AACV;AAAU,SApFM;AAqFhB;AACA,gBAAU;;AAEV,iBAAM;AACN;;;AAGA;AACA,iBAAO,mCAASvC,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,8CAA+BnC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,UAA3C,EAAuD,YAAW;AAAE,2BAAOC,QAAP;AAAkB,iBAAtF;AAC/B,8CAA+BpC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,cAA3C,EAA2D,YAAW;AAAE,2BAAOE,YAAP;AAAsB,iBAA9F;AAC/B,8CAA+BrC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,WAA3C,EAAwD,YAAW;AAAE,2BAAOG,SAAP;AAAmB,iBAAxF;AAC/B,8CAA+BtC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,eAA3C,EAA4D,YAAW;AAAE,2BAAOI,aAAP;AAAuB,iBAAhG;AAC/B,oCAAqB,IAAIC,oCAAoCxC,qBAAoB,YAAa,kCAAjC,CAAxC;;AAGrB,oBAAIyC,MAAM9B,OAAO6B,kCAAkC,SAAlC,CAAP,EAAqD,GAArD,CAAV;;AAEA,oBAAIJ,WAAWK,IAAIC,KAAnB;AACA,oBAAIL,eAAeI,IAAIE,SAAvB;AACA,oBAAIL,YAAYG,IAAIG,MAApB;AACA,oBAAIL,gBAAgBE,IAAII,UAAxB;;AAEA;AAAO,aAzBG;;AA2BV,iBAAM;AACN;;;AAGA;AACA,iBAAO,mCAASlD,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oBAAIW,MAAM,EAAV;AAAA,oBACIC,MAAM,EADV;AAAA,oBAEIC,QAAQ,EAFZ;AAAA,oBAGIC,UAAU,EAHd;AAAA,oBAIIC,SAAS,EAJb;;AAMA,yBAASC,eAAT,CAAyBC,OAAzB,EAAkC;AAChC,2BAAO,IAAIC,QAAJ,CAAa,GAAb,EAAkB,aAAaD,QAAQE,GAAR,CAAY,UAAU9C,IAAV,EAAgBN,CAAhB,EAAmB;AACnE,+BAAOqD,KAAKC,SAAL,CAAehD,IAAf,IAAuB,MAAvB,GAAgCN,CAAhC,GAAoC,GAA3C;AACD,qBAFqC,EAEnCuD,IAFmC,CAE9B,GAF8B,CAAb,GAEV,GAFR,CAAP;AAGD;;AAED,yBAASC,eAAT,CAAyBN,OAAzB,EAAkCO,CAAlC,EAAqC;AACnC,wBAAI9B,SAASsB,gBAAgBC,OAAhB,CAAb;AACA,2BAAO,UAAUQ,GAAV,EAAe1D,CAAf,EAAkB;AACvB,+BAAOyD,EAAE9B,OAAO+B,GAAP,CAAF,EAAe1D,CAAf,EAAkBkD,OAAlB,CAAP;AACD,qBAFD;AAGD;;AAED;AACA,yBAASS,YAAT,CAAsBC,IAAtB,EAA4B;AAC1B,wBAAIC,YAAYpD,OAAOY,MAAP,CAAc,IAAd,CAAhB;AAAA,wBACI6B,UAAU,EADd;;AAGAU,yBAAKE,OAAL,CAAa,UAAUJ,GAAV,EAAe;AAC1B,6BAAK,IAAIK,MAAT,IAAmBL,GAAnB,EAAwB;AACtB,gCAAI,EAAEK,UAAUF,SAAZ,CAAJ,EAA4B;AAC1BX,wCAAQc,IAAR,CAAaH,UAAUE,MAAV,IAAoBA,MAAjC;AACD;AACF;AACF,qBAND;;AAQA,2BAAOb,OAAP;AACD;;AAED,4CAA6BjB,oBAAoB,SAApB,IAAkC,UAAUgC,SAAV,EAAqB;AAClF,wBAAIC,WAAW,IAAIC,MAAJ,CAAW,QAAQF,SAAR,GAAoB,OAA/B,CAAf;AAAA,wBACIG,YAAYH,UAAUI,UAAV,CAAqB,CAArB,CADhB;;AAGA,6BAAS7B,KAAT,CAAe8B,IAAf,EAAqBb,CAArB,EAAwB;AACtB,4BAAIc,OAAJ;AAAA,4BACIrB,OADJ;AAAA,4BAEIU,OAAOnB,UAAU6B,IAAV,EAAgB,UAAUZ,GAAV,EAAe1D,CAAf,EAAkB;AAC3C,gCAAIuE,OAAJ,EAAa,OAAOA,QAAQb,GAAR,EAAa1D,IAAI,CAAjB,CAAP;AACbkD,sCAAUQ,GAAV,EAAea,UAAUd,IAAID,gBAAgBE,GAAhB,EAAqBD,CAArB,CAAJ,GAA8BR,gBAAgBS,GAAhB,CAAvD;AACD,yBAHU,CAFX;AAMAE,6BAAKV,OAAL,GAAeA,WAAW,EAA1B;AACA,+BAAOU,IAAP;AACD;;AAED,6BAASnB,SAAT,CAAmB6B,IAAnB,EAAyBb,CAAzB,EAA4B;AAC1B,4BAAIG,OAAO,EAAX;;AACI;AACJY,4BAAIF,KAAKG,MAFT;AAAA,4BAGIC,IAAI,CAHR;;AAII;AACJlD,4BAAI,CALJ;;AAMI;AACJP,yBAPA;;AAQI;AACJ0D,8BAAMH,KAAK,CATX;;AAUI;AACJI,8BAAM,KAXN,CAD0B,CAYb;;AAEb;AACA,4BAAIN,KAAKD,UAAL,CAAgBG,IAAI,CAApB,MAA2BzB,OAA/B,EAAwC,EAAEyB,CAAF;AACxC,4BAAIF,KAAKD,UAAL,CAAgBG,IAAI,CAApB,MAA2BxB,MAA/B,EAAuC,EAAEwB,CAAF;;AAEvC,iCAASK,KAAT,GAAiB;AACf,gCAAIF,GAAJ,EAAS,OAAO9B,GAAP;AACT,gCAAI+B,GAAJ,EAAS,OAAOA,MAAM,KAAN,EAAahC,GAApB;;AAET;AACA,gCAAI5C,CAAJ;AAAA,gCACI8E,IAAIJ,CADR;AAAA,gCAEItE,CAFJ;AAGA,gCAAIkE,KAAKD,UAAL,CAAgBS,CAAhB,MAAuBhC,KAA3B,EAAkC;AAChC,uCAAO4B,MAAMF,CAAN,IAAWF,KAAKD,UAAL,CAAgBK,CAAhB,MAAuB5B,KAAlC,IAA2CwB,KAAKD,UAAL,CAAgB,EAAEK,CAAlB,MAAyB5B,KAA3E,EAAkF,CAAE;AACpF,oCAAI,CAAC9C,IAAI0E,CAAL,KAAWF,CAAf,EAAkBG,MAAM,IAAN,CAAlB,KAAkC,IAAI,CAACvE,IAAIkE,KAAKD,UAAL,CAAgBK,GAAhB,CAAL,MAA+B3B,OAAnC,EAA4C6B,MAAM,IAAN,CAA5C,KAA4D,IAAIxE,MAAM4C,MAAV,EAAkB;AAC9G4B,0CAAM,IAAN,CAAW,IAAIN,KAAKD,UAAL,CAAgBK,CAAhB,MAAuB3B,OAA3B,EAAoC,EAAE2B,CAAF;AAChD;AACD,uCAAOJ,KAAKS,KAAL,CAAWD,IAAI,CAAf,EAAkB9E,IAAI,CAAtB,EAAyBgF,OAAzB,CAAiC,KAAjC,EAAwC,IAAxC,CAAP;AACD;;AAED;AACA,mCAAON,IAAIF,CAAX,EAAc;AACZ,oCAAI,CAACpE,IAAIkE,KAAKD,UAAL,CAAgBrE,IAAI0E,GAApB,CAAL,MAAmC3B,OAAvC,EAAgD6B,MAAM,IAAN,CAAhD,KAAgE,IAAIxE,MAAM4C,MAAV,EAAkB;AAChF4B,0CAAM,IAAN,CAAW,IAAIN,KAAKD,UAAL,CAAgBK,CAAhB,MAAuB3B,OAA3B,EAAoC,EAAE2B,CAAF;AAChD,iCAF+D,MAEzD,IAAItE,MAAMgE,SAAV,EAAqB;AAC5B,uCAAOE,KAAKS,KAAL,CAAWD,CAAX,EAAc9E,CAAd,CAAP;AACD;;AAED;AACA,mCAAO2E,MAAM,IAAN,EAAYL,KAAKS,KAAL,CAAWD,CAAX,EAAcN,CAAd,CAAnB;AACD;;AAED,+BAAO,CAACvD,IAAI4D,OAAL,MAAkBhC,GAAzB,EAA8B;AAC5B,gCAAIa,MAAM,EAAV;AACA,mCAAOzC,MAAM2B,GAAN,IAAa3B,MAAM4B,GAA1B,EAA+B;AAC7Ba,oCAAIM,IAAJ,CAAS/C,CAAT,GAAaA,IAAI4D,OAAjB;AACD,iCAAIpB,KAAK,CAACC,MAAMD,EAAEC,GAAF,EAAOlC,GAAP,CAAP,KAAuB,IAAhC,EAAsC;AACvCoC,iCAAKI,IAAL,CAAUN,GAAV;AACD;;AAED,+BAAOE,IAAP;AACD;;AAED,6BAASlB,MAAT,CAAgBkB,IAAhB,EAAsBV,OAAtB,EAA+B;AAC7B,4BAAIA,WAAW,IAAf,EAAqBA,UAAUS,aAAaC,IAAb,CAAV;AACrB,+BAAO,CAACV,QAAQE,GAAR,CAAY6B,WAAZ,EAAyB1B,IAAzB,CAA8BU,SAA9B,CAAD,EAA2CiB,MAA3C,CAAkDtB,KAAKR,GAAL,CAAS,UAAUM,GAAV,EAAe;AAC/E,mCAAOR,QAAQE,GAAR,CAAY,UAAUW,MAAV,EAAkB;AACnC,uCAAOkB,YAAYvB,IAAIK,MAAJ,CAAZ,CAAP;AACD,6BAFM,EAEJR,IAFI,CAECU,SAFD,CAAP;AAGD,yBAJwD,CAAlD,EAIHV,IAJG,CAIE,IAJF,CAAP;AAKD;;AAED,6BAASZ,UAAT,CAAoBiB,IAApB,EAA0B;AACxB,+BAAOA,KAAKR,GAAL,CAAS+B,SAAT,EAAoB5B,IAApB,CAAyB,IAAzB,CAAP;AACD;;AAED,6BAAS4B,SAAT,CAAmBzB,GAAnB,EAAwB;AACtB,+BAAOA,IAAIN,GAAJ,CAAQ6B,WAAR,EAAqB1B,IAArB,CAA0BU,SAA1B,CAAP;AACD;;AAED,6BAASgB,WAAT,CAAqBX,IAArB,EAA2B;AACzB,+BAAOA,QAAQ,IAAR,GAAe,EAAf,GAAoBJ,SAASkB,IAAT,CAAcd,QAAQ,EAAtB,IAA4B,OAAOA,KAAKU,OAAL,CAAa,IAAb,EAAmB,MAAnB,CAAP,GAAoC,IAAhE,GAAuEV,IAAlG;AACD;;AAED,2BAAO;AACL9B,+BAAOA,KADF;AAELC,mCAAWA,SAFN;AAGLC,gCAAQA,MAHH;AAILC,oCAAYA;AAJP,qBAAP;AAMD,iBAnG4B;;AAqG7B;AAAO,aA5KG;;AA8KV,iBAAM;AACN;;;AAGA;AACA,iBAAO,qCAASlD,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAIK,oCAAoCxC,qBAAoB,YAAa,kCAAjC,CAAxC;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,WAA3C,EAAwD,YAAW;AAAE,2BAAOK,kCAAkC,SAAlC,CAAP;AAAsD,iBAA3H;;AAE9B,oCAAqB,IAAI+C,oCAAoCvF,qBAAoB,YAAa,kCAAjC,CAAxC;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,UAA3C,EAAuD,YAAW;AAAE,2BAAOoD,kCAAkC,UAAlC,CAAP;AAAuD,iBAA3H;;AAE9B,6CAA8BvF,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,cAA3C,EAA2D,YAAW;AAAE,2BAAOoD,kCAAkC,cAAlC,CAAP;AAA2D,iBAAnI;;AAE9B,6CAA8BvF,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,WAA3C,EAAwD,YAAW;AAAE,2BAAOoD,kCAAkC,WAAlC,CAAP;AAAwD,iBAA7H;;AAE9B,6CAA8BvF,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,eAA3C,EAA4D,YAAW;AAAE,2BAAOoD,kCAAkC,eAAlC,CAAP;AAA4D,iBAArI;;AAE9B,oCAAqB,IAAIC,oCAAoCxF,qBAAoB,YAAa,kCAAjC,CAAxC;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,UAA3C,EAAuD,YAAW;AAAE,2BAAOqD,kCAAkC,UAAlC,CAAP;AAAuD,iBAA3H;;AAE9B,6CAA8BxF,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,cAA3C,EAA2D,YAAW;AAAE,2BAAOqD,kCAAkC,cAAlC,CAAP;AAA2D,iBAAnI;;AAE9B,6CAA8BxF,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,WAA3C,EAAwD,YAAW;AAAE,2BAAOqD,kCAAkC,WAAlC,CAAP;AAAwD,iBAA7H;;AAE9B,6CAA8BxF,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,eAA3C,EAA4D,YAAW;AAAE,2BAAOqD,kCAAkC,eAAlC,CAAP;AAA4D,iBAArI;;AAM9B;AAAO,aAhNG;;AAkNV,iBAAM;AACN;;;AAGA;AACA,iBAAO,mCAAS7F,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,8CAA+BnC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,UAA3C,EAAuD,YAAW;AAAE,2BAAOsD,QAAP;AAAkB,iBAAtF;AAC/B,8CAA+BzF,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,cAA3C,EAA2D,YAAW;AAAE,2BAAOuD,YAAP;AAAsB,iBAA9F;AAC/B,8CAA+B1F,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,WAA3C,EAAwD,YAAW;AAAE,2BAAOwD,SAAP;AAAmB,iBAAxF;AAC/B,8CAA+B3F,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,eAA3C,EAA4D,YAAW;AAAE,2BAAOyD,aAAP;AAAuB,iBAAhG;AAC/B,oCAAqB,IAAIpD,oCAAoCxC,qBAAoB,YAAa,kCAAjC,CAAxC;;AAGrB,oBAAI6F,MAAMlF,OAAO6B,kCAAkC,SAAlC,CAAP,EAAqD,IAArD,CAAV;;AAEA,oBAAIiD,WAAWI,IAAInD,KAAnB;AACA,oBAAIgD,eAAeG,IAAIlD,SAAvB;AACA,oBAAIgD,YAAYE,IAAIjD,MAApB;AACA,oBAAIgD,gBAAgBC,IAAIhD,UAAxB;;AAEA;AAAO,aAzOG;;AA2OV,iBAAM;AACN;;;AAGA;AACA,iBAAO,qBAASlD,MAAT,EAAiB;;AAExBA,uBAAOD,OAAP,GAAiB,EAAC,QAAO,WAAR,EAAoB,eAAc,2DAAlC,EAA8F,YAAW,uCAAzG,EAAiJ,WAAU,OAA3J,EAAmK,WAAU,KAA7K,EAAmL,QAAO,mBAA1L,EAA8M,UAAS,iCAAvN,EAAyP,YAAW,CAAC,WAAD,EAAa,MAAb,EAAoB,YAApB,EAAiC,SAAjC,EAA2C,OAA3C,EAAmD,MAAnD,EAA0D,cAA1D,EAAyE,OAAzE,EAAiF,SAAjF,EAA2F,WAA3F,CAApQ,EAA4W,cAAa,EAAC,QAAO,KAAR,EAAc,OAAM,2CAApB,EAAzX,EAA0b,gBAAe,CAAC,EAAC,QAAO,eAAR,EAAwB,SAAQ,kBAAhC,EAAD,EAAqD,EAAC,QAAO,gBAAR,EAAyB,SAAQ,oBAAjC,EAArD,EAA4G,EAAC,QAAO,YAAR,EAAqB,SAAQ,mBAA7B,EAAiD,OAAM,mBAAvD,EAA5G,EAAwL,EAAC,QAAO,mBAAR,EAA4B,SAAQ,kBAApC,EAAxL,CAAzc,EAA0rB,gBAAe,EAAC,UAAS,QAAV,EAAzsB,EAA6tB,mBAAkB,EAAC,aAAY,QAAb,EAAsB,cAAa,SAAnC,EAA6C,gBAAe,OAA5D,EAAoE,gBAAe,QAAnF,EAA4F,kCAAiC,SAA7H,EAAuI,oBAAmB,QAA1J,EAAmK,uBAAsB,SAAzL,EAAmM,qBAAoB,SAAvN,EAAiO,QAAO,OAAxO,EAAgP,aAAY,QAA5P,EAAqQ,UAAS,QAA9Q,EAAuR,wBAAuB,QAA9S,EAAuT,wBAAuB,OAA9U,EAAsV,0BAAyB,OAA/W,EAAuX,uBAAsB,OAA7Y,EAAqZ,gCAA+B,QAApb,EAA6b,SAAQ,OAArc,EAA6c,aAAY,QAAzd,EAAke,SAAQ,OAA1e,EAAkf,cAAa,OAA/f,EAAugB,yBAAwB,OAA/hB,EAAuiB,oCAAmC,QAA1kB,EAAmlB,eAAc,OAAjmB,EAAymB,uBAAsB,QAA/nB,EAAwoB,iBAAgB,OAAxpB,EAAgqB,UAAS,QAAzqB,EAAkrB,SAAQ,OAA1rB,EAAksB,iBAAgB,OAAltB,EAA0tB,qBAAoB,OAA9uB,EAAsvB,WAAU,SAAhwB,EAA0wB,eAAc,QAAxxB,EAAiyB,sBAAqB,QAAtzB,EAA/uB,EAA+iD,WAAU,EAAC,QAAO,4BAAR,EAAqC,MAAK,2BAA1C,EAAsE,OAAM,iEAA5E,EAA8I,SAAQ,2BAAtJ,EAAkL,aAAY,4BAA9L,EAA2N,SAAQ,6EAAnO,EAAiT,QAAO,cAAxT,EAAuU,eAAc,sBAArV,EAA4W,QAAO,uDAAnX,EAAzjD,EAAjB;;AAEA;AAAO,aApPG;;AAsPV,iBAAM;AACN;;;AAGA;AACA,iBAAO,6BAASC,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,8CAA+BnC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,aAA3C,EAA0D,YAAW;AAAE,2BAAO2D,WAAP;AAAqB,iBAA5F;AAC/B,8CAA+B9F,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,QAA3C,EAAqD,YAAW;AAAE,2BAAO4D,MAAP;AAAgB,iBAAlF;AAC/B,8CAA+B/F,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,gBAA3C,EAA6D,YAAW;AAAE,2BAAO6D,cAAP;AAAwB,iBAAlG;AAC/B,8CAA+BhG,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,OAA3C,EAAoD,YAAW;AAAE,2BAAO8D,KAAP;AAAe,iBAAhF;AAC/B,8CAA+BjG,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,mBAA3C,EAAgE,YAAW;AAAE,2BAAO+D,iBAAP;AAA2B,iBAAxG;AAC/B,oCAAqB,IAAIC,sCAAsCnG,qBAAoB,eAAgB,sBAApC,CAA1C;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,YAA3C,EAAyD,YAAW;AAAE,2BAAOgE,oCAAoC,YAApC,CAAP;AAA2D,iBAAjI;;AAE9B,6CAA8BnG,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,eAA3C,EAA4D,YAAW;AAAE,2BAAOgE,oCAAoC,eAApC,CAAP;AAA8D,iBAAvI;;AAG9B;;;AAGA,oBAAIL,cAAc,aAAlB;;AAEA;;;AAGA,oBAAIC,SAAS,QAAb;;AAEA;;;AAGA,oBAAIC,iBAAiB;AACjBI,4BAAQ,QADS;AAEjBC,6BAAS,SAFQ;AAGjBC,6BAAS,OAHQ;AAIjBC,6BAAS,SAJQ;AAKjBC,6BAAS,oBALQ;AAMjBC,yBAAK;AANY,iBAArB;;AASA,oBAAIR,QAAQ;AACRS,2BAAO,OADC;AAERC,+BAAW,WAFH;AAGRC,gCAAY,YAHJ;AAIRC,6BAAS,SAJD;AAKRC,+BAAW;AALH,iBAAZ;;AAQA,oBAAIZ,oBAAoB;AACpBa,yBAAK,KADe;AAEpBC,wBAAI;AAFgB,iBAAxB;;AAKA;AAAO,aA7SG;;AA+SV,iBAAM;AACN;;;AAGA;AACA,iBAAO,oCAASrH,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAI8E,0CAA0CjH,qBAAoB,kBAAmB,8BAAvC,CAA9C;AACrB,oCAAqB,IAAIkH,wCAAwClH,qBAAoB,gBAAiB,4BAArC,CAA5C;AACrB,oCAAqB,IAAImH,wCAAwCnH,qBAAoB,gBAAiB,4BAArC,CAA5C;AACrB,oCAAqB,IAAIoH,sCAAsCpH,qBAAoB,eAAgB,sBAApC,CAA1C;;AAMrB;;;;;;;AAOA,yBAASqH,IAAT,CAAcC,IAAd,EAAoBC,OAApB,EAA6B;AACzB,wBAAIC,aAAa,EAAEC,UAAUR,wCAAwC,SAAxC,CAAZ,EAAgES,QAAQP,sCAAsC,SAAtC,CAAxE,EAA0HQ,QAAQT,sCAAsC,SAAtC,CAAlI,EAAjB;AACA,wBAAIU,aAAajH,OAAOyG,oCAAoC,kBAApC,CAAP,EAAgEE,IAAhE,CAAjB;;AAEA,wBAAI,CAACM,UAAL,EAAiB;AACb,8BAAM,IAAIC,KAAJ,CAAU,kCAAV,CAAN;AACH;;AAED,2BAAOL,WAAWI,UAAX,EAAuBN,IAAvB,EAA6BC,OAA7B,CAAP;AACH;;AAED,4CAA6BpF,oBAAoB,SAApB,IAAkCkF,IAAlC;;AAE7B;AAAO,aArVG;;AAuVV,iBAAM;AACN;;;AAGA;AACA,iBAAO,8BAAS1H,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAI2F,sCAAsC9H,qBAAoB,eAAgB,sBAApC,CAA1C;AACrB,yBAAS+H,kBAAT,CAA4BC,GAA5B,EAAiC;AAAE,wBAAIC,MAAMC,OAAN,CAAcF,GAAd,CAAJ,EAAwB;AAAE,6BAAK,IAAI9H,IAAI,CAAR,EAAWiI,OAAOF,MAAMD,IAAIrD,MAAV,CAAvB,EAA0CzE,IAAI8H,IAAIrD,MAAlD,EAA0DzE,GAA1D,EAA+D;AAAEiI,iCAAKjI,CAAL,IAAU8H,IAAI9H,CAAJ,CAAV;AAAmB,yBAAC,OAAOiI,IAAP;AAAc,qBAA7H,MAAmI;AAAE,+BAAOF,MAAMG,IAAN,CAAWJ,GAAX,CAAP;AAAyB;AAAE;;AAInM;;;;;;;;;;;;;;;;;AAiBA,yBAASL,MAAT,CAAgBK,GAAhB,EAAqBT,OAArB,EAA8B;AAC1B,wBAAIc,gBAAgB;AAChBC,wCAAgB;AADA,qBAApB;AAGAf,8BAAU5G,OAAO4H,MAAP,CAAc,EAAd,EAAkBF,aAAlB,EAAiCd,OAAjC,CAAV;;AAEA,wBAAIiB,SAAS,KAAK,CAAlB;AACA,wBAAIpF,UAAU,EAAd;AACA,wBAAIc,OAAOvD,OAAOmH,oCAAoC,aAApC,CAAP,EAA2D1E,OAA3D,CAAX;;AAEA,wBAAImE,QAAQe,cAAZ,EAA4B;AACxB;AACA;AACAE,iCAASR,IAAIS,MAAJ,CAAW,CAAX,EAAc,CAAd,EAAiB,CAAjB,CAAT;AACH,qBAJD,MAIO;AACHD,iCAAS,EAAT;AACH;;AAEDR,wBAAIhE,OAAJ,CAAY,UAAU0E,KAAV,EAAiB;AACzB,+BAAOxE,KAAKyE,KAAL,CAAWC,SAAX,EAAsBb,mBAAmBW,KAAnB,CAAtB,CAAP;AACH,qBAFD;;AAIA,2BAAO,CAACF,MAAD,EAASpF,OAAT,CAAP;AACH;;AAED,4CAA6BjB,oBAAoB,SAApB,IAAkCwF,MAAlC;;AAE7B;AAAO,aAjZG;;AAmZV,iBAAM;AACN;;;AAGA;AACA,iBAAO,8BAAShI,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAI0G,sCAAsC7I,qBAAoB,aAAc,oCAAlC,CAA1C;AACrB,oCAAqB,IAAIkH,wCAAwClH,qBAAoB,gBAAiB,4BAArC,CAA5C;;AAIrB;;;;;;;;;;;;;;;;;;;;;AAqBA,yBAAS0H,MAAT,CAAgBoB,GAAhB,EAAqBvB,OAArB,EAA8B;AAC1B,wBAAIc,gBAAgB;AAChBC,wCAAgB,IADA;AAEhBS,wCAAgB;AAFA,qBAApB;AAIAxB,8BAAU5G,OAAO4H,MAAP,CAAc,EAAd,EAAkBF,aAAlB,EAAiCd,OAAjC,CAAV;;AAEA,wBAAIyB,MAAMrI,OAAOkI,oCAAoC,WAApC,CAAP,EAAyDtB,QAAQwB,cAAjE,CAAV;AACA,2BAAOpI,OAAOuG,sCAAsC,SAAtC,CAAP,EAAyD8B,IAAIrG,SAAJ,CAAcmG,GAAd,CAAzD,EAA6EvB,OAA7E,CAAP;AACH;;AAED,4CAA6BpF,oBAAoB,SAApB,IAAkCuF,MAAlC;;AAE7B;AAAO,aAncG;;AAqcV,iBAAM;AACN;;;AAGA;AACA,iBAAO,gCAAS/H,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAI2F,sCAAsC9H,qBAAoB,eAAgB,sBAApC,CAA1C;;AAGrB;;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA,yBAASyH,QAAT,CAAkBO,GAAlB,EAAuB;AACnB,wBAAIQ,SAAS,EAAb;AACA,wBAAItI,IAAI,CAAR;AACA,wBAAI+I,iBAAiB,KAAK,CAA1B;AACA,wBAAI7F,UAAU,EAAd;AACA,wBAAIc,OAAOvD,OAAOmH,oCAAoC,aAApC,CAAP,EAA2D1E,OAA3D,CAAX;;AAEA4E,wBAAIhE,OAAJ,CAAY,UAAUkF,IAAV,EAAgB;AACxB,4BAAIC,SAAS,EAAb;AACA,6BAAK,IAAI3H,GAAT,IAAgB0H,IAAhB,EAAsB;AAClB,gCAAI1H,OAAOgH,MAAX,EAAmB;AACfS,iDAAiBT,OAAOhH,GAAP,CAAjB;AACH,6BAFD,MAEO;AACHgH,uCAAOhH,GAAP,IAActB,GAAd;AACA+I,iDAAiB/I,IAAI,CAArB;AACH;AACDiJ,mCAAOF,cAAP,IAAyBC,KAAK1H,GAAL,CAAzB;AACH;AACD0C,6BAAKyE,KAAL,CAAWC,SAAX,EAAsBO,MAAtB;AACH,qBAZD;;AAcA,2BAAO,CAACxI,OAAOyI,IAAP,CAAYZ,MAAZ,CAAD,EAAsBpF,OAAtB,CAAP;AACH;;AAED,4CAA6BjB,oBAAoB,SAApB,IAAkCsF,QAAlC;;AAE7B;AAAO,aArgBG;;AAugBV,iBAAM;AACN;;;AAGA;AACA,iBAAO,6BAAS9H,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAIkH,wCAAwCrJ,qBAAoB,gBAAiB,4BAArC,CAA5C;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,QAA3C,EAAqD,YAAW;AAAE,2BAAOkH,sCAAsC,SAAtC,CAAP;AAA0D,iBAA5H;;AAE9B,oCAAqB,IAAIC,wCAAwCtJ,qBAAoB,gBAAiB,4BAArC,CAA5C;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,QAA3C,EAAqD,YAAW;AAAE,2BAAOmH,sCAAsC,SAAtC,CAAP;AAA0D,iBAA5H;;AAE9B,oCAAqB,IAAIC,0CAA0CvJ,qBAAoB,kBAAmB,8BAAvC,CAA9C;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,UAA3C,EAAuD,YAAW;AAAE,2BAAOoH,wCAAwC,SAAxC,CAAP;AAA4D,iBAAhI;;AAE9B,oCAAqB,IAAIC,8CAA8CxJ,qBAAoB,sBAAuB,kCAA3C,CAAlD;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,MAA3C,EAAmD,YAAW;AAAE,2BAAOqH,4CAA4C,SAA5C,CAAP;AAAgE,iBAAhI;;AAO9B;AAAO,aAjiBG;;AAmiBV,iBAAM;AACN;;;AAGA;AACA,iBAAO,wBAAS7J,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAIgE,sCAAsCnG,qBAAoB,cAAe,sBAAnC,CAA1C;AACrB,oCAAqB,IAAIyJ,uCAAuCzJ,qBAAoB,eAAgB,iBAApC,CAA3C;AACrB,oCAAqB,IAAI0J,0CAA0C1J,qBAAoB,kBAAmB,0BAAvC,CAA9C;AACrB,oCAAqB,IAAI2J,yCAAyC3J,qBAAoB,iBAAkB,yBAAtC,CAA7C;AACrB,oCAAqB,IAAI4J,wDAAwD5J,qBAAoB,gCAAiC,kCAArD,CAA5D;AACrB,oCAAqB,IAAI6J,yCAAyC7J,qBAAoB,iBAAkB,mBAAtC,CAA7C;AACrB,oCAAqB,IAAI8J,oDAAoD9J,qBAAoB,4BAA6B,8BAAjD,CAAxD;AACrB,oCAAqB,IAAI+J,8CAA8C/J,qBAAoB,sBAAuB,wBAA3C,CAAlD;AACrB,oBAAIgK,iBAAiB,YAAY;AAAE,6BAASC,aAAT,CAAuBjC,GAAvB,EAA4B9H,CAA5B,EAA+B;AAAE,4BAAIgK,OAAO,EAAX,CAAe,IAAIC,KAAK,IAAT,CAAe,IAAIC,KAAK,KAAT,CAAgB,IAAIC,KAAKzB,SAAT,CAAoB,IAAI;AAAE,iCAAK,IAAI0B,KAAKtC,IAAIhH,OAAOuJ,QAAX,GAAT,EAAiCC,EAAtC,EAA0C,EAAEL,KAAK,CAACK,KAAKF,GAAGG,IAAH,EAAN,EAAiBC,IAAxB,CAA1C,EAAyEP,KAAK,IAA9E,EAAoF;AAAED,qCAAKhG,IAAL,CAAUsG,GAAGtJ,KAAb,EAAqB,IAAIhB,KAAKgK,KAAKvF,MAAL,KAAgBzE,CAAzB,EAA4B;AAAQ;AAAE,yBAAvJ,CAAwJ,OAAOyK,GAAP,EAAY;AAAEP,iCAAK,IAAL,CAAWC,KAAKM,GAAL;AAAW,yBAA5L,SAAqM;AAAE,gCAAI;AAAE,oCAAI,CAACR,EAAD,IAAOG,GAAG,QAAH,CAAX,EAAyBA,GAAG,QAAH;AAAiB,6BAAhD,SAAyD;AAAE,oCAAIF,EAAJ,EAAQ,MAAMC,EAAN;AAAW;AAAE,yBAAC,OAAOH,IAAP;AAAc,qBAAC,OAAO,UAAUlC,GAAV,EAAe9H,CAAf,EAAkB;AAAE,4BAAI+H,MAAMC,OAAN,CAAcF,GAAd,CAAJ,EAAwB;AAAE,mCAAOA,GAAP;AAAa,yBAAvC,MAA6C,IAAIhH,OAAOuJ,QAAP,IAAmB5J,OAAOqH,GAAP,CAAvB,EAAoC;AAAE,mCAAOiC,cAAcjC,GAAd,EAAmB9H,CAAnB,CAAP;AAA+B,yBAArE,MAA2E;AAAE,kCAAM,IAAI0K,SAAJ,CAAc,sDAAd,CAAN;AAA8E;AAAE,qBAArO;AAAwO,iBAAhoB,EAArB;;AAEA,oBAAIC,eAAe,YAAY;AAAE,6BAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,6BAAK,IAAI9K,IAAI,CAAb,EAAgBA,IAAI8K,MAAMrG,MAA1B,EAAkCzE,GAAlC,EAAuC;AAAE,gCAAI+K,aAAaD,MAAM9K,CAAN,CAAjB,CAA2B+K,WAAWpK,UAAX,GAAwBoK,WAAWpK,UAAX,IAAyB,KAAjD,CAAwDoK,WAAWC,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAWD,UAAf,EAA2BA,WAAWE,QAAX,GAAsB,IAAtB,CAA4BxK,OAAOC,cAAP,CAAsBmK,MAAtB,EAA8BE,WAAWzJ,GAAzC,EAA8CyJ,UAA9C;AAA4D;AAAE,qBAAC,OAAO,UAAUG,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,4BAAID,UAAJ,EAAgBP,iBAAiBM,YAAYrJ,SAA7B,EAAwCsJ,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBR,iBAAiBM,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;AAAqB,qBAAhN;AAAmN,iBAA9hB,EAAnB;;AAEA,yBAASrD,kBAAT,CAA4BC,GAA5B,EAAiC;AAAE,wBAAIC,MAAMC,OAAN,CAAcF,GAAd,CAAJ,EAAwB;AAAE,6BAAK,IAAI9H,IAAI,CAAR,EAAWiI,OAAOF,MAAMD,IAAIrD,MAAV,CAAvB,EAA0CzE,IAAI8H,IAAIrD,MAAlD,EAA0DzE,GAA1D,EAA+D;AAAEiI,iCAAKjI,CAAL,IAAU8H,IAAI9H,CAAJ,CAAV;AAAmB,yBAAC,OAAOiI,IAAP;AAAc,qBAA7H,MAAmI;AAAE,+BAAOF,MAAMG,IAAN,CAAWJ,GAAX,CAAP;AAAyB;AAAE;;AAEnM,yBAASuD,eAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;AAAE,wBAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;AAAE,8BAAM,IAAIR,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,yBAASa,0BAAT,CAAoCC,IAApC,EAA0CtL,IAA1C,EAAgD;AAAE,wBAAI,CAACsL,IAAL,EAAW;AAAE,8BAAM,IAAIC,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF,qBAAC,OAAOvL,SAAS,QAAOA,IAAP,0CAAOA,IAAP,OAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAArD,IAAmEA,IAAnE,GAA0EsL,IAAjF;AAAwF;;AAEhP,yBAASE,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,wBAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,eAAe,IAAvD,EAA6D;AAAE,8BAAM,IAAIlB,SAAJ,CAAc,qEAAoEkB,UAApE,0CAAoEA,UAApE,EAAd,CAAN;AAAsG,qBAACD,SAAS9J,SAAT,GAAqBpB,OAAOY,MAAP,CAAcuK,cAAcA,WAAW/J,SAAvC,EAAkD,EAAEgK,aAAa,EAAE7K,OAAO2K,QAAT,EAAmBhL,YAAY,KAA/B,EAAsCsK,UAAU,IAAhD,EAAsDD,cAAc,IAApE,EAAf,EAAlD,CAArB,CAAqK,IAAIY,UAAJ,EAAgBnL,OAAOqL,cAAP,GAAwBrL,OAAOqL,cAAP,CAAsBH,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsED,SAASI,SAAT,GAAqBH,UAA3F;AAAwG;;AAE9e;;AAWA;;;;;;;;;;;;;AAaA,oBAAII,YAAY,UAAUC,SAAV,EAAqB;AACjCP,8BAAUM,SAAV,EAAqBC,SAArB;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,6BAASD,SAAT,GAAqB;AACjB,4BAAIE,IAAJ;;AAEAb,wCAAgB,IAAhB,EAAsBW,SAAtB;;AAEA,6BAAK,IAAIG,OAAOC,UAAU3H,MAArB,EAA6B4H,OAAOtE,MAAMoE,IAAN,CAApC,EAAiDG,OAAO,CAA7D,EAAgEA,OAAOH,IAAvE,EAA6EG,MAA7E,EAAqF;AACjFD,iCAAKC,IAAL,IAAaF,UAAUE,IAAV,CAAb;AACH;;AAED,4BAAIC,QAAQhB,2BAA2B,IAA3B,EAAiC,CAACW,OAAOF,UAAUD,SAAV,IAAuBtL,OAAO+L,cAAP,CAAsBR,SAAtB,CAA/B,EAAiE9L,IAAjE,CAAsEuI,KAAtE,CAA4EyD,IAA5E,EAAkF,CAAC,IAAD,EAAOhH,MAAP,CAAcmH,IAAd,CAAlF,CAAjC,CAAZ;;AAEAE,8BAAME,cAAN,GAAuB,EAAvB;AACAF,8BAAMG,eAAN,GAAwB,EAAxB;AACA,+BAAOH,KAAP;AACH;;AAED;;;;;;;;;;AAWA5B,iCAAaqB,SAAb,EAAwB,CAAC;AACrB1K,6BAAK,SADgB;;AAIrB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCAN,+BAAO,SAAS2L,OAAT,CAAiBtF,OAAjB,EAA0B;AAC7B,gCAAIuF,aAAa;AACbC,uCAAO,KADM;AAEbC,2CAAW,IAFE;AAGbC,yCAAS,KAHI;AAIbC,8CAAc,KAJD;AAKbC,sCAAM;AALO,6BAAjB;AAOA5F,sCAAU5G,OAAO4H,MAAP,CAAc,EAAd,EAAkBuE,UAAlB,EAA8BvF,OAA9B,CAAV;AACA,gCAAI4B,SAAS,KAAKiE,oBAAL,GAA4BjE,MAAzC;;AAEA,gCAAIkE,gBAAgB1D,uCAAuC,aAAvC,EAAsDvJ,IAAtD,CAA2D,IAA3D,EAAiE,KAAKgN,oBAAL,GAA4BjE,MAA7F,EAAqG,KAAKmE,WAA1G,EAAuH/F,QAAQ2F,YAAR,GAAuB/D,OAAO7F,GAAP,CAAW,UAAU/C,CAAV,EAAa;AACtL,uCAAOA,EAAEC,IAAF,EAAP;AACH,6BAFiK,EAE/JiD,IAF+J,EAAvB,GAE/H,KAAK8J,cAFG,EAEahG,QAAQ4F,IAFrB,EAE2B;AAC3CK,4CAAYjG,QAAQwF,KAAR,KAAkB,QADa;AAE3CU,wCAAQ,CAAC,CAAClG,QAAQ0F;AAFyB,6BAF3B,CAApB;;AAOA,gCAAI,CAAC1F,QAAQyF,SAAb,EAAwB;AACpB,uCAAOK,aAAP;AACH;;AAED,gCAAIK,WAAWnG,OAAf;AAAA,gCACIyF,YAAYU,SAASV,SADzB;AAEA,gCAAI1F,OAAO+F,cAAc/F,IAAzB;AAAA,gCACIqG,SAASN,cAAcM,MAD3B;AAAA,gCAEIC,OAAOP,cAAcO,IAFzB;;AAIA,gCAAIC,aAAaF,OAAOrK,GAAP,CAAW,UAAUwK,CAAV,EAAa;AACrC,uCAAOA,EAAEtN,IAAT;AACH,6BAFgB,CAAjB;AAGA,gCAAIuN,gBAAgBpN,OAAOyI,IAAP,CAAY4D,SAAZ,CAApB;AACA,gCAAIgB,cAAcD,cAAcE,MAAd,CAAqB,UAAUC,GAAV,EAAezD,IAAf,EAAqB;AACxD,oCAAI0D,MAAMN,WAAWO,OAAX,CAAmB3D,IAAnB,CAAV;AACA,oCAAI0D,QAAQ,CAAC,CAAb,EAAgB;AACZD,wCAAIhK,IAAJ,CAAS,CAACiK,GAAD,EAAMnB,UAAUvC,IAAV,CAAN,CAAT;AACH;AACD,uCAAOyD,GAAP;AACH,6BANiB,EAMf,EANe,CAAlB;;AAQA,gCAAI3G,QAAQwF,KAAR,KAAkB,QAAtB,EAAgC;AAC5BiB,4CAAYhK,OAAZ,CAAoB,UAAUqK,IAAV,EAAgB;AAChC,wCAAIC,OAAOD,KAAK,CAAL,CAAX;AACA,wCAAIE,QAAQF,KAAK,CAAL,CAAZ;;AAEA/G,yCAAKgH,IAAL,EAAWtK,OAAX,CAAmB,UAAUwK,KAAV,EAAiBC,QAAjB,EAA2B;AAC1CnH,6CAAKgH,IAAL,EAAWG,QAAX,IAAuBF,MAAMnO,IAAN,CAAWwI,SAAX,EAAsB4F,KAAtB,EAA6BZ,KAAKa,QAAL,CAA7B,EAA6Cd,OAAOW,IAAP,CAA7C,CAAvB;AACH,qCAFD;AAGH,iCAPD;AAQH,6BATD,MASO;AACHhH,qCAAKtD,OAAL,CAAa,UAAUwK,KAAV,EAAiBC,QAAjB,EAA2B;AACpCT,gDAAYhK,OAAZ,CAAoB,UAAUqK,IAAV,EAAgB;AAChC,4CAAIC,OAAOD,KAAK,CAAL,CAAX;AACA,4CAAIE,QAAQF,KAAK,CAAL,CAAZ;;AAEAG,8CAAMF,IAAN,IAAcC,MAAMnO,IAAN,CAAWwI,SAAX,EAAsB4F,MAAMF,IAAN,CAAtB,EAAmCV,KAAKa,QAAL,CAAnC,EAAmDd,OAAOW,IAAP,CAAnD,CAAd;AACH,qCALD;AAMH,iCAPD;AAQH;;AAED,mCAAOjB,aAAP;AACH;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;AAnGqB,qBAAD,EA4HrB;AACC7L,6BAAK,SADN;AAECN,+BAAO,SAASwN,OAAT,CAAiBC,SAAjB,EAA4B;AAC/B,gCAAIC,WAAWtC,UAAU3H,MAAV,GAAmB,CAAnB,IAAwB2H,UAAU,CAAV,MAAiB1D,SAAzC,GAAqD0D,UAAU,CAAV,CAArD,GAAoE,EAAnF;AACA,gCAAIuC,SAASvC,UAAU3H,MAAV,GAAmB,CAAnB,IAAwB2H,UAAU,CAAV,MAAiB1D,SAAzC,GAAqD0D,UAAU,CAAV,CAArD,GAAoE,EAAEwC,WAAW,IAAb,EAAjF;;AAEA,gCAAIC,gBAAgB,KAAKJ,UAAUlL,IAAV,EAAzB;AACA,gCAAIuL,SAAS,CAAC,IAAD,EAAOL,SAAP,EAAkBC,QAAlB,CAAb;AACA,gCAAIK,eAAetF,uCAAuC,SAAvC,EAAkDhB,KAAlD,CAAwDC,SAAxD,EAAmEoG,MAAnE,CAAnB;;AAEA,gCAAIH,OAAOC,SAAX,EAAsB;AAClB,qCAAKI,SAAL,CAAehL,IAAf,CAAoB+K,YAApB;AACAtO,uCAAO8I,qCAAqC,mBAArC,CAAP,EAAkEwF,YAAlE,EAAgFvF,wCAAwC,gBAAxC,EAA0DpD,OAA1I,EAAmJ,EAAEqI,WAAWA,SAAb,EAAwBI,eAAeA,aAAvC,EAAsDI,gBAAgBrF,kDAAkD,SAAlD,EAA6DqF,cAA7D,EAAtE,EAAnJ,EAA0SP,QAA1S;AACH;;AAEDK,yCAAaG,OAAb,GAAuB,IAAvB;AACA,mCAAOH,YAAP;AACH;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAnBD,qBA5HqB,EAmMrB;AACCzN,6BAAK,MADN;AAECN,+BAAO,SAASiM,IAAT,CAAckC,cAAd,EAA8B;AACjC,gCAAIC,UAAU,KAAKzC,OAAL,CAAa;AACvBE,uCAAO,KADgB;AAEvBI,sCAAMkC;AAFiB,6BAAb,CAAd;AAIA,gCAAI7G,SAAS8G,QAAQ3B,MAAR,CAAerK,GAAf,CAAmB,UAAUoF,KAAV,EAAiB;AAC7C,uCAAOA,MAAMlI,IAAb;AACH,6BAFY,CAAb;AAGA,gCAAI+O,eAAe,CAAC/G,MAAD,EAASpD,MAAT,CAAgBkK,QAAQhI,IAAxB,CAAnB;;AAEA,gCAAIkI,WAAW,IAAI,KAAKzD,WAAT,CAAqBwD,YAArB,EAAmCD,QAAQ3B,MAA3C,EAAmD,EAAE/F,YAAY,QAAd,EAAnD,CAAf;AACA4H,qCAAS5C,eAAT,GAA2ByC,cAA3B;AACA,mCAAOG,QAAP;AACH;;AAED;;;;;;;;;;;;;;;;;;;;;;AAjBD,qBAnMqB,EA0OrB;AACChO,6BAAK,WADN;AAECN,+BAAO,SAASuO,SAAT,CAAmBC,IAAnB,EAAyBnI,OAAzB,EAAkC;AACrCmI,mCAAOA,QAAQ,KAAKC,WAApB;AACApI,sCAAU5G,OAAO4H,MAAP,CAAc,EAAd,EAAkB,EAAEQ,gBAAgB,GAAlB,EAAlB,EAA2CxB,OAA3C,CAAV;;AAEA,gCAAI4B,SAAS,KAAKyG,aAAL,GAAqBzG,MAAlC;AACA,gCAAI0G,UAAU1G,OAAO7F,GAAP,CAAW,UAAUK,CAAV,EAAa;AAClC,uCAAOA,EAAEmM,aAAF,EAAP;AACH,6BAFa,CAAd;AAGA,gCAAIC,YAAYF,QAAQ,CAAR,EAAWlL,MAA3B;AACA,gCAAIqL,iBAAiB,KAAK,CAA1B;AACA,gCAAIC,SAAS,KAAK,CAAlB;AACA,gCAAIC,SAAS,KAAK,CAAlB;;AAEA,gCAAIR,SAASvJ,oCAAoC,YAApC,EAAkDgK,SAA/D,EAA0E;AACtEH,iDAAiB,EAAjB;AACA,qCAAKC,SAAS,CAAd,EAAiBA,SAASF,SAA1B,EAAqCE,QAArC,EAA+C;AAC3C,wCAAIrM,MAAM,EAAV;AACA,yCAAKsM,SAAS,CAAd,EAAiBA,SAAS/G,OAAOxE,MAAjC,EAAyCuL,QAAzC,EAAmD;AAC/CtM,4CAAIuF,OAAO+G,MAAP,EAAe1P,IAAf,EAAJ,IAA6BqP,QAAQK,MAAR,EAAgBD,MAAhB,CAA7B;AACH;AACDD,mDAAe9L,IAAf,CAAoBN,GAApB;AACH;AACJ,6BATD,MASO,IAAI8L,SAASvJ,oCAAoC,YAApC,EAAkDiK,OAA/D,EAAwE;AAC3EJ,iDAAiB,CAAC7G,OAAO7F,GAAP,CAAW,UAAUK,CAAV,EAAa;AACtC,2CAAOA,EAAEnD,IAAF,EAAP;AACH,iCAFiB,EAEfiD,IAFe,CAEV8D,QAAQwB,cAFE,CAAD,CAAjB;AAGA,qCAAKkH,SAAS,CAAd,EAAiBA,SAASF,SAA1B,EAAqCE,QAArC,EAA+C;AAC3C,wCAAII,OAAO,EAAX;AACA,yCAAKH,SAAS,CAAd,EAAiBA,SAAS/G,OAAOxE,MAAjC,EAAyCuL,QAAzC,EAAmD;AAC/CG,6CAAKnM,IAAL,CAAU2L,QAAQK,MAAR,EAAgBD,MAAhB,CAAV;AACH;AACDD,mDAAe9L,IAAf,CAAoBmM,KAAK5M,IAAL,CAAU8D,QAAQwB,cAAlB,CAApB;AACH;AACDiH,iDAAiBA,eAAevM,IAAf,CAAoB,IAApB,CAAjB;AACH,6BAZM,MAYA,IAAIiM,SAASvJ,oCAAoC,YAApC,EAAkDmK,OAA/D,EAAwE;AAC3EN,iDAAiB,CAAC7G,OAAO7F,GAAP,CAAW,UAAUK,CAAV,EAAa;AACtC,2CAAOA,EAAEnD,IAAF,EAAP;AACH,iCAFiB,CAAD,CAAjB;AAGA,qCAAKyP,SAAS,CAAd,EAAiBA,SAASF,SAA1B,EAAqCE,QAArC,EAA+C;AAC3C,wCAAIM,QAAQ,EAAZ;AACA,yCAAKL,SAAS,CAAd,EAAiBA,SAAS/G,OAAOxE,MAAjC,EAAyCuL,QAAzC,EAAmD;AAC/CK,8CAAMrM,IAAN,CAAW2L,QAAQK,MAAR,EAAgBD,MAAhB,CAAX;AACH;AACDD,mDAAe9L,IAAf,CAAoBqM,KAApB;AACH;AACJ,6BAXM,MAWA;AACH,sCAAM,IAAI1I,KAAJ,CAAU,eAAe6H,IAAf,GAAsB,mBAAhC,CAAN;AACH;;AAED,mCAAOM,cAAP;AACH;AApDF,qBA1OqB,EA+RrB;AACCxO,6BAAK,UADN;AAECN,+BAAO,SAASsP,QAAT,CAAkB9H,KAAlB,EAAyB;AAC5B,gCAAI+H,YAAY/H,MAAMlI,IAAN,EAAhB;AACA,iCAAK+M,cAAL,IAAuB,MAAMkD,SAA7B;AACA,gCAAIC,oBAAoB,KAAKC,kBAA7B;;AAEA,gCAAI,CAACD,kBAAkBE,SAAlB,GAA8BlI,MAAMlI,IAAN,EAA9B,CAAL,EAAkD;AAC9CkQ,kDAAkBvH,MAAlB,CAAyBjF,IAAzB,CAA8BwE,KAA9B;AACH,6BAFD,MAEO;AACH,oCAAImI,aAAaH,kBAAkBvH,MAAlB,CAAyB2H,SAAzB,CAAmC,UAAUC,SAAV,EAAqB;AACrE,2CAAOA,UAAUvQ,IAAV,OAAqBiQ,SAA5B;AACH,iCAFgB,CAAjB;AAGAI,8CAAc,CAAd,KAAoBH,kBAAkBvH,MAAlB,CAAyB0H,UAAzB,IAAuCnI,KAA3D;AACH;;AAED,iCAAKsI,qBAAL,GAA6BC,qBAA7B;AACA,mCAAO,IAAP;AACH;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AApBD,qBA/RqB,EAwVrB;AACCzP,6BAAK,mBADN;AAECN,+BAAO,SAASgQ,iBAAT,CAA2BvD,MAA3B,EAAmCwD,UAAnC,EAA+CtC,MAA/C,EAAuD;AAC1D,gCAAIuC,SAAS,IAAb;;AAEAzD,qCAAShN,OAAO8I,qCAAqC,oBAArC,CAAP,EAAmEkE,MAAnE,CAAT;AACAkB,qCAASlO,OAAO4H,MAAP,CAAc,EAAd,EAAkB,EAAEuG,WAAW,IAAb,EAAmBuC,YAAY,KAA/B,EAAlB,EAA0DxC,MAA1D,CAAT;;AAEA,gCAAIyC,eAAe,KAAKC,eAAL,EAAnB;AACA,gCAAIC,UAAUL,WAAWlM,KAAX,CAAiB,CAAjB,EAAoBkM,WAAWxM,MAAX,GAAoB,CAAxC,CAAd;AACA,gCAAI8M,aAAaN,WAAWA,WAAWxM,MAAX,GAAoB,CAA/B,CAAjB;;AAEA,gCAAI2M,aAAa3D,OAAOnN,IAApB,KAA6B,CAACqO,OAAOwC,UAAzC,EAAqD;AACjD,sCAAM,IAAIxJ,KAAJ,CAAU8F,OAAOnN,IAAP,GAAc,oCAAxB,CAAN;AACH;;AAED,gCAAIkR,kBAAkBF,QAAQlO,GAAR,CAAY,UAAUoF,KAAV,EAAiB;AAC/C,oCAAIiJ,YAAYL,aAAa5I,KAAb,CAAhB;AACA,oCAAI,CAACiJ,SAAL,EAAgB;AACZ;AACA,0CAAM,IAAI9J,KAAJ,CAAUa,QAAQ,8BAAlB,CAAN;AACH;AACD,uCAAOiJ,UAAUC,KAAjB;AACH,6BAPqB,CAAtB;;AASA,gCAAIC,QAAQ,KAAKA,KAAL,EAAZ;;AAEA,gCAAIC,KAAKD,MAAMjC,aAAN,GAAsBzG,MAA/B;AACA,gCAAI4I,iBAAiBL,gBAAgBpO,GAAhB,CAAoB,UAAU6K,GAAV,EAAe;AACpD,uCAAO2D,GAAG3D,GAAH,CAAP;AACH,6BAFoB,CAArB;;AAIA,gCAAI6D,cAAc,EAAlB;AACA,gCAAIC,gBAAgB,SAASA,aAAT,GAAyB;AACzC,uCAAOb,OAAOc,YAAP,EAAP;AACH,6BAFD;;AAIA,gCAAIC,iBAAiB,EAArB;AACAxR,mCAAOgJ,uCAAuC,oBAAvC,CAAP,EAAqEkI,MAAMvE,WAA3E,EAAwF,UAAUpN,CAAV,EAAa;AACjG,oCAAIkS,aAAaL,eAAezO,GAAf,CAAmB,UAAUoF,KAAV,EAAiB;AACjD,2CAAOA,MAAM2J,YAAN,CAAmB/K,IAAnB,CAAwBpH,CAAxB,CAAP;AACH,iCAFgB,CAAjB;AAGAiS,+CAAejS,CAAf,IAAoBuR,WAAW9I,KAAX,CAAiBC,SAAjB,EAA4Bb,mBAAmBqK,UAAnB,EAA+BhN,MAA/B,CAAsC,CAAClF,CAAD,EAAI+R,aAAJ,EAAmBD,WAAnB,CAAtC,CAA5B,CAApB;AACH,6BALD;;AAOA,gCAAIM,gBAAgB3R,OAAOoJ,4CAA4C,cAA5C,CAAP,EAAoE,CAACoI,cAAD,CAApE,EAAsF,CAACxE,MAAD,CAAtF,EAAgG,CAACA,OAAOnN,IAAR,CAAhG,CAApB;AAAA,gCACI+R,iBAAiBvI,eAAesI,aAAf,EAA8B,CAA9B,CADrB;AAAA,gCAEI5J,QAAQ6J,eAAe,CAAf,CAFZ;;AAIAV,kCAAMrB,QAAN,CAAe9H,KAAf;;AAEA,gCAAImG,OAAOC,SAAX,EAAsB;AAClBnO,uCAAO8I,qCAAqC,mBAArC,CAAP,EAAkEoI,KAAlE,EAAyEnI,wCAAwC,gBAAxC,EAA0DlD,OAAnI,EAA4I,EAAEqI,QAAQlB,MAAV,EAAkBxE,QAAQqI,OAA1B,EAA5I,EAAiLC,UAAjL;AACH;;AAED,mCAAOI,KAAP;AACH;;AAED;;;;;;;;;AA1DD,qBAxVqB,EA2ZrB;AACCrQ,6BAAK,WADN;AAECN,+BAAO,SAASsR,SAAT,CAAmBC,WAAnB,EAAgC;AACnC,gCAAI5D,SAASvC,UAAU3H,MAAV,GAAmB,CAAnB,IAAwB2H,UAAU,CAAV,MAAiB1D,SAAzC,GAAqD0D,UAAU,CAAV,CAArD,GAAoE,EAAjF;AACA,gCAAIoG,iBAAiBpG,UAAU,CAAV,CAArB;AACA,gCAAIqG,aAAarG,UAAU3H,MAAV,GAAmB,CAAnB,IAAwB2H,UAAU,CAAV,MAAiB1D,SAAzC,GAAqD0D,UAAU,CAAV,CAArD,GAAoE,EAArF;;AAEA,gCAAIsG,kBAAkB/D,OAAO+D,eAA7B;AACA,gCAAIC,sBAAsBhE,OAAOiE,QAAjC;AACA,gCAAIC,UAAUlE,OAAOkE,OAArB;AACA,gCAAIC,YAAYrS,OAAO8I,qCAAqC,kBAArC,CAAP,EAAiE,IAAjE,CAAhB;AACA,gCAAIwJ,uBAAuBD,UAAUE,qBAArC;AACA,gCAAIC,mBAAmBxS,OAAO8I,qCAAqC,qBAArC,CAAP,EAAoE,IAApE,CAAvB;AACA,gCAAI2J,aAAa;AACbC,8CAAcF,gBADD;AAEbG,uCAAON;AAFM,6BAAjB;;AAKAN,8CAAkB/R,OAAO8I,qCAAqC,oBAArC,CAAP,EAAmEwJ,oBAAnE,EAAyFpE,MAAzF,EAAiG,IAAjG,CAAlB;AACAlO,mCAAO8I,qCAAqC,0BAArC,CAAP,EAAyEgJ,WAAzE,EAAsFW,UAAtF,EAAkG,EAAEH,sBAAsBA,oBAAxB,EAA8CH,UAAUD,mBAAxD,EAAlG,EAAiLlS,OAAO4H,MAAP,CAAc;AAC3LwK,yCAASA;AADkL,6BAAd,EAE9KlE,MAF8K,CAAjL;;AAIA,gCAAI+D,eAAJ,EAAqB;AACjBjS,uCAAO8I,qCAAqC,2BAArC,CAAP,EAA0EwJ,oBAA1E,EAAgGG,UAAhG,EAA4G;AACxGvE,4CAAQA,MADgG;AAExG8D,gDAAYA;AAF4F,iCAA5G,EAGG,IAHH;AAIH;;AAED,mCAAO,IAAP;AACH;;AAED;;;;;;;;AAjCD,qBA3ZqB,EAocrB;AACCnR,6BAAK,IADN;AAECN,+BAAO,SAASqS,EAAT,CAAYC,SAAZ,EAAuBC,QAAvB,EAAiC;AACpC,oCAAQD,SAAR;AACI,qCAAK9J,wCAAwC,aAAxC,CAAL;AACI,yCAAKiD,cAAL,CAAoBzI,IAApB,CAAyBuP,QAAzB;AACA;AAHR;AAKA,mCAAO,IAAP;AACH;;AAED;;;;;;;AAXD,qBApcqB,EAsdrB;AACCjS,6BAAK,aADN;AAECN,+BAAO,SAASwS,WAAT,CAAqBF,SAArB,EAAgC;AACnC,oCAAQA,SAAR;AACI,qCAAK9J,wCAAwC,aAAxC,CAAL;AACI,yCAAKiD,cAAL,GAAsB,EAAtB;AACA;;AAHR;AAMA,mCAAO,IAAP;AACH;;AAED;;;;;;;;AAZD,qBAtdqB,EA0erB;AACCnL,6BAAK,mBADN;AAECN,+BAAO,SAASyS,iBAAT,CAA2BC,SAA3B,EAAsCb,OAAtC,EAA+C;AAClD,gCAAIc,SAAS,IAAb;;AAEA,gCAAIC,gBAAgB,KAAKnH,cAAzB;AACAmH,0CAAc9P,OAAd,CAAsB,UAAU+P,EAAV,EAAc;AAChC,uCAAOA,GAAG3T,IAAH,CAAQyT,MAAR,EAAgBD,SAAhB,EAA2Bb,OAA3B,CAAP;AACH,6BAFD;AAGH;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAXD,qBA1eqB,EAwiBrB;AACCvR,6BAAK,KADN;AAECN,+BAAO,SAAS8S,GAAT,CAAaC,aAAb,EAA4B;AAC/B,gCAAIpF,SAASvC,UAAU3H,MAAV,GAAmB,CAAnB,IAAwB2H,UAAU,CAAV,MAAiB1D,SAAzC,GAAqD0D,UAAU,CAAV,CAArD,GAAoE,EAAjF;;AAEA,gCAAIuF,QAAQ,KAAKA,KAAL,EAAZ;AACA,gCAAIqC,eAAerF,OAAOrO,IAAP,IAAeyT,gBAAgB,SAAlD;AACA,gCAAI,KAAK1C,eAAL,GAAuB2C,YAAvB,KAAwC,CAAC,KAAK3C,eAAL,GAAuB0C,aAAvB,CAA7C,EAAoF;AAChF,sCAAM,IAAIpM,KAAJ,CAAU,WAAWoM,aAAX,GAA2B,kBAArC,CAAN;AACH;AACD,gCAAIvL,QAAQ,KAAKiI,kBAAL,CAAwBxH,MAAxB,CAA+BgL,IAA/B,CAAoC,UAAUC,SAAV,EAAqB;AACjE,uCAAOA,UAAU5T,IAAV,OAAqByT,aAA5B;AACH,6BAFW,CAAZ;AAGA,gCAAII,UAAU1T,OAAOiJ,sDAAsD,uBAAtD,CAAP,EAAuFlB,KAAvF,EAA8F,KAAK4E,WAAnG,EAAgHuB,MAAhH,CAAd;AACA,gCAAIyF,WAAW3T,OAAOoJ,4CAA4C,cAA5C,CAAP,EAAoE,CAACsK,QAAQ/M,IAAT,CAApE,EAAoF,CAAC;AAChG9G,sCAAM0T,YAD0F;AAEhGxE,sCAAMvJ,oCAAoC,WAApC,EAAiDoO,SAFyC;AAGhGC,yCAASrO,oCAAoC,kBAApC,EAAwDsO,MAH+B;AAIhGC,sCAAM;AACFC,2CAAON,QAAQM,KADb;AAEFC,yCAAKP,QAAQO;AAFX;AAJ0F,6BAAD,CAApF,EAQX,CAACV,YAAD,CARW,EAQK,CARL,CAAf;AASArC,kCAAMrB,QAAN,CAAe8D,QAAf;AACA3T,mCAAO8I,qCAAqC,mBAArC,CAAP,EAAkEoI,KAAlE,EAAyEnI,wCAAwC,gBAAxC,EAA0DjD,GAAnI,EAAwI,EAAEwN,eAAeA,aAAjB,EAAgCpF,QAAQA,MAAxC,EAAgDqF,cAAcA,YAA9D,EAAxI,EAAsN,IAAtN;AACA,mCAAOrC,KAAP;AACH;;AAED;;;;;;;;;;;;;;;;;;;;;;;;AA5BD,qBAxiBqB,EA4lBrB;AACCrQ,6BAAK,cADN;AAECN,+BAAO,SAASgR,YAAT,GAAwB;AAC3B,gCAAI5K,OAAO,KAAKmI,SAAL,CAAetJ,oCAAoC,YAApC,EAAkDgK,SAAjE,CAAX;AACA,gCAAIxC,SAAS,KAAKkH,SAAL,EAAb;;AAEA,mCAAO,IAAI3I,SAAJ,CAAc5E,IAAd,EAAoBqG,MAApB,CAAP;AACH;AAPF,qBA5lBqB,CAAxB,EAomBI,CAAC;AACDnM,6BAAK,UADJ;AAEDV,6BAAK,SAASA,GAAT,GAAe;AAChB,mCAAOgJ,kDAAkD,SAAlD,CAAP;AACH;AAJA,qBAAD,CApmBJ;;AA2mBA,2BAAOoC,SAAP;AACH,iBA9qBe,CA8qBdrC,uCAAuC,SAAvC,CA9qBc,CAAhB;;AAgrBA,4CAA6B1H,oBAAoB,SAApB,IAAkC+J,SAAlC;;AAE7B;AAAO,aA1wCG;;AA4wCV,iBAAM;AACN;;;AAGA;AACA,iBAAO,4BAASvM,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAIgE,sCAAsCnG,qBAAoB,cAAe,sBAAnC,CAA1C;;AAGrB,4CAA6BmC,oBAAoB,SAApB,IAAkC;AAC3DyF,gCAAYzB,oCAAoC,YAApC,EAAkD2O;AADH,iBAAlC;;AAI7B;AAAO,aA5xCG;;AA8xCV,iBAAM;AACN;;;AAGA;AACA,iBAAO,8BAASnV,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA;;;;;;;AAOA,oBAAI4S,aAAa;AACf5E,+BAAW,UADI;AAEfC,6BAAS,QAFM;AAGfE,6BAAS,QAHM;AAIfwE,0BAAM;AAJS,iBAAjB;;AAOA,4CAA6B3S,oBAAoB,SAApB,IAAkC4S,UAAlC;;AAE7B;AAAO,aAvzCG;;AAyzCV,iBAAM;AACN;;;AAGA;AACA,iBAAO,oCAASpV,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA;;;;;;AAMA,oBAAI6S,mBAAmB;AACrBC,iCAAa,aADQ;AAErBC,8BAAU,UAFW;AAGrBC,yBAAK,KAHgB;AAIrBV,4BAAQ;AAJa,iBAAvB;;AAOA,4CAA6BtS,oBAAoB,SAApB,IAAkC6S,gBAAlC;;AAE7B;AAAO,aAj1CG;;AAm1CV,iBAAM;AACN;;;AAGA;AACA,iBAAO,6BAASrV,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA;;;;;;;AAOA,oBAAIiT,YAAY;AACdC,6BAAS,SADK;AAEdd,+BAAW;AAFG,iBAAhB;;AAKA,4CAA6BpS,oBAAoB,SAApB,IAAkCiT,SAAlC;;AAE7B;AAAO,aA12CG;;AA42CV,iBAAM;AACN;;;AAGA;AACA,iBAAO,iCAASzV,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA;;;;;;AAMA,oBAAImT,gBAAgB;AAClBC,4BAAQ,QADU;AAElBC,6BAAS,SAFS;AAGlBC,yBAAK;AAHa,iBAApB;;AAMA,4CAA6BtT,oBAAoB,SAApB,IAAkCmT,aAAlC;;AAE7B;AAAO,aAn4CG;;AAq4CV,iBAAM;AACN;;;AAGA;AACA,iBAAO,yBAAS3V,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAIuT,4CAA4C1V,qBAAoB,oBAAqB,4BAAzC,CAAhD;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,YAA3C,EAAyD,YAAW;AAAE,2BAAOuT,0CAA0C,SAA1C,CAAP;AAA8D,iBAApI;;AAE9B,oCAAqB,IAAIC,kDAAkD3V,qBAAoB,0BAA2B,kCAA/C,CAAtD;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,kBAA3C,EAA+D,YAAW;AAAE,2BAAOwT,gDAAgD,SAAhD,CAAP;AAAoE,iBAAhJ;;AAE9B,oCAAqB,IAAIC,gDAAgD5V,qBAAoB,wBAAyB,gCAA7C,CAApD;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,gBAA3C,EAA6D,YAAW;AAAE,2BAAOyT,8CAA8C,SAA9C,CAAP;AAAkE,iBAA5I;;AAE9B,oCAAqB,IAAIC,2CAA2C7V,qBAAoB,mBAAoB,2BAAxC,CAA/C;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,WAA3C,EAAwD,YAAW;AAAE,2BAAO0T,yCAAyC,SAAzC,CAAP;AAA6D,iBAAlI;;AAE9B,oCAAqB,IAAIC,+CAA+C9V,qBAAoB,uBAAwB,+BAA5C,CAAnD;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,eAA3C,EAA4D,YAAW;AAAE,2BAAO2T,6CAA6C,SAA7C,CAAP;AAAiE,iBAA1I;;AAE9B;;;;;;;;;AAeA;AAAO,aA56CG;;AA86CV,iBAAM;AACN;;;AAGA;AACA,iBAAO,kCAASnW,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA;;;;;;AAMA,oBAAI4T,iBAAiB;AACnBC,gCAAY;AADO,iBAArB;;AAIA,4CAA6B7T,oBAAoB,SAApB,IAAkC4T,cAAlC;;AAE7B;AAAO,aAn8CG;;AAq8CV,iBAAM;AACN;;;AAGA;AACA,iBAAO,qBAASpW,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAI8T,0CAA0CjW,qBAAoB,kBAAmB,oBAAvC,CAA9C;AACrB,oCAAqB,IAAIkW,yCAAyClW,qBAAoB,iBAAkB,yBAAtC,CAA7C;AACrB,oCAAqB,IAAImW,sCAAsCnW,qBAAoB,cAAe,sBAAnC,CAA1C;AACrB,oCAAqB,IAAIoW,sCAAsCpW,qBAAoB,cAAe,sBAAnC,CAA1C;AACrB,oCAAqB,IAAIqW,sCAAsCrW,qBAAoB,cAAe,sBAAnC,CAA1C;AACrB,oCAAqB,IAAIsW,0CAA0CtW,qBAAoB,kBAAmB,0BAAvC,CAA9C;AACrB,oCAAqB,IAAIuW,6CAA6CvW,qBAAoB,sBAAuB,gBAA3C,CAAjD;AACrB,oBAAIwW,uDAAuD,aAAaxW,oBAAoBmB,CAApB,EAAsB,sBAAuB,gBAA7C,EAA+D,CAA/D,CAAxE;;AASA8U,wDAAwC,SAAxC,EAAmDQ,SAAnD,GAA+D;AAC7DC,6BAASR,uCAAuC,SAAvC,CADoD;AAE7DlC,yBAAKkC,uCAAuC,KAAvC,CAFwD;AAG7DS,4BAAQT,uCAAuC,QAAvC,CAHqD;AAI7DU,6BAASV,uCAAuC,SAAvC,CAJoD;AAK7DxH,6BAASwH,uCAAuC,SAAvC,CALoD;AAM7DhF,uCAAmBgF,uCAAuC,mBAAvC,CAN0C;AAO7D/I,0BAAM+I,uCAAuC,MAAvC,CAPuD;AAQ7DW,kCAAcX,uCAAuC,cAAvC,CAR+C;AAS7DY,gCAAYZ,uCAAuC,YAAvC,CATiD;AAU7Da,iCAAab,uCAAuC,aAAvC,CAVgD;AAW7Dc,mCAAed,uCAAuC,eAAvC,CAX8C;AAY7De,oCAAgBf,uCAAuC,gBAAvC,CAZ6C;AAa7DgB,mCAAehB,uCAAuC,eAAvC,CAb8C;AAc7DiB,2BAAOjB,uCAAuC,OAAvC;AAdsD,iBAA/D;AAgBAD,wDAAwC,SAAxC,EAAmDmB,KAAnD,GAA2DjB,mCAA3D;AACAxV,uBAAO4H,MAAP,CAAc0N,wCAAwC,SAAxC,CAAd,EAAkEG,mCAAlE;AACAH,wDAAwC,SAAxC,EAAmDoB,iBAAnD,GAAuEhB,oCAAoC,mBAApC,CAAvE;AACAJ,wDAAwC,SAAxC,EAAmDlB,UAAnD,GAAgEuB,wCAAwC,YAAxC,CAAhE;AACAL,wDAAwC,SAAxC,EAAmDX,aAAnD,GAAmEgB,wCAAwC,eAAxC,CAAnE;AACAL,wDAAwC,SAAxC,EAAmDqB,OAAnD,GAA6Df,2CAA2Ce,OAAxG;;AAEA,4CAA6BnV,oBAAoB,SAApB,IAAkC8T,wCAAwC,SAAxC,CAAlC;;AAE7B;AAAO,aAv/CG;;AAy/CV,iBAAM;AACN;;;AAGA;AACA,iBAAO,2BAAStW,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,8CAA+BnC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,4BAA3C,EAAyE,YAAW;AAAE,2BAAOoV,0BAAP;AAAoC,iBAA1H;AAC/B,8CAA+BvX,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,cAA3C,EAA2D,YAAW;AAAE,2BAAOqV,YAAP;AAAsB,iBAA9F;AAC/B,oCAAqB,IAAIrR,sCAAsCnG,qBAAoB,cAAe,sBAAnC,CAA1C;AACrB,oCAAqB,IAAIyX,uCAAuCzX,qBAAoB,eAAgB,uBAApC,CAA3C;;AAIrB;;;;;;;AAOA,yBAAS0X,eAAT,CAAyBpQ,IAAzB,EAA+BqG,MAA/B,EAAuC;AACnCrG,2BAAOA,QAAQ,EAAf;AACA,wBAAI+K,eAAe,KAAK,CAAxB;;AAEA,4BAAQ1E,OAAO+B,IAAf;AACI,6BAAKvJ,oCAAoC,WAApC,EAAiDkP,OAAtD;AACI,oCAAQ1H,OAAO6G,OAAf;AACI,qCAAKrO,oCAAoC,gBAApC,EAAsD6P,UAA3D;AACI3D,mDAAe,IAAIoF,qCAAqC,cAArC,CAAJ,CAAyD9J,OAAOnN,IAAhE,EAAsE8G,IAAtE,EAA4EqG,MAA5E,EAAoF,IAAI8J,qCAAqC,kBAArC,CAAJ,EAApF,CAAf;AACA,2CAAO,IAAIA,qCAAqC,YAArC,CAAJ,CAAuDpF,YAAvD,EAAqE,QAAQ/K,KAAK3C,MAAL,GAAc,CAAtB,CAArE,CAAP;AACJ;AACI0N,mDAAe,IAAIoF,qCAAqC,cAArC,CAAJ,CAAyD9J,OAAOnN,IAAhE,EAAsE8G,IAAtE,EAA4EqG,MAA5E,EAAoF,IAAI8J,qCAAqC,kBAArC,CAAJ,EAApF,CAAf;AACA,2CAAO,IAAIA,qCAAqC,YAArC,CAAJ,CAAuDpF,YAAvD,EAAqE,QAAQ/K,KAAK3C,MAAL,GAAc,CAAtB,CAArE,CAAP;AANR;AAQJ,6BAAKwB,oCAAoC,WAApC,EAAiDoO,SAAtD;AACI,oCAAQ5G,OAAO6G,OAAf;AACI,qCAAKrO,oCAAoC,kBAApC,EAAwD8O,WAA7D;AACI5C,mDAAe,IAAIoF,qCAAqC,cAArC,CAAJ,CAAyD9J,OAAOnN,IAAhE,EAAsE8G,IAAtE,EAA4EqG,MAA5E,EAAoF,IAAI8J,qCAAqC,mBAArC,CAAJ,EAApF,CAAf;AACA,2CAAO,IAAIA,qCAAqC,aAArC,CAAJ,CAAwDpF,YAAxD,EAAsE,QAAQ/K,KAAK3C,MAAL,GAAc,CAAtB,CAAtE,CAAP;AACJ,qCAAKwB,oCAAoC,kBAApC,EAAwD+O,QAA7D;AACI7C,mDAAe,IAAIoF,qCAAqC,cAArC,CAAJ,CAAyD9J,OAAOnN,IAAhE,EAAsE8G,IAAtE,EAA4EqG,MAA5E,EAAoF,IAAI8J,qCAAqC,gBAArC,CAAJ,CAA2D9J,MAA3D,CAApF,CAAf;AACA,2CAAO,IAAI8J,qCAAqC,UAArC,CAAJ,CAAqDpF,YAArD,EAAmE,QAAQ/K,KAAK3C,MAAL,GAAc,CAAtB,CAAnE,CAAP;AACJ,qCAAKwB,oCAAoC,kBAApC,EAAwDsO,MAA7D;AACIpC,mDAAe,IAAIoF,qCAAqC,cAArC,CAAJ,CAAyD9J,OAAOnN,IAAhE,EAAsE8G,IAAtE,EAA4EqG,MAA5E,EAAoF,IAAI8J,qCAAqC,cAArC,CAAJ,EAApF,CAAf;AACA,2CAAO,IAAIA,qCAAqC,QAArC,CAAJ,CAAmDpF,YAAnD,EAAiE,QAAQ/K,KAAK3C,MAAL,GAAc,CAAtB,CAAjE,CAAP;AACJ;AACI0N,mDAAe,IAAIoF,qCAAqC,cAArC,CAAJ,CAAyD9J,OAAOnN,IAAhE,EAAsE8G,IAAtE,EAA4EqG,MAA5E,EAAoF,IAAI8J,qCAAqC,mBAArC,CAAJ,EAApF,CAAf;AACA,2CAAO,IAAIA,qCAAqC,aAArC,CAAJ,CAAwDpF,YAAxD,EAAsE,QAAQ/K,KAAK3C,MAAL,GAAc,CAAtB,CAAtE,CAAP;AAZR;AAcJ;AACI0N,2CAAe,IAAIoF,qCAAqC,cAArC,CAAJ,CAAyD9J,OAAOnN,IAAhE,EAAsE8G,IAAtE,EAA4EqG,MAA5E,EAAoF,IAAI8J,qCAAqC,mBAArC,CAAJ,EAApF,CAAf;AACA,mCAAO,IAAIA,qCAAqC,aAArC,CAAJ,CAAwDpF,YAAxD,EAAsE,QAAQ/K,KAAK3C,MAAL,GAAc,CAAtB,CAAtE,CAAP;AA3BR;AA6BH;;AAED;;;;;;;AAOA,yBAAS4S,0BAAT,CAAoClF,YAApC,EAAkDsF,UAAlD,EAA8D;AAC1D,wBAAIhK,SAAS0E,aAAa1E,MAA1B;;AAGA,4BAAQA,OAAO+B,IAAf;AACI,6BAAKvJ,oCAAoC,WAApC,EAAiDkP,OAAtD;AACI,oCAAQ1H,OAAO6G,OAAf;AACI,qCAAKrO,oCAAoC,gBAApC,EAAsD6P,UAA3D;AACI,2CAAO,IAAIyB,qCAAqC,YAArC,CAAJ,CAAuDpF,YAAvD,EAAqEsF,UAArE,CAAP;AACJ;AACI,2CAAO,IAAIF,qCAAqC,YAArC,CAAJ,CAAuDpF,YAAvD,EAAqEsF,UAArE,CAAP;AAJR;AAMJ,6BAAKxR,oCAAoC,WAApC,EAAiDoO,SAAtD;AACI,oCAAQ5G,OAAO6G,OAAf;AACI,qCAAKrO,oCAAoC,kBAApC,EAAwD8O,WAA7D;AACI,2CAAO,IAAIwC,qCAAqC,aAArC,CAAJ,CAAwDpF,YAAxD,EAAsEsF,UAAtE,CAAP;AACJ,qCAAKxR,oCAAoC,kBAApC,EAAwD+O,QAA7D;AACI,2CAAO,IAAIuC,qCAAqC,UAArC,CAAJ,CAAqDpF,YAArD,EAAmEsF,UAAnE,CAAP;AACJ,qCAAKxR,oCAAoC,kBAApC,EAAwDsO,MAA7D;AACI,2CAAO,IAAIgD,qCAAqC,QAArC,CAAJ,CAAmDpF,YAAnD,EAAiEsF,UAAjE,CAAP;AACJ;AACI,2CAAO,IAAIF,qCAAqC,aAArC,CAAJ,CAAwDpF,YAAxD,EAAsEsF,UAAtE,CAAP;AARR;AAUJ;AACI,mCAAO,IAAIF,qCAAqC,aAArC,CAAJ,CAAwDpF,YAAxD,EAAsEsF,UAAtE,CAAP;AApBR;AAsBH;;AAED;;;;;;;;AAQA,yBAASH,YAAT,CAAsBI,UAAtB,EAAkCjK,MAAlC,EAA0CkK,OAA1C,EAAmD;AAC/C,wBAAIC,aAAa,EAAjB;;AAEA,wBAAI,EAAED,WAAWA,QAAQlT,MAArB,CAAJ,EAAkC;AAC9BkT,kCAAUlK,OAAOrK,GAAP,CAAW,UAAU4F,IAAV,EAAgB;AACjC,mCAAOA,KAAK1I,IAAZ;AACH,yBAFS,CAAV;AAGH;;AAEDqX,4BAAQ7T,OAAR,CAAgB,UAAUwE,MAAV,EAAkBtI,CAAlB,EAAqB;AACjC4X,mCAAWtP,MAAX,IAAqBtI,CAArB;AACH,qBAFD;;AAIA,2BAAOyN,OAAOrK,GAAP,CAAW,UAAU4F,IAAV,EAAgB;AAC9B,+BAAOwO,gBAAgBE,WAAWE,WAAW5O,KAAK1I,IAAhB,CAAX,CAAhB,EAAmD0I,IAAnD,CAAP;AACH,qBAFM,CAAP;AAGH;;AAED;AAAO,aAhnDG;;AAknDV,iBAAM;AACN;;;AAGA;AACA,iBAAO,yBAASvJ,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAIgE,sCAAsCnG,qBAAoB,cAAe,sBAAnC,CAA1C;AACrB,oCAAqB,IAAI+X,sCAAsC/X,qBAAoB,cAAe,sBAAnC,CAA1C;;AAIrB,oBAAIgY,aAAa;AACb1Q,0BAAM,EADO;;AAGb2Q,qCAAiB,SAASA,eAAT,CAAyBC,QAAzB,EAAmC1X,IAAnC,EAAyC;AACtD,4BAAI2X,SAAS3X,QAAQG,OAAOoX,oCAAoC,aAApC,CAAP,GAArB;AACA,6BAAKzQ,IAAL,CAAU6Q,MAAV,IAAoB;AAChB3X,kCAAM2X,MADU;AAEhBhP,oCAAQ+O,QAFQ;AAGhBtH,uCAAW,SAASA,SAAT,GAAqB;AAC5B,oCAAIwH,SAAS,EAAb;AACA,qCAAKjP,MAAL,CAAYnF,OAAZ,CAAoB,UAAU0E,KAAV,EAAiB;AACjC0P,2CAAO1P,MAAMlI,IAAN,EAAP,IAAuBkI,KAAvB;AACH,iCAFD;AAGA,uCAAO0P,MAAP;AACH,6BATe;AAUhBC,wCAAY,SAASA,UAAT,GAAsB;AAC9B,oCAAID,SAAS,EAAb;AACA,qCAAKjP,MAAL,CAAYnF,OAAZ,CAAoB,UAAU0E,KAAV,EAAiB;AACjC,wCAAIA,MAAMiF,MAAN,GAAe+B,IAAf,KAAwBvJ,oCAAoC,WAApC,EAAiDkP,OAA7E,EAAsF;AAClF+C,+CAAO1P,MAAMlI,IAAN,EAAP,IAAuBkI,KAAvB;AACH;AACJ,iCAJD;AAKA,uCAAO0P,MAAP;AACH,6BAlBe;AAmBhBE,0CAAc,SAASA,YAAT,GAAwB;AAClC,oCAAIF,SAAS,EAAb;AACA,qCAAKjP,MAAL,CAAYnF,OAAZ,CAAoB,UAAU0E,KAAV,EAAiB;AACjC,wCAAIA,MAAMiF,MAAN,GAAe+B,IAAf,KAAwBvJ,oCAAoC,WAApC,EAAiDoO,SAA7E,EAAwF;AACpF6D,+CAAO1P,MAAMlI,IAAN,EAAP,IAAuBkI,KAAvB;AACH;AACJ,iCAJD;AAKA,uCAAO0P,MAAP;AACH;AA3Be,yBAApB;AA6BA,+BAAO,KAAK9Q,IAAL,CAAU6Q,MAAV,CAAP;AACH;AAnCY,iBAAjB;;AAsCA,4CAA6BhW,oBAAoB,SAApB,IAAkC6V,UAAlC;;AAE7B;AAAO,aAxqDG;;AA0qDV,iBAAM;AACN;;;AAGA;AACA,iBAAO,gCAASrY,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAIoW,0CAA0CvY,qBAAoB,mBAAoB,iCAAxC,CAA9C;AACrB,oBAAI6K,eAAe,YAAY;AAAE,6BAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,6BAAK,IAAI9K,IAAI,CAAb,EAAgBA,IAAI8K,MAAMrG,MAA1B,EAAkCzE,GAAlC,EAAuC;AAAE,gCAAI+K,aAAaD,MAAM9K,CAAN,CAAjB,CAA2B+K,WAAWpK,UAAX,GAAwBoK,WAAWpK,UAAX,IAAyB,KAAjD,CAAwDoK,WAAWC,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAWD,UAAf,EAA2BA,WAAWE,QAAX,GAAsB,IAAtB,CAA4BxK,OAAOC,cAAP,CAAsBmK,MAAtB,EAA8BE,WAAWzJ,GAAzC,EAA8CyJ,UAA9C;AAA4D;AAAE,qBAAC,OAAO,UAAUG,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,4BAAID,UAAJ,EAAgBP,iBAAiBM,YAAYrJ,SAA7B,EAAwCsJ,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBR,iBAAiBM,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;AAAqB,qBAAhN;AAAmN,iBAA9hB,EAAnB;;AAEA,yBAASG,eAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;AAAE,wBAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;AAAE,8BAAM,IAAIR,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,yBAASa,0BAAT,CAAoCC,IAApC,EAA0CtL,IAA1C,EAAgD;AAAE,wBAAI,CAACsL,IAAL,EAAW;AAAE,8BAAM,IAAIC,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF,qBAAC,OAAOvL,SAAS,QAAOA,IAAP,0CAAOA,IAAP,OAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAArD,IAAmEA,IAAnE,GAA0EsL,IAAjF;AAAwF;;AAEhP,yBAASE,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,wBAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,eAAe,IAAvD,EAA6D;AAAE,8BAAM,IAAIlB,SAAJ,CAAc,qEAAoEkB,UAApE,0CAAoEA,UAApE,EAAd,CAAN;AAAsG,qBAACD,SAAS9J,SAAT,GAAqBpB,OAAOY,MAAP,CAAcuK,cAAcA,WAAW/J,SAAvC,EAAkD,EAAEgK,aAAa,EAAE7K,OAAO2K,QAAT,EAAmBhL,YAAY,KAA/B,EAAsCsK,UAAU,IAAhD,EAAsDD,cAAc,IAApE,EAAf,EAAlD,CAArB,CAAqK,IAAIY,UAAJ,EAAgBnL,OAAOqL,cAAP,GAAwBrL,OAAOqL,cAAP,CAAsBH,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsED,SAASI,SAAT,GAAqBH,UAA3F;AAAwG;;AAI9e;;;;;;;;AAQA,oBAAI0M,SAAS,UAAUC,UAAV,EAAsB;AACjC7M,8BAAU4M,MAAV,EAAkBC,UAAlB;;AAEA,6BAASD,MAAT,GAAkB;AAChBjN,wCAAgB,IAAhB,EAAsBiN,MAAtB;;AAEA,+BAAO/M,2BAA2B,IAA3B,EAAiC,CAAC+M,OAAOvM,SAAP,IAAoBtL,OAAO+L,cAAP,CAAsB8L,MAAtB,CAArB,EAAoD7P,KAApD,CAA0D,IAA1D,EAAgE2D,SAAhE,CAAjC,CAAP;AACD;;AAEDzB,iCAAa2N,MAAb,EAAqB,CAAC;AACpBhX,6BAAK,qBADe;;AAGpB;;;;;;;AAOAN,+BAAO,SAASwX,mBAAT,GAA+B;AACpC,gCAAIC,UAAU,KAAKtG,YAAL,CAAkB1E,MAAlB,CAAyB+G,IAAvC;AACA,mCAAO,CAACiE,QAAQ,CAAR,CAAD,EAAaA,QAAQA,QAAQhU,MAAR,GAAiB,CAAzB,CAAb,CAAP;AACD;;AAED;;;;;;;AAfoB,qBAAD,EAsBlB;AACDnD,6BAAK,MADJ;AAEDN,+BAAO,SAASwT,IAAT,GAAgB;AACrB,mCAAO,KAAKrC,YAAL,CAAkB1E,MAAlB,CAAyB+G,IAAhC;AACD;AAJA,qBAtBkB,CAArB;;AA6BA,2BAAO8D,MAAP;AACD,iBAvCY,CAuCXD,wCAAwC,SAAxC,CAvCW,CAAb;;AAyCA,4CAA6BpW,oBAAoB,SAApB,IAAkCqW,MAAlC;;AAE7B;AAAO,aAjvDG;;AAmvDV,iBAAM;AACN;;;AAGA;AACA,iBAAO,qCAAS7Y,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAIyW,8DAA8D5Y,qBAAoB,0CAA2C,wCAA/D,CAAlE;AACrB,oCAAqB,IAAI6Y,sCAAsC7Y,qBAAoB,kBAAmB,sBAAvC,CAA1C;AACrB,oCAAqB,IAAI8Y,0CAA0C9Y,qBAAoB,mBAAoB,iCAAxC,CAA9C;AACrB,oBAAI6K,eAAe,YAAY;AAAE,6BAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,6BAAK,IAAI9K,IAAI,CAAb,EAAgBA,IAAI8K,MAAMrG,MAA1B,EAAkCzE,GAAlC,EAAuC;AAAE,gCAAI+K,aAAaD,MAAM9K,CAAN,CAAjB,CAA2B+K,WAAWpK,UAAX,GAAwBoK,WAAWpK,UAAX,IAAyB,KAAjD,CAAwDoK,WAAWC,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAWD,UAAf,EAA2BA,WAAWE,QAAX,GAAsB,IAAtB,CAA4BxK,OAAOC,cAAP,CAAsBmK,MAAtB,EAA8BE,WAAWzJ,GAAzC,EAA8CyJ,UAA9C;AAA4D;AAAE,qBAAC,OAAO,UAAUG,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,4BAAID,UAAJ,EAAgBP,iBAAiBM,YAAYrJ,SAA7B,EAAwCsJ,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBR,iBAAiBM,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;AAAqB,qBAAhN;AAAmN,iBAA9hB,EAAnB;;AAEA,yBAASG,eAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;AAAE,wBAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;AAAE,8BAAM,IAAIR,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,yBAASa,0BAAT,CAAoCC,IAApC,EAA0CtL,IAA1C,EAAgD;AAAE,wBAAI,CAACsL,IAAL,EAAW;AAAE,8BAAM,IAAIC,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF,qBAAC,OAAOvL,SAAS,QAAOA,IAAP,0CAAOA,IAAP,OAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAArD,IAAmEA,IAAnE,GAA0EsL,IAAjF;AAAwF;;AAEhP,yBAASE,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,wBAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,eAAe,IAAvD,EAA6D;AAAE,8BAAM,IAAIlB,SAAJ,CAAc,qEAAoEkB,UAApE,0CAAoEA,UAApE,EAAd,CAAN;AAAsG,qBAACD,SAAS9J,SAAT,GAAqBpB,OAAOY,MAAP,CAAcuK,cAAcA,WAAW/J,SAAvC,EAAkD,EAAEgK,aAAa,EAAE7K,OAAO2K,QAAT,EAAmBhL,YAAY,KAA/B,EAAsCsK,UAAU,IAAhD,EAAsDD,cAAc,IAApE,EAAf,EAAlD,CAArB,CAAqK,IAAIY,UAAJ,EAAgBnL,OAAOqL,cAAP,GAAwBrL,OAAOqL,cAAP,CAAsBH,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsED,SAASI,SAAT,GAAqBH,UAA3F;AAAwG;;AAM9e;;;;;;;;AAQA,oBAAIiN,cAAc,UAAUN,UAAV,EAAsB;AACpC7M,8BAAUmN,WAAV,EAAuBN,UAAvB;;AAEA,6BAASM,WAAT,GAAuB;AACnBxN,wCAAgB,IAAhB,EAAsBwN,WAAtB;;AAEA,+BAAOtN,2BAA2B,IAA3B,EAAiC,CAACsN,YAAY9M,SAAZ,IAAyBtL,OAAO+L,cAAP,CAAsBqM,WAAtB,CAA1B,EAA8DpQ,KAA9D,CAAoE,IAApE,EAA0E2D,SAA1E,CAAjC,CAAP;AACH;;AAEDzB,iCAAakO,WAAb,EAA0B,CAAC;AACvBvX,6BAAK,SADkB;;AAGvB;;;;;;;AAOAN,+BAAO,SAASsT,OAAT,GAAmB;AACtB,mCAAOqE,oCAAoC,kBAApC,EAAwD5D,WAA/D;AACH;;AAED;;;;;;;;AAduB,qBAAD,EAsBvB;AACCzT,6BAAK,qBADN;AAECN,+BAAO,SAASwX,mBAAT,GAA+B;AAClC,gCAAItH,SAAS,IAAb;;AAEA,gCAAI4H,OAAO,IAAIC,GAAJ,EAAX;AACA,gCAAIC,SAAS,EAAb;;AAEA;AACAvY,mCAAOiY,4DAA4D,oBAA5D,CAAP,EAA0F,KAAKjB,UAA/F,EAA2G,UAAUzX,CAAV,EAAa;AACpH,oCAAIsO,QAAQ4C,OAAOiB,YAAP,CAAoB/K,IAApB,CAAyBpH,CAAzB,CAAZ;AACA,oCAAI,CAAC8Y,KAAKG,GAAL,CAAS3K,KAAT,CAAL,EAAsB;AAClBwK,yCAAKI,GAAL,CAAS5K,KAAT;AACA0K,2CAAOhV,IAAP,CAAYsK,KAAZ;AACH;AACJ,6BAND;AAOA,mCAAO0K,MAAP;AACH;AAjBF,qBAtBuB,CAA1B;;AA0CA,2BAAOH,WAAP;AACH,iBApDiB,CAoDhBD,wCAAwC,SAAxC,CApDgB,CAAlB;;AAsDA,4CAA6B3W,oBAAoB,SAApB,IAAkC4W,WAAlC;;AAE7B;AAAO,aA30DG;;AA60DV,iBAAM;AACN;;;AAGA;AACA,iBAAO,oCAASpZ,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAIyW,8DAA8D5Y,qBAAoB,0CAA2C,wCAA/D,CAAlE;AACrB,oCAAqB,IAAI6Y,sCAAsC7Y,qBAAoB,kBAAmB,sBAAvC,CAA1C;AACrB,oCAAqB,IAAIqZ,wCAAwCrZ,qBAAoB,iBAAkB,+BAAtC,CAA5C;AACrB,oBAAI6K,eAAe,YAAY;AAAE,6BAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,6BAAK,IAAI9K,IAAI,CAAb,EAAgBA,IAAI8K,MAAMrG,MAA1B,EAAkCzE,GAAlC,EAAuC;AAAE,gCAAI+K,aAAaD,MAAM9K,CAAN,CAAjB,CAA2B+K,WAAWpK,UAAX,GAAwBoK,WAAWpK,UAAX,IAAyB,KAAjD,CAAwDoK,WAAWC,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAWD,UAAf,EAA2BA,WAAWE,QAAX,GAAsB,IAAtB,CAA4BxK,OAAOC,cAAP,CAAsBmK,MAAtB,EAA8BE,WAAWzJ,GAAzC,EAA8CyJ,UAA9C;AAA4D;AAAE,qBAAC,OAAO,UAAUG,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,4BAAID,UAAJ,EAAgBP,iBAAiBM,YAAYrJ,SAA7B,EAAwCsJ,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBR,iBAAiBM,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;AAAqB,qBAAhN;AAAmN,iBAA9hB,EAAnB;;AAEA,yBAASG,eAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;AAAE,wBAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;AAAE,8BAAM,IAAIR,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,yBAASa,0BAAT,CAAoCC,IAApC,EAA0CtL,IAA1C,EAAgD;AAAE,wBAAI,CAACsL,IAAL,EAAW;AAAE,8BAAM,IAAIC,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF,qBAAC,OAAOvL,SAAS,QAAOA,IAAP,0CAAOA,IAAP,OAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAArD,IAAmEA,IAAnE,GAA0EsL,IAAjF;AAAwF;;AAEhP,yBAASE,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,wBAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,eAAe,IAAvD,EAA6D;AAAE,8BAAM,IAAIlB,SAAJ,CAAc,qEAAoEkB,UAApE,0CAAoEA,UAApE,EAAd,CAAN;AAAsG,qBAACD,SAAS9J,SAAT,GAAqBpB,OAAOY,MAAP,CAAcuK,cAAcA,WAAW/J,SAAvC,EAAkD,EAAEgK,aAAa,EAAE7K,OAAO2K,QAAT,EAAmBhL,YAAY,KAA/B,EAAsCsK,UAAU,IAAhD,EAAsDD,cAAc,IAApE,EAAf,EAAlD,CAArB,CAAqK,IAAIY,UAAJ,EAAgBnL,OAAOqL,cAAP,GAAwBrL,OAAOqL,cAAP,CAAsBH,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsED,SAASI,SAAT,GAAqBH,UAA3F;AAAwG;;AAM9e;;;;;;;;AAQA,oBAAIwN,aAAa,UAAUC,QAAV,EAAoB;AACjC3N,8BAAU0N,UAAV,EAAsBC,QAAtB;;AAEA,6BAASD,UAAT,GAAsB;AAClB/N,wCAAgB,IAAhB,EAAsB+N,UAAtB;;AAEA,+BAAO7N,2BAA2B,IAA3B,EAAiC,CAAC6N,WAAWrN,SAAX,IAAwBtL,OAAO+L,cAAP,CAAsB4M,UAAtB,CAAzB,EAA4D3Q,KAA5D,CAAkE,IAAlE,EAAwE2D,SAAxE,CAAjC,CAAP;AACH;;AAEDzB,iCAAayO,UAAb,EAAyB,CAAC;AACtB9X,6BAAK,SADiB;;AAGtB;;;;;;;AAOAN,+BAAO,SAASsT,OAAT,GAAmB;AACtB,mCAAOqE,oCAAoC,gBAApC,EAAsD7C,UAA7D;AACH;;AAED;;;;;;;;AAdsB,qBAAD,EAsBtB;AACCxU,6BAAK,qBADN;AAECN,+BAAO,SAASwX,mBAAT,GAA+B;AAClC,gCAAItH,SAAS,IAAb;;AAEA,gCAAIoI,MAAMC,OAAOC,iBAAjB;AACA,gCAAIC,MAAMF,OAAOG,iBAAjB;;AAEA;AACAjZ,mCAAOiY,4DAA4D,oBAA5D,CAAP,EAA0F,KAAKjB,UAA/F,EAA2G,UAAUzX,CAAV,EAAa;AACpH,oCAAIsO,QAAQ4C,OAAOiB,YAAP,CAAoB/K,IAApB,CAAyBpH,CAAzB,CAAZ;AACA,oCAAIsO,QAAQgL,GAAZ,EAAiB;AACbA,0CAAMhL,KAAN;AACH;AACD,oCAAIA,QAAQmL,GAAZ,EAAiB;AACbA,0CAAMnL,KAAN;AACH;AACJ,6BARD;;AAUA,mCAAO,CAACgL,GAAD,EAAMG,GAAN,CAAP;AACH;AApBF,qBAtBsB,CAAzB;;AA6CA,2BAAOL,UAAP;AACH,iBAvDgB,CAuDfD,sCAAsC,SAAtC,CAvDe,CAAjB;;AAyDA,4CAA6BlX,oBAAoB,SAApB,IAAkCmX,UAAlC;;AAE7B;AAAO,aAx6DG;;AA06DV,iBAAM;AACN;;;AAGA;AACA,iBAAO,mCAAS3Z,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAI0X,sCAAsC7Z,qBAAoB,eAAgB,6BAApC,CAA1C;AACrB,oBAAI6K,eAAe,YAAY;AAAE,6BAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,6BAAK,IAAI9K,IAAI,CAAb,EAAgBA,IAAI8K,MAAMrG,MAA1B,EAAkCzE,GAAlC,EAAuC;AAAE,gCAAI+K,aAAaD,MAAM9K,CAAN,CAAjB,CAA2B+K,WAAWpK,UAAX,GAAwBoK,WAAWpK,UAAX,IAAyB,KAAjD,CAAwDoK,WAAWC,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAWD,UAAf,EAA2BA,WAAWE,QAAX,GAAsB,IAAtB,CAA4BxK,OAAOC,cAAP,CAAsBmK,MAAtB,EAA8BE,WAAWzJ,GAAzC,EAA8CyJ,UAA9C;AAA4D;AAAE,qBAAC,OAAO,UAAUG,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,4BAAID,UAAJ,EAAgBP,iBAAiBM,YAAYrJ,SAA7B,EAAwCsJ,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBR,iBAAiBM,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;AAAqB,qBAAhN;AAAmN,iBAA9hB,EAAnB;;AAEA,yBAASG,eAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;AAAE,wBAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;AAAE,8BAAM,IAAIR,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,yBAASa,0BAAT,CAAoCC,IAApC,EAA0CtL,IAA1C,EAAgD;AAAE,wBAAI,CAACsL,IAAL,EAAW;AAAE,8BAAM,IAAIC,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF,qBAAC,OAAOvL,SAAS,QAAOA,IAAP,0CAAOA,IAAP,OAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAArD,IAAmEA,IAAnE,GAA0EsL,IAAjF;AAAwF;;AAEhP,yBAASE,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,wBAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,eAAe,IAAvD,EAA6D;AAAE,8BAAM,IAAIlB,SAAJ,CAAc,qEAAoEkB,UAApE,0CAAoEA,UAApE,EAAd,CAAN;AAAsG,qBAACD,SAAS9J,SAAT,GAAqBpB,OAAOY,MAAP,CAAcuK,cAAcA,WAAW/J,SAAvC,EAAkD,EAAEgK,aAAa,EAAE7K,OAAO2K,QAAT,EAAmBhL,YAAY,KAA/B,EAAsCsK,UAAU,IAAhD,EAAsDD,cAAc,IAApE,EAAf,EAAlD,CAArB,CAAqK,IAAIY,UAAJ,EAAgBnL,OAAOqL,cAAP,GAAwBrL,OAAOqL,cAAP,CAAsBH,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsED,SAASI,SAAT,GAAqBH,UAA3F;AAAwG;;AAI9e;;;;;;;;AAQA,oBAAIgO,YAAY,UAAUC,MAAV,EAAkB;AAC9BnO,8BAAUkO,SAAV,EAAqBC,MAArB;;AAEA,6BAASD,SAAT,GAAqB;AACjBvO,wCAAgB,IAAhB,EAAsBuO,SAAtB;;AAEA,+BAAOrO,2BAA2B,IAA3B,EAAiC,CAACqO,UAAU7N,SAAV,IAAuBtL,OAAO+L,cAAP,CAAsBoN,SAAtB,CAAxB,EAA0DnR,KAA1D,CAAgE,IAAhE,EAAsE2D,SAAtE,CAAjC,CAAP;AACH;;AAEDzB,iCAAaiP,SAAb,EAAwB,CAAC;AACrBtY,6BAAK,QADgB;;AAGrB;;;;;;;AAOAN,+BAAO,SAASgY,MAAT,GAAkB;AACrB,gCAAI,CAAC,KAAKc,aAAV,EAAyB;AACrB,qCAAKA,aAAL,GAAqB,KAAKtB,mBAAL,EAArB;AACH;AACD,mCAAO,KAAKsB,aAAZ;AACH;;AAED;;;;;;;AAjBqB,qBAAD,EAwBrB;AACCxY,6BAAK,qBADN;AAECN,+BAAO,SAASwX,mBAAT,GAA+B;AAClC,kCAAM,IAAI7Q,KAAJ,CAAU,qBAAV,CAAN;AACH;;AAED;;;;;;;;AAND,qBAxBqB,EAsCrB;AACCrG,6BAAK,eADN;AAECN,+BAAO,SAAS4O,aAAT,GAAyB;AAC5B,mCAAO,KAAKxI,IAAL,EAAP;AACH;AAJF,qBAtCqB,CAAxB;;AA6CA,2BAAOwS,SAAP;AACH,iBAvDe,CAuDdD,oCAAoC,SAApC,CAvDc,CAAhB;;AAyDA,4CAA6B1X,oBAAoB,SAApB,IAAkC2X,SAAlC;;AAE7B;AAAO,aAjgEG;;AAmgEV,iBAAM;AACN;;;AAGA;AACA,iBAAO,+BAASna,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAIyW,8DAA8D5Y,qBAAoB,0CAA2C,wCAA/D,CAAlE;AACrB,oBAAI6K,eAAe,YAAY;AAAE,6BAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,6BAAK,IAAI9K,IAAI,CAAb,EAAgBA,IAAI8K,MAAMrG,MAA1B,EAAkCzE,GAAlC,EAAuC;AAAE,gCAAI+K,aAAaD,MAAM9K,CAAN,CAAjB,CAA2B+K,WAAWpK,UAAX,GAAwBoK,WAAWpK,UAAX,IAAyB,KAAjD,CAAwDoK,WAAWC,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAWD,UAAf,EAA2BA,WAAWE,QAAX,GAAsB,IAAtB,CAA4BxK,OAAOC,cAAP,CAAsBmK,MAAtB,EAA8BE,WAAWzJ,GAAzC,EAA8CyJ,UAA9C;AAA4D;AAAE,qBAAC,OAAO,UAAUG,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,4BAAID,UAAJ,EAAgBP,iBAAiBM,YAAYrJ,SAA7B,EAAwCsJ,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBR,iBAAiBM,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;AAAqB,qBAAhN;AAAmN,iBAA9hB,EAAnB;;AAEA,yBAASG,eAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;AAAE,wBAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;AAAE,8BAAM,IAAIR,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAIzJ;;;;;;;;;;;;;;;;;;;;AAoBA,oBAAIqP,QAAQ,YAAY;AACpB;;;;;;;AAOA,6BAASA,KAAT,CAAe5H,YAAf,EAA6BsF,UAA7B,EAAyC;AACrCpM,wCAAgB,IAAhB,EAAsB0O,KAAtB;;AAEA,6BAAK5H,YAAL,GAAoBA,YAApB;AACA,6BAAKsF,UAAL,GAAkBA,UAAlB;AACH;;AAED;;;;;;;AAQA9M,iCAAaoP,KAAb,EAAoB,CAAC;AACjBzY,6BAAK,QADY;AAEjBN,+BAAO,SAASgY,MAAT,GAAkB;AACrB,kCAAM,IAAIrR,KAAJ,CAAU,qBAAV,CAAN;AACH;;AAED;;;;;;;AANiB,qBAAD,EAajB;AACCrG,6BAAK,QADN;AAECN,+BAAO,SAASyM,MAAT,GAAkB;AACrB,mCAAO,KAAK0E,YAAL,CAAkB1E,MAAzB;AACH;;AAED;;;;;;;AAND,qBAbiB,EA0BjB;AACCnM,6BAAK,MADN;AAECN,+BAAO,SAASV,IAAT,GAAgB;AACnB,mCAAO,KAAK6R,YAAL,CAAkB7R,IAAzB;AACH;;AAED;;;;;;;AAND,qBA1BiB,EAuCjB;AACCgB,6BAAK,MADN;AAECN,+BAAO,SAASwO,IAAT,GAAgB;AACnB,mCAAO,KAAK2C,YAAL,CAAkB1E,MAAlB,CAAyB+B,IAAhC;AACH;;AAED;;;;;;;AAND,qBAvCiB,EAoDjB;AACClO,6BAAK,SADN;AAECN,+BAAO,SAASsT,OAAT,GAAmB;AACtB,mCAAO,KAAKnC,YAAL,CAAkB1E,MAAlB,CAAyB6G,OAAhC;AACH;;AAED;;;;;;;AAND,qBApDiB,EAiEjB;AACChT,6BAAK,aADN;AAECN,+BAAO,SAASgZ,WAAT,GAAuB;AAC1B,mCAAO,KAAK7H,YAAL,CAAkB1E,MAAlB,CAAyBuM,WAAhC;AACH;;AAED;;;;;;;AAND,qBAjEiB,EA8EjB;AACC1Y,6BAAK,aADN;AAECN,+BAAO,SAASiZ,WAAT,GAAuB;AAC1B,mCAAO,KAAK9H,YAAL,CAAkB1E,MAAlB,CAAyBwM,WAAzB,IAAwC,KAAK9H,YAAL,CAAkB1E,MAAlB,CAAyBnN,IAAxE;AACH;;AAED;;;;;;;AAND,qBA9EiB,EA2FjB;AACCgB,6BAAK,MADN;AAECN,+BAAO,SAASoG,IAAT,GAAgB;AACnB,gCAAImF,QAAQ,IAAZ;;AAEA,gCAAInF,OAAO,EAAX;AACA3G,mCAAOiY,4DAA4D,oBAA5D,CAAP,EAA0F,KAAKjB,UAA/F,EAA2G,UAAUzX,CAAV,EAAa;AACpHoH,qCAAKpD,IAAL,CAAUuI,MAAM4F,YAAN,CAAmB/K,IAAnB,CAAwBpH,CAAxB,CAAV;AACH,6BAFD;AAGA,mCAAOoH,IAAP;AACH;;AAED;;;;;;;AAZD,qBA3FiB,EA8GjB;AACC9F,6BAAK,eADN;AAECN,+BAAO,SAAS4O,aAAT,GAAyB;AAC5B,kCAAM,IAAIjI,KAAJ,CAAU,qBAAV,CAAN;AACH;AAJF,qBA9GiB,CAApB;;AAqHA,2BAAOoS,KAAP;AACH,iBA7IW,EAAZ;;AA+IA,4CAA6B9X,oBAAoB,SAApB,IAAkC8X,KAAlC;;AAE7B;AAAO,aAxrEG;;AA0rEV,iBAAM;AACN;;;AAGA;AACA,iBAAO,0BAASta,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAI0X,sCAAsC7Z,qBAAoB,cAAe,6BAAnC,CAA1C;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,OAA3C,EAAoD,YAAW;AAAE,2BAAO0X,oCAAoC,SAApC,CAAP;AAAwD,iBAAzH;;AAE9B,oCAAqB,IAAIO,0CAA0Cpa,qBAAoB,kBAAmB,iCAAvC,CAA9C;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,WAA3C,EAAwD,YAAW;AAAE,2BAAOiY,wCAAwC,SAAxC,CAAP;AAA4D,iBAAjI;;AAE9B,oCAAqB,IAAIC,4CAA4Cra,qBAAoB,oBAAqB,mCAAzC,CAAhD;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,aAA3C,EAA0D,YAAW;AAAE,2BAAOkY,0CAA0C,SAA1C,CAAP;AAA8D,iBAArI;;AAE9B,oCAAqB,IAAIC,yCAAyCta,qBAAoB,iBAAkB,gCAAtC,CAA7C;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,UAA3C,EAAuD,YAAW;AAAE,2BAAOmY,uCAAuC,SAAvC,CAAP;AAA2D,iBAA/H;;AAE9B,oCAAqB,IAAIC,uCAAuCva,qBAAoB,eAAgB,8BAApC,CAA3C;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,QAA3C,EAAqD,YAAW;AAAE,2BAAOoY,qCAAqC,SAArC,CAAP;AAAyD,iBAA3H;;AAE9B,oCAAqB,IAAIC,wCAAwCxa,qBAAoB,gBAAiB,+BAArC,CAA5C;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,SAA3C,EAAsD,YAAW;AAAE,2BAAOqY,sCAAsC,SAAtC,CAAP;AAA0D,iBAA7H;;AAE9B,oCAAqB,IAAIC,2CAA2Cza,qBAAoB,mBAAoB,kCAAxC,CAA/C;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,YAA3C,EAAyD,YAAW;AAAE,2BAAOsY,yCAAyC,SAAzC,CAAP;AAA6D,iBAAnI;;AAE9B,oCAAqB,IAAIC,qDAAqD1a,qBAAoB,6BAA8B,4CAAlD,CAAzD;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,aAA3C,EAA0D,YAAW;AAAE,2BAAOuY,mDAAmD,SAAnD,CAAP;AAAuE,iBAA9I;;AAE9B,oCAAqB,IAAIC,2DAA2D3a,qBAAoB,mCAAoC,kDAAxD,CAA/D;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,mBAA3C,EAAgE,YAAW;AAAE,2BAAOwY,yDAAyD,SAAzD,CAAP;AAA6E,iBAA1J;;AAE9B,oCAAqB,IAAIC,wDAAwD5a,qBAAoB,gCAAiC,+CAArD,CAA5D;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,gBAA3C,EAA6D,YAAW;AAAE,2BAAOyY,sDAAsD,SAAtD,CAAP;AAA0E,iBAApJ;;AAE9B,oCAAqB,IAAIC,uDAAuD7a,qBAAoB,8BAA+B,6CAAnD,CAA3D;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,cAA3C,EAA2D,YAAW;AAAE,2BAAO0Y,qDAAqD,SAArD,CAAP;AAAyE,iBAAjJ;;AAE9B,oCAAqB,IAAIC,2DAA2D9a,qBAAoB,kCAAmC,iDAAvD,CAA/D;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,kBAA3C,EAA+D,YAAW;AAAE,2BAAO2Y,yDAAyD,SAAzD,CAAP;AAA6E,iBAAzJ;;AAE9B,oCAAqB,IAAIC,+CAA+C/a,qBAAoB,sBAAuB,qCAA3C,CAAnD;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,cAA3C,EAA2D,YAAW;AAAE,2BAAO4Y,6CAA6C,SAA7C,CAAP;AAAiE,iBAAzI;;AAgB9B;AAAO,aAxvEG;;AA0vEV,iBAAM;AACN;;;AAGA;AACA,iBAAO,iCAASpb,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAI2F,sCAAsC9H,qBAAoB,kBAAmB,sBAAvC,CAA1C;AACrB,oCAAqB,IAAIgb,2DAA2Dhb,qBAAoB,uCAAwC,qCAA5D,CAA/D;AACrB,oCAAqB,IAAIib,sCAAsCjb,qBAAoB,eAAgB,6BAApC,CAA1C;AACrB,oBAAI6K,eAAe,YAAY;AAAE,6BAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,6BAAK,IAAI9K,IAAI,CAAb,EAAgBA,IAAI8K,MAAMrG,MAA1B,EAAkCzE,GAAlC,EAAuC;AAAE,gCAAI+K,aAAaD,MAAM9K,CAAN,CAAjB,CAA2B+K,WAAWpK,UAAX,GAAwBoK,WAAWpK,UAAX,IAAyB,KAAjD,CAAwDoK,WAAWC,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAWD,UAAf,EAA2BA,WAAWE,QAAX,GAAsB,IAAtB,CAA4BxK,OAAOC,cAAP,CAAsBmK,MAAtB,EAA8BE,WAAWzJ,GAAzC,EAA8CyJ,UAA9C;AAA4D;AAAE,qBAAC,OAAO,UAAUG,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,4BAAID,UAAJ,EAAgBP,iBAAiBM,YAAYrJ,SAA7B,EAAwCsJ,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBR,iBAAiBM,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;AAAqB,qBAAhN;AAAmN,iBAA9hB,EAAnB;;AAEA,yBAASG,eAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;AAAE,wBAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;AAAE,8BAAM,IAAIR,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,yBAASa,0BAAT,CAAoCC,IAApC,EAA0CtL,IAA1C,EAAgD;AAAE,wBAAI,CAACsL,IAAL,EAAW;AAAE,8BAAM,IAAIC,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF,qBAAC,OAAOvL,SAAS,QAAOA,IAAP,0CAAOA,IAAP,OAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAArD,IAAmEA,IAAnE,GAA0EsL,IAAjF;AAAwF;;AAEhP,yBAASE,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,wBAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,eAAe,IAAvD,EAA6D;AAAE,8BAAM,IAAIlB,SAAJ,CAAc,qEAAoEkB,UAApE,0CAAoEA,UAApE,EAAd,CAAN;AAAsG,qBAACD,SAAS9J,SAAT,GAAqBpB,OAAOY,MAAP,CAAcuK,cAAcA,WAAW/J,SAAvC,EAAkD,EAAEgK,aAAa,EAAE7K,OAAO2K,QAAT,EAAmBhL,YAAY,KAA/B,EAAsCsK,UAAU,IAAhD,EAAsDD,cAAc,IAApE,EAAf,EAAlD,CAArB,CAAqK,IAAIY,UAAJ,EAAgBnL,OAAOqL,cAAP,GAAwBrL,OAAOqL,cAAP,CAAsBH,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsED,SAASI,SAAT,GAAqBH,UAA3F;AAAwG;;AAM9e;;;;;;;;AAQA,oBAAIoP,UAAU,UAAUnB,MAAV,EAAkB;AAC5BnO,8BAAUsP,OAAV,EAAmBnB,MAAnB;;AAEA,6BAASmB,OAAT,GAAmB;AACf3P,wCAAgB,IAAhB,EAAsB2P,OAAtB;;AAEA,+BAAOzP,2BAA2B,IAA3B,EAAiC,CAACyP,QAAQjP,SAAR,IAAqBtL,OAAO+L,cAAP,CAAsBwO,OAAtB,CAAtB,EAAsDvS,KAAtD,CAA4D,IAA5D,EAAkE2D,SAAlE,CAAjC,CAAP;AACH;;AAEDzB,iCAAaqQ,OAAb,EAAsB,CAAC;AACnB1Z,6BAAK,QADc;;AAGnB;;;;;;;AAOAN,+BAAO,SAASgY,MAAT,GAAkB;AACrB,gCAAI,CAAC,KAAKc,aAAV,EAAyB;AACrB,qCAAKA,aAAL,GAAqB,KAAKtB,mBAAL,EAArB;AACH;AACD,mCAAO,KAAKsB,aAAZ;AACH;;AAED;;;;;;;AAjBmB,qBAAD,EAwBnB;AACCxY,6BAAK,MADN;AAECN,+BAAO,SAASia,IAAT,GAAgB;AACnB,mCAAO,KAAK9I,YAAL,CAAkB1E,MAAlB,CAAyBwN,IAAhC;AACH;;AAED;;;;;;;AAND,qBAxBmB,EAqCnB;AACC3Z,6BAAK,UADN;AAECN,+BAAO,SAASka,QAAT,GAAoB;AACvB,mCAAO,KAAK/I,YAAL,CAAkB1E,MAAlB,CAAyByN,QAAzB,IAAqCJ,yDAAyD,oBAAzD,CAA5C;AACH;;AAED;;;;;;;AAND,qBArCmB,EAkDnB;AACCxZ,6BAAK,cADN;AAECN,+BAAO,SAASma,YAAT,GAAwB;AAC3B,gCAAIA,eAAe,KAAKhJ,YAAL,CAAkB1E,MAAlB,CAAyB0N,YAA5C;;AAEA,mCAAOA,wBAAwBhY,QAAxB,GAAmCgY,YAAnC,GAAkDvT,oCAAoC,cAApC,CAAzD;AACH;;AAED;;;;;;;AARD,qBAlDmB,EAiEnB;AACCtG,6BAAK,qBADN;AAECN,+BAAO,SAASwX,mBAAT,GAA+B;AAClC,kCAAM,IAAI7Q,KAAJ,CAAU,qBAAV,CAAN;AACH;;AAED;;;;;;;;AAND,qBAjEmB,EA+EnB;AACCrG,6BAAK,eADN;AAECN,+BAAO,SAAS4O,aAAT,GAAyB;AAC5B,mCAAO,KAAKxI,IAAL,EAAP;AACH;AAJF,qBA/EmB,CAAtB;;AAsFA,2BAAO4T,OAAP;AACH,iBAhGa,CAgGZD,oCAAoC,SAApC,CAhGY,CAAd;;AAkGA,4CAA6B9Y,oBAAoB,SAApB,IAAkC+Y,OAAlC;;AAE7B;AAAO,aA93EG;;AAg4EV,iBAAM;AACN;;;AAGA;AACA,iBAAO,6CAASvb,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAImZ,6CAA6Ctb,qBAAoB,sBAAuB,4CAA3C,CAAjD;AACrB,oBAAI6K,eAAe,YAAY;AAAE,6BAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,6BAAK,IAAI9K,IAAI,CAAb,EAAgBA,IAAI8K,MAAMrG,MAA1B,EAAkCzE,GAAlC,EAAuC;AAAE,gCAAI+K,aAAaD,MAAM9K,CAAN,CAAjB,CAA2B+K,WAAWpK,UAAX,GAAwBoK,WAAWpK,UAAX,IAAyB,KAAjD,CAAwDoK,WAAWC,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAWD,UAAf,EAA2BA,WAAWE,QAAX,GAAsB,IAAtB,CAA4BxK,OAAOC,cAAP,CAAsBmK,MAAtB,EAA8BE,WAAWzJ,GAAzC,EAA8CyJ,UAA9C;AAA4D;AAAE,qBAAC,OAAO,UAAUG,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,4BAAID,UAAJ,EAAgBP,iBAAiBM,YAAYrJ,SAA7B,EAAwCsJ,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBR,iBAAiBM,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;AAAqB,qBAAhN;AAAmN,iBAA9hB,EAAnB;;AAEA,yBAASG,eAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;AAAE,wBAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;AAAE,8BAAM,IAAIR,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,yBAASa,0BAAT,CAAoCC,IAApC,EAA0CtL,IAA1C,EAAgD;AAAE,wBAAI,CAACsL,IAAL,EAAW;AAAE,8BAAM,IAAIC,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF,qBAAC,OAAOvL,SAAS,QAAOA,IAAP,0CAAOA,IAAP,OAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAArD,IAAmEA,IAAnE,GAA0EsL,IAAjF;AAAwF;;AAEhP,yBAASE,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,wBAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,eAAe,IAAvD,EAA6D;AAAE,8BAAM,IAAIlB,SAAJ,CAAc,qEAAoEkB,UAApE,0CAAoEA,UAApE,EAAd,CAAN;AAAsG,qBAACD,SAAS9J,SAAT,GAAqBpB,OAAOY,MAAP,CAAcuK,cAAcA,WAAW/J,SAAvC,EAAkD,EAAEgK,aAAa,EAAE7K,OAAO2K,QAAT,EAAmBhL,YAAY,KAA/B,EAAsCsK,UAAU,IAAhD,EAAsDD,cAAc,IAApE,EAAf,EAAlD,CAArB,CAAqK,IAAIY,UAAJ,EAAgBnL,OAAOqL,cAAP,GAAwBrL,OAAOqL,cAAP,CAAsBH,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsED,SAASI,SAAT,GAAqBH,UAA3F;AAAwG;;AAI9e;;;;;;;;AAQA,oBAAIyP,eAAe,UAAUC,YAAV,EAAwB;AACvC5P,8BAAU2P,YAAV,EAAwBC,YAAxB;;AAEA,6BAASD,YAAT,GAAwB;AACpBhQ,wCAAgB,IAAhB,EAAsBgQ,YAAtB;;AAEA,+BAAO9P,2BAA2B,IAA3B,EAAiC,CAAC8P,aAAatP,SAAb,IAA0BtL,OAAO+L,cAAP,CAAsB6O,YAAtB,CAA3B,EAAgE5S,KAAhE,CAAsE,IAAtE,EAA4E2D,SAA5E,CAAjC,CAAP;AACH;;AAEDzB,iCAAa0Q,YAAb,EAA2B,CAAC;AACxB/Z,6BAAK,OADmB;;AAGxB;;;;;;;AAOAN,+BAAO,SAASwB,KAAT,CAAe+Y,GAAf,EAAoB;AACvB,gCAAIA,QAAQ,IAAR,IAAgBA,QAAQ7S,SAA5B,EAAuC;AACnC,uCAAO,IAAP;AACH;;AAED,gCAAI8S,QAAQ,2BAAZ;AACAD,kCAAME,OAAOF,GAAP,CAAN;;AAEA,gCAAIG,UAAUH,IAAII,KAAJ,CAAUH,KAAV,CAAd;AACA,gCAAI,CAACE,OAAL,EAAc;AACV,uCAAO,IAAP;AACH;;AAED,mCAAOA,QAAQ,CAAR,IAAa,GAAb,GAAmBA,QAAQ,CAAR,CAA1B;AACH;AAxBuB,qBAAD,CAA3B;;AA2BA,2BAAOL,YAAP;AACH,iBArCkB,CAqCjBD,2CAA2C,SAA3C,CArCiB,CAAnB;;AAuCA,4CAA6BnZ,oBAAoB,SAApB,IAAkCoZ,YAAlC;;AAE7B;AAAO,aAr8EG;;AAu8EV,iBAAM;AACN;;;AAGA;AACA,iBAAO,kDAAS5b,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAImZ,6CAA6Ctb,qBAAoB,sBAAuB,4CAA3C,CAAjD;AACrB,oBAAI6K,eAAe,YAAY;AAAE,6BAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,6BAAK,IAAI9K,IAAI,CAAb,EAAgBA,IAAI8K,MAAMrG,MAA1B,EAAkCzE,GAAlC,EAAuC;AAAE,gCAAI+K,aAAaD,MAAM9K,CAAN,CAAjB,CAA2B+K,WAAWpK,UAAX,GAAwBoK,WAAWpK,UAAX,IAAyB,KAAjD,CAAwDoK,WAAWC,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAWD,UAAf,EAA2BA,WAAWE,QAAX,GAAsB,IAAtB,CAA4BxK,OAAOC,cAAP,CAAsBmK,MAAtB,EAA8BE,WAAWzJ,GAAzC,EAA8CyJ,UAA9C;AAA4D;AAAE,qBAAC,OAAO,UAAUG,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,4BAAID,UAAJ,EAAgBP,iBAAiBM,YAAYrJ,SAA7B,EAAwCsJ,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBR,iBAAiBM,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;AAAqB,qBAAhN;AAAmN,iBAA9hB,EAAnB;;AAEA,yBAASG,eAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;AAAE,wBAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;AAAE,8BAAM,IAAIR,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,yBAASa,0BAAT,CAAoCC,IAApC,EAA0CtL,IAA1C,EAAgD;AAAE,wBAAI,CAACsL,IAAL,EAAW;AAAE,8BAAM,IAAIC,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF,qBAAC,OAAOvL,SAAS,QAAOA,IAAP,0CAAOA,IAAP,OAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAArD,IAAmEA,IAAnE,GAA0EsL,IAAjF;AAAwF;;AAEhP,yBAASE,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,wBAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,eAAe,IAAvD,EAA6D;AAAE,8BAAM,IAAIlB,SAAJ,CAAc,qEAAoEkB,UAApE,0CAAoEA,UAApE,EAAd,CAAN;AAAsG,qBAACD,SAAS9J,SAAT,GAAqBpB,OAAOY,MAAP,CAAcuK,cAAcA,WAAW/J,SAAvC,EAAkD,EAAEgK,aAAa,EAAE7K,OAAO2K,QAAT,EAAmBhL,YAAY,KAA/B,EAAsCsK,UAAU,IAAhD,EAAsDD,cAAc,IAApE,EAAf,EAAlD,CAArB,CAAqK,IAAIY,UAAJ,EAAgBnL,OAAOqL,cAAP,GAAwBrL,OAAOqL,cAAP,CAAsBH,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsED,SAASI,SAAT,GAAqBH,UAA3F;AAAwG;;AAI9e;;;;;;;;AAQA,oBAAIgQ,oBAAoB,UAAUN,YAAV,EAAwB;AAC9C5P,8BAAUkQ,iBAAV,EAA6BN,YAA7B;;AAEA,6BAASM,iBAAT,GAA6B;AAC3BvQ,wCAAgB,IAAhB,EAAsBuQ,iBAAtB;;AAEA,+BAAOrQ,2BAA2B,IAA3B,EAAiC,CAACqQ,kBAAkB7P,SAAlB,IAA+BtL,OAAO+L,cAAP,CAAsBoP,iBAAtB,CAAhC,EAA0EnT,KAA1E,CAAgF,IAAhF,EAAsF2D,SAAtF,CAAjC,CAAP;AACD;;AAEDzB,iCAAaiR,iBAAb,EAAgC,CAAC;AAC/Bta,6BAAK,OAD0B;;AAG/B;;;;;;;AAOAN,+BAAO,SAASwB,KAAT,CAAe+Y,GAAf,EAAoB;AACzB,mCAAOA,QAAQ7S,SAAR,IAAqB6S,QAAQ,IAA7B,GAAoC,IAApC,GAA2CE,OAAOF,GAAP,EAAYM,IAAZ,EAAlD;AACD;AAZ8B,qBAAD,CAAhC;;AAeA,2BAAOD,iBAAP;AACD,iBAzBuB,CAyBtBR,2CAA2C,SAA3C,CAzBsB,CAAxB;;AA2BA,4CAA6BnZ,oBAAoB,SAApB,IAAkC2Z,iBAAlC;;AAE7B;AAAO,aAhgFG;;AAkgFV,iBAAM;AACN;;;AAGA;AACA,iBAAO,iDAASnc,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAImZ,6CAA6Ctb,qBAAoB,sBAAuB,4CAA3C,CAAjD;AACrB,oBAAI6K,eAAe,YAAY;AAAE,6BAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,6BAAK,IAAI9K,IAAI,CAAb,EAAgBA,IAAI8K,MAAMrG,MAA1B,EAAkCzE,GAAlC,EAAuC;AAAE,gCAAI+K,aAAaD,MAAM9K,CAAN,CAAjB,CAA2B+K,WAAWpK,UAAX,GAAwBoK,WAAWpK,UAAX,IAAyB,KAAjD,CAAwDoK,WAAWC,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAWD,UAAf,EAA2BA,WAAWE,QAAX,GAAsB,IAAtB,CAA4BxK,OAAOC,cAAP,CAAsBmK,MAAtB,EAA8BE,WAAWzJ,GAAzC,EAA8CyJ,UAA9C;AAA4D;AAAE,qBAAC,OAAO,UAAUG,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,4BAAID,UAAJ,EAAgBP,iBAAiBM,YAAYrJ,SAA7B,EAAwCsJ,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBR,iBAAiBM,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;AAAqB,qBAAhN;AAAmN,iBAA9hB,EAAnB;;AAEA,yBAASG,eAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;AAAE,wBAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;AAAE,8BAAM,IAAIR,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,yBAASa,0BAAT,CAAoCC,IAApC,EAA0CtL,IAA1C,EAAgD;AAAE,wBAAI,CAACsL,IAAL,EAAW;AAAE,8BAAM,IAAIC,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF,qBAAC,OAAOvL,SAAS,QAAOA,IAAP,0CAAOA,IAAP,OAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAArD,IAAmEA,IAAnE,GAA0EsL,IAAjF;AAAwF;;AAEhP,yBAASE,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,wBAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,eAAe,IAAvD,EAA6D;AAAE,8BAAM,IAAIlB,SAAJ,CAAc,qEAAoEkB,UAApE,0CAAoEA,UAApE,EAAd,CAAN;AAAsG,qBAACD,SAAS9J,SAAT,GAAqBpB,OAAOY,MAAP,CAAcuK,cAAcA,WAAW/J,SAAvC,EAAkD,EAAEgK,aAAa,EAAE7K,OAAO2K,QAAT,EAAmBhL,YAAY,KAA/B,EAAsCsK,UAAU,IAAhD,EAAsDD,cAAc,IAApE,EAAf,EAAlD,CAArB,CAAqK,IAAIY,UAAJ,EAAgBnL,OAAOqL,cAAP,GAAwBrL,OAAOqL,cAAP,CAAsBH,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsED,SAASI,SAAT,GAAqBH,UAA3F;AAAwG;;AAI9e;;;;;;;;AAQA,oBAAIkQ,mBAAmB,UAAUR,YAAV,EAAwB;AAC7C5P,8BAAUoQ,gBAAV,EAA4BR,YAA5B;;AAEA,6BAASQ,gBAAT,GAA4B;AAC1BzQ,wCAAgB,IAAhB,EAAsByQ,gBAAtB;;AAEA,+BAAOvQ,2BAA2B,IAA3B,EAAiC,CAACuQ,iBAAiB/P,SAAjB,IAA8BtL,OAAO+L,cAAP,CAAsBsP,gBAAtB,CAA/B,EAAwErT,KAAxE,CAA8E,IAA9E,EAAoF2D,SAApF,CAAjC,CAAP;AACD;;AAEDzB,iCAAamR,gBAAb,EAA+B,CAAC;AAC9Bxa,6BAAK,OADyB;;AAG9B;;;;;;;AAOAN,+BAAO,SAASwB,KAAT,CAAe+Y,GAAf,EAAoB;AACzBA,kCAAMQ,WAAWR,GAAX,EAAgB,EAAhB,CAAN;AACA,mCAAOhC,OAAOyC,KAAP,CAAaT,GAAb,IAAoB,IAApB,GAA2BA,GAAlC;AACD;AAb6B,qBAAD,CAA/B;;AAgBA,2BAAOO,gBAAP;AACD,iBA1BsB,CA0BrBV,2CAA2C,SAA3C,CA1BqB,CAAvB;;AA4BA,4CAA6BnZ,oBAAoB,SAApB,IAAkC6Z,gBAAlC;;AAE7B;AAAO,aA5jFG;;AA8jFV,iBAAM;AACN;;;AAGA;AACA,iBAAO,4CAASrc,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oBAAI0I,eAAe,YAAY;AAAE,6BAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,6BAAK,IAAI9K,IAAI,CAAb,EAAgBA,IAAI8K,MAAMrG,MAA1B,EAAkCzE,GAAlC,EAAuC;AAAE,gCAAI+K,aAAaD,MAAM9K,CAAN,CAAjB,CAA2B+K,WAAWpK,UAAX,GAAwBoK,WAAWpK,UAAX,IAAyB,KAAjD,CAAwDoK,WAAWC,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAWD,UAAf,EAA2BA,WAAWE,QAAX,GAAsB,IAAtB,CAA4BxK,OAAOC,cAAP,CAAsBmK,MAAtB,EAA8BE,WAAWzJ,GAAzC,EAA8CyJ,UAA9C;AAA4D;AAAE,qBAAC,OAAO,UAAUG,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,4BAAID,UAAJ,EAAgBP,iBAAiBM,YAAYrJ,SAA7B,EAAwCsJ,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBR,iBAAiBM,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;AAAqB,qBAAhN;AAAmN,iBAA9hB,EAAnB;;AAEA,yBAASG,eAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;AAAE,wBAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;AAAE,8BAAM,IAAIR,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ;;;;;;AAMA,oBAAIuR,cAAc,YAAY;AAC5B,6BAASA,WAAT,GAAuB;AACrB5Q,wCAAgB,IAAhB,EAAsB4Q,WAAtB;AACD;;AAEDtR,iCAAasR,WAAb,EAA0B,CAAC;AACzB3a,6BAAK,OADoB;;AAGzB;;;;;;AAMAN,+BAAO,SAASwB,KAAT,GAAiB;AACtB,kCAAM,IAAImF,KAAJ,CAAU,qBAAV,CAAN;AACD;AAXwB,qBAAD,CAA1B;;AAcA,2BAAOsU,WAAP;AACD,iBApBiB,EAAlB;;AAsBA,4CAA6Bha,oBAAoB,SAApB,IAAkCga,WAAlC;;AAE7B;AAAO,aAzmFG;;AA2mFV,iBAAM;AACN;;;AAGA;AACA,iBAAO,+CAASxc,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAI2F,sCAAsC9H,qBAAoB,qBAAsB,sBAA1C,CAA1C;AACrB,oCAAqB,IAAIoc,6CAA6Cpc,qBAAoB,sBAAuB,4CAA3C,CAAjD;AACrB,oBAAI6K,eAAe,YAAY;AAAE,6BAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,6BAAK,IAAI9K,IAAI,CAAb,EAAgBA,IAAI8K,MAAMrG,MAA1B,EAAkCzE,GAAlC,EAAuC;AAAE,gCAAI+K,aAAaD,MAAM9K,CAAN,CAAjB,CAA2B+K,WAAWpK,UAAX,GAAwBoK,WAAWpK,UAAX,IAAyB,KAAjD,CAAwDoK,WAAWC,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAWD,UAAf,EAA2BA,WAAWE,QAAX,GAAsB,IAAtB,CAA4BxK,OAAOC,cAAP,CAAsBmK,MAAtB,EAA8BE,WAAWzJ,GAAzC,EAA8CyJ,UAA9C;AAA4D;AAAE,qBAAC,OAAO,UAAUG,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,4BAAID,UAAJ,EAAgBP,iBAAiBM,YAAYrJ,SAA7B,EAAwCsJ,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBR,iBAAiBM,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;AAAqB,qBAAhN;AAAmN,iBAA9hB,EAAnB;;AAEA,yBAASG,eAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;AAAE,wBAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;AAAE,8BAAM,IAAIR,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,yBAASa,0BAAT,CAAoCC,IAApC,EAA0CtL,IAA1C,EAAgD;AAAE,wBAAI,CAACsL,IAAL,EAAW;AAAE,8BAAM,IAAIC,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF,qBAAC,OAAOvL,SAAS,QAAOA,IAAP,0CAAOA,IAAP,OAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAArD,IAAmEA,IAAnE,GAA0EsL,IAAjF;AAAwF;;AAEhP,yBAASE,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,wBAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,eAAe,IAAvD,EAA6D;AAAE,8BAAM,IAAIlB,SAAJ,CAAc,qEAAoEkB,UAApE,0CAAoEA,UAApE,EAAd,CAAN;AAAsG,qBAACD,SAAS9J,SAAT,GAAqBpB,OAAOY,MAAP,CAAcuK,cAAcA,WAAW/J,SAAvC,EAAkD,EAAEgK,aAAa,EAAE7K,OAAO2K,QAAT,EAAmBhL,YAAY,KAA/B,EAAsCsK,UAAU,IAAhD,EAAsDD,cAAc,IAApE,EAAf,EAAlD,CAArB,CAAqK,IAAIY,UAAJ,EAAgBnL,OAAOqL,cAAP,GAAwBrL,OAAOqL,cAAP,CAAsBH,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsED,SAASI,SAAT,GAAqBH,UAA3F;AAAwG;;AAK9e;;;;;;;;AAQA,oBAAIuQ,iBAAiB,UAAUb,YAAV,EAAwB;AACzC5P,8BAAUyQ,cAAV,EAA0Bb,YAA1B;;AAEA;;;;;;AAMA,6BAASa,cAAT,CAAwB1O,MAAxB,EAAgC;AAC5BpC,wCAAgB,IAAhB,EAAsB8Q,cAAtB;;AAEA,4BAAI5P,QAAQhB,2BAA2B,IAA3B,EAAiC,CAAC4Q,eAAepQ,SAAf,IAA4BtL,OAAO+L,cAAP,CAAsB2P,cAAtB,CAA7B,EAAoEjc,IAApE,CAAyE,IAAzE,CAAjC,CAAZ;;AAEAqM,8BAAMkB,MAAN,GAAeA,MAAf;AACAlB,8BAAM6P,IAAN,GAAa,IAAb;AACA,+BAAO7P,KAAP;AACH;;AAED;;;;;;;;AASA5B,iCAAawR,cAAb,EAA6B,CAAC;AAC1B7a,6BAAK,OADqB;AAE1BN,+BAAO,SAASwB,KAAT,CAAe+Y,GAAf,EAAoB;AACvB,gCAAI,KAAK9N,MAAL,CAAY/K,MAAhB,EAAwB;AACpB,qCAAK0Z,IAAL,GAAY,KAAKA,IAAL,IAAa,IAAIxU,oCAAoC,mBAApC,CAAJ,CAA6D,KAAK6F,MAAL,CAAY/K,MAAzE,CAAzB;AACA,uCAAO,KAAK0Z,IAAL,CAAUC,aAAV,CAAwBd,GAAxB,EAA6Be,OAA7B,EAAP;AACH;;AAED;AACA;AACA,mCAAO,CAAC,IAAIC,IAAJ,CAAShB,GAAT,CAAR;AACH;AAXyB,qBAAD,CAA7B;;AAcA,2BAAOY,cAAP;AACH,iBA3CoB,CA2CnBD,2CAA2C,SAA3C,CA3CmB,CAArB;;AA6CA,4CAA6Bja,oBAAoB,SAApB,IAAkCka,cAAlC;;AAE7B;AAAO,aAxrFG;;AA0rFV,iBAAM;AACN;;;AAGA;AACA,iBAAO,sCAAS1c,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oBAAI0I,eAAe,YAAY;AAAE,6BAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,6BAAK,IAAI9K,IAAI,CAAb,EAAgBA,IAAI8K,MAAMrG,MAA1B,EAAkCzE,GAAlC,EAAuC;AAAE,gCAAI+K,aAAaD,MAAM9K,CAAN,CAAjB,CAA2B+K,WAAWpK,UAAX,GAAwBoK,WAAWpK,UAAX,IAAyB,KAAjD,CAAwDoK,WAAWC,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAWD,UAAf,EAA2BA,WAAWE,QAAX,GAAsB,IAAtB,CAA4BxK,OAAOC,cAAP,CAAsBmK,MAAtB,EAA8BE,WAAWzJ,GAAzC,EAA8CyJ,UAA9C;AAA4D;AAAE,qBAAC,OAAO,UAAUG,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,4BAAID,UAAJ,EAAgBP,iBAAiBM,YAAYrJ,SAA7B,EAAwCsJ,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBR,iBAAiBM,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;AAAqB,qBAAhN;AAAmN,iBAA9hB,EAAnB;;AAEA,yBAASG,eAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;AAAE,wBAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;AAAE,8BAAM,IAAIR,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ;;;;;;;;AAQA,oBAAI8R,eAAe,YAAY;AAC7B;;;;;;;;;AASA,6BAASA,YAAT,CAAsBlc,IAAtB,EAA4B8G,IAA5B,EAAkCqG,MAAlC,EAA0CgP,MAA1C,EAAkD;AAChDpR,wCAAgB,IAAhB,EAAsBmR,YAAtB;;AAEA,6BAAKlc,IAAL,GAAYA,IAAZ;AACA,6BAAKmN,MAAL,GAAcA,MAAd;AACA,6BAAKgP,MAAL,GAAcA,MAAd;AACA,6BAAKrV,IAAL,GAAY,KAAKsV,SAAL,CAAetV,IAAf,CAAZ;AACD;;AAED;;;;;;;;AASAuD,iCAAa6R,YAAb,EAA2B,CAAC;AAC1Blb,6BAAK,WADqB;AAE1BN,+BAAO,SAAS0b,SAAT,CAAmBtV,IAAnB,EAAyB;AAC9B,gCAAImF,QAAQ,IAAZ;;AAEA,mCAAOnF,KAAKhE,GAAL,CAAS,UAAUkL,KAAV,EAAiB;AAC/B,uCAAO/B,MAAMkQ,MAAN,CAAaja,KAAb,CAAmB8L,KAAnB,CAAP;AACD,6BAFM,CAAP;AAGD;AARyB,qBAAD,CAA3B;;AAWA,2BAAOkO,YAAP;AACD,iBAxCkB,EAAnB;;AA0CA,4CAA6Bva,oBAAoB,SAApB,IAAkCua,YAAlC;;AAE7B;AAAO,aA3vFG;;AA6vFV,iBAAM;AACN;;;AAGA;AACA,iBAAO,kCAAS/c,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAIyW,8DAA8D5Y,qBAAoB,0CAA2C,wCAA/D,CAAlE;AACrB,oCAAqB,IAAIoa,0CAA0Cpa,qBAAoB,mBAAoB,iCAAxC,CAA9C;AACrB,oCAAqB,IAAI6c,sCAAsC7c,qBAAoB,kBAAmB,sBAAvC,CAA1C;AACrB,oBAAI6K,eAAe,YAAY;AAAE,6BAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,6BAAK,IAAI9K,IAAI,CAAb,EAAgBA,IAAI8K,MAAMrG,MAA1B,EAAkCzE,GAAlC,EAAuC;AAAE,gCAAI+K,aAAaD,MAAM9K,CAAN,CAAjB,CAA2B+K,WAAWpK,UAAX,GAAwBoK,WAAWpK,UAAX,IAAyB,KAAjD,CAAwDoK,WAAWC,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAWD,UAAf,EAA2BA,WAAWE,QAAX,GAAsB,IAAtB,CAA4BxK,OAAOC,cAAP,CAAsBmK,MAAtB,EAA8BE,WAAWzJ,GAAzC,EAA8CyJ,UAA9C;AAA4D;AAAE,qBAAC,OAAO,UAAUG,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,4BAAID,UAAJ,EAAgBP,iBAAiBM,YAAYrJ,SAA7B,EAAwCsJ,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBR,iBAAiBM,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;AAAqB,qBAAhN;AAAmN,iBAA9hB,EAAnB;;AAEA,yBAASG,eAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;AAAE,wBAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;AAAE,8BAAM,IAAIR,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,yBAASa,0BAAT,CAAoCC,IAApC,EAA0CtL,IAA1C,EAAgD;AAAE,wBAAI,CAACsL,IAAL,EAAW;AAAE,8BAAM,IAAIC,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF,qBAAC,OAAOvL,SAAS,QAAOA,IAAP,0CAAOA,IAAP,OAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAArD,IAAmEA,IAAnE,GAA0EsL,IAAjF;AAAwF;;AAEhP,yBAASE,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,wBAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,eAAe,IAAvD,EAA6D;AAAE,8BAAM,IAAIlB,SAAJ,CAAc,qEAAoEkB,UAApE,0CAAoEA,UAApE,EAAd,CAAN;AAAsG,qBAACD,SAAS9J,SAAT,GAAqBpB,OAAOY,MAAP,CAAcuK,cAAcA,WAAW/J,SAAvC,EAAkD,EAAEgK,aAAa,EAAE7K,OAAO2K,QAAT,EAAmBhL,YAAY,KAA/B,EAAsCsK,UAAU,IAAhD,EAAsDD,cAAc,IAApE,EAAf,EAAlD,CAArB,CAAqK,IAAIY,UAAJ,EAAgBnL,OAAOqL,cAAP,GAAwBrL,OAAOqL,cAAP,CAAsBH,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsED,SAASI,SAAT,GAAqBH,UAA3F;AAAwG;;AAM9e;;;;;;;;AAQA,oBAAIgR,WAAW,UAAUrE,UAAV,EAAsB;AACjC7M,8BAAUkR,QAAV,EAAoBrE,UAApB;;AAEA,6BAASqE,QAAT,GAAoB;AAChBvR,wCAAgB,IAAhB,EAAsBuR,QAAtB;;AAEA,+BAAOrR,2BAA2B,IAA3B,EAAiC,CAACqR,SAAS7Q,SAAT,IAAsBtL,OAAO+L,cAAP,CAAsBoQ,QAAtB,CAAvB,EAAwDnU,KAAxD,CAA8D,IAA9D,EAAoE2D,SAApE,CAAjC,CAAP;AACH;;AAEDzB,iCAAaiS,QAAb,EAAuB,CAAC;AACpBtb,6BAAK,qBADe;;AAGpB;;;;;;;AAOAN,+BAAO,SAASwX,mBAAT,GAA+B;AAClC,gCAAItH,SAAS,IAAb;;AAEA,gCAAI4H,OAAO,IAAIC,GAAJ,EAAX;AACA,gCAAIC,SAAS,EAAb;;AAEA;AACA;AACAvY,mCAAOiY,4DAA4D,oBAA5D,CAAP,EAA0F,KAAKjB,UAA/F,EAA2G,UAAUzX,CAAV,EAAa;AACpH,oCAAIsO,QAAQ4C,OAAOiB,YAAP,CAAoB/K,IAApB,CAAyBpH,CAAzB,CAAZ;AACA,oCAAI,CAAC8Y,KAAKG,GAAL,CAAS3K,KAAT,CAAL,EAAsB;AAClBwK,yCAAKI,GAAL,CAAS5K,KAAT;AACA0K,2CAAOhV,IAAP,CAAYsK,KAAZ;AACH;AACJ,6BAND;;AAQA,mCAAO0K,MAAP;AACH;;AAED;;;;;;;AA7BoB,qBAAD,EAoCpB;AACC1X,6BAAK,8BADN;AAECN,+BAAO,SAAS6b,4BAAT,GAAwC;AAC3C,gCAAIlJ,SAAS,IAAb;;AAEA,gCAAImF,OAAO,IAAIC,GAAJ,EAAX;AACA,gCAAI+D,UAAU,CAAd;AACA,gCAAIC,YAAY,KAAK,CAArB;AACA,gCAAIC,UAAUzD,OAAOC,iBAArB;;AAEA;AACA/Y,mCAAOiY,4DAA4D,oBAA5D,CAAP,EAA0F,KAAKjB,UAA/F,EAA2G,UAAUzX,CAAV,EAAa;AACpH,oCAAIsO,QAAQqF,OAAOxB,YAAP,CAAoB/K,IAApB,CAAyBpH,CAAzB,CAAZ;;AAEA,oCAAI8Y,KAAKG,GAAL,CAAS3K,KAAT,CAAJ,EAAqB;AACjB;AACH;AACDwK,qCAAKI,GAAL,CAAS5K,KAAT;;AAEA,oCAAI,CAACwO,SAAL,EAAgB;AACZC,gDAAYzO,KAAZ;AACA;AACH;;AAED0O,0CAAUC,KAAK3D,GAAL,CAAS0D,OAAT,EAAkB1O,QAAQyO,SAA1B,CAAV;AACAA,4CAAYzO,KAAZ;AACH,6BAfD;;AAiBA,gCAAIwO,WAAW,CAAf,EAAkB;AACd,uCAAO,IAAP;AACH;;AAED,mCAAOE,OAAP;AACH;;AAED;;;;;;;AAnCD,qBApCoB,EA8EpB;AACC1b,6BAAK,QADN;AAECN,+BAAO,SAAS0B,MAAT,GAAkB;AACrB,mCAAO,KAAKyP,YAAL,CAAkB1E,MAAlB,CAAyB/K,MAAhC;AACH;;AAED;;;;;;;;AAND,qBA9EoB,EA4FpB;AACCpB,6BAAK,eADN;AAECN,+BAAO,SAAS4O,aAAT,GAAyB;AAC5B,gCAAIsN,SAAS,IAAb;;AAEA,gCAAI9V,OAAO,EAAX;AACA3G,mCAAOiY,4DAA4D,oBAA5D,CAAP,EAA0F,KAAKjB,UAA/F,EAA2G,UAAUzX,CAAV,EAAa;AACpHoH,qCAAKpD,IAAL,CAAU2Y,oCAAoC,mBAApC,EAAyDQ,QAAzD,CAAkED,OAAO/K,YAAP,CAAoB/K,IAApB,CAAyBpH,CAAzB,CAAlE,EAA+Fkd,OAAOxa,MAAP,EAA/F,CAAV;AACH,6BAFD;AAGA,mCAAO0E,IAAP;AACH;AAVF,qBA5FoB,CAAvB;;AAyGA,2BAAOwV,QAAP;AACH,iBAnHc,CAmHb1C,wCAAwC,SAAxC,CAnHa,CAAf;;AAqHA,4CAA6BjY,oBAAoB,SAApB,IAAkC2a,QAAlC;;AAE7B;AAAO,aAp5FG;;AAs5FV,iBAAM;AACN;;;AAGA;AACA,iBAAO,qBAASnd,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,8CAA+BnC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,iBAA3C,EAA8D,YAAW;AAAE,2BAAOmb,eAAP;AAAyB,iBAApG;AAC/B,8CAA+Btd,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,cAA3C,EAA2D,YAAW;AAAE,2BAAOob,YAAP;AAAsB,iBAA9F;AAC/B,8CAA+Bvd,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,mBAA3C,EAAgE,YAAW;AAAE,2BAAOqb,iBAAP;AAA2B,iBAAxG;AAC/B,8CAA+Bxd,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,cAA3C,EAA2D,YAAW;AAAE,2BAAOsb,YAAP;AAAsB,iBAA9F;AAC/B,8CAA+Bzd,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,wBAA3C,EAAqE,YAAW;AAAE,2BAAOub,sBAAP;AAAgC,iBAAlH;AAC/B,8CAA+B1d,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,iBAA3C,EAA8D,YAAW;AAAE,2BAAOwb,eAAP;AAAyB,iBAApG;AAC/B,8CAA+B3d,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,kBAA3C,EAA+D,YAAW;AAAE,2BAAOyb,gBAAP;AAA0B,iBAAtG;AAC/B,8CAA+B5d,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,oBAA3C,EAAiE,YAAW;AAAE,2BAAO0b,kBAAP;AAA4B,iBAA1G;AAC/B,8CAA+B7d,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,gBAA3C,EAA6D,YAAW;AAAE,2BAAO2b,cAAP;AAAwB,iBAAlG;AAC/B,8CAA+B9d,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,YAA3C,EAAyD,YAAW;AAAE,2BAAO4b,UAAP;AAAoB,iBAA1F;AAC/B,8CAA+B/d,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,eAA3C,EAA4D,YAAW;AAAE,2BAAO6b,aAAP;AAAuB,iBAAhG;AAC/B,8CAA+Bhe,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,uBAA3C,EAAoE,YAAW;AAAE,2BAAO8b,qBAAP;AAA+B,iBAAhH;AAC/B,8CAA+Bje,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,qBAA3C,EAAkE,YAAW;AAAE,2BAAO+b,mBAAP;AAA6B,iBAA5G;AAC/B,8CAA+Ble,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,kBAA3C,EAA+D,YAAW;AAAE,2BAAOgc,gBAAP;AAA0B,iBAAtG;AAC/B,8CAA+Bne,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,oBAA3C,EAAiE,YAAW;AAAE,2BAAOic,kBAAP;AAA4B,iBAA1G;AAC/B,8CAA+Bpe,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,0BAA3C,EAAuE,YAAW;AAAE,2BAAOkc,wBAAP;AAAkC,iBAAtH;AAC/B,8CAA+Bre,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,2BAA3C,EAAwE,YAAW;AAAE,2BAAOmc,yBAAP;AAAmC,iBAAxH;AAC/B,8CAA+Bte,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,oBAA3C,EAAiE,YAAW;AAAE,2BAAOoc,kBAAP;AAA4B,iBAA1G;AAC/B,oCAAqB,IAAIpY,sCAAsCnG,qBAAoB,cAAe,sBAAnC,CAA1C;AACrB,oCAAqB,IAAIwe,4CAA4Cxe,qBAAoB,oBAAqB,sBAAzC,CAAhD;AACrB,oCAAqB,IAAIye,sCAAsCze,qBAAoB,cAAe,gBAAnC,CAA1C;AACrB,oCAAqB,IAAI2J,yCAAyC3J,qBAAoB,iBAAkB,yBAAtC,CAA7C;AACrB,oCAAqB,IAAI0e,0CAA0C1e,qBAAoB,kBAAmB,0BAAvC,CAA9C;AACrB,oCAAqB,IAAI2e,8CAA8C3e,qBAAoB,sBAAuB,wBAA3C,CAAlD;AACrB,oCAAqB,IAAI4e,+CAA+C5e,qBAAoB,uBAAwB,yBAA5C,CAAnD;AACrB,oCAAqB,IAAI6e,0CAA0C7e,qBAAoB,kBAAmB,0BAAvC,CAA9C;AACrB,oCAAqB,IAAI8e,sCAAsC9e,qBAAoB,cAAe,sBAAnC,CAA1C;AACrB,oBAAIyM,QAAQ7D,SAAZ;;AAEA,oBAAIoB,iBAAiB,YAAY;AAAE,6BAASC,aAAT,CAAuBjC,GAAvB,EAA4B9H,CAA5B,EAA+B;AAAE,4BAAIgK,OAAO,EAAX,CAAe,IAAIC,KAAK,IAAT,CAAe,IAAIC,KAAK,KAAT,CAAgB,IAAIC,KAAKzB,SAAT,CAAoB,IAAI;AAAE,iCAAK,IAAI0B,KAAKtC,IAAIhH,OAAOuJ,QAAX,GAAT,EAAiCC,EAAtC,EAA0C,EAAEL,KAAK,CAACK,KAAKF,GAAGG,IAAH,EAAN,EAAiBC,IAAxB,CAA1C,EAAyEP,KAAK,IAA9E,EAAoF;AAAED,qCAAKhG,IAAL,CAAUsG,GAAGtJ,KAAb,EAAqB,IAAIhB,KAAKgK,KAAKvF,MAAL,KAAgBzE,CAAzB,EAA4B;AAAQ;AAAE,yBAAvJ,CAAwJ,OAAOyK,GAAP,EAAY;AAAEP,iCAAK,IAAL,CAAWC,KAAKM,GAAL;AAAW,yBAA5L,SAAqM;AAAE,gCAAI;AAAE,oCAAI,CAACR,EAAD,IAAOG,GAAG,QAAH,CAAX,EAAyBA,GAAG,QAAH;AAAiB,6BAAhD,SAAyD;AAAE,oCAAIF,EAAJ,EAAQ,MAAMC,EAAN;AAAW;AAAE,yBAAC,OAAOH,IAAP;AAAc,qBAAC,OAAO,UAAUlC,GAAV,EAAe9H,CAAf,EAAkB;AAAE,4BAAI+H,MAAMC,OAAN,CAAcF,GAAd,CAAJ,EAAwB;AAAE,mCAAOA,GAAP;AAAa,yBAAvC,MAA6C,IAAIhH,OAAOuJ,QAAP,IAAmB5J,OAAOqH,GAAP,CAAvB,EAAoC;AAAE,mCAAOiC,cAAcjC,GAAd,EAAmB9H,CAAnB,CAAP;AAA+B,yBAArE,MAA2E;AAAE,kCAAM,IAAI0K,SAAJ,CAAc,sDAAd,CAAN;AAA8E;AAAE,qBAArO;AAAwO,iBAAhoB,EAArB;;AAEA,yBAAS7C,kBAAT,CAA4BC,GAA5B,EAAiC;AAAE,wBAAIC,MAAMC,OAAN,CAAcF,GAAd,CAAJ,EAAwB;AAAE,6BAAK,IAAI9H,IAAI,CAAR,EAAWiI,OAAOF,MAAMD,IAAIrD,MAAV,CAAvB,EAA0CzE,IAAI8H,IAAIrD,MAAlD,EAA0DzE,GAA1D,EAA+D;AAAEiI,iCAAKjI,CAAL,IAAU8H,IAAI9H,CAAJ,CAAV;AAAmB,yBAAC,OAAOiI,IAAP;AAAc,qBAA7H,MAAmI;AAAE,+BAAOF,MAAMG,IAAN,CAAWJ,GAAX,CAAP;AAAyB;AAAE;;AAYnM;;;AAGA,yBAAS+W,oBAAT,CAA8B5V,MAA9B,EAAsCjJ,CAAtC,EAAyC;AACrC,wBAAI8e,OAAO,EAAX;AACA,wBAAIC,4BAA4B,IAAhC;AACA,wBAAIC,oBAAoB,KAAxB;AACA,wBAAIC,iBAAiBvW,SAArB;;AAEA,wBAAI;AACA,6BAAK,IAAIwW,YAAYjW,OAAOnI,OAAOuJ,QAAd,GAAhB,EAA2C8U,KAAhD,EAAuD,EAAEJ,4BAA4B,CAACI,QAAQD,UAAU3U,IAAV,EAAT,EAA2BC,IAAzD,CAAvD,EAAuHuU,4BAA4B,IAAnJ,EAAyJ;AACrJ,gCAAIvW,QAAQ2W,MAAMne,KAAlB;;AAEA8d,iCAAKtW,MAAMlI,IAAN,EAAL,IAAqB,IAAIie,oCAAoC,SAApC,CAAJ,CAAmD/V,MAAM2J,YAAN,CAAmB/K,IAAnB,CAAwBpH,CAAxB,CAAnD,EAA+EwI,KAA/E,CAArB;AACH;AACJ,qBAND,CAME,OAAOiC,GAAP,EAAY;AACVuU,4CAAoB,IAApB;AACAC,yCAAiBxU,GAAjB;AACH,qBATD,SASU;AACN,4BAAI;AACA,gCAAI,CAACsU,yBAAD,IAA8BG,UAAUE,MAA5C,EAAoD;AAChDF,0CAAUE,MAAV;AACH;AACJ,yBAJD,SAIU;AACN,gCAAIJ,iBAAJ,EAAuB;AACnB,sCAAMC,cAAN;AACH;AACJ;AACJ;;AAED,2BAAOH,IAAP;AACH;;AAED,yBAAS1B,eAAT,CAAyBnU,MAAzB,EAAiC;AAC7B,wBAAI6V,OAAO,EAAX;AACAre,2BAAOyI,IAAP,CAAYD,MAAZ,EAAoBnF,OAApB,CAA4B,UAAUxC,GAAV,EAAe;AACvCwd,6BAAKxd,GAAL,IAAY,IAAIid,oCAAoC,SAApC,CAAJ,CAAmDtV,OAAO3H,GAAP,CAAnD,EAAgEA,GAAhE,CAAZ;AACH,qBAFD;AAGA,2BAAOwd,IAAP;AACH;;AAED,oBAAIzB,eAAe,SAASA,YAAT,CAAsBnR,IAAtB,EAA4BsE,iBAA5B,EAA+C6O,cAA/C,EAA+D;AAC9E,wBAAIC,QAAQxV,eAAeoC,IAAf,EAAqB,CAArB,CAAZ;AAAA,wBACIuL,aAAa6H,MAAM,CAAN,CADjB;AAAA,wBAEIC,gBAAgBD,MAAM,CAAN,CAFpB;;AAIA,wBAAIE,SAASD,cAAc9a,MAAd,GAAuB8a,cAAcE,KAAd,CAAoB,GAApB,CAAvB,GAAkD,EAA/D;AACA,wBAAIC,kBAAkBlP,kBAAkBE,SAAlB,EAAtB;AACA,wBAAIiP,YAAYH,OAAOpc,GAAP,CAAW,UAAUwc,IAAV,EAAgB;AACvC,+BAAOnf,OAAOge,4CAA4C,4BAA5C,CAAP,EAAkFiB,gBAAgBE,IAAhB,EAAsBzN,YAAxG,EAAsHsF,UAAtH,CAAP;AACH,qBAFe,CAAhB;AAGA,2BAAO6G,0CAA0C,SAA1C,EAAqDvG,eAArD,CAAqE4H,SAArE,EAAgFN,cAAhF,CAAP;AACH,iBAXD;;AAaA,oBAAI/B,oBAAoB,SAASA,iBAAT,CAA2BlK,KAA3B,EAAkCyM,SAAlC,EAA6C;AACjE,wBAAIlR,SAASvC,UAAU3H,MAAV,GAAmB,CAAnB,IAAwB2H,UAAU,CAAV,MAAiB1D,SAAzC,GAAqD0D,UAAU,CAAV,CAArD,GAAoE,EAAjF;AACA,wBAAI0T,aAAa1T,UAAU,CAAV,CAAjB;;AAEA,wBAAI2T,aAAa,KAAK,CAAtB;AACA,wBAAIF,cAAcrB,wCAAwC,gBAAxC,EAA0DnY,OAA5E,EAAqF;AACjF0Z,qCAAa;AACTC,gCAAIH,SADK;AAETI,kCAAMtR,MAFG;AAGTuR,sCAAUJ;AAHD,yBAAb;AAKA1M,8BAAM+M,WAAN,CAAkBnc,IAAlB,CAAuB+b,UAAvB;AACH,qBAPD,MAOO;AACH,4BAAIK,kBAAJ;;AAEAL,qCAAa,GAAG7a,MAAH,CAAU2C,mBAAmBiY,UAAnB,CAAV,CAAb;AACA1M,8BAAM+M,WAAN,CAAkB1b,MAAlB,GAA2B,CAA3B;AACA,yBAAC2b,qBAAqBhN,MAAM+M,WAA5B,EAAyCnc,IAAzC,CAA8CyE,KAA9C,CAAoD2X,kBAApD,EAAwEvY,mBAAmBkY,UAAnB,CAAxE;AACH;AACJ,iBAnBD;;AAqBA,oBAAIxC,eAAe,SAASA,YAAT,CAAsB9F,UAAtB,EAAkCxO,MAAlC,EAA0CoX,QAA1C,EAAoD1R,MAApD,EAA4D2R,QAA5D,EAAsE;AACrF,wBAAIC,gBAAgB,EAApB;AACA,wBAAIC,oBAAoB,CAAC,CAAzB;AACA,wBAAItf,OAAOyN,OAAOzN,IAAlB;;AAEA,wBAAIuf,KAAK,KAAK,CAAd;AACA,wBAAI3O,cAAc,EAAlB;AACA,wBAAIC,gBAAgB,SAASA,aAAT,GAAyB;AACzC,+BAAOuO,SAAStO,YAAT,EAAP;AACH,qBAFD;AAGA,wBAAI0O,mBAAmB,SAASA,gBAAT,CAA0BhP,KAA1B,EAAiC;AACpD,+BAAO2O,SAASxB,qBAAqB5V,MAArB,EAA6ByI,KAA7B,CAAT,EAA8CA,KAA9C,EAAqDK,aAArD,EAAoED,WAApE,CAAP;AACH,qBAFD;;AAIA,wBAAI6O,UAAU,KAAK,CAAnB;AACA,wBAAIzf,SAAS+E,oCAAoC,eAApC,EAAqDqP,OAAlE,EAA2E;AACvEqL,kCAAU,SAASA,OAAT,CAAiBjP,KAAjB,EAAwB;AAC9B,mCAAO,CAACgP,iBAAiBhP,KAAjB,CAAR;AACH,yBAFD;AAGH,qBAJD,MAIO;AACHiP,kCAAU,SAASA,OAAT,CAAiBjP,KAAjB,EAAwB;AAC9B,mCAAOgP,iBAAiBhP,KAAjB,CAAP;AACH,yBAFD;AAGH;;AAEDjR,2BAAOgJ,uCAAuC,oBAAvC,CAAP,EAAqEgO,UAArE,EAAiF,UAAUzX,CAAV,EAAa;AAC1F,4BAAI2gB,QAAQ3gB,CAAR,CAAJ,EAAgB;AACZ,gCAAIwgB,sBAAsB,CAAC,CAAvB,IAA4BxgB,MAAMwgB,oBAAoB,CAA1D,EAA6D;AACzDC,qCAAKF,cAAc9b,MAAd,GAAuB,CAA5B;AACA8b,8CAAcE,EAAd,IAAoBF,cAAcE,EAAd,EAAkBhB,KAAlB,CAAwB,GAAxB,EAA6B,CAA7B,IAAkC,GAAlC,GAAwCzf,CAA5D;AACH,6BAHD,MAGO;AACHugB,8CAAcvc,IAAd,CAAmB,KAAKhE,CAAxB;AACH;AACDwgB,gDAAoBxgB,CAApB;AACH;AACJ,qBAVD;AAWA,2BAAOugB,cAAchd,IAAd,CAAmB,GAAnB,CAAP;AACH,iBArCD;;AAuCA,oBAAIia,yBAAyB,SAASA,sBAAT,CAAgCpK,KAAhC,EAAuCwN,UAAvC,EAAmD;AAC5E,wBAAIjS,SAASvC,UAAU3H,MAAV,GAAmB,CAAnB,IAAwB2H,UAAU,CAAV,MAAiB1D,SAAzC,GAAqD0D,UAAU,CAAV,CAArD,GAAoE,EAAjF;;AAEA,wBAAIyT,YAAYlR,OAAOkR,SAAP,IAAoBrB,wCAAwC,mBAAxC,EAA6D3X,GAAjG;AACA,wBAAIga,kBAAkBlS,OAAOkS,eAAP,IAA0B,KAAhD;AACA,wBAAIC,MAAM,EAAV;AACA,wBAAI,CAACF,WAAWnc,MAAhB,EAAwB;AACpBqc,8BAAM,CAAC,YAAY;AACf,mCAAO,KAAP;AACH,yBAFK,CAAN;AAGH,qBAJD,MAIO;AACHA,8BAAMF,WAAWxd,GAAX,CAAe,UAAUsQ,SAAV,EAAqB;AACtC,mCAAO,UAAUqN,SAAV,EAAqB;AACxB,oCAAIC,UAAUD,UAAUpU,OAAV,EAAd;AACA,oCAAIc,SAASuT,QAAQvT,MAArB;AACA,oCAAI2D,eAAe2P,UAAU1P,eAAV,EAAnB;AACA,oCAAI4P,cAAcF,UAAUrR,aAAV,GAA0BgB,SAA1B,EAAlB;AACA,oCAAItJ,OAAO4Z,QAAQ5Z,IAAnB;AACA,oCAAI4R,SAASvY,OAAOygB,MAAP,CAAc9P,YAAd,EAA4BrD,MAA5B,CAAmC,UAAUC,GAAV,EAAemT,CAAf,EAAkB;AAC9DnT,wCAAImT,EAAEC,GAAF,CAAM9gB,IAAV,IAAkB2gB,YAAYE,EAAEC,GAAF,CAAM9gB,IAAlB,EAAwB0Y,MAAxB,EAAlB;AACA,2CAAOhL,GAAP;AACH,iCAHY,EAGV,EAHU,CAAb;;AAKA,uCAAO,UAAU/E,MAAV,EAAkB;AACrB,wCAAIoY,UAAU,CAACja,KAAK3C,MAAN,GAAe,KAAf,GAAuB2C,KAAKka,IAAL,CAAU,UAAU5d,GAAV,EAAe;AAC1D,+CAAO+J,OAAO8T,KAAP,CAAa,UAAUC,SAAV,EAAqB;AACrC,gDAAI,EAAEA,UAAUlhB,IAAV,IAAkB2I,MAApB,CAAJ,EAAiC;AAC7B,uDAAO,IAAP;AACH;AACD,gDAAIjI,QAAQiI,OAAOuY,UAAUlhB,IAAjB,EAAuBmhB,OAAvB,EAAZ;AACA,gDAAIZ,mBAAmBW,UAAUhS,IAAV,KAAmBvJ,oCAAoC,WAApC,EAAiDkP,OAA3F,EAAoG;AAChG,uDAAOnU,SAASgY,OAAOwI,UAAUlhB,IAAjB,EAAuB,CAAvB,CAAT,IAAsCU,SAASgY,OAAOwI,UAAUlhB,IAAjB,EAAuB,CAAvB,CAAtD;AACH;;AAED,gDAAIkhB,UAAUhS,IAAV,KAAmBvJ,oCAAoC,WAApC,EAAiDoO,SAAxE,EAAmF;AAC/E,uDAAO,IAAP;AACH;AACD,gDAAIpG,MAAMmD,aAAaoQ,UAAUlhB,IAAvB,EAA6BoR,KAAvC;AACA,mDAAOhO,IAAIuK,GAAJ,MAAahF,OAAOuY,UAAUlhB,IAAjB,EAAuBmhB,OAAvB,EAApB;AACH,yCAdM,CAAP;AAeH,qCAhBoC,CAArC;AAiBA,2CAAOJ,OAAP;AACH,iCAnBD;AAoBH,6BA/BM,CA+BL3N,SA/BK,CAAP;AAgCH,yBAjCK,CAAN;AAkCH;;AAED,wBAAIgO,gBAAgB,KAAK,CAAzB;AACA,wBAAI7B,cAAcrB,wCAAwC,mBAAxC,EAA6D3X,GAA/E,EAAoF;AAChF,4BAAI8a,cAAcvO,MAAMzB,KAAN,CAAY,KAAZ,EAAmB,KAAnB,CAAlB;AACA+P,wCAAgBC,YAAYlL,MAAZ,CAAmB,UAAUxN,MAAV,EAAkB;AACjD,mCAAO6X,IAAIS,KAAJ,CAAU,UAAU1N,EAAV,EAAc;AAC3B,uCAAOA,GAAG5K,MAAH,CAAP;AACH,6BAFM,CAAP;AAGH,yBAJe,EAIb;AACC2F,uCAAW,KADZ;AAEC1N,kCAAM+E,oCAAoC,eAApC,EAAqDsP;AAF5D,yBAJa,CAAhB;AAQH,qBAVD,MAUO;AACHmM,wCAAgBtO,MAAMzB,KAAN,CAAY,KAAZ,EAAmB,KAAnB,EAA0B8E,MAA1B,CAAiC,UAAUxN,MAAV,EAAkB;AAC/D,mCAAO6X,IAAIQ,IAAJ,CAAS,UAAUzN,EAAV,EAAc;AAC1B,uCAAOA,GAAG5K,MAAH,CAAP;AACH,6BAFM,CAAP;AAGH,yBAJe,EAIb;AACC/H,kCAAM+E,oCAAoC,eAApC,EAAqDsP,GAD5D;AAEC3G,uCAAW;AAFZ,yBAJa,CAAhB;AAQH;;AAED,2BAAO8S,aAAP;AACH,iBAtED;;AAwEA,oBAAIjE,kBAAkB,SAASA,eAAT,CAAyB6C,QAAzB,EAAmCD,QAAnC,EAA6CuB,YAA7C,EAA2DC,WAA3D,EAAwE;AAC1F,wBAAIC,SAASxB,SAAS3O,KAAT,CAAekQ,YAAYjT,SAA3B,CAAb;AACA,wBAAI6I,aAAa8F,aAAauE,OAAO1U,WAApB,EAAiC0U,OAAO5U,oBAAP,GAA8BjE,MAA/D,EAAuEoX,QAAvE,EAAiFuB,YAAjF,EAA+FtB,QAA/F,CAAjB;AACAwB,2BAAO1U,WAAP,GAAqBqK,UAArB;AACAqK,2BAAOhR,qBAAP,GAA+BC,qBAA/B;AACA;AACA,wBAAI8Q,YAAYjT,SAAhB,EAA2B;AACvB0O,0CAAkBwE,MAAlB,EAA0BtD,wCAAwC,gBAAxC,EAA0DtY,MAApF,EAA4F,EAAEyI,QAAQiT,YAAV,EAA5F,EAAsHvB,QAAtH;AACH;;AAED,2BAAOyB,MAAP;AACH,iBAXD;;AAaA,oBAAIpE,mBAAmB,SAASA,gBAAT,CAA0B4C,QAA1B,EAAoCyB,SAApC,EAA+CpT,MAA/C,EAAuDqT,SAAvD,EAAkE;AACrF,wBAAIF,SAASxB,SAAS3O,KAAT,CAAehD,OAAOC,SAAtB,CAAb;AACA,wBAAIqT,gBAAgBF,SAApB;AACA,wBAAIpT,OAAOzN,IAAP,KAAgB+E,oCAAoC,eAApC,EAAqDqP,OAAzE,EAAkF;AAC9E2M,wCAAgBD,UAAUE,MAAV,CAAiB,UAAU3R,SAAV,EAAqB;AAClD,mCAAOwR,UAAU7T,OAAV,CAAkBqC,SAAlB,MAAiC,CAAC,CAAzC;AACH,yBAFe,CAAhB;AAGH;AACD;AACA;AACAuR,2BAAOzU,cAAP,GAAwB4U,cAAc1e,IAAd,CAAmB,GAAnB,CAAxB;AACAue,2BAAOhR,qBAAP,GAA+BC,qBAA/B;AACA;AACA,wBAAIpC,OAAOC,SAAX,EAAsB;AAClB0O,0CAAkBwE,MAAlB,EAA0BtD,wCAAwC,gBAAxC,EAA0DrY,OAApF,EAA6F,EAAE4b,WAAWA,SAAb,EAAwBpT,QAAQA,MAAhC,EAAwCwT,iBAAiBF,aAAzD,EAA7F,EAAuK,IAAvK;AACH;;AAED,2BAAOH,MAAP;AACH,iBAlBD;;AAoBA,oBAAInE,qBAAqB,SAASA,kBAAT,CAA4ByE,UAA5B,EAAwC;AAC7D;AACAA,iCAAa3hB,OAAOme,oCAAoC,SAApC,CAAP,EAAuD,EAAvD,EAA2DwD,UAA3D,CAAb;AACA,wBAAI,CAACA,WAAW5S,IAAhB,EAAsB;AAClB4S,mCAAW5S,IAAX,GAAkBvJ,oCAAoC,WAApC,EAAiDoO,SAAnE;AACH;;AAED,wBAAI,CAAC+N,WAAW9N,OAAhB,EAAyB;AACrB,gCAAQ8N,WAAW5S,IAAnB;AACI,iCAAKvJ,oCAAoC,WAApC,EAAiDkP,OAAtD;AACIiN,2CAAW9N,OAAX,GAAqBrO,oCAAoC,gBAApC,EAAsD6P,UAA3E;AACA;AACJ;AACA,iCAAK7P,oCAAoC,WAApC,EAAiDoO,SAAtD;AACI+N,2CAAW9N,OAAX,GAAqBrO,oCAAoC,kBAApC,EAAwD8O,WAA7E;AACA;AAPR;AASH;;AAED,2BAAOqN,UAAP;AACH,iBApBD;;AAsBA,oBAAIxE,iBAAiB,SAASA,cAAT,CAAwBnQ,MAAxB,EAAgC;AACjD,2BAAOA,OAAOrK,GAAP,CAAW,UAAUgf,UAAV,EAAsB;AACpC,+BAAOzE,mBAAmByE,UAAnB,CAAP;AACH,qBAFM,CAAP;AAGH,iBAJD;;AAMA,oBAAIvE,aAAa,SAASA,UAAT,CAAoBwE,QAApB,EAA8Bjb,IAA9B,EAAoCqG,MAApC,EAA4CpG,OAA5C,EAAqD;AAClEoG,6BAASmQ,eAAenQ,MAAf,CAAT;AACApG,8BAAU5G,OAAO4H,MAAP,CAAc5H,OAAO4H,MAAP,CAAc,EAAd,EAAkBqW,6CAA6C,SAA7C,CAAlB,CAAd,EAA0FrX,OAA1F,CAAV;AACA,wBAAIib,cAAc3D,wCAAwCtX,QAAQK,UAAhD,CAAlB;;AAEA,wBAAI,EAAE4a,eAAe,OAAOA,WAAP,KAAuB,UAAxC,CAAJ,EAAyD;AACrD,8BAAM,IAAI3a,KAAJ,CAAU,qCAAqCN,QAAQK,UAA7C,GAA0D,SAApE,CAAN;AACH;;AAED,wBAAI6a,eAAeD,YAAYlb,IAAZ,EAAkBC,OAAlB,CAAnB;AAAA,wBACImb,gBAAgB1Y,eAAeyY,YAAf,EAA6B,CAA7B,CADpB;AAAA,wBAEIja,SAASka,cAAc,CAAd,CAFb;AAAA,wBAGI5S,gBAAgB4S,cAAc,CAAd,CAHpB;;AAKA,wBAAIxK,WAAWvX,OAAOge,4CAA4C,cAA5C,CAAP,EAAoE7O,aAApE,EAAmFnC,MAAnF,EAA2FnF,MAA3F,CAAf;;AAEA;AACA,wBAAIma,YAAYnE,0CAA0C,SAA1C,EAAqDvG,eAArD,CAAqEC,QAArE,EAA+E3Q,QAAQ/G,IAAvF,CAAhB;AACA+hB,6BAAS5R,kBAAT,GAA8BgS,SAA9B;AACA;AACAJ,6BAASjV,WAAT,GAAuBwC,cAAcnL,MAAd,IAAwBmL,cAAc,CAAd,EAAiBnL,MAAzC,GAAkD,QAAQmL,cAAc,CAAd,EAAiBnL,MAAjB,GAA0B,CAAlC,CAAlD,GAAyF,EAAhH;AACA4d,6BAAShV,cAAT,GAA0BI,OAAOrK,GAAP,CAAW,UAAUsf,CAAV,EAAa;AAC9C,+BAAOA,EAAEpiB,IAAT;AACH,qBAFyB,EAEvBiD,IAFuB,EAA1B;AAGA8e,6BAAS5S,WAAT,GAAuBpI,QAAQK,UAAR,KAAuBzB,oCAAoC,YAApC,EAAkD2O,IAAzE,GAAgFnU,OAAOme,oCAAoC,kBAApC,CAAP,EAAgExX,IAAhE,CAAhF,GAAwJC,QAAQK,UAAvL;AACA,2BAAO2a,QAAP;AACH,iBA1BD;;AA4BA,oBAAIvE,gBAAgB,SAASA,aAAT,CAAuBrQ,MAAvB,EAA+BjF,KAA/B,EAAsC;AACtD,wBAAIxI,IAAI,CAAR;;AAEA,2BAAOA,IAAIyN,OAAOhJ,MAAlB,EAA0B,EAAEzE,CAA5B,EAA+B;AAC3B,4BAAIwI,UAAUiF,OAAOzN,CAAP,EAAUM,IAAxB,EAA8B;AAC1B,mCAAO;AACHkP,sCAAM/B,OAAOzN,CAAP,EAAUsU,OAAV,IAAqB7G,OAAOzN,CAAP,EAAUwP,IADlC;AAEHkC,uCAAO1R;AAFJ,6BAAP;AAIH;AACJ;AACD,2BAAO,IAAP;AACH,iBAZD;;AAcA,oBAAI+d,wBAAwB,SAASA,qBAAT,CAA+B4E,KAA/B,EAAsC;AAC9D,wBAAIC,aAAaD,MAAMxC,WAAvB;AACA,wBAAIrR,SAAS,EAAb;AACA,wBAAI+Q,YAAY,KAAK,CAArB;AACA,wBAAI+C,cAAcA,WAAWne,MAAX,KAAsB,CAAxC,EAA2C;AACvCob,oCAAY+C,WAAW,CAAX,EAAc5C,EAA1B;AACA,gCAAQH,SAAR;AACI,iCAAKrB,wCAAwC,gBAAxC,EAA0DtY,MAA/D;AACI4I,yCAAS,CAAC8T,WAAW,CAAX,EAAc1C,QAAf,CAAT;AACA;AACJ,iCAAK1B,wCAAwC,gBAAxC,EAA0DrY,OAA/D;AACI2I,yCAAS,CAAC8T,WAAW,CAAX,EAAc3C,IAAd,CAAmBkC,eAApB,CAAT;AACA;AACJ,iCAAK3D,wCAAwC,gBAAxC,EAA0DpY,OAA/D;AACIyZ,4CAAY,SAAZ;AACA/Q,yCAAS,CAAC8T,WAAW,CAAX,EAAc3C,IAAd,CAAmBpR,aAAnB,CAAiC4Q,KAAjC,CAAuC,GAAvC,CAAD,EAA8CmD,WAAW,CAAX,EAAc1C,QAA5D,CAAT;AACA;AACJ;AACI;AAZR;AAcH;;AAED,2BAAO;AACHL,mCAAWA,SADR;AAEH/Q,gCAAQA;AAFL,qBAAP;AAIH,iBA1BD;;AA4BA,oBAAI+T,gCAAgC,SAASA,6BAAT,CAAuCnP,SAAvC,EAAkDqN,SAAlD,EAA6D;AAC7F,wBAAI+B,wBAAwB/E,sBAAsBgD,SAAtB,CAA5B;AAAA,wBACIlB,YAAYiD,sBAAsBjD,SADtC;AAAA,wBAEI/Q,SAASgU,sBAAsBhU,MAFnC;;AAIA,wBAAIiU,iBAAiBrP,UAAU,CAAV,CAArB;AACA,wBAAIsP,iBAAiBtP,UAAU,CAAV,CAArB;AACA,wBAAImM,aAAa/Q,OAAOrK,MAAxB,EAAgC;AAC5B,4BAAIwe,WAAJ,EAAiBC,YAAjB;;AAEAH,yCAAiB,CAACE,cAAcvP,UAAU,CAAV,CAAf,EAA6BmM,SAA7B,EAAwCpX,KAAxC,CAA8Cwa,WAA9C,EAA2Dpb,mBAAmBiH,MAAnB,EAA2B5J,MAA3B,CAAkC,CAAC;AAC3G0J,uCAAW;AADgG,yBAAD,CAAlC,CAA3D,CAAjB;AAGAoU,yCAAiB,CAACE,eAAexP,UAAU,CAAV,CAAhB,EAA8BmM,SAA9B,EAAyCpX,KAAzC,CAA+Cya,YAA/C,EAA6Drb,mBAAmBiH,MAAnB,EAA2B5J,MAA3B,CAAkC,CAAC;AAC7G0J,uCAAW;AADkG,yBAAD,CAAlC,CAA7D,CAAjB;AAGH;AACD,2BAAO,CAACmU,cAAD,EAAiBC,cAAjB,CAAP;AACH,iBAlBD;;AAoBA,oBAAIG,mBAAmB,SAASA,gBAAT,CAA0BzP,SAA1B,EAAqC0P,IAArC,EAA2C;AAC9D,yBAAK,IAAIpjB,IAAI,CAAR,EAAWqjB,MAAMD,KAAK3e,MAA3B,EAAmCzE,IAAIqjB,GAAvC,EAA4CrjB,GAA5C,EAAiD;AAC7C,4BAAIoT,QAAQgQ,KAAKpjB,CAAL,CAAZ;AACA0T,oCAAYmP,8BAA8BnP,SAA9B,EAAyCN,KAAzC,CAAZ;AACH;AACD,2BAAOM,SAAP;AACH,iBAND;;AAQA,oBAAI4P,uBAAuB,SAASA,oBAAT,CAA8BvC,SAA9B,EAAyCrN,SAAzC,EAAoD;AAC3E,wBAAI/E,SAASvC,UAAU3H,MAAV,GAAmB,CAAnB,IAAwB2H,UAAU,CAAV,MAAiB1D,SAAzC,GAAqD0D,UAAU,CAAV,CAArD,GAAoE,EAAjF;AACA,wBAAImX,eAAenX,UAAU3H,MAAV,GAAmB,CAAnB,IAAwB2H,UAAU,CAAV,MAAiB1D,SAAzC,GAAqD0D,UAAU,CAAV,CAArD,GAAoE,EAAvF;;AAEA,wBAAIoX,qBAAqBD,aAAaC,kBAAtC;AACA,wBAAIC,gBAAgBF,aAAaE,aAAb,IAA8B,EAAlD;;AAEA,wBAAI1C,cAAcyC,kBAAlB,EAAsC;AAClC;AACH;;AAED,wBAAIlR,YAAYmR,cAAchf,MAAd,GAAuBgf,cAAcvV,OAAd,CAAsB6S,SAAtB,MAAqC,CAAC,CAA7D,GAAiE,IAAjF;;AAEAzO,iCAAayO,UAAUtN,iBAAV,CAA4BC,SAA5B,EAAuC/E,MAAvC,CAAb;;AAEA,wBAAI+U,WAAW3C,UAAU/R,SAAzB;AACA0U,6BAAS5f,OAAT,CAAiB,UAAU6e,KAAV,EAAiB;AAC9B,4BAAIgB,wBAAwBd,8BAA8BnP,SAA9B,EAAyCiP,KAAzC,CAA5B;AAAA,4BACIiB,yBAAyB9Z,eAAe6Z,qBAAf,EAAsC,CAAtC,CAD7B;AAAA,4BAEIZ,iBAAiBa,uBAAuB,CAAvB,CAFrB;AAAA,4BAGIZ,iBAAiBY,uBAAuB,CAAvB,CAHrB;;AAKAN,6CAAqBX,KAArB,EAA4B,CAACI,cAAD,EAAiBC,cAAjB,CAA5B,EAA8DrU,MAA9D,EAAsE4U,YAAtE;AACH,qBAPD;AAQH,iBAxBD;;AA0BA,oBAAIvF,sBAAsB,SAASA,mBAAT,CAA6B5K,KAA7B,EAAoC;AAC1D,wBAAIA,MAAMlE,OAAN,IAAiBkE,MAAM+M,WAAN,CAAkBlM,IAAlB,CAAuB,UAAU5T,CAAV,EAAa;AACrD,+BAAOA,EAAE2f,EAAF,KAAS,OAAhB;AACH,qBAFoB,CAArB,EAEI;AACA,+BAAOhC,oBAAoB5K,MAAMlE,OAA1B,CAAP;AACH;AACD,2BAAOkE,KAAP;AACH,iBAPD;;AASA,oBAAI6K,mBAAmB,SAASA,gBAAT,CAA0B7K,KAA1B,EAAiC;AACpD,wBAAIA,MAAMlE,OAAV,EAAmB;AACf,+BAAO+O,iBAAiB7K,MAAMlE,OAAvB,CAAP;AACH;AACD,2BAAOkE,KAAP;AACH,iBALD;;AAOA,oBAAI8K,qBAAqB,SAASA,kBAAT,CAA4B9K,KAA5B,EAAmC;AACxD,wBAAIgQ,OAAOhX,UAAU3H,MAAV,GAAmB,CAAnB,IAAwB2H,UAAU,CAAV,MAAiB1D,SAAzC,GAAqD0D,UAAU,CAAV,CAArD,GAAoE,EAA/E;;AAEA,wBAAIgH,MAAMlE,OAAN,KAAkB,IAAtB,EAA4B;AACxBkU,6BAAKpf,IAAL,CAAUoP,KAAV;AACA8K,2CAAmB9K,MAAMlE,OAAzB,EAAkCkU,IAAlC;AACH;AACD,2BAAOA,IAAP;AACH,iBARD;;AAUA,oBAAIjF,2BAA2B,SAASA,wBAAT,CAAkC5L,WAAlC,EAA+CW,UAA/C,EAA2D2Q,cAA3D,EAA2ElV,MAA3E,EAAmF;AAC9G,wBAAIuR,WAAW,KAAK,CAApB;AACA,wBAAIxM,YAAY,KAAK,CAArB;AACA,wBAAIX,uBAAuB8Q,eAAe9Q,oBAA1C;AAAA,wBACI+Q,oBAAoBD,eAAeC,iBADvC;;AAGA,wBAAInR,sBAAsBkR,eAAejR,QAAzC;AACA,wBAAImR,8BAA8BpV,OAAOoV,2BAAzC;AACA,wBAAIC,WAAW,SAASA,QAAT,CAAkBC,KAAlB,EAAyB;AACpC,4BAAI/B,SAASvT,OAAOqV,QAAP,IAAmB,YAAY;AACxC,mCAAO,IAAP;AACH,yBAFD;AAGA,+BAAO9B,OAAO+B,KAAP,EAActV,MAAd,CAAP;AACH,qBALD;;AAOA,wBAAIuV,YAAY,EAAhB;;AAEA,wBAAI3R,gBAAgB,IAAhB,IAAwB5D,OAAOwV,UAAP,KAAsB,IAAlD,EAAwD;AACpDD,oCAAY,CAAC;AACThE,sCAAU;AADD,yBAAD,CAAZ;AAGH,qBAJD,MAIO;AACH,4BAAIkE,KAAJ;;AAEA,4BAAIC,kBAAkB5jB,OAAOygB,MAAP,CAAcnO,qBAAqBuR,cAAnC,CAAtB;AACA,4BAAIR,sBAAsB,KAA1B,EAAiC;AAC7BO,8CAAkBA,gBAAgBnC,MAAhB,CAAuB,UAAU7hB,CAAV,EAAa;AAClD,uCAAOA,EAAEsO,MAAF,CAASiE,QAAT,KAAsBD,mBAA7B;AACH,6BAFiB,CAAlB;AAGH;;AAED,4BAAI4R,mBAAmBF,gBAAgBnC,MAAhB,CAAuB8B,QAAvB,EAAiC5gB,GAAjC,CAAqC,UAAUohB,MAAV,EAAkB;AAC1E,mCAAOA,OAAO7V,MAAP,CAAcuR,QAArB;AACH,yBAFsB,CAAvB;;AAIA,4BAAIuD,gBAAgB,EAApB;;AAEA,4BAAIK,sBAAsB,KAA1B,EAAiC;AAC7B,gCAAIW,wBAAwBhkB,OAAOygB,MAAP,CAAcnO,qBAAqBuR,cAAnC,CAA5B;;AAEAG,kDAAsB3gB,OAAtB,CAA8B,UAAU4gB,SAAV,EAAqB;AAC/C,oCAAIC,aAAaD,UAAU/V,MAA3B;AACA,oCAAIgW,WAAWC,aAAX,KAA6B,KAA7B,IAAsCD,WAAWH,MAAX,KAAsB7V,OAAO6V,MAAnE,IAA6EG,WAAW/R,QAAX,KAAwBD,mBAAzG,EAA8H;AAC1H8Q,kDAAczf,IAAd,CAAmB0gB,UAAUtR,KAA7B;AACA8M,+CAAWuE,sBAAsBvC,MAAtB,CAA6B,UAAU7hB,CAAV,EAAa;AACjD,+CAAOA,MAAMqkB,SAAb;AACH,qCAFU,EAERthB,GAFQ,CAEJ,UAAU/C,CAAV,EAAa;AAChB,+CAAOA,EAAEsO,MAAF,CAASuR,QAAhB;AACH,qCAJU,CAAX;AAKAA,6CAASzb,MAAT,IAAmByf,UAAUlgB,IAAV,CAAe;AAC9Bkc,kDAAUA,QADoB;AAE9B2E,gDAAQH,UAAUtR,KAFY;AAG9BgQ,8CAAMlF,mBAAmBwG,UAAUtR,KAA7B;AAHwB,qCAAf,CAAnB;AAKH;AACJ,6BAfD;AAgBH;;AAED8M,mCAAW,CAACkE,QAAQ,EAAT,EAAalf,MAAb,CAAoBuD,KAApB,CAA0B2b,KAA1B,EAAiC,GAAGlf,MAAH,CAAU2C,mBAAmB0c,gBAAnB,CAAV,EAAgD,CAAChS,WAAD,CAAhD,CAAjC,EAAiG2P,MAAjG,CAAwG,UAAU7hB,CAAV,EAAa;AAC5H,mCAAOA,MAAM,IAAb;AACH,yBAFU,CAAX;AAGA6jB,kCAAUlgB,IAAV,CAAe;AACXkc,sCAAUA,QADC;AAEXuD,2CAAe,GAAGve,MAAH,CAAUue,aAAV,EAAyB5b,mBAAmB8G,OAAO8U,aAAP,IAAwB,EAA3C,CAAzB;AAFJ,yBAAf;AAIH;;AAED,wBAAI3Q,YAAYI,WAAWE,KAA3B;;AAEA,wBAAIX,aAAahS,OAAO4H,MAAP,CAAc;AAC3Byc,2CAAmBvS,WADQ;AAE3BI,6CAAqBA;AAFM,qBAAd,EAGdhE,MAHc,CAAjB;;AAKA,wBAAIsE,mBAAmBC,WAAWC,YAAlC;AACA,wBAAI4Q,+BAA+B9Q,gBAAnC,EAAqD;AACjDS,oCAAY8J,uBAAuBvK,gBAAvB,EAAyCiN,QAAzC,EAAmD;AAC3DW,6CAAiBkD;AAD0C,yBAAnD,CAAZ;AAGAT,6CAAqBrQ,gBAArB,EAAuCS,SAAvC,EAAkDjB,UAAlD;AACH;;AAEDyR,8BAAUpgB,OAAV,CAAkB,UAAUihB,GAAV,EAAe;AAC7B,4BAAIC,mBAAmBxH,uBAAuB1K,SAAvB,EAAkCiS,IAAI7E,QAAtC,CAAvB;AACA,4BAAIkD,OAAO2B,IAAI3B,IAAf;;AAEA,4BAAIA,IAAJ,EAAU;AACN,gCAAI1B,gBAAgByB,iBAAiB6B,gBAAjB,EAAmC5B,KAAK6B,OAAL,EAAnC,CAApB;AACAF,gCAAIF,MAAJ,CAAWpR,iBAAX,CAA6BiO,aAA7B,EAA4CjP,UAA5C;AACH,yBAHD,MAGO;AACH6Q,iDAAqBxQ,SAArB,EAAgCkS,gBAAhC,EAAkDvS,UAAlD,EAA8D;AAC1DgR,+CAAesB,IAAItB,aADuC;AAE1DD,oDAAoBO,+BAA+B9Q;AAFO,6BAA9D;AAIH;AACJ,qBAbD;AAcH,iBAhGD;;AAkGA,oBAAImL,4BAA4B,SAASA,yBAAT,CAAmCrL,oBAAnC,EAAyDG,UAAzD,EAAqE2Q,cAArE,EAAqF;AACjH,wBAAIqB,mBAAmBnS,qBAAqBmS,gBAA5C;;AAEA,yBAAK,IAAIV,MAAT,IAAmBU,gBAAnB,EAAqC;AACjC,4BAAIR,YAAYQ,iBAAiBV,MAAjB,CAAhB;AACA,4BAAIG,aAAaD,UAAU/V,MAA3B;AACA,4BAAIgE,sBAAsBkR,eAAelV,MAAf,CAAsBiE,QAAhD;AACA,4BAAIuS,wBAAwBtB,eAAepR,UAAf,CAA0B0S,qBAA1B,GAAkDtB,eAAepR,UAAf,CAA0B0S,qBAA1B,CAAgDR,UAAhD,EAA4Dd,eAAelV,MAA3E,CAAlD,GAAuI,IAAnK;AACA,4BAAIgW,WAAW/R,QAAX,KAAwBD,mBAAxB,IAA+CwS,qBAAnD,EAA0E;AACtE,gCAAIC,gBAAgBT,WAAWzE,QAA/B;AACA/B,qDAAyBiH,aAAzB,EAAwClS,UAAxC,EAAoD;AAChDH,sDAAsBA,oBAD0B;AAEhD+Q,mDAAmB,KAF6B;AAGhDlR,0CAAUD;AAHsC,6BAApD,EAIGgS,UAJH;AAKH;AACJ;AACJ,iBAjBD;;AAmBA,oBAAItG,qBAAqB,SAASA,kBAAT,CAA4BtL,oBAA5B,EAAkD;AACvE,wBAAIpE,SAASvC,UAAU3H,MAAV,GAAmB,CAAnB,IAAwB2H,UAAU,CAAV,MAAiB1D,SAAzC,GAAqD0D,UAAU,CAAV,CAArD,GAAoE,EAAjF;AACA,wBAAIgH,QAAQhH,UAAU,CAAV,CAAZ;;AAEA,wBAAIiZ,kBAAkB,KAAK,CAA3B;AACA,wBAAI3S,kBAAkB/D,OAAO+D,eAA7B;AACA,wBAAIwN,WAAWvR,OAAOuR,QAAtB;AACA,wBAAI5e,MAAMqN,OAAO6V,MAAP,GAAgB,GAAhB,GAAsB7V,OAAOiE,QAAvC;;AAEA,wBAAIF,eAAJ,EAAqB;AACjB2S,0CAAkBtS,qBAAqBuR,cAAvC;AACH,qBAFD,MAEO;AACHe,0CAAkBtS,qBAAqBmS,gBAAvC;AACH;;AAED,wBAAIhF,aAAa,IAAjB,EAAuB;AACnB,+BAAOmF,gBAAgB/jB,GAAhB,CAAP;AACH,qBAFD,MAEO;AACH+jB,wCAAgB/jB,GAAhB,IAAuB;AACnB8R,mCAAOA,KADY;AAEnBzE,oCAAQA;AAFW,yBAAvB;AAIH;;AAED,2BAAOpC,KAAP;AACH,iBAzBD;;AA2BA;AAAO,aAv+GG;;AAy+GV,iBAAM;AACN;;;AAGA;AACA,iBAAO,oBAAS9M,MAAT,EAAiBD,OAAjB,EAA0BM,mBAA1B,EAA+C;;AAEtD,oBAAIkM,YAAYlM,qBAAoB,eAAgB,iBAApC,CAAhB;;AAEAL,uBAAOD,OAAP,GAAiBwM,UAAUsZ,OAAV,GAAoBtZ,UAAUsZ,OAA9B,GAAwCtZ,SAAzD;;AAEA;AAAO,aAp/GG;;AAs/GV,iBAAM;AACN;;;AAGA;AACA,iBAAO,oCAASvM,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,8CAA+BnC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,uBAA3C,EAAoE,YAAW;AAAE,2BAAOsjB,qBAAP;AAA+B,iBAAhH;AAC/B,oCAAqB,IAAIC,qDAAqD1lB,qBAAoB,6BAA8B,wCAAlD,CAAzD;AACrB,oBAAIgK,iBAAiB,YAAY;AAAE,6BAASC,aAAT,CAAuBjC,GAAvB,EAA4B9H,CAA5B,EAA+B;AAAE,4BAAIgK,OAAO,EAAX,CAAe,IAAIC,KAAK,IAAT,CAAe,IAAIC,KAAK,KAAT,CAAgB,IAAIC,KAAKzB,SAAT,CAAoB,IAAI;AAAE,iCAAK,IAAI0B,KAAKtC,IAAIhH,OAAOuJ,QAAX,GAAT,EAAiCC,EAAtC,EAA0C,EAAEL,KAAK,CAACK,KAAKF,GAAGG,IAAH,EAAN,EAAiBC,IAAxB,CAA1C,EAAyEP,KAAK,IAA9E,EAAoF;AAAED,qCAAKhG,IAAL,CAAUsG,GAAGtJ,KAAb,EAAqB,IAAIhB,KAAKgK,KAAKvF,MAAL,KAAgBzE,CAAzB,EAA4B;AAAQ;AAAE,yBAAvJ,CAAwJ,OAAOyK,GAAP,EAAY;AAAEP,iCAAK,IAAL,CAAWC,KAAKM,GAAL;AAAW,yBAA5L,SAAqM;AAAE,gCAAI;AAAE,oCAAI,CAACR,EAAD,IAAOG,GAAG,QAAH,CAAX,EAAyBA,GAAG,QAAH;AAAiB,6BAAhD,SAAyD;AAAE,oCAAIF,EAAJ,EAAQ,MAAMC,EAAN;AAAW;AAAE,yBAAC,OAAOH,IAAP;AAAc,qBAAC,OAAO,UAAUlC,GAAV,EAAe9H,CAAf,EAAkB;AAAE,4BAAI+H,MAAMC,OAAN,CAAcF,GAAd,CAAJ,EAAwB;AAAE,mCAAOA,GAAP;AAAa,yBAAvC,MAA6C,IAAIhH,OAAOuJ,QAAP,IAAmB5J,OAAOqH,GAAP,CAAvB,EAAoC;AAAE,mCAAOiC,cAAcjC,GAAd,EAAmB9H,CAAnB,CAAP;AAA+B,yBAArE,MAA2E;AAAE,kCAAM,IAAI0K,SAAJ,CAAc,sDAAd,CAAN;AAA8E;AAAE,qBAArO;AAAwO,iBAAhoB,EAArB;;AAEA,yBAAS7C,kBAAT,CAA4BC,GAA5B,EAAiC;AAAE,wBAAIC,MAAMC,OAAN,CAAcF,GAAd,CAAJ,EAAwB;AAAE,6BAAK,IAAI9H,IAAI,CAAR,EAAWiI,OAAOF,MAAMD,IAAIrD,MAAV,CAAvB,EAA0CzE,IAAI8H,IAAIrD,MAAlD,EAA0DzE,GAA1D,EAA+D;AAAEiI,iCAAKjI,CAAL,IAAU8H,IAAI9H,CAAJ,CAAV;AAAmB,yBAAC,OAAOiI,IAAP;AAAc,qBAA7H,MAAmI;AAAE,+BAAOF,MAAMG,IAAN,CAAWJ,GAAX,CAAP;AAAyB;AAAE;;AAInM;;;;;;;;;AASA,yBAASyd,qBAAT,CAA+B/c,KAA/B,EAAsCiP,UAAtC,EAAkD9I,MAAlD,EAA0D;AACtD,wBAAI8W,UAAU9W,OAAO8W,OAArB;AAAA,wBACIC,WAAW/W,OAAO+W,QADtB;AAAA,wBAEIC,UAAUhX,OAAOgX,OAFrB;AAAA,wBAGIC,QAAQjX,OAAOiX,KAHnB;;AAKA,wBAAIC,YAAY,EAAhB;AACA,wBAAIC,aAAa,EAAjB;;AAEA,wBAAIC,gBAAgBvd,MAAMwQ,MAAN,EAApB;AAAA,wBACIgN,iBAAiBlc,eAAeic,aAAf,EAA8B,CAA9B,CADrB;AAAA,wBAEIzM,MAAM0M,eAAe,CAAf,CAFV;AAAA,wBAGIvM,MAAMuM,eAAe,CAAf,CAHV;;AAKA,wBAAIC,SAASxM,GAAb;AACA,wBAAIyM,QAAQ,EAAZ;AACA,wBAAIC,SAAS,KAAK,CAAlB;AACA,wBAAIC,eAAe,KAAK,CAAxB;AACA,wBAAI1R,MAAM,KAAK,CAAf;AACA,wBAAID,QAAQ,KAAK,CAAjB;;AAEA;AACAhU,2BAAO+kB,mDAAmD,oBAAnD,CAAP,EAAiF/N,UAAjF,EAA6F,UAAUzX,CAAV,EAAa;AACtG6lB,kCAAU7hB,IAAV,CAAe;AACXoD,kCAAMoB,MAAM2J,YAAN,CAAmB/K,IAAnB,CAAwBpH,CAAxB,CADK;AAEX0R,mCAAO1R;AAFI,yBAAf;AAIH,qBALD;;AAOA;AACA,wBAAI,CAACylB,OAAL,EAAc;AACVhM,+BAAO,CAAP;AACAkM,kCAAUA,WAAW,CAAClM,MAAMH,GAAP,IAAcoM,QAAnC;;AAEA,4BAAIW,cAAc,CAAC5M,MAAMH,GAAP,IAAcqM,OAAhC;AACA,4BAAI,CAACD,QAAD,IAAaW,gBAAgB,CAAjC,EAAoC;AAChC5M,kCAAMA,MAAMkM,OAAN,GAAgBU,WAAtB;AACH;AACDF,iCAAS7M,MAAMqM,OAAf;AACA,+BAAOQ,UAAU1M,GAAjB,EAAsB;AAClByM,kCAAMliB,IAAN,CAAWmiB,MAAX;AACAA,sCAAUR,OAAV;AACH;AACDC,gCAAQA,SAAStM,GAAjB;AACAmM,kCAAU,EAAEG,OAAOA,KAAT,EAAgBM,OAAOA,KAAvB,EAAV;AACH;;AAED;AACAE,mCAAeX,QAAQG,KAAR,KAAkB,CAAlB,GAAsB,CAAtB,GAA0BH,QAAQG,KAAR,IAAiBtM,GAA1D;;AAEA;AACAmM,4BAAQS,KAAR,CAAcpiB,OAAd,CAAsB,UAAUwiB,QAAV,EAAoB;AACtC,4BAAIC,YAAYV,UAAU3D,MAAV,CAAiB,UAAU5T,KAAV,EAAiB;AAC9C,mCAAOA,MAAMlH,IAAN,IAAcgf,YAAd,IAA8B9X,MAAMlH,IAAN,GAAakf,QAAlD;AACH,yBAFe,CAAhB;AAGAC,kCAAUziB,OAAV,CAAkB,UAAUwK,KAAV,EAAiB;AAC/BwX,uCAAWxX,MAAMoD,KAAjB,IAA0B0U,eAAe,GAAf,GAAqBE,QAA/C;AACH,yBAFD;AAGAF,uCAAeE,QAAf;AACH,qBARD;;AAUA;AACAT,8BAAU3D,MAAV,CAAiB,UAAU5T,KAAV,EAAiB;AAC9B,+BAAOA,MAAMlH,IAAN,GAAaqe,QAAQG,KAA5B;AACH,qBAFD,EAEG9hB,OAFH,CAEW,UAAUwK,KAAV,EAAiB;AACxBwX,mCAAWxX,MAAMoD,KAAjB,IAA0B4H,MAAM,GAAN,GAAYmM,QAAQG,KAA9C;AACH,qBAJD;;AAMA;AACAC,8BAAU3D,MAAV,CAAiB,UAAU5T,KAAV,EAAiB;AAC9B,+BAAOA,MAAMlH,IAAN,IAAcqe,QAAQS,KAAR,CAAcT,QAAQS,KAAR,CAAczhB,MAAd,GAAuB,CAArC,CAArB;AACH,qBAFD,EAEGX,OAFH,CAEW,UAAUwK,KAAV,EAAiB;AACxBwX,mCAAWxX,MAAMoD,KAAjB,IAA0B+T,QAAQS,KAAR,CAAcT,QAAQS,KAAR,CAAczhB,MAAd,GAAuB,CAArC,IAA0C,GAA1C,GAAgDwhB,MAA1E;AACH,qBAJD;;AAMA;AACA;AACAR,4BAAQS,KAAR,CAAcM,OAAd,CAAsBf,QAAQG,KAA9B;AACAnR,4BAAQ,IAAIsE,GAAJ,CAAQ0M,QAAQS,KAAhB,CAAR;;AAEA;AACA,wBAAI5M,MAAMmM,QAAQG,KAAlB,EAAyB;AACrBnR,8BAAMyE,GAAN,CAAUI,GAAV;AACH;AACD,wBAAI2M,SAASR,QAAQS,KAAR,CAAcT,QAAQS,KAAR,CAAczhB,MAAd,GAAuB,CAArC,CAAb,EAAsD;AAClDgQ,8BAAMyE,GAAN,CAAU+M,MAAV;AACH;;AAEDxR,4BAAQ,GAAGvP,MAAH,CAAU2C,mBAAmB4M,KAAnB,CAAV,EAAqCxH,IAArC,CAA0C,UAAUwZ,CAAV,EAAaC,CAAb,EAAgB;AAC9D,+BAAOD,IAAIC,CAAX;AACH,qBAFO,CAAR;AAGAhS,0BAAM,EAAN;;AAEA,yBAAK,IAAI1U,IAAI,CAAb,EAAgBA,IAAIyU,MAAMhQ,MAA1B,EAAkCzE,GAAlC,EAAuC;AACnC0U,4BAAI1Q,IAAJ,CAAS,CAACyQ,MAAMzU,IAAI,CAAV,IAAeyU,MAAMzU,CAAN,CAAhB,IAA4B,CAArC;AACH;AACD,2BAAO,EAAEoH,MAAM0e,UAAR,EAAoBpR,KAAKA,GAAzB,EAA8BD,OAAOA,KAArC,EAAP;AACH;;AAED;AAAO,aAnnHG;;AAqnHV,iBAAM;AACN;;;AAGA;AACA,iBAAO,8BAAShV,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,8CAA+BnC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,QAA3C,EAAqD,YAAW;AAAE,2BAAOwU,MAAP;AAAgB,iBAAlF;AAC/B,8CAA+B3W,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,SAA3C,EAAsD,YAAW;AAAE,2BAAOyU,OAAP;AAAiB,iBAApF;AAC/B,8CAA+B5W,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,KAA3C,EAAkD,YAAW;AAAE,2BAAO6R,GAAP;AAAa,iBAA5E;AAC/B,8CAA+BhU,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,SAA3C,EAAsD,YAAW;AAAE,2BAAOuM,OAAP;AAAiB,iBAApF;AAC/B,8CAA+B1O,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,SAA3C,EAAsD,YAAW;AAAE,2BAAOuU,OAAP;AAAiB,iBAApF;AAC/B,yBAAS3O,kBAAT,CAA4BC,GAA5B,EAAiC;AAAE,wBAAIC,MAAMC,OAAN,CAAcF,GAAd,CAAJ,EAAwB;AAAE,6BAAK,IAAI9H,IAAI,CAAR,EAAWiI,OAAOF,MAAMD,IAAIrD,MAAV,CAAvB,EAA0CzE,IAAI8H,IAAIrD,MAAlD,EAA0DzE,GAA1D,EAA+D;AAAEiI,iCAAKjI,CAAL,IAAU8H,IAAI9H,CAAJ,CAAV;AAAmB,yBAAC,OAAOiI,IAAP;AAAc,qBAA7H,MAAmI;AAAE,+BAAOF,MAAMG,IAAN,CAAWJ,GAAX,CAAP;AAAyB;AAAE;;AAEnM;;;;;;;;;;;;;;AAcA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0CA,oBAAI2O,SAAS,SAASA,MAAT,GAAkB;AAC7B,yBAAK,IAAItK,OAAOC,UAAU3H,MAArB,EAA6B4H,OAAOtE,MAAMoE,IAAN,CAApC,EAAiDG,OAAO,CAA7D,EAAgEA,OAAOH,IAAvE,EAA6EG,MAA7E,EAAqF;AACnFD,6BAAKC,IAAL,IAAaF,UAAUE,IAAV,CAAb;AACD;;AAED,2BAAO,UAAUqa,EAAV,EAAc;AACnB,+BAAOA,GAAGlQ,MAAH,CAAUhO,KAAV,CAAgBke,EAAhB,EAAoBta,IAApB,CAAP;AACD,qBAFD;AAGD,iBARD;;AAUA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA,oBAAIqK,UAAU,SAASA,OAAT,GAAmB;AAC/B,yBAAK,IAAIkQ,QAAQxa,UAAU3H,MAAtB,EAA8B4H,OAAOtE,MAAM6e,KAAN,CAArC,EAAmDC,QAAQ,CAAhE,EAAmEA,QAAQD,KAA3E,EAAkFC,OAAlF,EAA2F;AACzFxa,6BAAKwa,KAAL,IAAcza,UAAUya,KAAV,CAAd;AACD;;AAED,2BAAO,UAAUF,EAAV,EAAc;AACnB,+BAAOA,GAAGjQ,OAAH,CAAWjO,KAAX,CAAiBke,EAAjB,EAAqBta,IAArB,CAAP;AACD,qBAFD;AAGD,iBARD;;AAUA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA,oBAAIyH,MAAM,SAASA,GAAT,GAAe;AACvB,yBAAK,IAAIgT,QAAQ1a,UAAU3H,MAAtB,EAA8B4H,OAAOtE,MAAM+e,KAAN,CAArC,EAAmDC,QAAQ,CAAhE,EAAmEA,QAAQD,KAA3E,EAAkFC,OAAlF,EAA2F;AACzF1a,6BAAK0a,KAAL,IAAc3a,UAAU2a,KAAV,CAAd;AACD;;AAED,2BAAO,UAAUJ,EAAV,EAAc;AACnB,+BAAOA,GAAG7S,GAAH,CAAOrL,KAAP,CAAake,EAAb,EAAiBta,IAAjB,CAAP;AACD,qBAFD;AAGD,iBARD;;AAUA;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,oBAAImC,UAAU,SAASA,OAAT,GAAmB;AAC/B,yBAAK,IAAIwY,QAAQ5a,UAAU3H,MAAtB,EAA8B4H,OAAOtE,MAAMif,KAAN,CAArC,EAAmDC,QAAQ,CAAhE,EAAmEA,QAAQD,KAA3E,EAAkFC,OAAlF,EAA2F;AACzF5a,6BAAK4a,KAAL,IAAc7a,UAAU6a,KAAV,CAAd;AACD;;AAED,2BAAO,UAAUN,EAAV,EAAc;AACnB,+BAAOA,GAAGnY,OAAH,CAAW/F,KAAX,CAAiBke,EAAjB,EAAqBta,IAArB,CAAP;AACD,qBAFD;AAGD,iBARD;;AAUA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,oBAAImK,UAAU,SAASA,OAAT,GAAmB;AAC/B,yBAAK,IAAI0Q,QAAQ9a,UAAU3H,MAAtB,EAA8B0iB,aAAapf,MAAMmf,KAAN,CAA3C,EAAyDE,QAAQ,CAAtE,EAAyEA,QAAQF,KAAjF,EAAwFE,OAAxF,EAAiG;AAC/FD,mCAAWC,KAAX,IAAoBhb,UAAUgb,KAAV,CAApB;AACD;;AAED,2BAAO,UAAUT,EAAV,EAAc;AACnB,4BAAIhY,SAASvC,UAAU3H,MAAV,GAAmB,CAAnB,IAAwB2H,UAAU,CAAV,MAAiB1D,SAAzC,GAAqD0D,UAAU,CAAV,CAArD,GAAoE,EAAEwC,WAAW,IAAb,EAAjF;;AAEA,4BAAIyY,YAAYV,EAAhB;AACA,4BAAIW,YAAY,KAAK,CAArB;AACA,4BAAIC,cAAc,EAAlB;AACA,4BAAI3Y,YAAYD,OAAOC,SAAvB;;AAEAuY,mCAAWrjB,OAAX,CAAmB,UAAU+b,SAAV,EAAqB;AACtCwH,wCAAYxH,UAAUwH,SAAV,CAAZ;AACAE,wCAAYvjB,IAAZ,CAAiByE,KAAjB,CAAuB8e,WAAvB,EAAoC1f,mBAAmBwf,UAAUlH,WAA7B,CAApC;AACA,gCAAI,CAACmH,SAAL,EAAgB;AACdA,4CAAYD,SAAZ;AACD;AACF,yBAND;;AAQAzY,qCAAayY,UAAUG,SAAV,CAAoBb,EAApB,EAAwBY,WAAxB,CAAb;AACA,4BAAIA,YAAY9iB,MAAZ,GAAqB,CAAzB,EAA4B;AAC1B6iB,sCAAUG,OAAV;AACD;;AAED,+BAAOJ,SAAP;AACD,qBAtBD;AAuBD,iBA5BD;;AA8BA;AAAO,aAv5HG;;AAy5HV,iBAAM;AACN;;;AAGA;AACA,iBAAO,mCAAS5nB,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,8CAA+BnC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,cAA3C,EAA2D,YAAW;AAAE,2BAAO0U,YAAP;AAAsB,iBAA9F;AAC/B,oCAAqB,IAAIZ,0CAA0CjW,qBAAoB,mBAAoB,oBAAxC,CAA9C;AACrB,oCAAqB,IAAI+X,sCAAsC/X,qBAAoB,eAAgB,sBAApC,CAA1C;AACrB,oCAAqB,IAAI4nB,kDAAkD5nB,qBAAoB,0BAA2B,qCAA/C,CAAtD;AACrB,oCAAqB,IAAI6nB,qDAAqD7nB,qBAAoB,6BAA8B,wCAAlD,CAAzD;AACrB,oCAAqB,IAAI0e,0CAA0C1e,qBAAoB,mBAAoB,0BAAxC,CAA9C;AACrB,oCAAqB,IAAI8nB,uCAAuC9nB,qBAAoB,gBAAiB,iBAArC,CAA3C;;AAOrB;;;;;AAKA,yBAAS+nB,eAAT,GAA2B;AACvB,2BAAO,IAAP;AACH;;AAED;;;;;;;;;;AAUA,yBAASlR,YAAT,CAAsBmR,GAAtB,EAA2BC,GAA3B,EAAgC/D,QAAhC,EAA0C;AACtC,wBAAIgE,sBAAsB5b,UAAU3H,MAAV,GAAmB,CAAnB,IAAwB2H,UAAU,CAAV,MAAiB1D,SAAzC,GAAqD0D,UAAU,CAAV,CAArD,GAAoE,KAA9F;AACA,wBAAI6b,WAAW7b,UAAU3H,MAAV,GAAmB,CAAnB,IAAwB2H,UAAU,CAAV,MAAiB1D,SAAzC,GAAqD0D,UAAU,CAAV,CAArD,GAAoEoS,wCAAwC,OAAxC,EAAiDhY,KAApI;;AAEA,wBAAIiH,SAAS,EAAb;AACA,wBAAIrG,OAAO,EAAX;AACA,wBAAI8gB,qBAAqBlE,YAAY6D,eAArC;AACA,wBAAIM,gBAAgBL,IAAIpY,aAAJ,EAApB;AACA,wBAAI0Y,gBAAgBL,IAAIrY,aAAJ,EAApB;AACA,wBAAI2Y,oBAAoBF,cAAc7nB,IAAtC;AACA,wBAAIgoB,oBAAoBF,cAAc9nB,IAAtC;AACA,wBAAIA,OAAO6nB,cAAc7nB,IAAd,GAAqB,GAArB,GAA2B8nB,cAAc9nB,IAApD;AACA,wBAAIioB,mBAAmB9nB,OAAOinB,gDAAgD,iBAAhD,CAAP,EAA2ES,aAA3E,EAA0FC,aAA1F,CAAvB;;AAEA,wBAAIC,sBAAsBC,iBAA1B,EAA6C;AACzC,8BAAM,IAAI3gB,KAAJ,CAAU,4CAAV,CAAN;AACH;AACD;AACAwgB,kCAAclf,MAAd,CAAqBnF,OAArB,CAA6B,UAAU0E,KAAV,EAAiB;AAC1C,4BAAIggB,YAAY/nB,OAAOoX,oCAAoC,SAApC,CAAP,EAAuD,EAAvD,EAA2DrP,MAAMiF,MAAN,EAA3D,CAAhB;AACA,4BAAI8a,iBAAiBra,OAAjB,CAAyBsa,UAAUloB,IAAnC,MAA6C,CAAC,CAA9C,IAAmD,CAAC0nB,mBAAxD,EAA6E;AACzEQ,sCAAUloB,IAAV,GAAiB6nB,cAAc7nB,IAAd,GAAqB,GAArB,GAA2BkoB,UAAUloB,IAAtD;AACH;AACDmN,+BAAOzJ,IAAP,CAAYwkB,SAAZ;AACH,qBAND;AAOAJ,kCAAcnf,MAAd,CAAqBnF,OAArB,CAA6B,UAAU0E,KAAV,EAAiB;AAC1C,4BAAIggB,YAAY/nB,OAAOoX,oCAAoC,SAApC,CAAP,EAAuD,EAAvD,EAA2DrP,MAAMiF,MAAN,EAA3D,CAAhB;AACA,4BAAI8a,iBAAiBra,OAAjB,CAAyBsa,UAAUloB,IAAnC,MAA6C,CAAC,CAAlD,EAAqD;AACjD,gCAAI,CAAC0nB,mBAAL,EAA0B;AACtBQ,0CAAUloB,IAAV,GAAiB8nB,cAAc9nB,IAAd,GAAqB,GAArB,GAA2BkoB,UAAUloB,IAAtD;AACAmN,uCAAOzJ,IAAP,CAAYwkB,SAAZ;AACH;AACJ,yBALD,MAKO;AACH/a,mCAAOzJ,IAAP,CAAYwkB,SAAZ;AACH;AACJ,qBAVD;;AAYA;AACA/nB,2BAAOknB,mDAAmD,oBAAnD,CAAP,EAAiFG,IAAI1a,WAArF,EAAkG,UAAUpN,CAAV,EAAa;AAC3G,4BAAIyoB,WAAW,KAAf;AACA,4BAAIC,cAAc,KAAK,CAAvB;AACAjoB,+BAAOknB,mDAAmD,oBAAnD,CAAP,EAAiFI,IAAI3a,WAArF,EAAkG,UAAUub,EAAV,EAAc;AAC5G,gCAAIC,QAAQ,EAAZ;AACA,gCAAIC,UAAU,EAAd;AACAA,oCAAQR,iBAAR,IAA6B,EAA7B;AACAQ,oCAAQP,iBAAR,IAA6B,EAA7B;AACAH,0CAAclf,MAAd,CAAqBnF,OAArB,CAA6B,UAAU0E,KAAV,EAAiB;AAC1CogB,sCAAM5kB,IAAN,CAAWwE,MAAM2J,YAAN,CAAmB/K,IAAnB,CAAwBpH,CAAxB,CAAX;AACA6oB,wCAAQR,iBAAR,EAA2B7f,MAAMlI,IAAN,EAA3B,IAA2CkI,MAAM2J,YAAN,CAAmB/K,IAAnB,CAAwBpH,CAAxB,CAA3C;AACH,6BAHD;AAIAooB,0CAAcnf,MAAd,CAAqBnF,OAArB,CAA6B,UAAU0E,KAAV,EAAiB;AAC1C,oCAAI,EAAE+f,iBAAiBra,OAAjB,CAAyB1F,MAAMiF,MAAN,GAAenN,IAAxC,MAAkD,CAAC,CAAnD,IAAwD0nB,mBAA1D,CAAJ,EAAoF;AAChFY,0CAAM5kB,IAAN,CAAWwE,MAAM2J,YAAN,CAAmB/K,IAAnB,CAAwBuhB,EAAxB,CAAX;AACH;AACDE,wCAAQP,iBAAR,EAA2B9f,MAAMlI,IAAN,EAA3B,IAA2CkI,MAAM2J,YAAN,CAAmB/K,IAAnB,CAAwBuhB,EAAxB,CAA3C;AACH,6BALD;;AAOA,gCAAI7W,cAAc,EAAlB;AACA,gCAAIgX,iBAAiB,SAASA,cAAT,GAA0B;AAC3C,uCAAOhB,IAAI9V,YAAJ,EAAP;AACH,6BAFD;AAGA,gCAAI+W,iBAAiB,SAASA,cAAT,GAA0B;AAC3C,uCAAOhB,IAAI/V,YAAJ,EAAP;AACH,6BAFD;;AAIA,gCAAIgX,YAAYvoB,OAAOmnB,qCAAqC,iBAArC,CAAP,EAAgEiB,QAAQR,iBAAR,CAAhE,CAAhB;AACA,gCAAIY,YAAYxoB,OAAOmnB,qCAAqC,iBAArC,CAAP,EAAgEiB,QAAQP,iBAAR,CAAhE,CAAhB;AACA,gCAAIJ,mBAAmBc,SAAnB,EAA8BC,SAA9B,EAAyCH,cAAzC,EAAyDC,cAAzD,EAAyEjX,WAAzE,CAAJ,EAA2F;AACvF,oCAAIoX,WAAW,EAAf;AACAN,sCAAM9kB,OAAN,CAAc,UAAUqlB,OAAV,EAAmBC,GAAnB,EAAwB;AAClCF,6CAASzb,OAAO2b,GAAP,EAAY9oB,IAArB,IAA6B6oB,OAA7B;AACH,iCAFD;AAGA,oCAAIV,YAAYjK,wCAAwC,OAAxC,EAAiDhY,KAAjD,KAA2DyhB,QAA3E,EAAqF;AACjF7gB,yCAAKshB,WAAL,IAAoBQ,QAApB;AACH,iCAFD,MAEO;AACH9hB,yCAAKpD,IAAL,CAAUklB,QAAV;AACAT,+CAAW,IAAX;AACAC,kDAAc1oB,CAAd;AACH;AACJ,6BAZD,MAYO,IAAI,CAACioB,aAAazJ,wCAAwC,OAAxC,EAAiD/X,SAA9D,IAA2EwhB,aAAazJ,wCAAwC,OAAxC,EAAiD9X,UAA1I,KAAyJ,CAAC+hB,QAA9J,EAAwK;AAC3K,oCAAIY,YAAY,EAAhB;AACA,oCAAIhG,MAAM8E,cAAclf,MAAd,CAAqBxE,MAArB,GAA8B,CAAxC;AACAmkB,sCAAM9kB,OAAN,CAAc,UAAUqlB,OAAV,EAAmBC,GAAnB,EAAwB;AAClC,wCAAIA,OAAO/F,GAAX,EAAgB;AACZgG,kDAAU5b,OAAO2b,GAAP,EAAY9oB,IAAtB,IAA8B6oB,OAA9B;AACH,qCAFD,MAEO;AACHE,kDAAU5b,OAAO2b,GAAP,EAAY9oB,IAAtB,IAA8B,IAA9B;AACH;AACJ,iCAND;AAOAmoB,2CAAW,IAAX;AACAC,8CAAc1oB,CAAd;AACAoH,qCAAKpD,IAAL,CAAUqlB,SAAV;AACH;AACJ,yBApDD;AAqDH,qBAxDD;;AA0DA,2BAAO,IAAItT,wCAAwC,SAAxC,CAAJ,CAAuD3O,IAAvD,EAA6DqG,MAA7D,EAAqE,EAAEnN,MAAMA,IAAR,EAArE,CAAP;AACH;;AAED;AAAO,aAriIG;;AAuiIV,iBAAM;AACN;;;AAGA;AACA,iBAAO,kCAASb,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,8CAA+BnC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,aAA3C,EAA0D,YAAW;AAAE,2BAAOqnB,WAAP;AAAqB,iBAA5F;AAC/B,oCAAqB,IAAIrjB,sCAAsCnG,qBAAoB,eAAgB,sBAApC,CAA1C;AACrB,oCAAqB,IAAIypB,qDAAqDzpB,qBAAoB,6BAA8B,wCAAlD,CAAzD;AACrB,oCAAqB,IAAI0pB,2CAA2C1pB,qBAAoB,mBAAoB,8BAAxC,CAA/C;AACrB,oCAAqB,IAAI2pB,uCAAuC3pB,qBAAoB,gBAAiB,iBAArC,CAA3C;AACrB,oCAAqB,IAAIqW,sCAAsCrW,qBAAoB,eAAgB,sBAApC,CAA1C;AACrB,yBAAS+H,kBAAT,CAA4BC,GAA5B,EAAiC;AAAE,wBAAIC,MAAMC,OAAN,CAAcF,GAAd,CAAJ,EAAwB;AAAE,6BAAK,IAAI9H,IAAI,CAAR,EAAWiI,OAAOF,MAAMD,IAAIrD,MAAV,CAAvB,EAA0CzE,IAAI8H,IAAIrD,MAAlD,EAA0DzE,GAA1D,EAA+D;AAAEiI,iCAAKjI,CAAL,IAAU8H,IAAI9H,CAAJ,CAAV;AAAmB,yBAAC,OAAOiI,IAAP;AAAc,qBAA7H,MAAmI;AAAE,+BAAOF,MAAMG,IAAN,CAAWJ,GAAX,CAAP;AAAyB;AAAE;;AAOnM;;;;;;;;;AASA,yBAAS4hB,SAAT,CAAmBC,QAAnB,EAA6BC,QAA7B,EAAuClY,KAAvC,EAA8C;AAC1C,wBAAImY,UAAU,KAAK,CAAnB;AACA,4BAAQF,QAAR;AACI,6BAAK1jB,oCAAoC,gBAApC,EAAsD6P,UAA3D;AACA,6BAAK7P,oCAAoC,kBAApC,EAAwD+O,QAA7D;AACI,gCAAI4U,aAAa,MAAjB,EAAyB;AACrBC,0CAAU,SAASA,OAAT,CAAiBpD,CAAjB,EAAoBC,CAApB,EAAuB;AAC7B,2CAAOA,EAAEhV,KAAF,IAAW+U,EAAE/U,KAAF,CAAlB;AACH,iCAFD;AAGH,6BAJD,MAIO;AACHmY,0CAAU,SAASA,OAAT,CAAiBpD,CAAjB,EAAoBC,CAApB,EAAuB;AAC7B,2CAAOD,EAAE/U,KAAF,IAAWgV,EAAEhV,KAAF,CAAlB;AACH,iCAFD;AAGH;AACD;AACJ;AACImY,sCAAU,SAASA,OAAT,CAAiBpD,CAAjB,EAAoBC,CAApB,EAAuB;AAC7B,oCAAIoD,KAAK,KAAKrD,EAAE/U,KAAF,CAAd;AACA,oCAAIqY,KAAK,KAAKrD,EAAEhV,KAAF,CAAd;AACA,oCAAIoY,KAAKC,EAAT,EAAa;AACT,2CAAOH,aAAa,MAAb,GAAsB,CAAtB,GAA0B,CAAC,CAAlC;AACH;AACD,oCAAIE,KAAKC,EAAT,EAAa;AACT,2CAAOH,aAAa,MAAb,GAAsB,CAAC,CAAvB,GAA2B,CAAlC;AACH;AACD,uCAAO,CAAP;AACH,6BAVD;AAdR;AA0BA,2BAAOC,OAAP;AACH;;AAED;;;;;;;AAOA,yBAASG,SAAT,CAAmB5iB,IAAnB,EAAyBuJ,UAAzB,EAAqC;AACjC,wBAAIsZ,UAAU,IAAIC,GAAJ,EAAd;AACA,wBAAIC,cAAc,EAAlB;;AAEA/iB,yBAAKtD,OAAL,CAAa,UAAUwK,KAAV,EAAiB;AAC1B,4BAAI8b,WAAW9b,MAAMqC,UAAN,CAAf;AACA,4BAAIsZ,QAAQhR,GAAR,CAAYmR,QAAZ,CAAJ,EAA2B;AACvBD,wCAAYF,QAAQrpB,GAAR,CAAYwpB,QAAZ,CAAZ,EAAmC,CAAnC,EAAsCpmB,IAAtC,CAA2CsK,KAA3C;AACH,yBAFD,MAEO;AACH6b,wCAAYnmB,IAAZ,CAAiB,CAAComB,QAAD,EAAW,CAAC9b,KAAD,CAAX,CAAjB;AACA2b,oCAAQI,GAAR,CAAYD,QAAZ,EAAsBD,YAAY1lB,MAAZ,GAAqB,CAA3C;AACH;AACJ,qBARD;;AAUA,2BAAO0lB,WAAP;AACH;;AAED;;;;;;;;;AASA,yBAASG,kBAAT,CAA4BC,YAA5B,EAA0CC,YAA1C,EAAwDC,kBAAxD,EAA4E;AACxE,wBAAIC,MAAM;AACNC,+BAAOJ,aAAa,CAAb;AADD,qBAAV;;AAIAC,iCAAazc,MAAb,CAAoB,UAAUC,GAAV,EAAezD,IAAf,EAAqB0D,GAArB,EAA0B;AAC1CD,4BAAIzD,IAAJ,IAAYggB,aAAa,CAAb,EAAgBnnB,GAAhB,CAAoB,UAAUkL,KAAV,EAAiB;AAC7C,mCAAOA,MAAMmc,mBAAmBxc,GAAnB,EAAwByD,KAA9B,CAAP;AACH,yBAFW,CAAZ;AAGA,+BAAO1D,GAAP;AACH,qBALD,EAKG0c,GALH;;AAOA,2BAAOA,GAAP;AACH;;AAED;;;;;;AAMA,yBAASE,QAAT,CAAkB5J,OAAlB,EAA2B7R,cAA3B,EAA2C;AACvC,wBAAI/H,OAAO4Z,QAAQ5Z,IAAnB;AAAA,wBACIqG,SAASuT,QAAQvT,MADrB;;AAGA,wBAAI8C,YAAY,KAAK,CAArB;AACA,wBAAIsa,WAAW,KAAK,CAApB;AACA,wBAAIC,WAAW,KAAK,CAApB;AACA,wBAAI9qB,IAAImP,eAAe1K,MAAf,GAAwB,CAAhC;;AAEA,2BAAOzE,KAAK,CAAZ,EAAeA,GAAf,EAAoB;AAChBuQ,oCAAYpB,eAAenP,CAAf,EAAkB,CAAlB,CAAZ;AACA6qB,mCAAW1b,eAAenP,CAAf,EAAkB,CAAlB,CAAX;AACA8qB,mCAAWrqB,OAAOgpB,qCAAqC,eAArC,CAAP,EAA8Dhc,MAA9D,EAAsE8C,SAAtE,CAAX;;AAEA,4BAAI,CAACua,QAAL,EAAe;AACX;AACA;AACH;;AAED,4BAAIrqB,OAAO0V,oCAAoC,YAApC,CAAP,EAA0D0U,QAA1D,CAAJ,EAAyE;AACrE;AACApqB,mCAAO+oB,yCAAyC,WAAzC,CAAP,EAA8DpiB,IAA9D,EAAoE,UAAUqf,CAAV,EAAaC,CAAb,EAAgB;AAChF,uCAAOmE,SAASpE,EAAEqE,SAASpZ,KAAX,CAAT,EAA4BgV,EAAEoE,SAASpZ,KAAX,CAA5B,CAAP;AACH,6BAFD;AAGH,yBALD,MAKO,IAAIjR,OAAO0V,oCAAoC,SAApC,CAAP,EAAuD0U,QAAvD,CAAJ,EAAsE;AACzE,6BAAC,YAAY;AACT,oCAAIV,cAAcH,UAAU5iB,IAAV,EAAgB0jB,SAASpZ,KAAzB,CAAlB;AACA,oCAAIqZ,YAAYF,SAASA,SAASpmB,MAAT,GAAkB,CAA3B,CAAhB;AACA,oCAAI+lB,eAAeK,SAAS9lB,KAAT,CAAe,CAAf,EAAkB8lB,SAASpmB,MAAT,GAAkB,CAApC,CAAnB;AACA,oCAAIgmB,qBAAqBD,aAAapnB,GAAb,CAAiB,UAAUK,CAAV,EAAa;AACnD,2CAAOhD,OAAOgpB,qCAAqC,eAArC,CAAP,EAA8Dhc,MAA9D,EAAsEhK,CAAtE,CAAP;AACH,iCAFwB,CAAzB;;AAIA0mB,4CAAYrmB,OAAZ,CAAoB,UAAUymB,YAAV,EAAwB;AACxCA,iDAAavmB,IAAb,CAAkBsmB,mBAAmBC,YAAnB,EAAiCC,YAAjC,EAA+CC,kBAA/C,CAAlB;AACH,iCAFD;;AAIAhqB,uCAAO+oB,yCAAyC,WAAzC,CAAP,EAA8DW,WAA9D,EAA2E,UAAU1D,CAAV,EAAaC,CAAb,EAAgB;AACvF,wCAAIvmB,IAAIsmB,EAAE,CAAF,CAAR;AACA,wCAAIjlB,IAAIklB,EAAE,CAAF,CAAR;AACA,2CAAOqE,UAAU5qB,CAAV,EAAaqB,CAAb,CAAP;AACH,iCAJD;;AAMA;AACA4F,qCAAK3C,MAAL,GAAc,CAAd;AACA0lB,4CAAYrmB,OAAZ,CAAoB,UAAUwK,KAAV,EAAiB;AACjClH,yCAAKpD,IAAL,CAAUyE,KAAV,CAAgBrB,IAAhB,EAAsBS,mBAAmByG,MAAM,CAAN,CAAnB,CAAtB;AACH,iCAFD;AAGH,6BAvBD;AAwBH,yBAzBM,MAyBA;AACHuc,uCAAWpP,OAAOoP,QAAP,EAAiBG,WAAjB,OAAmC,MAAnC,GAA4C,MAA5C,GAAqD,KAAhE;AACAvqB,mCAAO+oB,yCAAyC,WAAzC,CAAP,EAA8DpiB,IAA9D,EAAoEsiB,UAAUoB,SAAStb,IAAnB,EAAyBqb,QAAzB,EAAmCC,SAASpZ,KAA5C,CAApE;AACH;AACJ;;AAEDsP,4BAAQtT,IAAR,GAAe,EAAf;AACAtG,yBAAKtD,OAAL,CAAa,UAAU9C,KAAV,EAAiB;AAC1BggB,gCAAQtT,IAAR,CAAa1J,IAAb,CAAkBhD,MAAMiqB,GAAN,EAAlB;AACH,qBAFD;AAGH;;AAED;;;;;;;;;;;AAWA,yBAAS3B,WAAT,CAAqBxR,UAArB,EAAiCL,UAAjC,EAA6C8H,aAA7C,EAA4DpQ,cAA5D,EAA4E9H,OAA5E,EAAqF;AACjF,wBAAIuF,aAAa;AACbW,gCAAQ,KADK;AAEbD,oCAAY;AAFC,qBAAjB;AAIAjG,8BAAU5G,OAAO4H,MAAP,CAAc,EAAd,EAAkBuE,UAAlB,EAA8BvF,OAA9B,CAAV;;AAEA,wBAAI6Q,SAAS;AACTzK,gCAAQ,EADC;AAETrG,8BAAM,EAFG;AAGTsG,8BAAM;AAHG,qBAAb;AAKA,wBAAIH,SAASlG,QAAQkG,MAArB;AACA,wBAAI2d,aAAa/b,kBAAkBA,eAAe1K,MAAf,GAAwB,CAA3D;AACA;AACA,wBAAI0mB,aAAa,EAAjB;AACA;AACA,wBAAIC,UAAU7L,cAAcE,KAAd,CAAoB,GAApB,CAAd;;AAEA2L,4BAAQtnB,OAAR,CAAgB,UAAUunB,OAAV,EAAmB;AAC/B,6BAAK,IAAIrrB,IAAI,CAAb,EAAgBA,IAAI8X,WAAWrT,MAA/B,EAAuCzE,KAAK,CAA5C,EAA+C;AAC3C,gCAAI8X,WAAW9X,CAAX,EAAcM,IAAd,OAAyB+qB,OAA7B,EAAsC;AAClCF,2CAAWnnB,IAAX,CAAgB8T,WAAW9X,CAAX,CAAhB;AACA;AACH;AACJ;AACJ,qBAPD;;AASA;AACAmrB,+BAAWrnB,OAAX,CAAmB,UAAU0E,KAAV,EAAiB;AAChC;AACA0P,+BAAOzK,MAAP,CAAczJ,IAAd,CAAmBwE,MAAMiF,MAAN,EAAnB;AACH,qBAHD;;AAKA,wBAAIF,MAAJ,EAAY;AACR2K,+BAAOzK,MAAP,CAAczJ,IAAd,CAAmB;AACf1D,kCAAM,KADS;AAEfkP,kCAAM;AAFS,yBAAnB;AAIH;;AAED/O,2BAAO8oB,mDAAmD,oBAAnD,CAAP,EAAiF9R,UAAjF,EAA6F,UAAUzX,CAAV,EAAa;AACtGkY,+BAAO9Q,IAAP,CAAYpD,IAAZ,CAAiB,EAAjB;AACA,4BAAIsnB,YAAYpT,OAAO9Q,IAAP,CAAY3C,MAAZ,GAAqB,CAArC;AACA,4BAAImhB,QAAQ,CAAZ;AACAuF,mCAAWrnB,OAAX,CAAmB,UAAU0E,KAAV,EAAiBmgB,EAAjB,EAAqB;AACpCzQ,mCAAO9Q,IAAP,CAAYkkB,SAAZ,EAAuB3C,KAAK/C,KAA5B,IAAqCpd,MAAM2J,YAAN,CAAmB/K,IAAnB,CAAwBpH,CAAxB,CAArC;AACH,yBAFD;AAGA,4BAAIuN,MAAJ,EAAY;AACR2K,mCAAO9Q,IAAP,CAAYkkB,SAAZ,EAAuBH,WAAW1mB,MAAlC,IAA4CzE,CAA5C;AACH;AACD;AACAkY,+BAAOxK,IAAP,CAAY1J,IAAZ,CAAiBhE,CAAjB;;AAEA;AACA;AACA,4BAAIkrB,UAAJ,EAAgB;AACZhT,mCAAO9Q,IAAP,CAAYkkB,SAAZ,EAAuBtnB,IAAvB,CAA4BhE,CAA5B;AACH;AACJ,qBAlBD;;AAoBA;AACA,wBAAIkrB,UAAJ,EAAgB;AACZN,iCAAS1S,MAAT,EAAiB/I,cAAjB;AACH;;AAED,wBAAI9H,QAAQiG,UAAZ,EAAwB;AACpB,4BAAIie,UAAUxjB,MAAMU,KAAN,CAAYC,SAAZ,EAAuBb,mBAAmBE,MAAMmQ,OAAOzK,MAAP,CAAchJ,MAApB,CAAnB,CAAvB,EAAwErB,GAAxE,CAA4E,YAAY;AAClG,mCAAO,EAAP;AACH,yBAFa,CAAd;AAGA8U,+BAAO9Q,IAAP,CAAYtD,OAAZ,CAAoB,UAAU8kB,KAAV,EAAiB;AACjCA,kCAAM9kB,OAAN,CAAc,UAAUsD,IAAV,EAAgBpH,CAAhB,EAAmB;AAC7BurB,wCAAQvrB,CAAR,EAAWgE,IAAX,CAAgBoD,IAAhB;AACH,6BAFD;AAGH,yBAJD;AAKA8Q,+BAAO9Q,IAAP,GAAcmkB,OAAd;AACH;;AAED,2BAAOrT,MAAP;AACH;;AAED;AAAO,aApzIG;;AAszIV,iBAAM;AACN;;;AAGA;AACA,iBAAO,iCAASzY,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,8CAA+BnC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,YAA3C,EAAyD,YAAW;AAAE,2BAAO2U,UAAP;AAAoB,iBAA1F;AAC/B,oCAAqB,IAAIb,0CAA0CjW,qBAAoB,mBAAoB,oBAAxC,CAA9C;AACrB,oCAAqB,IAAI+X,sCAAsC/X,qBAAoB,eAAgB,sBAApC,CAA1C;AACrB,oCAAqB,IAAI0rB,qDAAqD1rB,qBAAoB,6BAA8B,wCAAlD,CAAzD;AACrB,oCAAqB,IAAI2rB,6CAA6C3rB,qBAAoB,sBAAuB,uBAA3C,CAAjD;;AAMrB;;;;;;;;;AASA,yBAAS8W,UAAT,CAAoBkR,GAApB,EAAyBC,GAAzB,EAA8B;AAC1B,wBAAI2D,YAAY,EAAhB;AACA,wBAAIje,SAAS,EAAb;AACA,wBAAIke,gBAAgB,EAApB;AACA,wBAAIvkB,OAAO,EAAX;AACA,wBAAI+gB,gBAAgBL,IAAIpY,aAAJ,EAApB;AACA,wBAAI0Y,gBAAgBL,IAAIrY,aAAJ,EAApB;AACA,wBAAIkc,wBAAwBzD,cAAczX,SAAd,EAA5B;AACA,wBAAImb,wBAAwBzD,cAAc1X,SAAd,EAA5B;AACA,wBAAIpQ,OAAO6nB,cAAc7nB,IAAd,GAAqB,SAArB,GAAiC8nB,cAAc9nB,IAA1D;;AAEA;AACA,wBAAI,CAACG,OAAOgrB,2CAA2C,YAA3C,CAAP,EAAiE3D,IAAIza,cAAJ,CAAmBoS,KAAnB,CAAyB,GAAzB,EAA8BxS,IAA9B,EAAjE,EAAuG8a,IAAI1a,cAAJ,CAAmBoS,KAAnB,CAAyB,GAAzB,EAA8BxS,IAA9B,EAAvG,CAAL,EAAmJ;AAC/I,+BAAO,IAAP;AACH;;AAED;AACA6a,wBAAIza,cAAJ,CAAmBoS,KAAnB,CAAyB,GAAzB,EAA8B3b,OAA9B,CAAsC,UAAUyM,SAAV,EAAqB;AACvD,4BAAI/H,QAAQojB,sBAAsBrb,SAAtB,CAAZ;AACA9C,+BAAOzJ,IAAP,CAAYvD,OAAOoX,oCAAoC,SAApC,CAAP,EAAuD,EAAvD,EAA2DrP,MAAMiF,MAAN,EAA3D,CAAZ;AACAke,sCAAc3nB,IAAd,CAAmBwE,MAAMiF,MAAN,GAAenN,IAAlC;AACH,qBAJD;;AAMA;;;;;;;AAOA,6BAASwrB,iBAAT,CAA2BnF,EAA3B,EAA+BjW,SAA/B,EAA0Cqb,OAA1C,EAAmD;AAC/CtrB,+BAAO+qB,mDAAmD,oBAAnD,CAAP,EAAiF7E,GAAGvZ,WAApF,EAAiG,UAAUpN,CAAV,EAAa;AAC1G,gCAAI4oB,QAAQ,EAAZ;AACA,gCAAIoD,WAAW,EAAf;AACAL,0CAAc7nB,OAAd,CAAsB,UAAUmoB,UAAV,EAAsB;AACxC,oCAAIjrB,QAAQ0P,UAAUub,UAAV,EAAsB9Z,YAAtB,CAAmC/K,IAAnC,CAAwCpH,CAAxC,CAAZ;AACAgsB,4CAAY,MAAMhrB,KAAlB;AACA4nB,sCAAMqD,UAAN,IAAoBjrB,KAApB;AACH,6BAJD;AAKA,gCAAI,CAAC0qB,UAAUM,QAAV,CAAL,EAA0B;AACtB,oCAAID,OAAJ,EAAa;AACT3kB,yCAAKpD,IAAL,CAAU4kB,KAAV;AACH;AACD8C,0CAAUM,QAAV,IAAsB,IAAtB;AACH;AACJ,yBAdD;AAeH;;AAED;AACAF,sCAAkB/D,GAAlB,EAAuB8D,qBAAvB,EAA8C,KAA9C;AACAC,sCAAkBhE,GAAlB,EAAuB8D,qBAAvB,EAA8C,IAA9C;;AAEA,2BAAO,IAAI7V,wCAAwC,SAAxC,CAAJ,CAAuD3O,IAAvD,EAA6DqG,MAA7D,EAAqE,EAAEnN,MAAMA,IAAR,EAArE,CAAP;AACH;;AAED;AAAO,aAz4IG;;AA24IV,iBAAM;AACN;;;AAGA;AACA,iBAAO,sCAASb,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,8CAA+BnC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,iBAA3C,EAA8D,YAAW;AAAE,2BAAOiqB,eAAP;AAAyB,iBAApG;AAC/B;;;;;;;;AAQA,yBAASA,eAAT,CAAyBC,GAAzB,EAA8BC,GAA9B,EAAmC;AAC/B,wBAAIC,SAAS,EAAb;AACA,wBAAIC,SAAS,EAAb;AACAH,wBAAIljB,MAAJ,CAAWnF,OAAX,CAAmB,UAAU0E,KAAV,EAAiB;AAChC8jB,+BAAOtoB,IAAP,CAAYwE,MAAMiF,MAAN,GAAenN,IAA3B;AACH,qBAFD;AAGA8rB,wBAAInjB,MAAJ,CAAWnF,OAAX,CAAmB,UAAU0E,KAAV,EAAiB;AAChC,4BAAI8jB,OAAOpe,OAAP,CAAe1F,MAAMiF,MAAN,GAAenN,IAA9B,MAAwC,CAAC,CAA7C,EAAgD;AAC5C+rB,mCAAOroB,IAAP,CAAYwE,MAAMiF,MAAN,GAAenN,IAA3B;AACH;AACJ,qBAJD;AAKA,2BAAO+rB,MAAP;AACH;;AAED;AAAO,aA36IG;;AA66IV,iBAAM;AACN;;;AAGA;AACA,iBAAO,sCAAS5sB,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,8CAA+BnC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,oBAA3C,EAAiE,YAAW;AAAE,2BAAOsqB,kBAAP;AAA4B,iBAA1G;AAC/B,8CAA+BzsB,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,YAA3C,EAAyD,YAAW;AAAE,2BAAOuqB,GAAP;AAAa,iBAAnF;AAC/B,8CAA+B1sB,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,QAA3C,EAAqD,YAAW;AAAE,2BAAOwqB,MAAP;AAAgB,iBAAlF;AAC/B,yBAAS5kB,kBAAT,CAA4BC,GAA5B,EAAiC;AAAE,wBAAIC,MAAMC,OAAN,CAAcF,GAAd,CAAJ,EAAwB;AAAE,6BAAK,IAAI9H,IAAI,CAAR,EAAWiI,OAAOF,MAAMD,IAAIrD,MAAV,CAAvB,EAA0CzE,IAAI8H,IAAIrD,MAAlD,EAA0DzE,GAA1D,EAA+D;AAAEiI,iCAAKjI,CAAL,IAAU8H,IAAI9H,CAAJ,CAAV;AAAmB,yBAAC,OAAOiI,IAAP;AAAc,qBAA7H,MAAmI;AAAE,+BAAOF,MAAMG,IAAN,CAAWJ,GAAX,CAAP;AAAyB;AAAE;;AAEnM;;;;;AAKA,yBAAS0kB,GAAT,CAAa1kB,GAAb,EAAkB;AACd,wBAAI4kB,WAAW,IAAf;AACA,wBAAIC,gBAAgB7kB,IAAI,CAAJ,aAAkBC,KAAtC;AACA,wBAAI6kB,SAAS9kB,IAAIiG,MAAJ,CAAW,UAAU8e,KAAV,EAAiBpG,CAAjB,EAAoB;AACxC,4BAAIkG,aAAJ,EAAmB;AACf,mCAAOE,MAAMzpB,GAAN,CAAU,UAAU0pB,CAAV,EAAa9sB,CAAb,EAAgB;AAC7B,uCAAO8sB,IAAIrG,EAAEzmB,CAAF,CAAX;AACH,6BAFM,CAAP;AAGH;AACD0sB,mCAAWA,YAAYjG,MAAM,IAA7B;AACA,+BAAOoG,QAAQpG,CAAf;AACH,qBARY,EAQVkG,gBAAgB5kB,MAAMU,KAAN,CAAYC,SAAZ,EAAuBb,mBAAmBE,MAAMD,IAAI,CAAJ,EAAOrD,MAAb,CAAnB,CAAvB,EAAiErB,GAAjE,CAAqE,YAAY;AAChG,+BAAO,CAAP;AACH,qBAFkB,CAAhB,GAEE,CAVQ,CAAb;AAWA,2BAAOspB,WAAW,IAAX,GAAkBE,MAAzB;AACH;;AAED;;;;;AAKA,yBAASG,GAAT,CAAajlB,GAAb,EAAkB;AACd,wBAAI6kB,gBAAgB7kB,IAAI,CAAJ,aAAkBC,KAAtC;AACA,wBAAIsb,MAAMvb,IAAIrD,MAAJ,IAAc,CAAxB;AACA,wBAAIuoB,SAASR,IAAI1kB,GAAJ,CAAb;AACA,wBAAI6kB,aAAJ,EAAmB;AACf,+BAAOK,OAAO5pB,GAAP,CAAW,UAAU0pB,CAAV,EAAa;AAC3B,mCAAOA,IAAIzJ,GAAX;AACH,yBAFM,CAAP;AAGH;AACD,2BAAO2J,WAAW,IAAX,GAAkB,IAAlB,GAAyBA,SAAS3J,GAAzC;AACH;;AAED;;;;;AAKA,yBAAS/J,GAAT,CAAaxR,GAAb,EAAkB;AACd,wBAAI6kB,gBAAgB7kB,IAAI,CAAJ,aAAkBC,KAAtC;AACA,wBAAI4kB,aAAJ,EAAmB;AACf,+BAAO7kB,IAAIiG,MAAJ,CAAW,UAAU8e,KAAV,EAAiBpG,CAAjB,EAAoB;AAClC,mCAAOoG,MAAMzpB,GAAN,CAAU,UAAU0pB,CAAV,EAAa9sB,CAAb,EAAgB;AAC7B,uCAAOid,KAAK3D,GAAL,CAASwT,CAAT,EAAYrG,EAAEzmB,CAAF,CAAZ,CAAP;AACH,6BAFM,CAAP;AAGH,yBAJM,EAIJ+H,MAAMU,KAAN,CAAYC,SAAZ,EAAuBb,mBAAmBE,MAAMD,IAAI,CAAJ,EAAOrD,MAAb,CAAnB,CAAvB,EAAiErB,GAAjE,CAAqE,YAAY;AAChF,mCAAO6pB,QAAP;AACH,yBAFE,CAJI,CAAP;AAOH;AACD,2BAAOnlB,IAAIyZ,KAAJ,CAAU,UAAUlhB,CAAV,EAAa;AAC1B,+BAAOA,MAAM,IAAb;AACH,qBAFM,IAEF,IAFE,GAEK4c,KAAK3D,GAAL,CAAS7Q,KAAT,CAAewU,IAAf,EAAqBpV,mBAAmBC,GAAnB,CAArB,CAFZ;AAGH;;AAED;;;;;AAKA,yBAAS2R,GAAT,CAAa3R,GAAb,EAAkB;AACd,wBAAI6kB,gBAAgB7kB,IAAI,CAAJ,aAAkBC,KAAtC;AACA,wBAAI4kB,aAAJ,EAAmB;AACf,+BAAO7kB,IAAIiG,MAAJ,CAAW,UAAU8e,KAAV,EAAiBpG,CAAjB,EAAoB;AAClC,mCAAOoG,MAAMzpB,GAAN,CAAU,UAAU0pB,CAAV,EAAa9sB,CAAb,EAAgB;AAC7B,uCAAOid,KAAKxD,GAAL,CAASqT,CAAT,EAAYrG,EAAEzmB,CAAF,CAAZ,CAAP;AACH,6BAFM,CAAP;AAGH,yBAJM,EAIJ+H,MAAMU,KAAN,CAAYC,SAAZ,EAAuBb,mBAAmBE,MAAMD,IAAI,CAAJ,EAAOrD,MAAb,CAAnB,CAAvB,EAAiErB,GAAjE,CAAqE,YAAY;AAChF,mCAAO,CAAC6pB,QAAR;AACH,yBAFE,CAJI,CAAP;AAOH;AACD,2BAAOnlB,IAAIyZ,KAAJ,CAAU,UAAUlhB,CAAV,EAAa;AAC1B,+BAAOA,MAAM,IAAb;AACH,qBAFM,IAEF,IAFE,GAEK4c,KAAKxD,GAAL,CAAShR,KAAT,CAAewU,IAAf,EAAqBpV,mBAAmBC,GAAnB,CAArB,CAFZ;AAGH;;AAED;;;;;AAKA,yBAASolB,KAAT,CAAeplB,GAAf,EAAoB;AAChB,2BAAOA,IAAI,CAAJ,CAAP;AACH;;AAED;;;;;AAKA,yBAASqlB,IAAT,CAAcrlB,GAAd,EAAmB;AACf,2BAAOA,IAAIA,IAAIrD,MAAJ,GAAa,CAAjB,CAAP;AACH;;AAED;;;;;AAKA,yBAAS2oB,KAAT,CAAetlB,GAAf,EAAoB;AAChB,wBAAI6kB,gBAAgB7kB,IAAI,CAAJ,aAAkBC,KAAtC;AACA,wBAAIsb,MAAMvb,IAAIrD,MAAd;AACA,wBAAIkoB,aAAJ,EAAmB;AACf,+BAAO5kB,MAAMU,KAAN,CAAYC,SAAZ,EAAuBb,mBAAmBE,MAAMD,IAAI,CAAJ,EAAOrD,MAAb,CAAnB,CAAvB,EAAiErB,GAAjE,CAAqE,YAAY;AACpF,mCAAOigB,GAAP;AACH,yBAFM,CAAP;AAGH;AACD,2BAAOA,GAAP;AACH;;AAED;;;;;;AAMA,yBAASgK,QAAT,CAAkBvlB,GAAlB,EAAuB;AACnB,wBAAIwlB,OAAOP,IAAIjlB,GAAJ,CAAX;AACA,2BAAOilB,IAAIjlB,IAAI1E,GAAJ,CAAQ,UAAUmqB,GAAV,EAAe;AAC9B,+BAAOtQ,KAAKuQ,GAAL,CAASD,MAAMD,IAAf,EAAqB,CAArB,CAAP;AACH,qBAFU,CAAJ,CAAP;AAGH;;AAED;;;;;;AAMA,yBAASG,GAAT,CAAa3lB,GAAb,EAAkB;AACd,2BAAOmV,KAAKyQ,IAAL,CAAUL,SAASvlB,GAAT,CAAV,CAAP;AACH;;AAED,oBAAI2kB,SAAS;AACTD,yBAAKA,GADI;AAETO,yBAAKA,GAFI;AAGTzT,yBAAKA,GAHI;AAITG,yBAAKA,GAJI;AAKTyT,2BAAOA,KALE;AAMTC,0BAAMA,IANG;AAOTC,2BAAOA,KAPE;AAQTK,yBAAKA;AARI,iBAAb;;AAWA,oBAAIlB,qBAAqB,KAAzB;;AAIA;AAAO,aAplJG;;AAslJV,iBAAM;AACN;;;AAGA;AACA,iBAAO,8BAAS9sB,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,8CAA+BnC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,SAA3C,EAAsD,YAAW;AAAE,2BAAOuM,OAAP;AAAiB,iBAApF;AAC/B,8CAA+B1O,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,aAA3C,EAA0D,YAAW;AAAE,2BAAO0rB,WAAP;AAAqB,iBAA5F;AAC/B,8CAA+B7tB,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,eAA3C,EAA4D,YAAW;AAAE,2BAAO2rB,aAAP;AAAuB,iBAAhG;AAC/B,oCAAqB,IAAIhmB,sCAAsC9H,qBAAoB,eAAgB,sBAApC,CAA1C;AACrB,oCAAqB,IAAIypB,qDAAqDzpB,qBAAoB,6BAA8B,wCAAlD,CAAzD;AACrB,oCAAqB,IAAI+tB,uCAAuC/tB,qBAAoB,gBAAiB,iBAArC,CAA3C;AACrB,oCAAqB,IAAIguB,oDAAoDhuB,qBAAoB,6BAA8B,8BAAlD,CAAxD;AACrB,oCAAqB,IAAIiuB,sCAAsCjuB,qBAAoB,eAAgB,sBAApC,CAA1C;AACrB,oBAAIgK,iBAAiB,YAAY;AAAE,6BAASC,aAAT,CAAuBjC,GAAvB,EAA4B9H,CAA5B,EAA+B;AAAE,4BAAIgK,OAAO,EAAX,CAAe,IAAIC,KAAK,IAAT,CAAe,IAAIC,KAAK,KAAT,CAAgB,IAAIC,KAAKzB,SAAT,CAAoB,IAAI;AAAE,iCAAK,IAAI0B,KAAKtC,IAAIhH,OAAOuJ,QAAX,GAAT,EAAiCC,EAAtC,EAA0C,EAAEL,KAAK,CAACK,KAAKF,GAAGG,IAAH,EAAN,EAAiBC,IAAxB,CAA1C,EAAyEP,KAAK,IAA9E,EAAoF;AAAED,qCAAKhG,IAAL,CAAUsG,GAAGtJ,KAAb,EAAqB,IAAIhB,KAAKgK,KAAKvF,MAAL,KAAgBzE,CAAzB,EAA4B;AAAQ;AAAE,yBAAvJ,CAAwJ,OAAOyK,GAAP,EAAY;AAAEP,iCAAK,IAAL,CAAWC,KAAKM,GAAL;AAAW,yBAA5L,SAAqM;AAAE,gCAAI;AAAE,oCAAI,CAACR,EAAD,IAAOG,GAAG,QAAH,CAAX,EAAyBA,GAAG,QAAH;AAAiB,6BAAhD,SAAyD;AAAE,oCAAIF,EAAJ,EAAQ,MAAMC,EAAN;AAAW;AAAE,yBAAC,OAAOH,IAAP;AAAc,qBAAC,OAAO,UAAUlC,GAAV,EAAe9H,CAAf,EAAkB;AAAE,4BAAI+H,MAAMC,OAAN,CAAcF,GAAd,CAAJ,EAAwB;AAAE,mCAAOA,GAAP;AAAa,yBAAvC,MAA6C,IAAIhH,OAAOuJ,QAAP,IAAmB5J,OAAOqH,GAAP,CAAvB,EAAoC;AAAE,mCAAOiC,cAAcjC,GAAd,EAAmB9H,CAAnB,CAAP;AAA+B,yBAArE,MAA2E;AAAE,kCAAM,IAAI0K,SAAJ,CAAc,sDAAd,CAAN;AAA8E;AAAE,qBAArO;AAAwO,iBAAhoB,EAArB;;AAQA;;;;;;;AAOA,yBAASijB,WAAT,CAAqB5M,SAArB,EAAgC/I,QAAhC,EAA0C;AACtC,wBAAIqU,SAAS,EAAb;AACA,wBAAIvU,aAAaiJ,UAAUrR,aAAV,EAAjB;AACA,wBAAIse,aAAalW,WAAWM,YAAX,EAAjB;;AAEA3X,2BAAOwtB,OAAP,CAAeD,UAAf,EAA2BlqB,OAA3B,CAAmC,UAAUoI,IAAV,EAAgB;AAC/C,4BAAIoT,QAAQxV,eAAeoC,IAAf,EAAqB,CAArB,CAAZ;AAAA,4BACI5K,MAAMge,MAAM,CAAN,CADV;;AAGA,4BAAItH,YAAYA,SAASvT,MAAzB,EAAiC;AAC7B,gCAAIuT,SAAS9J,OAAT,CAAiB5M,GAAjB,MAA0B,CAAC,CAA/B,EAAkC;AAC9B+qB,uCAAOroB,IAAP,CAAY1C,GAAZ;AACH;AACJ,yBAJD,MAIO;AACH+qB,mCAAOroB,IAAP,CAAY1C,GAAZ;AACH;AACJ,qBAXD;;AAaA,2BAAO+qB,MAAP;AACH;;AAED;;;;;;;AAOA,yBAASuB,aAAT,CAAuB7M,SAAvB,EAAkC;AAC9B,wBAAIrS,WAAWtC,UAAU3H,MAAV,GAAmB,CAAnB,IAAwB2H,UAAU,CAAV,MAAiB1D,SAAzC,GAAqD0D,UAAU,CAAV,CAArD,GAAoE,EAAnF;;AAEA,wBAAI8L,SAAS,EAAb;AACA,wBAAIgW,YAAYxf,QAAhB;AACA,wBAAIoJ,aAAaiJ,UAAUrR,aAAV,EAAjB;AACA,wBAAIye,WAAWrW,WAAWK,UAAX,EAAf;AACA,wBAAIiW,UAAUN,kDAAkD,SAAlD,EAA6D7e,cAA7D,EAAd;AACA,wBAAI,OAAOP,QAAP,KAAoB,UAAxB,EAAoC;AAChC0f,kCAAU1f,QAAV;AACH;AACDjO,2BAAOwtB,OAAP,CAAeE,QAAf,EAAyBrqB,OAAzB,CAAiC,UAAUsgB,KAAV,EAAiB;AAC9C,4BAAIiK,QAAQvkB,eAAesa,KAAf,EAAsB,CAAtB,CAAZ;AAAA,4BACI9iB,MAAM+sB,MAAM,CAAN,CADV;;AAGA,4BAAI,OAAO3f,SAASpN,GAAT,CAAP,KAAyB,QAA7B,EAAuC;AACnC4sB,sCAAU5sB,GAAV,IAAiBwsB,kDAAkD,SAAlD,EAA6DQ,OAA7D,CAAqEJ,UAAU5sB,GAAV,CAArE,IAAuFwsB,kDAAkD,SAAlD,EAA6DQ,OAA7D,CAAqEJ,UAAU5sB,GAAV,CAArE,CAAvF,GAA8K8sB,OAA/L;AACH;AACD,4BAAI,OAAO1f,SAASpN,GAAT,CAAP,KAAyB,UAA7B,EAAyC;AACrC4sB,sCAAU5sB,GAAV,IAAiBoH,SAAjB;AACH;AACDwP,+BAAO5W,GAAP,IAAc4sB,UAAU5sB,GAAV,KAAkBwsB,kDAAkD,SAAlD,EAA6DQ,OAA7D,CAAqEH,SAAS7sB,GAAT,EAAc4Z,QAAd,EAArE,CAAlB,IAAoHkT,OAAlI;AACH,qBAXD;AAYA,2BAAOlW,MAAP;AACH;;AAED;;;;;;;;;AASA,yBAAS1J,OAAT,CAAiBuS,SAAjB,EAA4B/I,QAA5B,EAAsCtJ,QAAtC,EAAgD6f,iBAAhD,EAAmE;AAC/D,wBAAIC,YAAYb,YAAY5M,SAAZ,EAAuB/I,QAAvB,CAAhB;AACA,wBAAIyW,aAAab,cAAc7M,SAAd,EAAyBrS,QAAzB,CAAjB;AACA,wBAAIoJ,aAAaiJ,UAAUrR,aAAV,EAAjB;AACA,wBAAIgf,gBAAgB5W,WAAWpH,SAAX,EAApB;AACA,wBAAIie,SAAS7W,WAAWxX,IAAxB;AACA,wBAAIsuB,eAAe,EAAnB;AACA,wBAAIC,aAAa,EAAjB;AACA,wBAAIphB,SAAS,EAAb;AACA,wBAAIwc,UAAU,EAAd;AACA,wBAAI7iB,OAAO,EAAX;AACA,wBAAI2H,eAAe,KAAK,CAAxB;;AAEA;AACAtO,2BAAOwtB,OAAP,CAAeS,aAAf,EAA8B5qB,OAA9B,CAAsC,UAAUgrB,KAAV,EAAiB;AACnD,4BAAIC,QAAQjlB,eAAeglB,KAAf,EAAsB,CAAtB,CAAZ;AAAA,4BACIxtB,MAAMytB,MAAM,CAAN,CADV;AAAA,4BAEI/tB,QAAQ+tB,MAAM,CAAN,CAFZ;;AAIA,4BAAIP,UAAUtgB,OAAV,CAAkB5M,GAAlB,MAA2B,CAAC,CAA5B,IAAiCmtB,WAAWntB,GAAX,CAArC,EAAsD;AAClDmM,mCAAOzJ,IAAP,CAAYvD,OAAOmH,oCAAoC,SAApC,CAAP,EAAuD,EAAvD,EAA2D5G,MAAMyM,MAAN,EAA3D,CAAZ;;AAEA,oCAAQzM,MAAMyM,MAAN,GAAe+B,IAAvB;AACI,qCAAKue,oCAAoC,WAApC,EAAiD5Y,OAAtD;AACI0Z,+CAAW7qB,IAAX,CAAgB1C,GAAhB;AACA;AACJ;AACA,qCAAKysB,oCAAoC,WAApC,EAAiD1Z,SAAtD;AACIua,iDAAa5qB,IAAb,CAAkB1C,GAAlB;AANR;AAQH;AACJ,qBAjBD;AAkBA;AACA,wBAAI0tB,WAAW,CAAf;AACAvuB,2BAAO8oB,mDAAmD,oBAAnD,CAAP,EAAiFxI,UAAU3T,WAA3F,EAAwG,UAAUpN,CAAV,EAAa;AACjH,4BAAI8Y,OAAO,EAAX;AACA8V,qCAAa9qB,OAAb,CAAqB,UAAU4e,CAAV,EAAa;AAC9B5J,mCAAOA,OAAO,GAAP,GAAa4V,cAAchM,CAAd,EAAiBvQ,YAAjB,CAA8B/K,IAA9B,CAAmCpH,CAAnC,CAApB;AACH,yBAFD;AAGA,4BAAIiqB,QAAQnR,IAAR,MAAkBpQ,SAAtB,EAAiC;AAC7BuhB,oCAAQnR,IAAR,IAAgBkW,QAAhB;AACA5nB,iCAAKpD,IAAL,CAAU,EAAV;AACA4qB,yCAAa9qB,OAAb,CAAqB,UAAU4e,CAAV,EAAa;AAC9Btb,qCAAK4nB,QAAL,EAAetM,CAAf,IAAoBgM,cAAchM,CAAd,EAAiBvQ,YAAjB,CAA8B/K,IAA9B,CAAmCpH,CAAnC,CAApB;AACH,6BAFD;AAGA6uB,uCAAW/qB,OAAX,CAAmB,UAAU4e,CAAV,EAAa;AAC5Btb,qCAAK4nB,QAAL,EAAetM,CAAf,IAAoB,CAACgM,cAAchM,CAAd,EAAiBvQ,YAAjB,CAA8B/K,IAA9B,CAAmCpH,CAAnC,CAAD,CAApB;AACH,6BAFD;AAGAgvB,wCAAY,CAAZ;AACH,yBAVD,MAUO;AACHH,uCAAW/qB,OAAX,CAAmB,UAAU4e,CAAV,EAAa;AAC5Btb,qCAAK6iB,QAAQnR,IAAR,CAAL,EAAoB4J,CAApB,EAAuB1e,IAAvB,CAA4B0qB,cAAchM,CAAd,EAAiBvQ,YAAjB,CAA8B/K,IAA9B,CAAmCpH,CAAnC,CAA5B;AACH,6BAFD;AAGH;AACJ,qBApBD;;AAsBA;AACA,wBAAI8R,cAAc,EAAlB;AACA,wBAAIC,gBAAgB,SAASA,aAAT,GAAyB;AACzC,+BAAOgP,UAAU/O,YAAV,EAAP;AACH,qBAFD;AAGA5K,yBAAKtD,OAAL,CAAa,UAAUJ,GAAV,EAAe;AACxB,4BAAIklB,QAAQllB,GAAZ;AACAmrB,mCAAW/qB,OAAX,CAAmB,UAAU4e,CAAV,EAAa;AAC5BkG,kCAAMlG,CAAN,IAAW+L,WAAW/L,CAAX,EAAchf,IAAIgf,CAAJ,CAAd,EAAsB3Q,aAAtB,EAAqCD,WAArC,CAAX;AACH,yBAFD;AAGH,qBALD;AAMA,wBAAIyc,iBAAJ,EAAuB;AACnBA,0CAAkBzd,qBAAlB;AACA/B,uCAAewf,iBAAf;AACH,qBAHD,MAGO;AACHxf,uCAAe,IAAI8e,qCAAqC,SAArC,CAAJ,CAAoDzmB,IAApD,EAA0DqG,MAA1D,EAAkE,EAAEnN,MAAMquB,MAAR,EAAlE,CAAf;AACH;AACD,2BAAO5f,YAAP;AACH;;AAID;AAAO,aAnwJG;;AAqwJV,iBAAM;AACN;;;AAGA;AACA,iBAAO,4BAAStP,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAIgtB,+CAA+CnvB,qBAAoB,uBAAwB,kCAA5C,CAAnD;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,uBAA3C,EAAoE,YAAW;AAAE,2BAAOgtB,6CAA6C,uBAA7C,CAAP;AAA+E,iBAAhK;;AAE9B,oCAAqB,IAAIC,wCAAwCpvB,qBAAoB,gBAAiB,2BAArC,CAA5C;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,SAA3C,EAAsD,YAAW;AAAE,2BAAOitB,sCAAsC,SAAtC,CAAP;AAA0D,iBAA7H;;AAE9B,6CAA8BpvB,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,KAA3C,EAAkD,YAAW;AAAE,2BAAOitB,sCAAsC,KAAtC,CAAP;AAAsD,iBAArH;;AAE9B,6CAA8BpvB,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,QAA3C,EAAqD,YAAW;AAAE,2BAAOitB,sCAAsC,QAAtC,CAAP;AAAyD,iBAA3H;;AAE9B,6CAA8BpvB,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,SAA3C,EAAsD,YAAW;AAAE,2BAAOitB,sCAAsC,SAAtC,CAAP;AAA0D,iBAA7H;;AAE9B,6CAA8BpvB,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,SAA3C,EAAsD,YAAW;AAAE,2BAAOitB,sCAAsC,SAAtC,CAAP;AAA0D,iBAA7H;;AAE9B,oCAAqB,IAAIC,+CAA+CrvB,qBAAoB,uBAAwB,kCAA5C,CAAnD;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,mBAA3C,EAAgE,YAAW;AAAE,2BAAOktB,6CAA6C,mBAA7C,CAAP;AAA2E,iBAAxJ;;AAE9B,6CAA8BrvB,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,MAA3C,EAAmD,YAAW;AAAE,2BAAOktB,6CAA6C,MAA7C,CAAP;AAA8D,iBAA9H;;AAE9B,oCAAqB,IAAIC,8CAA8CtvB,qBAAoB,sBAAuB,iCAA3C,CAAlD;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,cAA3C,EAA2D,YAAW;AAAE,2BAAOmtB,4CAA4C,cAA5C,CAAP;AAAqE,iBAA7I;;AAE9B,oCAAqB,IAAIC,6CAA6CvvB,qBAAoB,qBAAsB,gCAA1C,CAAjD;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,aAA3C,EAA0D,YAAW;AAAE,2BAAOotB,2CAA2C,aAA3C,CAAP;AAAmE,iBAA1I;;AAE9B,oCAAqB,IAAIC,2CAA2CxvB,qBAAoB,mBAAoB,8BAAxC,CAA/C;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,YAA3C,EAAyD,YAAW;AAAE,2BAAOqtB,yCAAyC,YAAzC,CAAP;AAAgE,iBAAtI;;AAE9B,oCAAqB,IAAIC,kDAAkDzvB,qBAAoB,0BAA2B,qCAA/C,CAAtD;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,iBAA3C,EAA8D,YAAW;AAAE,2BAAOstB,gDAAgD,iBAAhD,CAAP;AAA4E,iBAAvJ;;AAE9B,oCAAqB,IAAIC,kDAAkD1vB,qBAAoB,0BAA2B,qCAA/C,CAAtD;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,YAA3C,EAAyD,YAAW;AAAE,2BAAOutB,gDAAgD,YAAhD,CAAP;AAAuE,iBAA7I;;AAE9B,6CAA8B1vB,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,QAA3C,EAAqD,YAAW;AAAE,2BAAOutB,gDAAgD,QAAhD,CAAP;AAAmE,iBAArI;;AAE9B,oCAAqB,IAAIC,yCAAyC3vB,qBAAoB,iBAAkB,4BAAtC,CAA7C;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,SAA3C,EAAsD,YAAW;AAAE,2BAAOwtB,uCAAuC,SAAvC,CAAP;AAA2D,iBAA9H;;AAE9B,6CAA8B3vB,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,aAA3C,EAA0D,YAAW;AAAE,2BAAOwtB,uCAAuC,aAAvC,CAAP;AAA+D,iBAAtI;;AAE9B,6CAA8B3vB,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,eAA3C,EAA4D,YAAW;AAAE,2BAAOwtB,uCAAuC,eAAvC,CAAP;AAAiE,iBAA1I;;AAE9B,oCAAqB,IAAIC,2CAA2C5vB,qBAAoB,mBAAoB,8BAAxC,CAA/C;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,WAA3C,EAAwD,YAAW;AAAE,2BAAOytB,yCAAyC,WAAzC,CAAP;AAA+D,iBAApI;;AAE9B,oCAAqB,IAAIC,8DAA8D7vB,qBAAoB,qCAAsC,gDAA1D,CAAlE;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,mBAA3C,EAAgE,YAAW;AAAE,2BAAO0tB,4DAA4D,mBAA5D,CAAP;AAA0F,iBAAvK;;AAE9B,oCAAqB,IAAIC,8CAA8C9vB,qBAAoB,qBAAsB,gCAA1C,CAAlD;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,aAA3C,EAA0D,YAAW;AAAE,2BAAO2tB,4CAA4C,aAA5C,CAAP;AAAoE,iBAA3I;;AAE9B,oCAAqB,IAAIC,4CAA4C/vB,qBAAoB,mBAAoB,8BAAxC,CAAhD;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,eAA3C,EAA4D,YAAW;AAAE,2BAAO4tB,0CAA0C,eAA1C,CAAP;AAAoE,iBAA7I;;AAE9B,6CAA8B/vB,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,gBAA3C,EAA6D,YAAW;AAAE,2BAAO4tB,0CAA0C,gBAA1C,CAAP;AAAqE,iBAA/I;;AAE9B,6CAA8B/vB,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,eAA3C,EAA4D,YAAW;AAAE,2BAAO4tB,0CAA0C,eAA1C,CAAP;AAAoE,iBAA7I;;AAE9B,oCAAqB,IAAIC,sDAAsDhwB,qBAAoB,6BAA8B,wCAAlD,CAA1D;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,oBAA3C,EAAiE,YAAW;AAAE,2BAAO6tB,oDAAoD,oBAApD,CAAP;AAAmF,iBAAjK;;AAE9B,oCAAqB,IAAIC,uCAAuCjwB,qBAAoB,cAAe,yBAAnC,CAA3C;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,OAA3C,EAAoD,YAAW;AAAE,2BAAO8tB,qCAAqC,OAArC,CAAP;AAAuD,iBAAxH;;AAkB9B;AAAO,aA/1JG;;AAi2JV,iBAAM;AACN;;;AAGA;AACA,iBAAO,gCAAStwB,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,8CAA+BnC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,WAA3C,EAAwD,YAAW;AAAE,2BAAO+tB,SAAP;AAAmB,iBAAxF;AAC/B;;;;;;;AAOA,yBAASC,SAAT,CAAmBxJ,CAAnB,EAAsBC,CAAtB,EAAyB;AACrB,wBAAIoD,KAAK,KAAKrD,CAAd;AACA,wBAAIsD,KAAK,KAAKrD,CAAd;AACA,wBAAIoD,KAAKC,EAAT,EAAa;AACT,+BAAO,CAAC,CAAR;AACH;AACD,wBAAID,KAAKC,EAAT,EAAa;AACT,+BAAO,CAAP;AACH;AACD,2BAAO,CAAP;AACH;;AAED;;;;;;;;;;AAUA,yBAASmG,KAAT,CAAepoB,GAAf,EAAoBqoB,EAApB,EAAwBzb,GAAxB,EAA6B0b,EAA7B,EAAiCC,MAAjC,EAAyC;AACrC,wBAAIC,UAAUxoB,GAAd;AACA,wBAAIyoB,SAAS,EAAb;AACA,yBAAK,IAAIvwB,IAAImwB,EAAb,EAAiBnwB,KAAKowB,EAAtB,EAA0BpwB,KAAK,CAA/B,EAAkC;AAC9BuwB,+BAAOvwB,CAAP,IAAYswB,QAAQtwB,CAAR,CAAZ;AACH;AACD,wBAAIymB,IAAI0J,EAAR;AACA,wBAAIzJ,IAAIhS,MAAM,CAAd;;AAEA,yBAAK,IAAItK,KAAK+lB,EAAd,EAAkB/lB,MAAMgmB,EAAxB,EAA4BhmB,MAAM,CAAlC,EAAqC;AACjC,4BAAIqc,IAAI/R,GAAR,EAAa;AACT4b,oCAAQlmB,EAAR,IAAcmmB,OAAO7J,CAAP,CAAd;AACAA,iCAAK,CAAL;AACH,yBAHD,MAGO,IAAIA,IAAI0J,EAAR,EAAY;AACfE,oCAAQlmB,EAAR,IAAcmmB,OAAO9J,CAAP,CAAd;AACAA,iCAAK,CAAL;AACH,yBAHM,MAGA,IAAI4J,OAAOE,OAAO9J,CAAP,CAAP,EAAkB8J,OAAO7J,CAAP,CAAlB,KAAgC,CAApC,EAAuC;AAC1C4J,oCAAQlmB,EAAR,IAAcmmB,OAAO9J,CAAP,CAAd;AACAA,iCAAK,CAAL;AACH,yBAHM,MAGA;AACH6J,oCAAQlmB,EAAR,IAAcmmB,OAAO7J,CAAP,CAAd;AACAA,iCAAK,CAAL;AACH;AACJ;AACJ;;AAED;;;;;;;;;;AAUA,yBAASzZ,IAAT,CAAcnF,GAAd,EAAmBqoB,EAAnB,EAAuBC,EAAvB,EAA2BC,MAA3B,EAAmC;AAC/B,wBAAID,OAAOD,EAAX,EAAe;AACX,+BAAOroB,GAAP;AACH;;AAED,wBAAI4M,MAAMyb,KAAKlT,KAAKuT,KAAL,CAAW,CAACJ,KAAKD,EAAN,IAAY,CAAvB,CAAf;AACAljB,yBAAKnF,GAAL,EAAUqoB,EAAV,EAAczb,GAAd,EAAmB2b,MAAnB;AACApjB,yBAAKnF,GAAL,EAAU4M,MAAM,CAAhB,EAAmB0b,EAAnB,EAAuBC,MAAvB;AACAH,0BAAMpoB,GAAN,EAAWqoB,EAAX,EAAezb,GAAf,EAAoB0b,EAApB,EAAwBC,MAAxB;;AAEA,2BAAOvoB,GAAP;AACH;;AAED;;;;;;;;;AASA,yBAASkoB,SAAT,CAAmBloB,GAAnB,EAAwB;AACpB,wBAAIuoB,SAASjkB,UAAU3H,MAAV,GAAmB,CAAnB,IAAwB2H,UAAU,CAAV,MAAiB1D,SAAzC,GAAqD0D,UAAU,CAAV,CAArD,GAAoE6jB,SAAjF;;AAEA,wBAAInoB,IAAIrD,MAAJ,GAAa,CAAjB,EAAoB;AAChBwI,6BAAKnF,GAAL,EAAU,CAAV,EAAaA,IAAIrD,MAAJ,GAAa,CAA1B,EAA6B4rB,MAA7B;AACH;AACD,2BAAOvoB,GAAP;AACH;;AAED;AAAO,aA38JG;;AA68JV,iBAAM;AACN;;;AAGA;AACA,iBAAO,gDAASrI,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,8CAA+BnC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,mBAA3C,EAAgE,YAAW;AAAE,2BAAOwuB,iBAAP;AAA2B,iBAAxG;AAC/B,oCAAqB,IAAIC,kDAAkD5wB,qBAAoB,0BAA2B,qCAA/C,CAAtD;;AAGrB;;;;;;;;;AASA,yBAAS2wB,iBAAT,CAA2B3I,GAA3B,EAAgCC,GAAhC,EAAqC;AACjC,wBAAII,gBAAgBL,IAAIpY,aAAJ,EAApB;AACA,wBAAI0Y,gBAAgBL,IAAIrY,aAAJ,EAApB;AACA;AACA;AACA,wBAAIihB,kBAAkBlwB,OAAOiwB,gDAAgD,iBAAhD,CAAP,EAA2EvI,aAA3E,EAA0FC,aAA1F,CAAtB;;AAEA,2BAAO,UAAUY,SAAV,EAAqBC,SAArB,EAAgC;AACnC,4BAAI2H,cAAc,IAAlB;AACAD,wCAAgB7sB,OAAhB,CAAwB,UAAUyM,SAAV,EAAqB;AACzC,gCAAIyY,UAAUzY,SAAV,EAAqBvP,KAArB,KAA+BioB,UAAU1Y,SAAV,EAAqBvP,KAApD,IAA6D4vB,WAAjE,EAA8E;AAC1EA,8CAAc,IAAd;AACH,6BAFD,MAEO;AACHA,8CAAc,KAAd;AACH;AACJ,yBAND;AAOA,+BAAOA,WAAP;AACH,qBAVD;AAWH;;AAED;AAAO,aAv/JG;;AAy/JV,iBAAM;AACN;;;AAGA;AACA,iBAAO,kCAASnxB,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,8CAA+BnC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,aAA3C,EAA0D,YAAW;AAAE,2BAAO4U,WAAP;AAAqB,iBAA5F;AAC/B,oCAAqB,IAAIga,8CAA8C/wB,qBAAoB,sBAAuB,iCAA3C,CAAlD;AACrB,oCAAqB,IAAIgxB,6DAA6DhxB,qBAAoB,qCAAsC,gDAA1D,CAAjE;;AAIrB,yBAAS+W,WAAT,CAAqBka,UAArB,EAAiCC,UAAjC,EAA6C;AACzC,2BAAOvwB,OAAOowB,4CAA4C,cAA5C,CAAP,EAAoEE,UAApE,EAAgFC,UAAhF,EAA4FvwB,OAAOqwB,2DAA2D,mBAA3D,CAAP,EAAwFC,UAAxF,EAAoGC,UAApG,CAA5F,EAA6M,IAA7M,CAAP;AACH;;AAED;AAAO,aA5gKG;;AA8gKV,iBAAM;AACN;;;AAGA;AACA,iBAAO,gCAASvxB,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,8CAA+BnC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,eAA3C,EAA4D,YAAW;AAAE,2BAAO6U,aAAP;AAAuB,iBAAhG;AAC/B,8CAA+BhX,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,gBAA3C,EAA6D,YAAW;AAAE,2BAAO8U,cAAP;AAAwB,iBAAlG;AAC/B,8CAA+BjX,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,eAA3C,EAA4D,YAAW;AAAE,2BAAO+U,aAAP;AAAuB,iBAAhG;AAC/B,oCAAqB,IAAI6Z,8CAA8C/wB,qBAAoB,sBAAuB,iCAA3C,CAAlD;AACrB,oCAAqB,IAAImxB,0CAA0CnxB,qBAAoB,mBAAoB,0BAAxC,CAA9C;AACrB,oCAAqB,IAAIoxB,sCAAsCpxB,qBAAoB,cAAe,yBAAnC,CAA1C;;AAKrB,yBAASgX,aAAT,CAAuBia,UAAvB,EAAmCC,UAAnC,EAA+ChN,QAA/C,EAAyD;AACrD,2BAAOvjB,OAAOowB,4CAA4C,cAA5C,CAAP,EAAoEE,UAApE,EAAgFC,UAAhF,EAA4FhN,QAA5F,EAAsG,KAAtG,EAA6GiN,wCAAwC,OAAxC,EAAiDxqB,SAA9J,CAAP;AACH;;AAED,yBAASsQ,cAAT,CAAwBga,UAAxB,EAAoCC,UAApC,EAAgDhN,QAAhD,EAA0D;AACtD,2BAAOvjB,OAAOowB,4CAA4C,cAA5C,CAAP,EAAoEG,UAApE,EAAgFD,UAAhF,EAA4F/M,QAA5F,EAAsG,KAAtG,EAA6GiN,wCAAwC,OAAxC,EAAiDvqB,UAA9J,CAAP;AACH;;AAED,yBAASsQ,aAAT,CAAuB+Z,UAAvB,EAAmCC,UAAnC,EAA+ChN,QAA/C,EAAyD;AACrD,2BAAOvjB,OAAOywB,oCAAoC,OAApC,CAAP,EAAqDpa,cAAcia,UAAd,EAA0BC,UAA1B,EAAsChN,QAAtC,CAArD,EAAsGjN,eAAega,UAAf,EAA2BC,UAA3B,EAAuChN,QAAvC,CAAtG,CAAP;AACH;;AAED;AAAO,aA7iKG;;AA+iKV,iBAAM;AACN;;;AAGA;AACA,iBAAO,oCAASvkB,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,8CAA+BnC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,mBAA3C,EAAgE,YAAW;AAAE,2BAAO+O,iBAAP;AAA2B,iBAAxG;AAC/B,8CAA+BlR,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,MAA3C,EAAmD,YAAW;AAAE,2BAAOgL,IAAP;AAAc,iBAA9E;AAC/B;;;;;;;AAOA,oBAAI+D,oBAAoB,SAASA,iBAAT,GAA6B;AACnD,yBAAK,IAAI7E,OAAOC,UAAU3H,MAArB,EAA6B4H,OAAOtE,MAAMoE,IAAN,CAApC,EAAiDG,OAAO,CAA7D,EAAgEA,OAAOH,IAAvE,EAA6EG,MAA7E,EAAqF;AACnFD,6BAAKC,IAAL,IAAaF,UAAUE,IAAV,CAAb;AACD;;AAED,2BAAO,UAAUqa,EAAV,EAAc;AACnB,+BAAOA,GAAG3V,iBAAH,CAAqBvI,KAArB,CAA2Bke,EAA3B,EAA+Bta,IAA/B,CAAP;AACD,qBAFD;AAGD,iBARD;;AAUA;;;;;;;AAOA,oBAAIY,OAAO,SAASA,IAAT,GAAgB;AACzB,yBAAK,IAAI2Z,QAAQxa,UAAU3H,MAAtB,EAA8B4H,OAAOtE,MAAM6e,KAAN,CAArC,EAAmDC,QAAQ,CAAhE,EAAmEA,QAAQD,KAA3E,EAAkFC,OAAlF,EAA2F;AACzFxa,6BAAKwa,KAAL,IAAcza,UAAUya,KAAV,CAAd;AACD;;AAED,2BAAO,UAAUF,EAAV,EAAc;AACnB,+BAAOA,GAAG1Z,IAAH,CAAQxE,KAAR,CAAcke,EAAd,EAAkBta,IAAlB,CAAP;AACD,qBAFD;AAGD,iBARD;;AAUA;AAAO,aA5lKG;;AA8lKV,iBAAM;AACN;;;AAGA;AACA,iBAAO,yCAAS5M,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,8CAA+BnC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,oBAA3C,EAAiE,YAAW;AAAE,2BAAOkvB,kBAAP;AAA4B,iBAA1G;AAC/B;;;;;;;AAOA,yBAASA,kBAAT,CAA4B1Z,UAA5B,EAAwClE,QAAxC,EAAkD;AAC9C,wBAAIkE,WAAWhT,MAAX,GAAoB,CAAxB,EAA2B;AACvB,4BAAI2sB,aAAa3Z,WAAWgI,KAAX,CAAiB,GAAjB,CAAjB;AACA2R,mCAAWttB,OAAX,CAAmB,UAAUutB,OAAV,EAAmB;AAClC,gCAAIC,aAAaD,QAAQ5R,KAAR,CAAc,GAAd,CAAjB;AACA,gCAAImG,QAAQ,CAAC0L,WAAW,CAAX,CAAb;AACA,gCAAIC,MAAM,EAAED,WAAW,CAAX,KAAiBA,WAAW,CAAX,CAAnB,CAAV;AACA,gCAAIC,OAAO3L,KAAX,EAAkB;AACd,qCAAK,IAAI5lB,IAAI4lB,KAAb,EAAoB5lB,KAAKuxB,GAAzB,EAA8BvxB,KAAK,CAAnC,EAAsC;AAClCuT,6CAASvT,CAAT;AACH;AACJ;AACJ,yBATD;AAUH;AACJ;;AAED;AAAO,aA/nKG;;AAioKV,iBAAM;AACN;;;AAGA;AACA,iBAAO,4BAASP,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,8CAA+BnC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,OAA3C,EAAoD,YAAW;AAAE,2BAAOgV,KAAP;AAAe,iBAAhF;AAC/B,oCAAqB,IAAIua,uCAAuC1xB,qBAAoB,gBAAiB,iBAArC,CAA3C;AACrB,oCAAqB,IAAI+X,sCAAsC/X,qBAAoB,eAAgB,sBAApC,CAA1C;AACrB,oCAAqB,IAAI0rB,qDAAqD1rB,qBAAoB,6BAA8B,wCAAlD,CAAzD;AACrB,oCAAqB,IAAI2rB,6CAA6C3rB,qBAAoB,sBAAuB,uBAA3C,CAAjD;;AAKrB;;;;;;;AAOA,yBAASmX,KAAT,CAAe6Q,GAAf,EAAoBC,GAApB,EAAyB;AACrB,wBAAI2D,YAAY,EAAhB;AACA,wBAAIje,SAAS,EAAb;AACA,wBAAIke,gBAAgB,EAApB;AACA,wBAAIvkB,OAAO,EAAX;AACA,wBAAI+gB,gBAAgBL,IAAIpY,aAAJ,EAApB;AACA,wBAAI0Y,gBAAgBL,IAAIrY,aAAJ,EAApB;AACA,wBAAIkc,wBAAwBzD,cAAczX,SAAd,EAA5B;AACA,wBAAImb,wBAAwBzD,cAAc1X,SAAd,EAA5B;AACA,wBAAIpQ,OAAO6nB,cAAc7nB,IAAd,GAAqB,SAArB,GAAiC8nB,cAAc9nB,IAA1D;;AAEA;AACA,wBAAI,CAACG,OAAOgrB,2CAA2C,YAA3C,CAAP,EAAiE3D,IAAIza,cAAJ,CAAmBoS,KAAnB,CAAyB,GAAzB,EAA8BxS,IAA9B,EAAjE,EAAuG8a,IAAI1a,cAAJ,CAAmBoS,KAAnB,CAAyB,GAAzB,EAA8BxS,IAA9B,EAAvG,CAAL,EAAmJ;AAC/I,+BAAO,IAAP;AACH;;AAED;AACA6a,wBAAIza,cAAJ,CAAmBoS,KAAnB,CAAyB,GAAzB,EAA8B3b,OAA9B,CAAsC,UAAUyM,SAAV,EAAqB;AACvD,4BAAI/H,QAAQojB,sBAAsBrb,SAAtB,CAAZ;AACA9C,+BAAOzJ,IAAP,CAAYvD,OAAOoX,oCAAoC,SAApC,CAAP,EAAuD,EAAvD,EAA2DrP,MAAMiF,MAAN,EAA3D,CAAZ;AACAke,sCAAc3nB,IAAd,CAAmBwE,MAAMiF,MAAN,GAAenN,IAAlC;AACH,qBAJD;;AAMA;;;;;;AAMA,6BAASwrB,iBAAT,CAA2BnF,EAA3B,EAA+BjW,SAA/B,EAA0C;AACtCjQ,+BAAO+qB,mDAAmD,oBAAnD,CAAP,EAAiF7E,GAAGvZ,WAApF,EAAiG,UAAUpN,CAAV,EAAa;AAC1G,gCAAI4oB,QAAQ,EAAZ;AACA,gCAAIoD,WAAW,EAAf;AACAL,0CAAc7nB,OAAd,CAAsB,UAAUmoB,UAAV,EAAsB;AACxC,oCAAIjrB,QAAQ0P,UAAUub,UAAV,EAAsB9Z,YAAtB,CAAmC/K,IAAnC,CAAwCpH,CAAxC,CAAZ;AACAgsB,4CAAY,MAAMhrB,KAAlB;AACA4nB,sCAAMqD,UAAN,IAAoBjrB,KAApB;AACH,6BAJD;AAKA,gCAAI,CAAC0qB,UAAUM,QAAV,CAAL,EAA0B;AACtB5kB,qCAAKpD,IAAL,CAAU4kB,KAAV;AACA8C,0CAAUM,QAAV,IAAsB,IAAtB;AACH;AACJ,yBAZD;AAaH;;AAED;AACAF,sCAAkBhE,GAAlB,EAAuB8D,qBAAvB;AACAE,sCAAkB/D,GAAlB,EAAuB8D,qBAAvB;;AAEA,2BAAO,IAAI2F,qCAAqC,SAArC,CAAJ,CAAoDpqB,IAApD,EAA0DqG,MAA1D,EAAkE,EAAEnN,MAAMA,IAAR,EAAlE,CAAP;AACH;;AAED;AAAO,aA9sKG;;AAgtKV,iBAAM;AACN;;;AAGA;AACA,iBAAO,uBAASb,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAIgE,sCAAsCnG,qBAAoB,cAAe,sBAAnC,CAA1C;AACrB,oCAAqB,IAAI+X,sCAAsC/X,qBAAoB,cAAe,sBAAnC,CAA1C;AACrB,oCAAqB,IAAI2xB,uCAAuC3xB,qBAAoB,eAAgB,iBAApC,CAA3C;AACrB,oCAAqB,IAAI2J,yCAAyC3J,qBAAoB,iBAAkB,yBAAtC,CAA7C;AACrB,oCAAqB,IAAI0e,0CAA0C1e,qBAAoB,kBAAmB,0BAAvC,CAA9C;AACrB,oBAAI6K,eAAe,YAAY;AAAE,6BAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,6BAAK,IAAI9K,IAAI,CAAb,EAAgBA,IAAI8K,MAAMrG,MAA1B,EAAkCzE,GAAlC,EAAuC;AAAE,gCAAI+K,aAAaD,MAAM9K,CAAN,CAAjB,CAA2B+K,WAAWpK,UAAX,GAAwBoK,WAAWpK,UAAX,IAAyB,KAAjD,CAAwDoK,WAAWC,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAWD,UAAf,EAA2BA,WAAWE,QAAX,GAAsB,IAAtB,CAA4BxK,OAAOC,cAAP,CAAsBmK,MAAtB,EAA8BE,WAAWzJ,GAAzC,EAA8CyJ,UAA9C;AAA4D;AAAE,qBAAC,OAAO,UAAUG,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,4BAAID,UAAJ,EAAgBP,iBAAiBM,YAAYrJ,SAA7B,EAAwCsJ,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBR,iBAAiBM,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;AAAqB,qBAAhN;AAAmN,iBAA9hB,EAAnB;;AAEA,yBAASrD,kBAAT,CAA4BC,GAA5B,EAAiC;AAAE,wBAAIC,MAAMC,OAAN,CAAcF,GAAd,CAAJ,EAAwB;AAAE,6BAAK,IAAI9H,IAAI,CAAR,EAAWiI,OAAOF,MAAMD,IAAIrD,MAAV,CAAvB,EAA0CzE,IAAI8H,IAAIrD,MAAlD,EAA0DzE,GAA1D,EAA+D;AAAEiI,iCAAKjI,CAAL,IAAU8H,IAAI9H,CAAJ,CAAV;AAAmB,yBAAC,OAAOiI,IAAP;AAAc,qBAA7H,MAAmI;AAAE,+BAAOF,MAAMG,IAAN,CAAWJ,GAAX,CAAP;AAAyB;AAAE;;AAEnM,yBAASuD,eAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;AAAE,wBAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;AAAE,8BAAM,IAAIR,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAQzJ;;;;;;;;;;;;AAYA,oBAAIgnB,WAAW,YAAY;;AAEvB;;;;;;;;;;AAUA,6BAASA,QAAT,GAAoB;AAChBrmB,wCAAgB,IAAhB,EAAsBqmB,QAAtB;;AAEA,4BAAIC,SAAS,KAAK,CAAlB;;AAEA,6BAAKziB,OAAL,GAAe,IAAf;AACA,6BAAKiR,WAAL,GAAmB,EAAnB;AACA,6BAAKnR,SAAL,GAAiB,EAAjB;;AAEA,6BAAK,IAAI7C,OAAOC,UAAU3H,MAArB,EAA6BqK,SAAS/G,MAAMoE,IAAN,CAAtC,EAAmDG,OAAO,CAA/D,EAAkEA,OAAOH,IAAzE,EAA+EG,MAA/E,EAAuF;AACnFwC,mCAAOxC,IAAP,IAAeF,UAAUE,IAAV,CAAf;AACH;;AAED,4BAAIwC,OAAOrK,MAAP,KAAkB,CAAlB,IAAuB,CAACktB,SAAS7iB,OAAO,CAAP,CAAV,aAAgC4iB,QAA3D,EAAqE;AACjE;AACA,iCAAKrkB,cAAL,GAAsBskB,OAAOtkB,cAA7B;AACA,iCAAKD,WAAL,GAAmBukB,OAAOvkB,WAA1B;AACA,iCAAKqC,WAAL,GAAmBkiB,OAAOliB,WAA1B;AACA,iCAAKP,OAAL,GAAeyiB,MAAf;AACA,iCAAKlhB,kBAAL,GAA0B,KAAKvB,OAAL,CAAauB,kBAAvC;AACA,iCAAKmhB,eAAL,GAAuBnxB,OAAOoX,oCAAoC,aAApC,CAAP,GAAvB;AACA,iCAAK/G,qBAAL,GAA6BC,qBAA7B;AACH,yBATD,MASO;AACH0gB,iEAAqC,YAArC,EAAmDhpB,KAAnD,CAAyDC,SAAzD,EAAoE,CAAC,IAAD,EAAOxD,MAAP,CAAc4J,MAAd,CAApE;AACA,iCAAK8iB,eAAL,GAAuB,KAAKnhB,kBAAL,CAAwBnQ,IAA/C;AACA,iCAAKwQ,qBAAL,GAA6BC,qBAA7B;AACA,iCAAKiC,qBAAL,GAA6B;AACzBsR,gDAAgB,EADS;AAEzBY,kDAAkB;AAFO,6BAA7B;AAIH;AACJ;;AAED;;;;;;;;;;;;;;;;;;;;;AAsBAva,iCAAa+mB,QAAb,EAAuB,CAAC;AACpBpwB,6BAAK,WADe;AAEpBN,+BAAO,SAAS2T,SAAT,GAAqB;AACxB,mCAAO,KAAKjF,aAAL,GAAqBzG,MAArB,CAA4B7F,GAA5B,CAAgC,UAAU/C,CAAV,EAAa;AAChD,uCAAOA,EAAEoN,MAAF,EAAP;AACH,6BAFM,CAAP;AAGH;;AAED;;;;;;;;;AARoB,qBAAD,EAiBpB;AACCnM,6BAAK,SADN;AAECN,+BAAO,SAAS6wB,OAAT,GAAmB;AACtB,mCAAO,KAAKD,eAAZ;AACH;AAJF,qBAjBoB,EAsBpB;AACCtwB,6BAAK,eADN;AAECN,+BAAO,SAAS0O,aAAT,GAAyB;AAC5B,mCAAO,KAAKoiB,WAAZ;AACH;AAJF,qBAtBoB,EA2BpB;AACCxwB,6BAAK,uBADN;AAECN,+BAAO,SAAS8P,qBAAT,GAAiC;AACpC,iCAAKghB,WAAL,GAAmBrxB,OAAOgxB,qCAAqC,cAArC,CAAP,EAA6D,CAAC,KAAKrkB,WAAN,EAAmB,KAAKC,cAAxB,CAA7D,EAAsG,KAAKH,oBAAL,EAAtG,EAAmI,KAAK0kB,eAAxI,CAAnB;AACA,mCAAO,IAAP;AACH;AALF,qBA3BoB,EAiCpB;AACCtwB,6BAAK,sBADN;AAECN,+BAAO,SAASkM,oBAAT,GAAgC;AACnC,mCAAO,KAAKuD,kBAAZ;AACH;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAND,qBAjCoB,EAsEpB;AACCnP,6BAAK,MADN;AAECN,+BAAO,SAASuC,IAAT,CAAcwuB,QAAd,EAAwB/N,QAAxB,EAAkC;AACrC,mCAAOvjB,OAAOgJ,uCAAuC,cAAvC,CAAP,EAA+D,IAA/D,EAAqEsoB,QAArE,EAA+E/N,QAA/E,CAAP;AACH;;AAED;;;;;;;;;;;;;;;;;;;;;AAND,qBAtEoB,EAiGpB;AACC1iB,6BAAK,aADN;AAECN,+BAAO,SAAS6V,WAAT,CAAqBkb,QAArB,EAA+B;AAClC,mCAAOtxB,OAAOgJ,uCAAuC,cAAvC,CAAP,EAA+D,IAA/D,EAAqEsoB,QAArE,EAA+EtxB,OAAOgJ,uCAAuC,mBAAvC,CAAP,EAAoE,IAApE,EAA0EsoB,QAA1E,CAA/E,EAAoK,IAApK,CAAP;AACH;;AAED;;;;;;;;;;;;;;;;;;;AAND,qBAjGoB,EA0HpB;AACCzwB,6BAAK,OADN;AAECN,+BAAO,SAASiW,KAAT,CAAe+a,SAAf,EAA0B;AAC7B,mCAAOvxB,OAAOgJ,uCAAuC,OAAvC,CAAP,EAAwD,IAAxD,EAA8DuoB,SAA9D,CAAP;AACH;;AAED;;;;;;;;;;;;;;;;;;AAND,qBA1HoB,EAkJpB;AACC1wB,6BAAK,YADN;AAECN,+BAAO,SAAS4V,UAAT,CAAoBqb,cAApB,EAAoC;AACvC,mCAAOxxB,OAAOgJ,uCAAuC,YAAvC,CAAP,EAA6D,IAA7D,EAAmEwoB,cAAnE,CAAP;AACH;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAND,qBAlJoB,EAwMpB;AACC3wB,6BAAK,QADN;AAECN,+BAAO,SAASyV,MAAT,CAAgB4J,QAAhB,EAA0B1R,MAA1B,EAAkC;AACrC,gCAAIujB,YAAY;AACZhxB,sCAAM+E,oCAAoC,eAApC,EAAqDoP,MAD/C;AAEZzG,2CAAW;AAFC,6BAAhB;AAIAD,qCAASlO,OAAO4H,MAAP,CAAc,EAAd,EAAkB6pB,SAAlB,EAA6BvjB,MAA7B,CAAT;;AAEA,gCAAIkT,cAAc,EAAEjT,WAAWD,OAAOC,SAApB,EAAlB;AACA,gCAAIujB,MAAM,KAAK,CAAf;;AAEA,gCAAIxjB,OAAOzN,IAAP,KAAgB+E,oCAAoC,eAApC,EAAqDsP,GAAzE,EAA8E;AAC1E,oCAAI6c,WAAW3xB,OAAOgxB,qCAAqC,iBAArC,CAAP,EAAgE,IAAhE,EAAsEpR,QAAtE,EAAgF,EAAEnf,MAAM+E,oCAAoC,eAApC,EAAqDoP,MAA7D,EAAhF,EAAuJwM,WAAvJ,CAAf;AACA,oCAAIwQ,WAAW5xB,OAAOgxB,qCAAqC,iBAArC,CAAP,EAAgE,IAAhE,EAAsEpR,QAAtE,EAAgF,EAAEnf,MAAM+E,oCAAoC,eAApC,EAAqDqP,OAA7D,EAAhF,EAAwJuM,WAAxJ,CAAf;AACAsQ,sCAAM,CAACC,QAAD,EAAWC,QAAX,CAAN;AACH,6BAJD,MAIO;AACHF,sCAAM1xB,OAAOgxB,qCAAqC,iBAArC,CAAP,EAAgE,IAAhE,EAAsEpR,QAAtE,EAAgF1R,MAAhF,EAAwFkT,WAAxF,CAAN;AACH;;AAED,mCAAOsQ,GAAP;AACH;;AAED;;;;;;;;;;;;;;;;;;;AAvBD,qBAxMoB,EAkPpB;AACC7wB,6BAAK,SADN;AAECN,+BAAO,SAASsxB,OAAT,GAAmB;AACtB,mCAAO,CAAC,KAAKllB,WAAL,CAAiB3I,MAAlB,IAA4B,CAAC,KAAK4I,cAAL,CAAoB5I,MAAxD;AACH;;AAED;;;;;;;;AAND,qBAlPoB,EAgQpB;AACCnD,6BAAK,OADN;AAECN,+BAAO,SAAS2Q,KAAT,GAAiB;AACpB,gCAAI/C,YAAYxC,UAAU3H,MAAV,GAAmB,CAAnB,IAAwB2H,UAAU,CAAV,MAAiB1D,SAAzC,GAAqD0D,UAAU,CAAV,CAArD,GAAoE,IAApF;AACA,gCAAImmB,aAAanmB,UAAU3H,MAAV,GAAmB,CAAnB,IAAwB2H,UAAU,CAAV,MAAiB1D,SAAzC,GAAqD0D,UAAU,CAAV,CAArD,GAAoE,IAArF;;AAEA,gCAAIomB,eAAe,KAAK,CAAxB;AACA,gCAAID,eAAe,KAAnB,EAA0B;AACtB,oCAAIvR,UAAU,KAAKrU,OAAL,CAAa;AACvBK,kDAAc;AADS,iCAAb,CAAd;AAGA,oCAAI5F,OAAO4Z,QAAQ5Z,IAAnB;AACA,oCAAIqG,SAASuT,QAAQvT,MAArB;AACA,oCAAIglB,WAAWrrB,KAAKhE,GAAL,CAAS,UAAUM,GAAV,EAAe;AACnC,wCAAIgvB,SAAS,EAAb;AACAjlB,2CAAO3J,OAAP,CAAe,UAAU0E,KAAV,EAAiBxI,CAAjB,EAAoB;AAC/B0yB,+CAAOlqB,MAAMlI,IAAb,IAAqBoD,IAAI1D,CAAJ,CAArB;AACH,qCAFD;AAGA,2CAAO0yB,MAAP;AACH,iCANc,CAAf;AAOAF,+CAAe,IAAI,KAAK3mB,WAAT,CAAqB4mB,QAArB,EAA+BhlB,MAA/B,CAAf;AACH,6BAdD,MAcO;AACH+kB,+CAAe,IAAI,KAAK3mB,WAAT,CAAqB,IAArB,CAAf;AACH;;AAED,gCAAI+C,SAAJ,EAAe;AACX,qCAAKI,SAAL,CAAehL,IAAf,CAAoBwuB,YAApB;AACH;AACD,mCAAOA,YAAP;AACH;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA/BD,qBAhQoB,EA2UpB;AACClxB,6BAAK,SADN;AAECN,+BAAO,SAAS0V,OAAT,CAAiBqL,SAAjB,EAA4BpT,MAA5B,EAAoC;AACvC,gCAAIujB,YAAY;AACZhxB,sCAAM+E,oCAAoC,eAApC,EAAqDoP,MAD/C;AAEZzG,2CAAW;AAFC,6BAAhB;AAIAD,qCAASlO,OAAO4H,MAAP,CAAc,EAAd,EAAkB6pB,SAAlB,EAA6BvjB,MAA7B,CAAT;AACA,gCAAIgkB,cAAc,KAAKthB,eAAL,EAAlB;AACA,gCAAI2Q,YAAYvhB,OAAOyI,IAAP,CAAYypB,WAAZ,CAAhB;AACA,gCAAIC,UAAUjkB,MAAd;AAAA,gCACIzN,OAAO0xB,QAAQ1xB,IADnB;;AAIA,gCAAI2xB,sBAAsB9Q,UAAUhU,MAAV,CAAiB,UAAUC,GAAV,EAAexF,KAAf,EAAsB;AAC7D,oCAAIA,MAAMqD,WAAN,CAAkBvL,IAAlB,KAA2B,QAA/B,EAAyC;AACrC0N,wCAAIhK,IAAJ,CAASyE,KAAT,CAAeuF,GAAf,EAAoBnG,mBAAmBma,UAAUE,MAAV,CAAiB,UAAU3R,SAAV,EAAqB;AACzE,+CAAOA,UAAUuiB,MAAV,CAAiBtqB,KAAjB,MAA4B,CAAC,CAApC;AACH,qCAFsC,CAAnB,CAApB;AAGH,iCAJD,MAIO,IAAIA,SAASmqB,WAAb,EAA0B;AAC7B3kB,wCAAIhK,IAAJ,CAASwE,KAAT;AACH;AACD,uCAAOwF,GAAP;AACH,6BATyB,EASvB,EATuB,CAA1B;;AAWA6kB,kDAAsB9qB,MAAMG,IAAN,CAAW,IAAI6Q,GAAJ,CAAQ8Z,mBAAR,CAAX,EAAyCzvB,GAAzC,CAA6C,UAAUoF,KAAV,EAAiB;AAChF,uCAAOA,MAAMqT,IAAN,EAAP;AACH,6BAFqB,CAAtB;AAGA,gCAAIkF,YAAY,KAAK,CAArB;;AAEA,gCAAI7f,SAAS+E,oCAAoC,eAApC,EAAqDsP,GAAlE,EAAuE;AACnE,oCAAIwd,kBAAkBtyB,OAAOgxB,qCAAqC,kBAArC,CAAP,EAAiE,IAAjE,EAAuEoB,mBAAvE,EAA4F;AAC9G3xB,0CAAM+E,oCAAoC,eAApC,EAAqDoP,MADmD;AAE9GzG,+CAAWD,OAAOC;AAF4F,iCAA5F,EAGnBoT,SAHmB,CAAtB;AAIA,oCAAIgR,iBAAiBvyB,OAAOgxB,qCAAqC,kBAArC,CAAP,EAAiE,IAAjE,EAAuEoB,mBAAvE,EAA4F;AAC7G3xB,0CAAM+E,oCAAoC,eAApC,EAAqDqP,OADkD;AAE7G1G,+CAAWD,OAAOC;AAF2F,iCAA5F,EAGlBoT,SAHkB,CAArB;AAIAjB,4CAAY,CAACgS,eAAD,EAAkBC,cAAlB,CAAZ;AACH,6BAVD,MAUO;AACH,oCAAIC,mBAAmBxyB,OAAOgxB,qCAAqC,kBAArC,CAAP,EAAiE,IAAjE,EAAuEoB,mBAAvE,EAA4FlkB,MAA5F,EAAoGqT,SAApG,CAAvB;AACAjB,4CAAYkS,gBAAZ;AACH;;AAED,mCAAOlS,SAAP;AACH;AA9CF,qBA3UoB,EA0XpB;AACCzf,6BAAK,iBADN;AAECN,+BAAO,SAASqQ,eAAT,GAA2B;AAC9B,mCAAO,KAAK6hB,YAAZ;AACH;AAJF,qBA1XoB,EA+XpB;AACC5xB,6BAAK,uBADN;AAECN,+BAAO,SAAS+P,qBAAT,GAAiC;AACpC,iCAAKmiB,YAAL,GAAoB,KAAKpB,WAAL,CAAiB7oB,MAAjB,CAAwB8E,MAAxB,CAA+B,UAAUC,GAAV,EAAemlB,QAAf,EAAyBnzB,CAAzB,EAA4B;AAC3EgO,oCAAImlB,SAAS7yB,IAAT,EAAJ,IAAuB;AACnBoR,2CAAO1R,CADY;AAEnBohB,yCAAK,EAAE9gB,MAAM6yB,SAAS7yB,IAAT,EAAR,EAAyBkP,MAAM2jB,SAAS3jB,IAAT,EAA/B,EAAgD8E,SAAS6e,SAAS7e,OAAT,EAAzD;AAFc,iCAAvB;AAIA,uCAAOtG,GAAP;AACH,6BANmB,EAMjB,EANiB,CAApB;AAOA,mCAAO,IAAP;AACH;;AAED;;;;;;;AAbD,qBA/XoB,EAmZpB;AACC1M,6BAAK,SADN;AAECN,+BAAO,SAASymB,OAAT,GAAmB;AACtB,iCAAKvY,OAAL,CAAakkB,WAAb,CAAyB,IAAzB;AACA,iCAAKlkB,OAAL,GAAe,IAAf;AACH;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;AAPD,qBAnZoB,EAqbpB;AACC5N,6BAAK,aADN;AAECN,+BAAO,SAASoyB,WAAT,CAAqBzQ,KAArB,EAA4B;AAC/B,gCAAI1U,MAAM,KAAKe,SAAL,CAAe4B,SAAf,CAAyB,UAAUyiB,OAAV,EAAmB;AAClD,uCAAOA,YAAY1Q,KAAnB;AACH,6BAFS,CAAV;AAGA1U,oCAAQ,CAAC,CAAT,GAAa,KAAKe,SAAL,CAAezG,MAAf,CAAsB0F,GAAtB,EAA2B,CAA3B,CAAb,GAA6C,IAA7C;AACH;;AAED;;;;;;;;;;AATD,qBArboB,EAwcpB;AACC3M,6BAAK,WADN;AAECN,+BAAO,SAASwmB,SAAT,CAAmB8L,MAAnB,EAA2B;AAC9B,gCAAIC,gBAAgBnnB,UAAU3H,MAAV,GAAmB,CAAnB,IAAwB2H,UAAU,CAAV,MAAiB1D,SAAzC,GAAqD0D,UAAU,CAAV,CAArD,GAAoE,EAAxF;;AAEA3L,mCAAOgxB,qCAAqC,mBAArC,CAAP,EAAkE,IAAlE,EAAwEjT,wCAAwC,gBAAxC,EAA0DnY,OAAlI,EAA2I,IAA3I,EAAiJktB,aAAjJ;AACA,iCAAKrkB,OAAL,GAAeokB,MAAf;AACAA,mCAAOtkB,SAAP,CAAiBhL,IAAjB,CAAsB,IAAtB;AACH;AARF,qBAxcoB,CAAvB;;AAmdA,2BAAO0tB,QAAP;AACH,iBAvhBc,EAAf;;AAyhBA,4CAA6BzvB,oBAAoB,SAApB,IAAkCyvB,QAAlC;;AAE7B;AAAO,aAjxLG;;AAmxLV,iBAAM;AACN;;;AAGA;AACA,iBAAO,yBAASjyB,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,8CAA+BnC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,KAA3C,EAAkD,YAAW;AAAE,2BAAOuqB,GAAP;AAAa,iBAA5E;AAC/B,8CAA+B1sB,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,KAA3C,EAAkD,YAAW;AAAE,2BAAO8qB,GAAP;AAAa,iBAA5E;AAC/B,8CAA+BjtB,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,KAA3C,EAAkD,YAAW;AAAE,2BAAOqX,GAAP;AAAa,iBAA5E;AAC/B,8CAA+BxZ,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,KAA3C,EAAkD,YAAW;AAAE,2BAAOwX,GAAP;AAAa,iBAA5E;AAC/B,8CAA+B3Z,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,OAA3C,EAAoD,YAAW;AAAE,2BAAOirB,KAAP;AAAe,iBAAhF;AAC/B,8CAA+BptB,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,MAA3C,EAAmD,YAAW;AAAE,2BAAOkrB,IAAP;AAAc,iBAA9E;AAC/B,8CAA+BrtB,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,OAA3C,EAAoD,YAAW;AAAE,2BAAOmrB,KAAP;AAAe,iBAAhF;AAC/B,8CAA+BttB,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,IAA3C,EAAiD,YAAW;AAAE,2BAAOuxB,EAAP;AAAY,iBAA1E;AAC/B,oCAAqB,IAAIC,2DAA2D3zB,qBAAoB,oCAAqC,qCAAzD,CAA/D;;AAGrB,oBAAI0sB,MAAMiH,yDAAyD,QAAzD,EAAmEjH,GAA7E;AAAA,oBACIO,MAAM0G,yDAAyD,QAAzD,EAAmE1G,GAD7E;AAAA,oBAEIzT,MAAMma,yDAAyD,QAAzD,EAAmEna,GAF7E;AAAA,oBAGIG,MAAMga,yDAAyD,QAAzD,EAAmEha,GAH7E;AAAA,oBAIIyT,QAAQuG,yDAAyD,QAAzD,EAAmEvG,KAJ/E;AAAA,oBAKIC,OAAOsG,yDAAyD,QAAzD,EAAmEtG,IAL9E;AAAA,oBAMIC,QAAQqG,yDAAyD,QAAzD,EAAmErG,KAN/E;AAAA,oBAOIoG,KAAKC,yDAAyD,QAAzD,EAAmEhG,GAP5E;;AAUA;AAAO,aAjzLG;;AAmzLV,iBAAM;AACN;;;AAGA;AACA,iBAAO,+BAAShuB,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA;;;;;;AAMA,4CAA6BA,oBAAoB,SAApB,IAAkC,UAAUyxB,KAAV,EAAiB;AAC5E,wBAAI1zB,IAAI,CAAR;AACA,2BAAO,YAAY;AACf,6BAAK,IAAImM,OAAOC,UAAU3H,MAArB,EAA6BwE,SAASlB,MAAMoE,IAAN,CAAtC,EAAmDG,OAAO,CAA/D,EAAkEA,OAAOH,IAAzE,EAA+EG,MAA/E,EAAuF;AACnFrD,mCAAOqD,IAAP,IAAeF,UAAUE,IAAV,CAAf;AACH;;AAEDrD,+BAAOnF,OAAP,CAAe,UAAUyX,GAAV,EAAe5K,UAAf,EAA2B;AACtC,gCAAI,EAAE+iB,MAAM/iB,UAAN,aAA6B5I,KAA/B,CAAJ,EAA2C;AACvC2rB,sCAAM/iB,UAAN,IAAoB5I,MAAMG,IAAN,CAAW,EAAEzD,QAAQzE,CAAV,EAAX,CAApB;AACH;AACD0zB,kCAAM/iB,UAAN,EAAkB3M,IAAlB,CAAuBuX,GAAvB;AACH,yBALD;AAMAvb;AACH,qBAZD;AAaH,iBAf4B;;AAiB7B;AAAO,aAn1LG;;AAq1LV,iBAAM;AACN;;;AAGA;AACA,iBAAO,qCAASP,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,8CAA+BnC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,SAA3C,EAAsD,YAAW;AAAE,2BAAOkV,iBAAP;AAA2B,iBAA9F;AAC/B;;;;;;AAMA,yBAASwc,mBAAT,CAA6BC,IAA7B,EAAmC;AAC/B,wBAAIA,gBAAgBrX,IAApB,EAA0B;AACtB,+BAAOqX,IAAP;AACH;;AAED,2BAAO,IAAIrX,IAAJ,CAASqX,IAAT,CAAP;AACH;AACD;;;;;;;AAOA,yBAASC,GAAT,CAAaryB,CAAb,EAAgB;AACZ,2BAAOA,IAAI,EAAJ,GAAS,MAAMA,CAAf,GAAmBA,CAA1B;AACH;AACD;;;;;;;;;AASA;;;;;;;AAOA2C,uBAAO2vB,MAAP,GAAgB,UAAUxvB,IAAV,EAAgB;AAC5B,2BAAOA,KAAKU,OAAL,CAAa,0BAAb,EAAyC,MAAzC,CAAP;AACH,iBAFD;;AAIA;;;;;;;;AAQA,0CAA0B,SAASmS,iBAAT,CAA2BzU,MAA3B,EAAmC;AACzD,yBAAKA,MAAL,GAAcA,MAAd;AACA,yBAAKqxB,QAAL,GAAgBrrB,SAAhB;AACA,yBAAKsrB,UAAL,GAAkBtrB,SAAlB;AACH;;AAED;AACAyO,kCAAkB8c,YAAlB,GAAiC,GAAjC;;AAEA;AACA;AACA9c,kCAAkB+c,uBAAlB,GAA4C;AACxCC,0BAAM,CADkC;AAExCC,2BAAO,CAFiC;AAGxCC,yBAAK,CAHmC;AAIxCC,0BAAM,CAJkC;AAKxCC,4BAAQ,CALgC;AAMxCC,4BAAQ,CANgC;AAOxCC,iCAAa;AAP2B,iBAA5C;;AAUA;;;;;;;AAOAtd,kCAAkBud,mBAAlB,GAAwC,UAAUC,MAAV,EAAkB;AACtD,2BAAO,UAAUpZ,GAAV,EAAe;AAClB,4BAAIqZ,YAAY,KAAK,CAArB;AACA,4BAAIC,SAASD,YAAYE,SAASvZ,GAAT,EAAc,EAAd,CAArB,CAAJ,EAA6C;AACzC,mCAAOqZ,SAAP;AACH;;AAED,+BAAOD,MAAP;AACH,qBAPD;AAQH,iBATD;;AAWA;;;;;;;;AAQAxd,kCAAkB4d,kBAAlB,GAAuC,UAAUtgB,KAAV,EAAiBkgB,MAAjB,EAAyB;AAC5D,2BAAO,UAAUpZ,GAAV,EAAe;AAClB,4BAAIvb,IAAI,KAAK,CAAb;AACA,4BAAIC,IAAI,KAAK,CAAb;;AAEA,4BAAI,CAACsb,GAAL,EAAU;AACN,mCAAOoZ,MAAP;AACH;;AAED,4BAAIK,OAAOzZ,IAAIyP,WAAJ,EAAX;;AAEA,6BAAKhrB,IAAI,CAAJ,EAAOC,IAAIwU,MAAMhQ,MAAtB,EAA8BzE,IAAIC,CAAlC,EAAqCD,GAArC,EAA0C;AACtC,gCAAIyU,MAAMzU,CAAN,EAASgrB,WAAT,OAA2BgK,IAA/B,EAAqC;AACjC,uCAAOh1B,CAAP;AACH;AACJ;;AAED,4BAAIA,MAAM0I,SAAV,EAAqB;AACjB,mCAAOisB,MAAP;AACH;AACD,+BAAO,IAAP;AACH,qBApBD;AAqBH,iBAtBD;;AAwBA;;;;;;;;;;;;;;;;;AAiBAxd,kCAAkB8d,mBAAlB,GAAwC,YAAY;AAChD,wBAAIC,UAAU;AACVC,+BAAO,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,CADG;AAEVC,8BAAM,CAAC,QAAD,EAAW,QAAX,EAAqB,SAArB,EAAgC,WAAhC,EAA6C,UAA7C,EAAyD,QAAzD,EAAmE,UAAnE;AAFI,qBAAd;AAIA,wBAAIC,YAAY;AACZF,+BAAO,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,EAAkD,KAAlD,EAAyD,KAAzD,EAAgE,KAAhE,EAAuE,KAAvE,EAA8E,KAA9E,CADK;AAEZC,8BAAM,CAAC,SAAD,EAAY,UAAZ,EAAwB,OAAxB,EAAiC,OAAjC,EAA0C,KAA1C,EAAiD,MAAjD,EAAyD,MAAzD,EAAiE,QAAjE,EAA2E,WAA3E,EAAwF,SAAxF,EAAmG,UAAnG,EAA+G,UAA/G;AAFM,qBAAhB;;AAKA,wBAAIE,cAAc;AACdC,2BAAG;AACC;AACAj1B,kCAAM,GAFP;AAGCoR,mCAAO,CAHR;AAIC8jB,qCAAS,SAASA,OAAT,GAAmB;AACxB,uCAAO,QAAP;AACH,6BANF;;AAQC/Y,oCAAQtF,kBAAkBud,mBAAlB,EART;AASC5nB,uCAAW,SAASA,SAAT,CAAmByO,GAAnB,EAAwB;AAC/B,oCAAIlb,IAAIszB,oBAAoBpY,GAApB,CAAR;;AAEA,uCAAOlb,EAAEo1B,QAAF,GAAaC,QAAb,EAAP;AACH;AAbF,yBADW;AAgBdz1B,2BAAG;AACC;AACAK,kCAAM,GAFP;AAGCoR,mCAAO,CAHR;AAIC8jB,qCAAS,SAASA,OAAT,GAAmB;AACxB,uCAAO,QAAP;AACH,6BANF;;AAQC/Y,oCAAQtF,kBAAkBud,mBAAlB,EART;AASC5nB,uCAAW,SAASA,SAAT,CAAmByO,GAAnB,EAAwB;AAC/B,oCAAIlb,IAAIszB,oBAAoBpY,GAApB,CAAR;AACA,oCAAIoa,QAAQt1B,EAAEo1B,QAAF,KAAe,EAA3B;;AAEA,uCAAO,CAACE,UAAU,CAAV,GAAc,EAAd,GAAmBA,KAApB,EAA2BD,QAA3B,EAAP;AACH;AAdF,yBAhBW;AAgCd3zB,2BAAG;AACC;AACAzB,kCAAM,GAFP;AAGCoR,mCAAO,CAHR;AAIC8jB,qCAAS,SAASA,OAAT,GAAmB;AACxB,uCAAO,SAAP;AACH,6BANF;;AAQC/Y,oCAAQ,SAASA,MAAT,CAAgBlB,GAAhB,EAAqB;AACzB,oCAAIA,GAAJ,EAAS;AACL,2CAAOA,IAAIyP,WAAJ,EAAP;AACH;AACD,uCAAO,IAAP;AACH,6BAbF;AAcCle,uCAAW,SAASA,SAAT,CAAmByO,GAAnB,EAAwB;AAC/B,oCAAIlb,IAAIszB,oBAAoBpY,GAApB,CAAR;AACA,oCAAIoa,QAAQt1B,EAAEo1B,QAAF,EAAZ;;AAEA,uCAAOE,QAAQ,EAAR,GAAa,IAAb,GAAoB,IAA3B;AACH;AAnBF,yBAhCW;AAqDdC,2BAAG;AACC;AACAt1B,kCAAM,GAFP;AAGCoR,mCAAO,CAHR;AAIC8jB,qCAAS,SAASA,OAAT,GAAmB;AACxB,uCAAO,SAAP;AACH,6BANF;;AAQC/Y,oCAAQ,SAASA,MAAT,CAAgBlB,GAAhB,EAAqB;AACzB,oCAAIA,GAAJ,EAAS;AACL,2CAAOA,IAAIyP,WAAJ,EAAP;AACH;AACD,uCAAO,IAAP;AACH,6BAbF;AAcCle,uCAAW,SAASA,SAAT,CAAmByO,GAAnB,EAAwB;AAC/B,oCAAIlb,IAAIszB,oBAAoBpY,GAApB,CAAR;AACA,oCAAIoa,QAAQt1B,EAAEo1B,QAAF,EAAZ;;AAEA,uCAAOE,QAAQ,EAAR,GAAa,IAAb,GAAoB,IAA3B;AACH;AAnBF,yBArDW;AA0EdE,2BAAG;AACC;AACAv1B,kCAAM,GAFP;AAGCoR,mCAAO,CAHR;AAIC8jB,qCAAS,SAASA,OAAT,GAAmB;AACxB,uCAAO,QAAP;AACH,6BANF;;AAQC/Y,oCAAQtF,kBAAkBud,mBAAlB,EART;AASC5nB,uCAAW,SAASA,SAAT,CAAmByO,GAAnB,EAAwB;AAC/B,oCAAIlb,IAAIszB,oBAAoBpY,GAApB,CAAR;AACA,oCAAIua,OAAOz1B,EAAE01B,UAAF,EAAX;;AAEA,uCAAOlC,IAAIiC,IAAJ,CAAP;AACH;AAdF,yBA1EW;AA0FdE,2BAAG;AACC;AACA11B,kCAAM,GAFP;AAGCoR,mCAAO,CAHR;AAIC8jB,qCAAS,SAASA,OAAT,GAAmB;AACxB,uCAAO,QAAP;AACH,6BANF;;AAQC/Y,oCAAQtF,kBAAkBud,mBAAlB,EART;AASC5nB,uCAAW,SAASA,SAAT,CAAmByO,GAAnB,EAAwB;AAC/B,oCAAIlb,IAAIszB,oBAAoBpY,GAApB,CAAR;AACA,oCAAI0a,UAAU51B,EAAE61B,UAAF,EAAd;;AAEA,uCAAOrC,IAAIoC,OAAJ,CAAP;AACH;AAdF,yBA1FW;AA0GdE,2BAAG;AACC;AACA71B,kCAAM,GAFP;AAGCoR,mCAAO,CAHR;AAIC8jB,qCAAS,SAASA,OAAT,GAAmB;AACxB,uCAAO,QAAP;AACH,6BANF;;AAQC/Y,oCAAQtF,kBAAkBud,mBAAlB,EART;AASC5nB,uCAAW,SAASA,SAAT,CAAmByO,GAAnB,EAAwB;AAC/B,oCAAIlb,IAAIszB,oBAAoBpY,GAApB,CAAR;AACA,oCAAI6a,KAAK/1B,EAAEg2B,eAAF,EAAT;;AAEA,uCAAOD,GAAGV,QAAH,EAAP;AACH;AAdF,yBA1GW;AA0HdjP,2BAAG;AACC;AACAnmB,kCAAM,GAFP;AAGCoR,mCAAO,CAHR;AAIC8jB,qCAAS,SAASA,OAAT,GAAmB;AACxB,uCAAO,MAAMN,QAAQC,KAAR,CAAc5xB,IAAd,CAAmB,GAAnB,CAAN,GAAgC,GAAvC;AACH,6BANF;;AAQCkZ,oCAAQtF,kBAAkB4d,kBAAlB,CAAqCG,QAAQC,KAA7C,CART;AASCroB,uCAAW,SAASA,SAAT,CAAmByO,GAAnB,EAAwB;AAC/B,oCAAIlb,IAAIszB,oBAAoBpY,GAApB,CAAR;AACA,oCAAI+a,MAAMj2B,EAAEk2B,MAAF,EAAV;;AAEA,uCAAOrB,QAAQC,KAAR,CAAcmB,GAAd,EAAmBZ,QAAnB,EAAP;AACH;AAdF,yBA1HW;AA0Idc,2BAAG;AACC;AACAl2B,kCAAM,GAFP;AAGCoR,mCAAO,CAHR;AAIC8jB,qCAAS,SAASA,OAAT,GAAmB;AACxB,uCAAO,MAAMN,QAAQE,IAAR,CAAa7xB,IAAb,CAAkB,GAAlB,CAAN,GAA+B,GAAtC;AACH,6BANF;;AAQCkZ,oCAAQtF,kBAAkB4d,kBAAlB,CAAqCG,QAAQE,IAA7C,CART;AASCtoB,uCAAW,SAASA,SAAT,CAAmByO,GAAnB,EAAwB;AAC/B,oCAAIlb,IAAIszB,oBAAoBpY,GAApB,CAAR;AACA,oCAAI+a,MAAMj2B,EAAEk2B,MAAF,EAAV;;AAEA,uCAAOrB,QAAQE,IAAR,CAAakB,GAAb,EAAkBZ,QAAlB,EAAP;AACH;AAdF,yBA1IW;AA0Jd9nB,2BAAG;AACC;AACAtN,kCAAM,GAFP;AAGCoR,mCAAO,CAHR;AAIC8jB,qCAAS,SAASA,OAAT,GAAmB;AACxB,uCAAO,QAAP;AACH,6BANF;;AAQC/Y,oCAAQtF,kBAAkBud,mBAAlB,EART;AASC5nB,uCAAW,SAASA,SAAT,CAAmByO,GAAnB,EAAwB;AAC/B,oCAAIlb,IAAIszB,oBAAoBpY,GAApB,CAAR;AACA,oCAAI+a,MAAMj2B,EAAEo2B,OAAF,EAAV;;AAEA,uCAAOH,IAAIZ,QAAJ,EAAP;AACH;AAdF,yBA1JW;AA0Kdr1B,2BAAG;AACC;AACAC,kCAAM,GAFP;AAGCoR,mCAAO,CAHR;AAIC8jB,qCAAS,SAASA,OAAT,GAAmB;AACxB,uCAAO,QAAP;AACH,6BANF;;AAQC/Y,oCAAQtF,kBAAkBud,mBAAlB,EART;AASC5nB,uCAAW,SAASA,SAAT,CAAmByO,GAAnB,EAAwB;AAC/B,oCAAIlb,IAAIszB,oBAAoBpY,GAApB,CAAR;AACA,oCAAI+a,MAAMj2B,EAAEo2B,OAAF,EAAV;;AAEA,uCAAO5C,IAAIyC,GAAJ,CAAP;AACH;AAdF,yBA1KW;AA0Ld5P,2BAAG;AACC;AACApmB,kCAAM,GAFP;AAGCoR,mCAAO,CAHR;AAIC8jB,qCAAS,SAASA,OAAT,GAAmB;AACxB,uCAAO,MAAMH,UAAUF,KAAV,CAAgB5xB,IAAhB,CAAqB,GAArB,CAAN,GAAkC,GAAzC;AACH,6BANF;;AAQCkZ,oCAAQtF,kBAAkB4d,kBAAlB,CAAqCM,UAAUF,KAA/C,CART;AASCroB,uCAAW,SAASA,SAAT,CAAmByO,GAAnB,EAAwB;AAC/B,oCAAIlb,IAAIszB,oBAAoBpY,GAApB,CAAR;AACA,oCAAImb,QAAQr2B,EAAEs2B,QAAF,EAAZ;;AAEA,uCAAOtB,UAAUF,KAAV,CAAgBuB,KAAhB,EAAuBhB,QAAvB,EAAP;AACH;AAdF,yBA1LW;AA0MdkB,2BAAG;AACC;AACAt2B,kCAAM,GAFP;AAGCoR,mCAAO,CAHR;AAIC8jB,qCAAS,SAASA,OAAT,GAAmB;AACxB,uCAAO,MAAMH,UAAUD,IAAV,CAAe7xB,IAAf,CAAoB,GAApB,CAAN,GAAiC,GAAxC;AACH,6BANF;;AAQCkZ,oCAAQtF,kBAAkBud,mBAAlB,CAAsCW,UAAUD,IAAhD,CART;AASCtoB,uCAAW,SAASA,SAAT,CAAmByO,GAAnB,EAAwB;AAC/B,oCAAIlb,IAAIszB,oBAAoBpY,GAApB,CAAR;AACA,oCAAImb,QAAQr2B,EAAEs2B,QAAF,EAAZ;;AAEA,uCAAOtB,UAAUD,IAAV,CAAesB,KAAf,EAAsBhB,QAAtB,EAAP;AACH;AAdF,yBA1MW;AA0Ndv1B,2BAAG;AACC;AACAG,kCAAM,GAFP;AAGCoR,mCAAO,CAHR;AAIC8jB,qCAAS,SAASA,OAAT,GAAmB;AACxB,uCAAO,QAAP;AACH,6BANF;AAOC/Y,oCAAQ,SAASA,MAAT,CAAgBlB,GAAhB,EAAqB;AACzB,uCAAOpE,kBAAkBud,mBAAlB,GAAwCnZ,GAAxC,IAA+C,CAAtD;AACH,6BATF;AAUCzO,uCAAW,SAASA,SAAT,CAAmByO,GAAnB,EAAwB;AAC/B,oCAAIlb,IAAIszB,oBAAoBpY,GAApB,CAAR;AACA,oCAAImb,QAAQr2B,EAAEs2B,QAAF,EAAZ;;AAEA,uCAAO9C,IAAI6C,QAAQ,CAAZ,CAAP;AACH;AAfF,yBA1NW;AA2OdG,2BAAG;AACC;AACAv2B,kCAAM,GAFP;AAGCoR,mCAAO,CAHR;AAIC8jB,qCAAS,SAASA,OAAT,GAAmB;AACxB,uCAAO,UAAP;AACH,6BANF;AAOC/Y,oCAAQ,SAASA,MAAT,CAAgBlB,GAAhB,EAAqB;AACzB,oCAAIA,GAAJ,EAAS;AACL,wCAAItb,IAAIsb,IAAI9W,MAAZ;AACA8W,0CAAMA,IAAIub,SAAJ,CAAc72B,IAAI,CAAlB,EAAqBA,CAArB,CAAN;AACH;;AAED,uCAAOkX,kBAAkBud,mBAAlB,GAAwCnZ,GAAxC,CAAP;AACH,6BAdF;AAeCzO,uCAAW,SAASA,SAAT,CAAmByO,GAAnB,EAAwB;AAC/B,oCAAIlb,IAAIszB,oBAAoBpY,GAApB,CAAR;AACA,oCAAIwb,OAAO12B,EAAE22B,WAAF,GAAgBtB,QAAhB,EAAX;AACA,oCAAIz1B,IAAI,KAAK,CAAb;;AAEA,oCAAI82B,IAAJ,EAAU;AACN92B,wCAAI82B,KAAKtyB,MAAT;AACAsyB,2CAAOA,KAAKD,SAAL,CAAe72B,IAAI,CAAnB,EAAsBA,CAAtB,CAAP;AACH;;AAED,uCAAO82B,IAAP;AACH;AA1BF,yBA3OW;AAuQdE,2BAAG;AACC;AACA32B,kCAAM,GAFP;AAGCoR,mCAAO,CAHR;AAIC8jB,qCAAS,SAASA,OAAT,GAAmB;AACxB,uCAAO,UAAP;AACH,6BANF;;AAQC/Y,oCAAQtF,kBAAkBud,mBAAlB,EART;AASC5nB,uCAAW,SAASA,SAAT,CAAmByO,GAAnB,EAAwB;AAC/B,oCAAIlb,IAAIszB,oBAAoBpY,GAApB,CAAR;AACA,oCAAIwb,OAAO12B,EAAE22B,WAAF,GAAgBtB,QAAhB,EAAX;;AAEA,uCAAOqB,IAAP;AACH;AAdF;AAvQW,qBAAlB;;AAyRA,2BAAOzB,WAAP;AACH,iBApSD;;AAsSA;;;;;;AAMAne,kCAAkB+f,mBAAlB,GAAwC,YAAY;AAChD,wBAAI5B,cAAcne,kBAAkB8d,mBAAlB,EAAlB;;AAEA,2BAAO;AACHX,8BAAMgB,YAAYC,CADf;AAEH4B,iCAAS7B,YAAYr1B,CAFlB;AAGHm3B,wCAAgB9B,YAAYvzB,CAHzB;AAIHs1B,wCAAgB/B,YAAYM,CAJzB;AAKHrB,gCAAQe,YAAYO,CALjB;AAMHrB,gCAAQc,YAAYU,CANjB;AAOHsB,mCAAWhC,YAAY7O,CAPpB;AAQH8Q,kCAAUjC,YAAYkB,CARnB;AASHgB,sCAAclC,YAAY1nB,CATvB;AAUH6pB,qDAA6BnC,YAAYj1B,CAVtC;AAWHq3B,qCAAapC,YAAY5O,CAXtB;AAYHiR,oCAAYrC,YAAYsB,CAZrB;AAaHgB,uCAAetC,YAAYn1B,CAbxB;AAcH03B,oCAAYvC,YAAYuB,CAdrB;AAeHiB,mCAAWxC,YAAY2B;AAfpB,qBAAP;AAiBH,iBApBD;;AAsBA;;;;;;;AAOA9f,kCAAkB4gB,aAAlB,GAAkC,YAAY;AAC1C,wBAAIzC,cAAcne,kBAAkB8d,mBAAlB,EAAlB;AACA,wBAAI+C,kBAAkB,SAASA,eAAT,GAA2B;AAC7C;AACA,4BAAIh4B,IAAI,CAAR;AACA,4BAAI0qB,MAAM,KAAK,CAAf;AACA,4BAAIuN,cAAc,KAAK,CAAvB;AACA,4BAAIh4B,IAAImM,UAAU3H,MAAlB;;AAEA,+BAAOzE,IAAIC,CAAX,EAAcD,GAAd,EAAmB;AACf0qB,kCAAMte,UAAU3H,MAAV,IAAoBzE,CAApB,GAAwB0I,SAAxB,GAAoC0D,UAAUpM,CAAV,CAA1C;AACA,gCAAIoM,UAAU3H,MAAV,IAAoBzE,CAApB,GAAwB0I,SAAxB,GAAoC0D,UAAUpM,CAAV,CAAxC,EAAsD;AAClDi4B,8CAAcvN,GAAd;AACH;AACJ;;AAED,4BAAI,CAACuN,WAAL,EAAkB;AACd,mCAAO,IAAP;AACH;;AAED,+BAAOA,YAAY,CAAZ,EAAexb,MAAf,CAAsBwb,YAAY,CAAZ,CAAtB,CAAP;AACH,qBAnBD;;AAqBA,2BAAO;AACH9D,8BAAM,CAACmB,YAAYuB,CAAb,EAAgBvB,YAAY2B,CAA5B,EAA+Be,eAA/B,CADH;AAEH5D,+BAAO,CAACkB,YAAY5O,CAAb,EAAgB4O,YAAYsB,CAA5B,EAA+BtB,YAAYn1B,CAA3C,EAA8C63B,eAA9C,CAFJ;AAGH3D,6BAAK,CAACiB,YAAY7O,CAAb,EAAgB6O,YAAYkB,CAA5B,EAA+BlB,YAAY1nB,CAA3C,EAA8C0nB,YAAYj1B,CAA1D,EAA6D23B,eAA7D,CAHF;AAIH1D,8BAAM,CAACgB,YAAYC,CAAb,EAAgBD,YAAYr1B,CAA5B,EAA+Bq1B,YAAYvzB,CAA3C,EAA8CuzB,YAAYM,CAA1D,EAA6D,UAAUsC,YAAV,EAAwBC,YAAxB,EAAsCC,SAAtC,EAAiDC,SAAjD,EAA4D;AAC3H,gCAAIJ,cAAc,KAAK,CAAvB;AACA,gCAAIK,SAAS,KAAK,CAAlB;AACA,gCAAIC,OAAO,KAAK,CAAhB;AACA,gCAAIhd,MAAM,KAAK,CAAf;;AAEA,gCAAI4c,iBAAiBG,SAASF,aAAaC,SAAvC,CAAJ,EAAuD;AACnD,oCAAIC,OAAO,CAAP,EAAU7b,MAAV,CAAiB6b,OAAO,CAAP,CAAjB,MAAgC,IAApC,EAA0C;AACtCC,2CAAO,IAAP;AACH;;AAEDN,8CAAcE,YAAd;AACH,6BAND,MAMO,IAAIA,YAAJ,EAAkB;AACrBF,8CAAcE,YAAd;AACH,6BAFM,MAEA;AACHF,8CAAcC,YAAd;AACH;;AAED,gCAAI,CAACD,WAAL,EAAkB;AACd,uCAAO,IAAP;AACH;;AAED1c,kCAAM0c,YAAY,CAAZ,EAAexb,MAAf,CAAsBwb,YAAY,CAAZ,CAAtB,CAAN;AACA,gCAAIM,IAAJ,EAAU;AACNhd,uCAAO,EAAP;AACH;AACD,mCAAOA,GAAP;AACH,yBA3BK,CAJH;AAgCHgZ,gCAAQ,CAACe,YAAYO,CAAb,EAAgBmC,eAAhB,CAhCL;AAiCHxD,gCAAQ,CAACc,YAAYU,CAAb,EAAgBgC,eAAhB;AAjCL,qBAAP;AAmCH,iBA1DD;;AA4DA;;;;;AAKA7gB,kCAAkBqhB,UAAlB,GAA+B,UAAU91B,MAAV,EAAkB;AAC7C,wBAAI+1B,cAActhB,kBAAkB8c,YAApC;AACA,wBAAIqB,cAAcne,kBAAkB8d,mBAAlB,EAAlB;AACA,wBAAIyD,gBAAgBj4B,OAAOyI,IAAP,CAAYosB,WAAZ,CAApB;AACA,wBAAIqD,aAAa,EAAjB;AACA,wBAAI34B,IAAI,KAAK,CAAb;AACA,wBAAI44B,cAAc,KAAK,CAAvB;;AAEA,2BAAO,CAAC54B,IAAI0C,OAAOwL,OAAP,CAAeuqB,WAAf,EAA4Bz4B,IAAI,CAAhC,CAAL,KAA4C,CAAnD,EAAsD;AAClD44B,sCAAcl2B,OAAO1C,IAAI,CAAX,CAAd;AACA,4BAAI04B,cAAcxqB,OAAd,CAAsB0qB,WAAtB,MAAuC,CAAC,CAA5C,EAA+C;AAC3C;AACH;;AAEDD,mCAAW30B,IAAX,CAAgB;AACZ0N,mCAAO1R,CADK;AAEZ6E,mCAAO+zB;AAFK,yBAAhB;AAIH;;AAED,2BAAOD,UAAP;AACH,iBArBD;;AAuBA;;;;;;AAMAxhB,kCAAkBgG,QAAlB,GAA6B,UAAUyW,IAAV,EAAgBlxB,MAAhB,EAAwB;AACjD,wBAAIm2B,QAAQlF,oBAAoBC,IAApB,CAAZ;AACA,wBAAI+E,aAAaxhB,kBAAkBqhB,UAAlB,CAA6B91B,MAA7B,CAAjB;AACA,wBAAI4yB,cAAcne,kBAAkB8d,mBAAlB,EAAlB;AACA,wBAAI6D,eAAerd,OAAO/Y,MAAP,CAAnB;AACA,wBAAI+1B,cAActhB,kBAAkB8c,YAApC;AACA,wBAAIpvB,QAAQ,KAAK,CAAjB;AACA,wBAAIk0B,eAAe,KAAK,CAAxB;AACA,wBAAI/4B,IAAI,KAAK,CAAb;AACA,wBAAIC,IAAI,KAAK,CAAb;;AAEA,yBAAKD,IAAI,CAAJ,EAAOC,IAAI04B,WAAWl0B,MAA3B,EAAmCzE,IAAIC,CAAvC,EAA0CD,GAA1C,EAA+C;AAC3C6E,gCAAQ8zB,WAAW34B,CAAX,EAAc6E,KAAtB;AACAk0B,uCAAezD,YAAYzwB,KAAZ,EAAmBiI,SAAnB,CAA6B+rB,KAA7B,CAAf;AACAC,uCAAeA,aAAa9zB,OAAb,CAAqB,IAAIb,MAAJ,CAAWs0B,cAAc5zB,KAAzB,EAAgC,GAAhC,CAArB,EAA2Dk0B,YAA3D,CAAf;AACH;;AAED,2BAAOD,YAAP;AACH,iBAlBD;;AAoBA;;;;;AAKA3hB,kCAAkBtV,SAAlB,CAA4BW,KAA5B,GAAoC,UAAUw2B,aAAV,EAAyB3xB,OAAzB,EAAkC;AAClE,wBAAI0wB,gBAAgB5gB,kBAAkB4gB,aAAlB,EAApB;AACA,wBAAIhE,WAAW,KAAKkF,iBAAL,CAAuBD,aAAvB,CAAf;AACA,wBAAIE,aAAa/hB,kBAAkB+c,uBAAnC;AACA,wBAAIiF,UAAU9xB,WAAWA,QAAQ8xB,OAAjC;AACA,wBAAIC,aAAa,EAAjB;AACA,wBAAI/sB,OAAO,EAAX;AACA,wBAAIgtB,cAAc,KAAK,CAAvB;AACA,wBAAIC,iBAAiB,KAAK,CAA1B;AACA,wBAAIC,aAAa,KAAK,CAAtB;AACA,wBAAIhe,MAAM,KAAK,CAAf;AACA,wBAAIvb,IAAI,KAAK,CAAb;AACA,wBAAIw5B,QAAQ,KAAK,CAAjB;AACA,wBAAIC,cAAc,KAAK,CAAvB;AACA,wBAAIx5B,IAAI,KAAK,CAAb;;AAEA,yBAAKo5B,WAAL,IAAoBtB,aAApB,EAAmC;AAC/B,4BAAI,CAAC,GAAGj2B,cAAH,CAAkB5B,IAAlB,CAAuB63B,aAAvB,EAAsCsB,WAAtC,CAAL,EAAyD;AACrD;AACH;;AAEDhtB,6BAAK5H,MAAL,GAAc,CAAd;AACA60B,yCAAiBvB,cAAcsB,WAAd,CAAjB;AACAE,qCAAaD,eAAe/wB,MAAf,CAAsB+wB,eAAe70B,MAAf,GAAwB,CAA9C,EAAiD,CAAjD,EAAoD,CAApD,CAAb;;AAEA,6BAAKzE,IAAI,CAAJ,EAAOC,IAAIq5B,eAAe70B,MAA/B,EAAuCzE,IAAIC,CAA3C,EAA8CD,GAA9C,EAAmD;AAC/Cw5B,oCAAQF,eAAet5B,CAAf,CAAR;AACAub,kCAAMwY,SAASyF,MAAMl5B,IAAf,CAAN;;AAEA,gCAAIib,QAAQ7S,SAAZ,EAAuB;AACnB2D,qCAAKrI,IAAL,CAAU,IAAV;AACH,6BAFD,MAEO;AACHqI,qCAAKrI,IAAL,CAAU,CAACw1B,KAAD,EAAQje,GAAR,CAAV;AACH;AACJ;;AAEDke,sCAAcF,WAAW9wB,KAAX,CAAiB,IAAjB,EAAuB4D,IAAvB,CAAd;;AAEA,4BAAI,CAACotB,gBAAgB/wB,SAAhB,IAA6B+wB,gBAAgB,IAA9C,KAAuD,CAACN,OAA5D,EAAqE;AACjE;AACH;;AAEDC,mCAAWF,WAAWG,WAAX,CAAX,IAAsCI,WAAtC;AACH;;AAED,2BAAOL,UAAP;AACH,iBA9CD;;AAgDA;;;;;AAKAjiB,kCAAkBtV,SAAlB,CAA4Bo3B,iBAA5B,GAAgD,UAAUD,aAAV,EAAyB;AACrE,wBAAIt2B,SAAS,KAAKA,MAAlB;AACA,wBAAI4yB,cAAcne,kBAAkB8d,mBAAlB,EAAlB;AACA,wBAAIwD,cAActhB,kBAAkB8c,YAApC;AACA,wBAAI0E,aAAaxhB,kBAAkBqhB,UAAlB,CAA6B91B,MAA7B,CAAjB;AACA,wBAAIg3B,WAAW,EAAf;;AAEA,wBAAIC,sBAAsB,KAAK,CAA/B;AACA,wBAAIC,SAAS,KAAK,CAAlB;AACA,wBAAIC,WAAW,KAAK,CAApB;AACA,wBAAIC,aAAa,KAAK,CAAtB;AACA,wBAAIC,cAAc,KAAK,CAAvB;;AAEA,wBAAI95B,IAAI,KAAK,CAAb;AACA,wBAAID,IAAI,KAAK,CAAb;;AAEA+5B,kCAActe,OAAO/Y,MAAP,CAAd;;AAEA,wBAAIs3B,WAAWrB,WAAWv1B,GAAX,CAAe,UAAU62B,GAAV,EAAe;AACzC,+BAAOA,IAAIp1B,KAAX;AACH,qBAFc,CAAf;AAGA,wBAAIq1B,mBAAmBvB,WAAWl0B,MAAlC;AACA,yBAAKzE,IAAIk6B,mBAAmB,CAA5B,EAA+Bl6B,KAAK,CAApC,EAAuCA,GAAvC,EAA4C;AACxC65B,mCAAWlB,WAAW34B,CAAX,EAAc0R,KAAzB;;AAEA,4BAAImoB,WAAW,CAAX,KAAiBE,YAAYt1B,MAAZ,GAAqB,CAA1C,EAA6C;AACzCk1B,kDAAsBE,QAAtB;AACA;AACH;;AAED,4BAAIF,wBAAwBjxB,SAA5B,EAAuC;AACnCixB,kDAAsBI,YAAYt1B,MAAlC;AACH;;AAEDq1B,qCAAaC,YAAYjD,SAAZ,CAAsB+C,WAAW,CAAjC,EAAoCF,mBAApC,CAAb;AACAI,sCAAcA,YAAYjD,SAAZ,CAAsB,CAAtB,EAAyB+C,WAAW,CAApC,IAAyC11B,OAAO2vB,MAAP,CAAcgG,UAAd,CAAzC,GAAqEC,YAAYjD,SAAZ,CAAsB6C,mBAAtB,EAA2CI,YAAYt1B,MAAvD,CAAnF;;AAEAk1B,8CAAsBE,QAAtB;AACH;;AAED,yBAAK75B,IAAI,CAAT,EAAYA,IAAIk6B,gBAAhB,EAAkCl6B,GAAlC,EAAuC;AACnC45B,iCAASjB,WAAW34B,CAAX,CAAT;AACA+5B,sCAAcA,YAAY/0B,OAAZ,CAAoByzB,cAAcmB,OAAO/0B,KAAzC,EAAgDywB,YAAYsE,OAAO/0B,KAAnB,EAA0B2wB,OAA1B,EAAhD,CAAd;AACH;;AAED,wBAAI2E,gBAAgBnB,cAAcrd,KAAd,CAAoB,IAAIxX,MAAJ,CAAW41B,WAAX,CAApB,KAAgD,EAApE;AACAI,kCAAcC,KAAd;;AAEA,yBAAKp6B,IAAI,CAAJ,EAAOC,IAAI+5B,SAASv1B,MAAzB,EAAiCzE,IAAIC,CAArC,EAAwCD,GAAxC,EAA6C;AACzC05B,iCAASM,SAASh6B,CAAT,CAAT,IAAwBm6B,cAAcn6B,CAAd,CAAxB;AACH;AACD,2BAAO05B,QAAP;AACH,iBApDD;;AAsDA;;;;;AAKAviB,kCAAkBtV,SAAlB,CAA4Bwa,aAA5B,GAA4C,UAAU2c,aAAV,EAAyB;AACjE,wBAAIA,yBAAyBzc,IAA7B,EAAmC;AAC/B,+BAAOyc,aAAP;AACH,qBAFD,MAEO,IAAInE,SAASmE,aAAT,KAA2B,CAAC,CAAC,KAAKt2B,MAAtC,EAA8C;AACjD,+BAAO,IAAI6Z,IAAJ,CAASyc,aAAT,CAAP;AACH;;AAED,wBAAIjF,WAAW,KAAKA,QAAL,GAAgB,KAAKvxB,KAAL,CAAWw2B,aAAX,CAA/B;;AAEAjF,6BAASvN,OAAT,CAAiB,IAAjB;AACA,yBAAKwN,UAAL,GAAkB,KAAK7wB,SAAStB,SAAT,CAAmBN,IAAnB,CAAwBkH,KAAxB,CAA8B8T,IAA9B,EAAoCwX,QAApC,CAAL,GAAlB;AACA,2BAAO,KAAKC,UAAZ;AACH,iBAZD;;AAcA;;;;;;AAMA7c,kCAAkBtV,SAAlB,CAA4Bsb,QAA5B,GAAuC,UAAUza,MAAV,EAAkBs2B,aAAlB,EAAiC;AACpE,wBAAIhF,aAAa,KAAK,CAAtB;;AAEA,wBAAIgF,aAAJ,EAAmB;AACfhF,qCAAa,KAAKA,UAAL,GAAkB,KAAK3X,aAAL,CAAmB2c,aAAnB,CAA/B;AACH,qBAFD,MAEO,IAAI,EAAEhF,aAAa,KAAKA,UAApB,CAAJ,EAAqC;AACxCA,qCAAa,KAAK3X,aAAL,CAAmB2c,aAAnB,CAAb;AACH;;AAED,2BAAO7hB,kBAAkBgG,QAAlB,CAA2B6W,UAA3B,EAAuCtxB,MAAvC,CAAP;AACH,iBAVD;;AAcA;AAAO,aA5jNG;;AA8jNV,iBAAM;AACN;;;AAGA;AACA,iBAAO,mCAASjD,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA;;;;;;AAMA,4CAA6BA,oBAAoB,SAApB,IAAkC,UAAUmF,IAAV,EAAgB;AAC3E,wBAAIkS,MAAMC,OAAOC,iBAAjB;AACA,wBAAIC,MAAMF,OAAOG,iBAAjB;;AAEAtS,yBAAKtD,OAAL,CAAa,UAAUzD,CAAV,EAAa;AACtB,4BAAIA,IAAIiZ,GAAR,EAAa;AACTA,kCAAMjZ,CAAN;AACH;AACD,4BAAIA,IAAIoZ,GAAR,EAAa;AACTA,kCAAMpZ,CAAN;AACH;AACJ,qBAPD;;AASA,2BAAO,CAACiZ,GAAD,EAAMG,GAAN,CAAP;AACH,iBAd4B;;AAgB7B;AAAO,aA7lNG;;AA+lNV,iBAAM;AACN;;;AAGA;AACA,iBAAO,2BAASha,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,8CAA+BnC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,SAA3C,EAAsD,YAAW;AAAE,2BAAOo4B,OAAP;AAAiB,iBAApF;AAC/B,oBAAIC,UAAU,OAAOx5B,MAAP,KAAkB,UAAlB,IAAgC,SAAOA,OAAOuJ,QAAd,MAA2B,QAA3D,GAAsE,UAAU4vB,GAAV,EAAe;AAAE,kCAAcA,GAAd,0CAAcA,GAAd;AAAoB,iBAA3G,GAA8G,UAAUA,GAAV,EAAe;AAAE,2BAAOA,OAAO,OAAOn5B,MAAP,KAAkB,UAAzB,IAAuCm5B,IAAIpuB,WAAJ,KAAoB/K,MAA3D,IAAqEm5B,QAAQn5B,OAAOe,SAApF,GAAgG,QAAhG,UAAkHo4B,GAAlH,0CAAkHA,GAAlH,CAAP;AAA+H,iBAA5Q;;AAEA;AACA,oBAAIM,eAAe,QAAnB;AACA,oBAAIC,gBAAgB/5B,OAAOoB,SAAP,CAAiB6zB,QAArC;AACA,oBAAI+E,cAAc,iBAAlB;AACA,oBAAIC,aAAa,gBAAjB;;AAEA,yBAASC,cAAT,CAAwBV,GAAxB,EAA6BW,SAA7B,EAAwC;AACpC,wBAAI56B,IAAI46B,UAAUn2B,MAAlB;AACA,wBAAIo2B,SAAS,CAAC,CAAd;;AAEA,2BAAO76B,CAAP,EAAU;AACN,4BAAIi6B,QAAQW,UAAU56B,CAAV,CAAZ,EAA0B;AACtB66B,qCAAS76B,CAAT;AACA,mCAAO66B,MAAP;AACH;AACD76B,6BAAK,CAAL;AACH;;AAED,2BAAO66B,MAAP;AACH;;AAED,yBAAS3K,KAAT,CAAe4K,IAAf,EAAqBC,IAArB,EAA2BC,SAA3B,EAAsCC,MAAtC,EAA8CC,MAA9C,EAAsD;AAClD,wBAAIlyB,IAAJ,EAAUmyB,MAAV,EAAkBC,MAAlB,EAA0BxyB,GAA1B,EAA+ByyB,IAA/B;AACA;AACA;AACA;;AAEA,wBAAI,CAACH,MAAL,EAAa;AACTD,iCAAS,CAACH,IAAD,CAAT;AACAI,iCAAS,CAACH,IAAD,CAAT;AACH,qBAHD,MAGO;AACHE,+BAAOj3B,IAAP,CAAY82B,IAAZ;AACAI,+BAAOl3B,IAAP,CAAY+2B,IAAZ;AACH;;AAED,wBAAIA,gBAAgBhzB,KAApB,EAA2B;AACvB,6BAAKiB,OAAO,CAAZ,EAAeA,OAAO+xB,KAAKt2B,MAA3B,EAAmCuE,QAAQ,CAA3C,EAA8C;AAC1C,gCAAI;AACAmyB,yCAASL,KAAK9xB,IAAL,CAAT;AACAoyB,yCAASL,KAAK/xB,IAAL,CAAT;AACH,6BAHD,CAGE,OAAO4E,CAAP,EAAU;AACR;AACH;;AAED,gCAAI,CAAC,OAAOwtB,MAAP,KAAkB,WAAlB,GAAgC,WAAhC,GAA8Cd,QAAQc,MAAR,CAA/C,MAAoEb,YAAxE,EAAsF;AAClF,oCAAI,EAAES,aAAaI,WAAW1yB,SAA1B,CAAJ,EAA0C;AACtCoyB,yCAAK9xB,IAAL,IAAaoyB,MAAb;AACH;AACJ,6BAJD,MAIO;AACH,oCAAID,WAAW,IAAX,IAAmB,CAAC,OAAOA,MAAP,KAAkB,WAAlB,GAAgC,WAAhC,GAA8Cb,QAAQa,MAAR,CAA/C,MAAoEZ,YAA3F,EAAyG;AACrGY,6CAASL,KAAK9xB,IAAL,IAAaoyB,kBAAkBrzB,KAAlB,GAA0B,EAA1B,GAA+B,EAArD;AACH;AACDszB,uCAAOV,eAAeS,MAAf,EAAuBF,MAAvB,CAAP;AACA,oCAAIG,SAAS,CAAC,CAAd,EAAiB;AACbF,6CAASL,KAAK9xB,IAAL,IAAaiyB,OAAOI,IAAP,CAAtB;AACH,iCAFD,MAEO;AACHnL,0CAAMiL,MAAN,EAAcC,MAAd,EAAsBJ,SAAtB,EAAiCC,MAAjC,EAAyCC,MAAzC;AACH;AACJ;AACJ;AACJ,qBAzBD,MAyBO;AACH,6BAAKlyB,IAAL,IAAa+xB,IAAb,EAAmB;AACf,gCAAI;AACAI,yCAASL,KAAK9xB,IAAL,CAAT;AACAoyB,yCAASL,KAAK/xB,IAAL,CAAT;AACH,6BAHD,CAGE,OAAO4E,CAAP,EAAU;AACR;AACH;;AAED,gCAAIwtB,WAAW,IAAX,IAAmB,CAAC,OAAOA,MAAP,KAAkB,WAAlB,GAAgC,WAAhC,GAA8Cd,QAAQc,MAAR,CAA/C,MAAoEb,YAA3F,EAAyG;AACrG;AACA;AACA;AACA;AACA3xB,sCAAM4xB,cAAct6B,IAAd,CAAmBk7B,MAAnB,CAAN;AACA,oCAAIxyB,QAAQ6xB,WAAZ,EAAyB;AACrB,wCAAIU,WAAW,IAAX,IAAmB,CAAC,OAAOA,MAAP,KAAkB,WAAlB,GAAgC,WAAhC,GAA8Cb,QAAQa,MAAR,CAA/C,MAAoEZ,YAA3F,EAAyG;AACrGY,iDAASL,KAAK9xB,IAAL,IAAa,EAAtB;AACH;AACDqyB,2CAAOV,eAAeS,MAAf,EAAuBF,MAAvB,CAAP;AACA,wCAAIG,SAAS,CAAC,CAAd,EAAiB;AACbF,iDAASL,KAAK9xB,IAAL,IAAaiyB,OAAOI,IAAP,CAAtB;AACH,qCAFD,MAEO;AACHnL,8CAAMiL,MAAN,EAAcC,MAAd,EAAsBJ,SAAtB,EAAiCC,MAAjC,EAAyCC,MAAzC;AACH;AACJ,iCAVD,MAUO,IAAItyB,QAAQ8xB,UAAZ,EAAwB;AAC3B,wCAAIS,WAAW,IAAX,IAAmB,EAAEA,kBAAkBpzB,KAApB,CAAvB,EAAmD;AAC/CozB,iDAASL,KAAK9xB,IAAL,IAAa,EAAtB;AACH;AACDqyB,2CAAOV,eAAeS,MAAf,EAAuBF,MAAvB,CAAP;AACA,wCAAIG,SAAS,CAAC,CAAd,EAAiB;AACbF,iDAASL,KAAK9xB,IAAL,IAAaiyB,OAAOI,IAAP,CAAtB;AACH,qCAFD,MAEO;AACHnL,8CAAMiL,MAAN,EAAcC,MAAd,EAAsBJ,SAAtB,EAAiCC,MAAjC,EAAyCC,MAAzC;AACH;AACJ,iCAVM,MAUA;AACHJ,yCAAK9xB,IAAL,IAAaoyB,MAAb;AACH;AACJ,6BA7BD,MA6BO;AACH,oCAAIJ,aAAaI,WAAW1yB,SAA5B,EAAuC;AACnC;AACH;AACDoyB,qCAAK9xB,IAAL,IAAaoyB,MAAb;AACH;AACJ;AACJ;AACD,2BAAON,IAAP;AACH;;AAED,yBAAST,OAAT,CAAiBS,IAAjB,EAAuBC,IAAvB,EAA6BC,SAA7B,EAAwC;AACpC;AACA,wBAAI,CAAC,OAAOF,IAAP,KAAgB,WAAhB,GAA8B,WAA9B,GAA4CR,QAAQQ,IAAR,CAA7C,MAAgEP,YAAhE,IAAgF,CAAC,OAAOQ,IAAP,KAAgB,WAAhB,GAA8B,WAA9B,GAA4CT,QAAQS,IAAR,CAA7C,MAAgER,YAApJ,EAAkK;AAC9J,+BAAO,IAAP;AACH;;AAED,wBAAI,CAAC,OAAOQ,IAAP,KAAgB,WAAhB,GAA8B,WAA9B,GAA4CT,QAAQS,IAAR,CAA7C,MAAgER,YAAhE,IAAgFQ,SAAS,IAA7F,EAAmG;AAC/F,+BAAOD,IAAP;AACH;;AAED,wBAAI,CAAC,OAAOA,IAAP,KAAgB,WAAhB,GAA8B,WAA9B,GAA4CR,QAAQQ,IAAR,CAA7C,MAAgEP,YAApE,EAAkF;AAC9EO,+BAAOC,gBAAgBhzB,KAAhB,GAAwB,EAAxB,GAA6B,EAApC;AACH;AACDmoB,0BAAM4K,IAAN,EAAYC,IAAZ,EAAkBC,SAAlB;AACA,2BAAOF,IAAP;AACH;;AAID;AAAO,aA3uNG;;AA6uNV,iBAAM;AACN;;;AAGA;AACA,iBAAO,0BAASr7B,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,8CAA+BnC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,SAA3C,EAAsD,YAAW;AAAE,2BAAO+F,OAAP;AAAiB,iBAApF;AAC/B,8CAA+BlI,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,UAA3C,EAAuD,YAAW;AAAE,2BAAOq5B,QAAP;AAAkB,iBAAtF;AAC/B,8CAA+Bx7B,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,UAA3C,EAAuD,YAAW;AAAE,2BAAOs5B,QAAP;AAAkB,iBAAtF;AAC/B,8CAA+Bz7B,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,YAA3C,EAAyD,YAAW;AAAE,2BAAOu5B,UAAP;AAAoB,iBAA1F;AAC/B,8CAA+B17B,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,cAA3C,EAA2D,YAAW;AAAE,2BAAOw5B,YAAP;AAAsB,iBAA9F;AAC/B,8CAA+B37B,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,aAA3C,EAA0D,YAAW;AAAE,2BAAOy5B,WAAP;AAAqB,iBAA5F;AAC/B,8CAA+B57B,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,YAA3C,EAAyD,YAAW;AAAE,2BAAO05B,UAAP;AAAoB,iBAA1F;AAC/B,8CAA+B77B,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,YAA3C,EAAyD,YAAW;AAAE,2BAAO25B,UAAP;AAAoB,iBAA1F;AAC/B,8CAA+B97B,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,cAA3C,EAA2D,YAAW;AAAE,2BAAO45B,YAAP;AAAsB,iBAA9F;AAC/B,8CAA+B/7B,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,kBAA3C,EAA+D,YAAW;AAAE,2BAAO65B,gBAAP;AAA0B,iBAAtG;AAC/B,oCAAqB,IAAI71B,sCAAsCnG,qBAAoB,eAAgB,sBAApC,CAA1C;AACrB,yBAAS+H,kBAAT,CAA4BC,GAA5B,EAAiC;AAAE,wBAAIC,MAAMC,OAAN,CAAcF,GAAd,CAAJ,EAAwB;AAAE,6BAAK,IAAI9H,IAAI,CAAR,EAAWiI,OAAOF,MAAMD,IAAIrD,MAAV,CAAvB,EAA0CzE,IAAI8H,IAAIrD,MAAlD,EAA0DzE,GAA1D,EAA+D;AAAEiI,iCAAKjI,CAAL,IAAU8H,IAAI9H,CAAJ,CAAV;AAAmB,yBAAC,OAAOiI,IAAP;AAAc,qBAA7H,MAAmI;AAAE,+BAAOF,MAAMG,IAAN,CAAWJ,GAAX,CAAP;AAAyB;AAAE;;AAInM;;;;;;AAMA,yBAASE,OAAT,CAAiBuT,GAAjB,EAAsB;AAClB,2BAAOxT,MAAMC,OAAN,CAAcuT,GAAd,CAAP;AACH;;AAED;;;;;;AAMA,yBAAS+f,QAAT,CAAkB/f,GAAlB,EAAuB;AACnB,2BAAOA,QAAQ9a,OAAO8a,GAAP,CAAf;AACH;;AAED;;;;;;AAMA,yBAASggB,QAAT,CAAkBhgB,GAAlB,EAAuB;AACnB,2BAAO,OAAOA,GAAP,KAAe,QAAtB;AACH;;AAED;;;;;;AAMA,yBAASigB,UAAT,CAAoBjgB,GAApB,EAAyB;AACrB,2BAAO,OAAOA,GAAP,KAAe,UAAtB;AACH;;AAED;;;;;;AAMA,yBAASkgB,YAAT,CAAsBr0B,IAAtB,EAA4B;AACxB,2BAAO,GAAGlC,MAAH,CAAU2C,mBAAmB,IAAIkR,GAAJ,CAAQ3R,IAAR,CAAnB,CAAV,CAAP;AACH;;AAED,oBAAIs0B,cAAc,SAASA,WAAT,GAAuB;AACrC,2BAAO,QAAQ,IAAInf,IAAJ,GAAWD,OAAX,EAAR,GAA+BW,KAAK8e,KAAL,CAAW9e,KAAK+e,MAAL,KAAgB,KAA3B,CAAtC;AACH,iBAFD;;AAIA,oBAAIC,SAAS,SAASA,MAAT,CAAgBn0B,GAAhB,EAAqB;AAC9B,2BAAO,GAAG5C,MAAH,CAAU2C,mBAAmB,IAAIkR,GAAJ,CAAQjR,GAAR,CAAnB,CAAV,CAAP;AACH,iBAFD;;AAIA;;;;;;AAMA,oBAAI6zB,aAAa,SAASA,UAAT,CAAoB7zB,GAApB,EAAyB4J,KAAzB,EAAgC;AAC7C,wBAAIwqB,OAAO,KAAK,CAAhB;AACA,wBAAIC,aAAa,KAAK,CAAtB;AACA,wBAAIzqB,UAAUhJ,SAAd,EAAyB;AACrByzB,qCAAaF,OAAOn0B,IAAI1E,GAAJ,CAAQ,UAAU/C,CAAV,EAAa;AACrC,mCAAOA,EAAEqR,KAAF,CAAP;AACH,yBAFmB,CAAP,CAAb;AAGH,qBAJD,MAIO;AACHyqB,qCAAaF,OAAOn0B,GAAP,CAAb;AACH;AACD,wBAAIq0B,WAAW13B,MAAX,GAAoB,CAAxB,EAA2B;AACvBy3B,+BAAOjf,KAAKmf,GAAL,CAASD,WAAW,CAAX,IAAgBA,WAAW,CAAX,CAAzB,CAAP;AACA,6BAAK,IAAIn8B,IAAI,CAAR,EAAWqjB,MAAM8Y,WAAW13B,MAAjC,EAAyCzE,IAAIqjB,GAA7C,EAAkDrjB,GAAlD,EAAuD;AACnDk8B,mCAAOjf,KAAK3D,GAAL,CAAS4iB,IAAT,EAAejf,KAAKmf,GAAL,CAASD,WAAWn8B,CAAX,IAAgBm8B,WAAWn8B,IAAI,CAAf,CAAzB,CAAf,CAAP;AACH;AACJ,qBALD,MAKO;AACHk8B,+BAAOC,WAAW,CAAX,CAAP;AACH;;AAED,2BAAOD,IAAP;AACH,iBApBD;;AAsBA;;;;;;;AAOA,yBAASN,UAAT,CAAoBS,IAApB,EAA0Bp0B,IAA1B,EAAgC;AAC5B,wBAAI,CAACD,QAAQq0B,IAAR,CAAD,IAAkB,CAACr0B,QAAQC,IAAR,CAAvB,EAAsC;AAClC,+BAAOo0B,SAASp0B,IAAhB;AACH;;AAED,wBAAIo0B,KAAK53B,MAAL,KAAgBwD,KAAKxD,MAAzB,EAAiC;AAC7B,+BAAO,KAAP;AACH;;AAED,yBAAK,IAAIzE,IAAI,CAAb,EAAgBA,IAAIq8B,KAAK53B,MAAzB,EAAiCzE,GAAjC,EAAsC;AAClC,4BAAIq8B,KAAKr8B,CAAL,MAAYiI,KAAKjI,CAAL,CAAhB,EAAyB;AACrB,mCAAO,KAAP;AACH;AACJ;;AAED,2BAAO,IAAP;AACH;;AAED;;;;;;;AAOA,yBAAS67B,YAAT,CAAsBtgB,GAAtB,EAA2B;AACvB,2BAAOA,GAAP;AACH;;AAED;;;;;;AAMA,oBAAIugB,mBAAmB,SAASA,gBAAT,CAA0B10B,IAA1B,EAAgC;AACnD,wBAAIm0B,SAASn0B,IAAT,CAAJ,EAAoB;AAChB,+BAAOnB,oCAAoC,YAApC,EAAkDiK,OAAzD;AACH,qBAFD,MAEO,IAAIlI,QAAQZ,IAAR,KAAiBY,QAAQZ,KAAK,CAAL,CAAR,CAArB,EAAuC;AAC1C,+BAAOnB,oCAAoC,YAApC,EAAkDmK,OAAzD;AACH,qBAFM,MAEA,IAAIpI,QAAQZ,IAAR,MAAkBA,KAAK3C,MAAL,KAAgB,CAAhB,IAAqB62B,SAASl0B,KAAK,CAAL,CAAT,CAAvC,CAAJ,EAA+D;AAClE,+BAAOnB,oCAAoC,YAApC,EAAkDgK,SAAzD;AACH;AACD,2BAAO,IAAP;AACH,iBATD;;AAWA;AAAO,aAh5NG;;AAk5NV,iBAAM;AACN;;;AAGA;AACA,iBAAO,yBAASxQ,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAIq6B,oDAAoDx8B,qBAAoB,4BAA6B,oCAAjD,CAAxD;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,mBAA3C,EAAgE,YAAW;AAAE,2BAAOq6B,kDAAkD,SAAlD,CAAP;AAAsE,iBAAnJ;;AAE9B,oCAAqB,IAAIC,6CAA6Cz8B,qBAAoB,qBAAsB,6BAA1C,CAAjD;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,aAA3C,EAA0D,YAAW;AAAE,2BAAOs6B,2CAA2C,SAA3C,CAAP;AAA+D,iBAAtI;;AAE9B,oCAAqB,IAAIC,iDAAiD18B,qBAAoB,yBAA0B,iCAA9C,CAArD;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,uBAA3C,EAAoE,YAAW;AAAE,2BAAOu6B,+CAA+C,SAA/C,CAAP;AAAmE,iBAApJ;;AAE9B,oCAAqB,IAAIC,wCAAwC38B,qBAAoB,gBAAiB,wBAArC,CAA5C;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,SAA3C,EAAsD,YAAW;AAAE,2BAAOw6B,sCAAsC,SAAtC,CAAP;AAA0D,iBAA7H;;AAE9B,oCAAqB,IAAIC,uCAAuC58B,qBAAoB,eAAgB,uBAApC,CAA3C;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,SAA3C,EAAsD,YAAW;AAAE,2BAAOy6B,qCAAqC,SAArC,CAAP;AAAyD,iBAA5H;;AAE9B,6CAA8B58B,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,UAA3C,EAAuD,YAAW;AAAE,2BAAOy6B,qCAAqC,UAArC,CAAP;AAA0D,iBAA9H;;AAE9B,6CAA8B58B,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,UAA3C,EAAuD,YAAW;AAAE,2BAAOy6B,qCAAqC,UAArC,CAAP;AAA0D,iBAA9H;;AAE9B,6CAA8B58B,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,YAA3C,EAAyD,YAAW;AAAE,2BAAOy6B,qCAAqC,YAArC,CAAP;AAA4D,iBAAlI;;AAE9B,6CAA8B58B,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,cAA3C,EAA2D,YAAW;AAAE,2BAAOy6B,qCAAqC,cAArC,CAAP;AAA8D,iBAAtI;;AAE9B,6CAA8B58B,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,aAA3C,EAA0D,YAAW;AAAE,2BAAOy6B,qCAAqC,aAArC,CAAP;AAA6D,iBAApI;;AAE9B,6CAA8B58B,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,YAA3C,EAAyD,YAAW;AAAE,2BAAOy6B,qCAAqC,YAArC,CAAP;AAA4D,iBAAlI;;AAE9B,6CAA8B58B,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,YAA3C,EAAyD,YAAW;AAAE,2BAAOy6B,qCAAqC,YAArC,CAAP;AAA4D,iBAAlI;;AAE9B,6CAA8B58B,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,cAA3C,EAA2D,YAAW;AAAE,2BAAOy6B,qCAAqC,cAArC,CAAP;AAA8D,iBAAtI;;AAE9B,6CAA8B58B,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,kBAA3C,EAA+D,YAAW;AAAE,2BAAOy6B,qCAAqC,kBAArC,CAAP;AAAkE,iBAA9I;;AAQ9B;AAAO,aAl8NG;;AAo8NV,iBAAM;AACN;;;AAGA;AACA,iBAAO,gCAASj9B,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAI06B,yCAAyC78B,qBAAoB,kBAAmB,yBAAvC,CAA7C;AACrB,oBAAI6K,eAAe,YAAY;AAAE,6BAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,6BAAK,IAAI9K,IAAI,CAAb,EAAgBA,IAAI8K,MAAMrG,MAA1B,EAAkCzE,GAAlC,EAAuC;AAAE,gCAAI+K,aAAaD,MAAM9K,CAAN,CAAjB,CAA2B+K,WAAWpK,UAAX,GAAwBoK,WAAWpK,UAAX,IAAyB,KAAjD,CAAwDoK,WAAWC,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAWD,UAAf,EAA2BA,WAAWE,QAAX,GAAsB,IAAtB,CAA4BxK,OAAOC,cAAP,CAAsBmK,MAAtB,EAA8BE,WAAWzJ,GAAzC,EAA8CyJ,UAA9C;AAA4D;AAAE,qBAAC,OAAO,UAAUG,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,4BAAID,UAAJ,EAAgBP,iBAAiBM,YAAYrJ,SAA7B,EAAwCsJ,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBR,iBAAiBM,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;AAAqB,qBAAhN;AAAmN,iBAA9hB,EAAnB;;AAEA,yBAASG,eAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;AAAE,wBAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;AAAE,8BAAM,IAAIR,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAIzJ;;;;;;;;;AASA,oBAAIkyB,eAAe,YAAY;AAC3B,6BAASA,YAAT,GAAwB;AACpB,4BAAIrwB,QAAQ,IAAZ;;AAEAlB,wCAAgB,IAAhB,EAAsBuxB,YAAtB;;AAEA,6BAAKlJ,KAAL,GAAa,IAAIxJ,GAAJ,EAAb;AACA,6BAAKwJ,KAAL,CAAWrJ,GAAX,CAAe,YAAf,EAA6BsS,uCAAuC,YAAvC,CAA7B;;AAEAl8B,+BAAOwtB,OAAP,CAAe0O,uCAAuC,QAAvC,CAAf,EAAiE74B,OAAjE,CAAyE,UAAUxC,GAAV,EAAe;AACpFiL,kCAAMmnB,KAAN,CAAYrJ,GAAZ,CAAgB/oB,IAAI,CAAJ,CAAhB,EAAwBA,IAAI,CAAJ,CAAxB;AACH,yBAFD;AAGH;;AAED;;;;;;;;;;;;AAaAqJ,iCAAaiyB,YAAb,EAA2B,CAAC;AACxBt7B,6BAAK,gBADmB;AAExBN,+BAAO,SAASiO,cAAT,GAA0B;AAC7B,gCAAI7C,UAAU3H,MAAd,EAAsB;AAClB,oCAAI2pB,UAAUhiB,UAAU3H,MAAV,IAAoB,CAApB,GAAwBiE,SAAxB,GAAoC0D,UAAU,CAAV,CAAlD;AACA,oCAAI,OAAOgiB,OAAP,KAAmB,UAAvB,EAAmC;AAC/B,yCAAKsF,KAAL,CAAWrJ,GAAX,CAAe,YAAf,EAA6B+D,OAA7B;AACH,iCAFD,MAEO,IAAI,OAAOA,OAAP,KAAmB,QAAvB,EAAiC;AACpC,wCAAI3tB,OAAOyI,IAAP,CAAYyzB,uCAAuC,QAAvC,CAAZ,EAA8DzuB,OAA9D,CAAsEkgB,OAAtE,MAAmF,CAAC,CAAxF,EAA2F;AACvF,6CAAKsF,KAAL,CAAWrJ,GAAX,CAAe,YAAf,EAA6BsS,uCAAuC,QAAvC,EAAiDvO,OAAjD,CAA7B;AACH;AACJ;AACD,uCAAO,IAAP;AACH;;AAED,mCAAO,KAAKsF,KAAL,CAAW9yB,GAAX,CAAe,YAAf,CAAP;AACH;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAlBwB,qBAAD,EAmDxB;AACCU,6BAAK,UADN;AAECN,+BAAO,SAAS67B,QAAT,CAAkBv8B,IAAlB,EAAwB8tB,OAAxB,EAAiC;AACpC,gCAAIld,SAAS,IAAb;;AAEA,gCAAI,OAAO5Q,IAAP,KAAgB,QAAhB,IAA4B,OAAO8tB,OAAP,KAAmB,UAAnD,EAA+D;AAC3D,qCAAKsF,KAAL,CAAWrJ,GAAX,CAAe/pB,IAAf,EAAqB8tB,OAArB;AACH;;AAED,mCAAO,YAAY;AACfld,uCAAO4rB,YAAP,CAAoBx8B,IAApB;AACH,6BAFD;AAGH;AAZF,qBAnDwB,EAgExB;AACCgB,6BAAK,cADN;AAECN,+BAAO,SAAS87B,YAAT,CAAsBx8B,IAAtB,EAA4B;AAC/B,gCAAI,KAAKozB,KAAL,CAAWza,GAAX,CAAe3Y,IAAf,CAAJ,EAA0B;AACtB,qCAAKozB,KAAL,CAAWqJ,MAAX,CAAkBz8B,IAAlB;AACH;AACJ;AANF,qBAhEwB,EAuExB;AACCgB,6BAAK,SADN;AAECN,+BAAO,SAASstB,OAAT,CAAiBhuB,IAAjB,EAAuB;AAC1B,gCAAIA,gBAAgB6C,QAApB,EAA8B;AAC1B,uCAAO7C,IAAP;AACH;AACD,mCAAO,KAAKozB,KAAL,CAAW9yB,GAAX,CAAeN,IAAf,CAAP;AACH;AAPF,qBAvEwB,CAA3B;;AAiFA,2BAAOs8B,YAAP;AACH,iBA7GkB,EAAnB;;AA+GA,oBAAII,eAAe,YAAY;AAC3B,wBAAItJ,QAAQ,IAAZ;;AAEA,6BAASuJ,QAAT,GAAoB;AAChB,4BAAIvJ,UAAU,IAAd,EAAoB;AAChBA,oCAAQ,IAAIkJ,YAAJ,EAAR;AACH;AACD,+BAAOlJ,KAAP;AACH;AACD,2BAAOuJ,UAAP;AACH,iBAVkB,EAAnB;;AAYA,4CAA6Bh7B,oBAAoB,SAApB,IAAkC+6B,YAAlC;;AAE7B;AAAO,aA1lOG;;AA4lOV,iBAAM;AACN;;;AAGA;AACA,iBAAO,oBAASv9B,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oBAAI0I,eAAe,YAAY;AAAE,6BAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,6BAAK,IAAI9K,IAAI,CAAb,EAAgBA,IAAI8K,MAAMrG,MAA1B,EAAkCzE,GAAlC,EAAuC;AAAE,gCAAI+K,aAAaD,MAAM9K,CAAN,CAAjB,CAA2B+K,WAAWpK,UAAX,GAAwBoK,WAAWpK,UAAX,IAAyB,KAAjD,CAAwDoK,WAAWC,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAWD,UAAf,EAA2BA,WAAWE,QAAX,GAAsB,IAAtB,CAA4BxK,OAAOC,cAAP,CAAsBmK,MAAtB,EAA8BE,WAAWzJ,GAAzC,EAA8CyJ,UAA9C;AAA4D;AAAE,qBAAC,OAAO,UAAUG,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,4BAAID,UAAJ,EAAgBP,iBAAiBM,YAAYrJ,SAA7B,EAAwCsJ,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBR,iBAAiBM,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;AAAqB,qBAAhN;AAAmN,iBAA9hB,EAAnB;;AAEA,yBAASG,eAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;AAAE,wBAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;AAAE,8BAAM,IAAIR,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ;;;;;;AAMA,oBAAIwyB,QAAQ,YAAY;;AAEpB;;;;;;AAMA,6BAASA,KAAT,CAAe3hB,GAAf,EAAoB/S,KAApB,EAA2B;AACvB6C,wCAAgB,IAAhB,EAAsB6xB,KAAtB;;AAEAz8B,+BAAOC,cAAP,CAAsB,IAAtB,EAA4B,QAA5B,EAAsC;AAClCC,wCAAY,KADsB;AAElCqK,0CAAc,KAFoB;AAGlCC,sCAAU,KAHwB;AAIlCjK,mCAAOua;AAJ2B,yBAAtC;;AAOA,6BAAK/S,KAAL,GAAaA,KAAb;AACH;;AAED;;;;;;AAOAmC,iCAAauyB,KAAb,EAAoB,CAAC;AACjB57B,6BAAK,UADY;;AAIjB;;;;;;;AAOAN,+BAAO,SAAS00B,QAAT,GAAoB;AACvB,mCAAOja,OAAO,KAAKza,KAAZ,CAAP;AACH;;AAED;;;;;;;AAfiB,qBAAD,EAsBjB;AACCM,6BAAK,SADN;AAECN,+BAAO,SAASygB,OAAT,GAAmB;AACtB,mCAAO,KAAKzgB,KAAZ;AACH;AAJF,qBAtBiB,EA2BjB;AACCM,6BAAK,OADN;AAECV,6BAAK,SAASA,GAAT,GAAe;AAChB,mCAAO,KAAKu8B,MAAZ;AACH;AAJF,qBA3BiB,CAApB;;AAkCA,2BAAOD,KAAP;AACH,iBA/DW,EAAZ;;AAiEA,4CAA6Bj7B,oBAAoB,SAApB,IAAkCi7B,KAAlC;;AAE7B;AAAO;;AAEP,oBAprOU,EAtFM;AAAhB;AA2wOC,CArxOD;AAsxOA,qC;;;;;;;;;;;;;;ACtxOA,CAAC,SAAS79B,gCAAT,CAA0CC,IAA1C,EAAgDC,OAAhD,EAAyD;AACzD,QAAG,+BAAOC,OAAP,OAAmB,QAAnB,IAA+B,+BAAOC,MAAP,OAAkB,QAApD,EACCA,OAAOD,OAAP,GAAiBD,SAAjB,CADD,KAEK,IAAG,IAAH,EACJG,iCAAmB,EAAnB,oCAAuBH,OAAvB;AAAA;AAAA;AAAA,qGADI,KAEA,EAGJ;AACD,CATD,EASGI,MATH,EASW,YAAW;AACtB,WAAO,SAAU,UAASC,OAAT,EAAkB;AAAE;AACrC,oBADmC,CACzB;AACV,oBAAU,IAAIC,mBAAmB,EAAvB;AACV;AACA,oBAJmC,CAIzB;AACV,oBAAU,SAASC,mBAAT,CAA6BC,QAA7B,EAAuC;AACjD;AACA,wBAFiD,CAEtC;AACX,wBAAW,IAAGF,iBAAiBE,QAAjB,CAAH,EAA+B;AAC1C,4BAAY,OAAOF,iBAAiBE,QAAjB,EAA2BP,OAAlC;AACZ;AAAY;AACZ,wBANiD,CAMtC;AACX,wBAAW,IAAIC,SAASI,iBAAiBE,QAAjB,IAA6B;AACrD,4BAAYC,GAAGD,QADsC;AAErD,4BAAYE,GAAG,KAFsC;AAGrD,4BAAYT,SAAS;AACrB,4BAJqD,EAA1C;AAKX;AACA,wBAbiD,CAatC;AACX,wBAAWI,QAAQG,QAAR,EAAkBG,IAAlB,CAAuBT,OAAOD,OAA9B,EAAuCC,MAAvC,EAA+CA,OAAOD,OAAtD,EAA+DM,mBAA/D;AACX;AACA,wBAhBiD,CAgBtC;AACX,wBAAWL,OAAOQ,CAAP,GAAW,IAAX;AACX;AACA,wBAnBiD,CAmBtC;AACX,wBAAW,OAAOR,OAAOD,OAAd;AACX;AAAW;AACX;AACA;AACA,oBA7BmC,CA6BzB;AACV,oBAAUM,oBAAoBK,CAApB,GAAwBP,OAAxB;AACV;AACA,oBAhCmC,CAgCzB;AACV,oBAAUE,oBAAoBM,CAApB,GAAwBP,gBAAxB;AACV;AACA,oBAnCmC,CAmCzB;AACV,oBAAUC,oBAAoBO,CAApB,GAAwB,UAASb,OAAT,EAAkBc,IAAlB,EAAwBC,MAAxB,EAAgC;AAClE,wBAAW,IAAG,CAACT,oBAAoBU,CAApB,CAAsBhB,OAAtB,EAA+Bc,IAA/B,CAAJ,EAA0C;AACrD,4BAAYG,OAAOC,cAAP,CAAsBlB,OAAtB,EAA+Bc,IAA/B,EAAqC,EAAEK,YAAY,IAAd,EAAoBC,KAAKL,MAAzB,EAArC;AACZ;AAAY;AACZ;AAAW,aAJD;AAKV;AACA,oBA1CmC,CA0CzB;AACV,oBAAUT,oBAAoBe,CAApB,GAAwB,UAASrB,OAAT,EAAkB;AACpD,wBAAW,IAAG,OAAOsB,MAAP,KAAkB,WAAlB,IAAiCA,OAAOC,WAA3C,EAAwD;AACnE,4BAAYN,OAAOC,cAAP,CAAsBlB,OAAtB,EAA+BsB,OAAOC,WAAtC,EAAmD,EAAEC,OAAO,QAAT,EAAnD;AACZ;AAAY;AACZ,wBAAWP,OAAOC,cAAP,CAAsBlB,OAAtB,EAA+B,YAA/B,EAA6C,EAAEwB,OAAO,IAAT,EAA7C;AACX;AAAW,aALD;AAMV;AACA,oBAlDmC,CAkDzB;AACV,oBAnDmC,CAmDzB;AACV,oBApDmC,CAoDzB;AACV,oBArDmC,CAqDzB;AACV,oBAtDmC,CAsDzB;AACV,oBAAUlB,oBAAoBmB,CAApB,GAAwB,UAASD,KAAT,EAAgBE,IAAhB,EAAsB;AACxD,wBAAW,IAAGA,OAAO,CAAV,EAAaF,QAAQlB,oBAAoBkB,KAApB,CAAR;AACxB,wBAAW,IAAGE,OAAO,CAAV,EAAa,OAAOF,KAAP;AACxB,wBAAW,IAAIE,OAAO,CAAR,IAAc,QAAOF,KAAP,0CAAOA,KAAP,OAAiB,QAA/B,IAA2CA,KAA3C,IAAoDA,MAAMG,UAA7D,EAAyE,OAAOH,KAAP;AACpF,wBAAW,IAAII,KAAKX,OAAOY,MAAP,CAAc,IAAd,CAAT;AACX,wBAAWvB,oBAAoBe,CAApB,CAAsBO,EAAtB;AACX,wBAAWX,OAAOC,cAAP,CAAsBU,EAAtB,EAA0B,SAA1B,EAAqC,EAAET,YAAY,IAAd,EAAoBK,OAAOA,KAA3B,EAArC;AACX,wBAAW,IAAGE,OAAO,CAAP,IAAY,OAAOF,KAAP,IAAgB,QAA/B,EAAyC,KAAI,IAAIM,GAAR,IAAeN,KAAf;AAAsBlB,wCAAoBO,CAApB,CAAsBe,EAAtB,EAA0BE,GAA1B,EAA+B,UAASA,GAAT,EAAc;AAAE,+BAAON,MAAMM,GAAN,CAAP;AAAoB,qBAApC,CAAqCC,IAArC,CAA0C,IAA1C,EAAgDD,GAAhD,CAA/B;AAAtB,iBAPI,CAQxD,QAAW,OAAOF,EAAP;AACX;AAAW,aATD;AAUV;AACA,oBAlEmC,CAkEzB;AACV,oBAAUtB,oBAAoB0B,CAApB,GAAwB,UAAS/B,MAAT,EAAiB;AACnD,wBAAW,IAAIc,SAASd,UAAUA,OAAO0B,UAAjB;AACxB,wBAAY,SAASM,UAAT,GAAsB;AAAE,2BAAOhC,OAAO,SAAP,CAAP;AAA2B,iBADvC;AAExB,wBAAY,SAASiC,gBAAT,GAA4B;AAAE,2BAAOjC,MAAP;AAAgB,iBAF/C;AAGX,wBAAWK,oBAAoBO,CAApB,CAAsBE,MAAtB,EAA8B,GAA9B,EAAmCA,MAAnC;AACX,wBAAW,OAAOA,MAAP;AACX;AAAW,aAND;AAOV;AACA,oBA3EmC,CA2EzB;AACV,oBAAUT,oBAAoBU,CAApB,GAAwB,UAASmB,MAAT,EAAiBC,QAAjB,EAA2B;AAAE,uBAAOnB,OAAOoB,SAAP,CAAiBC,cAAjB,CAAgC5B,IAAhC,CAAqCyB,MAArC,EAA6CC,QAA7C,CAAP;AAAgE,aAArH;AACV;AACA,oBA9EmC,CA8EzB;AACV,oBAAU9B,oBAAoBiC,CAApB,GAAwB,EAAxB;AACV;AACA;AACA,oBAlFmC,CAkFzB;AACV,oBAAU,OAAOjC,oBAAoBA,oBAAoBkC,CAApB,GAAwB,gBAA5C,CAAP;AACV;AAAU,SApFM;AAqFhB;AACA,gBAAU;;AAEV,iBAAM;AACN;;;AAGA;AACA,iBAAO,2BAASvC,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAI2F,sCAAsC9H,qBAAoB,cAAe,sBAAnC,CAA1C;AACrB,oBAAI6K,eAAe,YAAY;AAAE,6BAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,6BAAK,IAAI9K,IAAI,CAAb,EAAgBA,IAAI8K,MAAMrG,MAA1B,EAAkCzE,GAAlC,EAAuC;AAAE,gCAAI+K,aAAaD,MAAM9K,CAAN,CAAjB,CAA2B+K,WAAWpK,UAAX,GAAwBoK,WAAWpK,UAAX,IAAyB,KAAjD,CAAwDoK,WAAWC,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAWD,UAAf,EAA2BA,WAAWE,QAAX,GAAsB,IAAtB,CAA4BxK,OAAOC,cAAP,CAAsBmK,MAAtB,EAA8BE,WAAWzJ,GAAzC,EAA8CyJ,UAA9C;AAA4D;AAAE,qBAAC,OAAO,UAAUG,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,4BAAID,UAAJ,EAAgBP,iBAAiBM,YAAYrJ,SAA7B,EAAwCsJ,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBR,iBAAiBM,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;AAAqB,qBAAhN;AAAmN,iBAA9hB,EAAnB;;AAEA,yBAASG,eAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;AAAE,wBAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;AAAE,8BAAM,IAAIR,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAIzJ,oBAAI0yB,eAAe,YAAY;AAC3B,6BAASA,YAAT,GAAwB;AACpB/xB,wCAAgB,IAAhB,EAAsB+xB,YAAtB;;AAEA,6BAAKC,KAAL,GAAa,EAAb;AACA,6BAAKC,SAAL,GAAiB;AACbC,uCAAW,EADE;AAEbC,0CAAc;AAFD,yBAAjB;AAIH;;AAED7yB,iCAAayyB,YAAb,EAA2B,CAAC;AACxB97B,6BAAK,UADmB;AAExBN,+BAAO,SAASy8B,QAAT,GAAoB;AACvB,gCAAIC,MAAJ;;AAEA,6BAACA,SAAS,KAAKL,KAAf,EAAsBr5B,IAAtB,CAA2ByE,KAA3B,CAAiCi1B,MAAjC,EAAyCtxB,SAAzC;AACA,mCAAO,IAAP;AACH;AAPuB,qBAAD,EAQxB;AACC9K,6BAAK,yBADN;AAECN,+BAAO,SAAS28B,uBAAT,CAAiC9pB,EAAjC,EAAqC;AACxC,gCAAItH,QAAQ,IAAZ;;AAEA,gCAAIqxB,SAAS,KAAKN,SAAL,CAAeE,YAA5B;AACA,gCAAI9rB,QAAQksB,OAAO55B,IAAP,CAAYvD,OAAOmH,oCAAoC,gBAApC,CAAP,EAA8D,KAAKy1B,KAAnE,EAA0ExpB,EAA1E,CAAZ,IAA6F,CAAzG;;AAEA,mCAAO,YAAY;AACftH,sCAAM+wB,SAAN,CAAgBE,YAAhB,GAA+BI,OAAO1b,MAAP,CAAc,UAAUrO,EAAV,EAAc7T,CAAd,EAAiB;AAC1D,2CAAOA,MAAM0R,KAAb;AACH,iCAF8B,CAA/B;AAGH,6BAJD;AAKH;AAbF,qBARwB,EAsBxB;AACCpQ,6BAAK,yBADN;AAECN,+BAAO,SAAS68B,uBAAT,CAAiChqB,EAAjC,EAAqC;AACxC,gCAAI3C,SAAS,IAAb;;AAEA,gCAAI0sB,SAAS,KAAKN,SAAL,CAAeC,SAA5B;AACA,gCAAI7rB,QAAQksB,OAAO55B,IAAP,CAAYvD,OAAOmH,oCAAoC,aAApC,CAAP,EAA2D,KAAKy1B,KAAhE,EAAuExpB,EAAvE,CAAZ,IAA0F,CAAtG;;AAEA,mCAAO,YAAY;AACf3C,uCAAOosB,SAAP,CAAiBC,SAAjB,GAA6BK,OAAO1b,MAAP,CAAc,UAAUrO,EAAV,EAAc7T,CAAd,EAAiB;AACxD,2CAAOA,MAAM0R,KAAb;AACH,iCAF4B,CAA7B;AAGH,6BAJD;AAKH;AAbF,qBAtBwB,EAoCxB;AACCpQ,6BAAK,sBADN;AAECN,+BAAO,SAAS88B,oBAAT,GAAgC;AACnC,mCAAO,CAAC,CAAC,KAAKR,SAAL,CAAeC,SAAf,CAAyB94B,MAAlC;AACH;AAJF,qBApCwB,CAA3B;;AA2CA,2BAAO24B,YAAP;AACH,iBAvDkB,EAAnB;;AAyDA,4CAA6Bn7B,oBAAoB,SAApB,IAAkCm7B,YAAlC;;AAE7B;AAAO,aA7EG;;AA+EV,iBAAM;AACN;;;AAGA;AACA,iBAAO,wBAAS39B,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oBAAI0I,eAAe,YAAY;AAAE,6BAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,6BAAK,IAAI9K,IAAI,CAAb,EAAgBA,IAAI8K,MAAMrG,MAA1B,EAAkCzE,GAAlC,EAAuC;AAAE,gCAAI+K,aAAaD,MAAM9K,CAAN,CAAjB,CAA2B+K,WAAWpK,UAAX,GAAwBoK,WAAWpK,UAAX,IAAyB,KAAjD,CAAwDoK,WAAWC,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAWD,UAAf,EAA2BA,WAAWE,QAAX,GAAsB,IAAtB,CAA4BxK,OAAOC,cAAP,CAAsBmK,MAAtB,EAA8BE,WAAWzJ,GAAzC,EAA8CyJ,UAA9C;AAA4D;AAAE,qBAAC,OAAO,UAAUG,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,4BAAID,UAAJ,EAAgBP,iBAAiBM,YAAYrJ,SAA7B,EAAwCsJ,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBR,iBAAiBM,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;AAAqB,qBAAhN;AAAmN,iBAA9hB,EAAnB;;AAEA,yBAASrD,kBAAT,CAA4BC,GAA5B,EAAiC;AAAE,wBAAIC,MAAMC,OAAN,CAAcF,GAAd,CAAJ,EAAwB;AAAE,6BAAK,IAAI9H,IAAI,CAAR,EAAWiI,OAAOF,MAAMD,IAAIrD,MAAV,CAAvB,EAA0CzE,IAAI8H,IAAIrD,MAAlD,EAA0DzE,GAA1D,EAA+D;AAAEiI,iCAAKjI,CAAL,IAAU8H,IAAI9H,CAAJ,CAAV;AAAmB,yBAAC,OAAOiI,IAAP;AAAc,qBAA7H,MAAmI;AAAE,+BAAOF,MAAMG,IAAN,CAAWJ,GAAX,CAAP;AAAyB;AAAE;;AAEnM,yBAASuD,eAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;AAAE,wBAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;AAAE,8BAAM,IAAIR,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,oBAAIqzB,YAAY,YAAY;AACxB,6BAASA,SAAT,CAAmBz9B,IAAnB,EAAyB09B,aAAzB,EAAwC32B,OAAxC,EAAiD;AAC7CgE,wCAAgB,IAAhB,EAAsB0yB,SAAtB;;AAEA,kDAA0B12B,UAAUA,WAAW,EAArB;AAC1B,6BAAK/G,IAAL,GAAYA,IAAZ;AACA,6BAAK09B,aAAL,GAAqBA,aAArB;AACA,6BAAKX,KAAL,GAAa,EAAb;AACA,6BAAKY,aAAL,GAAqB,EAArB;AACA,6BAAKC,KAAL,GAAa,IAAb;AACA,6BAAKC,cAAL,GAAsB,IAAtB;AACA,6BAAKC,SAAL,GAAiB/2B,QAAQ+2B,SAAzB;AACA,6BAAKC,OAAL,GAAe,EAAf;AACA,6BAAKC,QAAL,GAAgB,IAAhB;AACA,6BAAKC,aAAL,GAAqB,EAArB;AACH;;AAED5zB,iCAAaozB,SAAb,EAAwB,CAAC;AACrBz8B,6BAAK,iBADgB;AAErBN,+BAAO,SAASw9B,eAAT,GAA2B;AAC9B,gCAAId,MAAJ;AAAA,gCACInxB,QAAQ,IADZ;;AAGA,iCAAK,IAAIJ,OAAOC,UAAU3H,MAArB,EAA6Bg6B,MAAM12B,MAAMoE,IAAN,CAAnC,EAAgDG,OAAO,CAA5D,EAA+DA,OAAOH,IAAtE,EAA4EG,MAA5E,EAAoF;AAChFmyB,oCAAInyB,IAAJ,IAAYF,UAAUE,IAAV,CAAZ;AACH;;AAED,6BAACoxB,SAAS,KAAKL,KAAf,EAAsBr5B,IAAtB,CAA2ByE,KAA3B,CAAiCi1B,MAAjC,EAAyCe,GAAzC;AACAA,gCAAI36B,OAAJ,CAAY,UAAUmgB,KAAV,EAAiB;AACzB,uCAAOA,MAAMga,aAAN,CAAoBj6B,IAApB,CAAyBuI,KAAzB,CAAP;AACH,6BAFD;AAGA,mCAAO,IAAP;AACH;AAfoB,qBAAD,EAgBrB;AACCjL,6BAAK,iBADN;AAECN,+BAAO,SAAS09B,eAAT,CAAyBC,IAAzB,EAA+B;AAClC,iCAAKJ,aAAL,CAAmBv6B,IAAnB,CAAwB26B,IAAxB;AACA,mCAAO,IAAP;AACH;AALF,qBAhBqB,EAsBrB;AACCr9B,6BAAK,SADN;AAECN,+BAAO,SAASstB,OAAT,GAAmB;AACtB,iCAAKsQ,IAAL,GAAY,KAAKN,QAAL,CAAc71B,KAAd,CAAoB,IAApB,EAA0BZ,mBAAmB,KAAKg3B,eAAL,EAAnB,CAA1B,CAAZ;AACA,iCAAKR,OAAL,CAAar6B,IAAb,CAAkB,KAAK46B,IAAvB;AACA,iCAAKT,cAAL,GAAsB,KAAtB;AACA,mCAAO,IAAP;AACH;AAPF,qBAtBqB,EA8BrB;AACC78B,6BAAK,iBADN;AAECN,+BAAO,SAAS69B,eAAT,GAA2B;AAC9B,gCAAI,KAAKxB,KAAL,CAAW54B,MAAX,KAAsB,CAA1B,EAA6B;AACzB,uCAAO,CAAC;AACJnE,0CAAM,KAAKA,IADP;AAEJ09B,mDAAe,KAAKA,aAFhB;AAGJh9B,2CAAO,KAAK49B;AAHR,iCAAD,CAAP;AAKH;AACD,mCAAO,KAAKR,SAAL,CAAe31B,KAAf,CAAqB,IAArB,EAA2BZ,mBAAmB,KAAKw1B,KAAL,CAAWj6B,GAAX,CAAe,UAAU07B,IAAV,EAAgB;AAChF,uCAAOA,KAAKd,aAAZ;AACH,6BAFoD,CAAnB,CAA3B,CAAP;AAGH;AAbF,qBA9BqB,EA4CrB;AACC18B,6BAAK,YADN;AAECN,+BAAO,SAAS+9B,UAAT,GAAsB;AACzB,gCAAIV,UAAU,KAAKA,OAAnB;AAAA,gCACIW,OAAOX,QAAQA,QAAQ55B,MAAR,GAAiB,CAAzB,CADX;AAEA;AACA,gCAAI45B,QAAQ55B,MAAR,KAAmB,CAAvB,EAA0B;AACtB,uCAAO,IAAP;AACH;AACD45B,oCAAQr6B,IAAR,CAAag7B,IAAb;AACA,mCAAO,IAAP;AACH;AAXF,qBA5CqB,EAwDrB;AACC19B,6BAAK,OADN;AAECN,+BAAO,SAASi+B,KAAT,GAAiB;AACpB,gCAAIC,OAAO,KAAKb,OAAhB;AAAA,gCACIW,OAAOE,KAAKA,KAAKz6B,MAAL,GAAc,CAAnB,CADX;AAEAy6B,iCAAKz6B,MAAL,GAAc,CAAd;AACAy6B,iCAAKl7B,IAAL,CAAUg7B,IAAV;AACA,mCAAO,IAAP;AACH;AARF,qBAxDqB,EAiErB;AACC19B,6BAAK,QADN;AAECN,+BAAO,SAASm+B,MAAT,GAAkB;AACrB,mCAAO,KAAK7+B,IAAL,KAAc,IAArB;AACH;AAJF,qBAjEqB,EAsErB;AACCgB,6BAAK,MADN;AAECV,6BAAK,SAASA,GAAT,GAAe;AAChB,mCAAO,KAAKs9B,KAAZ;AACH,yBAJF;AAKC7T,6BAAK,SAASA,GAAT,CAAarpB,KAAb,EAAoB;AACrB,iCAAKk9B,KAAL,GAAal9B,KAAb;AACA,iCAAKm9B,cAAL,GAAsB,IAAtB;AACA,mCAAO,IAAP;AACH;AATF,qBAtEqB,CAAxB;;AAkFA,2BAAOJ,SAAP;AACH,iBApGe,EAAhB;;AAsGA,4CAA6B97B,oBAAoB,SAApB,IAAkC87B,SAAlC;;AAE7B;AAAO,aAtMG;;AAwMV,iBAAM;AACN;;;AAGA;AACA,iBAAO,oBAASt+B,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAI2F,sCAAsC9H,qBAAoB,cAAe,sBAAnC,CAA1C;AACrB,oCAAqB,IAAIs/B,2CAA2Ct/B,qBAAoB,mBAAoB,qBAAxC,CAA/C;AACrB,oCAAqB,IAAIu/B,8CAA8Cv/B,qBAAoB,sBAAuB,wBAA3C,CAAlD;AACrB,oBAAI6K,eAAe,YAAY;AAAE,6BAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,6BAAK,IAAI9K,IAAI,CAAb,EAAgBA,IAAI8K,MAAMrG,MAA1B,EAAkCzE,GAAlC,EAAuC;AAAE,gCAAI+K,aAAaD,MAAM9K,CAAN,CAAjB,CAA2B+K,WAAWpK,UAAX,GAAwBoK,WAAWpK,UAAX,IAAyB,KAAjD,CAAwDoK,WAAWC,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAWD,UAAf,EAA2BA,WAAWE,QAAX,GAAsB,IAAtB,CAA4BxK,OAAOC,cAAP,CAAsBmK,MAAtB,EAA8BE,WAAWzJ,GAAzC,EAA8CyJ,UAA9C;AAA4D;AAAE,qBAAC,OAAO,UAAUG,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,4BAAID,UAAJ,EAAgBP,iBAAiBM,YAAYrJ,SAA7B,EAAwCsJ,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBR,iBAAiBM,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;AAAqB,qBAAhN;AAAmN,iBAA9hB,EAAnB;;AAEA,yBAASrD,kBAAT,CAA4BC,GAA5B,EAAiC;AAAE,wBAAIC,MAAMC,OAAN,CAAcF,GAAd,CAAJ,EAAwB;AAAE,6BAAK,IAAI9H,IAAI,CAAR,EAAWiI,OAAOF,MAAMD,IAAIrD,MAAV,CAAvB,EAA0CzE,IAAI8H,IAAIrD,MAAlD,EAA0DzE,GAA1D,EAA+D;AAAEiI,iCAAKjI,CAAL,IAAU8H,IAAI9H,CAAJ,CAAV;AAAmB,yBAAC,OAAOiI,IAAP;AAAc,qBAA7H,MAAmI;AAAE,+BAAOF,MAAMG,IAAN,CAAWJ,GAAX,CAAP;AAAyB;AAAE;;AAEnM,yBAASuD,eAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;AAAE,wBAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;AAAE,8BAAM,IAAIR,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAMzJ,oBAAI40B,QAAQ,YAAY;AACpB,6BAASA,KAAT,GAAiB;AACb,4BAAI/yB,QAAQ,IAAZ;;AAEAlB,wCAAgB,IAAhB,EAAsBi0B,KAAtB;;AAEA,6BAAKC,gBAAL,GAAwB,EAAxB;AACA,6BAAKnB,SAAL,GAAiB39B,OAAOmH,oCAAoC,OAApC,CAAP,EAAqD,KAAK23B,gBAA1D,CAAjB;AACA,6BAAKjgC,IAAL,GAAY,IAAI8/B,yCAAyC,SAAzC,CAAJ,CAAwD,IAAxD,EAA8D,IAA9D,EAAoE,EAAEhB,WAAW,KAAKA,SAAlB,EAApE,CAAZ;AACA,6BAAK9+B,IAAL,CAAUg/B,QAAV,GAAqB12B,oCAAoC,UAApC,EAAgD43B,UAArE;;AAEA,6BAAKC,SAAL,GAAiB,IAAjB;AACA,6BAAKC,UAAL,GAAkB,IAAlB;AACA,6BAAKC,mBAAL,GAA2B;AACvBC,mDAAuB,KADA;AAEvBC,gDAAoB;AAFG,yBAA3B;;AAKA,6BAAKC,SAAL,GAAiBr/B,OAAOmH,oCAAoC,WAApC,CAAP,EAAyD,UAAUiL,OAAV,EAAmB;AACzF,gCAAIktB,QAAQ,KAAK,CAAjB;AACA,iCAAKA,KAAL,IAAcltB,QAAQmtB,WAAtB,EAAmC;AAC/B,oCAAI,CAAC,GAAGl+B,cAAH,CAAkB5B,IAAlB,CAAuBqM,MAAMgzB,gBAA7B,EAA+CQ,KAA/C,CAAL,EAA4D;AACxD;AACH;AACDxzB,sCAAMgzB,gBAAN,CAAuBQ,KAAvB,EAA8Bd,KAA9B;AACH;AACJ,yBARgB,CAAjB;AASH;;AAEDt0B,iCAAa20B,KAAb,EAAoB,CAAC;AACjBh+B,6BAAK,iBADY;AAEjBN,+BAAO,SAASi/B,eAAT,CAAyBhG,GAAzB,EAA8BiG,KAA9B,EAAqC;AACxC,gCAAI3kB,MAAM,KAAK,CAAf;AAAA,gCACI4kB,iBAAiB,KAAK,CAD1B;AAEA,gCAAIZ,mBAAmB,KAAKA,gBAA5B;AAAA,gCACIjgC,OAAO,KAAKA,IADhB;AAAA,gCAEI8+B,YAAY,KAAKA,SAFrB;;AAIA,6BAAC,SAASgC,GAAT,CAAaC,IAAb,EAAmBrC,aAAnB,EAAkCK,OAAlC,EAA2C;AACxC,oCAAI/8B,MAAM,KAAK,CAAf;AAAA,oCACIy+B,QAAQ,KAAK,CADjB;AAAA,oCAEIO,OAAO,KAAK,CAFhB;AAAA,oCAGI3B,OAAO,KAAK,CAHhB;;AAKA,qCAAKr9B,GAAL,IAAY++B,IAAZ,EAAkB;AACd,wCAAI,CAAC,GAAGv+B,cAAH,CAAkB5B,IAAlB,CAAuBmgC,IAAvB,EAA6B/+B,GAA7B,CAAL,EAAwC;AACpC;AACH;AACDy+B,4CAAQ,KAAK/B,aAAL,GAAqB18B,GAA7B;AACAq9B,2CAAO,IAAIS,yCAAyC,SAAzC,CAAJ,CAAwD99B,GAAxD,EAA6Dy+B,KAA7D,EAAoE,EAAE3B,WAAWA,SAAb,EAApE,CAAP;AACAmB,qDAAiBQ,KAAjB,IAA0BpB,IAA1B;;AAEA,wCAAI,CAAC2B,OAAOjC,QAAQiC,IAAhB,MAA0B53B,SAA9B,EAAyC;AACrC43B,6CAAK9B,eAAL,CAAqBG,IAArB;AACH,qCAFD,MAEO;AACH;AACAr/B,6CAAKk/B,eAAL,CAAqBG,IAArB;AACH;;AAED,wCAAIl+B,OAAOmH,oCAAoC,gBAApC,CAAP,EAA8D2T,MAAM8kB,KAAK/+B,GAAL,CAApE,CAAJ,EAAoF;AAChF8+B,4CAAI7kB,GAAJ,EAAS,KAAKyiB,aAAL,GAAqB18B,GAArB,GAA2B,GAApC,EAAyC,EAAEg/B,MAAM3B,IAAR,EAAzC;AACAA,6CAAKL,QAAL,GAAgB12B,oCAAoC,UAApC,EAAgD43B,UAAhE;AACH,qCAHD,MAGO,IAAIjkB,eAAe3T,oCAAoC,gBAApC,CAAnB,EAA0E;AAC7E,4CAAI24B,KAAJ;;AAEA5B,6CAAKL,QAAL,GAAgB/iB,IAAI3a,GAAJ,EAAhB;AACA,yCAAC2/B,QAAQ5B,IAAT,EAAeH,eAAf,CAA+B/1B,KAA/B,CAAqC83B,KAArC,EAA4C14B,mBAAmB0T,IAAIilB,eAAJ,GAAsBp9B,GAAtB,CAA0B,UAAU28B,KAAV,EAAiB;AACtG,mDAAOR,iBAAiBQ,KAAjB,CAAP;AACH,yCAF8D,CAAnB,CAA5C;AAGH,qCAPM,MAOA;AACHpB,6CAAKL,QAAL,GAAgB12B,oCAAoC,UAApC,EAAgD64B,QAAhE;AACA9B,6CAAKC,IAAL,GAAYrjB,GAAZ;AACA;AACH;AACJ;AACJ,6BArCD,EAqCG0e,GArCH,EAqCQiG,UAAU,IAAV,GAAiB,EAAjB,GAAsBA,QAAQ,GArCtC,EAqC2C;AACvCI,sCAAMf,iBAAiBW,KAAjB;AADiC,6BArC3C;;AAyCA,iCAAKT,SAAL,GAAiB,IAAI73B,oCAAoC,YAApC,CAAJ,CAAsDnH,OAAOyI,IAAP,CAAY,KAAKq2B,gBAAjB,CAAtD,CAAjB;;AAEA;AACA;AACAY,6CAAiB,KAAKt0B,WAAL,CAAiB60B,eAAjB,CAAiCphC,IAAjC,EAAuC4F,MAAvC,CAA8C5F,IAA9C,EAAoD4iB,MAApD,CAA2D,UAAUyc,IAAV,EAAgB;AACxF,uCAAOA,KAAKR,cAAZ;AACH,6BAFgB,CAAjB;AAGAgC,2CAAer8B,OAAf,CAAuB,UAAU66B,IAAV,EAAgB;AACnC,uCAAOA,KAAKrQ,OAAL,EAAP;AACH,6BAFD;AAGA7tB,mCAAOmH,oCAAoC,kBAApC,CAAP,EAAgEu4B,cAAhE,EAAgFr8B,OAAhF,CAAwF,UAAU66B,IAAV,EAAgB;AACpG,uCAAOA,KAAKrQ,OAAL,EAAP;AACH,6BAFD;AAGA,mCAAO,IAAP;AACH;AAhEgB,qBAAD,EAiEjB;AACChtB,6BAAK,cADN;AAECN,+BAAO,SAAS2/B,YAAT,CAAsBC,IAAtB,EAA4B;AAC/B,gCAAIA,QAAQ,KAAKrB,gBAAjB,EAAmC;AAC/B,uCAAO,KAAKA,gBAAL,CAAsBqB,IAAtB,EAA4BhC,IAAnC;AACH;AACD,mCAAOl2B,SAAP;AACH;AAPF,qBAjEiB,EAyEjB;AACCpH,6BAAK,sBADN;AAECN,+BAAO,SAAS6/B,oBAAT,CAA8B/1B,KAA9B,EAAqCg2B,MAArC,EAA6C;AAChD,gCAAI5vB,SAAS,IAAb;AAAA,gCACIhF,IADJ;;AAGA,gCAAI60B,QAAQj2B,MAAM1H,GAAN,CAAU,UAAUw9B,IAAV,EAAgB;AAClC,uCAAO1vB,OAAOquB,gBAAP,CAAwBqB,IAAxB,CAAP;AACH,6BAFW,CAAZ;AAAA,gCAGII,QAAQ,CAAC90B,OAAO,IAAImzB,4CAA4C,SAA5C,CAAJ,EAAR,EAAsE5B,QAAtE,CAA+Eh1B,KAA/E,CAAqFyD,IAArF,EAA2FrE,mBAAmBk5B,KAAnB,CAA3F,CAHZ;;AAKAA,kCAAMj9B,OAAN,CAAc,UAAU66B,IAAV,EAAgB;AAC1B,uCAAOA,KAAKD,eAAL,CAAqBsC,KAArB,CAAP;AACH,6BAFD;AAGA,mCAAOA,MAAM,mBAAmBF,OAAOtxB,IAAhC,EAAsCsxB,OAAOjtB,EAA7C,CAAP;AACH;AAfF,qBAzEiB,EAyFjB;AACCvS,6BAAK,QADN;AAECN,+BAAO,SAASigC,MAAT,GAAkB;AACrB,gCAAIC,aAAa,KAAK,CAAtB;AAAA,gCACIC,gBAAgB,KAAK,CADzB;;AAGA,iCAAK,IAAIh1B,OAAOC,UAAU3H,MAArB,EAA6BqK,SAAS/G,MAAMoE,IAAN,CAAtC,EAAmDG,OAAO,CAA/D,EAAkEA,OAAOH,IAAzE,EAA+EG,MAA/E,EAAuF;AACnFwC,uCAAOxC,IAAP,IAAeF,UAAUE,IAAV,CAAf;AACH;;AAED,gCAAIiyB,gBAAgB,EAApB;AAAA,gCACIwC,QAAQjyB,OAAO1L,GAAP,CAAW,UAAU6gB,KAAV,EAAiB;AACpCA,sCAAM,CAAN,EAAS2a,IAAT,GAAgB3a,MAAM,CAAN,CAAhB;AACA,uCAAOA,MAAM,CAAN,CAAP;AACH,6BAHW,CADZ;AAKA8c,kCAAMj9B,OAAN,CAAc,UAAU66B,IAAV,EAAgB;AAC1B,uCAAOA,KAAKrQ,OAAL,EAAP;AACH,6BAFD;AAGAiQ,0CAAcv6B,IAAd,CAAmByE,KAAnB,CAAyB81B,aAAzB,EAAwC12B,mBAAmBD,oCAAoC,MAApC,EAA4Ca,KAA5C,CAAkDC,SAAlD,EAA6Db,mBAAmBk5B,MAAM39B,GAAN,CAAU,UAAUu7B,IAAV,EAAgB;AACjK,uCAAOA,KAAKJ,aAAZ;AACH,6BAF0I,CAAnB,CAA7D,CAAnB,CAAxC;AAGA2C,yCAAa,IAAIt5B,oCAAoC,YAApC,CAAJ,CAAsDm5B,MAAM39B,GAAN,CAAU,UAAUu7B,IAAV,EAAgB;AACzF,uCAAOA,KAAKX,aAAZ;AACH,6BAFkE,CAAtD,CAAb;;AAIA,gCAAI,CAAC,KAAK0B,UAAV,EAAsB;AAClB,qCAAK0B,yBAAL,CAA+B7C,aAA/B;AACA,qCAAKmB,UAAL,GAAkB,IAAlB;AACA,uCAAO,IAAP;AACH;;AAEDyB,4CAAgB1gC,OAAOmH,oCAAoC,kBAApC,CAAP,EAAgEm5B,KAAhE,CAAhB;AACAI,0CAAcr9B,OAAd,CAAsB,UAAUu9B,YAAV,EAAwB;AAC1C,uCAAOA,aAAa/S,OAAb,EAAP;AACH,6BAFD;AAGA4S,uCAAWI,MAAX,CAAkBH,cAAc/9B,GAAd,CAAkB,UAAUu7B,IAAV,EAAgB;AAChD,uCAAOA,KAAKX,aAAZ;AACH,6BAFiB,CAAlB;AAGAO,0CAAcv6B,IAAd,CAAmByE,KAAnB,CAAyB81B,aAAzB,EAAwC12B,mBAAmBD,oCAAoC,MAApC,EAA4Ca,KAA5C,CAAkDC,SAAlD,EAA6Db,mBAAmBs5B,cAAc/9B,GAAd,CAAkB,UAAUu7B,IAAV,EAAgB;AACzK,uCAAOA,KAAKJ,aAAZ;AACH,6BAF0I,CAAnB,CAA7D,CAAnB,CAAxC;;AAIA,iCAAK6C,yBAAL,CAA+Br5B,MAAMG,IAAN,CAAW,IAAI6Q,GAAJ,CAAQwlB,aAAR,CAAX,CAA/B,EAAmE2C,UAAnE;AACA,mCAAO,IAAP;AACH;AA5CF,qBAzFiB,EAsIjB;AACC5/B,6BAAK,2BADN;AAECN,+BAAO,SAASogC,yBAAT,CAAmC7C,aAAnC,EAAkD2C,UAAlD,EAA8D;AACjE,gCAAIvtB,SAAS,IAAb;;AAEA,gCAAI4tB,WAAW,EAAf;;AACI;AACJC,uCAAW,EAFX,CAHiE,CAKlD;AACf,gCAAIN,UAAJ,EAAgB;AACZ,oCAAIO,gBAAgB75B,oCAAoC,YAApC,EAAkDgP,UAAlD,CAA6D,KAAK6oB,SAAlE,EAA6EyB,UAA7E,CAApB;AAAA,oCACIjT,UAAUwT,cAAcC,OAAd,EADd;;AAGAzT,wCAAQnqB,OAAR,CAAgB,UAAUmgB,KAAV,EAAiB;AAC7B,2CAAOtQ,OAAO4rB,gBAAP,CAAwBtb,KAAxB,EAA+B8a,UAA/B,EAAP;AACH,iCAFD;AAGH;;AAEDR,0CAAcz6B,OAAd,CAAsB,UAAU8J,CAAV,EAAa;AAC/B2zB,yCAASv9B,IAAT,CAAcyE,KAAd,CAAoB84B,QAApB,EAA8B15B,mBAAmB+F,EAAE0vB,SAAF,CAAYE,YAA/B,CAA9B;AACH,6BAFD;AAGAe,0CAAcz6B,OAAd,CAAsB,UAAU8J,CAAV,EAAa;AAC/B4zB,yCAASx9B,IAAT,CAAcyE,KAAd,CAAoB+4B,QAApB,EAA8B35B,mBAAmB+F,EAAE0vB,SAAF,CAAYC,SAA/B,CAA9B;AACH,6BAFD;;AAIA,6BAAC,KAAKoC,mBAAL,CAAyBC,qBAA1B,IAAmD2B,SAASz9B,OAAT,CAAiB,UAAU+P,EAAV,EAAc;AAC9E,uCAAOA,IAAP;AACH,6BAFkD,CAAnD;AAGA,6BAAC,KAAK8rB,mBAAL,CAAyBE,kBAA1B,IAAgD,KAAKC,SAAL,CAAe0B,QAAf,EAAyB,EAAExB,aAAakB,UAAf,EAAzB,CAAhD;AACA,iCAAKS,wBAAL;AACA,mCAAO,IAAP;AACH;AA9BF,qBAtIiB,EAqKjB;AACCrgC,6BAAK,gBADN;AAECN,+BAAO,SAAS4gC,cAAT,GAA0B;AAC7B,gCAAI1kB,SAAS,IAAb;;AAEA,iCAAK,IAAI0J,QAAQxa,UAAU3H,MAAtB,EAA8Bo9B,SAAS95B,MAAM6e,KAAN,CAAvC,EAAqDC,QAAQ,CAAlE,EAAqEA,QAAQD,KAA7E,EAAoFC,OAApF,EAA6F;AACzFgb,uCAAOhb,KAAP,IAAgBza,UAAUya,KAAV,CAAhB;AACH;;AAED,gCAAIka,QAAQc,OAAOz+B,GAAP,CAAW,UAAU28B,KAAV,EAAiB;AACpC,uCAAO7iB,OAAOqiB,gBAAP,CAAwBQ,KAAxB,CAAP;AACH,6BAFW,CAAZ;AAAA,gCAGI1zB,OAAO00B,MAAM39B,GAAN,CAAU,UAAUu7B,IAAV,EAAgB;AACjC,uCAAO,CAACA,IAAD,EAAOA,KAAKC,IAAZ,CAAP;AACH,6BAFU,CAHX;AAMA,iCAAKqC,MAAL,CAAYx4B,KAAZ,CAAkB,IAAlB,EAAwBZ,mBAAmBwE,IAAnB,CAAxB;AACA,mCAAO,IAAP;AACH;AAjBF,qBArKiB,EAuLjB;AACC/K,6BAAK,iBADN;AAECN,+BAAO,SAAS8gC,eAAT,GAA2B;AAC9B,iCAAKpC,UAAL,GAAkB,KAAlB;AACA,mCAAO,IAAP;AACH;AALF,qBAvLiB,EA6LjB;AACCp+B,6BAAK,0BADN;AAECN,+BAAO,SAAS2gC,wBAAT,GAAoC;AACvC,iCAAKhC,mBAAL,CAAyBC,qBAAzB,GAAiD,KAAjD;AACA,iCAAKD,mBAAL,CAAyBE,kBAAzB,GAA8C,KAA9C;AACA,mCAAO,IAAP;AACH;AANF,qBA7LiB,EAoMjB;AACCv+B,6BAAK,wBADN;AAECN,+BAAO,SAAS+gC,sBAAT,CAAgCzgC,GAAhC,EAAqC;AACxC,iCAAKq+B,mBAAL,CAAyBr+B,MAAM,WAA/B,IAA8C,IAA9C;AACA,mCAAO,IAAP;AACH;AALF,qBApMiB,EA0MjB;AACCA,6BAAK,0BADN;AAECN,+BAAO,SAASghC,wBAAT,CAAkCjC,KAAlC,EAAyC;AAC5C,mCAAO,KAAKR,gBAAL,CAAsBQ,KAAtB,CAAP;AACH;AAJF,qBA1MiB,CAApB,EA+MI,CAAC;AACDz+B,6BAAK,iBADJ;AAEDN,+BAAO,SAAS0/B,eAAT,CAAyB/B,IAAzB,EAA+B;AAClC,gCAAIsD,WAAW,EAAf;AACAxhC,mCAAOmH,oCAAoC,wBAApC,CAAP,EAAsE+2B,IAAtE,EAA4EsD,QAA5E,EAAsF,EAAtF;AACA,mCAAOA,QAAP;AACH;AANA,qBAAD,CA/MJ;;AAwNA,2BAAO3C,KAAP;AACH,iBAtPW,EAAZ;;AAwPA,4CAA6Br9B,oBAAoB,SAApB,IAAkCq9B,KAAlC;;AAE7B;AAAO,aAxdG;;AA0dV,iBAAM;AACN;;;AAGA;AACA,iBAAO,oBAAS7/B,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAIigC,sCAAsCpiC,qBAAoB,cAAe,gBAAnC,CAA1C;;AAGrB,4CAA6BmC,oBAAoB,SAApB,IAAkCigC,oCAAoC,SAApC,CAAlC;;AAE7B;AAAO,aAxeG;;AA0eV,iBAAM;AACN;;;AAGA;AACA,iBAAO,oBAASziC,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oCAAqB,IAAIkgC,sCAAsCriC,qBAAoB,cAAe,gBAAnC,CAA1C;AACrB,oCAAqB,IAAI+X,sCAAsC/X,qBAAoB,cAAe,sBAAnC,CAA1C;AACrB,oBAAI6K,eAAe,YAAY;AAAE,6BAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,6BAAK,IAAI9K,IAAI,CAAb,EAAgBA,IAAI8K,MAAMrG,MAA1B,EAAkCzE,GAAlC,EAAuC;AAAE,gCAAI+K,aAAaD,MAAM9K,CAAN,CAAjB,CAA2B+K,WAAWpK,UAAX,GAAwBoK,WAAWpK,UAAX,IAAyB,KAAjD,CAAwDoK,WAAWC,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAWD,UAAf,EAA2BA,WAAWE,QAAX,GAAsB,IAAtB,CAA4BxK,OAAOC,cAAP,CAAsBmK,MAAtB,EAA8BE,WAAWzJ,GAAzC,EAA8CyJ,UAA9C;AAA4D;AAAE,qBAAC,OAAO,UAAUG,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,4BAAID,UAAJ,EAAgBP,iBAAiBM,YAAYrJ,SAA7B,EAAwCsJ,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBR,iBAAiBM,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;AAAqB,qBAAhN;AAAmN,iBAA9hB,EAAnB;;AAEA,yBAASk3B,eAAT,CAAyBnI,GAAzB,EAA8B34B,GAA9B,EAAmCN,KAAnC,EAA0C;AAAE,wBAAIM,OAAO24B,GAAX,EAAgB;AAAEx5B,+BAAOC,cAAP,CAAsBu5B,GAAtB,EAA2B34B,GAA3B,EAAgC,EAAEN,OAAOA,KAAT,EAAgBL,YAAY,IAA5B,EAAkCqK,cAAc,IAAhD,EAAsDC,UAAU,IAAhE,EAAhC;AAA0G,qBAA5H,MAAkI;AAAEgvB,4BAAI34B,GAAJ,IAAWN,KAAX;AAAmB,qBAAC,OAAOi5B,GAAP;AAAa;;AAEjN,yBAASpyB,kBAAT,CAA4BC,GAA5B,EAAiC;AAAE,wBAAIC,MAAMC,OAAN,CAAcF,GAAd,CAAJ,EAAwB;AAAE,6BAAK,IAAI9H,IAAI,CAAR,EAAWiI,OAAOF,MAAMD,IAAIrD,MAAV,CAAvB,EAA0CzE,IAAI8H,IAAIrD,MAAlD,EAA0DzE,GAA1D,EAA+D;AAAEiI,iCAAKjI,CAAL,IAAU8H,IAAI9H,CAAJ,CAAV;AAAmB,yBAAC,OAAOiI,IAAP;AAAc,qBAA7H,MAAmI;AAAE,+BAAOF,MAAMG,IAAN,CAAWJ,GAAX,CAAP;AAAyB;AAAE;;AAEnM,yBAASuD,eAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;AAAE,wBAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;AAAE,8BAAM,IAAIR,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAKzJ;;;;;;;;;;;;AAYA,oBAAI23B,QAAQ,YAAY;AACpB,6BAASA,KAAT,GAAiB;AACbh3B,wCAAgB,IAAhB,EAAsBg3B,KAAtB;;AAEA,6BAAKC,MAAL,GAAc,IAAIH,oCAAoC,SAApC,CAAJ,EAAd;AACA,6BAAKI,SAAL,GAAiB,KAAjB;AACA,6BAAKC,KAAL,GAAa,EAAb;AACH;;AAED;;;;;;;AAQA73B,iCAAa03B,KAAb,EAAoB,CAAC;AACjB/gC,6BAAK,QADY;;AAIjB;;;;;;;;;;;;;;;AAeAN,+BAAO,SAASsgC,MAAT,GAAkB;AACrB,gCAAImB,aAAa,KAAK,CAAtB;AAAA,gCACIxI,MAAM,KAAK,CADf;;AAGA,gCAAI7tB,UAAU3H,MAAV,KAAqB,CAAzB,EAA4B;AACxBg+B,6CAAa,IAAb;AACAxI,sCAAM7tB,UAAU3H,MAAV,IAAoB,CAApB,GAAwBiE,SAAxB,GAAoC0D,UAAU,CAAV,CAA1C;AACH,6BAHD,MAGO;AACHq2B,6CAAar2B,UAAU3H,MAAV,IAAoB,CAApB,GAAwBiE,SAAxB,GAAoC0D,UAAU,CAAV,CAAjD;AACA6tB,sCAAM7tB,UAAU3H,MAAV,IAAoB,CAApB,GAAwBiE,SAAxB,GAAoC0D,UAAU,CAAV,CAA1C;AACH;;AAED,iCAAKs2B,eAAL,CAAqBD,UAArB,EAAiCxI,GAAjC;AACA,mCAAO,IAAP;AACH;;AAED;;;;;;;AAnCiB,qBAAD,EA0CjB;AACC34B,6BAAK,gBADN;AAECN,+BAAO,SAAS2hC,cAAT,GAA0B;AAC7B,gCAAIC,eAAJ;;AAEA,gCAAIC,oBAAoB,KAAK,CAA7B;AAAA,gCACIC,iBAAiB,KAAK,CAD1B;AAAA,gCAEIC,UAAU,KAAK,CAFnB;AAAA,gCAGI7C,QAAQ,KAAK,CAHjB;AAAA,gCAII8C,UAAU,KAAK,CAJnB;;AAMA,gCAAI52B,UAAU3H,MAAV,GAAmB,CAAvB,EAA0B;AACtBy7B,wCAAQ9zB,UAAU3H,MAAV,IAAoB,CAApB,GAAwBiE,SAAxB,GAAoC0D,UAAU,CAAV,CAA5C;AACA22B,0CAAU32B,UAAU3H,MAAV,IAAoB,CAApB,GAAwBiE,SAAxB,GAAoC0D,UAAU,CAAV,CAA9C;AACA42B,0CAAU52B,UAAU3H,MAAV,IAAoB,CAApB,GAAwBiE,SAAxB,GAAoC0D,UAAU,CAAV,CAA9C;AACH,6BAJD,MAIO;AACH8zB,wCAAQ,IAAR;AACA6C,0CAAU32B,UAAU3H,MAAV,IAAoB,CAApB,GAAwBiE,SAAxB,GAAoC0D,UAAU,CAAV,CAA9C;AACA42B,0CAAU52B,UAAU3H,MAAV,IAAoB,CAApB,GAAwBiE,SAAxB,GAAoC0D,UAAU,CAAV,CAA9C;AACH;;AAEDy2B,gDAAoBG,QAAQnrB,oCAAoC,iBAApC,CAAR,CAApB;AACAirB,6CAAiB,IAAIjrB,oCAAoC,gBAApC,CAAJ,CAA0DgrB,kBAAkBhvB,EAA5E,CAAjB;AACA,6BAAC+uB,kBAAkBE,cAAnB,EAAmCtE,eAAnC,CAAmD/1B,KAAnD,CAAyDm6B,eAAzD,EAA0E/6B,mBAAmBg7B,kBAAkBI,YAArC,CAA1E;;AAEA,iCAAKP,eAAL,CAAqBxC,KAArB,EAA4BkC,gBAAgB,EAAhB,EAAoBW,OAApB,EAA6BD,cAA7B,CAA5B;AACA,mCAAO,IAAP;AACH;;AAED;;AA7BD,qBA1CiB,EAyEjB;AACCxhC,6BAAK,iBADN;AAECN,+BAAO,SAAS0hC,eAAT,CAAyBD,UAAzB,EAAqCxI,GAArC,EAA0C;AAC7C,iCAAKqI,MAAL,CAAYrC,eAAZ,CAA4BhG,GAA5B,EAAiCwI,UAAjC;AACA,mCAAO,IAAP;AACH;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAPD,qBAzEiB,EAwKjB;AACCnhC,6BAAK,IADN;AAECN,+BAAO,SAASqS,EAAT,CAAYvI,KAAZ,EAAmB+I,EAAnB,EAAuBqvB,WAAvB,EAAoC;AACvC,gCAAIC,WAAWr4B,iBAAiB/C,KAAjB,GAAyB+C,KAAzB,GAAiC,CAACA,KAAD,CAAhD;;;AAEA;AACAs4B,oCAAQ,KAAKd,MAAL,CAAYzB,oBAAZ,CAAiCsC,QAAjC,EAA2C;AAC/C3zB,sCAAM,WADyC;AAE/CqE,oCAAIA;AAF2C,6BAA3C,CAHR;;AAQA,gCAAIqvB,WAAJ,EAAiB;AACb,oCAAIG,qBAAJ;;AAEA;AACA,iCAACA,wBAAwB,KAAKf,MAAL,CAAYR,eAAZ,GAA8BC,sBAA9B,CAAqD,WAArD,CAAzB,EAA4FH,cAA5F,CAA2Gn5B,KAA3G,CAAiH46B,qBAAjH,EAAwIx7B,mBAAmBiD,KAAnB,CAAxI;AACH;AACD,mCAAOs4B,KAAP;AACH;;AAED;;;;;;;;;;;;;;AApBD,qBAxKiB,EA0MjB;AACC9hC,6BAAK,MADN;AAECN,+BAAO,SAASuJ,IAAT,CAAcO,KAAd,EAAqB+I,EAArB,EAAyBqvB,WAAzB,EAAsC;AACzC,gCAAIC,WAAWr4B,iBAAiB/C,KAAjB,GAAyB+C,KAAzB,GAAiC,CAACA,KAAD,CAAhD;;;AAEA;AACAs4B,oCAAQ,KAAKd,MAAL,CAAYzB,oBAAZ,CAAiCsC,QAAjC,EAA2C;AAC/C3zB,sCAAM,WADyC;AAE/CqE,oCAAIA;AAF2C,6BAA3C,CAHR;;AAQA;AACA,gCAAIqvB,WAAJ,EAAiB;AACb,oCAAII,sBAAJ;;AAEA;AACA,iCAACA,yBAAyB,KAAKhB,MAAL,CAAYR,eAAZ,GAA8BC,sBAA9B,CAAqD,cAArD,CAA1B,EAAgGH,cAAhG,CAA+Gn5B,KAA/G,CAAqH66B,sBAArH,EAA6Iz7B,mBAAmBiD,KAAnB,CAA7I;AACH;;AAED,mCAAOs4B,KAAP;AACH;;AAED;;;;;;;AAtBD,qBA1MiB,EAuOjB;AACC9hC,6BAAK,MADN;AAECN,+BAAO,SAASuiC,IAAT,GAAgB;AACnB,iCAAKhB,SAAL,GAAiB,IAAjB;AACA,iCAAKC,KAAL,CAAW/9B,MAAX,GAAoB,CAApB;AACA,mCAAO,IAAP;AACH;;AAED;;;;;AARD,qBAvOiB,EAoPjB;AACCnD,6BAAK,QADN;AAECN,+BAAO,SAASwiC,MAAT,GAAkB;AACrB,iCAAKjB,SAAL,GAAiB,KAAjB;AACA,iCAAKkB,OAAL,CAAah7B,KAAb,CAAmB,IAAnB,EAAyBZ,mBAAmB,KAAK26B,KAAxB,CAAzB;AACA,iCAAKA,KAAL,CAAW/9B,MAAX,GAAoB,CAApB;AACA,mCAAO,IAAP;AACH;;AAED;;;;;;;;;;;;;;;AATD,qBApPiB,EA4QjB;AACCnD,6BAAK,MADN;AAECN,+BAAO,SAAS4/B,IAAT,GAAgB;AACnB,gCAAIA,OAAO,KAAK,CAAhB;AAAA,gCACIrlB,MAAM,KAAK,CADf;AAAA,gCAEI8H,MAAM,KAAK,CAFf;;AAIA,oCAAQA,MAAMjX,UAAU3H,MAAxB;AACI,qCAAK,CAAL;AACIm8B,2CAAOx0B,UAAU3H,MAAV,IAAoB,CAApB,GAAwBiE,SAAxB,GAAoC0D,UAAU,CAAV,CAA3C;AACA;;AAEJ,qCAAK,CAAL;AACIw0B,2CAAOx0B,UAAU3H,MAAV,IAAoB,CAApB,GAAwBiE,SAAxB,GAAoC0D,UAAU,CAAV,CAA3C;AACAmP,0CAAMnP,UAAU3H,MAAV,IAAoB,CAApB,GAAwBiE,SAAxB,GAAoC0D,UAAU,CAAV,CAA1C;AACA;;AAEJ;AACI,2CAAO,IAAP;AAXR;;AAcA,gCAAIiX,QAAQ,CAAZ,EAAe;AACX,qCAAKkf,SAAL,GAAiB,KAAKC,KAAL,CAAWx+B,IAAX,CAAgB,CAAC48B,IAAD,EAAOrlB,GAAP,CAAhB,CAAjB,GAAgD,KAAKkoB,OAAL,CAAa,CAAC7C,IAAD,EAAOrlB,GAAP,CAAb,CAAhD;AACA,uCAAO,IAAP;AACH;;AAED,mCAAO,KAAK+mB,MAAL,CAAY3B,YAAZ,CAAyBC,IAAzB,CAAP;AACH;;AAED;;AA7BD,qBA5QiB,EA2SjB;AACCt/B,6BAAK,SADN;AAECN,+BAAO,SAASyiC,OAAT,GAAmB;AACtB,gCAAInB,MAAJ;AAAA,gCACI/1B,QAAQ,IADZ;;AAGA,iCAAK,IAAIJ,OAAOC,UAAU3H,MAArB,EAA6BqG,QAAQ/C,MAAMoE,IAAN,CAArC,EAAkDG,OAAO,CAA9D,EAAiEA,OAAOH,IAAxE,EAA8EG,MAA9E,EAAsF;AAClFxB,sCAAMwB,IAAN,IAAcF,UAAUE,IAAV,CAAd;AACH;;AAED;AACA;AACA;AACA;;AAEA,gCAAIxB,MAAMrG,MAAN,KAAiB,CAArB,EAAwB;AACpB,uCAAO,IAAP;AACH;;AAED,6BAAC69B,SAAS,KAAKA,MAAf,EAAuBrB,MAAvB,CAA8Bx4B,KAA9B,CAAoC65B,MAApC,EAA4Cz6B,mBAAmBiD,MAAM1H,GAAN,CAAU,UAAUw9B,IAAV,EAAgB;AACrF,uCAAO,CAACr0B,MAAM+1B,MAAN,CAAaN,wBAAb,CAAsCpB,KAAK,CAAL,CAAtC,CAAD,EAAiDA,KAAK,CAAL,CAAjD,CAAP;AACH,6BAF8D,CAAnB,CAA5C;AAGA,mCAAO,IAAP;AACH;;AAED;;;;;AAzBD,qBA3SiB,EAyUjB;AACCt/B,6BAAK,OADN;AAECN,+BAAO,SAAS0iC,KAAT,GAAiB;AACpB,mCAAO,KAAKpB,MAAZ;AACH;;AAED;;;;;;AAND,qBAzUiB,EAqVjB;AACChhC,6BAAK,WADN;AAECN,+BAAO,SAASuO,SAAT,GAAqB;AACxB,mCAAO,KAAK+yB,MAAL,CAAYhjC,IAAZ,CAAiBs/B,IAAxB;AACH;AAJF,qBArViB,CAApB,EA0VI,CAAC;AACDt9B,6BAAK,QADJ;AAEDN,+BAAO,SAASK,MAAT,CAAgB44B,GAAhB,EAAqB;AACxB,mCAAO,IAAIoI,KAAJ,GAAYK,eAAZ,CAA4B,IAA5B,EAAkCzI,GAAlC,CAAP;AACH;AAJA,qBAAD,CA1VJ;;AAiWA,2BAAOoI,KAAP;AACH,iBAnXW,EAAZ;;AAqXA,4CAA6BpgC,oBAAoB,SAApB,IAAkCogC,KAAlC;;AAE7B;AAAO,aAn4BG;;AAq4BV,iBAAM;AACN;;;AAGA;AACA,iBAAO,yBAAS5iC,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,8CAA+BnC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,gBAA3C,EAA6D,YAAW;AAAE,2BAAO0hC,cAAP;AAAwB,iBAAlG;AAC/B,8CAA+B7jC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,WAA3C,EAAwD,YAAW;AAAE,2BAAO2hC,SAAP;AAAmB,iBAAxF;AAC/B,8CAA+B9jC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,SAA3C,EAAsD,YAAW;AAAE,2BAAOuU,OAAP;AAAiB,iBAApF;AAC/B,8CAA+B1W,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,MAA3C,EAAmD,YAAW;AAAE,2BAAO4hC,IAAP;AAAc,iBAA9E;AAC/B,8CAA+B/jC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,aAA3C,EAA0D,YAAW;AAAE,2BAAO6hC,WAAP;AAAqB,iBAA5F;AAC/B,8CAA+BhkC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,aAA3C,EAA0D,YAAW;AAAE,2BAAO8hC,WAAP;AAAqB,iBAA5F;AAC/B,8CAA+BjkC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,gBAA3C,EAA6D,YAAW;AAAE,2BAAO+hC,cAAP;AAAwB,iBAAlG;AAC/B,8CAA+BlkC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,QAA3C,EAAqD,YAAW;AAAE,2BAAOg6B,MAAP;AAAgB,iBAAlF;AAC/B,8CAA+Bn8B,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,eAA3C,EAA4D,YAAW;AAAE,2BAAOgiC,aAAP;AAAuB,iBAAhG;AAC/B,8CAA+BnkC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,UAA3C,EAAuD,YAAW;AAAE,2BAAOq8B,QAAP;AAAkB,iBAAtF;AAC/B,8CAA+Bx+B,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,wBAA3C,EAAqE,YAAW;AAAE,2BAAOiiC,sBAAP;AAAgC,iBAAlH;AAC/B,8CAA+BpkC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,OAA3C,EAAoD,YAAW;AAAE,2BAAOkiC,KAAP;AAAe,iBAAhF;AAC/B,8CAA+BrkC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,iBAA3C,EAA8D,YAAW;AAAE,2BAAOmiC,eAAP;AAAyB,iBAApG;AAC/B,8CAA+BtkC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,gBAA3C,EAA6D,YAAW;AAAE,2BAAOoiC,cAAP;AAAwB,iBAAlG;AAC/B,8CAA+BvkC,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,kBAA3C,EAA+D,YAAW;AAAE,2BAAOqiC,gBAAP;AAA0B,iBAAtG;AAC/B,oCAAqB,IAAIC,oCAAoCzkC,qBAAoB,YAAa,oBAAjC,CAAxC;AACrB,6CAA8BA,oBAAoBO,CAApB,CAAsB4B,mBAAtB,EAA2C,YAA3C,EAAyD,YAAW;AAAE,2BAAOsiC,kCAAkC,SAAlC,CAAP;AAAsD,iBAA5H;;AAE9B,oBAAI55B,eAAe,YAAY;AAAE,6BAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,6BAAK,IAAI9K,IAAI,CAAb,EAAgBA,IAAI8K,MAAMrG,MAA1B,EAAkCzE,GAAlC,EAAuC;AAAE,gCAAI+K,aAAaD,MAAM9K,CAAN,CAAjB,CAA2B+K,WAAWpK,UAAX,GAAwBoK,WAAWpK,UAAX,IAAyB,KAAjD,CAAwDoK,WAAWC,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAWD,UAAf,EAA2BA,WAAWE,QAAX,GAAsB,IAAtB,CAA4BxK,OAAOC,cAAP,CAAsBmK,MAAtB,EAA8BE,WAAWzJ,GAAzC,EAA8CyJ,UAA9C;AAA4D;AAAE,qBAAC,OAAO,UAAUG,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,4BAAID,UAAJ,EAAgBP,iBAAiBM,YAAYrJ,SAA7B,EAAwCsJ,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBR,iBAAiBM,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;AAAqB,qBAAhN;AAAmN,iBAA9hB,EAAnB;;AAEA,oBAAIovB,UAAU,OAAOx5B,MAAP,KAAkB,UAAlB,IAAgC,SAAOA,OAAOuJ,QAAd,MAA2B,QAA3D,GAAsE,UAAU4vB,GAAV,EAAe;AAAE,kCAAcA,GAAd,0CAAcA,GAAd;AAAoB,iBAA3G,GAA8G,UAAUA,GAAV,EAAe;AAAE,2BAAOA,OAAO,OAAOn5B,MAAP,KAAkB,UAAzB,IAAuCm5B,IAAIpuB,WAAJ,KAAoB/K,MAA3D,IAAqEm5B,QAAQn5B,OAAOe,SAApF,GAAgG,QAAhG,UAAkHo4B,GAAlH,0CAAkHA,GAAlH,CAAP;AAA+H,iBAA5Q;;AAEA,yBAAS5uB,eAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;AAAE,wBAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;AAAE,8BAAM,IAAIR,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,yBAAS03B,eAAT,CAAyBnI,GAAzB,EAA8B34B,GAA9B,EAAmCN,KAAnC,EAA0C;AAAE,wBAAIM,OAAO24B,GAAX,EAAgB;AAAEx5B,+BAAOC,cAAP,CAAsBu5B,GAAtB,EAA2B34B,GAA3B,EAAgC,EAAEN,OAAOA,KAAT,EAAgBL,YAAY,IAA5B,EAAkCqK,cAAc,IAAhD,EAAsDC,UAAU,IAAhE,EAAhC;AAA0G,qBAA5H,MAAkI;AAAEgvB,4BAAI34B,GAAJ,IAAWN,KAAX;AAAmB,qBAAC,OAAOi5B,GAAP;AAAa;;AAEjN,yBAASpyB,kBAAT,CAA4BC,GAA5B,EAAiC;AAAE,wBAAIC,MAAMC,OAAN,CAAcF,GAAd,CAAJ,EAAwB;AAAE,6BAAK,IAAI9H,IAAI,CAAR,EAAWiI,OAAOF,MAAMD,IAAIrD,MAAV,CAAvB,EAA0CzE,IAAI8H,IAAIrD,MAAlD,EAA0DzE,GAA1D,EAA+D;AAAEiI,iCAAKjI,CAAL,IAAU8H,IAAI9H,CAAJ,CAAV;AAAmB,yBAAC,OAAOiI,IAAP;AAAc,qBAA7H,MAAmI;AAAE,+BAAOF,MAAMG,IAAN,CAAWJ,GAAX,CAAP;AAAyB;AAAE;;AAEnM;;AAIA,oBAAI67B,iBAAiB,SAASA,cAAT,CAAwB1J,GAAxB,EAA6B;AAC9C,wBAAIp1B,QAAQ,KAAK,CAAjB;AACA,wBAAI,CAAC,OAAOo1B,GAAP,KAAe,WAAf,GAA6B,WAA7B,GAA2CK,QAAQL,GAAR,CAA5C,MAA8D,QAAlE,EAA4E;AACxE,4BAAIA,QAAQ,IAAZ,EAAkB;AACd,mCAAO,KAAP;AACH;AACDp1B,gCAAQpE,OAAOoB,SAAP,CAAiB6zB,QAAjB,CAA0Bx1B,IAA1B,CAA+B+5B,GAA/B,CAAR;AACA,4BAAIp1B,UAAU,iBAAd,EAAiC;AAC7B,mCAAO,CAACo1B,IAAIpuB,WAAJ,CAAgB6pB,QAAhB,GAA2B/Z,KAA3B,CAAiC,qBAAjC,KAA2D,EAA5D,EAAgE,CAAhE,MAAuE,QAA9E;AACH;AACJ;AACD,2BAAO,KAAP;AACH,iBAZD;AAAA,oBAaI6oB,iBAAiB,EAbrB;;;AAeA,0CAA0BC,MAAM,OAAO9kC,MAAP,KAAkB,WAAlB,GAAgC+I,aAAa,EAA7C,GAAkD/I,MAflF;;;AAiBA,0CAA0B+kC,eAAeD,IAAIE,qBAAJ,IAA6BF,IAAIG,2BAAjC,IAAgEH,IAAII,wBAApE,IAAgGJ,IAAIK,sBAApG,IAA8HL,IAAIM,uBAAlI,IAA6J,UAAUxxB,QAAV,EAAoB;AACtNyxB,+BAAWzxB,QAAX,EAAqBixB,cAArB;AACH,iBAnBD;AAAA,oBAoBIS,iBAAiB,SAASA,cAAT,GAA0B;AAC3C,wBAAIA,eAAeC,UAAf,KAA8B,IAAI3oB,IAAJ,GAAWD,OAAX,EAAlC,EAAwD;AACpD,+BAAO2oB,eAAeC,UAAf,CAA0BxP,QAA1B,KAAuC,CAACuP,eAAeE,IAAf,EAAD,EAAwBzP,QAAxB,EAA9C;AACH;;AAEDuP,mCAAeE,IAAf,GAAsB,CAAtB;AACAF,mCAAeC,UAAf,GAA4B,IAAI3oB,IAAJ,GAAWD,OAAX,EAA5B;AACA,2BAAO2oB,eAAeC,UAAf,CAA0BxP,QAA1B,KAAuC,CAACuP,eAAeE,IAAf,EAAD,EAAwBzP,QAAxB,EAA9C;AACH,iBA5BD;AAAA,oBA6BIsO,iBAAiB,SAASA,cAAT,CAAwBjD,KAAxB,EAA+BltB,EAA/B,EAAmC;AACpD,wBAAIuxB,MAAM,SAASA,GAAT,GAAe;AACrBvxB,2BAAGpL,KAAH,CAASC,SAAT,EAAoBb,mBAAmBk5B,MAAM39B,GAAN,CAAU,UAAUu7B,IAAV,EAAgB;AAC7D,gCAAIO,OAAOP,KAAKN,OAAhB;AAAA,gCACIp+B,IAAIi/B,KAAKz6B,MAAL,GAAc,CADtB;AAEA,mCAAO,CAACy6B,KAAKj/B,IAAI,CAAJ,GAAQ,CAAR,GAAY,CAAZ,GAAgBA,IAAI,CAAzB,CAAD,EAA8Bi/B,KAAKj/B,CAAL,CAA9B,CAAP;AACH,yBAJsC,CAAnB,CAApB;AAKH,qBAND;AAOAmlC,wBAAID,IAAJ,GAAWF,gBAAX;AACA,2BAAOG,GAAP;AACH,iBAvCD;AAAA,oBAwCIrB,cAAc,SAASA,WAAT,CAAqBhD,KAArB,EAA4BltB,EAA5B,EAAgC;AAC9C,wBAAIuxB,MAAM,SAASA,GAAT,GAAe;AACrBvxB,2BAAGpL,KAAH,CAASC,SAAT,EAAoBb,mBAAmBk5B,MAAM39B,GAAN,CAAU,UAAUu7B,IAAV,EAAgB;AAC7D,gCAAIO,OAAOP,KAAKN,OAAhB;AACA,mCAAO,CAACa,KAAK,CAAL,CAAD,EAAUA,KAAKA,KAAKz6B,MAAL,GAAc,CAAnB,CAAV,CAAP;AACH,yBAHsC,CAAnB,CAApB;AAIH,qBALD;AAMA2gC,wBAAID,IAAJ,GAAWF,gBAAX;AACA,2BAAOG,GAAP;AACH,iBAjDD;AAAA,oBAkDInJ,SAAS,SAASA,MAAT,CAAgBnb,GAAhB,EAAqB;AAC9B,2BAAOA,IAAI/S,MAAJ,CAAW,UAAU2lB,KAAV,EAAiB7f,EAAjB,EAAqB;AACnC;AACA,4BAAIA,GAAGsxB,IAAH,IAAWzR,MAAMtwB,GAArB,EAA0B;AACtB,mCAAOswB,KAAP;AACH;;AAEDA,8BAAMtwB,GAAN,CAAUyQ,GAAGsxB,IAAb,IAAqB,CAArB;AACAzR,8BAAMuI,MAAN,CAAaj4B,IAAb,CAAkB6P,EAAlB;;AAEA,+BAAO6f,KAAP;AACH,qBAVM,EAUJ,EAAEtwB,KAAK,EAAP,EAAW64B,QAAQ,EAAnB,EAVI,EAUqBA,MAV5B;AAWH,iBA9DD;AAAA,oBA+DIzlB,UAAU,SAASA,OAAT,CAAiBsK,GAAjB,EAAsB;AAChC,2BAAO,YAAY;AACfA,4BAAIhd,OAAJ,CAAY,UAAU+P,EAAV,EAAc;AACtB,mCAAOA,IAAP;AACH,yBAFD;AAGH,qBAJD;AAKH,iBArED;AAAA,oBAsEIgwB,OAAO,SAASA,IAAT,GAAgB;AACvB,yBAAK,IAAI13B,OAAOC,UAAU3H,MAArB,EAA6BqK,SAAS/G,MAAMoE,IAAN,CAAtC,EAAmDG,OAAO,CAA/D,EAAkEA,OAAOH,IAAzE,EAA+EG,MAA/E,EAAuF;AACnFwC,+BAAOxC,IAAP,IAAeF,UAAUE,IAAV,CAAf;AACH;;AAED,wBAAI+4B,MAAM,EAAV;AACAv2B,2BAAOhL,OAAP,CAAe,UAAU01B,KAAV,EAAiB;AAC5B,+BAAO6L,IAAIrhC,IAAJ,CAASyE,KAAT,CAAe48B,GAAf,EAAoBx9B,mBAAmB2xB,KAAnB,CAApB,CAAP;AACH,qBAFD;AAGA,2BAAO6L,GAAP;AACH,iBAhFD;AAAA,oBAiFIvB,cAAc,SAASA,WAAT,CAAqBwB,MAArB,EAA6B;AAC3C,2BAAOA,MAAP;AACH,iBAnFD;AAAA,oBAoFIrB,gBAAgB,SAASA,aAAT,CAAuB7gB,IAAvB,EAA6B;AAC7C,wBAAImiB,UAAUniB,KAAK3D,KAAL,CAAW,GAAX,CAAd;AAAA,wBACI4D,MAAMkiB,QAAQ9gC,MADlB;AAEA,2BAAO,CAAC8gC,QAAQxgC,KAAR,CAAc,CAAd,EAAiBse,MAAM,CAAvB,CAAD,EAA4BkiB,QAAQliB,MAAM,CAAd,CAA5B,CAAP;AACH,iBAxFD;AAAA,oBAyFIugB,YAAY,SAASA,SAAT,CAAmB4B,gBAAnB,EAAqC;AACjD,wBAAIC,QAAQ,EAAZ;AAAA,wBACIC,iBAAiB,IADrB;;AAGAF,uCAAmBA,oBAAoB,OAAOA,gBAAP,KAA4B,UAAhD,IAA8DA,gBAA9D,IAAkF,YAAY,CAAE,CAAnH;;AAEA,2BAAO,UAAUlI,SAAV,EAAqBzqB,OAArB,EAA8B;AACjC,2BAAG7O,IAAH,CAAQyE,KAAR,CAAcg9B,KAAd,EAAqBnI,SAArB;AACA,4BAAIoI,mBAAmB,IAAvB,EAA6B;AACzBA,6CAAiBhB,aAAa,YAAY;AACtC,oCAAIiB,QAAQF,MAAM1gC,KAAN,CAAY,CAAZ,CAAZ;AACA0gC,sCAAMhhC,MAAN,GAAe,CAAf;AACAihC,iDAAiB,IAAjB;;AAEAzJ,uCAAO0J,KAAP,EAAc7hC,OAAd,CAAsB,UAAU+P,EAAV,EAAc;AAChC,2CAAOA,IAAP;AACH,iCAFD;AAGA2xB,iDAAiB3yB,OAAjB;AACH,6BATgB,CAAjB;AAUH;AACJ,qBAdD;AAeH,iBA9GD;AAAA,oBA+GIsxB,QAAQ,SAASA,KAAT,CAAeyB,SAAf,EAA0B;AAClC,2BAAO,YAAY;AACf,6BAAK,IAAIhf,QAAQxa,UAAU3H,MAAtB,EAA8BqK,SAAS/G,MAAM6e,KAAN,CAAvC,EAAqDC,QAAQ,CAAlE,EAAqEA,QAAQD,KAA7E,EAAoFC,OAApF,EAA6F;AACzF/X,mCAAO+X,KAAP,IAAgBza,UAAUya,KAAV,CAAhB;AACH;;AAED,+BAAO/X,OAAO1L,GAAP,CAAW,UAAUo2B,KAAV,EAAiB;AAC/B,gCAAImF,OAAOiH,UAAUpM,KAAV,CAAX;AACA,mCAAO;AACHl5B,sCAAMq+B,KAAKr+B,IADR;AAEH09B,+CAAeW,KAAKX,aAFjB;AAGHh9B,uCAAO29B,KAAKC;AAHT,6BAAP;AAKH,yBAPM,CAAP;AAQH,qBAbD;AAcH,iBA9HD;AAAA,oBA+HIwF,kBAAkB,SAASA,eAAT,GAA2B;AAC7C,yBAAK,IAAItd,QAAQ1a,UAAU3H,MAAtB,EAA8BqK,SAAS/G,MAAM+e,KAAN,CAAvC,EAAqDC,QAAQ,CAAlE,EAAqEA,QAAQD,KAA7E,EAAoFC,OAApF,EAA6F;AACzFjY,+BAAOiY,KAAP,IAAgB3a,UAAU2a,KAAV,CAAhB;AACH;;AAED,2BAAO;AACHkc,sCAAcn0B,OAAO/J,KAAP,CAAa,CAAb,EAAgB+J,OAAOrK,MAAP,GAAgB,CAAhC,CADX;AAEHoP,4BAAI/E,OAAOA,OAAOrK,MAAP,GAAgB,CAAvB;AAFD,qBAAP;AAIH,iBAxID;AAAA,oBAyII6/B,mBAAmB,SAASA,gBAAT,CAA0BuB,IAA1B,EAAgC;AACnD,wBAAIR,MAAM,EAAV;AACA,wBAAIjiC,MAAM,EAAV;AACAyiC,yBAAK/hC,OAAL,CAAa,UAAU66B,IAAV,EAAgB;AACzB,+BAAOv7B,IAAIu7B,KAAKX,aAAT,IAA0B,CAAC,CAAlC;AACH,qBAFD;AAGA,6BAASoC,GAAT,CAAat4B,GAAb,EAAkB;AACdA,4BAAIhE,OAAJ,CAAY,UAAU66B,IAAV,EAAgB;AACxB,gCAAIoB,QAAQ,KAAK,CAAjB;AAAA,gCACI+F,cAAc,KAAK,CADvB;AAAA,gCAEIC,SAAS,KAAK,CAFlB;AAAA,gCAGIC,UAAU,KAAK,CAHnB;AAIA,gCAAI,EAAE,CAACjG,QAAQpB,KAAKX,aAAd,KAAgC56B,GAAlC,CAAJ,EAA4C;AACxCA,oCAAI28B,KAAJ,IAAasF,IAAIrhC,IAAJ,CAAS26B,IAAT,IAAiB,CAA9B;AACH,6BAFD,MAEO;AACHmH,8CAAc1iC,IAAI28B,KAAJ,CAAd;AACA,oCAAI+F,gBAAgB,CAAC,CAAjB,IAAsBA,gBAAgBT,IAAI5gC,MAAJ,GAAa,CAAvD,EAA0D;AACtD;AACAshC,6CAASV,IAAItgC,KAAJ,CAAU,CAAV,EAAa+gC,WAAb,CAAT;AACAE,8CAAUX,IAAItgC,KAAJ,CAAU+gC,cAAc,CAAxB,CAAV;AACAT,0CAAMU,OAAO7gC,MAAP,CAAc8gC,OAAd,CAAN;;AAEA;AACAA,4CAAQliC,OAAR,CAAgB,UAAUqK,IAAV,EAAgBnO,CAAhB,EAAmB;AAC/B,+CAAOoD,IAAI+K,KAAK6vB,aAAT,IAA0Bh+B,IAAI+lC,OAAOthC,MAA5C;AACH,qCAFD;AAGArB,wCAAI28B,KAAJ,IAAasF,IAAIrhC,IAAJ,CAAS26B,IAAT,IAAiB,CAA9B;AACH;AACJ;AACDyB,gCAAIzB,KAAKV,aAAT;AACH,yBAvBD;AAwBH;AACDmC,wBAAIyF,IAAJ;AACA,2BAAOR,GAAP;AACH,iBA3KD;AAAA,oBA4KI/G,WAAW;AACXkB,gCAAY,SAASA,UAAT,GAAsB;AAC9B,6BAAK,IAAIxY,QAAQ5a,UAAU3H,MAAtB,EAA8BqK,SAAS/G,MAAMif,KAAN,CAAvC,EAAqDC,QAAQ,CAAlE,EAAqEA,QAAQD,KAA7E,EAAoFC,OAApF,EAA6F;AACzFnY,mCAAOmY,KAAP,IAAgB7a,UAAU6a,KAAV,CAAhB;AACH;;AAED,4BAAInI,OAAO,EAAX;AACAhQ,+BAAOhL,OAAP,CAAe,UAAUmiC,WAAV,EAAuB;AAClCxlC,mCAAO4H,MAAP,CAAcyW,IAAd,EAAoBsjB,gBAAgB,EAAhB,EAAoB6D,YAAY3lC,IAAhC,EAAsC2lC,YAAYjlC,KAAlD,CAApB;AACH,yBAFD;AAGA,+BAAO8d,IAAP;AACH,qBAXU;AAYX2hB,8BAAU,SAASA,QAAT,CAAkBwF,WAAlB,EAA+B;AACrC,+BAAOA,YAAYjlC,KAAnB;AACH;AAdU,iBA5Kf;;AA6LA,yBAASkjC,sBAAT,CAAgCvF,IAAhC,EAAsCsD,QAAtC,EAAgDiE,UAAhD,EAA4D;AACxD,wBAAInG,QAAQ,KAAK,CAAjB;AACApB,yBAAKtB,KAAL,CAAWv5B,OAAX,CAAmB,UAAUqiC,SAAV,EAAqB;AACpCjC,+CAAuBiC,SAAvB,EAAkClE,QAAlC,EAA4CiE,UAA5C;AACH,qBAFD;;AAIA,wBAAIvH,KAAKQ,MAAL,MAAiB,CAACY,QAAQpB,KAAKX,aAAd,KAAgCkI,UAArD,EAAiE;AAC7D;AACH;AACDjE,6BAASj+B,IAAT,CAAc26B,IAAd;AACAuH,+BAAWnG,KAAX,IAAoB,CAApB;AACH;;AAED,oBAAIsE,iBAAiB,YAAY;AAC7B,6BAASA,cAAT,CAAwB/F,QAAxB,EAAkC;AAC9BjzB,wCAAgB,IAAhB,EAAsBg5B,cAAtB;;AAEA,6BAAKxwB,EAAL,GAAUyqB,QAAV;AACA,6BAAKG,GAAL,GAAW,EAAX;AACH;;AAED9zB,iCAAa05B,cAAb,EAA6B,CAAC;AAC1B/iC,6BAAK,iBADqB;AAE1BN,+BAAO,SAASw9B,eAAT,GAA2B;AAC9B,gCAAI4H,IAAJ;;AAEA,6BAACA,OAAO,KAAK3H,GAAb,EAAkBz6B,IAAlB,CAAuByE,KAAvB,CAA6B29B,IAA7B,EAAmCh6B,SAAnC;AACA,mCAAO,IAAP;AACH;AAPyB,qBAAD,EAQ1B;AACC9K,6BAAK,iBADN;AAECN,+BAAO,SAASw/B,eAAT,GAA2B;AAC9B,mCAAO,KAAK/B,GAAZ;AACH;AAJF,qBAR0B,EAa1B;AACCn9B,6BAAK,KADN;AAECN,+BAAO,SAASJ,GAAT,GAAe;AAClB,mCAAO,KAAKiT,EAAZ;AACH;AAJF,qBAb0B,CAA7B;;AAoBA,2BAAOwwB,cAAP;AACH,iBA7BoB,EAArB;;AAiCA;AAAO,aAzpCG;;AA2pCV,iBAAM;AACN;;;AAGA;AACA,iBAAO,uBAAS5kC,MAAT,EAAiBwC,mBAAjB,EAAsCnC,mBAAtC,EAA2D;;AAElE;;AACAA,oCAAoBe,CAApB,CAAsBoB,mBAAtB;AACA,oBAAI0I,eAAe,YAAY;AAAE,6BAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,6BAAK,IAAI9K,IAAI,CAAb,EAAgBA,IAAI8K,MAAMrG,MAA1B,EAAkCzE,GAAlC,EAAuC;AAAE,gCAAI+K,aAAaD,MAAM9K,CAAN,CAAjB,CAA2B+K,WAAWpK,UAAX,GAAwBoK,WAAWpK,UAAX,IAAyB,KAAjD,CAAwDoK,WAAWC,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAWD,UAAf,EAA2BA,WAAWE,QAAX,GAAsB,IAAtB,CAA4BxK,OAAOC,cAAP,CAAsBmK,MAAtB,EAA8BE,WAAWzJ,GAAzC,EAA8CyJ,UAA9C;AAA4D;AAAE,qBAAC,OAAO,UAAUG,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,4BAAID,UAAJ,EAAgBP,iBAAiBM,YAAYrJ,SAA7B,EAAwCsJ,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBR,iBAAiBM,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;AAAqB,qBAAhN;AAAmN,iBAA9hB,EAAnB;;AAEA,yBAASG,eAAT,CAAyBC,QAAzB,EAAmCJ,WAAnC,EAAgD;AAAE,wBAAI,EAAEI,oBAAoBJ,WAAtB,CAAJ,EAAwC;AAAE,8BAAM,IAAIR,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,oBAAI27B,YAAY,SAASA,SAAT,CAAmBv+B,GAAnB,EAAwBw+B,IAAxB,EAA8B;AAC1Cx+B,wBAAIhE,OAAJ,CAAY,UAAUqK,IAAV,EAAgB;AACxB,4BAAIA,SAASzF,SAAT,IAAsByF,SAAS,IAAnC,EAAyC;AACrC;AACH;AACDm4B,6BAAKn4B,IAAL,IAAa,CAAb;AACH,qBALD;AAMH,iBAPD;;AASA,oBAAIo4B,aAAa,YAAY;AACzB,6BAASA,UAAT,CAAoBz+B,GAApB,EAAyB;AACrBuD,wCAAgB,IAAhB,EAAsBk7B,UAAtB;;AAEA,6BAAKC,IAAL,GAAY,EAAZ;AACAH,kCAAUv+B,GAAV,EAAe,KAAK0+B,IAApB;AACH;;AAED77B,iCAAa47B,UAAb,EAAyB,CAAC;AACtBjlC,6BAAK,QADiB;AAEtBN,+BAAO,SAASsgC,MAAT,CAAgBx5B,GAAhB,EAAqB;AACxBu+B,sCAAUv+B,GAAV,EAAe,KAAK0+B,IAApB;AACA,mCAAO,IAAP;AACH;AALqB,qBAAD,EAMtB;AACCllC,6BAAK,SADN;AAECN,+BAAO,SAAS0gC,OAAT,GAAmB;AACtB,mCAAOjhC,OAAOyI,IAAP,CAAY,KAAKs9B,IAAjB,CAAP;AACH;AAJF,qBANsB,CAAzB,EAWI,CAAC;AACDllC,6BAAK,YADJ;AAEDN,+BAAO,SAAS4V,UAAT,CAAoB6vB,IAApB,EAA0BC,IAA1B,EAAgC;AACnC,gCAAIplC,MAAM,KAAK,CAAf;AACA,gCAAIqlC,eAAe,EAAnB;AAAA,gCACIC,KAAKH,KAAKD,IADd;AAAA,gCAEIK,KAAKH,KAAKF,IAFd;AAGA,iCAAKllC,GAAL,IAAYslC,EAAZ,EAAgB;AACZ,oCAAI,CAAC,GAAG9kC,cAAH,CAAkB5B,IAAlB,CAAuB0mC,EAAvB,EAA2BtlC,GAA3B,CAAL,EAAsC;AAClC;AACH;AACD,oCAAIA,OAAOulC,EAAX,EAAe;AACX;AACH;AACDF,6CAAa3iC,IAAb,CAAkB1C,GAAlB;AACH;AACD,mCAAO,IAAIilC,UAAJ,CAAeI,YAAf,CAAP;AACH;AAjBA,qBAAD,CAXJ;;AA+BA,2BAAOJ,UAAP;AACH,iBAxCgB,EAAjB;;AA0CA,4CAA6BtkC,oBAAoB,SAApB,IAAkCskC,UAAlC;;AAE7B;AAAO;;AAEP,oBA/tCU,EAtFM;AAAhB;AAszCC,CAh0CD;AAi0CA,oC;;;;;;;;;;;;ACj0CA9mC,OAAOD,OAAP,GAAiB,UAASC,MAAT,EAAiB;AACjC,KAAI,CAACA,OAAOqnC,eAAZ,EAA6B;AAC5BrnC,SAAOsnC,SAAP,GAAmB,YAAW,CAAE,CAAhC;AACAtnC,SAAOunC,KAAP,GAAe,EAAf;AACA;AACA,MAAI,CAACvnC,OAAOikB,QAAZ,EAAsBjkB,OAAOikB,QAAP,GAAkB,EAAlB;AACtBjjB,SAAOC,cAAP,CAAsBjB,MAAtB,EAA8B,QAA9B,EAAwC;AACvCkB,eAAY,IAD2B;AAEvCC,QAAK,eAAW;AACf,WAAOnB,OAAOQ,CAAd;AACA;AAJsC,GAAxC;AAMAQ,SAAOC,cAAP,CAAsBjB,MAAtB,EAA8B,IAA9B,EAAoC;AACnCkB,eAAY,IADuB;AAEnCC,QAAK,eAAW;AACf,WAAOnB,OAAOO,CAAd;AACA;AAJkC,GAApC;AAMAP,SAAOqnC,eAAP,GAAyB,CAAzB;AACA;AACD,QAAOrnC,MAAP;AACA,CArBD,C;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAIA;;;AAGO,IAAMwnC,aAAa;AACtBC,OAAK,CADiB;AAEtBC,UAAQ,CAFc;AAGtBC,UAAQ;AAHc,CAAnB;;AAMP;;;AAGO,IAAMC,aAAa,OAAnB;;AAEP;;;AAGO,IAAMC,cAAc,QAApB;;AAEP;;;AAGO,IAAMC,SAAS,QAAf;;AAEN;;;AAGM,IAAMC,cAAc,YAApB;;AAEP;;;AAGO,IAAMC,iBAAiB,eAAvB;;AAEP;;;AAGO,IAAMC,oBAAoB,gBAA1B;;AAEP;;;AAGO,IAAMC,uBAAuB,mBAA7B;;AAEP;;;;AAIO,IAAMC,gBAAgB,qBAAtB;;AAEP;;;;AAIO,IAAMC,cAAc,mBAApB;;AAEP;;;;AAIO,IAAMC,oBAAoB,iBAA1B;;AAEP;;;;AAIO,IAAMC,qBAAqB,kBAA3B;;AAEP;;;;AAIO,IAAMC,oBAAoB,iBAA1B;;AAEP;;;;AAIO,IAAMC,uBAAuB,oBAA7B;;AAEP;;;AAGO,IAAMC,cAAc,OAApB;;AAEP;;;AAGO,IAAMC,gBAAgB,WAAtB;;AAEP;;;AAGO,IAAMC,iBAAiB,YAAvB;;AAEP;;;AAGO,IAAMC,eAAe,UAArB;;AAEP;;;AAGO,IAAMC,kBAAkB,aAAxB;;AAEP;;;AAGO,IAAMC,kBAAkB,aAAxB;;AAEP;;;AAGO,IAAMC,aAAa,cAAnB;;AAEP;;;AAGO,IAAMC,gBAAgB,iBAAtB;;AAEP;;;AAGO,IAAMC,gBAAgB,iBAAtB;;AAEP;;;AAGO,IAAMC,oBAAoB,iBAA1B;;AAEP;;;AAGO,IAAMC,uBAAuB,oBAA7B;;AAEP;;;AAGO,IAAMC,sBAAsB,mBAA5B;;AAEP;;;AAGO,IAAMC,mBAAmB,gBAAzB;;AAEP;;;AAGO,IAAMC,uBAAuB,oBAA7B;;AAEP;;;AAGO,IAAMC,aAAa,WAAnB;;AAEP;;;AAGO,IAAMC,cAAc,YAApB;;AAEP;;;AAGO,IAAMC,QAAQ,OAAd;;AAEP;;;AAGO,IAAMC,QAAQ,OAAd;;AAEP;;;AAGO,IAAMC,QAAQ,OAAd;;AAEP;;;AAGO,IAAMC,WAAW,UAAjB;;AAEP;;;AAGO,IAAMC,UAAU,SAAhB;;AAEP;;;AAGO,IAAMC,eAAe,cAArB;;AAEP;;;AAGO,IAAMC,cAAc,aAApB;;AAEP;;;AAGO,IAAMC,aAAa,WAAnB;;AAEP;;;AAGO,IAAMC,mBAAmB,gBAAzB;;AAEP;;;AAGO,IAAMC,mBAAmB,gBAAzB;;AAEP;;;AAGO,IAAMC,qBAAqB,kBAA3B;;AAEA,IAAMC,SAAS,QAAf;AACA,IAAMC,SAAS,QAAf;AACA,IAAMC,MAAM,KAAZ;AACA,IAAMC,MAAM,KAAZ;AACA,IAAMC,OAAO,MAAb;AACA,IAAMC,QAAQ,OAAd;AACA,IAAMC,SAAS,QAAf;AACA,IAAMC,SAAS,QAAf;AACA,IAAMC,QAAQ,OAAd;AACA,IAAMC,WAAW,SAAjB;AACA,IAAMC,YAAY,UAAlB;AACA,IAAMC,gBAAgB,WAAtB;AACA,IAAMC,aAAa,QAAnB;AACA,IAAM71B,OAAO,MAAb;AACA,IAAM81B,WAAW,SAAjB;AACA,IAAMC,WAAW,SAAjB;AACA,IAAMC,WAAW,SAAjB;AACA,IAAMC,cAAc,YAApB;AACA,IAAMC,UAAU,SAAhB;AACA,IAAMC,YAAY,WAAlB,C;;;;;;;;;;;;;;;;;;;AC9OP;AACA;;AAEA;;;;;;;AAOA;;;;;;IAKqBC,a;;AAEjB;;;;;;;;;;AAUA,2BAAavI,UAAb,EAAyBwI,WAAzB,EAAsCt8B,MAAtC,EAA8Cs0B,YAA9C,EAA4D;AAAA;;AACxD,aAAKrQ,OAAL,GAAe,EAAf;AACA,aAAKsY,YAAL,GAAoB,EAApB;AACA,aAAKC,SAAL,GAAiB,EAAjB;AACA;AACA;AACA,aAAKC,aAAL,GAAqBnI,YAArB;;AAEA,aAAKgI,WAAL,CAAiBA,WAAjB;AACA,aAAKxI,UAAL,CAAgBA,UAAhB;AACA,aAAK9zB,MAAL,CAAYA,MAAZ;AACH;;AAED;;;;;;;;oCAIa;AACT,mBAAO;AACHs8B,6BAAa,KAAKA,WAAL,EADV;AAEHt8B,wBAAQ,KAAKA,MAAL,EAFL;AAGH08B,0BAAU,KAAKA,QAAL;AAHP,aAAP;AAKH;;AAEA;;;;;;;;+BAKO18B,O,EAAQ;AACZ,gBAAIA,OAAJ,EAAY;AACR,qBAAKikB,OAAL,GAAe0Y,iEAAcA,CAAC,KAAK1Y,OAAL,IAAgB,EAA/B,EAAmCjkB,OAAnC,CAAf;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKikB,OAAZ;AACH;;AAED;;;;;;;;oCAKaqY,Y,EAAa;AACtB,gBAAIA,YAAJ,EAAiB;AACb,qBAAKC,YAAL,GAAoBI,iEAAcA,CAAC,KAAKJ,YAAL,IAAqB,EAApC,EAAwCD,YAAxC,CAApB;;AAEA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKC,YAAZ;AACH;;AAED;;;;;;;;iCAKUG,S,EAAU;AAChB,gBAAIA,SAAJ,EAAc;AACV,qBAAKF,SAAL,GAAiBI,qDAAUA,CAACC,OAAX,CAAmB,CAACxB,oDAAD,EAAMI,uDAAN,EAAcD,uDAAd,CAAnB,EAA0CkB,SAA1C,CAAjB;;AAEA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKF,SAAZ;AACH;;AAED;;;;;;;;kCAKWM,M,EAAQ;AACf,gBAAIA,MAAJ,EAAY;AACR,qBAAKC,UAAL,GAAkBD,MAAlB;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKC,UAAZ;AACH;;AAED;;;;;;;;qCAKcD,M,EAAQ;AAClB,gBAAIA,MAAJ,EAAY;AACR,qBAAKE,aAAL,GAAqBF,MAArB;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKE,aAAZ;AACH;;AAEF;;;;;;;;qCAKeF,M,EAAQ;AAClB,gBAAIA,MAAJ,EAAY;AACR,qBAAKG,aAAL,GAAqBH,MAArB;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKG,aAAZ;AACH;;AAED;;;;;;;;mCAKYnJ,W,EAAY;AACpB,gBAAIA,WAAJ,EAAgB;AACZ,qBAAKoJ,WAAL,GAAmBpJ,WAAnB;;AAEA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKoJ,WAAZ;AACH;;;;;;AAjIgBb,4E;;;;;;;;;;;;;;;;;;;;;;;ACfrB;;AAEA;;;;;;;AAOO,SAASc,oBAAT,CAA+BL,MAA/B,EAAuCj8B,IAAvC,EAA6C;AAChD,QAAIi8B,MAAJ,EAAY;AACR,eAAOA,OAAOM,eAAP,GAAyBv8B,IAAzB,CAAP;AACH;AACD,WAAO,CAAP;AACH;;AAED;;;;;;;AAOO,SAASw8B,oBAAT,CAA+BP,MAA/B,EAAuCj8B,IAAvC,EAA6CxO,KAA7C,EAAoD;AACvD,QAAIyqC,MAAJ,EAAY;AACR,YAAMQ,SAASR,OAAOM,eAAP,EAAf;AACA,YAAI/qC,SAASirC,OAAOz8B,IAAP,MAAiBxO,KAA9B,EAAqC;AACjCwO,qBAASq6B,uDAAT,GAAkB4B,OAAOS,iBAAP,CAAyBD,OAAOE,KAAhC,EAAuCnrC,KAAvC,CAAlB,GACIyqC,OAAOS,iBAAP,CAAyBlrC,KAAzB,EAAgCirC,OAAOG,MAAvC,CADJ;AAEH;AACJ;AACJ;;AAED,IAAMF,oBAAoB,SAApBA,iBAAoB,CAACT,MAAD,EAASY,MAAT,EAAiBC,OAAjB,EAA6B;AACnDb,WAAO3nC,OAAP,CAAe,UAACJ,GAAD,EAAM6oC,IAAN,EAAe;AAC1B7oC,YAAII,OAAJ,CAAY,UAAC0oC,WAAD,EAAcC,IAAd,EAAuB;AAC/BD,wBAAYN,iBAAZ,CAA8BG,OAAOI,IAAP,CAA9B,EAA4CH,QAAQC,IAAR,CAA5C;AACH,SAFD;AAGH,KAJD;AAKH,CAND;;AAQA,IAAMG,gBAAgB,SAAhBA,aAAgB,CAACC,MAAD,EAASC,WAAT,EAAsBC,UAAtB,EAAqC;AACvD,QAAIC,UAAUH,OAAOh+B,MAAP,GAAmBi+B,WAAnB,aAAd;AACA,QAAIC,WAAWpoC,MAAX,GAAoB,CAApB,GAAwBqoC,OAA5B,EAAqC;AACjCA,kBAAU,CAAV;AACAH,eAAOh+B,MAAP,qBAAoBi+B,WAApB,cAA2CE,OAA3C;AACH;AACD,WAAOA,OAAP;AACH,CAPD;;AASA;;;;;;;AAOO,IAAMC,4BAA4B,SAA5BA,yBAA4B,CAACJ,MAAD,EAAY;AAAA;;AACjD,QAAMK,YAAYL,OAAOK,SAAP,EAAlB;AACA,QAAMC,eAAeN,OAAOM,YAAP,EAArB;AACA,QAAMC,eAAeP,OAAOO,YAAP,EAArB;;AAHiD,8BAO7CP,OAAO1B,WAAP,EAP6C;AAAA,QAK7CkB,KAL6C,uBAK7CA,KAL6C;AAAA,QAM7CC,MAN6C,uBAM7CA,MAN6C;;AAAA,0BAU7CO,OAAOh+B,MAAP,EAV6C;AAAA,QAS7Cw+B,MAT6C,mBAS7CA,MAT6C;;AAWjD,QAAM9B,WAAWsB,OAAOtB,QAAP,EAAjB;AAXiD,QAa7CnE,GAb6C,GAe7CmE,QAf6C,CAa7CnE,GAb6C;AAAA,QAc7CE,MAd6C,GAe7CiE,QAf6C,CAc7CjE,MAd6C;;AAiBjD;;AACA,QAAMgG,iBAAiBtB,qBAAqBkB,SAArB,EAAgC5D,sDAAhC,CAAvB;AACA,QAAMiE,oBAAoBpwB,KAAK3D,GAAL,CAAS8zB,cAAT,EAAyBjB,QAAQ,CAAjC,CAA1B;;AAEA;AACA,QAAMmB,cAAcH,OAAOhB,KAA3B;;AAEA;AACA,QAAMoB,oBAAoBpB,QAAQkB,iBAAR,GAA4BC,WAAtD;;AAEA,QAAME,wBAAwBvwB,KAAK3D,GAAL,CAAS2zB,aAAalB,eAAb,GAA+BK,MAAxC,EAAgDA,SAAS,CAAzD,CAA9B;;AAEAa,iBAAaf,iBAAb,CAA+BqB,iBAA/B,EAAkDC,qBAAlD;AACA,QAAMC,kBAAkBR,aAAaS,iBAAb,EAAxB;;AAEAhB,kBAAcC,MAAd,EAAsB7C,uDAAtB,EAA8B2D,eAA9B;;AAEA;AACA,QAAME,kBAAkBF,gBAAgBd,OAAOh+B,MAAP,GAAgBi/B,aAAhC,CAAxB;;AAEA;AACA,QAAMC,qBAAqBF,gBAAgBvB,MAAhB,CAAuB0B,OAAvB,GAAiCH,gBAAgBvB,MAAhB,CAAuB2B,SAAnF;;AAEA;AACA,QAAMC,kBAAkB5B,SAASyB,kBAAjC;;AAEAb,cAAUd,iBAAV,CAA4BmB,iBAA5B,EAA+CW,eAA/C;AACA;AACA,QAAMC,oBAAoBjB,UAAUU,iBAAV,EAA1B;AACAhB,kBAAcC,MAAd,EAAsB5C,oDAAtB,EAA2BkE,iBAA3B;AACA,QAAMC,aAAa,YAAGhpC,MAAH,gCAAa+oC,kBAAkB7qC,GAAlB,CAAsB;AAAA,eAAKwK,EAAEsgC,UAAF,CAAaJ,OAAlB;AAAA,KAAtB,CAAb,EAAnB;AACA,QAAMK,mBAAmB,aAAGjpC,MAAH,iCAAa+oC,kBAAkB7qC,GAAlB,CAAsB;AAAA,eAAKwK,EAAEwgC,YAAF,CAAeN,OAApB;AAAA,KAAtB,CAAb,EAAzB;AACA,QAAMO,qBAAqB,aAAGnpC,MAAH,iCAAa+oC,kBAAkB7qC,GAAlB,CAAsB;AAAA,eAAKwK,EAAEwgC,YAAF,CAAeL,SAApB;AAAA,KAAtB,CAAb,EAA3B;AACA,QAAMO,uBAAuBrB,aAAaS,iBAAb,EAA7B;AACA;AACA,QAAMU,eAAe,aAAGlpC,MAAH,iCAAaopC,qBAAqBlrC,GAArB,CAAyB;AAAA,eAAKwK,EAAEwgC,YAAF,CAAeN,OAApB;AAAA,KAAzB,CAAb,EAArB;AACA,QAAMS,uBAAuBD,qBAAqB,CAArB,EAAwBJ,UAAxB,CAAmCJ,OAAhE;;AAEA,QAAMU,yBAAyB,aAAGtpC,MAAH,iCAAaopC,qBAAqBlrC,GAArB,CAAyB;AAAA,eAAKwK,EAAEsgC,UAAF,CAAaH,SAAlB;AAAA,KAAzB,CAAb,EAA/B;;AAEA;AACAb,iBAAappC,OAAb,CAAqB,UAAC2nC,MAAD,EAASc,IAAT,EAAkB;AACnCd,eAAO3nC,OAAP,CAAe,UAAC0oC,WAAD,EAAcC,IAAd,EAAuB;AAClCD,wBAAYN,iBAAZ,CAA8BkC,aAAa3B,IAAb,IAAqBa,WAAnD,EAAgEY,WAAW3B,IAAX,IAAmBe,WAAnF;AACH,SAFD;AAGH,KAJD;AAKApB,sBAAkBhF,IAAI,CAAJ,CAAlB,EAA0BiH,gBAA1B,EAA4CI,oBAA5C;AACArC,sBAAkBhF,IAAI,CAAJ,CAAlB,EAA0BmH,kBAA1B,EAA8CE,oBAA9C;AACArC,sBAAkB9E,OAAO,CAAP,CAAlB,EAA6B+G,gBAA7B,EAA+CK,sBAA/C;AACAtC,sBAAkB9E,OAAO,CAAP,CAAlB,EAA6BiH,kBAA7B,EAAiDG,sBAAjD;;AAEA,WAAO;AACHR,wCADG;AAEHZ,sCAFG;AAGHS,8CAHG;AAIHN;AAJG,KAAP;AAMH,CA1EM;;AA4EP;;;;;;;;AAQO,IAAMkB,kBAAkB,SAAlBA,eAAkB,CAAC9B,MAAD,EAAS+B,UAAT,EAAqBd,aAArB,EAAuC;AAClE,QAAMZ,YAAYL,OAAOK,SAAP,EAAlB;AACA,QAAMC,eAAeN,OAAOM,YAAP,EAArB;AACA,QAAMC,eAAeP,OAAOO,YAAP,EAArB;AACA,QAAM7B,WAAWsB,OAAOtB,QAAP,EAAjB;AACA,QAAMsD,cAAc3B,UAAU4B,mBAAV,EAApB;AACA,QAAMC,iBAAiB5B,aAAa2B,mBAAb,EAAvB;AACA,QAAME,uBAAuB;AACzBprC,aAAK,CADoB;AAEzBK,gBAAQ;AAFiB,KAA7B;;AAKA,SAAK,IAAI/D,IAAI0uC,aAAa,CAA1B,EAA6B1uC,KAAK,CAAlC,EAAqCA,GAArC,EAA0C;AACtC,YAAMyE,SAASwY,KAAKxD,GAAL,CAASk1B,YAAY3uC,CAAZ,EAAe+uC,aAAf,CAA6BtqC,MAAtC,EACXkqC,YAAY3uC,CAAZ,EAAegvC,eAAf,CAA+BvqC,MADpB,CAAf;AAEAqqC,6BAAqBprC,GAArB,IAA4Be,MAA5B;AACH;AACA;AACD,SAAK,IAAIzE,KAAI4tC,gBAAgB,CAA7B,EAAgC5tC,MAAK,CAArC,EAAwCA,IAAxC,EAA6C;AACzC,YAAMyrC,SAASoD,eAAe7uC,EAAf,CAAf;AADyC,YAEjC+uC,aAFiC,GAEEtD,MAFF,CAEjCsD,aAFiC;AAAA,YAElBC,eAFkB,GAEEvD,MAFF,CAElBuD,eAFkB;;AAGzC,YAAMvqC,UAASwY,KAAKxD,GAAL,CAASs1B,cAAc,CAAd,IAAmBA,cAAc,CAAd,EAAiBtqC,MAApC,GAA6C,CAAtD,EACXuqC,gBAAgB,CAAhB,IAAqBA,gBAAgB,CAAhB,EAAmBvqC,MAAxC,GAAiD,CADtC,CAAf;AAEAqqC,6BAAqB/qC,MAArB,IAA+BU,OAA/B;AACH;;AAED4mC,aAASnE,GAAT,CAAa,CAAb,IAAkB2H,eAAejB,aAAf,EAA8BmB,aAAhD;AACA1D,aAASjE,MAAT,CAAgB,CAAhB,IAAqByH,eAAejB,aAAf,EAA8BoB,eAAnD;;AAEA3D,aAASlE,MAAT,CAAgB,CAAhB,IAAqBwH,YAAYD,UAAZ,EAAwBK,aAA7C;AACA1D,aAASlE,MAAT,CAAgB,CAAhB,IAAqBwH,YAAYD,UAAZ,EAAwBM,eAA7C;;AAEA,QAAMC,eAAehyB,KAAKxD,GAAL,CAAS4xB,SAASlE,MAAT,CAAgB,CAAhB,EAAmB1iC,MAA5B,EAAoC4mC,SAASlE,MAAT,CAAgB,CAAhB,EAAmB1iC,MAAvD,CAArB;AACC;AACD,QAAMyqC,kBAAkBjyB,KAAKxD,GAAL,CAAS4xB,SAASnE,GAAT,CAAa,CAAb,EAAgB,CAAhB,IAAqBmE,SAASnE,GAAT,CAAa,CAAb,EAAgB,CAAhB,EAAmBziC,MAAxC,GAAiD,CAA1D,EAA6D4mC,SAASjE,MAAT,CAAgB,CAAhB,EAAmB,CAAnB,IAC7EiE,SAASjE,MAAT,CAAgB,CAAhB,EAAmB,CAAnB,EAAsB3iC,MADuD,GAC9C,CADf,CAAxB;AAEA4mC,aAASlE,MAAT,CAAgB,CAAhB,IAAqB+F,aAAanoC,KAAb,CAAmB+pC,qBAAqBprC,GAAxC,EAA6CorC,qBAAqBprC,GAArB,GAA2BurC,YAAxE,EAChB7rC,GADgB,CACZ;AAAA,eAAUqoC,OAAO1mC,KAAP,CAAa+pC,qBAAqB/qC,MAAlC,EAA0C+qC,qBAAqB/qC,MAArB,GAA8BmrC,eAAxE,CAAV;AAAA,KADY,CAArB;;AAGA,WAAO;AACH7D,0BADG;AAEH8D,kBAAUR,YAAYlqC,MAFnB;AAGH2qC,qBAAaP,eAAepqC;AAHzB,KAAP;AAKH,CA5CM;AA6CP;;;;;;AAMO,IAAM4qC,sBAAsB,SAAtBA,mBAAsB,CAAC1C,MAAD,EAAY;AAC3C,QAAMK,YAAYL,OAAOK,SAAP,EAAlB;AACA,QAAMC,eAAeN,OAAOM,YAAP,EAArB;;AAF2C,+BAMvCN,OAAO1B,WAAP,EANuC;AAAA,QAIvCkB,KAJuC,wBAIvCA,KAJuC;AAAA,QAKvCC,MALuC,wBAKvCA,MALuC;;AAAA,0BAUvCO,OAAOh+B,MAAP,EAVuC;AAAA,QAQvCi/B,aARuC,mBAQvCA,aARuC;AAAA,QASvCc,UATuC,mBASvCA,UATuC;;AAY3C,QAAMtB,iBAAiBJ,UAAUU,iBAAV,GAA8BgB,UAA9B,EAA0CvC,KAAjE;AAZ2C,QAa1BmD,SAb0B,GAaWlC,cAbX,CAanCU,OAbmC;AAAA,QAaJyB,UAbI,GAaWnC,cAbX,CAafW,SAbe;;;AAe3C,QAAMF,qBAAqBZ,aAAaS,iBAAb,GAAiCE,aAAjC,EAAgDxB,MAA3E;AAf2C,QAgB1BoD,SAhB0B,GAgBa3B,kBAhBb,CAgBnCC,OAhBmC;AAAA,QAgBJ2B,YAhBI,GAgBa5B,kBAhBb,CAgBfE,SAhBe;;;AAkB3C,QAAM2B,eAAetD,UAAUoD,YAAYC,YAAtB,CAArB;AACA,QAAME,cAAcxD,SAASmD,YAAYC,UAArB,CAApB;;AAEA,WAAO;AACHK,mBAAW,CAACN,SAAD,EAAYK,WAAZ,EAAyBJ,UAAzB,CADR;AAEHM,oBAAY,CAACL,SAAD,EAAYE,YAAZ,EAA0BD,YAA1B;AAFT,KAAP;AAIH,CAzBM,C;;;;;;;;;;;;;;;;;;;;;AChMP;;AAEA;;;;AAIO,IAAMK,4FACRC,uDADQ,gEAEJA,sDAFI,EAEe,OAFf,uCAGJA,sDAHI,EAGe,SAHf,uCAIJA,sDAJI,EAIe,CAJf,uCAKJA,yDALI,EAKkB,IALlB,uCAMJA,wDANI,EAMiB,CANjB,gEAQRA,4DARQ,EAQiB,EAAEnsC,MAAM,EAAR,EAAYV,SAAS,EAArB,EARjB,0CASR6sC,6DATQ,EASkB,EAAEnsC,MAAM,EAAR,EAAYV,SAAS,EAArB,EATlB,0CAUR6sC,2DAVQ,EAUgB,EAAEnsC,MAAM,EAAR,EAAYV,SAAS,EAArB,EAVhB,0CAWR6sC,kEAXQ,EAWuB,KAXvB,0CAYRA,qEAZQ,EAY0B,KAZ1B,0CAaRA,+DAbQ,EAaoB,CAbpB,0CAcRA,4DAdQ,EAciB,CAdjB,yBAAN;;AAiBP;;;;AAIO,IAAMC,2FACRD,2DADQ,EACgB,GADhB,0CAERA,4DAFQ,EAEiB,GAFjB,0CAGRA,2DAHQ,EAGgB,GAHhB,0CAIRA,4DAJQ,EAIiB,GAJjB,yBAAN;;AAOA,IAAME,gBAAgB,eAAtB,C;;;;;;;;;;;;AClCP;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;;AAEO,IAAMC,yBAAyB,SAAzBA,sBAAyB,CAACC,OAAD,EAAU9E,QAAV,EAAuB;AACzD;AACA,QAAI+E,aAAa,EAAjB;AACA,QAAIC,cAAc,EAAlB;AACA,QAAIC,YAAY,EAAhB;AACA,QAAIC,eAAe,EAAnB;AACA,QAAIC,oBAAJ;AACA,QAAIC,oBAAJ;;AAPyD,0BAgBrDN,QAAQxhC,MAAR,EAhBqD;AAAA,QASrD+hC,cATqD,mBASrDA,cATqD;AAAA,QAUrDC,iBAVqD,mBAUrDA,iBAVqD;AAAA,QAWrDC,WAXqD,mBAWrDA,WAXqD;AAAA,QAYrDC,YAZqD,mBAYrDA,YAZqD;AAAA,QAarD1D,MAbqD,mBAarDA,MAbqD;AAAA,QAcrD2D,SAdqD,mBAcrDA,SAdqD;AAAA,QAerDC,QAfqD,mBAerDA,QAfqD;;AAAA,+BAoBrDZ,QAAQlF,WAAR,EApBqD;AAAA,QAkBrD+F,aAlBqD,wBAkBrDA,aAlBqD;AAAA,QAmBrDC,YAnBqD,wBAmBrDA,YAnBqD;;AAAA,QAqBjD/J,GArBiD,GAqBzBmE,QArByB,CAqBjDnE,GArBiD;AAAA,QAqB5CC,MArB4C,GAqBzBkE,QArByB,CAqB5ClE,MArB4C;AAAA,QAqBpCC,MArBoC,GAqBzBiE,QArByB,CAqBpCjE,MArBoC;;AAAA,8BAsBjBF,GAtBiB;AAAA,QAsBlDgK,OAtBkD;AAAA,QAsBzCC,UAtByC;AAAA,QAsB7BC,QAtB6B;;AAAA,iCAuBdjK,MAvBc;AAAA,QAuBlDkK,QAvBkD;AAAA,QAuBxCC,WAvBwC;AAAA,QAuB3BC,SAvB2B;;AAAA,iCAwBRnK,MAxBQ;AAAA,QAwBlDoK,UAxBkD;AAAA,QAwBtCC,aAxBsC;AAAA,QAwBvBC,WAxBuB;;AA0BzD,QAAIL,SAAS5sC,MAAT,GAAkB,CAAtB,EAAyB;AACrB;AACA2rC,kDAAiBc,OAAjB,sBAA6BG,QAA7B,sBAA0CG,UAA1C;AACH;AACD,QAAID,UAAU9sC,MAAV,GAAmB,CAAvB,EAA0B;AACtB;AACA4rC,mDAAkBe,QAAlB,sBAA+BG,SAA/B,sBAA6CG,WAA7C;AACH;AACD,QAAIP,WAAW1sC,MAAX,GAAoB,CAApB,IAAyB0sC,WAAW,CAAX,EAAc1sC,MAAd,GAAuB,CAApD,EAAuD;AACnD;AACA6rC,oBAAYa,WAAW/tC,GAAX,CAAe,UAAC/C,CAAD,EAAIL,CAAJ;AAAA,gDAAckxC,QAAQlxC,CAAR,CAAd,sBAA6BK,CAA7B,sBAAmC+wC,SAASpxC,CAAT,CAAnC;AAAA,SAAf,CAAZ;AACH;AACD,QAAIyxC,cAAchtC,MAAd,GAAuB,CAAvB,IAA4BgtC,cAAc,CAAd,EAAiBhtC,MAAjB,GAA0B,CAA1D,EAA6D;AACzD;AACA8rC,uBAAekB,cAAcruC,GAAd,CAAkB,UAAC/C,CAAD,EAAIL,CAAJ;AAAA,gDAAcwxC,WAAWxxC,CAAX,CAAd,sBAAgCK,CAAhC,sBAAsCqxC,YAAY1xC,CAAZ,CAAtC;AAAA,SAAlB,CAAf;AACH;;AAEDmwC,YAAQnD,SAAR,CAAkB,IAAI2E,iEAAJ,CAAc,CAACvB,UAAD,EAAaC,WAAb,CAAd,EAAyC;AACvDuB,6BAAqBlB,cADkC;AAEvDG,sBAAcA,aAAajtC,IAF4B;AAGvDiuC,gBAAQjB,YAAYhtC,IAHmC;AAIvDkuC,sBAAc;AACV3F,mBAAO8E,YADG;AAEV7E,oBAAQ4E,aAFE;AAGV7D,oBAAQA,OAAOhB;AAHL,SAJyC;AASvD4E,kBAAUA,SAASrtC,GAToC;AAUvDotC,mBAAWA,UAAUltC,IAAV,CAAeR,GAAf,CAAmB;AAAA,mBAAKwK,IAAIqP,KAAKxD,GAAL,CAASy3B,QAAQzsC,MAAjB,EAAyB2sC,SAAS3sC,MAAlC,CAAT;AAAA,SAAnB,CAV4C;AAWvDstC,0BAAkB,CAACb,QAAQzsC,MAAT,EAAiB+sC,WAAW/sC,MAA5B;AAXqC,KAAzC,CAAlB;;AAcA,QAAIysC,QAAQzsC,MAAR,GAAiB,CAArB,EAAwB;AACpB+rC,sBAAcU,QAAQ,CAAR,EAAWzsC,MAAzB;AACH,KAFD,MAEO;AACH+rC,sBAAcgB,WAAW/sC,MAAX,GAAoB,CAApB,GAAwB+sC,WAAW,CAAX,EAAc/sC,MAAtC,GAA+C,CAA7D;AACH;;AAED,QAAI2sC,SAAS3sC,MAAT,GAAkB,CAAtB,EAAyB;AACrBgsC,sBAAcW,SAAS,CAAT,EAAY3sC,MAA1B;AACH,KAFD,MAEO;AACHgsC,sBAAciB,YAAYjtC,MAAZ,GAAqB,CAArB,GAAyBitC,YAAY,CAAZ,EAAejtC,MAAxC,GAAiD,CAA/D;AACH;;AAED0rC,YAAQlD,YAAR,CAAqB,IAAI+E,oEAAJ,CAAiB,CAAC1B,SAAD,EAAYC,YAAZ,CAAjB,EAA4C;AAC7DqB,6BAAqBjB,iBADwC;AAE7DE,sBAAcA,aAAa3tC,OAFkC;AAG7D2uC,gBAAQjB,YAAY1tC,OAHyC;AAI7D+uC,sBAAc,IAJ+C;AAK7DH,sBAAc;AACV3F,mBAAO8E,YADG;AAEV7E,oBAAQ4E,aAFE;AAGV7D,oBAAQA,OAAOhB;AAHL,SAL+C;AAU7D4E,kBAAUA,SAASmB,GAV0C;AAW7DpB,mBAAWA,UAAU5tC,OAXwC;AAY7D6uC,0BAAkB,CAACvB,WAAD,EAAcC,WAAd;AAZ2C,KAA5C,CAArB;AAcAN,YAAQjD,YAAR,CAAqBoE,WAArB;;AAEA,WAAOjG,QAAP;AACH,CAtFM,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHP;;;;;AAKA;AACA;AACA;AACA;AAGA;AACA;AACA;;;;;;;IAMqB8G,U;;;AAEjB;;;;;;;;AAQA,wBAAa9G,QAAb,EAAuB5I,UAAvB,EAAmCwI,WAAnC,EAAgDt8B,MAAhD,EAAwD;AAAA;;AAAA,4HAC9C8zB,UAD8C,EAClCwI,WADkC,EACrBt8B,MADqB;;AAEpD,cAAK08B,QAAL,CAAcA,QAAd;AACA,cAAK18B,MAAL,CAAY,MAAK9C,WAAL,CAAiBumC,aAAjB,EAAZ;AACA,cAAKC,SAAL,GAAiB3W,8DAAWA,EAA5B;AACA,cAAK4W,SAAL,GAAiB,MAAKzmC,WAAL,CAAiB0mC,eAAjB,EAAjB;AALoD;AAMvD;;;;;;AAkDD;;;;;;;iCAOUlH,S,EAAU;AAChB,gBAAIA,SAAJ,EAAc;AACV,qBAAKF,SAAL,GAAiB+E,6EAAsBA,CAAC,IAAvB,EAA6B7E,SAA7B,CAAjB;AACA,uBAAO,IAAP;AACH;AACD,oIAAsBA,SAAtB;AACH;;AAED;;;;;;;;;;wCAOiB;AACb0B,2FAAyBA,CAAC,IAA1B;AACA,iBAAKyF,kBAAL;AACA,mBAAO,IAAP;AACH;;;iCAEShjC,I,EAAMijC,U,EAAY;AACxB,gBAAMC,WAAWljC,KAAKwb,WAAL,EAAjB;;AADwB,6BAEK,KAAK2nB,QAAL,EAFL;AAAA,gBAEhBC,gBAFgB,cAEhBA,gBAFgB;;AAGxB,gBAAMC,aAAaD,iBAAoBF,QAApB,WAAnB;AACA,gBAAM5F,UAAU7vB,KAAK3D,GAAL,CAAS2D,KAAKxD,GAAL,CAAS,CAAT,EAAYg5B,UAAZ,CAAT,EAAkCI,UAAlC,CAAhB;AACA,iBAAKlkC,MAAL,qBACQ+jC,QADR,cAC4B5F,UAAU,CADtC;AAGA,iBAAK0F,kBAAL;AACA,iBAAKM,UAAL;AACA,mBAAO,IAAP;AACH;;;8BAEMtjC,I,EAAM;AAAA,6BACoB,KAAKmjC,QAAL,EADpB;AAAA,gBACDC,gBADC,cACDA,gBADC;;AAET,gBAAMF,WAAWljC,KAAKwb,WAAL,EAAjB;AACA,mBAAO;AACH6nB,4BAAYD,iBAAoBF,QAApB,WADT;AAEHK,6BAAa,KAAKpkC,MAAL,GAAiB+jC,QAAjB,gBAAsC;AAFhD,aAAP;AAIH;;;mCAEsB;AACnB,gBAAI,UAASjuC,MAAb,EAAqB;AACjB,qBAAK6tC,SAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,SAAZ;AACH;;AAED;;;;;;;;;6CAMsB;AAAA,2BAKd,KAAK3jC,MAAL,EALc;AAAA,gBAEd+/B,UAFc,YAEdA,UAFc;AAAA,gBAGdd,aAHc,YAGdA,aAHc;AAAA,gBAIdT,MAJc,YAIdA,MAJc;;AAMlB,gBAAMyF,mBAAmBnE,qEAAeA,CAAC,IAAhB,EAAsBC,UAAtB,EAAkCd,aAAlC,CAAzB;AACA,gBAAMoF,mBAAmB3D,yEAAmBA,CAAC,IAApB,CAAzB;AACA2D,6BAAiB7F,MAAjB,GAA0BA,MAA1B;AACA,iBAAKwF,QAAL,CAAc;AACVC,kDADU;AAEVI;AAFU,aAAd;AAIA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;mCAMYvQ,U,EAAY;AACpB,iBAAKA,UAAL,CAAgBA,UAAhB;AACA,gBAAI,CAAC,KAAKA,UAAL,EAAL,EAAwB;AACpB,uBAAO,IAAP;AACH;AACD,gBAAMkQ,WAAW,KAAKA,QAAL,EAAjB;AALoB,gBAOZC,gBAPY,GASZD,QATY,CAOZC,gBAPY;AAAA,gBAQZI,gBARY,GASZL,QATY,CAQZK,gBARY;AAUhB;;AACJC,4EAAcA,CAAC,IAAf,EAAqBL,iBAAiBvH,QAAtC,EAAgD2H,gBAAhD;AACA,mBAAO,IAAP;AACH;;;0CAnJyB;AACtB,mBAAOvyC,OAAO4H,MAAP,CAAc,EAAd,EAAkB;AACrB2qC,kCAAkB;AACd7F,4BAAQ,KAAKiF,aAAL,GAAqBjF,MADf;AAEd0C,gCAAY,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,CAFE;AAGdD,+BAAW,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP;AAHG,iBADG;AAMrBgD,kCAAkB;AACdxD,iCAAa,CADC;AAEdD,8BAAU,CAFI;AAGd9D,8BAAU,EAAEnE,KAAK,EAAP,EAAWC,QAAQ,EAAnB,EAAuBC,QAAQ,EAA/B;AAHI;AANG,aAAlB,CAAP;AAYH;;AAED;;;;;;;;;;6CAO6B;AACzB,mBAAO4I,8DAAP;AACH;;AAED;;;;;;;;;;wCAOwB;AACpB,mBAAOF,+DAAP;AACH;;AAED;;;;;;;;;;iCAOiB;AACb,mBAAO,IAAIqC,UAAJ,CAAe,IAAf,EAAqB,IAArB,EAA2B,KAAKe,kBAAL,EAA3B,EAAsD,KAAKd,aAAL,EAAtD,CAAP;AACH;;;;EAhEmCpH,uD;;AAAnBmH,yE;;;;;;;;;;;;ACnBrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAGA;;AAEA;;;;;;;;AAQA,SAASgB,WAAT,CAAsBjT,KAAtB,EAA6BkT,SAA7B,EAAwCC,OAAxC,EAAiD;AAC7C,QAAMC,QAAQC,8DAAWA,CAACrT,KAAZ,EAAmB,OAAnB,EAA4B,CAAC,QAAD,CAA5B,EAA2CkT,SAA3C,YAAd;AACA,QAAMI,OAAOD,8DAAWA,CAACD,KAAZ,EAAmB,OAAnB,EAA4B,CAAC,QAAD,CAA5B,EAA2CF,SAA3C,WAAb;AACA,QAAMxvC,OAAO2vC,8DAAWA,CAACC,IAAZ,EAAkB,IAAlB,EAAwBH,OAAxB,EAAoCD,SAApC,SAAb;AACA,QAAMK,QAAQF,8DAAWA,CAAC3vC,IAAZ,EAAkB,IAAlB,EAAwB,UAACvD,CAAD,EAAIL,CAAJ;AAAA,eAAUK,EAAE6hB,MAAF,CAAS;AAAA,mBAAKtU,MAAM,IAAN,IAAcA,EAAEe,MAAF,GAAW+kC,IAA9B;AAAA,SAAT,EAA6CtwC,GAA7C,CAAiD;AAAA,mBACpE,EAAEopC,aAAa5+B,CAAf,EAAkB+lC,UAAU3zC,CAA5B,EADoE;AAAA,SAAjD,CAAV;AAAA,KAAxB,EACqDozC,SADrD,UACqE,EADrE,EACyE;AAAA,eAAO9xC,IAAIkrC,WAAJ,CAAgBoH,EAAvB;AAAA,KADzE,CAAd;;AAGA,WAAO,EAAEN,YAAF,EAASE,UAAT,EAAe5vC,UAAf,EAAqB6vC,YAArB,EAAP;AACH;;AAED,SAASI,eAAT,CAA0BJ,KAA1B,EAAiCK,WAAjC,EAA8CC,WAA9C,EAA2DC,KAA3D,EAAkE;AAC9D,KAAChK,oDAAD,EAAMG,uDAAN,EAAcrmC,OAAd,CAAsB,UAACmwC,UAAD,EAAgB;AAClC,YAAMC,QAAWJ,WAAX,UAA0BC,YAAYE,UAAZ,IAA0BD,KAA1B,GAAkC/D,uDAA5D,CAAN;AACAwD,cAAMS,KAAN,aAAsBD,UAAtB,EAAoCC,KAApC;AACH,KAHD;AAIH;;AAED,SAASC,eAAT,CAA0BV,KAA1B,EAAiCK,WAAjC,EAA8CC,WAA9C,EAA2DC,KAA3D,EAAkE;AAC9D,KAAC/J,qDAAD,EAAOC,sDAAP,EAAcpmC,OAAd,CAAsB,UAACmwC,UAAD,EAAgB;AAClC,YAAMC,QAAWJ,WAAX,UAA0BC,YAAYE,UAAZ,IAA0BD,KAA1B,GAAkC/D,uDAA5D,CAAN;AACAwD,cAAMS,KAAN,aAAsBD,UAAtB,EAAoCC,KAApC;AACH,KAHD;AAIH;;AAED;;;;;;;;AAQA,SAASE,YAAT,CAAuBX,KAAvB,EAA8BtG,MAA9B,EAAsC39B,IAAtC,EAA4CkC,KAA5C,EAAmD;AAAA,QAE3Cy6B,KAF2C,GAQ3CgB,MAR2C,CAE3ChB,KAF2C;AAAA,QAG3C+H,KAH2C,GAQ3C/G,MAR2C,CAG3C+G,KAH2C;AAAA,QAI3CF,KAJ2C,GAQ3C7G,MAR2C,CAI3C6G,KAJ2C;AAAA,QAK3CK,cAL2C,GAQ3ClH,MAR2C,CAK3CkH,cAL2C;AAAA,QAM3CC,cAN2C,GAQ3CnH,MAR2C,CAM3CmH,cAN2C;AAAA,QAO3CC,gBAP2C,GAQ3CpH,MAR2C,CAO3CoH,gBAP2C;;AAS/C,QAAMT,cAAiB3H,KAAjB,WAA4B+H,KAAlC;;AAEA,QAAI1kC,SAAS46B,uDAAT,IAAmB14B,UAAU,CAAjC,EAAoC;AAChC,SAACs4B,oDAAD,EAAMG,uDAAN,EAAcF,qDAAd,EAAoBC,sDAApB,EAA2BpmC,OAA3B,CAAmC,UAACmwC,UAAD,EAAgB;AAC/CR,kBAAMS,KAAN,aAAsBD,UAAtB,EAAuCH,WAAvC,UAAsDS,iBAAiBN,UAAjB,IAClDD,KADkD,GAC1C/D,uDADZ;AAEH,SAHD;AAIH,KALD,MAKO,IAAIzgC,SAAS46B,uDAAb,EAAqB;AACxByJ,wBAAgBJ,KAAhB,EAAuBK,WAAvB,EAAoCO,cAApC,EAAoDL,KAApD;AACH,KAFM,MAEA,IAAItiC,UAAU,CAAd,EAAiB;AACpByiC,wBAAgBV,KAAhB,EAAuBK,WAAvB,EAAoCQ,cAApC,EAAoDN,KAApD;AACH;AACJ;;AAED;;;;;;;;AAQA,SAASQ,YAAT,CAAuBnJ,QAAvB,EAAiC5I,UAAjC,EAA6CjzB,IAA7C,EAAmDwe,UAAnD,EAA+DymB,WAA/D,EAA4E;AACxEpJ,aAASvnC,OAAT,CAAiB,UAAC2nC,MAAD,EAAS/5B,KAAT,EAAmB;AAChC;AACA,YAAMgjC,qBAAqBnB,8DAAWA,CAAC9Q,UAAZ,EAAwB,KAAxB,EAA+B,CAAC,CAAD,CAA/B,EAAuCgS,WAAvC,cAA2DjlC,IAA3D,UAAmEkC,QAAQ,CAA3E,GAC1BijC,OAD0B,CACfF,WADe,cACKjlC,IADL,EACa,IADb,EAE1BmlC,OAF0B,CAEfF,WAFe,YAEK,IAFL,CAA3B;;AAFgC,6BAS5BG,iEAAaA,CAACnJ,MAAd,EAAsBj8B,IAAtB,EAA4BkC,KAA5B,CAT4B;AAAA,YAO5BmjC,UAP4B,kBAO5BA,UAP4B;AAAA,YAQ5BC,KAR4B,kBAQ5BA,KAR4B;;AAWhC;;;AAXgC,2BAYd3B,YAAYuB,kBAAZ,EAAmCD,WAAnC,YAAuDI,UAAvD,CAZc;AAAA,YAYxBpB,KAZwB,gBAYxBA,KAZwB;;AAchC,YAAIjkC,SAAS46B,uDAAT,IAAmB0K,KAAvB,EAA8B;AAC1BrB,kBAAMsB,IAAN,CAAWrK,yDAAX,EAAqB,UAAUsK,IAAV,EAAgBC,QAAhB,EAA0B;AAC3C,oBAAMC,OAAOJ,MAAME,KAAKrB,QAAX,EAAqBsB,QAArB,CAAb;AACA,oBAAMzI,cAAcwI,KAAKxI,WAAzB;AACA2I,gFAAaA,CAAC,IAAd,EAAoBjB,KAApB,CAA0B,QAA1B,EAAuC1H,YAAY4I,WAAZ,KAA4BpnB,WAAWmf,MAAX,CAAkBhB,KAArF;AACA,oBAAI+I,OAAO,CAAX,EAAc;AACV1I,gCAAYN,iBAAZ,CAA8BM,YAAY6I,UAAZ,EAA9B,EAAwD7I,YAAY4I,WAAZ,KAA4BF,IAApF;AACH;AACD,uBAAOA,IAAP;AACH,aARD;AASH,SAVD,MAUO,IAAI,CAAC1lC,SAASw6B,oDAAT,IAAgBx6B,SAAS26B,uDAA1B,KAAqCz4B,UAAU,CAAnD,EAAsD;AACzD+hC,kBAAMsB,IAAN,CAAWpK,yDAAX,EAAqB,UAAUqK,IAAV,EAAgBC,QAAhB,EAA0B;AAC3C,oBAAMC,OAAOJ,MAAME,KAAKrB,QAAX,EAAqBsB,QAArB,CAAb;AACA,oBAAMzI,cAAcwI,KAAKxI,WAAzB;AACA,oBAAI0I,OAAO,CAAX,EAAc;AACV1I,gCAAYN,iBAAZ,CAA8BM,YAAY6I,UAAZ,KAA2BH,IAAzD,EAA+D1I,YAAY4I,WAAZ,EAA/D;AACH;AACDD,gFAAaA,CAAC,IAAd,EAAoBjB,KAApB,CAA0B,QAA1B,EAAuC1H,YAAY4I,WAAZ,EAAvC;AACA,uBAAOF,IAAP;AACH,aARD;AASH;AACD;AACAzB,cAAM6B,IAAN,CAAW,UAAUN,IAAV,EAAgB;AACvBA,iBAAKxI,WAAL,IAAoBwI,KAAKxI,WAAL,CAAiB+I,MAAjB,CAAwB,IAAxB,CAApB;AACH,SAFD,EAEGC,IAFH,GAEUF,IAFV,CAEe,UAACN,IAAD,EAAU;AACrBA,iBAAKxI,WAAL,IAAoBwI,KAAKxI,WAAL,CAAiBiJ,MAAjB,EAApB;AACH,SAJD;;AAMArB,qBAAaX,KAAb,EAAoBzlB,WAAWmf,MAA/B,EAAuC39B,IAAvC,EAA6CkC,KAA7C;AACH,KA3CD;AA4CH;;AAED;;;;;;;;AAQO,SAASuhC,cAAT,CAAyB9C,OAAzB,EAAkC9E,QAAlC,EAA4C2H,gBAA5C,EAA8D;AAAA,QAE7D9L,GAF6D,GAK7DmE,QAL6D,CAE7DnE,GAF6D;AAAA,QAG7DC,MAH6D,GAK7DkE,QAL6D,CAG7DlE,MAH6D;AAAA,QAI7DC,MAJ6D,GAK7DiE,QAL6D,CAI7DjE,MAJ6D;;AAAA,0BAQ7D+I,QAAQxhC,MAAR,EAR6D;AAAA,QAO7D8lC,WAP6D,mBAO7DA,WAP6D;;AAAA,+BAW7DtE,QAAQlF,WAAR,EAX6D;AAAA,QAU7DkB,KAV6D,wBAU7DA,KAV6D;;AAYjE,QAAMjM,QAAQiQ,QAAQ1N,UAAR,EAAd;;AAEA,QAAMr7B,OAAO,CACT,EAAEoI,MAAMw6B,oDAAR,EAAayB,QAAQvE,GAArB,EADS,EAET,EAAE13B,MAAM46B,uDAAR,EAAgBqB,QAAQtE,MAAxB,EAFS,EAGT,EAAE33B,MAAM26B,uDAAR,EAAgBsB,QAAQrE,MAAxB,EAHS,CAAb;AAKAmM,kEAAWA,CAACrT,KAAZ,EAAmB,KAAnB,EAA0B94B,IAA1B,EAAmCqtC,WAAnC,uBACiBa,IADjB,CACsB,UAAUj1C,CAAV,EAAaL,CAAb,EAAgB;AAClB,YAAM0D,MAAMyxC,gEAAaA,CAAC,IAAd,CAAZ;AACAzxC,YAAIixC,OAAJ,CAAeF,WAAf,yBAA8Cz0C,CAA9C,EAAmD,IAAnD;AACAw0C,qBAAan0C,EAAEorC,MAAf,EAAuB/nC,GAAvB,EAA4BrD,EAAEmP,IAA9B,EAAoCwjC,gBAApC,EAAsDyB,WAAtD;AACH,KALjB,EAMiBP,KANjB,CAMuB9K,sDANvB,EAMiCnsB,KAAKy4B,IAAL,CAAUvJ,KAAV,CANjC;AAOH,C;;;;;;;;;;;;;;;;;AC/JD;AACA;;;;;;;;;;;;AAYA,IAAMwJ,eAAe,SAAfA,YAAe,CAAChmC,OAAD,EAAUK,MAAV,EAAkBy7B,MAAlB,EAA0Bc,IAA1B,EAAgC/8B,IAAhC,EAAyC;AAC1D,QAAMomC,cAAcnK,OAAOc,OAAO,CAAd,CAApB;AACA,QAAMsJ,aAAapK,OAAOc,IAAP,CAAnB;;AAEA;AACA,QAAI/8B,SAAS86B,yDAAb,EAAuB;AACnB,YAAI,CAACsL,WAAL,EAAkB;AACd,mBAAOjmC,OAAP;AACH;AACD,YAAI3P,IAAI,CAAR;AACA,eAAMA,KAAKgQ,MAAX,EAAmBhQ,KAAK,CAAxB,EAA2B;AACvB,gBAAI61C,WAAW71C,CAAX,EAAcyhB,OAAd,OAA4Bm0B,YAAY51C,CAAZ,EAAeyhB,OAAf,EAAhC,EAA0D;AACtD;AACH;AACJ;AACD,eAAQzhB,IAAI,CAAJ,KAAUgQ,MAAX,GAAqB,IAArB,GAA4BL,OAAnC;AACH,KAXD,MAWO,IAAIH,SAAS+6B,0DAAb,EAAwB;AAC3B,YAAI,CAACqL,WAAD,IAAgB5lC,WAAW,CAA/B,EAAkC;AAC9B,mBAAOL,OAAP;AACH;AACD,YAAI7K,IAAIkL,MAAR;AACA,eAAOlL,IAAI+wC,WAAWpxC,MAAtB,EAA8BK,KAAK,CAAnC,EAAsC;AAClC,gBAAI8wC,YAAY9wC,CAAZ,EAAe2c,OAAf,OAA6Bo0B,WAAW/wC,CAAX,EAAc2c,OAAd,EAAjC,EAA0D;AACtD;AACH;AACJ;AACD,eAAQ3c,MAAM+wC,WAAWpxC,MAAlB,GAA4B,IAA5B,GAAmCkL,OAA1C;AACH,KAXM,MAWA,IAAIH,SAASg7B,8DAAb,EAA4B;AAC/B,YAAI+B,SAAS,CAAb,EAAgB;AACZ,mBAAO58B,OAAP;AACH;AACD,YAAMmmC,WAAWD,WAAW7lC,SAAS,CAApB,CAAjB;AACA,YAAI8lC,QAAJ,EAAc;AACV,gBAAIA,SAASr0B,OAAT,OAAuB9R,QAAQ8R,OAAR,EAA3B,EAA8C;AAC1C,oBAAMs0B,UAAUtK,OAAOc,OAAO,CAAd,CAAhB;AACA,oBAAI,CAACwJ,OAAL,EAAc;AACV,2BAAO,IAAP;AACH;AACD,oBAAIA,QAAQ/lC,MAAR,EAAgByR,OAAhB,OAA8Bs0B,QAAQ/lC,SAAS,CAAjB,EAAoByR,OAApB,EAAlC,EAAiE;AAC7D,2BAAO,IAAP;AACH;AACD,uBAAO9R,OAAP;AACH;AACD,mBAAOA,OAAP;AACH;AACD,eAAOA,OAAP;AACH,KAnBM,MAmBA,IAAIH,SAASi7B,2DAAb,EAAyB;AAC5B,YAAI8B,SAASd,OAAOhnC,MAAP,GAAgB,CAAzB,IAA8BgnC,OAAOhnC,MAAP,GAAgB,CAAlD,EAAqD;AACjD,mBAAOkL,OAAP;AACH;AACD,YAAMmmC,YAAWD,WAAW7lC,SAAS,CAApB,CAAjB;AACA,YAAI8lC,aAAaA,UAASr0B,OAAT,OAAuB9R,QAAQ8R,OAAR,EAAxC,EAA4D;AACxD,gBAAMu0B,UAAUvK,OAAOc,OAAO,CAAd,CAAhB;AACA,gBAAIyJ,OAAJ,EAAa;AACT,oBAAIA,QAAQhmC,MAAR,EAAgByR,OAAhB,OAA8Bu0B,QAAQhmC,SAAS,CAAjB,EAAoByR,OAApB,EAAlC,EAAiE;AAC7D,2BAAO,IAAP;AACH;AACD,uBAAO9R,OAAP;AACH;AACD,mBAAO,IAAP;AACH;AACD,eAAOA,OAAP;AACH;AACD,WAAOA,OAAP;AACH,CAhED;;AAkEA;;;;;;;;;;;AAWA,IAAMsmC,cAAc,SAAdA,WAAc,CAACtmC,OAAD,EAAUK,MAAV,EAAkBy7B,MAAlB,EAA0Bc,IAA1B,EAAmC;AACnD,QAAInf,QAAQ,CAAZ;AACA;AACA;AACA,QAAI,CAACzd,OAAD,IAAY,OAAOA,QAAQ8R,OAAR,EAAP,KAA6B,QAA7C,EAAuD;AACnD,eAAO,CAAP;AACH;AACD,QAAIy0B,SAAS,KAAb;AACA,WAAO,CAACA,MAAR,EAAgB;AACZ,YAAIzK,OAAOc,OAAOnf,KAAd,KAAwBqe,OAAOc,OAAOnf,KAAd,EAAqBpd,MAArB,MAAiC,IAA7D,EAAmE;AAC/Dod,qBAAS,CAAT;AACH,SAFD,MAEO;AACH8oB,qBAAS,IAAT;AACH;AACJ;AACD,WAAO9oB,KAAP;AACH,CAhBD;AAiBA;;;;;;;;;;;AAWA,IAAM+oB,cAAc,SAAdA,WAAc,CAACxmC,OAAD,EAAUK,MAAV,EAAkBy7B,MAAlB,EAA0Bc,IAA1B,EAAmC;AACnD,QAAInf,QAAQ,CAAZ;AACA;AACA;AACA,QAAI,CAACzd,OAAD,IAAY,OAAOA,QAAQ8R,OAAR,EAAP,KAA6B,QAA7C,EAAuD;AACnD,eAAO,CAAP;AACH;AACD,QAAIy0B,SAAS,KAAb;AACA,WAAO,CAACA,MAAR,EAAgB;AACZ,YAAIzK,OAAOc,IAAP,EAAav8B,SAASod,KAAtB,MAAiC,IAArC,EAA2C;AACvCA,qBAAS,CAAT;AACH,SAFD,MAEO;AACH8oB,qBAAS,IAAT;AACH;AACJ;AACD,WAAO9oB,KAAP;AACH,CAhBD;;AAkBA;AACA;AACA,IAAMgpB,OAAO,SAAPA,IAAO,CAAU3K,MAAV,EAAkBj8B,IAAlB,EAAwB;AACjC,WAAOi8B,OAAOroC,GAAP,CAAW,UAACM,GAAD,EAAM6oC,IAAN,EAAe;AAC7B,YAAI/8B,SAAS86B,yDAAT,IAAqB96B,SAAS+6B,0DAAlC,EAA6C;AACzC,gBAAM8L,eAAc3yC,IAAIN,GAAJ,CAAQ,UAAC8uC,GAAD,EAAM+C,QAAN;AAAA,uBAAmBU,aAAazD,GAAb,EAAkB+C,QAAlB,EAA4BxJ,MAA5B,EAAoCc,IAApC,EAA0C/8B,IAA1C,CAAnB;AAAA,aAAR,CAApB;AACA,gBAAM8mC,QAAO,EAAb;AACA,gBAAMpa,OAAOx4B,IAAIe,MAAJ,GAAa4xC,aAAY5xC,MAAtC;AACA,iBAAK,IAAIzE,IAAI,CAAb,EAAgBA,IAAIk8B,IAApB,EAA0Bl8B,KAAK,CAA/B,EAAkC;AAC9Bs2C,sBAAKtyC,IAAL,CAAU,IAAV;AACH;AACD,gBAAIwL,SAAS+6B,0DAAb,EAAwB;AACpB+L,sBAAK9vB,OAAL,iCAAgB6vB,YAAhB;AACA,uBAAOC,KAAP;AACH;AACDA,kBAAKtyC,IAAL,iCAAaqyC,YAAb;AACA,mBAAOC,KAAP;AACH;;AAED,YAAMD,cAAc3yC,IAAIN,GAAJ,CAAQ,UAAC8uC,GAAD,EAAM+C,QAAN;AAAA,mBAAmBU,aAAazD,GAAb,EAAkB+C,QAAlB,EAA4BxJ,MAA5B,EAAoCc,IAApC,EAA0C/8B,IAA1C,CAAnB;AAAA,SAAR,CAApB;AACA,YAAM8mC,OAAO,EAAb;AACAA,aAAKtyC,IAAL,gCAAaqyC,WAAb;AACA,eAAOC,IAAP;AACH,KApBM,CAAP;AAqBH,CAtBD;;AAwBA;;;;;;;;;;AAUO,SAAS1B,aAAT,CAAwBnJ,MAAxB,EAAgCj8B,IAAhC,EAAsCkC,KAAtC,EAA6C;AAChD,QAAIwjC,OAAO,EAAX;AACA,QAAI1lC,SAASw6B,oDAAT,IAAgBx6B,SAAS26B,uDAA7B,EAAqC;AACjC+K,eAAO1lC,SAASw6B,oDAAT,GAAeS,2DAAf,GAA4BD,8DAAnC;AACA,YAAMqK,aAAauB,KAAK3K,MAAL,EAAayJ,IAAb,CAAnB;AACA,YAAMJ,QAAQD,WAAWzxC,GAAX,CAAe,UAACM,GAAD,EAAM6yC,IAAN;AAAA,mBAAe7yC,IAAIN,GAAJ,CAAQ,UAAC8uC,GAAD,EAAMlyC,CAAN;AAAA,uBAAYm2C,YAAYjE,GAAZ,EAAiBlyC,CAAjB,EAAoB60C,UAApB,EAAgC0B,IAAhC,CAAZ;AAAA,aAAR,EAC3Br0B,MAD2B,CACpB;AAAA,uBAAOgwB,QAAQ,CAAf;AAAA,aADoB,CAAf;AAAA,SAAf,CAAd;AAEA,eAAO,EAAE2C,sBAAF,EAAcC,YAAd,EAAP;AACH,KAND,MAMO,IAAIpjC,UAAU,CAAV,IAAeA,UAAU,CAA7B,EAAgC;AACnCwjC,eAAOxjC,UAAU,CAAV,GAAc44B,yDAAd,GAAyBC,0DAAhC;AACA,YAAMsK,cAAauB,KAAK3K,MAAL,EAAayJ,IAAb,CAAnB;AACA,YAAMJ,SAAQ,EAAd;AACAD,oBAAW/wC,OAAX,CAAmB,UAACJ,GAAD,EAAM6yC,IAAN,EAAe;AAC9BzB,mBAAMyB,IAAN,IAAczB,OAAMyB,IAAN,KAAe,EAA7B;AACA7yC,gBAAII,OAAJ,CAAY,UAACouC,GAAD,EAAMlyC,CAAN,EAAY;AACpB,oBAAI60C,YAAW0B,IAAX,EAAiBv2C,CAAjB,CAAJ,EAAyB;AACrB,wBAAMw2C,WAAWP,YAAY/D,GAAZ,EAAiBlyC,CAAjB,EAAoB60C,WAApB,EAAgC0B,IAAhC,CAAjB;AACAC,gCAAY1B,OAAMyB,IAAN,EAAYvyC,IAAZ,CAAiBwyC,QAAjB,CAAZ;AACH;AACJ,aALD;AAMH,SARD;AASA,eAAO,EAAE3B,uBAAF,EAAcC,aAAd,EAAP;AACH;AACD,WAAO,EAAED,YAAYpJ,MAAd,EAAP;AACH,C;;;;;;;;;;;;ACpMD;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;;AAGA;AACA;;AAEA,IAAMgL,OAAOC,kDAAOA,CAACD,IAArB;AACA;;;;;;AAMA,IAAME,iBAAiB,SAAjBA,cAAiB,CAAC1E,YAAD,EAAkB;AACrC,QAAIA,YAAJ,EAAkB;AACd,eAAO;AACH2E,0BAAc/M,uDADX;AAEHgN,2BAAezN,sDAAKA;AAFjB,SAAP;AAIH;AACD,WAAO;AACHwN,sBAAcxN,sDADX;AAEHyN,uBAAehN,uDAAMA;AAFlB,KAAP;AAIH,CAXD;;AAaA;;;;;;;AAOA,IAAMiN,aAAa,SAAbA,UAAa,CAAC92C,CAAD,EAAI+2C,IAAJ,EAAa;AAC5B,QAAI3pB,QAAQ,CAAZ;AACA,SAAK,IAAMN,CAAX,IAAgBiqB,IAAhB,EAAsB;AAClB,YAAI/2C,IAAI+2C,KAAKjqB,CAAL,CAAR,EAAiB;AACbM,oBAAQN,CAAR;AACA;AACH;AACJ;AACD,WAAOM,KAAP;AACH,CATD;;AAWA;;;;;;;AAOO,IAAM4pB,kBAAkB,SAAlBA,eAAkB,CAACvL,MAAD,EAAS98B,MAAT,EAAoB;AAAA,QACvCsjC,YADuC,GACtBtjC,MADsB,CACvCsjC,YADuC;;AAE/C,QAAIgF,eAAexL,OAAO,CAAP,EAAUhnC,MAAV,GAAmB,CAAnB,GAAuBgnC,OAAO,CAAP,CAAvB,GAAmCA,OAAO,CAAP,CAAtD;AACA,QAAIwG,YAAJ,EAAkB;AACdgF,uBAAexL,OAAO,CAAP,EAAUhnC,MAAV,GAAmB,CAAnB,gCAA2BgnC,OAAO,CAAP,CAA3B,KAAwC,EAAvD;AACAwL,uBAAexL,OAAO,CAAP,EAAUhnC,MAAV,GAAmB,CAAnB,gCAA2BwyC,YAA3B,sBAA4CxL,OAAO,CAAP,CAA5C,KAAyDwL,YAAxE;AACH,KAHD,MAGO;AACHA,uBAAeA,aAAa7zC,GAAb,CAAiB,UAACM,GAAD,EAAMiwC,QAAN,EAAmB;AAC/C,gBAAIN,UAAU,EAAd;AACA,gBAAI5H,OAAO,CAAP,EAAUhnC,MAAV,GAAmB,CAAvB,EAA0B;AACtB4uC,uDAAc5H,OAAO,CAAP,EAAUkI,QAAV,CAAd;AACH;AACD,gBAAIlI,OAAO,CAAP,EAAUhnC,MAAV,GAAmB,CAAvB,EAA0B;AACtB4uC,uDAAcA,OAAd,sBAA0B5H,OAAO,CAAP,EAAUkI,QAAV,CAA1B;AACH;AACD,mBAAON,OAAP;AACH,SATc,CAAf;AAUH;AACD,WAAO4D,YAAP;AACH,CAnBM;;AAqBP;;;;;;AAMO,IAAMC,aAAa,SAAbA,UAAa,CAAC/G,OAAD,EAAa;AACnC,QAAIgH,aAAa,EAAjB;AACA,QAAIC,eAAe,CAAnB;AACA,QAAIC,QAAQvM,wDAAZ;AACA,QAAMwM,SAASb,MAAf;AACA,QAAMvtC,OAAO,EAAb;AACA,QAAMquC,eAAepH,QAAQqH,aAA7B;AACA,QAAMzI,gBAAgBoB,QAAQpB,aAAR,EAAtB;AACA,QAAMC,kBAAkBmB,QAAQnB,eAAR,EAAxB;;AARmC,0BASCmB,QAAQxhC,MAAR,EATD;AAAA,QAS3BsjC,YAT2B,mBAS3BA,YAT2B;AAAA,QASbnB,SATa,mBASbA,SATa;;AAWnC,QAAI,CAACmB,YAAL,EAAmB;AACf,YAAIlD,cAActqC,MAAd,KAAyB,CAA7B,EAAgC;AAC5B4yC,oBAAQvM,wDAAR;AACH,SAFD,MAEO,IAAIkE,gBAAgBvqC,MAAhB,KAA2B,CAA/B,EAAkC;AACrC4yC,oBAAQtM,0DAAR;AACH,SAFM,MAEA;AACHsM,oBAAQtI,cAActqC,MAAd,IAAwBuqC,gBAAgBvqC,MAAxC,GAAiDqmC,wDAAjD,GAA2DC,0DAAnE;AACH;AACD,YAAIgE,cAActqC,MAAd,GAAuB,CAA3B,EAA8B;AAC1B,iBAAK,IAAIzE,IAAI,CAAb,EAAgBA,IAAI+uC,cAAc,CAAd,EAAiBtqC,MAAjB,GAA0B,CAA9C,EAAiDzE,GAAjD,EAAsD;AAClDkJ,qBAAKlF,IAAL,CAAUhE,CAAV;AACH;AACDkJ,iBAAKlF,IAAL,CAAU+qC,cAAc,CAAd,EAAiBtqC,MAAjB,GAA0B,CAApC;AACA,gBAAI4yC,UAAUtM,0DAAV,IAAuBiE,gBAAgBvqC,MAAhB,KAA2B,CAAtD,EAAyD;AACrD2yC,+BAAerI,cAAc,CAAd,EAAiBtqC,MAAjB,GAA0B,CAAzC;AACH;AACJ;AACD,YAAIuqC,gBAAgBvqC,MAAhB,GAAyB,CAA7B,EAAgC;AAC5B,gBAAMgzC,YAAY1I,cAActqC,MAAd,GAAuB,CAAvB,GAA2BsqC,cAAc,CAAd,EAAiBtqC,MAA5C,GAAqD,CAAvE;AACA,iBAAK,IAAIzE,KAAIgvC,gBAAgB,CAAhB,EAAmBvqC,MAAnB,GAA4B,CAAzC,EAA4CzE,KAAI,CAAhD,EAAmDA,IAAnD,EAAwD;AACpDkJ,qBAAKlF,IAAL,CAAUhE,KAAIy3C,SAAd;AACH;AACDvuC,iBAAKlF,IAAL,CAAUyzC,SAAV;;AAEA,gBAAIJ,UAAUvM,wDAAd,EAAuB;AACnBsM,+BAAeK,SAAf;AACH;AACJ,SAVD,MAUO;AACHL,2BAAerI,cAActqC,MAAd,GAAuB,CAAvB,GAA2BsqC,cAAc,CAAd,EAAiBtqC,MAAjB,GAA0B,CAArD,GAAyD,CAAxE;AACH;AACDyE,aAAKpF,OAAL,CAAa,UAACxC,GAAD,EAAS;AAClB,gBAAIo2C,UAAU,CAAC,CAAf;AACA,mBAAOJ,OAAOh2C,GAAP,CAAW,UAACjB,CAAD,EAAO;AACrBq3C;AACA,uBAAUr3C,EAAEiB,GAAF,EAAOmgB,OAAP,EAAV,SAA8Bq1B,WAAWY,OAAX,EAAoB5G,SAApB,CAA9B;AACH,aAHM,CAAP;AAIH,SAND;AAOAqG,qBAAaG,OAAOrpB,OAAP,CAAespB,YAAf,CAAb;AACH,KAtCD,MAsCO;AACH,YAAIxI,cAActqC,MAAd,KAAyB,CAA7B,EAAgC;AAC5B4yC,oBAAQvM,wDAAR;AACH,SAFD,MAEO,IAAIkE,gBAAgBvqC,MAAhB,KAA2B,CAA/B,EAAkC;AACrC4yC,oBAAQtM,0DAAR;AACH,SAFM,MAEA;AACHsM,oBAAQtI,cAActqC,MAAd,IAAwBuqC,gBAAgBvqC,MAAxC,GAAiDqmC,wDAAjD,GAA2DC,0DAAnE;AACH;AACD,YAAIgE,cAActqC,MAAd,GAAuB,CAA3B,EAA8B;AAC1B,iBAAK,IAAIzE,MAAI,CAAb,EAAgBA,MAAI+uC,cAActqC,MAAd,GAAuB,CAA3C,EAA8CzE,KAA9C,EAAmD;AAC/CkJ,qBAAKlF,IAAL,CAAUhE,GAAV;AACH;AACD;AACAkJ,iBAAKlF,IAAL,CAAU+qC,cAActqC,MAAd,GAAuB,CAAjC;AACA;AACA,gBAAI4yC,UAAUtM,0DAAd,EAAyB;AACrBqM,+BAAerI,cAActqC,MAAd,GAAuB,CAAtC;AACH;AACJ;AACD,YAAIuqC,gBAAgBvqC,MAAhB,GAAyB,CAA7B,EAAgC;AAC5B,gBAAMkzC,sBAAsB5I,cAActqC,MAA1C;AACA,iBAAK,IAAIzE,MAAIgvC,gBAAgBvqC,MAAhB,GAAyB,CAAtC,EAAyCzE,MAAI,CAA7C,EAAgDA,KAAhD,EAAqD;AACjDkJ,qBAAKlF,IAAL,CAAUhE,MAAI23C,mBAAd;AACH;AACD;AACAzuC,iBAAKlF,IAAL,CAAU2zC,mBAAV;AACA;AACA,gBAAIN,UAAUvM,wDAAd,EAAuB;AACnBsM,+BAAeO,mBAAf;AACH;AACJ;AACDzuC,aAAKpF,OAAL,CAAa,UAACxC,GAAD,EAAS;AAClB,gBAAIo2C,UAAU,CAAC,CAAf;AACA,mBAAOJ,OAAOh2C,GAAP,CAAW,UAACjB,CAAD,EAAO;AACrBq3C;AACA,uBAAUr3C,EAAEiB,GAAF,EAAOmgB,OAAP,EAAV,SAA8Bq1B,WAAWY,OAAX,EAAoB5G,SAApB,CAA9B;AACH,aAHM,CAAP;AAIH,SAND;AAOA,YAAI8G,YAAY,EAAhB;AACAA,oBAAYL,aAAa,CAAb,EAAgBn0C,GAAhB,CAAoB,UAAC8uC,GAAD,EAAM+C,QAAN;AAAA,mBAAmBsC,aAAan0C,GAAb,CAAiB;AAAA,uBAAOM,IAAIuxC,QAAJ,CAAP;AAAA,aAAjB,CAAnB;AAAA,SAApB,CAAZ;AACAkC,qBAAaG,OAAOrpB,OAAP,CAAe2pB,SAAf,CAAb;AACH;AACD,WAAO,EAAEC,MAAMV,UAAR,EAAoBC,0BAApB,EAAP;AACH,CA5FM;;AA8FP;;;;;;;AAOO,IAAMU,iBAAiB,SAAjBA,cAAiB,CAAC7F,YAAD,EAAeH,YAAf,EAAgC;AAC1D,QAAI,CAACG,YAAL,EAAmB;AACf,eAAO;AACH7F,oBAAQ0F,aAAa1F,MADlB;AAEHD,mBAAO;AAFJ,SAAP;AAIH;AACD,WAAO;AACHC,gBAAQ,CADL;AAEHD,eAAO2F,aAAa3F;AAFjB,KAAP;AAIH,CAXM;;AAaP;;;;;;;;;AASO,IAAMJ,kBAAkB,SAAlBA,eAAkB,CAAC/iC,IAAD,EAAOmlB,QAAP,EAAiB4pB,WAAjB,EAAkD;AAAA;;AAAA,QAApBC,UAAoB,uEAAP,EAAO;AAAA,QACrEpB,YADqE,GACrCzoB,QADqC,CACrEyoB,YADqE;AAAA,QACvDC,aADuD,GACrC1oB,QADqC,CACvD0oB,aADuD;;AAE7E,QAAIoB,oBAAoB,CAAxB;AACA,QAAIC,qBAAqB,CAAzB;AACAlvC,SAAKkY,MAAL,CAAYpd,OAAZ,CAAoB,UAACq0C,UAAD,EAAgB;AAAA;;AAChC,YAAIC,WAAW,CAAf;AACA,YAAIC,WAAW,CAAf;AACAF,mBAAWr0C,OAAX,CAAmB,UAAC0oC,WAAD,EAAcyI,QAAd,EAA2B;AAC1CzI,wBAAYN,iBAAZ;AACA,gBAAMoM,QAAQ9L,YAAYT,eAAZ,EAAd;;AAEAsM,uBAAWp7B,KAAKxD,GAAL,CAAS4+B,QAAT,EAAmB,CAACC,MAAMzB,aAAN,CAApB,EAA0CkB,YAAYlB,aAAZ,CAA1C,CAAX;AACAmB,uBAAW/C,QAAX,IAAuBh4B,KAAKxD,GAAL,CAASu+B,WAAW/C,QAAX,KAAwB,CAAjC,EAAoCqD,MAAM1B,YAAN,CAApC,CAAvB;AACAwB,wBAAY,CAACJ,WAAW/C,QAAX,CAAb;AACH,SAPD;AAQAiD,8BAAsBG,QAAtB;AACAJ,4BAAoBh7B,KAAKxD,GAAL,CAASw+B,iBAAT,EAA4BG,QAA5B,CAApB;AACApvC,aAAKsvC,KAAL,mDACKzB,aADL,EACqB55B,KAAKy4B,IAAL,CAAUwC,kBAAV,CADrB,gCAEKtB,YAFL,EAEoB35B,KAAKy4B,IAAL,CAAUuC,iBAAV,CAFpB;AAIH,KAjBD;AAkBA,4CACKpB,aADL,EACqBqB,kBADrB,yBAEKtB,YAFL,EAEoBqB,iBAFpB;AAIH,CA1BM;;AA4BP;;;;;;;;;AASO,IAAMM,sBAAsB,SAAtBA,mBAAsB,GAAoC;AAAA,QAAnCvvC,IAAmC,uEAA5B,EAA4B;AAAA,QAAxB2F,MAAwB;AAAA,QAAhB6pC,WAAgB;AAAA,+BACpB7pC,MADoB,CAC3DsjC,YAD2D;AAAA,QAC3DA,YAD2D,wCAC5C,KAD4C;AAAA,QACrCH,YADqC,GACpBnjC,MADoB,CACrCmjC,YADqC;;AAAA,0BAE3B6E,eAAe1E,YAAf,CAF2B;AAAA,QAE3D2E,YAF2D,mBAE3DA,YAF2D;AAAA,QAE7CC,aAF6C,mBAE7CA,aAF6C;;AAAA,QAG3D31B,MAH2D,GAGhDlY,IAHgD,CAG3DkY,MAH2D;;AAInE,QAAM62B,cAAcD,eAAe7F,YAAf,EAA6BH,YAA7B,CAApB;AACA,QAAI5wB,OAAO,CAAP,EAAU5f,GAAd,EAAmB;AAAA;;AACf,YAAMm3C,mEAAkB7B,YAAlB,EAAiC,CAAjC,kCAAqCC,aAArC,EAAqD,CAArD,iBAAN;;AAEA31B,eAAOpd,OAAP,CAAe,UAAC40C,SAAD,EAAe;AAC1B;AACA,gBAAMJ,QAAQC,oBAAoBG,SAApB,EAA+B/pC,MAA/B,EAAuC6pC,WAAvC,CAAd;AACA;AACAC,yBAAa7B,YAAb,IAA6B35B,KAAKxD,GAAL,CAASg/B,aAAa7B,YAAb,CAAT,EAAqC0B,MAAM1B,YAAN,CAArC,EACzBmB,YAAYnB,YAAZ,CADyB,CAA7B;AAEA;AACA6B,yBAAa5B,aAAb,KAA+B,CAACyB,MAAMzB,aAAN,CAAhC;AACH,SARD;AASA7tC,aAAKsvC,KAAL,GAAaG,YAAb;AACA,eAAOA,YAAP;AACH;AACD,WAAO1M,gBAAgB/iC,IAAhB,EAAsB,EAAE4tC,0BAAF,EAAgBC,4BAAhB,EAAtB,EAAuDkB,WAAvD,EAAoES,WAApE,CAAP;AACH,CArBM;;AAuBP;;;;;;AAMO,IAAMG,kBAAkB,SAAlBA,eAAkB,CAACj1C,GAAD,EAAS;AACpC,QAAI0oC,SAAS,CAAb;AACA,QAAID,QAAQ,CAAZ;AACAzoC,QAAII,OAAJ,CAAY,UAACouC,GAAD,EAAS;AACjB,YAAMjG,SAASiG,IAAInG,eAAJ,EAAf;AACAK,iBAASnvB,KAAKxD,GAAL,CAAS2yB,MAAT,EAAiBH,OAAOG,MAAxB,CAAT;AACAD,iBAASF,OAAOE,KAAhB;AACH,KAJD;AAKA,WAAO;AACHA,oBADG;AAEHC;AAFG,KAAP;AAIH,CAZM;;AAcP;;;;;;;AAOO,IAAMwM,qBAAqB,SAArBA,kBAAqB,CAACnN,MAAD,EAASwJ,QAAT,EAAsB;AACpD,QAAI7I,SAAS,CAAb;AACA,QAAID,QAAQ,CAAZ;AACAV,WAAO3nC,OAAP,CAAe,UAACJ,GAAD,EAAS;AACpB,YAAMwuC,MAAMxuC,IAAIuxC,QAAJ,CAAZ;AACA,YAAMhJ,SAASiG,IAAInG,eAAJ,EAAf;AACAI,gBAAQlvB,KAAKxD,GAAL,CAAS0yB,KAAT,EAAgBF,OAAOE,KAAvB,CAAR;AACAC,kBAAUH,OAAOG,MAAjB;AACH,KALD;AAMA,WAAO;AACHD,oBADG;AAEHC;AAFG,KAAP;AAIH,CAbM;;AAeP;;;;;;;AAOO,IAAMyM,wBAAwB,SAAxBA,qBAAwB,CAAC7vC,IAAD,EAAOipC,YAAP,EAAwB;AACzD,QAAIjpC,KAAKkY,MAAL,CAAY,CAAZ,EAAe5f,GAAnB,EAAwB;AACpB,YAAMwG,MAAM,EAAZ;AACAkB,aAAKkY,MAAL,CAAYpd,OAAZ,CAAoB,UAAC6e,KAAD,EAAW;AAC3B,gBAAI,CAACsvB,YAAL,EAAmB;AACfnqC,oBAAI9D,IAAJ,+BAAY60C,sBAAsBl2B,KAAtB,EAA6BsvB,YAA7B,CAAZ;AACH,aAFD,MAEO;AACH,oBAAM6G,YAAYD,sBAAsBl2B,KAAtB,EAA6BsvB,YAA7B,CAAlB;AACA6G,0BAAUh1C,OAAV,CAAkB,UAAC8J,CAAD,EAAI5N,CAAJ,EAAU;AAAA;;AACxB8H,wBAAI9H,CAAJ,IAAS8H,IAAI9H,CAAJ,KAAU,EAAnB;AACA,kCAAIA,CAAJ,GAAOgE,IAAP,kCAAe4J,CAAf;AACH,iBAHD;AAIH;AACJ,SAVD;AAWA5E,aAAKyiC,MAAL,GAAc3jC,GAAd;AACA,eAAOA,GAAP;AACH;AACD,QAAI,CAACmqC,YAAL,EAAmB;AACfjpC,aAAKyiC,MAAL,GAAcziC,KAAKkY,MAAnB;AACH,KAFD,MAEO;AACHlY,aAAKyiC,MAAL,GAAcziC,KAAKkY,MAAL,CAAY,CAAZ,EAAe9d,GAAf,CAAmB,UAAC8uC,GAAD,EAAM+C,QAAN;AAAA,mBAAmBjsC,KAAKkY,MAAL,CAAY9d,GAAZ,CAAgB;AAAA,uBAAOM,IAAIuxC,QAAJ,CAAP;AAAA,aAAhB,CAAnB;AAAA,SAAnB,CAAd;AACH;AACD,WAAOjsC,KAAKyiC,MAAZ;AACH,CAvBM;;AAyBP;;;;;;;;AAQO,IAAMsN,cAAc,SAAdA,WAAc,CAACtN,MAAD,EAASwG,YAAT,EAAuB+G,YAAvB,EAAwC;AAC/D,QAAMjK,gBAAgB,EAAtB;AACA,QAAMC,kBAAkB,EAAxB;AACA,QAAIiD,YAAJ,EAAkB;AACdxG,eAAO3nC,OAAP,CAAe,UAACJ,GAAD,EAAMiwC,QAAN,EAAmB;AAC9B,gBAAIA,YAAYqF,YAAhB,EAA8B;AAC1BhK,gCAAgBhrC,IAAhB,CAAqBN,GAArB;AACH,aAFD,MAEO;AACHqrC,8BAAc/qC,IAAd,CAAmBN,GAAnB;AACH;AACJ,SAND;AAOH,KARD,MAQO;AACH+nC,eAAO3nC,OAAP,CAAe,UAACJ,GAAD,EAAMiwC,QAAN,EAAmB;AAC9BjwC,gBAAII,OAAJ,CAAY,UAACC,MAAD,EAASk1C,WAAT,EAAyB;AACjC,oBAAIA,eAAeD,YAAnB,EAAiC;AAC7BhK,oCAAgB2E,QAAhB,IAA4B3E,gBAAgB2E,QAAhB,KAA6B,EAAzD;AACA3E,oCAAgB2E,QAAhB,EAA0B3vC,IAA1B,CAA+BD,MAA/B;AACH,iBAHD,MAGO;AACHgrC,kCAAc4E,QAAd,IAA0B5E,cAAc4E,QAAd,KAA2B,EAArD;AACA5E,kCAAc4E,QAAd,EAAwB3vC,IAAxB,CAA6BD,MAA7B;AACH;AACJ,aARD;AASH,SAVD;AAWH;AACD,WAAO,CAACgrC,aAAD,EAAgBC,eAAhB,CAAP;AACH,CAzBM;;AA2BP;;;;;;AAMO,IAAMkK,sBAAsB,SAAtBA,mBAAsB,CAAC/I,OAAD,EAAUgJ,YAAV,EAA2B;AAAA,QAEtDC,cAFsD,GAKtDjJ,OALsD,CAEtDiJ,cAFsD;AAAA,QAGtDjN,KAHsD,GAKtDgE,OALsD,CAGtDhE,KAHsD;AAAA,QAItDzoC,GAJsD,GAKtDysC,OALsD,CAItDzsC,GAJsD;AAAA,QAOtDkuC,mBAPsD,GAUtDuH,YAVsD,CAOtDvH,mBAPsD;AAAA,QAQtDK,YARsD,GAUtDkH,YAVsD,CAQtDlH,YARsD;AAAA,QAStDpB,YATsD,GAUtDsI,YAVsD,CAStDtI,YATsD;;AAW1D,QAAIwI,UAAU,CAAd;AACA,QAAIxI,gBAAgBA,aAAa,CAAb,CAApB,EAAqC;AACjCwI,kBAAUxI,aAAa9iC,MAAb,CAAoB,UAAC9M,CAAD,EAAIO,CAAJ,EAAU;AACpCP,iBAAKO,CAAL;AACA,mBAAOP,CAAP;AACH,SAHS,CAAV;AAIH;AACD,WAAOyC,IAAIN,GAAJ,CAAQ,UAAC8uC,GAAD,EAAM+C,QAAN,EAAmB;AAC9B,YAAMqD,QAAQpG,IAAInG,eAAJ,GAAsBI,KAApC;AACA,YAAImN,YAAahB,QAAQ,CAACc,iBAAiBjN,KAAlB,KAA4BmM,QAAQnM,KAApC,CAAzB;AACA,YAAI8F,YAAJ,EAAkB;AACd,gBAAIpB,aAAapsC,MAAb,GAAsB,CAA1B,EAA6B;AACzB60C,4BAAaF,iBAAiBvI,aAAaoE,QAAb,CAAjB,GAA0CoE,OAAvD;AACH,aAFD,MAEO,IAAIzH,uBAAuBzF,UAAU,CAArC,EAAwC;AAC3C,oBAAMoN,SAAS71C,IAAIe,MAAnB;AACA60C,4BAAaF,iBAAiBG,MAA9B;AACH;AACJ;AACD,eAAOt8B,KAAKuT,KAAL,CAAW8oB,SAAX,CAAP;AACH,KAZM,CAAP;AAaH,CA/BM;;AAiCP;;;;;;AAMO,IAAME,uBAAuB,SAAvBA,oBAAuB,CAACrJ,OAAD,EAAa;AAC7C,QAAIkJ,UAAU,CAAd;AACA,QAAII,YAAY,CAAhB;AACA,QAAIC,sBAAsB,CAA1B;AAH6C,QAKzCzH,YALyC,GAazC9B,OAbyC,CAKzC8B,YALyC;AAAA,QAMzCpB,YANyC,GAazCV,OAbyC,CAMzCU,YANyC;AAAA,QAOzC8I,eAPyC,GAazCxJ,OAbyC,CAOzCwJ,eAPyC;AAAA,QAQzCvN,MARyC,GAazC+D,OAbyC,CAQzC/D,MARyC;AAAA,QASzCwF,mBATyC,GAazCzB,OAbyC,CASzCyB,mBATyC;AAAA,QAUzCC,MAVyC,GAazC1B,OAbyC,CAUzC0B,MAVyC;AAAA,QAWzCpG,MAXyC,GAazC0E,OAbyC,CAWzC1E,MAXyC;AAAA,QAYzCgB,IAZyC,GAazC0D,OAbyC,CAYzC1D,IAZyC;;;AAe7C,QAAIoE,gBAAgBA,aAAa,CAAb,MAAoBnoC,SAAxC,EAAmD;AAC/C2wC,kBAAUxI,aAAa9iC,MAAb,CAAoB,UAAC9M,CAAD,EAAIO,CAAJ,EAAU;AACpCP,iBAAKO,CAAL;AACA,mBAAOP,CAAP;AACH,SAHS,CAAV;AAIH;AACD,QAAI4wC,UAAUA,OAAO,CAAP,MAAcnpC,SAA5B,EAAuC;AACnC+wC,oBAAY5H,OAAO9jC,MAAP,CAAc,UAAC9M,CAAD,EAAIO,CAAJ,EAAU;AAChCP,iBAAKO,CAAL;AACA,mBAAOP,CAAP;AACH,SAHW,CAAZ;AAIH;AACDy4C,0BAAsBC,kBAAkB18B,KAAKuT,KAAL,CAAWmpB,kBAAkBF,SAA7B,CAAxC;;AAEA,QAAMG,SAASnO,OAAOhnC,MAAtB;AACA,WAAOgnC,OAAOroC,GAAP,CAAW,UAACM,GAAD,EAAM6oC,IAAN,EAAe;AAC7B,YAAM2F,MAAMxuC,IAAI+oC,IAAJ,CAAZ;AACA,YAAM6L,QAAQpG,IAAInG,eAAJ,GAAsBK,MAApC;AACA,YAAIyN,aAAcvB,QAAQ,CAACoB,sBAAsBtN,MAAvB,KAAkCkM,QAAQlM,MAA1C,CAA1B;;AAEA,YAAI,CAAC6F,YAAL,EAAmB;AACf,gBAAIpB,aAAapsC,MAAb,GAAsB,CAAtB,IAA2Bm1C,WAAW/I,aAAapsC,MAAvD,EAA+D;AAC3Do1C,6BAAcH,sBAAsB7I,aAAatE,IAAb,CAAtB,GAA2C8M,OAAzD;AACH,aAFD,MAEO,IAAIzH,uBAAuBzB,QAAQ/D,MAAR,KAAmB,CAA9C,EAAiD;AACpDyN,6BAAcH,sBAAsBE,MAApC;AACH;AACJ;AACD,eAAO38B,KAAKuT,KAAL,CAAWqpB,UAAX,CAAP;AACH,KAbM,CAAP;AAcH,CA5CM;;AA8CP;;;;;;;AAOO,IAAMC,oBAAoB,SAApBA,iBAAoB,CAAChyC,GAAD,EAAMiyC,GAAN,EAAWxoB,GAAX;AAAA,WAAmBzpB,IAAI/C,KAAJ,CAAUg1C,GAAV,EAAe,CAACxoB,GAAhB,CAAnB;AAAA,CAA1B;;AAEP;;;;;;;;AAQO,IAAMyoB,wBAAwB,SAAxBA,qBAAwB,GAAyC;AAAA,QAAxClyC,GAAwC,uEAAlC,EAAkC;AAAA,QAA9BmyC,KAA8B;AAAA,QAAvBC,UAAuB;AAAA,QAAXvN,MAAW;;AAC1E,QAAMqM,eAAerM,OAAOwN,aAA5B;AACA,QAAMxrC,SAASg+B,OAAOh+B,MAAP,EAAf;AAF0E,QAItEsjC,YAJsE,GAKtEtjC,MALsE,CAItEsjC,YAJsE;AAAA,QAOtE4F,IAPsE,GAStEqC,UATsE,CAOtErC,IAPsE;AAAA,QAQtEN,YARsE,GAStE2C,UATsE,CAQtE3C,YARsE;;;AAW1E,QAAI0C,UAAU,CAAd,EAAiB;AACb,YAAMG,eAAerB,YAAYlB,KAAKpM,MAAjB,EAAyBwG,YAAzB,EAAuC+G,YAAvC,CAArB;AACAlxC,YAAI9D,IAAJ,CAAS;AACLynC,oBAAQoM,KAAKpM,MADR;AAELsD,2BAAeqL,aAAa,CAAb,CAFV;AAGLpL,6BAAiBoL,aAAa,CAAb,CAHZ;AAIL9B,mBAAOT,KAAKS;AAJP,SAAT;AAMA,eAAOxwC,GAAP;AACH;AACD,QAAMuyC,YAAYJ,QAAQ,CAA1B;AACApC,SAAK32B,MAAL,CAAYpd,OAAZ,CAAoB,UAAC8J,CAAD,EAAO;AACvBosC,8BAAsBlyC,GAAtB,EAA2BuyC,SAA3B,EAAsC;AAClCxC,kBAAMjqC,CAD4B;AAElC2pC;AAFkC,SAAtC,EAGG5K,MAHH;AAIH,KALD;AAMA,WAAO7kC,GAAP;AACH,CA7BM,C;;;;;;;;;;;;;;;;;;;;;;;;;AC9dP;AACA;AAOA;AACA;;AAEA;;;;;;IAKqBwyC,kB;;;AAEjB;;;;;;AAMA,gCAAa7O,MAAb,EAAkC;AAAA,YAAb98B,MAAa,uEAAJ,EAAI;;AAAA;;AAAA,4IACxB88B,MADwB,EAChB98B,MADgB;;AAG9B,cAAKwrC,aAAL,GAAqB1O,OAAO,CAAP,EAAUhnC,MAA/B;;AAEA;AACA,cAAK81C,KAAL,GAAa;AACTj5C,iBAAKupC,4DADI;AAET3pB,oBAAQ,MAAKg2B,UAAL;AAFC,SAAb;AAIA,cAAKsD,aAAL,GAAqB,MAAKjC,mBAAL,EAArB;AAV8B;AAWjC;;AAED;;;;;;;;;;8CAMuB;AACnB,gBAAMpB,aAAa,KAAKU,IAAL,EAAnB;AACAgB,gFAAqBA,CAAC1B,UAAtB,EAAkC,IAAlC;AACA,mBAAOoB,mEAAoBpB,UAApB,EAAgC,KAAKxoC,MAAL,EAAhC,EAA+C,KAAK6pC,WAAL,EAA/C,CAAP;AACH;;;8CAEsBrqB,Q,EAAU;AAAA;;AAAA,gBAEzBssB,UAFyB,GAMzBtsB,QANyB,CAEzBssB,UAFyB;AAAA,gBAGzBC,SAHyB,GAMzBvsB,QANyB,CAGzBusB,SAHyB;AAAA,gBAIzBtO,MAJyB,GAMzBje,QANyB,CAIzBie,MAJyB;AAAA,gBAKzBD,KALyB,GAMzBhe,QANyB,CAKzBge,KALyB;;;AAQ7B,mBAAO,KAAKwO,cAAL,CAAoBv3C,GAApB,CAAwB,UAACw3C,UAAD,EAAa56C,CAAb,EAAmB;AAC9C,oBAAM66C,iBAAiB,EAAED,sBAAF,EAAcF,oBAAd,EAAyBD,sBAAzB,EAAqCK,aAAa96C,CAAlD,EAAqDosC,cAArD,EAAvB;;AAD8C,yCAM1C,OAAK2O,iBAAL,CAAuBF,cAAvB,CAN0C;AAAA,oBAG1CvO,OAH0C,sBAG1CA,OAH0C;AAAA,oBAI1C4B,UAJ0C,sBAI1CA,UAJ0C;AAAA,oBAK1CE,YAL0C,sBAK1CA,YAL0C;;AAO9C,oBAAM4M,iBAAiB1O,OAAvB;AACA,oBAAM2O,iBAAiB,CAAC9O,KAAD,EAAQA,KAAR,CAAvB;;AAEA,uBAAO;AACH+B,gCAAY;AACRJ,iCAASI,WAAW,CAAX,CADD;AAERH,mCAAWG,WAAW,CAAX;AAFH,qBADT;AAKHE,kCAAc;AACVN,iCAASM,aAAa,CAAb,CADC;AAEVL,mCAAWK,aAAa,CAAb;AAFD,qBALX;AASHhC,4BAAQ;AACJ0B,iCAASkN,eAAe,CAAf,CADL;AAEJjN,mCAAWiN,eAAe,CAAf;AAFP,qBATL;AAaH7O,2BAAO;AACH2B,iCAASmN,eAAe,CAAf,CADN;AAEHlN,mCAAWkN,eAAe,CAAf;AAFR;AAbJ,iBAAP;AAkBH,aA5BM,CAAP;AA6BH;;AAED;;;;;;;;;2CAMoB;AAAA,0BAIZ,KAAKtsC,MAAL,EAJY;AAAA,gBAEZsjC,YAFY,WAEZA,YAFY;AAAA,gBAGZF,gBAHY,WAGZA,gBAHY;;AAKhB,gBAAMtG,SAAS,KAAK+L,aAApB;AACA,gBAAMK,OAAOvM,iEAAcA,CAAC,EAAf,EAAmB,KAAKuM,IAAL,EAAnB,CAAb;AACA,gBAAMqD,aAAanJ,iBAAiB,CAAjB,CAAnB;AACA,gBAAMoJ,aAAapJ,iBAAiB,CAAjB,KAAuBx4B,OAAOG,iBAAjD;AACA,gBAAM69B,eAAe,CAACtF,YAAD,GAAgB6H,gEAAiBA,CAACrO,MAAlB,EAA0ByP,UAA1B,EAAsCC,UAAtC,CAAhB,GACrB1P,OAAO1mC,KAAP,CAAa,CAAb,EAAgB3B,GAAhB,CAAoB;AAAA,uBAAK02C,gEAAiBA,CAAClsC,CAAlB,EAAqBstC,UAArB,EAAiCC,UAAjC,CAAL;AAAA,aAApB,CADA;;AAGAtD,iBAAK32B,MAAL,GAAc44B,gEAAiBA,CAACjC,KAAK32B,MAAvB,EAA+Bg6B,UAA/B,EAA2CC,UAA3C,CAAd;;AAEAtD,iBAAKpM,MAAL,GAAcoM,KAAKpM,MAAL,CAAYroC,GAAZ,CAAgB;AAAA,uBAAK02C,gEAAiBA,CAAClsC,CAAlB,EAAqBstC,UAArB,EAAiCC,UAAjC,CAAL;AAAA,aAAhB,CAAd;;AAEA,mBAAO;AACHtD,0BADG;AAEHN;AAFG,aAAP;AAIH;;;gDAEwBppB,Q,EAAU;AAAA,gBAE3Bie,MAF2B,GAI3Bje,QAJ2B,CAE3Bie,MAF2B;AAAA,gBAG3BqO,UAH2B,GAI3BtsB,QAJ2B,CAG3BssB,UAH2B;;AAK/B,gBAAIW,mBAAmBhP,MAAvB;AACA,gBAAIiP,aAAa,EAAjB;AACA,gBAAIC,aAAa,EAAjB;AACA,gBAAIC,UAAU,CAAd;AACA,gBAAMxK,WAAW,KAAKpiC,MAAL,GAAcoiC,QAA/B;AACA,gBAAM4G,sBAAsB,KAAK5I,aAAL,GAAqBtqC,MAAjD;;AAEA,gBAAIssC,aAAa,CAAjB,EAAoB;AAChBuK,6BAAa,CAAC3D,sBAAsB,CAAvB,EAA0BA,mBAA1B,CAAb;AACA4D,0BAAU,CAAV;AACH,aAHD,MAGO;AACHD,6BAAavK,aAAa,CAAb,GAAiB,CAAC4G,sBAAsB,CAAvB,CAAjB,GAA6C,CAACA,mBAAD,CAA1D;AACA4D,0BAAU,CAAV;AACH;AACDd,uBAAW32C,OAAX,CAAmB,UAAC8J,CAAD,EAAI5N,CAAJ,EAAU;AACzB,oBAAIs7C,WAAWptC,OAAX,CAAmBlO,CAAnB,MAA0B,CAAC,CAA/B,EAAkC;AAC9Bq7C,+BAAWr7C,CAAX,IAAgB4N,CAAhB;AACAwtC,wCAAoBxtC,CAApB;AACH;AACJ,aALD;AAMA,gBAAIwtC,mBAAmB,CAAvB,EAA0B;AACtBC,6BAAaA,WAAWj4C,GAAX,CAAe;AAAA,2BAAM,CAAN;AAAA,iBAAf,CAAb;AACH,aAFD,MAEO;AACHk4C,2BAAWx3C,OAAX,CAAmB,UAAC8J,CAAD,EAAO;AACtB,wBAAIwtC,mBAAmBG,OAAnB,GAA6Bd,WAAW7sC,CAAX,CAAjC,EAAgD;AAC5CytC,mCAAWztC,CAAX,IAAgB,CAAhB;AACH,qBAFD,MAEO;AACHytC,mCAAWztC,CAAX,IAAgBqP,KAAK3D,GAAL,CAASmhC,WAAW7sC,CAAX,CAAT,EAAyBwtC,gBAAD,GAAqBG,OAA7C,CAAhB;AACH;AACJ,iBAND;AAOH;AACD,mBAAOF,UAAP;AACH;;AAED;;;;;;;;;;;uCAQgBG,a,EAAe;AAC3B,gBAAI12C,UAAJ;;AAD2B,kCAET,KAAK22C,cAAL,EAFS;AAAA,gBAEnBtP,KAFmB,mBAEnBA,KAFmB;;AAI3B,iBAAKrnC,IAAI,CAAT,EAAYA,IAAI02C,cAAc/2C,MAA9B,EAAsCK,GAAtC,EAA2C;AACvC,oBAAI02C,cAAc12C,CAAd,KAAoBqnC,KAAxB,EAA+B;AAClC;AACD,mBAAOlvB,KAAK3D,GAAL,CAASkiC,cAAc/2C,MAAd,GAAuB,CAAhC,EAAmCK,CAAnC,CAAP;AACH;;AAEA;;;;;;;;;;;;2CASmBqnC,K,EAAOC,M,EAAQ;AAAA;;AAC/B,gBAAIqO,aAAa,EAAjB;AACA,gBAAIC,YAAY,EAAhB;;AAEA,iBAAKC,cAAL,CAAoB72C,OAApB,CAA4B,UAAC82C,UAAD,EAAgB;AACxC,oBAAMnP,SAASmP,WAAWnP,MAA1B;AACA,oBAAMiQ,SAAS,CAAf;AACA,oBAAMC,UAAU,CAAhB;AACA,oBAAMt0C,UAAU,EAAEq0C,cAAF,EAAUC,gBAAV,EAAmBlQ,cAAnB,EAA2BU,YAA3B,EAAkCC,cAAlC,EAA0CqO,sBAA1C,EAAsDC,oBAAtD,EAAhB;AACA,oBAAMlC,cAAc,OAAKoD,sBAAL,CAA4Bv0C,OAA5B,CAApB;AACAqzC,4BAAYlC,YAAYkC,SAAxB;AACAD,6BAAajC,YAAYiC,UAAzB;AACH,aARD;;AAUA,mBAAO,KAAKoB,qBAAL,CAA2B,EAAEzP,cAAF,EAAUD,YAAV,EAAiBsO,sBAAjB,EAA6BC,oBAA7B,EAA3B,CAAP;AACH;;AAED;;;;;;;;;+CAMwBvsB,Q,EAAU;AAC9B,gBAAI2tB,WAAW,EAAf;AAD8B,gBAG1BrQ,MAH0B,GAO1Btd,QAP0B,CAG1Bsd,MAH0B;AAAA,gBAI1BU,KAJ0B,GAO1Bhe,QAP0B,CAI1Bge,KAJ0B;AAAA,gBAK1BsO,UAL0B,GAO1BtsB,QAP0B,CAK1BssB,UAL0B;AAAA,gBAM1BC,SAN0B,GAO1BvsB,QAP0B,CAM1BusB,SAN0B;;AAQ9B,gBAAMpN,cAAc,KAAK3+B,MAAL,GAAcmjC,YAAd,CAA2B3E,MAA/C;;AAEA,gBAAMuO,SAAS/C,8DAAeA,CAAClN,OAAO,KAAKsQ,aAAZ,CAAhB,EAA4C5P,KAA3D;AACA,gBAAM6P,UAAU9C,kEAAmBA,CAAC;AAChCx1C,qBAAK+nC,OAAO,KAAKsQ,aAAZ,CAD2B;AAEhC5P,uBAAOuP,MAFyB;AAGhCtC,gCAAgBjN;AAHgB,aAApB,EAIb,KAAKx9B,MAAL,EAJa,CAAhB;;AAMA88B,mBAAO3nC,OAAP,CAAe,UAACJ,GAAD,EAAM6oC,IAAN;AAAA,uBAAe7oC,IAAII,OAAJ,CAAY,UAACouC,GAAD,EAAMzF,IAAN,EAAe;AACrD,wBAAMwP,kBAAkB/J,IAAInG,eAAJ,EAAxB;;AAEAmG,wBAAIhG,iBAAJ,CAAsB8P,QAAQvP,IAAR,IAAgBa,WAAtC,EAAmD2O,gBAAgB7P,MAAnE;AACA0P,6BAASvP,IAAT,IAAiBtvB,KAAKxD,GAAL,CAASqiC,SAASvP,IAAT,KAAkB,CAA3B,EAA8BtvB,KAAKuT,KAAL,CAAW0hB,IAAInG,eAAJ,GAAsBK,MAAjC,CAA9B,CAAjB;AACH,iBAL6B,CAAf;AAAA,aAAf;AAMA,gBAAIqO,WAAWh2C,MAAX,GAAoB,CAAxB,EAA2B;AACvBq3C,2BAAWA,SAAS14C,GAAT,CAAa,UAACwK,CAAD,EAAI5N,CAAJ;AAAA,2BAAUid,KAAKxD,GAAL,CAAS7L,CAAT,EAAY6sC,WAAW,CAAX,EAAcz6C,CAAd,CAAZ,CAAV;AAAA,iBAAb,CAAX;AACH;AACDy6C,uBAAWz2C,IAAX,CAAgB83C,QAAhB;AACA,iBAAK,IAAIhvB,IAAI,CAAb,EAAgBA,IAAI2tB,WAAWh2C,MAA/B,EAAuCqoB,GAAvC,EAA4C;AACxC2tB,2BAAW3tB,CAAX,IAAgBgvB,QAAhB;AACH;AACDpB,sBAAU12C,IAAV,CAAeg4C,OAAf;AACA,mBAAO,EAAEvB,sBAAF,EAAcC,oBAAd,EAAP;AACH;;AAED;;;;;;;;;;0CAOmBvsB,Q,EAAU;AAAA;;AAAA,2BAGrB,KAAKxf,MAAL,EAHqB;AAAA,gBAErBmjC,YAFqB,YAErBA,YAFqB;;AAIzB,gBAAMxE,cAAcwE,aAAa3E,MAAjC;AAJyB,gBAKjByN,UALiB,GAK0CzsB,QAL1C,CAKjBysB,UALiB;AAAA,gBAKLxO,MALK,GAK0Cje,QAL1C,CAKLie,MALK;AAAA,gBAKGsO,SALH,GAK0CvsB,QAL1C,CAKGusB,SALH;AAAA,gBAKcD,UALd,GAK0CtsB,QAL1C,CAKcssB,UALd;AAAA,gBAK0BK,WAL1B,GAK0C3sB,QAL1C,CAK0B2sB,WAL1B;;AAMzB,gBAAMrP,SAASmP,WAAWnP,MAA1B;AACA,gBAAMyC,aAAa,CAAC,CAAC,CAAD,CAAD,EAAM,CAAC,CAAD,CAAN,CAAnB;AACA,gBAAME,eAAe,CAAC,CAAC,CAAD,CAAD,EAAM,CAAC,CAAD,CAAN,CAArB;AACA,gBAAM9B,UAAU,CAAC,CAAD,EAAI,CAAJ,CAAhB;AACA,gBAAMD,SAAS,CAAC,CAAD,EAAI,CAAJ,CAAf;AACA,gBAAM2M,eAAe,KAAKmB,aAA1B;;AAEA,gBAAM+B,qBAAqB,KAAKC,uBAAL,CAA6B,EAAE/P,cAAF,EAAUqO,YAAYA,WAAW,CAAX,KAAiB,EAAvC,EAA7B,CAA3B;;AAEAhP,mBAAO3nC,OAAP,CAAe,UAACJ,GAAD,EAAM6oC,IAAN,EAAe;AAC1B7oC,oBAAII,OAAJ,CAAY,UAACkxC,IAAD,EAAOvI,IAAP,EAAgB;AACxB,wBAAM2P,YAAYF,mBAAmB3P,IAAnB,KAA4B,CAA9C;AACA,wBAAM8P,WAAW3B,UAAUI,WAAV,EAAuBrO,IAAvB,CAAjB;;AAEAuI,yBAAK9I,iBAAL,CAAuBmQ,WAAW/O,WAAlC,EAA+C8O,SAA/C;;AAEA,wBAAI3P,SAAS,CAAT,IAAcF,OAAOyM,YAAzB,EAAuC;AACnC9K,mCAAW,CAAX,EAAc3B,IAAd,IAAsB6P,SAAtB;AACA9P,gCAAQ,CAAR,IAAa,CAACA,QAAQ,CAAR,KAAc,CAAf,IAAoB8P,SAAjC;AACH,qBAHD,MAGO,IAAI3P,SAAS,CAAT,IAAcF,QAAQyM,YAA1B,EAAwC;AAC3C9K,mCAAW,CAAX,EAAc3B,OAAOyM,YAArB,IAAqCoD,SAArC;AACA9P,gCAAQ,CAAR,IAAa,CAACA,QAAQ,CAAR,KAAc,CAAf,IAAoB8P,SAAjC;AACH;AACD,wBAAI7P,SAAS,OAAKwP,aAAlB,EAAiC;AAC7B3N,qCAAa,CAAb,EAAgB3B,IAAhB,IAAwB4P,QAAxB;AACAjO,qCAAa,CAAb,EAAgB3B,IAAhB,IAAwB4P,QAAxB;AACH;AACJ,iBAjBD;AAkBH,aAnBD;AAoBA,mBAAO;AACH/P,gCADG;AAEHD,8BAFG;AAGH6B,sCAHG;AAIHE;AAJG,aAAP;AAMH;;;;EA/Q2CkO,sD;;AAA3BhC,iF;;;;;;;;;;;;AChBrB;AAAA;AAAA;AAAA;AACA;;;;AAIO,IAAMlI,gBAAgB;AACzBvB,kBAAc,EADW;AAEzB4D,iBAAa,MAFY;AAGzB7C,yBAAqB,IAHI;AAIzBE,kBAAc;AACV1F,gBAAQ,GADE;AAEVD,eAAO,GAFG;AAGVgB,gBAAQ;AAHE,KAJW;AASzB8E,kBAAc,KATW;AAUzBoF,WAAOvM,wDAVkB;AAWzBiH,sBAAkB;AAXO,CAAtB,C;;;;;;;;;;;;ACLP;AAAA;AAAA;AAAA;;AAEO,IAAMwK,QAAQ;AACjB5tC,YAAQ;AACJ6tC,sBAAc,sBAACrM,OAAD,EAAUnvC,KAAV;AAAA,mBAAoBsqC,iEAAcA,CAAC6E,QAAQvd,OAAR,IAAmB,EAAlC,EAAsC5xB,KAAtC,CAApB;AAAA;AADV,KADS;AAIjBw3C,iBAAa,EAJI;AAKjBiD,oBAAgB,EALC;AAMjBhD,kBAAc;AANG,CAAd,C;;;;;;;;;;;;;;;;;;;;;;;;;ACFP;AACA;AAQA;AACA;;AAEA;;;;;;IAKqBgE,e;;;AAEjB;;;;;;AAMA,6BAAahR,MAAb,EAAkC;AAAA,YAAb98B,MAAa,uEAAJ,EAAI;;AAAA;;AAAA,sIACxB88B,MADwB,EAChB98B,MADgB;;AAG9B,cAAKwrC,aAAL,GAAsB1O,OAAO,CAAP,EAAUhnC,MAAV,GAAmB,CAAnB,GAAuBgnC,OAAO,CAAP,EAAU,CAAV,EAAahnC,MAApC,GAA6C,CAAnE;AACA,cAAK+yC,aAAL,GAAqBR,8DAAeA,CAAC,CAACvL,OAAO,CAAP,KAAa,EAAd,EAAkBA,OAAO,CAAP,KAAa,EAA/B,CAAhB,EAAoD,MAAK98B,MAAL,EAApD,CAArB;;AAEA;AACA,cAAK4rC,KAAL,GAAa;AACTj5C,iBAAKspC,yDADI;AAET1pB,oBAAQ,MAAKg2B,UAAL;AAFC,SAAb;AAIA,cAAKsD,aAAL,GAAqB,MAAKjC,mBAAL,EAArB;AAX8B;AAYjC;;AAED;;;;;;;;;;8CAMuB;AACnB,gBAAMpB,aAAa,KAAKU,IAAL,EAAnB;AACAgB,gFAAqBA,CAAC1B,UAAtB,EAAkC,KAAlC;AACA,mBAAOoB,mEAAoBpB,UAApB,EAAgC,KAAKxoC,MAAL,EAAhC,EAA+C,KAAK6pC,WAAL,EAA/C,CAAP;AACH;;;8CAEsBrqB,Q,EAAU;AAAA;;AAAA,gBAEzBssB,UAFyB,GAKzBtsB,QALyB,CAEzBssB,UAFyB;AAAA,gBAGzBC,SAHyB,GAKzBvsB,QALyB,CAGzBusB,SAHyB;AAAA,gBAIzBtO,MAJyB,GAKzBje,QALyB,CAIzBie,MAJyB;;AAM7B,mBAAO,KAAKuO,cAAL,CAAoBv3C,GAApB,CAAwB,UAACw3C,UAAD,EAAa56C,CAAb,EAAmB;AAC9C,oBAAM66C,iBAAiB,EAAED,sBAAF,EAAcF,oBAAd,EAAyBD,sBAAzB,EAAqCK,aAAa96C,CAAlD,EAAvB;;AAD8C,yCAED,OAAK+6C,iBAAL,CAAuBF,cAAvB,CAFC;AAAA,oBAEtCxO,MAFsC,sBAEtCA,MAFsC;AAAA,oBAE9B6B,UAF8B,sBAE9BA,UAF8B;AAAA,oBAElBE,YAFkB,sBAElBA,YAFkB;;AAG9C,oBAAM4M,iBAAiB,CAAC5O,MAAD,EAASA,MAAT,CAAvB;AACA,oBAAM6O,iBAAiB5O,MAAvB;;AAEA,uBAAO;AACH6B,gCAAY;AACRJ,iCAASI,WAAW,CAAX,CADD;AAERH,mCAAWG,WAAW,CAAX;AAFH,qBADT;AAKHE,kCAAc;AACVN,iCAASM,aAAa,CAAb,CADC;AAEVL,mCAAWK,aAAa,CAAb;AAFD,qBALX;AASHhC,4BAAQ;AACJ0B,iCAASkN,eAAe,CAAf,CADL;AAEJjN,mCAAWiN,eAAe,CAAf;AAFP,qBATL;AAaH7O,2BAAO;AACH2B,iCAASmN,eAAe,CAAf,CADN;AAEHlN,mCAAWkN,eAAe,CAAf;AAFR;AAbJ,iBAAP;AAkBH,aAxBM,CAAP;AAyBH;;AAED;;;;;;;;;2CAMoB;AAAA,0BAIZ,KAAKtsC,MAAL,EAJY;AAAA,gBAEZsjC,YAFY,WAEZA,YAFY;AAAA,gBAGZF,gBAHY,WAGZA,gBAHY;;AAKhB,gBAAMtG,SAAS,KAAK+L,aAApB;AACA,gBAAMK,OAAOvM,iEAAcA,CAAC,EAAf,EAAmB,KAAKuM,IAAL,EAAnB,CAAb;AACA,gBAAMqD,aAAanJ,iBAAiB,CAAjB,CAAnB;AACA,gBAAMoJ,aAAapJ,iBAAiB,CAAjB,KAAuBx4B,OAAOG,iBAAjD;AACA,gBAAM69B,eAAe,CAACtF,YAAD,GAAgB6H,gEAAiBA,CAACrO,MAAlB,EAA0ByP,UAA1B,EAAsCC,UAAtC,CAAhB,GACrB1P,OAAO1mC,KAAP,CAAa,CAAb,EAAgB3B,GAAhB,CAAoB;AAAA,uBAAK02C,gEAAiBA,CAAClsC,CAAlB,EAAqBstC,UAArB,EAAiCC,UAAjC,CAAL;AAAA,aAApB,CADA;;AAGAtD,iBAAK32B,MAAL,GAAc44B,gEAAiBA,CAACjC,KAAK32B,MAAvB,EAA+Bg6B,UAA/B,EAA2CC,UAA3C,CAAd;AACAtD,iBAAKpM,MAAL,GAAcqO,gEAAiBA,CAACjC,KAAKpM,MAAvB,EAA+ByP,UAA/B,EAA2CC,UAA3C,CAAd;;AAEA,mBAAO;AACHtD,0BADG;AAEHN;AAFG,aAAP;AAIH;;;gDAEwBppB,Q,EAAU;AAC/B,gBAAIuuB,6BAAJ;AACA,gBAAIC,wBAAJ;AACA,gBAAIX,UAAU,EAAd;AACA,gBAAIV,aAAa,EAAjB;AACA,gBAAIsB,mBAAmB,CAAvB;AAL+B,gBAO3BnR,MAP2B,GAY3Btd,QAZ2B,CAO3Bsd,MAP2B;AAAA,gBAQpB2N,cARoB,GAY3BjrB,QAZ2B,CAQ3Bge,KAR2B;AAAA,gBASduO,SATc,GAY3BvsB,QAZ2B,CAS3BqqB,WAT2B;AAAA,gBAUjBqE,YAViB,GAY3B1uB,QAZ2B,CAU3B2uB,QAV2B;AAAA,gBAW3B1Q,MAX2B,GAY3Bje,QAZ2B,CAW3Bie,MAX2B;;AAa/B,gBAAM2E,WAAW,KAAKpiC,MAAL,GAAcoiC,QAA/B;AACA,gBAAM4G,sBAAsB,KAAK5I,aAAL,GAAqBtqC,MAArB,GAA8B,KAAKsqC,aAAL,GAAqB,CAArB,EAAwBtqC,MAAtD,GAA+D,CAA3F;;AAEA,gBAAMs4C,OAAO,EAAb;;AAEAL,mCAAuBtD,cAAvB;AACAuD,8BAAkBE,YAAlB;;AAEA,gBAAI9L,aAAa,CAAjB,EAAoB;AAChBuK,6BAAa,CAAC3D,sBAAsB,CAAvB,EAA0BA,mBAA1B,CAAb;AACA;AACH,aAHD,MAGO;AACH2D,6BAAavK,aAAa,CAAb,GAAiB,CAAC4G,sBAAsB,CAAvB,CAAjB,GAA6C,CAACA,mBAAD,CAA1D;AACA;AACH;AACD2D,uBAAWx3C,OAAX,CAAmB,UAAC9D,CAAD,EAAO;AACtB+8C,qBAAK/8C,CAAL,IAAU06C,UAAU16C,CAAV,CAAV;AACA48C,oCAAoBlC,UAAU16C,CAAV,CAApB;AACA08C,wCAAwBK,KAAK/8C,CAAL,CAAxB;AACA28C,mCAAmBI,KAAK/8C,CAAL,CAAnB;AACH,aALD;AAMAyrC,mBAAO,CAAP,EAAU3nC,OAAV,CAAkB,UAAC8J,CAAD,EAAI5N,CAAJ,EAAU;AACxB,oBAAIs7C,WAAWptC,OAAX,CAAmBlO,CAAnB,MAA0B,CAAC,CAA/B,EAAkC;AAC9B+8C,yBAAK/8C,CAAL,IAAU08C,wBAAwBhC,UAAU16C,CAAV,IAAe28C,eAAvC,CAAV;AACH;AACJ,aAJD;AAKAlR,mBAAO3nC,OAAP,CAAe;AAAA,uBAAOJ,IAAII,OAAJ,CAAY,UAACouC,GAAD,EAAMzF,IAAN,EAAe;AAC7C,wBAAI6O,WAAWptC,OAAX,CAAmBu+B,IAAnB,MAA6B,CAAC,CAAlC,EAAqC;AACjCyF,4BAAIhG,iBAAJ,CAAsB6Q,KAAKtQ,IAAL,CAAtB,EAAkCL,MAAlC;;AAEA4P,gCAAQvP,IAAR,IAAgBxvB,KAAKxD,GAAL,CAASuiC,QAAQvP,IAAR,KAAiB,CAA1B,EAA6BxvB,KAAKuT,KAAL,CAAW0hB,IAAInG,eAAJ,GAAsBI,KAAjC,CAA7B,CAAhB;AACH,qBAJD,MAIO;AACH6P,gCAAQvP,IAAR,IAAgB,CAAhB;AACH;AACJ,iBARqB,CAAP;AAAA,aAAf;;AAUA,gBAAMuQ,gBAAgB5D,iBAAiB4C,QAAQjuC,MAAR,CAAe,UAAC9M,CAAD,EAAIO,CAAJ;AAAA,uBAAUP,IAAIO,CAAd;AAAA,aAAf,CAAvC;AACA,gBAAIw7C,gBAAgB,CAApB,EAAuB;AACnBhB,0BAAUA,QAAQ54C,GAAR,CAAY;AAAA,2BAAM,CAAN;AAAA,iBAAZ,CAAV;AACH,aAFD,MAEO;AACHk4C,2BAAWx3C,OAAX,CAAmB,UAAC9D,CAAD,EAAO;AACtBg8C,4BAAQh8C,CAAR,IAAaid,KAAKuT,KAAL,CAAWwsB,iBAAiBD,KAAK/8C,CAAL,IAAU48C,gBAA3B,CAAX,CAAb;AACH,iBAFD;AAGH;AACD,mBAAOZ,OAAP;AACH;;AAED;;;;;;;;;;;uCAQgBR,a,EAAeR,c,EAAgB;AAC3C,gBAAIh7C,UAAJ;;AAD2C,kCAExB,KAAKy7C,cAAL,EAFwB;AAAA,gBAEnCrP,MAFmC,mBAEnCA,MAFmC;;AAI3C,iBAAKpsC,IAAI,CAAT,EAAYA,IAAIg7C,eAAev2C,MAA/B,EAAuCzE,GAAvC,EAA4C;AACxC,oBAAIg7C,eAAeh7C,CAAf,KAAqBosC,MAAzB,EAAiC;AACpC;;AAED,mBAAOnvB,KAAK3D,GAAL,CAASkiC,cAAc/2C,MAAd,GAAuB,CAAhC,EAAmCzE,CAAnC,CAAP;AACH;;AAED;;;;;;;;;;;;2CASoBmsC,K,EAAOC,M,EAAQ;AAAA;;AAC/B,gBAAIqO,aAAa,EAAjB;AACA,gBAAIC,YAAY,EAAhB;AACA,gBAAMlC,cAAc,KAAKA,WAAL,EAApB;;AAEA,gBAAMsE,WAAWtE,YAAYzqC,MAAZ,CAAmB,UAAC9M,CAAD,EAAIO,CAAJ,EAAU;AAC1CP,qBAAKO,CAAL;AACA,uBAAOP,CAAP;AACH,aAHgB,CAAjB;AAIA,gBAAMg8C,gBAAgB,KAAKd,uBAAL,CAA6B;AAC/C1Q,wBAAQ,KAAK+L,aADkC;AAE/CsF,kCAF+C;AAG/CtE,wCAH+C;AAI/CrM,4BAJ+C;AAK/CC;AAL+C,aAA7B,CAAtB;;AAQA,iBAAKuO,cAAL,CAAoB72C,OAApB,CAA4B,UAAC82C,UAAD,EAAgB;AACxC,oBAAMnP,SAASmP,WAAWnP,MAA1B;AACA,oBAAMiQ,SAAS,CAAf;AACA,oBAAMC,UAAU,CAAhB;AACA,oBAAMt0C,UAAU,EAAEq0C,cAAF,EAAUC,gBAAV,EAAmBlQ,cAAnB,EAA2BU,YAA3B,EAAkCC,cAAlC,EAA0CqO,sBAA1C,EAAsDC,oBAAtD,EAAiEuC,4BAAjE,EAAhB;AACA,oBAAM9uB,WAAW,OAAKytB,sBAAL,CAA4Bv0C,OAA5B,CAAjB;AACAqzC,4BAAYvsB,SAASusB,SAArB;AACAD,6BAAatsB,SAASssB,UAAtB;AACH,aARD;AASA,mBAAO,KAAKoB,qBAAL,CAA2B,EAAEzP,cAAF,EAAUD,YAAV,EAAiBsO,sBAAjB,EAA6BC,oBAA7B,EAA3B,CAAP;AACH;;AAED;;;;;;;;;+CAMwBvsB,Q,EAAU;AAC9B,gBAAI6tB,UAAU,EAAd;AACA,gBAAIF,WAAW,EAAf;AACA,gBAAIH,UAAU,CAAd;AACA,gBAAMnD,cAAc,KAAKA,WAAL,EAApB;;AAJ8B,2BAW1B,KAAK7pC,MAAL,EAX0B;AAAA,gBAO1BijC,mBAP0B,YAO1BA,mBAP0B;AAAA,gBAQ1Bf,YAR0B,YAQ1BA,YAR0B;AAAA,gBAS1BoB,YAT0B,YAS1BA,YAT0B;AAAA,gBAU1BJ,MAV0B,YAU1BA,MAV0B;;AAAA,gBAYtBpG,MAZsB,GAYmCtd,QAZnC,CAYtBsd,MAZsB;AAAA,gBAYdW,MAZc,GAYmCje,QAZnC,CAYdie,MAZc;AAAA,gBAYNqO,UAZM,GAYmCtsB,QAZnC,CAYNssB,UAZM;AAAA,gBAYMC,SAZN,GAYmCvsB,QAZnC,CAYMusB,SAZN;AAAA,gBAYiBuC,aAZjB,GAYmC9uB,QAZnC,CAYiB8uB,aAZjB;;AAa9BtB,sBAAU/C,iEAAkBA,CAACnN,MAAnB,EAA2B,KAAKsQ,aAAhC,EAA+C3P,MAAzD;;AAEA,gBAAM0Q,WAAWtE,YAAYzqC,MAAZ,CAAmB,UAAC9M,CAAD,EAAIO,CAAJ,EAAU;AAC1CP,qBAAKO,CAAL;AACA,uBAAOP,CAAP;AACH,aAHgB,CAAjB;AAIAktB,qBAASqqB,WAAT,GAAuBA,WAAvB;AACArqB,qBAAS2uB,QAAT,GAAoBA,QAApB;AACA,gBAAIA,WAAW,CAAf,EAAkB;AACdd,0BAAUiB,aAAV;AACH,aAFD,MAEO;AACHjB,0BAAUxD,YAAYp1C,GAAZ,CAAgB;AAAA,2BAAM,CAAN;AAAA,iBAAhB,CAAV;AACH;AACD04C,uBAAWtC,mEAAoBA,CAAC;AAC5B/N,8BAD4B;AAE5BgB,sBAAM,KAAKsP,aAFiB;AAG5B3P,wBAAQuP,OAHoB;AAI5BhC,iCAAiBvN,MAJW;AAK5BwF,wDAL4B;AAM5Bf,0CAN4B;AAO5BoB,0CAP4B;AAQ5BJ;AAR4B,aAArB,CAAX;AAUA,gBAAI6I,UAAUj2C,MAAV,GAAmB,CAAvB,EAA0B;AACtBu3C,0BAAUA,QAAQ54C,GAAR,CAAY,UAACwK,CAAD,EAAI5N,CAAJ;AAAA,2BAAUid,KAAKxD,GAAL,CAAS7L,CAAT,EAAY8sC,UAAU,CAAV,EAAa16C,CAAb,KAAmB,CAA/B,CAAV;AAAA,iBAAZ,CAAV;AACH;AACD06C,sBAAU12C,IAAV,CAAeg4C,OAAf;AACA,iBAAK,IAAIlvB,IAAI,CAAb,EAAgBA,IAAI4tB,UAAUj2C,MAA9B,EAAsCqoB,GAAtC,EAA2C;AACvC4tB,0BAAU5tB,CAAV,IAAekvB,OAAf;AACH;AACDvB,uBAAWz2C,IAAX,CAAgB83C,QAAhB;AACA,mBAAO,EAAEpB,oBAAF,EAAaD,sBAAb,EAAP;AACH;;AAED;;;;;;;;;;0CAOmBtsB,Q,EAAU;AAAA;;AAAA,2BAGrB,KAAKxf,MAAL,EAHqB;AAAA,gBAErBmjC,YAFqB,YAErBA,YAFqB;;AAIzB,gBAAMxE,cAAcwE,aAAa3E,MAAjC;AAJyB,gBAKjByN,UALiB,GAKkCzsB,QALlC,CAKjBysB,UALiB;AAAA,gBAKLF,SALK,GAKkCvsB,QALlC,CAKLusB,SALK;AAAA,gBAKMD,UALN,GAKkCtsB,QALlC,CAKMssB,UALN;AAAA,gBAKkBK,WALlB,GAKkC3sB,QALlC,CAKkB2sB,WALlB;;AAMzB,gBAAMrP,SAASmP,WAAWnP,MAA1B;AACA,gBAAMyC,aAAa,CAAC,CAAC,CAAD,CAAD,EAAM,CAAC,CAAD,CAAN,CAAnB;AACA,gBAAME,eAAe,CAAC,CAAC,CAAD,CAAD,EAAM,CAAC,CAAD,CAAN,CAArB;AACA,gBAAM9B,UAAU,CAAC,CAAD,EAAI,CAAJ,CAAhB;AACA,gBAAMD,SAAS,CAAC,CAAD,EAAI,CAAJ,CAAf;AACA,gBAAM2M,eAAe,KAAKmB,aAA1B;;AAEA1O,mBAAO3nC,OAAP,CAAe,UAACJ,GAAD,EAAM6oC,IAAN,EAAe;AAC1B7oC,oBAAII,OAAJ,CAAY,UAACkxC,IAAD,EAAOvI,IAAP,EAAgB;AACxB,wBAAM2P,YAAY3B,WAAWK,WAAX,EAAwBvO,IAAxB,KAAiC,CAAnD;AACA,wBAAM8P,WAAW3B,UAAUI,WAAV,EAAuBrO,IAAvB,CAAjB;;AAEAuI,yBAAK9I,iBAAL,CAAuBmQ,QAAvB,EAAiCD,YAAY9O,WAA7C;;AAEA,wBAAIf,SAAS,CAAT,IAAcE,OAAOuM,YAAzB,EAAuC;AACnC5K,qCAAa,CAAb,EAAgB3B,IAAhB,IAAwB4P,QAAxB;AACAhQ,+BAAO,CAAP,IAAY,CAACA,OAAO,CAAP,KAAa,CAAd,IAAmBgQ,QAA/B;AACH,qBAHD,MAGO,IAAI9P,SAAS,CAAT,IAAcE,QAAQuM,YAA1B,EAAwC;AAC3C5K,qCAAa,CAAb,EAAgB3B,OAAOuM,YAAvB,IAAuCqD,QAAvC;AACAhQ,+BAAO,CAAP,IAAY,CAACA,OAAO,CAAP,KAAa,CAAd,IAAmBgQ,QAA/B;AACH;AACD,wBAAI5P,SAAS,OAAKsP,aAAlB,EAAiC;AAC7B7N,mCAAW,CAAX,EAAc3B,IAAd,IAAsB6P,SAAtB;AACAlO,mCAAW,CAAX,EAAc3B,IAAd,IAAsB6P,SAAtB;AACH;AACJ,iBAjBD;AAkBH,aAnBD;AAoBA,mBAAO;AACH9P,gCADG;AAEHD,8BAFG;AAGH6B,sCAHG;AAIHE;AAJG,aAAP;AAMH;;;;EAtTwCkO,sD;;AAAxBG,8E;;;;;;;;;;;;;;;;;;;;;;ACjBrB;AACA;AAKA;AACA;AACA;;AAEA;;;;;;IAKqBH,Y;;AAEjB;;;;;;AAMA,0BAAa7Q,MAAb,EAAkC;AAAA,YAAb98B,MAAa,uEAAJ,EAAI;;AAAA;;AAC9B;AACA,aAAKotC,aAAL,GAAqB,CAArB;AACA,aAAKmB,cAAL,GAAsBzR,OAAO,CAAP,KAAa,EAAnC;AACA,aAAK0R,gBAAL,GAAwB1R,OAAO,CAAP,KAAa,EAArC;AACA,aAAK2R,YAAL,GAAoB,EAApB;AACA,aAAKC,eAAL,GAAuB,EAAvB;;AAEA;AACAC,gFAAqBA,CAAC,IAAtB,EAA4Bf,4CAA5B;AACA,YAAMgB,SAAS98C,OAAO4H,MAAP,CAAc,EAAd,EAAkB,KAAKwD,WAAL,CAAiBumC,aAAjB,EAAlB,CAAf;AACA,aAAKzjC,MAAL,CAAY28B,iEAAcA,CAACiS,MAAf,EAAuB5uC,MAAvB,CAAZ;;AAEA,aAAK6oC,aAAL,GAAqBR,8DAAeA,CAAC,CAACvL,OAAO,CAAP,KAAa,EAAd,EAAkBA,OAAO,CAAP,KAAa,EAA/B,CAAhB,EAAoD,KAAK98B,MAAL,EAApD,CAArB;AACH;;AAEA;;;;;;;;;;8CAMsB;AACnB,kBAAM,IAAIhH,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;;gDAEwB;AACrB,kBAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;;;2CAMoB;AAChB,kBAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;;kDAE0B;AACvB,kBAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;;;;;yCAQkB;AACd,kBAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;;;;;;6CASsB;AAClB,kBAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;;;iDAM0B;AACtB,kBAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;;;;4CAOqB;AACjB,kBAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;;;;wCAO0B;AACtB,gBAAI,UAAOh5C,MAAX,EAAmB;AACf,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKy4C,cAAZ;AACH;;;0CAE2B;AACxB,gBAAI,UAAOz4C,MAAX,EAAmB;AACf,uBAAO,IAAP;AACH;AACD,mBAAO,KAAK04C,gBAAZ;AACH;;;+BAEgB;AACb,gBAAI,UAAO14C,MAAX,EAAmB;AACf,uBAAO,IAAP;AACH;AACD,mBAAO,KAAK81C,KAAZ;AACH;;;qCAMa;AAAA,+BACqBrD,0DAAW,IAAX,CADrB;AAAA,gBACFW,IADE,gBACFA,IADE;AAAA,gBACIT,YADJ,gBACIA,YADJ;;AAEV,iBAAK2E,aAAL,GAAqB3E,YAArB;AACA,mBAAOS,IAAP;AACH;;AAED;;;;;;;;;0CAMmB;AACf,mBAAO,KAAKY,YAAL,EAAP;AACH;;AAED;;;;;;;;;;0CAOmBtM,K,EAAOC,M,EAAQ;AAC9B,iBAAKqP,cAAL,CAAoB,EAAEtP,YAAF,EAASC,cAAT,EAApB;AACA,gBAAMyL,OAAO,KAAKA,IAAL,EAAb;AACA,gBAAMmD,iBAAiB,KAAK0C,mBAAL,CAAyB7T,uDAAzB,EAAiCgO,IAAjC,CAAvB;AACA,gBAAM2D,gBAAgB,KAAKkC,mBAAL,CAAyBtU,sDAAzB,EAAgCyO,IAAhC,CAAtB;AACA,gBAAMoC,QAAQ,KAAK0D,cAAL,CAAoBnC,aAApB,EAAmCR,cAAnC,CAAd;;AAEA,iBAAKL,cAAL,GAAsB,KAAKiD,oBAAL,CAA0B3D,KAA1B,CAAtB;AACA,iBAAK4D,gBAAL,GAAwB,KAAKC,kBAAL,CAAwB3R,KAAxB,EAA+BC,MAA/B,CAAxB;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;;;4CASqB58B,I,EAAM2nC,U,EAAsC;AAAA;;AAAA,gBAA1B8C,KAA0B,uEAAlB,CAAkB;AAAA,gBAAf9rB,QAAe,uEAAJ,EAAI;;AAC7DA,qBAAS8rB,KAAT,IAAkBh9B,KAAKxD,GAAL,CAAS0U,SAAS8rB,KAAT,KAAmB,CAA5B,EAA+B9C,WAAWmB,KAAX,CAAiB9oC,IAAjB,CAA/B,CAAlB;AACA,gBAAI2nC,WAAWj2B,MAAf,EAAuB;AACnB,oBAAM68B,aAAa9D,QAAQ,CAA3B;AACA9C,2BAAWj2B,MAAX,CAAkBpd,OAAlB,CAA0B,UAAC6e,KAAD,EAAW;AACjC,wBAAIA,MAAM21B,KAAV,EAAiB;AACbnqB,mCAAW,MAAKuvB,mBAAL,CAAyBluC,IAAzB,EAA+BmT,KAA/B,EAAsCo7B,UAAtC,EAAkD5vB,QAAlD,CAAX;AACH;AACJ,iBAJD;AAKH;AACD,mBAAOA,QAAP;AACH;;AAED;;;;;;;;;4CAMqB;AACjB,mBAAO,KAAK0vB,gBAAZ;AACH;;AAED;;;;;;;;;8CAMuB;AACnB,mBAAO,KAAKlD,cAAZ;AACH;;AAED;;;;;;;;;;6CAOsBV,K,EAAO;AACzB,gBAAMnyC,MAAM,EAAZ;AACAkyC,gFAAqBA,CAAClyC,GAAtB,EAA2BmyC,KAA3B,EAAkC,KAAK+D,gBAAL,EAAlC,EAA2D,IAA3D;AACA,mBAAOl2C,GAAP;AACH;;;wCA5FuB;AACpB,mBAAOsqC,6DAAP;AACH;;;;;;AAhIgBkK,2E;;;;;;;;;;;;ACfrB;AAAA;AAAA;AAAA;AAAA;AAAA;;;AAGA;AACA;AACA;;AAEA;;;;;;;;AAQA,IAAM2B,aAAa,SAAbA,UAAa,CAAC3yC,QAAD,EAAW4yC,QAAX,EAAqBC,YAArB,EAAsC;AACrD,QAAIC,iBAAJ;AACA,QAAMC,OAAO/yC,SAAS+yC,IAAT,EAAb;AACA,QAAM1vC,SAASrD,SAASqD,MAAT,EAAf;AACA,QAAM2vC,eAAehzC,SAASgzC,YAAT,EAArB;AACA,QAAMC,aAAajzC,SAASizC,UAAT,EAAnB;AACA,QAAMC,QAAQH,KAAKI,KAAL,GAAaD,KAAb,EAAd;AANqD,QAQjDE,WARiD,GAWjD/vC,MAXiD,CAQjD+vC,WARiD;AAAA,QASjDC,aATiD,GAWjDhwC,MAXiD,CASjDgwC,aATiD;AAAA,QAUjDnvC,IAViD,GAWjDb,MAXiD,CAUjDa,IAViD;AAAA,QAajDovC,MAbiD,GAcjDN,YAdiD,CAajDM,MAbiD;;;AAgBrDR,eAAWQ,OAAOR,QAAlB;;AAEA,QAAMS,WAAWvzC,SAASwzC,WAAT,EAAjB;AACAZ,aAAS5I,IAAT,CAAc,UAAUj1C,CAAV,EAAaqR,KAAb,EAAoB;AAC9B,YAAIqtC,eAAJ;AACA,YAAIC,eAAJ;AACA,YAAI1wC,QAAQiwC,WAAW7sC,KAAX,IAAoB6sC,WAAW7sC,KAAX,EAAkBpN,IAAtC,GAA6CjE,CAAzD;;AAEA,YAAM4+C,gBAAgBZ,KAAKa,UAAL,KAAoBb,KAAKa,UAAzB,GAAsC,IAA5D;;AAEA,YAAM5I,OAAOuI,WAAYI,gBAAgBA,gBAAgB3wC,KAAhB,CAAhB,GAAyCA,KAArD,GAA8D,EAA3E;;AAEAA,gBAAQgoC,KAAK5gB,QAAL,EAAR;;AAEA,YAAMypB,eAAehB,aAAaiB,UAAb,CAAwB9wC,KAAxB,CAArB;;AAEA,YAAM69B,QAAQgT,aAAahT,KAAb,GAAqB,GAAnC;AACA,YAAMC,SAAS+S,aAAa/S,MAAb,GAAsB,GAArC;;AAEA,YAAIgS,WAAW,CAAf,EAAkB;AACdA,uBAAW,MAAMA,QAAjB;AACH;;AAED,YAAMiB,WAAW,IAAIpiC,KAAKuT,KAAL,CAAW4tB,WAAW,EAAtB,CAArB;AACA,YAAMkB,qBAAqB,CAAED,WAAW,CAAX,KAAiB,CAAlB,GAAuBjB,QAAvB,GAAkC,MAAMnhC,KAAKy4B,IAAL,CAAU0I,WAAW,GAArB,CAAN,GAAkCA,QAArE,IAAiF,GAA5G;;AAEAW,iBAAS9hC,KAAKyQ,IAAL,CAAU,iBAAU,CAAV,aAAcye,KAAd,EAAuB,CAAvB,CAAV,IAAsClvB,KAAKsiC,GAAL,CAASC,gEAAaA,CAACF,kBAAd,CAAT,CAA/C;;AAEA,YAAI,CAACD,aAAa,CAAb,IAAkBA,aAAa,CAAhC,KAAsC,EAAEC,qBAAqB,IAArB,IAA6BA,sBAAsB,EAArD,CAA1C,EAAoG;AAChGP,sBAAU3S,SAAS,CAAnB;AACH;AACD4S,iBAAS7S,KAAT;;AAEA,YAAIiS,aAAa,EAAjB,EAAqB;AACjBY,qBAAS5S,MAAT;AACH,SAFD,MAEO,IAAIgS,aAAa,GAAjB,EAAsB;AACzBY,qBAAS,CAAC5S,MAAV;AACH,SAFM,MAEA;AACH4S,qBAAS,CAAT;AACH;;AAED,YAAIN,gBAAgBe,2DAApB,EAAyC;AACrCT,qBAAUR,MAAM,CAAN,MAAan+C,CAAb,IAAkBs+C,aAAlB,IAAmCnvC,SAASkwC,uDAA7C,GAAuDV,SAASA,SAAS,CAAzE,GAA6EA,MAAtF;AACA7J,4EAAaA,CAAC,IAAd,EACiBJ,IADjB,CACsB,WADtB,kBACgD,CAACiK,MAAD,GAAUH,QAD1D,4CAEsB,CAACE,MAAD,GAAUF,QAFhC,kBAEoDT,QAFpD;AAGH,SALD,MAKO;AACHY,qBAAUR,MAAM,CAAN,MAAan+C,CAAb,IAAkBs+C,aAAlB,IAAmCnvC,SAASkwC,uDAA7C,GAAuDV,SAASA,SAAS,CAAzE,GAA6EA,MAAtF;;AAEA7J,4EAAaA,CAAC,IAAd,EACiBJ,IADjB,CACsB,WADtB,kBACgDiK,SAASH,QADzD,4CAEsBE,SAASF,QAF/B,kBAEmDT,QAFnD;AAGH;AACDjJ,wEAAaA,CAAC,IAAd,EAAoBwK,UAApB,GACiBC,QADjB,CAC0B,IAD1B,EACgCt7C,IADhC,CACqCgK,KADrC;AAEH,KApDD;AAqDA,WAAO4vC,QAAP;AACH,CAzED;;AA2EA;;;;;;AAMA,IAAM2B,wBAAwB,SAAxBA,qBAAwB,CAACC,eAAD,EAAkBC,YAAlB,EAAgClB,QAAhC,EAA6C;AAAA,QAEnEmB,WAFmE,GAGnED,YAHmE,CAEnEC,WAFmE;;AAIvE,QAAMrxC,SAASoxC,aAAapxC,MAAb,EAAf;AACA,QAAM2vC,eAAeyB,aAAazB,YAAb,EAArB;AACA,QAAMH,eAAe4B,aAAa9c,YAAb,GAA4Bkb,YAAjD;AANuE,QAQnEO,WARmE,GAUnE/vC,MAVmE,CAQnE+vC,WARmE;AAAA,QASnEjK,WATmE,GAUnE9lC,MAVmE,CASnE8lC,WATmE;AAAA,QAYnEmK,MAZmE,GAanEN,YAbmE,CAYnEM,MAZmE;AAAA,QAenER,QAfmE,GAiBnEQ,MAjBmE,CAenER,QAfmE;AAAA,QAgBvD6B,YAhBuD,GAiBnErB,MAjBmE,CAgBnEL,UAhBmE;;;AAmBvE,QAAML,WAAW4B,gBAAgBI,SAAhB,CAA0B,YAA1B,CAAjB;AACAhC,aAASgC,SAAT,CAAmB,OAAnB,EAA4BzK,MAA5B;;AAED;AACC,QAAI2I,aAAaM,gBAAgB1U,oDAAhB,IAAuB0U,gBAAgBvU,uDAApD,CAAJ,EAAiE;AAC7D8T,mBAAW8B,YAAX,EAAyB7B,QAAzB,EAAmCC,YAAnC;AACH,KAFD,MAEO,IAAI,CAACC,QAAD,IAAa,CAAC6B,YAAlB,EAAgC;AACnC/B,iBAASnJ,IAAT,CAAc,WAAd,EAA2B,EAA3B;AACH,KAFM,MAEA;AACHmJ,iBAAS55C,IAAT,CAAc,EAAd;AACA,YAAIo6C,gBAAgB1U,oDAAhB,IAAuB0U,gBAAgBvU,uDAA3C,EAAmD;AAC/C+T,qBAASnJ,IAAT,CAAc,GAAd,EAAmB,CAAnB,EACiBA,IADjB,CACsB,GADtB,EAC2B,CAD3B,EAEiBA,IAFjB,CAEsB,WAFtB,EAEmC,EAFnC,EAGiBzwC,IAHjB,CAGsB,EAHtB;AAIA,gBAAM67C,QAAQ5M,8DAAWA,CAAC2K,QAAZ,EAAsB,OAAtB,EAA+B,UAAC79C,CAAD,EAAIL,CAAJ,EAAU;AACnD,oBAAIggD,YAAYhgD,CAAZ,CAAJ,EAAoB;AAChB,2BAAOggD,YAAYhgD,CAAZ,EAAeogD,KAAtB;AACH,iBAAC,OAAO,EAAP;AACL,aAJa,EAIR3L,WAJQ,iBAAd;;AAMA0L,kBAAMpL,IAAN,CAAW,IAAX,EAAiB,GAAjB,EACiBb,KADjB,CACuB,SADvB,EACkC,GADlC,EAGiByL,UAHjB,GAIiBC,QAJjB,CAI0B,IAJ1B,EAKiB7K,IALjB,CAKsB,IALtB,EAK4B,UAAC10C,CAAD,EAAIL,CAAJ,EAAU;AAClB,oBAAI0+C,gBAAgBvU,uDAAhB,IAA0BnqC,MAAM,CAApC,EAAuC;AACnC,2BAAOggD,YAAY,CAAZ,EAAeK,aAAtB;AACH;AACD,uBAAO,CAACL,YAAY,CAAZ,EAAeK,aAAhB,IAAiCL,YAAY,CAAZ,EAAeI,KAAf,CAAqB37C,MAArB,GAA8B,CAA/D,IAAoEo6C,QAA3E;AACH,aAVjB,EAWiB3K,KAXjB,CAWuB,SAXvB,EAWkC,CAXlC,EAYiB5vC,IAZjB,CAYsB;AAAA,uBAAKsJ,CAAL;AAAA,aAZtB,EAaiBmnC,IAbjB,CAasB,GAbtB,EAa2B,CAb3B;AAcH,SAzBD,MAyBO;AACH,gBAAMoL,SAAQ5M,8DAAWA,CAAC2K,QAAZ,EAAsB,OAAtB,EAA+B,UAAC79C,CAAD,EAAIL,CAAJ;AAAA,uBAAUggD,YAAYhgD,CAAZ,EAAeogD,KAAzB;AAAA,aAA/B,EAAkE3L,WAAlE,iBAAd;AACA0L,mBAAM77C,IAAN,CAAW;AAAA,uBAAKsJ,CAAL;AAAA,aAAX;AACH;AACJ;;AAED,WAAOswC,QAAP;AACH,CA7DD;;AA+DA,IAAMoC,mBAAmB,SAAnBA,gBAAmB,CAACP,YAAD,EAAkB;AAAA,+BAGnCA,aAAapxC,MAAb,EAHmC;AAAA,QAEnCgwC,aAFmC,wBAEnCA,aAFmC;;AAIvC,QAAIA,aAAJ,EAAmB;AACfoB,qBAAaO,gBAAb;AACH;AACJ,CAPD;;AASA;;;;;;;AAOA,IAAMC,iBAAiB,SAAjBA,cAAiB,CAACC,QAAD,EAAW9B,WAAX,EAAwBvwB,QAAxB,EAAqC;AAAA,QAEpDsyB,cAFoD,GAMpDtyB,QANoD,CAEpDsyB,cAFoD;AAAA,QAGpDC,OAHoD,GAMpDvyB,QANoD,CAGpDuyB,OAHoD;AAAA,QAIpDC,WAJoD,GAMpDxyB,QANoD,CAIpDwyB,WAJoD;AAAA,QAKpDlF,cALoD,GAMpDttB,QANoD,CAKpDstB,cALoD;;AAOxD,YAAQiD,WAAR;AACA,aAAKe,4DAAL;AACIe,qBAASzL,IAAT,CAAc,WAAd,iBACiB,EAAE0G,eAAetP,KAAf,GAAuBsU,cAAzB,CADjB,UAC6DC,UAAUC,WADvE;AAEA;AACJ,aAAKlB,6DAAL;AACIe,qBAASzL,IAAT,CAAc,WAAd,kBACmB0G,eAAetP,KAAf,GAAuBsU,cAD1C,WAC6DC,UAAUC,WADvE;AAEA;AACJ,aAAKlB,2DAAL;AACIe,qBAASzL,IAAT,CAAc,WAAd,iBACkB0G,eAAetP,KAAf,GAAuB,CADzC,UAC8C,CAACsP,eAAerP,MAAhB,GAAyBqU,cADvE;AAEA;AACJ,aAAKhB,8DAAL;AACIe,qBAASzL,IAAT,CAAc,WAAd,iBACkB0G,eAAetP,KAAf,GAAuB,CADzC,UAC8CsP,eAAerP,MAAf,GAAwBqU,iBAAiB,CADvF;AAEA;AACJ;AAjBA;AAmBA,WAAOD,QAAP;AACH,CA3BD;;AA6BA;;;;;;;;;;AAUO,SAASI,UAAT,CAAqBb,YAArB,EAAmC;AACtC,QAAMpxC,SAASoxC,aAAapxC,MAAb,EAAf;AACA,QAAM2vC,eAAeyB,aAAazB,YAAb,EAArB;AACA,QAAMH,eAAe4B,aAAa9c,YAAb,GAA4Bkb,YAAjD;AACA,QAAMje,QAAQ6f,aAAa7f,KAAb,EAAd;AACA,QAAMzrB,QAAQsrC,aAAatrC,KAAb,EAAd;AACA,QAAM4pC,OAAO0B,aAAa1B,IAAb,EAAb;AACA,QAAMI,QAAQsB,aAAatB,KAAb,EAAd;AACA,QAAMzlC,SAAS+mC,aAAa/mC,MAAb,MAAyB,EAAxC;AARsC,QAUlC6nC,cAVkC,GAcjCd,YAdiC,CAUlCc,cAVkC;AAAA,QAWlCC,eAXkC,GAcjCf,YAdiC,CAWlCe,eAXkC;AAAA,QAYlCh0C,SAZkC,GAcjCizC,YAdiC,CAYlCjzC,SAZkC;AAAA,QAalCi0C,UAbkC,GAcjChB,YAdiC,CAalCgB,UAbkC;AAAA,QAgBlCrC,WAhBkC,GAwBjC/vC,MAxBiC,CAgBlC+vC,WAhBkC;AAAA,QAiBlCp+C,IAjBkC,GAwBjCqO,MAxBiC,CAiBlCrO,IAjBkC;AAAA,QAkBlC0gD,OAlBkC,GAwBjCryC,MAxBiC,CAkBlCqyC,OAlBkC;AAAA,QAmBlCN,OAnBkC,GAwBjC/xC,MAxBiC,CAmBlC+xC,OAnBkC;AAAA,QAoBlCO,eApBkC,GAwBjCtyC,MAxBiC,CAoBlCsyC,eApBkC;AAAA,QAqBlC7N,SArBkC,GAwBjCzkC,MAxBiC,CAqBlCykC,SArBkC;AAAA,QAsBlCQ,EAtBkC,GAwBjCjlC,MAxBiC,CAsBlCilC,EAtBkC;AAAA,QAuBlCa,WAvBkC,GAwBjC9lC,MAxBiC,CAuBlC8lC,WAvBkC;AAAA,QA0BlCf,IA1BkC,GA6BlC4K,YA7BkC,CA0BlC5K,IA1BkC;AAAA,QA2BlCwN,YA3BkC,GA6BlC5C,YA7BkC,CA2BlC4C,YA3BkC;AAAA,QA4BlCtC,MA5BkC,GA6BlCN,YA7BkC,CA4BlCM,MA5BkC;;AA8BtC,QAAI,CAAClL,IAAD,IAAS,CAAC16B,OAAOvU,MAArB,EAA6B;AACzB;AACH;;AAED,QAAMo6C,WAAWkB,aAAajB,WAAb,EAAjB;;AAEA,QAAMgB,kBAAkBvM,8DAAWA,CAAC4B,gEAAaA,CAACjV,KAAd,CAAZ,EAAkC,GAAlC,EAAuC,CAAC6f,YAAD,CAAvC,OAA0D3M,SAA1D,EAAuE,EAAvE,EACpB;AAAA,eAAO9xC,IAAIqN,MAAJ,GAAailC,EAApB;AAAA,KADoB,CAAxB;;AAGA;AACAuK,iBAAagD,QAAb,CAAsBL,eAAtB;;AAEA,QAAMM,YAAY3C,MAAMD,KAAN,IAAeC,MAAM4C,QAArB,IAAiC5C,MAAMzlC,MAAzD;;AAEAlM,iBAAauxC,KAAKa,UAAL,CAAgBpyC,UAAUi0C,cAAc1C,KAAK0C,UAAL,EAAd,IAAmCK,WAA7C,CAAhB,CAAb;;AAEA;AACA,QAAM3F,iBAAiBx+B,KAAKmf,GAAL,CAAS3nB,MAAM,CAAN,IAAWA,MAAM,CAAN,CAApB,CAAvB;;AAEA;AACA,QAAM6sC,aAAavB,aAAawB,uBAAb,GAAuCC,qBAA1D;;AAEA;AACA1B,oBAAgB/K,IAAhB,CAAqB,WAArB,iBAA+CiM,OAA/C,SAA0DN,OAA1D;AACAJ,qBAAiBP,YAAjB;AACA,QAAInB,OAAOL,UAAP,KAAsB,KAAtB,IAA+BM,aAAa,CAAhD,EAAmD;AAC/CiB,wBAAgBH,UAAhB,GACiBC,QADjB,CAC0B,IAD1B,EACgC1/C,IADhC,CACqCm+C,IADrC;AAEH,KAHD,MAGO;AACHyB,wBAAgB5/C,IAAhB,CAAqBm+C,IAArB;AACH;AACDyB,oBAAgBI,SAAhB,CAA0B,OAA1B,EAAmCvL,OAAnC,CAA8CF,WAA9C,aAAmE,IAAnE;AACAqL,oBAAgBI,SAAhB,CAA0B,YAA1B,EAAwCvL,OAAxC,CAAmDF,WAAnD,kBAA6E,IAA7E;;AAEA;AACA,QAAMyJ,WAAW4B,gBAAgBI,SAAhB,CAA0B,YAA1B,CAAjB;AACAhC,aAASvJ,OAAT,CAAoBF,WAApB,aAAyC,IAAzC,EACiBE,OADjB,CAC4BF,WAD5B,eACiDb,EADjD,EACuD,IADvD;;AAGAiM,0BAAsBC,eAAtB,EAAuCC,YAAvC,EAAqDlB,QAArD;;AAEA;AACA,QAAM2B,WAAWjN,8DAAWA,CAACuM,eAAZ,EAA6B,MAA7B,EAAqC,CAACx/C,IAAD,CAArC,EAAgDm0C,WAAhD,iBACAM,IADA,CACK,aADL,EACoB,QADpB,EAEAJ,OAFA,CAEWF,WAFX,mBAEoCb,EAFpC,EAE0C,IAF1C,EAGAtvC,IAHA,CAGK;AAAA,eAAKjE,CAAL;AAAA,KAHL,CAAjB;;AAKA;AACAmgD,aAAS7L,OAAT,CAAiB8M,uDAAjB,EAAyB,CAACP,YAA1B;;AAEC;AACD,QAAMP,cAAclF,iBAAiB,CAArC;;AAEA;AACA0C,iBAAagD,QAAb,CAAsBN,cAAtB;AACA,QAAMa,gBAAgBvD,aAAaiB,UAAb,CAAwB9+C,IAAxB,CAAtB;AACA,QAAM6tB,WAAW;AACbmzB,8BADa;AAEbzC,0BAFa;AAGboC,wCAHa;AAIbR,wBAAgBiB,cAActV,MAJjB;AAKbuV,uBAAeD,cAAcvV,KALhB;AAMbuU,wBANa;AAObM,wBAPa;AAQbL,gCARa;AASblF,wBAAgBsE,aAAatE,cAAb;AATH,KAAjB;AAWA;AACA8E,mBAAeC,QAAf,EAAyB9B,WAAzB,EAAsCvwB,QAAtC;AACH,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzTD;AACA;AACA;AACA;AACA;;IAEqByzB,Q;;;;;;;;;;;;;AAEjB;;;;;;;oCAOantC,K,EAAO;AAChB,gBAAMgqC,wHAA0BhqC,KAA1B,CAAN;;AADgB,0BAEI,KAAK9F,MAAL,EAFJ;AAAA,gBAERkzC,OAFQ,WAERA,OAFQ;;AAGhB,gBAAI,OAAOA,OAAP,KAAmB,QAAvB,EAAiC;AAC7BpD,sBAAMoD,OAAN,CAAcA,OAAd;AACH;AACD,mBAAOpD,KAAP;AACH;;AAED;;;;;;;;;;;;AAWC;;;;;;;;4CAQwD;AAAA,gBAAtCtS,KAAsC,uEAA9B,CAA8B;AAAA,gBAA3BC,MAA2B;AAAA,gBAAnByV,OAAmB;AAAA,gBAAVC,QAAU;;AACrD,gBAAIC,cAAc,EAAlB;;AADqD,2BAIlD,KAAKpzC,MAAL,EAJkD;AAAA,gBAGlD+vC,WAHkD,YAGlDA,WAHkD;;AAMrD,iBAAKjD,cAAL,CAAoB,EAAEtP,YAAF,EAASC,cAAT,EAAiByV,gBAAjB,EAApB;;AAEA,gBAAInD,gBAAgB1U,2DAAhB,IAAuB0U,gBAAgBvU,8DAA3C,EAAmD;AAC/C4X,8BAAcC,iEAAWA,CAAC,IAAZ,EAAkB,EAAEF,kBAAF,EAAlB,EAAgCG,IAAhC,CAAqCn1B,CAArC,EAAd;AACH,aAFD,MAEO;AACHi1B,8BAAcC,iEAAWA,CAAC,IAAZ,EAAkB,EAAEF,kBAAF,EAAlB,EAAgCG,IAAhC,CAAqCprB,CAArC,EAAd;AACH;;AAED;AACA,iBAAKynB,YAAL,CAAkB;AACdM,wBAAQmD;AADM,aAAlB;AAGA,iBAAKG,aAAL;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;wCAMiB;AACb,gBAAI3D,aAAa,EAAjB;AACA,gBAAI4D,mBAAJ;AACA,gBAAMnpC,SAAS,KAAKA,MAAL,EAAf;AAHa,gBAILmlC,YAJK,GAIY,KAAK/S,aAJjB,CAIL+S,YAJK;;AAAA,2BAKsB,KAAKxvC,MAAL,EALtB;AAAA,gBAKLoyC,UALK,YAKLA,UALK;AAAA,gBAKO7B,UALP,YAKOA,UALP;;AAAA,gCAMM,KAAKZ,YAAL,EANN;AAAA,gBAMLM,MANK,iBAMLA,MANK;;AAAA,iCAO8C,KAAKwD,aAAL,EAP9C;AAAA,gBAOGhN,WAPH,kBAOLhJ,MAPK;AAAA,gBAOuBiJ,UAPvB,kBAOgBlJ,KAPhB;AAAA,gBAOmCkW,MAPnC,kBAOmCA,MAPnC;;AAAA,oCAQaC,gEAAgBA,CAAC1D,OAAOR,QAAxB,EAAkC/I,UAAlC,EAA8CD,WAA9C,CARb;AAAA,gBAQLjJ,KARK,qBAQLA,KARK;AAAA,gBAQEC,MARF,qBAQEA,MARF;;AASb,gBAAM6S,gBAAgBC,cAAe;AAAA,uBAAO3jC,GAAP;AAAA,aAArC;;AAEAwlC,0BAAc,KAAK1C,IAAL,GAAY0C,UAAZ,CAAuBA,UAAvB,CAAd;AACAxC,yBAAawC,cAAc/nC,MAA3B;AACA;AACAmlC,yBAAagD,QAAb,CAAsB,KAAKL,eAA3B;;AAEA,gBAAI9nC,UAAUA,OAAOvU,MAArB,EAA6B;AACzB,oBAAMyc,SAAS6/B,cAAc/nC,MAA7B;AACAulC,6BAAar9B,OAAO9d,GAAP,CAAW,UAAC/C,CAAD,EAAIL,CAAJ,EAAU;AAC9Bm+C,iCAAaoE,qBAAb,CAAmC,IAAnC;;AAEAJ,iCAAahE,aAAaqE,YAAb,CAA0BvD,cAAc5+C,CAAd,EAAiBL,CAAjB,EAAoBkhB,MAApB,CAA1B,EAAuDirB,KAAvD,EAA8DC,MAA9D,EAAsEiW,MAAtE,CAAb;AACA,2BAAOlE,aAAatyC,WAAb,CAAyB42C,WAAzB,CAAqCN,UAArC,CAAP;AACH,iBALY,CAAb;AAMH;AACD,iBAAK5D,UAAL,CAAgBA,UAAhB;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;0CAMmB;AACf,gBAAI,CAAC,KAAK9F,YAAL,EAAL,EAA0B;AACtB,qBAAKA,YAAL,CAAkBiK,kEAAkBA,CAAC,IAAnB,CAAlB;AACAC,yEAASA,CAAC,IAAV;AACA,qBAAKlK,YAAL;AACH;AACD,mBAAO,KAAKA,YAAL,EAAP;AACH;;AAED;;;;;;;;wCAKiB;AACb,mBAAO,KAAK4F,IAAL,GAAYI,KAAZ,GAAoBzlC,MAApB,EAAP;AACH;;AAED;;;;;;;;;uCAMgB;AACZ,mBAAO,KAAKylC,KAAL,GAAamE,SAAb,EAAP;AACH;;AAED;;;;;;;;;sCAMe;AAAA,iCAIP,KAAKtE,YAAL,EAJO;AAAA,gBAEPuE,cAFO,kBAEPA,cAFO;AAAA,gBAGPC,cAHO,kBAGPA,cAHO;;AAKX,gBAAMzE,OAAO,KAAKA,IAAL,EAAb;;AAEAA,iBAAK0E,aAAL,CAAmBF,iBAAiB,CAAjB,GAAqB,CAAxC;AACAxE,iBAAK2E,aAAL,CAAmBF,iBAAiB,CAAjB,GAAqB,CAAxC;AACA,mBAAOzE,KAAKQ,QAAL,EAAP;AACH;;AAED;;;;;;;;iCAKkB;AAAA;;AAAA,8CAAP79C,KAAO;AAAPA,qBAAO;AAAA;;AACd,gBAAMkgB,SAASlgB,MAAMoC,GAAN,CAAU;AAAA,uBAAK,OAAKq7C,KAAL,GAAawE,MAAb,CAAoB5iD,CAApB,CAAL;AAAA,aAAV,KAA0C,EAAzD;AACA,mBAAOW,MAAMyD,MAAN,KAAiB,CAAjB,GAAqByc,OAAO,CAAP,KAAaA,OAAO,CAAP,EAAUwU,QAAV,EAAlC,GAAyDxU,OAAO9d,GAAP,CAAW;AAAA,uBAAK/C,EAAEq1B,QAAF,EAAL;AAAA,aAAX,CAAhE;AACH;;;+BAjIc;AACX,mBAAOwtB,sDAAP;AACH;;;;EA3BiCC,oD;;AAAjBvB,uE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAKO,IAAMwB,4EACRC,qDADQ,EACFC,8DADE,qCAERC,qDAFQ,EAEFC,8DAFE,qCAGR9D,wDAHQ,EAGC+D,iEAHD,oBAAN;;IAMcC,a;;;AACjB,2BAAa/0C,MAAb,EAAqBs0B,YAArB,EAAmC;AAAA;;AAC/Bt0B,eAAOuwC,UAAP,GAAoBvwC,OAAOuwC,UAAP,IAAsB;AAAA,mBAAO3jC,GAAP;AAAA,SAA1C;AAD+B,6HAEzB5M,MAFyB,EAEjBs0B,YAFiB;AAGlC;AACD;;;;;;;;;;oCAMat0B,M,EAAQ;AAAA,gBAEbg1C,IAFa,GAMbh1C,MANa,CAEbg1C,IAFa;AAAA,gBAGb9B,OAHa,GAMblzC,MANa,CAGbkzC,OAHa;AAAA,gBAIb+B,YAJa,GAMbj1C,MANa,CAIbi1C,YAJa;AAAA,gBAKbC,QALa,GAMbl1C,MANa,CAKbk1C,QALa;;AAOjB,gBAAMpvC,QAAQ,KAAKA,KAAL,EAAd;AACA,gBAAMqvC,kBAAkBV,gBAAgBQ,YAAhB,CAAxB;;AAEA,iBAAKG,aAAL,GAAqB,IAAID,eAAJ,EAArB;AACA,gBAAIrF,QAAQ,KAAKsF,aAAL,CAAmBC,WAAnB,CAA+B;AACvCnC,gCADuC;AAEvCgC,kCAFuC;AAGvCF,0BAHuC;AAIvClvC;AAJuC,aAA/B,CAAZ;;AAOAgqC,oBAAQA,MAAMwF,IAAN,EAAR;AACA,mBAAOxF,KAAP;AACH;;AAED;;;;;;;;;;sCAWeyF,S,EAAW;AACtB,gBAAIA,cAAc,IAAd,IAAsBA,cAAcx7C,SAAxC,EAAmD;AAC/C,uBAAOA,SAAP;AACH;AACD,mBAAO,KAAKq7C,aAAL,CAAmBI,aAAnB,CAAiCD,SAAjC,CAAP;AACH;AACJ;;;;;;;;;sCAMkB;AAAA,gCAIP,KAAK5F,YAAL,EAJO;AAAA,gBAEPuE,cAFO,iBAEPA,cAFO;AAAA,gBAGPC,cAHO,iBAGPA,cAHO;;AAKX,gBAAMzE,OAAO,KAAKA,IAAL,EAAb;AACAA,iBAAK0E,aAAL,CAAmBF,mBAAmB,KAAnB,GAA2B,CAA3B,GAA+B,CAAlD;AACAxE,iBAAK2E,aAAL,CAAmBF,mBAAmB,KAAnB,GAA2B,CAA3B,GAA+B,CAAlD;;AAEA,mBAAOzE,KAAKQ,QAAL,EAAP;AACH;;AAED;;;;;;;;;;+BAOQ7lC,O,EAAQ;AACZ,gBAAIA,WAAUA,QAAOvU,MAArB,EAA6B;AACzB2/C,sFAAsBA,CAAC,IAAvB,EAA6BprC,OAA7B;AACA,qBAAKqrC,0BAAL;AACA,qBAAK5L,YAAL,CAAkB,IAAlB;AACA,uBAAO,IAAP;AACH,aALD,MAKO,IAAIz/B,OAAJ,EAAY;AACf,qBAAKsrC,OAAL,GAAe,EAAf;AACH,aAAC,OAAO,KAAKA,OAAZ;AACL;;AAED;;;;;;;;;;;4CAQyD;AAAA,gBAAtCnY,KAAsC,uEAA9B,CAA8B;AAAA,gBAA3BC,MAA2B;AAAA,gBAAnByV,OAAmB;AAAA,gBAAVC,QAAU;;AACrD,gBAAIC,cAAc,EAAlB;;AADqD,0BAIlD,KAAKpzC,MAAL,EAJkD;AAAA,gBAGlD+vC,WAHkD,WAGlDA,WAHkD;;AAMrD,iBAAKjD,cAAL,CAAoB,EAAEtP,YAAF,EAASC,cAAT,EAAiByV,gBAAjB,EAApB;;AAEA,gBAAInD,gBAAgB1U,2DAAhB,IAAuB0U,gBAAgBvU,8DAA3C,EAAmD;AAC/C4X,8BAAcC,iEAAWA,CAAC,IAAZ,EAAkB,EAAEF,kBAAF,EAAlB,EAAgCyC,SAAhC,CAA0Cz3B,CAA1C,EAAd;AACH,aAFD,MAEO;AACHi1B,8BAAcC,iEAAWA,CAAC,IAAZ,EAAkB,EAAEF,kBAAF,EAAlB,EAAgCyC,SAAhC,CAA0C1tB,CAA1C,EAAd;AACH;;AAED;AACA,iBAAKynB,YAAL,CAAkB;AACdM,wBAAQmD;AADM,aAAlB;AAGA,iBAAKG,aAAL;AACA,iBAAKpD,WAAL;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;wCAOiB;AAAA,2BAGT,KAAKnwC,MAAL,EAHS;AAAA,gBAEToyC,UAFS,YAETA,UAFS;;AAAA,iCAMT,KAAKzC,YAAL,EANS;AAAA,gBAKTuE,cALS,kBAKTA,cALS;;AAOb,gBAAMxE,OAAO,KAAKA,IAAL,EAAb;;AAEA,gBAAI,CAACwE,cAAL,EAAqB;AACjBxE,qBAAK0C,UAAL,CAAgB,EAAhB;AACA,uBAAO,IAAP;AACH;;AAED,gBAAIA,UAAJ,EAAgB;AACZA,sCAAsBh5C,KAAtB,IAA+B,KAAKs2C,IAAL,GAAY0C,UAAZ,CAAuBA,UAAvB,CAA/B;AACA,uBAAO,IAAP;AACH;AACD1C,iBAAK0C,UAAL,CAAgB,KAAKyD,aAAL,EAAhB;;AAEA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;wCAMiB;AACb,gBAAIC,WAAW,CAAf;;AADa,2BAKT,KAAK91C,MAAL,EALS;AAAA,gBAGT+vC,WAHS,YAGTA,WAHS;AAAA,gBAITqC,UAJS,YAITA,UAJS;;AAMb,gBAAMtsC,QAAQ,KAAKA,KAAL,EAAd;AACA,gBAAM4pC,OAAO,KAAKA,IAAL,EAAb;;AAEA,gBAAM5C,iBAAiBx+B,KAAKmf,GAAL,CAAS3nB,MAAM,CAAN,IAAWA,MAAM,CAAN,CAApB,CAAvB;;AAEA,gBAAM6sC,aAAa,KAAKC,uBAAL,GAA+BC,qBAAlD;;AAEA,gBAAIT,UAAJ,EAAgB;AACZ,uBAAO1C,KAAKI,KAAL,GAAaD,KAAb,CAAmBuC,UAAnB,CAAP;AACH;AACD0D,uBAAWnD,WAAW5C,gBAAgBvU,8DAAhB,IAA0BuU,gBAAgB1U,2DAA1C,GAAgD,OAAhD,GAA0D,QAArE,CAAX;;AAEA,mBAAO0a,gEAAgBA,CAACjJ,cAAjB,EAAiCgJ,QAAjC,EAA2CpG,IAA3C,EAAiD,IAAjD,CAAP;AACH;;;+CAEuB;AACpB,mBAAOsG,kEAAeA,CAAC,KAAKh2C,MAAL,GAAcoyC,UAA9B,CAAP;AACH;;AAED;;;;;;;;;;;yCAQkB7C,Q,EAAU;AAAA,2BAGpB,KAAKvvC,MAAL,EAHoB;AAAA,gBAEpB+vC,WAFoB,YAEpBA,WAFoB;;AAAA,iCAMpB,KAAKJ,YAAL,EANoB;AAAA,gBAKpBM,MALoB,kBAKpBA,MALoB;;AAAA,gBASpBR,QAToB,GAUpBQ,MAVoB,CASpBR,QAToB;;AAWxB,gBAAMC,OAAO,KAAKA,IAAL,EAAb;AACA,gBAAMG,QAAQH,KAAKI,KAAL,GAAaD,KAAb,EAAd;AAZwB,wCAaE,KAAK+C,uBAAL,GAA+BqD,iBAA/B,CAAiD,CAAjD,CAbF;AAAA,gBAahBzY,KAbgB,yBAahBA,KAbgB;AAAA,gBAaTC,MAbS,yBAaTA,MAbS;;AAcxBiS,iBAAKwG,aAAL,CAAmB,UAACxkD,CAAD,EAAO;AACtB,oBAAIA,MAAMm+C,MAAM,CAAN,CAAV,EAAoB;AAChB,wBAAKE,gBAAgBzU,4DAAhB,IAAwByU,gBAAgBxU,6DAA7C,EAAqD;AACjD,kDAAyBkC,MAAD,GAAW,CAAnC;AACH;AACD,wBAAI,CAACsS,gBAAgB1U,2DAAhB,IAAuB0U,gBAAgBvU,8DAAxC,KAAmD,CAACiU,QAAxD,EAAkE;AAC9D,8CAAoBjS,QAAQ,CAA5B,aAAqC,CAArC;AACH;AACJ,iBAAC,OAAO,EAAP;AACL,aATD;AAUA,mBAAO+R,QAAP;AACH;;;+BA3Kc;AACX,mBAAOwB,wDAAP;AACH;;;;EA1CsCyD,oD;;AAAtBO,4E;;;;;;;;;;;;ACjBrB;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA;;;;AAIO,IAAMtR,gBAAgB;AACzBwB,QAAIlY,8DAAWA,EADU;AAEzBopB,cAAU;AACNC,sBAAc;AADR,KAFe;AAKzB9D,qBAAiB,EALQ;AAMzB0C,UAAM,EANmB;AAOzBlP,iBAAauQ,4DAPY;AAQzB5R,eAAc4R,4DAAd,UARyB;AASzBnB,cAAU,CATe;AAUzBD,kBAAc,QAVW;AAWzBjF,mBAAe,IAXU;AAYzBC,YAAQ;AACJR,kBAAU,IADN;AAEJG,oBAAY;AAFR,KAZiB;AAgBzBG,iBAAa,MAhBY;AAiBzBvjC,kBAAc;AAAA,eAAOI,GAAP;AAAA,KAjBW;AAkBzBsmC,aAAS,GAlBgB;AAmBzBoC,UAAM,IAnBmB;AAoBzBgB,mBAAe,EApBU;AAqBzBC,YAAQ,KArBiB;AAsBzBxR,UAAM,IAtBmB;AAuBzBwN,kBAAc,IAvBW;AAwBzB2B,oBAAgB,IAxBS;AAyBzBC,oBAAgB,IAzBS;AA0BzB5O,WAAO,EA1BkB;AA2BzB1kC,UAAM,QA3BmB;AA4BzB0vC,gBAAY,IA5Ba;AA6BzB6B,gBAAY,IA7Ba;AA8BzBC,aAAS,CA9BgB;AA+BzBN,aAAS;AA/BgB,CAAtB,C;;;;;;;;;;;;;;;;;;;;;;;;;;ACPP;;AAEO,IAAM4B,mBAAmB,SAAnBA,gBAAmB,GAAiC;AAAA,QAAhClE,QAAgC,uEAArB,CAAqB;AAAA,QAAlBjS,KAAkB;AAAA,QAAXC,MAAW;;AAC7D,QAAI+Y,gBAAgB/Y,MAApB;AACA,QAAIgZ,eAAejZ,KAAnB;AACA,QAAIiS,QAAJ,EAAc;AACV,YAAMiH,QAAS,CAACjH,YAAY,CAAb,IAAkBnhC,KAAKqoC,EAAxB,GAA8B,GAA5C;AACAF,uBAAenoC,KAAKmf,GAAL,CAASgQ,SAASnvB,KAAKsiC,GAAL,CAAS8F,KAAT,CAAlB,IAAqCpoC,KAAKmf,GAAL,CAAS+P,QAAQlvB,KAAKsoC,GAAL,CAASF,KAAT,CAAjB,CAApD;AACAF,wBAAgBloC,KAAKmf,GAAL,CAAS+P,QAAQlvB,KAAKsiC,GAAL,CAAS8F,KAAT,CAAjB,IAAoCpoC,KAAKmf,GAAL,CAASgQ,SAASnvB,KAAKsoC,GAAL,CAASF,KAAT,CAAlB,CAApD;AACH;AACD,WAAO,EAAElZ,OAAOiZ,YAAT,EAAuBhZ,QAAQ+Y,aAA/B,EAAP;AACH,CATM;;AAWP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,IAAMxC,YAAY,SAAZA,SAAY,CAACxS,OAAD,EAAa;AAClC,QAAIrjB,IAAI,CAAR;AACA,QAAI+J,IAAI,CAAR;AACA,QAAM4hB,eAAetI,QAAQsI,YAAR,EAArB;AACA,QAAM9pC,SAASwhC,QAAQxhC,MAAR,EAAf;AAJkC,QAM9B+vC,WAN8B,GAS9B/vC,MAT8B,CAM9B+vC,WAN8B;AAAA,QAO9BsC,OAP8B,GAS9BryC,MAT8B,CAO9BqyC,OAP8B;AAAA,QAQ9BN,OAR8B,GAS9B/xC,MAT8B,CAQ9B+xC,OAR8B;;AAUlC,QAAIhC,gBAAgBzU,4DAApB,EAA0B;AACtBnd,YAAIk0B,YAAYt4C,SAAZ,GAAwB+vC,aAAatM,KAArC,GAA6C6U,OAAjD;AACH;AACD,QAAItC,gBAAgB1U,2DAApB,EAAyB;AACrBnT,YAAI6pB,YAAYh4C,SAAZ,GAAwB+vC,aAAarM,MAArC,GAA8CsU,OAAlD;AACH;AACDvQ,YAAQxhC,MAAR,CAAe,EAAEqyC,SAASl0B,CAAX,EAAc4zB,SAAS7pB,CAAvB,EAAf;AACH,CAjBM;;AAmBA,IAAM6tB,mBAAmB,SAAnBA,gBAAmB,CAACjJ,cAAD,EAAiBgJ,QAAjB,EAA2BpG,IAA3B,EAAiC0B,YAAjC,EAAkD;AAC9E,QAAMvB,QAAQH,KAAKI,KAAL,GAAaD,KAAb,EAAd;;AAD8E,+BAEpDuB,aAAapxC,MAAb,EAFoD;AAAA,QAEtEs2C,aAFsE,wBAEtEA,aAFsE;;AAG9E,QAAMO,aAAahH,MAAM/5C,MAAzB;AACA,QAAIghD,iBAAiBD,UAArB;;AAEA,QAAIA,cAAcf,WAAW,GAAzB,IAAgChJ,cAApC,EAAoD;AAChDgK,yBAAiBxoC,KAAKuT,KAAL,CAAWirB,kBAAkBgJ,WAAW,GAA7B,CAAX,CAAjB;AACH;;AAEDgB,qBAAiBxoC,KAAK3D,GAAL,CAAS2rC,aAAT,EAAwBhoC,KAAKxD,GAAL,CAAS,CAAT,EAAYgsC,cAAZ,CAAxB,CAAjB;;AAEA,WAAOpH,KAAKI,KAAL,GAAaD,KAAb,CAAmBiH,cAAnB,CAAP;AACH,CAbM;;AAeA,IAAMC,6BAA6B,SAA7BA,0BAA6B,CAACvV,OAAD,EAAa;AACnD,QAAIwV,cAAc,EAAlB;AACA,QAAInE,wBAAwB,EAAErV,OAAO,CAAT,EAAYC,QAAQ,CAApB,EAA5B;AACA,QAAIwZ,YAAY,EAAhB;AACA,QAAIC,kBAAJ;AACA,QAAMjB,oBAAoB,EAA1B;AACA,QAAMnG,QAAQtO,QAAQsO,KAAR,EAAd;;AANmD,gCAO1BtO,QAAQmO,YAAR,EAP0B;AAAA,QAO3C4C,YAP2C,yBAO3CA,YAP2C;;AAAA,0BAQtB/Q,QAAQxhC,MAAR,EARsB;AAAA,QAQ3CoyC,UAR2C,mBAQ3CA,UAR2C;AAAA,QAQ/BzgD,IAR+B,mBAQ/BA,IAR+B;;AAAA,gCAS1B6vC,QAAQlN,YAAR,EAT0B;AAAA,QAS3Ckb,YAT2C,yBAS3CA,YAT2C;;AAUnD,QAAMiD,YAAY3C,MAAMD,KAAN,IAAeC,MAAM4C,QAArB,IAAiC5C,MAAMzlC,MAAzD;;AAEA;AACAmlC,iBAAagD,QAAb,CAAsBhR,QAAQ2Q,eAA9B;;AAEA;AACA+E,gBAAY9E,cAAcK,WAA1B;;AAEA;AACAyE,gBAAYA,UAAUziD,GAAV,CAAc,UAAC0iD,aAAD,EAAgB9lD,CAAhB,EAAsB;AAC5C,YAAM2qB,QAAQwlB,QAAQ4V,gBAAR,CAAyBD,aAAzB,EAAwC9lD,CAAxC,EAA2C6lD,SAA3C,CAAd;;AAEJ;AACI,YAAMG,iBAAiB7H,aAAaiB,UAAb,CAAwBz0B,KAAxB,CAAvB;;AAEJ;AACIi6B,0BAAkB5gD,IAAlB,CAAuBgiD,cAAvB;;AAEJ;AACI,YAAIA,eAAe7Z,KAAf,GAAuBqV,sBAAsBrV,KAAjD,EAAwD;AACpDwZ,0BAAch7B,KAAd;AACAi7B,wBAAYzV,QAAQoO,UAAR,KAAuBpO,QAAQoO,UAAR,GAAqBv+C,CAArB,CAAvB,GAAiD,EAA7D;AACAwhD,oCAAwBwE,cAAxB;AACH;AACD,eAAOr7B,KAAP;AACH,KAhBW,CAAZ;;AAkBAwzB,iBAAagD,QAAb,CAAsBhR,QAAQ0Q,cAA9B;AACA,QAAMoF,qBAAqB/E,eAAe/C,aAAaiB,UAAb,CAAwB9+C,IAAxB,CAAf,GAA+C,EAAE6rC,OAAO,CAAT,EAAYC,QAAQ,CAApB,EAA1E;;AAEA,WAAO;AACH6Z,8CADG;AAEHN,gCAFG;AAGHnE,oDAHG;AAIHoD,4CAJG;AAKHiB,4BALG;AAMHD,4BANG;AAOH/G,kBAAU1O,QAAQ2O,WAAR;AAPP,KAAP;AASH,CAjDM;;AAmDA,IAAMoH,wBAAwB,SAAxBA,qBAAwB,CAAC/V,OAAD,EAAa;AAC9C,QAAI6V,iBAAiB,EAArB;;AAD8C,iCAE3B7V,QAAQmO,YAAR,EAF2B;AAAA,QAEtCM,MAFsC,0BAEtCA,MAFsC;;AAAA,QAGtCL,UAHsC,GAGbK,MAHa,CAGtCL,UAHsC;AAAA,QAG1BH,QAH0B,GAGbQ,MAHa,CAG1BR,QAH0B;;AAAA,gCAW1CsH,2BAA2BvV,OAA3B,CAX0C;AAAA,QAK1CqR,qBAL0C,yBAK1CA,qBAL0C;AAAA,QAM1CqE,SAN0C,yBAM1CA,SAN0C;AAAA,QAO1CD,SAP0C,yBAO1CA,SAP0C;AAAA,QAQ1CK,kBAR0C,yBAQ1CA,kBAR0C;AAAA,QAS1CrB,iBAT0C,yBAS1CA,iBAT0C;AAAA,QAU1C/F,QAV0C,yBAU1CA,QAV0C;;AAAA,QAY9BsH,WAZ8B,GAYK3E,qBAZL,CAYtCpV,MAZsC;AAAA,QAYVga,UAZU,GAYK5E,qBAZL,CAYjBrV,KAZiB;;AAc9C;;AACA,QAAMnzB,SAASm3B,QAAQn3B,MAAR,EAAf;AACA;;AAEA,QAAIA,OAAOvU,MAAP,KAAkB,CAAtB,EAAyB;AACrB,eAAO,IAAP;AACH;AACD,QAAI85C,UAAJ,EAAgB;AACZyH,yBAAiBJ,SAAjB;AACH,KAFD,MAEO;AACHI,yBAAiB,EAAE7Z,OAAOia,UAAT,EAAqBha,QAAQ+Z,WAA7B,EAAjB;AACH;AACDH,qBAAiB1D,iBAAiBlE,QAAjB,EAA2B4H,eAAe7Z,KAA1C,EAAiD6Z,eAAe5Z,MAAhE,CAAjB;;AAEA,QAAIyS,aAAa,CAAjB,EAAoB;AAChBmH,yBAAiB,EAAE7Z,OAAO,CAAT,EAAYC,QAAQ,CAApB,EAAjB;AACH;AACD,WAAO;AACHwY,4CADG;AAEH/F,0BAFG;AAGHmH,sCAHG;AAIHC,8CAJG;AAKHzE,oDALG;AAMHqE;AANG,KAAP;AAQH,CAvCM;;AAyCP;;;;;;;;AAQO,IAAMQ,yBAAyB,SAAzBA,sBAAyB,CAAClW,OAAD,EAAUmW,cAAV,EAA0B7xC,KAA1B,EAAoC;AACtE,QAAI03B,cAAJ;AACA,QAAIC,eAAJ;AACA,QAAMpzB,SAASm3B,QAAQn3B,MAAR,EAAf;AAHsE,QAI9D6lC,QAJ8D,GAIbyH,cAJa,CAI9DzH,QAJ8D;AAAA,QAIpDmH,cAJoD,GAIbM,cAJa,CAIpDN,cAJoD;AAAA,QAIpCC,kBAJoC,GAIbK,cAJa,CAIpCL,kBAJoC;;AAAA,2BAK9B9V,QAAQxhC,MAAR,EAL8B;AAAA,QAK9DsyC,eAL8D,oBAK9DA,eAL8D;AAAA,QAK7CF,UAL6C,oBAK7CA,UAL6C;;AAAA,iCAM7C5Q,QAAQmO,YAAR,EAN6C;AAAA,QAM9D4C,YAN8D,0BAM9DA,YAN8D;;AAAA,QAOtDqF,aAPsD,GAOpCN,kBAPoC,CAO9D7Z,MAP8D;AAAA,QAQtDoa,aARsD,GAQfR,cARe,CAQ9D5Z,MAR8D;AAAA,QAQhCqa,YARgC,GAQfT,cARe,CAQvC7Z,KARuC;;;AAUtEA,YAAQ13B,SAASA,MAAMhQ,MAAf,GAAwBgQ,MAAM,CAAN,IAAWA,MAAM,CAAN,CAAnC,GAA8C,CAAtD;;AAEA23B,aAAS,CAAT;AACA,QAAI2U,UAAJ,EAAgB;AACZ,YAAM2F,cAAcvW,QAAQwW,oBAAR,EAApB;AADY,mBAEO,CACf1pC,KAAK3D,GAAL,gCAAYynC,UAAZ,4BAA2B/nC,MAA3B,GADe,EAEfiE,KAAKxD,GAAL,gCAAYsnC,UAAZ,4BAA2B/nC,MAA3B,GAFe,CAFP;AAAA,YAELM,GAFK;AAAA,YAEAG,GAFA;;;AAOZ0yB,gBAAS,CAAC1yB,MAAMH,GAAP,IAAc2D,KAAKmf,GAAL,CAASsqB,WAAT,CAAf,IAAyCD,eAAetW,QAAQyW,gBAAR,CAAyBza,KAAjF,CAAR;AACH;AACD,QAAI,CAACA,KAAD,IAAUA,UAAU,CAAxB,EAA2B;AACvBC,iBAASnvB,KAAKxD,GAAL,CAASgtC,YAAT,EAAuBD,aAAvB,CAAT;AACH,KAFD,MAEO;AACHpa,iBAASoa,aAAT;AACH;AACDpa,cAAU,CAAC8U,eAAeqF,gBAAgBtF,eAA/B,GAAiD,CAAlD,IAAuDpC,QAAjE;;AAEA,WAAO;AACH1S,oBADG;AAEHC;AAFG,KAAP;AAIH,CAjCM;;AAmCP;;;;;;;;AAQO,IAAMya,uBAAuB,SAAvBA,oBAAuB,CAAC1W,OAAD,EAAUmW,cAAV,EAA6B;AAC7D,QAAIla,eAAJ;AACA,QAAID,cAAJ;AACA,QAAMnzB,SAASm3B,QAAQn3B,MAAR,EAAf;AAH6D,QAIrD6lC,QAJqD,GAIJyH,cAJI,CAIrDzH,QAJqD;AAAA,QAI3CmH,cAJ2C,GAIJM,cAJI,CAI3CN,cAJ2C;AAAA,QAI3BC,kBAJ2B,GAIJK,cAJI,CAI3BL,kBAJ2B;;AAAA,2BAKrB9V,QAAQxhC,MAAR,EALqB;AAAA,QAKrDsyC,eALqD,oBAKrDA,eALqD;AAAA,QAKpCF,UALoC,oBAKpCA,UALoC;;AAAA,iCAMpC5Q,QAAQmO,YAAR,EANoC;AAAA,QAMrD4C,YANqD,0BAMrDA,YANqD;;AAAA,QAO7CqF,aAP6C,GAO3BN,kBAP2B,CAOrD7Z,MAPqD;AAAA,QAQ7Coa,aAR6C,GAQNR,cARM,CAQrD5Z,MARqD;AAAA,QAQvBqa,YARuB,GAQNT,cARM,CAQ9B7Z,KAR8B;;;AAU7DC,aAAS,CAAT;AACAD,YAAQsa,YAAR;AACA,QAAI1F,UAAJ,EAAgB;AACZ,YAAM2F,cAAcvW,QAAQwW,oBAAR,EAApB;AADY,oBAEO,CACf1pC,KAAK3D,GAAL,gCAAYynC,UAAZ,4BAA2B/nC,MAA3B,GADe,EAEfiE,KAAKxD,GAAL,gCAAYsnC,UAAZ,4BAA2B/nC,MAA3B,GAFe,CAFP;AAAA,YAELM,GAFK;AAAA,YAEAG,GAFA;;;AAOZ2yB,iBAAU,CAAC3yB,MAAMH,GAAP,IAAc2D,KAAKmf,GAAL,CAASsqB,WAAT,CAAf,GAAwCF,aAAjD;AACH;AACDra,aAAS,CAAC+U,eAAeqF,aAAf,GAA+B,CAAhC,IAAqC1H,QAArC,GAAgDoC,eAAzD;;AAEA,WAAO;AACH7U,sBADG;AAEHD;AAFG,KAAP;AAIH,CA3BM;;AA6BP;;;;AAIO,IAAMuW,qBAAqB,SAArBA,kBAAqB,CAACvS,OAAD,EAAa;AAC3C,QAAM17B,QAAQ07B,QAAQ17B,KAAR,EAAd;AACA,QAAM6xC,iBAAiBnW,QAAQ2W,iBAAR,EAAvB;;AAF2C,2BAGnB3W,QAAQxhC,MAAR,EAHmB;AAAA,QAGnC+vC,WAHmC,oBAGnCA,WAHmC;;AAAA,iCAI1BvO,QAAQmO,YAAR,EAJ0B;AAAA,QAInC5K,IAJmC,0BAInCA,IAJmC;;AAAA,QAKnC8N,qBALmC,GAKqB8E,cALrB,CAKnC9E,qBALmC;AAAA,QAKZqE,SALY,GAKqBS,cALrB,CAKZT,SALY;AAAA,QAKDjB,iBALC,GAKqB0B,cALrB,CAKD1B,iBALC;AAAA,QAM3BmC,gBAN2B,GAMNvF,qBANM,CAMnCpV,MANmC;;AAO3C,QAAM4a,eAAe7W,QAAQyW,gBAAR,CAAyBza,KAA9C;AACA,QAAIuS,gBAAgB1U,2DAAhB,IAAuB0U,gBAAgBvU,8DAA3C,EAAmD;AAAA,oCAI3Ckc,uBAAuBlW,OAAvB,EAAgCmW,cAAhC,EAAgD7xC,KAAhD,CAJ2C;AAAA,YAE3C03B,MAF2C,yBAE3CA,KAF2C;AAAA,YAG3CC,OAH2C,yBAG3CA,MAH2C;;AAM/C,YAAI,CAACD,MAAD,IAAUA,WAAU,CAAxB,EAA2B;AACvBA,qBAAQyY,kBAAkB72C,MAAlB,CAAyB,UAAC9M,CAAD,EAAIO,CAAJ;AAAA,uBAC7BP,IAAIgc,KAAK3D,GAAL,CAAS9X,EAAE2qC,KAAX,EAAkB3qC,EAAE4qC,MAApB,CAAJ,GAAkC4a,YADL;AAAA,aAAzB,EAC4C,CAD5C,CAAR;AAEH;AACD,YAAItT,SAAS,KAAb,EAAoB;AAChBtH,sBAAS,CAAT;AACH;;AAED,eAAO;AACHD,yBADG;AAEHC;AAFG,SAAP;AAIH;;AA1B0C,gCA+BvCya,qBAAqB1W,OAArB,EAA8BmW,cAA9B,EAA8C7xC,KAA9C,CA/BuC;AAAA,QA6BvC03B,KA7BuC,yBA6BvCA,KA7BuC;AAAA,QA8BvCC,MA9BuC,yBA8BvCA,MA9BuC;;AAiC3C,QAAI,CAACA,MAAD,IAAWA,WAAW,CAA1B,EAA6B;AACzBA,iBAASyZ,UAAUphD,MAAV,IAAoBsiD,mBAAmB5W,QAAQyW,gBAAR,CAAyBxa,MAAhE,IAA0E2a,gBAAnF;AACH;AACD,QAAIrT,SAAS,KAAb,EAAoB;AAChBvH,gBAAQ,CAAR;AACH;;AAED,WAAO;AACHA,oBADG;AAEHC;AAFG,KAAP;AAIH,CA5CM;;AA8CP;;;;AAIO,IAAM6a,0BAA0B,SAA1BA,uBAA0B,CAAC9W,OAAD,EAAa;AAChD,QAAM17B,QAAQ07B,QAAQ17B,KAAR,EAAd;AACA,QAAM6xC,iBAAiBnW,QAAQ2W,iBAAR,EAAvB;;AAFgD,2BAGxB3W,QAAQxhC,MAAR,EAHwB;AAAA,QAGxC+vC,WAHwC,oBAGxCA,WAHwC;;AAAA,iCAIjBvO,QAAQmO,YAAR,EAJiB;AAAA,QAIxC5K,IAJwC,0BAIxCA,IAJwC;AAAA,QAIlCwN,YAJkC,0BAIlCA,YAJkC;;AAAA,QAKxC+E,kBALwC,GAKjBK,cALiB,CAKxCL,kBALwC;;;AAOhD,QAAIvS,SAAS,KAAb,EAAoB;AAChB,eAAO;AACHvH,mBAAO,CADJ;AAEHC,oBAAQ;AAFL,SAAP;AAIH;;AAZ+C,QAcjCuV,aAdiC,GAcfsE,kBAde,CAcxC9Z,KAdwC;;;AAgBhD,QAAIuS,gBAAgB1U,2DAAhB,IAAuB0U,gBAAgBvU,8DAA3C,EAAmD;AAAA,qCAI3Ckc,uBAAuBlW,OAAvB,EAAgCmW,cAAhC,EAAgD7xC,KAAhD,CAJ2C;AAAA,YAE3C03B,OAF2C,0BAE3CA,KAF2C;AAAA,YAG3CC,QAH2C,0BAG3CA,MAH2C;;AAK/C,YAAM8a,YAAYjqC,KAAKxD,GAAL,CAAS0yB,OAAT,EAAgBwV,aAAhB,CAAlB;;AAEA,eAAO;AACHxV,mBAAO+a,SADJ;AAEH9a;AAFG,SAAP;AAIH;;AA3B+C,iCA+B5Cya,qBAAqB1W,OAArB,EAA8BmW,cAA9B,EAA8C7xC,KAA9C,CA/B4C;AAAA,QA6B5C03B,KA7B4C,0BA6B5CA,KA7B4C;AAAA,QA8B5CC,MA9B4C,0BA8B5CA,MA9B4C;;AAiChD,QAAM+a,YAAYlqC,KAAKxD,GAAL,CAAS2yB,MAAT,EAAiB8U,eAAeS,aAAf,GAA+B,CAAhD,CAAlB;;AAEA,WAAO;AACHxV,oBADG;AAEHC,gBAAQ+a;AAFL,KAAP;AAIH,CAvCM;;AAyCA,IAAM/C,yBAAyB,SAAzBA,sBAAyB,CAACjU,OAAD,EAAUn3B,MAAV,EAAqB;AAAA,2BACrBm3B,QAAQxhC,MAAR,EADqB;AAAA,QAC/Cs1C,IAD+C,oBAC/CA,IAD+C;AAAA,QACjCmD,OADiC,oBACzCpuC,MADyC;;AAEvD,QAAIouC,OAAJ,EAAa;AACTpuC,iBAASouC,OAAT;AACH;AACD,QAAIpuC,OAAOvU,MAAP,IAAiBuU,OAAO,CAAP,MAAcA,OAAO,CAAP,CAAnC,EAA8C;AAC1CA,iBAAS,CAAC,CAAD,EAAI,CAACA,OAAO,CAAP,CAAD,GAAa,CAAjB,CAAT;AACH;AACDm3B,YAAQsO,KAAR,GAAgBzlC,MAAhB,CAAuBA,MAAvB;AACAirC,YAAQ9T,QAAQsO,KAAR,GAAgBwF,IAAhB,EAAR;AACA9T,YAAQmU,OAAR,GAAkBnU,QAAQsO,KAAR,GAAgBzlC,MAAhB,EAAlB;AACH,CAXM,C;;;;;;;;;;;;AC/UP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;;ACDA;;IAEqByqC,kB;;;;;;;oCAEJ90C,M,EAAQ;AAAA,gBAEb8F,KAFa,GAGb9F,MAHa,CAEb8F,KAFa;;AAIjB,gBAAM4yC,eAAeC,uDAAQA,CAACC,MAA9B;AACA,iBAAKC,MAAL,GAAcH,eAAe5yC,KAAf,CAAqBA,KAArB,CAAd;AACA,mBAAO,KAAK+yC,MAAZ;AACH;;;sCAEctD,S,EAAW;AACtB,mBAAO,KAAKsD,MAAL,CAAYtD,SAAZ,IAAyB,GAAhC;AACH;;;uCAEelrC,M,EAAQ;AACpB,mBAAOA,MAAP;AACH;;;;;;AAjBgByqC,iF;;;;;;;;;;;;;;;;;;ACFrB;;IAEqBH,e;;;;;;;oCAEJ30C,M,EAAQ;AAAA,gBAEb8F,KAFa,GAIb9F,MAJa,CAEb8F,KAFa;AAAA,gBAGbkvC,IAHa,GAIbh1C,MAJa,CAGbg1C,IAHa;;AAKjB,gBAAM0D,eAAeC,uDAAQA,CAACG,GAA9B;AACA,iBAAKD,MAAL,GAAcH,eAAe5yC,KAAf,CAAqBA,KAArB,EAA4BkvC,IAA5B,CAAiCA,IAAjC,CAAd;AACA,mBAAO,KAAK6D,MAAZ;AACH;;;sCAEctD,S,EAAW;AACtB,gBAAIA,aAAa,CAAjB,EAAoB;AAChB,uBAAO,CAAP;AACH;;AAED,mBAAO,KAAKsD,MAAL,CAAYtD,SAAZ,IAAyB,GAAhC;AACH;;;uCAEelrC,M,EAAQ;AACpB,gBAAIA,OAAO,CAAP,KAAa,CAAjB,EAAoB;AAChB,uBAAO,CAACiE,KAAKxD,GAAL,CAAS,CAAT,EAAYT,OAAO,CAAP,CAAZ,CAAD,EAAyBiE,KAAKxD,GAAL,CAAS,CAAT,EAAYT,OAAO,CAAP,CAAZ,CAAzB,CAAP;AACH,aAAC,OAAOA,MAAP;AACL;;;;;;AAxBgBsqC,8E;;;;;;;;;;;;;;;;;;ACFrB;;IAEqBE,e;;;;;;;oCAEJ70C,M,EAAQ;AAAA,gBAEb8F,KAFa,GAIb9F,MAJa,CAEb8F,KAFa;AAAA,gBAGbovC,QAHa,GAIbl1C,MAJa,CAGbk1C,QAHa;;AAKjB,gBAAMwD,eAAeC,uDAAQA,CAAC95B,GAA9B;AACA,iBAAKg6B,MAAL,GAAcH,eAAe5yC,KAAf,CAAqBA,KAArB,EAA4BovC,QAA5B,CAAqCA,QAArC,CAAd;AACA,mBAAO,KAAK2D,MAAZ;AACH;;;sCAEctD,S,EAAW;AACtB,mBAAO,KAAKsD,MAAL,CAAYtD,SAAZ,IAAyB,GAAhC;AACH;;;uCAEelrC,M,EAAQ;AACpB,mBAAOA,MAAP;AACH;;;;;;AAlBgBwqC,8E;;;;;;;;;;;;ACFrB;AAAA;AAAA;AAAA;;AAEO,IAAMjH,QAAQ;AACjBd,oBAAgB,EADC;AAEjB6K,oBAAgB,EAFC;AAGjB/E,6BAAyB,EAHR;AAIjB5yC,YAAQ;AACJ6tC,sBAAc,sBAACrM,OAAD,EAAUnvC,KAAV,EAAoB;AAC9B,gBAAM0mD,YAAYjnD,OAAO4H,MAAP,CAAc,EAAd,EAAkB8nC,QAAQvd,OAAR,IAAmB,EAArC,CAAlB;AACA5xB,oBAAQsqC,iEAAcA,CAACoc,SAAf,EAA0B1mD,KAA1B,CAAR;AACAA,kBAAMigD,eAAN,GAAwBhkC,KAAKxD,GAAL,CAASzY,MAAMigD,eAAf,EAAgC,CAAhC,CAAxB;AACA,gBAAIjgD,MAAM09C,WAAN,KAAsBgJ,UAAUhJ,WAApC,EAAiD;AAC7CvO,wBAAQkO,IAAR,CAAalO,QAAQwX,UAAR,CAAmB3mD,KAAnB,CAAb;AACH;AAN6B,yBAa1BA,KAb0B;AAAA,gBAQ1B49C,MAR0B,UAQ1BA,MAR0B;AAAA,gBAS1BlL,IAT0B,UAS1BA,IAT0B;AAAA,gBAU1BmP,cAV0B,UAU1BA,cAV0B;AAAA,gBAW1BC,cAX0B,UAW1BA,cAX0B;AAAA,gBAY1B5B,YAZ0B,UAY1BA,YAZ0B;;AAc9B/Q,oBAAQmO,YAAR,CAAqB;AACjBM,8BADiB;AAEjBlL,0BAFiB;AAGjBmP,8CAHiB;AAIjBC,8CAJiB;AAKjB5B;AALiB,aAArB;AAOA,mBAAOlgD,KAAP;AACH;AAvBG,KAJS;AA6BjBs9C,kBAAc;AACV9B,sBAAc,sBAACrM,OAAD,EAAUnvC,KAAV,EAAoB;AAC9B,gBAAM0mD,YAAYjnD,OAAO4H,MAAP,CAAc,EAAd,EAAkB8nC,QAAQyX,aAAR,IAAyB,EAA3C,CAAlB;AACA5mD,oBAAQsqC,iEAAcA,CAACoc,SAAf,EAA0B1mD,KAA1B,CAAR;AACA,mBAAOA,KAAP;AACH;AALS,KA7BG;AAoCjBy3C,kBAAc,EApCG;AAqCjBvY,WAAO,EArCU;AAuCjBzrB,WAAO;AACH+nC,sBAAc,sBAACrM,OAAD,EAAUnvC,KAAV,EAAoB;AAC9BmvC,oBAAQsO,KAAR,GAAgBhqC,KAAhB,CAAsBzT,KAAtB;AACAmvC,oBAAQsI,YAAR,CAAqB,IAArB;AACA,mBAAOz3C,KAAP;AACH;AALE,KAvCU;;AA+CjBu9C,gBAAY,EA/CK;AAgDjB7qB,WAAO,EAhDU;AAiDjBmrB,cAAU,EAjDO;AAkDjBuD,mBAAe;AAlDE,CAAd,C;;;;;;;;;;;;;;;;;;;;;;;;;;ACFP;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;;IAEqBe,U;;AAEjB;;;;AAIA,wBAAax0C,MAAb,EAAqBs0B,YAArB,EAAmC;AAAA;;AAC/B,aAAK4kB,GAAL,GAAWnsB,8DAAWA,EAAtB;;AAEA,aAAK0P,aAAL,GAAqBnI,YAArB;AACA,aAAK6kB,MAAL,GAAc,IAAd;AACA,aAAKC,MAAL,GAAc,EAAd;AACA,aAAKzD,OAAL,GAAe,EAAf;AACA,aAAK0D,WAAL,GAAmB,KAAnB;AACA,aAAKC,eAAL,GAAuB,EAAvB;AACA,aAAKjI,WAAL,GAAmB,EAAnB;;AAEA,YAAMzC,SAASjS,iEAAcA,CAAC,EAAf,EAAmB,KAAKz/B,WAAL,CAAiBumC,aAAjB,EAAnB,CAAf;AACA,YAAM8V,eAAe5c,iEAAcA,CAACiS,MAAf,EAAuB5uC,MAAvB,CAArB;;AAEA,YAAMw5C,WAAWhT,gEAAaA,CAAC,MAAd,CAAjB;AACA,YAAMV,cAAcyT,aAAazT,WAAjC;AACA,aAAKqM,eAAL,GAAuBsH,wEAAqBA,CAACD,QAAtB,EAAmC1T,WAAnC,YAAvB;AACA,aAAKoM,cAAL,GAAsBuH,wEAAqBA,CAACD,QAAtB,EAAmC1T,WAAnC,gBAAtB;;AAEAxR,qBAAakb,YAAb,CAA0BgD,QAA1B,CAAmC,KAAKL,eAAxC;AACA,YAAM/D,OAAO9Z,aAAakb,YAAb,CAA0BiB,UAA1B,CAAqC,GAArC,CAAb;;AAEA,aAAKwH,gBAAL,GAAwB,EAAEza,OAAO4Q,KAAK5Q,KAAL,GAAa,CAAb,GAAiB,CAA1B,EAA6BC,QAAQ2Q,KAAK3Q,MAAL,GAAc,CAAnD,EAAxB;AACA,aAAKic,aAAL,GAAqBplB,aAAakb,YAAb,CAA0BiB,UAA1B,CAAqC,KAArC,CAArB;;AAEA9B,gFAAqBA,CAAC,IAAtB,EAA4Bf,4CAA5B;AACA,aAAK5tC,MAAL,CAAYu5C,YAAZ;;AAEA,aAAKV,MAAL,GAAc,KAAKxD,WAAL,CAAiB,KAAKpxB,OAAtB,CAAd;AACA,aAAK01B,KAAL,GAAa,KAAKX,UAAL,CAAgB,KAAK/0B,OAArB,CAAb;AACH;;AAED;;;;;;;;;;AAQA;;;;;;;;2CAQoB;AAChB,mBAAO,IAAP;AACH;;AAED;;;;;;;;;gCAMkB;AACd,gBAAI,UAAOnuB,MAAX,EAAmB;AACf,qBAAK+iD,MAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,MAAZ;AACH;;;sCAEc;AACX,iBAAKlD,OAAL,GAAe,EAAf;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;+BAMiB;AACb,gBAAI,UAAO7/C,MAAX,EAAmB;AACf,qBAAK6jD,KAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,KAAZ;AACH;;AAED;;;;;;;;;;iCAOmB;AACf,gBAAI,UAAO7jD,MAAX,EAAmB;AACf,oBAAI8jD,sDAAJ;AACA,oBAAMnB,UAAU,KAAKz4C,MAAL,GAAcqK,MAA9B;AACA,oBAAIouC,OAAJ,EAAa;AACTmB,0BAAMnB,OAAN;AACH;AACD,qBAAK3I,KAAL,GAAazlC,MAAb,CAAoBuvC,GAApB;AACA,qBAAKjE,OAAL,GAAe,KAAK7F,KAAL,GAAazlC,MAAb,EAAf;AACA,qBAAKqrC,0BAAL;AACA,qBAAK5L,YAAL,CAAkB,IAAlB;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAK6L,OAAZ;AACH;;;qDAE6B;AAC1B,iBAAK/C,uBAAL,CAA6BmE,0EAA0BA,CAAC,IAA3B,CAA7B;AACH;;AAED;;;;;;;;;uCAMgB;AACZ,mBAAO,KAAKta,aAAZ;AACH;;AAED;;;;;;;;;oCAMaz8B,M,EAAQ;AAAA,gBAEbg1C,IAFa,GAMbh1C,MANa,CAEbg1C,IAFa;AAAA,gBAGb9B,OAHa,GAMblzC,MANa,CAGbkzC,OAHa;AAAA,gBAIb+B,YAJa,GAMbj1C,MANa,CAIbi1C,YAJa;AAAA,gBAKbC,QALa,GAMbl1C,MANa,CAKbk1C,QALa;;AAOjB,gBAAMpvC,QAAQ,KAAKA,KAAL,EAAd;AACA,gBAAMgqC,QAAQuF,mEAAY;AACtBnC,gCADsB;AAEtB+B,0CAFsB;AAGtBC,kCAHsB;AAItBF,0BAJsB;AAKtBlvC,4BALsB;AAMtBjF,sBAAM,KAAK3D,WAAL,CAAiB2D,IAAjB;AANgB,aAAZ,CAAd;;AASA,mBAAOivC,KAAP;AACH;;;yCAEiBS,U,EAAY/jC,Y,EAAc;AACxC,gBAAI+jC,UAAJ,EAAgB;AACZ,uBAAO;AAAA,2BAAS,UAAC3jC,GAAD,EAAMvb,CAAN;AAAA,+BAAYk/C,WAAW/jC,aAAaI,GAAb,CAAX,EAA8Bvb,CAA9B,EAAiCw+C,KAAjC,CAAZ;AAAA,qBAAT;AAAA,iBAAP;AACH;AACD,mBAAO;AAAA,uBAAM;AAAA,2BAAOrjC,aAAaI,GAAb,CAAP;AAAA,iBAAN;AAAA,aAAP;AACH;;;4CAEoB;AACjB,iBAAKk9B,YAAL,CAAkB,IAAlB;AACA,iBAAKhkC,KAAL,CAAW,EAAX;;AAFiB,0BASb,KAAK9F,MAAL,EATa;AAAA,gBAIbiwC,MAJa,WAIbA,MAJa;AAAA,gBAKblL,IALa,WAKbA,IALa;AAAA,gBAMbmP,cANa,WAMbA,cANa;AAAA,gBAObC,cAPa,WAObA,cAPa;AAAA,gBAQb5B,YARa,WAQbA,YARa;;AAUjB,iBAAK5C,YAAL,CAAkB;AACdM,8BADc;AAEdlL,0BAFc;AAGdmP,8CAHc;AAIdC,8CAJc;AAKd5B;AALc,aAAlB;AAOH;;;yCAEiB58C,I,EAAMoN,K,EAAOm0C,S,EAAW;AACtC,gBAAM/4C,YAAY,KAAKA,SAAvB;AACA,gBAAM2xC,QAAQ,KAAKA,KAAL,EAAd;AACA,mBAAO3xC,YAAYA,UAAU+4C,SAAV,EAAqBvhD,IAArB,EAA2BoN,KAA3B,CAAZ,GAAiD+sC,MAAMS,UAAN,GAAmBT,MAAMS,UAAN,GAAmB56C,IAAnB,CAAnB,GAA8CA,IAAtG;AACH;;AAED;;;;;;;;;mCAMYqK,M,EAAQ;AAAA,gBAEZuwC,UAFY,GAKZvwC,MALY,CAEZuwC,UAFY;AAAA,gBAGZ/jC,YAHY,GAKZxM,MALY,CAGZwM,YAHY;AAAA,gBAIZujC,WAJY,GAKZ/vC,MALY,CAIZ+vC,WAJY;;AAMhB,gBAAM8J,YAAYC,0EAAkBA,CAAC/J,WAAnB,CAAlB;;AAEA,gBAAI8J,SAAJ,EAAe;AACX,oBAAMnK,OAAOmK,UAAU,KAAK/J,KAAL,EAAV,CAAb;AACA,qBAAK3xC,SAAL,GAAiB,KAAK47C,gBAAL,CAAsBxJ,UAAtB,EAAkC/jC,YAAlC,CAAjB;;AAEA,uBAAOkjC,IAAP;AACH;AACD,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;;4CAQyD;AAAA,gBAAtClS,KAAsC,uEAA9B,CAA8B;AAAA,gBAA3BC,MAA2B;AAAA,gBAAnByV,OAAmB;AAAA,gBAAVC,QAAU;;AACrD,gBAAIC,cAAc,EAAlB;;AADqD,2BAIlD,KAAKpzC,MAAL,EAJkD;AAAA,gBAGlD+vC,WAHkD,YAGlDA,WAHkD;;AAMrD,iBAAKjD,cAAL,CAAoB,EAAEtP,YAAF,EAASC,cAAT,EAAiByV,gBAAjB,EAApB;;AAEA,gBAAInD,gBAAgB1U,2DAAhB,IAAuB0U,gBAAgBvU,8DAA3C,EAAmD;AAC/C4X,8BAAcC,iEAAWA,CAAC,IAAZ,EAAkB,EAAEF,kBAAF,EAAlB,EAAgCyC,SAAhC,CAA0Cz3B,CAA1C,EAAd;AACH,aAFD,MAEO;AACHi1B,8BAAcC,iEAAWA,CAAC,IAAZ,EAAkB,EAAEF,kBAAF,EAAlB,EAAgCyC,SAAhC,CAA0C1tB,CAA1C,EAAd;AACH;;AAED;AACA,iBAAKynB,YAAL,CAAkB;AACdM,wBAAQmD;AADM,aAAlB;AAGA,iBAAKG,aAAL;AACA,iBAAKpD,WAAL;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;wCAKiB;AACb,mBAAO,IAAP;AACH;;;sCAEcoF,S,EAAW;AACtB,gBAAIA,cAAc,IAAd,IAAsBA,cAAcx7C,SAAxC,EAAmD;AAC/C,uBAAOA,SAAP;AACH;AACD,mBAAO,KAAK+1C,KAAL,GAAayF,SAAb,CAAP;AACH;;AAED;;;;;;;;;sCAMe;AACX,mBAAO,KAAK7F,IAAL,GAAYQ,QAAZ,EAAP;AACH;;AAED;;;;;;;;;4CAM8B;AAAA,8CAAR/vC,MAAQ;AAARA,sBAAQ;AAAA;;AAC1B,iBAAKw3C,cAAL,CAAoBJ,6DAAqBA,mBAAC,IAAtB,SAA+Bp3C,MAA/B,EAApB;AACA,mBAAO,KAAKw3C,cAAL,EAAP;AACH;;AAED;;;;;;;;;0CAMmB;AACf,gBAAI,CAAC,KAAK7N,YAAL,EAAL,EAA0B;AACtB,qBAAKA,YAAL,CAAkBwO,uEAAuBA,CAAC,IAAxB,CAAlB;AACA,qBAAKxO,YAAL;AACH;;AAED,mBAAO,KAAKA,YAAL,EAAP;AACH;;AAED;;;;;;;;iCAKkB;AAAA;;AAAA,+CAAPz3C,KAAO;AAAPA,qBAAO;AAAA;;AACd,gBAAMkgB,SAASlgB,MAAMoC,GAAN,CAAU;AAAA,uBAAK,MAAKq7C,KAAL,GAAawE,MAAb,CAAoB5iD,CAApB,CAAL;AAAA,aAAV,KAA0C,EAAzD;AACA,mBAAOW,MAAMyD,MAAN,KAAiB,CAAjB,GAAqByc,OAAO,CAAP,CAArB,GAAiCA,MAAxC;AACH;;AAED;;;;;;;;;wCAMiBynC,E,EAAIC,E,EAAI;AACrB,gBAAIC,WAAJ;AACA,gBAAIC,WAAJ;AACA,gBAAIC,eAAJ;;AAHqB,2BAMjB,KAAKp6C,MAAL,EANiB;AAAA,gBAKjBa,IALiB,YAKjBA,IALiB;;AAOrB,gBAAMivC,QAAQ,KAAKA,KAAL,EAAd;AACA,gBAAMhqC,QAAQgqC,MAAMhqC,KAAN,EAAd;AACA,gBAAMwQ,UAAUxQ,MAAM,CAAN,IAAWA,MAAM,CAAN,CAA3B;;AAEA,gBAAIjF,SAAS0zC,qDAAb,EAAmB;AACf6F,yBAAStK,MAAMuK,YAAN,CAAmBL,EAAnB,EAAuBC,EAAvB,CAAT;AACAC,qBAAKpK,MAAMx5B,UAAU8jC,OAAOA,OAAOtkD,MAAP,GAAgB,CAAvB,CAAV,GAAsCskD,OAAO,CAAP,CAA5C,CAAL;AACAD,qBAAKrK,MAAMx5B,UAAU8jC,OAAO,CAAP,CAAV,GAAsBA,OAAOA,OAAOtkD,MAAP,GAAgB,CAAvB,CAA5B,IAAyDg6C,MAAMmE,SAAN,EAA9D;AACA,uBAAO,CAACiG,EAAD,EAAKC,EAAL,CAAP;AACH;AACD,mBAAO,CAACH,EAAD,EAAKC,EAAL,CAAP;AACH;;;+CAEuB;AACpB,mBAAO,KAAK5vC,MAAL,EAAP;AACH;;;+CAEuB+nC,U,EAAY;AAChC,mBAAOA,UAAP;AACH;;AAED;;;;;;;;;;;uCAQgB;AACZ,mBAAO,CAAP;AACH;;AAED;;;;;;;;;;oCAOa;AACT,mBAAO;AACHzgD,sBAAM,KAAKA,IADR;AAEHkP,sBAAM,KAAKA,IAFR;AAGHiF,uBAAO,KAAKA,KAAL,EAHJ;AAIH9F,wBAAQ,KAAKA,MAAL;AAJL,aAAP;AAMH;;AAED;;;;;;;;;AAQA;;;;;;;AAOA,kC,yBAAoC;AAChC,gBAAI,KAAKuxB,KAAL,EAAJ,EAAkB;AACd,qBAAKgiB,aAAL;AACAtB,iFAAUA,CAAC,IAAX;AACH;AACD,mBAAO,IAAP;AACH;;AAED;;;;;;;;;iCAMU;AACNzL,4EAAaA,CAAC,KAAKjV,KAAL,EAAd,EAA4BuV,MAA5B;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;sCAKe;AACX,mBAAO,IAAP;AACH;;AAED;;;;;;;;;oCAMa;AACT,gBAAMhhC,QAAQ,KAAKA,KAAL,EAAd;AACA,mBAAOA,MAAM,CAAN,IAAWA,MAAM,CAAN,CAAlB;AACH;;AAED;;;;;;;;;+CAMwB;AACpB,gBAAMgqC,QAAQ,KAAKA,KAAL,EAAd;AACA,gBAAMhqC,QAAQgqC,MAAMhqC,KAAN,EAAd;AACA,gBAAMuE,SAASylC,MAAMzlC,MAAN,EAAf;;AAEA,mBAAOiE,KAAKmf,GAAL,CAAS3nB,MAAM,CAAN,IAAWA,MAAM,CAAN,CAApB,KAAiCuE,OAAO,CAAP,IAAYA,OAAO,CAAP,CAA7C,CAAP;AACH;;;4BA9DS;AACN,mBAAO,KAAK6uC,GAAZ;AACH;;;wCAxUuB;AACpB,mBAAOzV,6DAAP;AACH;;;;;;AA5CgB+Q,yE;;;;;;;;;;;;;;;;;;ACpBrB;;AAEA,IAAM8F,eAAe,SAAfA,YAAe,CAAC9Y,OAAD,EAAU3gC,IAAV,EAAgB05C,WAAhB,EAA6BC,MAA7B,EAAwC;AACzDhZ,YAAQ17B,KAAR,CAAcy0C,WAAd;AACAC,cAAUhZ,QAAQxhC,MAAR,qBAAqBa,IAArB,aAAoC25C,MAApC,EAAV;AACH,CAHD;;AAKA,IAAMC,gBAAgB,SAAhBA,aAAgB,CAACC,QAAD,EAAW50C,KAAX,EAAkBuE,MAAlB,EAA6B;AAC/C,QAAMswC,MAAMrsC,KAAKmf,GAAL,CAAS3nB,MAAM,CAAN,IAAWA,MAAM,CAAN,CAApB,KAAiCuE,OAAO,CAAP,IAAYA,OAAO,CAAP,CAA7C,CAAZ;AACA,QAAMmzB,QAASmd,MAAMD,QAArB;AACA,QAAME,UAAW90C,MAAM,CAAN,IAAWA,MAAM,CAAN,CAA5B;AACA,QAAM+0C,OAAOD,UAAUpd,KAAvB;AACA,QAAMsd,WAAWF,WAAWC,OAAO,CAAlB,CAAjB;AACA,QAAMttB,OAAOqtB,UAAUE,WAAWD,IAAlC;;AAEA,WAAOttB,OAAO,CAAd;AACH,CATD;;AAWO,IAAMwtB,cAAc,SAAdA,WAAc,CAAC1sC,OAAD,EAAUvI,KAAV,EAAiBuE,MAAjB,EAAyB0lC,WAAzB,EAAyC;AAChE,QAAMxiB,OAAOktB,cAAcpsC,OAAd,EAAuBvI,KAAvB,EAA8BuE,MAA9B,CAAb;;AAEA,QAAI0lC,gBAAgB1U,2DAAhB,IAAuB0U,gBAAgBvU,8DAA3C,EAAmD;AAC/C11B,cAAM,CAAN,KAAYynB,IAAZ;AACAznB,cAAM,CAAN,KAAYynB,IAAZ;AACH,KAHD,MAGO;AACHznB,cAAM,CAAN,KAAYynB,IAAZ;AACAznB,cAAM,CAAN,KAAYynB,IAAZ;AACH;AACD,WAAOznB,KAAP;AACH,CAXM;;AAaA,IAAMutC,cAAc,SAAdA,WAAc,CAAC7R,OAAD,EAAUwZ,WAAV,EAA0B;AACjD,QAAIC,qBAAJ;AACA,QAAIC,uBAAJ;;AAFiD,gCAO7C1Z,QAAQsL,cAAR,EAP6C;AAAA,QAItCpG,UAJsC,yBAI7ClJ,KAJ6C;AAAA,QAKrCiJ,WALqC,yBAK7ChJ,MAL6C;AAAA,QAM7CyV,OAN6C,yBAM7CA,OAN6C;;AAAA,QAS7C3a,GAT6C,GAa7C2a,OAb6C,CAS7C3a,GAT6C;AAAA,QAU7C4iB,IAV6C,GAa7CjI,OAb6C,CAU7CiI,IAV6C;AAAA,QAW7C1iB,MAX6C,GAa7Cya,OAb6C,CAW7Cza,MAX6C;AAAA,QAY7C2iB,KAZ6C,GAa7ClI,OAb6C,CAY7CkI,KAZ6C;AAAA,QAe7CjI,QAf6C,GAgB7C6H,WAhB6C,CAe7C7H,QAf6C;;AAAA,gCAoB7C3R,QAAQmO,YAAR,EApB6C;AAAA,QAkB7C4C,YAlB6C,yBAkB7CA,YAlB6C;AAAA,QAmB7CtC,MAnB6C,yBAmB7CA,MAnB6C;;AAAA,QAsB7CR,QAtB6C,GAuB7CQ,MAvB6C,CAsB7CR,QAtB6C;;AAAA,2BA6B7CjO,QAAQxhC,MAAR,EA7B6C;AAAA,QAyB7C+vC,WAzB6C,oBAyB7CA,WAzB6C;AAAA,QA0B7CC,aA1B6C,oBA0B7CA,aA1B6C;AAAA,QA2B7CsC,eA3B6C,oBA2B7CA,eA3B6C;AAAA,QA4B7CF,UA5B6C,oBA4B7CA,UA5B6C;;AAAA,gCAmC7C5Q,QAAQ2W,iBAAR,EAnC6C;AAAA,QA+B7Cd,cA/B6C,yBA+B7CA,cA/B6C;AAAA,QAgC7CpB,iBAhC6C,yBAgC7CA,iBAhC6C;AAAA,QAiC7CqB,kBAjC6C,yBAiC7CA,kBAjC6C;AAAA,QAkC7CpH,QAlC6C,yBAkC7CA,QAlC6C;;AAAA,QAqCrC2H,aArCqC,GAuC7CR,cAvC6C,CAqC7C5Z,MArC6C;AAAA,QAsCtCqa,YAtCsC,GAuC7CT,cAvC6C,CAsC7C7Z,KAtC6C;;AAwCjD,QAAM6d,cAAc9I,eAAeD,eAAf,GAAiC,CAArD;AACA,QAAMc,cAAc,EAAExD,YAAY,IAAd,EAAoBH,UAAUQ,OAAOR,QAArC,EAApB;AACA,QAAM6L,kBAAkB9Z,QAAQyW,gBAAhC;AACA,QAAMsD,eAAe/Z,QAAQkY,aAA7B;AACA,QAAMrrC,UAAUmzB,QAAQga,QAAxB;AACA,QAAMnxC,SAASm3B,QAAQn3B,MAAR,EAAf;AACA,QAAMynC,iBAAiBwF,mBAAmB7Z,MAA1C;;AAEA,WAAO;AACHge,cAAM;AACFt9B,eAAG,aAAM;AACL,oBAAMu9B,cAAc5D,eAAe,CAAnC;;AAEAwC,6BAAa9Y,OAAb,EAAsB,GAAtB,EAA2BuZ,YAAY1sC,OAAZ,EACvB,CAACqtC,WAAD,EAAchV,aAAayU,IAAb,GAAoBC,KAApB,GAA4BM,WAA1C,CADuB,EACiCrxC,MADjC,EACyC0lC,WADzC,CAA3B,EAEQoD,WAAW1M,WAAX,GAAyB,IAFjC;;AAIAwU,+BAAiBvU,UAAD,GAAelF,QAAQqU,aAAR,GAAwB//C,MAAxC,GACQwlD,gBAAgB9d,KADvC;;AAGA0d,iCAAiBzU,cAAc6Q,mBAAmB7Q,WAAjC,GAA+CyJ,QAA/C,GAA0DmL,WAA3E;;AAEA,oBAAIJ,eAAeM,aAAa/d,KAA5B,IAAqCiS,aAAa,CAAtD,EAAyD;AACrD;AACA2D,gCAAY3D,QAAZ,GAAuBQ,OAAOR,QAAP,KAAoB,IAApB,GAA2B,CAAC,EAA5B,GAAiCA,QAAxD;;AAEA;AACA,wBAAIwL,eAAeM,aAAa9d,MAAhC,EAAwC;AACpCyd,yCAAiBzU,WAAjB;AACAwU,uCAAeM,aAAa9d,MAA5B;AACA+D,gCAAQmO,YAAR,CAAqB,EAAEuE,gBAAgB,KAAlB,EAAyBC,gBAAgB,KAAzC,EAArB;AACH;AACJ;AACD,oBAAI1N,cAAcqL,cAAlB,EAAkC;AAC9BtQ,4BAAQmO,YAAR,CAAqB,EAAE5K,MAAM,KAAR,EAArB;AACH;;AAEDvD,wBAAQiS,aAAR,CAAsB;AAClBjW,2BAAOyd,YADW;AAElBxd,4BAAQyd,cAFU;AAGlBxH,4BAAQjE,aAAa;AAHH,iBAAtB;AAKA,uBAAO2D,WAAP;AACH,aAlCC;AAmCFlrB,eAAG,aAAM;AACL,oBAAIyzB,gBAAgBjV,UAApB;AACA,oBAAMgV,cAAc7D,gBAAgB,CAApC;;AAEAyC,6BAAa9Y,OAAb,EAAsB,GAAtB,EAA2BuZ,YAAY1sC,OAAZ,EACvB,CAACo4B,cAAclO,GAAd,GAAoBE,MAApB,GAA6BijB,WAA9B,EAA2CA,WAA3C,CADuB,EACkCrxC,MADlC,EAC0C0lC,WAD1C,CAA3B,EAEQoD,WAAWzM,UAAX,GAAwB,IAFhC;;AAIA,oBAAKA,aAAaoL,cAAb,GAA8BuJ,WAA/B,IAA+CC,gBAAgB9d,KAAnE,EAA0E;AACtEme,oCAAgB,CAAhB;AACAna,4BAAQmO,YAAR,CAAqB,EAAEuE,gBAAgB,KAAlB,EAAyBC,gBAAgB,KAAzC,EAArB;AACH;;AAED3S,wBAAQiS,aAAR,CAAsB;AAClBjW,2BAAOme,aADW;AAElBle,4BAAQgJ,WAFU;AAGlBiN,4BAAQ;AAHU,iBAAtB;AAKA,oBAAIhN,aAAaoL,cAAjB,EAAiC;AAC7BtQ,4BAAQmO,YAAR,CAAqB,EAAE5K,MAAM,KAAR,EAArB;AACH;AACD,uBAAOqO,WAAP;AACH;AAzDC,SADH;AA4DHE,cAAM;AACFn1B,eAAG,aAAM;AACLm8B,6BAAa9Y,OAAb,EAAsB,GAAtB,EAA2B,CAAC,CAAD,EAAIkF,aAAayU,IAAb,GAAoBC,KAAxB,CAA3B,EAA2DjI,WAAW1M,WAAX,GAAyB,IAApF;AACA,oBAAM3gC,QAAQ07B,QAAQ17B,KAAR,EAAd;;AAEA;AACAm1C,+BAAgB,CAACn1C,MAAM,CAAN,IAAWA,MAAM,CAAN,CAAZ,IAAwB,CAACssC,cAAc/nC,MAAf,EAAuBvU,MAAhD,GAA0DwlD,gBAAgB9d,KAAzF;;AAEA;AACA0d,iCAAiBzU,cAAcqL,cAAd,GAA+B5B,QAA/B,GAA0CmL,WAA3D;;AAEA,oBAAIJ,eAAeM,aAAa/d,KAA5B,IAAqCiS,aAAa,CAAtD,EAAyD;AACrD;AACA2D,gCAAY3D,QAAZ,GAAuBA,aAAa,IAAb,GAAoB,CAAC,EAArB,GAA0BA,QAAjD;AACA2D,gCAAYxD,UAAZ,GAAyB,KAAzB;;AAEA;AACA,wBAAIqL,eAAeM,aAAa9d,MAAhC,EAAwC;AACpCyd,yCAAiB,CAAjB;AACAD,uCAAe,CAAf;AACAzZ,gCAAQmO,YAAR,CAAqB,EAAEuE,gBAAgB,KAAlB,EAAyBC,gBAAgB,KAAzC,EAArB;AACA3S,gCAAQ17B,KAAR,CAAc,CAACy1C,aAAa9d,MAAb,GAAsB,CAAvB,EAA0BiJ,aAAa6U,aAAa9d,MAAb,GAAsB,CAA7D,CAAd;AACH;AACJ,iBAZD,MAYO,IAAI2U,UAAJ,EAAgB;AACnB,wBAAMwJ,WAAYlV,aAAar8B,OAAOvU,MAArB,GAA+BwlD,gBAAgB9d,KAAhE;AACA,wBAAIoe,WAAWL,aAAa/d,KAA5B,EAAmC;AAC/BgE,gCAAQ17B,KAAR,CAAc,CAACy1C,aAAa9d,MAAb,GAAsB,CAAvB,EAA0BiJ,aAAa6U,aAAa9d,MAAb,GAAsB,CAA7D,CAAd;AACH;AACJ;AACD,oBAAIgJ,cAAcqL,cAAlB,EAAkC;AAC9BtQ,4BAAQmO,YAAR,CAAqB,EAAE5K,MAAM,KAAR,EAAemP,gBAAgB,KAA/B,EAAsCC,gBAAgB,KAAtD,EAArB;AACH;;AAED3S,wBAAQiS,aAAR,CAAsB;AAClBjW,2BAAOyd,YADW;AAElBxd,4BAAQyd,cAFU;AAGlBxH,4BAAQjE,aAAa;AAHH,iBAAtB;AAKA,uBAAO2D,WAAP;AACH,aAvCC;AAwCFlrB,eAAG,aAAM;AACLoyB,6BAAa9Y,OAAb,EAAsB,GAAtB,EAA2B,CAACiF,cAAchO,MAAf,EAAuBF,GAAvB,CAA3B,EAAwD4a,WAAWzM,UAAX,GAAwB,IAAhF;;AAEA,oBAAIiV,gBAAgBjV,UAApB;AACA,oBAAIA,aAAaoL,cAAb,GAA8BuJ,WAA9B,IAA6CC,gBAAgB9d,KAAjE,EAAwE;AACpEme,oCAAgB,CAAhB;AACAna,4BAAQmO,YAAR,CAAqB,EAAEuE,gBAAgB,KAAlB,EAAyBC,gBAAgB,KAAzC,EAArB;AACH;;AAED3S,wBAAQiS,aAAR,CAAsB;AAClBjW,2BAAOme,aADW;AAElBle,4BAAQgJ,WAFU;AAGlBiN,4BAAQ;AAHU,iBAAtB;AAKA,oBAAIhN,aAAaoL,cAAjB,EAAiC;AAC7BtQ,4BAAQmO,YAAR,CAAqB,EAAE5K,MAAM,KAAR,EAArB;AACH;AACD,uBAAOqO,WAAP;AACH;AA1DC,SA5DH;AAwHHwC,mBAAW;AACPz3B,eAAG,aAAM;AACLi1B,4BAAYxD,UAAZ,GAAyB,KAAzB;AACA,oBAAM8L,cAAcrE,eAAe7Z,KAAf,GAAuB,CAA3C;AACA,oBAAMqe,WAAW7L,gBAAgB,CAAhB,GAAoB0L,WAArC;;AAEApB,6BAAa9Y,OAAb,EAAsB,GAAtB,EAA2B,CAACqa,WAAWV,IAAZ,EAAkBzU,aAAa0U,KAAb,GAAqBM,WAAvC,CAA3B,EACIvI,WAAW1M,WAAX,GAAyB,IAD7B;;AAGA,oBAAM3gC,QAAQ07B,QAAQ17B,KAAR,EAAd;;AAEA;AACA,oBAAMg2C,iBAAiB7F,kBAAkBngD,MAAlB,IAA4BuhD,eAAe7Z,KAAf,GAAuB8d,gBAAgB9d,KAAnE,CAAvB;AACA,oBAAMsP,iBAAiBhnC,MAAM,CAAN,IAAWA,MAAM,CAAN,CAAlC;;AAEC;AACD,oBAAIgnC,iBAAiBgP,cAAjB,IAAmC7L,OAAOR,QAAP,KAAoB,IAA3D,EAAiE;AAC7D2D,gCAAY3D,QAAZ,GAAuB,CAAC,EAAxB;AACH;;AAED;AACA,oBAAIhJ,cAAcqL,cAAd,GAA+BuJ,WAA/B,GAA6ChE,eAAe5Z,MAAhE,EAAwE;AACpE+D,4BAAQmO,YAAR,CAAqB,EAAEuE,gBAAgB,KAAlB,EAArB;AACA,wBAAIzN,cAAcqL,cAAlB,EAAkC;AAC9BtQ,gCAAQmO,YAAR,CAAqB,EAAE5K,MAAM,KAAR,EAArB;AACH;AACJ;AACD,uBAAOqO,WAAP;AACH,aA5BM;AA6BPlrB,eAAG,aAAM;AACLkrB,4BAAYxD,UAAZ,GAAyB,KAAzB;AACA,oBAAM8L,cAAcrE,eAAe5Z,MAAf,GAAwB,CAA5C;AACA,oBAAMoe,WAAW7L,gBAAgB,CAAhB,GAAoB0L,WAArC;;AAEApB,6BAAa9Y,OAAb,EAAsB,GAAtB,EAA2B,CAACiF,cAAchO,MAAd,GAAuBojB,QAAxB,EAAkCH,cAAcnjB,GAAhD,CAA3B,EACI4a,WAAWzM,UAAX,GAAwB,IAD5B;;AAGA;AACA,oBAAIA,aAAa2Q,eAAe7Z,KAAf,GAAuBsU,cAAvB,GAAwCuJ,WAAzD,EAAsE;AAClE7Z,4BAAQmO,YAAR,CAAqB,EAAEuE,gBAAgB,KAAlB,EAArB;AACA,wBAAIxN,aAAaoL,cAAjB,EAAiC;AAC7BtQ,gCAAQmO,YAAR,CAAqB,EAAE5K,MAAM,KAAR,EAArB;AACH;AACJ;AACD,uBAAOqO,WAAP;AACH;AA7CM;AAxHR,KAAP;AAwKH,CAxNM,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/BP;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;IAOqB2I,Q;;;AAEjB,wBAAwB;AAAA;;AAAA;;AAAA,0CAAR57C,MAAQ;AAARA,kBAAQ;AAAA;;AAAA,mJACXA,MADW;;AAEpB,cAAKq7C,QAAL,GAAgBl9B,QAAhB;AAFoB;AAGvB;;AAED;;;;;;;;;;;oCAOaxY,K,EAAO;AAChB,gBAAIgqC,wHAA0BhqC,KAA1B,CAAJ;;AAEAgqC,oBAAQA,MAAMwF,IAAN,EAAR;AACA,mBAAOxF,KAAP;AACH;;AAED;;;;;;;;;;;;AAWA;;;;;;mCAMY9vC,M,EAAQ;AAAA,gBAEZuwC,UAFY,GAIZvwC,MAJY,CAEZuwC,UAFY;AAAA,gBAGZR,WAHY,GAIZ/vC,MAJY,CAGZ+vC,WAHY;;AAKhB,gBAAM8J,YAAYC,0EAAkBA,CAAC/J,WAAnB,CAAlB;;AAEA,gBAAI8J,SAAJ,EAAe;AACX,oBAAMnK,OAAOmK,UAAU,KAAK/J,KAAL,EAAV,CAAb;AACA,qBAAK3xC,SAAL,GAAiB,KAAK47C,gBAAL,CAAsBxJ,UAAtB,CAAjB;AACA,uBAAOb,IAAP;AACH;AACD,mBAAO,IAAP;AACH;;;yCAEiBa,U,EAAY;AAC1B,gBAAIA,UAAJ,EAAgB;AACZ,uBAAO;AAAA,2BAAS,UAAC3jC,GAAD,EAAMvb,CAAN;AAAA,+BAAYk/C,WAAW3jC,GAAX,EAAgBvb,CAAhB,EAAmBw+C,KAAnB,CAAZ;AAAA,qBAAT;AAAA,iBAAP;AACH;AACD,mBAAO,IAAP;AACH;;AAEA;;;;;;;;;sCAMc;AAAA,gCAIP,KAAKF,YAAL,EAJO;AAAA,gBAEPuE,cAFO,iBAEPA,cAFO;AAAA,gBAGPC,cAHO,iBAGPA,cAHO;;AAKX,gBAAMzE,OAAO,KAAKA,IAAL,EAAb;AACAA,iBAAK0E,aAAL,CAAmBF,mBAAmB,KAAnB,GAA2B,CAA3B,GAA+B,CAAlD;AACAxE,iBAAK2E,aAAL,CAAmBF,mBAAmB,KAAnB,GAA2B,CAA3B,GAA+B,CAAlD;AACA;AACH;;AAED;;;;;;;;;wCAMiB;AACb,mBAAO,KAAKn0C,MAAL,GAAcoyC,UAAd,IAA4B,KAAKtC,KAAL,GAAaD,KAAb,EAAnC;AACH;;AAED;;;;;;;;;;gCAOStiB,I,EAAM;AACX,iBAAKiuB,QAAL,GAAgBltC,KAAK3D,GAAL,CAAS,KAAK6wC,QAAd,EAAwBjuB,IAAxB,CAAhB;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;+BAOQljB,O,EAAQ;AACZ,gBAAIA,OAAJ,EAAY;AACRorC,sFAAsBA,CAAC,IAAvB,EAA6BprC,OAA7B;AACA,qBAAKqrC,0BAAL;AACA,qBAAK5L,YAAL,CAAkB,IAAlB;AACA,uBAAO,IAAP;AACH,aAAC,OAAO,KAAK6L,OAAZ;AACL;;AAED;;;;;;;;;0CAMmB;AACf,gBAAI,CAAC,KAAK7L,YAAL,EAAL,EAA0B;AACtB,qBAAKA,YAAL,CAAkBiK,kEAAkBA,CAAC,IAAnB,CAAlB;AACA,qBAAKjK,YAAL;AACH;AACD,mBAAO,KAAKA,YAAL,EAAP;AACH;;;+CAEuB;AACpB,mBAAOkM,kEAAeA,CAAC,KAAKh2C,MAAL,GAAcoyC,UAA9B,CAAP;AACH;;AAED;;;;;;;;;;;4CAQyD;AAAA,gBAAtC5U,KAAsC,uEAA9B,CAA8B;AAAA,gBAA3BC,MAA2B;AAAA,gBAAnByV,OAAmB;AAAA,gBAAVC,QAAU;;AACrD,gBAAIC,cAAc,EAAlB;;AADqD,0BAIlD,KAAKpzC,MAAL,EAJkD;AAAA,gBAGlD+vC,WAHkD,WAGlDA,WAHkD;;AAMrD,iBAAKjD,cAAL,CAAoB,EAAEtP,YAAF,EAASC,cAAT,EAAiByV,gBAAjB,EAApB;;AAEA,gBAAInD,gBAAgB1U,2DAAhB,IAAuB0U,gBAAgBvU,8DAA3C,EAAmD;AAC/C4X,8BAAcC,iEAAWA,CAAC,IAAZ,EAAkB,EAAEF,kBAAF,EAAlB,EAAgCsI,IAAhC,CAAqCt9B,CAArC,EAAd;AACH,aAFD,MAEO;AACHi1B,8BAAcC,iEAAWA,CAAC,IAAZ,EAAkB,EAAEF,kBAAF,EAAlB,EAAgCsI,IAAhC,CAAqCvzB,CAArC,EAAd;AACH;;AAED;AACA,iBAAKynB,YAAL,CAAkB;AACdM,wBAAQmD;AADM,aAAlB;AAGA,iBAAKG,aAAL;AACA,iBAAKpD,WAAL;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;wCAMiB;AACb,gBAAIP,mBAAJ;AACA,gBAAI4D,mBAAJ;;AAFa,2BAGsB,KAAKxzC,MAAL,EAHtB;AAAA,gBAGLuwC,UAHK,YAGLA,UAHK;AAAA,gBAGO6B,UAHP,YAGOA,UAHP;;AAAA,iCAIM,KAAKzC,YAAL,EAJN;AAAA,gBAILM,MAJK,kBAILA,MAJK;;AAAA,iCAK8C,KAAKwD,aAAL,EAL9C;AAAA,gBAKGhN,WALH,kBAKLhJ,MALK;AAAA,gBAKuBiJ,UALvB,kBAKgBlJ,KALhB;AAAA,gBAKmCkW,MALnC,kBAKmCA,MALnC;;AAAA,gBAMLlE,YANK,GAMY,KAAK/S,aANjB,CAML+S,YANK;;AAOb,gBAAMnlC,SAAS,KAAKwrC,aAAL,EAAf;AACA,gBAAM/F,QAAQ,KAAKA,KAAL,EAAd;AACAsC,0BAAc,KAAK1C,IAAL,GAAY0C,UAAZ,CAAuBA,UAAvB,CAAd;;AATa,oCAWauB,gEAAgBA,CAAC1D,OAAOR,QAAxB,EAAkC/I,UAAlC,EAA8CD,WAA9C,CAXb;AAAA,gBAWLjJ,KAXK,qBAWLA,KAXK;AAAA,gBAWEC,MAXF,qBAWEA,MAXF;;AAabmS,yBAAawC,cAAc/nC,MAA3B;AACA,gBAAMimC,gBAAgBC,cAAcT,MAAMS,UAAN,EAApC;AACC;AACDf,yBAAagD,QAAb,CAAsB,KAAKL,eAA3B;;AAEA,gBAAI9nC,UAAUA,OAAOvU,MAArB,EAA6B;AACzB,oBAAMyc,SAAS6/B,cAAc/nC,MAA7B;AACAulC,6BAAar9B,OAAO9d,GAAP,CAAW,UAAC/C,CAAD,EAAIL,CAAJ,EAAU;AAC9Bm+C,iCAAaoE,qBAAb,CAAmC,IAAnC;;AAEAJ,iCAAahE,aAAaqE,YAAb,CAA0BvD,cAAc5+C,CAAd,EAAiBL,CAAjB,EAAoBkhB,MAApB,CAA1B,EAAuDirB,KAAvD,EAA8DC,MAA9D,EAAsEiW,MAAtE,CAAb;AACA,2BAAOlE,aAAatyC,WAAb,CAAyB42C,WAAzB,CAAqCN,UAArC,CAAP;AACH,iBALY,CAAb;AAMH;AACD,iBAAK5D,UAAL,CAAgBA,UAAhB;AACA,mBAAO,IAAP;AACH;;;+BA3Kc;AACX,mBAAOoM,sDAAP;AACH;;;;EA9BiCxH,oD;;AAAjBuH,uE;;;;;;;;;;;;;;;;;;;;;;;;;ACdrB;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;IAIqBE,S;;AAEjB;;;;;;;;AAQA,uBAAaj8C,MAAb,EAAqB;AAAA;;AACjB2uC,gFAAqBA,CAAC,IAAtB,EAA4Bf,4CAA5B;AACA,aAAK5tC,MAAL,CAAYA,MAAZ;;AAEA,aAAKk8C,WAAL,GAAmB,KAAKj4B,OAAL,CAAapjB,IAAb,KAAsB,QAAtB,GAAiCs7C,0DAAjC,GAA6CC,yDAAhE;AACA,aAAKC,UAAL,GAAmB,KAAKp4B,OAAL,CAAapjB,IAAb,KAAsB,QAAtB,IAAkC,CAAC,KAAKojB,OAAL,CAAaq4B,IAAjD,GAAyDH,0DAAzD,GAAqEC,yDAAvF;;AAEA,aAAKG,WAAL,GAAmBC,oEAAaA,CAAC,KAAKv4B,OAAL,CAAane,KAA3B,CAAnB;;AAEA,aAAK22C,cAAL,GAAsB,KAAKC,gBAAL,CAAsB,KAAKR,WAA3B,EAAwC,KAAKG,UAA7C,EAAyD,KAAKE,WAA9D,CAAtB;AACA,aAAK1D,MAAL,GAAc,KAAKxD,WAAL,CAAiB,KAAKoH,cAAtB,CAAd;;AAEA,aAAKvD,GAAL,GAAWnsB,8DAAWA,EAAtB;;AAEA,aAAK4vB,YAAL,CAAkB38C,OAAOqK,MAAzB;AACH;;AAED;;;;;;;;;;;;;AAsBA;;;;;;;oCAOauyC,a,EAAe;AAAA,0BACN,KAAK58C,MAAL,EADM;AAAA,gBAChB8F,KADgB,WAChBA,KADgB;;AAExB,gBAAIA,SAAS,OAAQA,KAAR,KAAmB,QAAhC,EAA0C;AACtC,uBAAO+2C,gEAASA,CAAC/2C,KAAV,CAAP;AACH;AACD,mBAAOuvC,mEAAY;AACfx0C,sBAAM+7C,cAAc9M,KADL;AAEfhqC;AAFe,aAAZ,CAAP;AAIH;;AAED;;;;;;;;;;;;yCASkBg3C,U,EAAYC,S,EAAWC,U,EAAY;AAAA,2BAC/B,KAAKh9C,MAAL,EAD+B;AAAA,gBACzCuX,KADyC,YACzCA,KADyC;;AAGjD,mBAAO0lC,sEAAcA,CAACH,UAAf,EAA2BC,SAA3B,EAAsCC,UAAtC,EAAkDzlC,KAAlD,CAAP;AACH;;AAED;;;;;;;;;;qCAOc2lC,a,EAAe;AACzB,mBAAOC,4DAAaD,aAAb,CAAP;AACH;AACD;;;;;;;;;;iCAOU3H,S,EAAW;AACjB,mBAAO,KAAK4H,YAAL,CAAkB,KAAKC,WAAL,CAAiB7H,SAAjB,CAAlB,CAAP;AACH;AACD;;;;;;;;;;oCAOaA,S,EAAW;AACpB,gBAAI,KAAKlrC,MAAL,MAAiBkrC,cAAcx7C,SAAnC,EAA8C;AAC1C,oBAAM+1C,QAAQ,KAAKA,KAAL,EAAd;AACA,oBAAMhqC,QAAQgqC,MAAMhqC,KAAN,GAAcgqC,MAAMhqC,KAAN,EAAd,GAA8B,IAA5C;AACA,oBAAMu/B,QAAQ,KAAKoX,cAAL,CAAoBpqD,KAApB,CAA0ByT,KAA1B,EAAiCyvC,SAAjC,EAA4CzF,KAA5C,EAAmD,KAAKzlC,MAAL,EAAnD,EAAkE,KAAKyiB,YAAL,EAAlE,CAAd;;AAEA,oBAAI,OAAOuY,KAAP,KAAiB,QAArB,EAA+B;AAC3B,wBAAM9B,MAAM8B,MAAMld,SAAN,CAAgBkd,MAAM9lC,OAAN,CAAc,GAAd,IAAqB,CAArC,EAAwC8lC,MAAMgY,WAAN,CAAkB,GAAlB,CAAxC,EAAgEvsC,KAAhE,CAAsE,MAAtE,CAAZ;AACA,2BAAOwsC,mDAAQA,qCAAI/Z,GAAZ,EAAP;AACH;AACD,oDAAW8B,KAAX;AACH;AACD,gDAAW,KAAKrlC,MAAL,GAAc3N,KAAzB;AACH;;AAED;;;;;;;;;;uCAO2B;AAAA,gBAAbgY,MAAa,uEAAJ,EAAI;;AACvB,gBAAIA,OAAOvU,MAAX,EAAmB;AACf,oBAAMg6C,QAAQ,KAAKA,KAAL,EAAd;AACA,oBAAMhqC,QAAQgqC,MAAMhqC,KAAN,GAAcgqC,MAAMhqC,KAAN,EAAd,GAA8B,IAA5C;AACA,oBAAMy3C,gBAAgB,KAAKd,cAAL,CAAoBe,WAApB,EAAtB;AACA,oBAAMC,YAAYF,cAAclzC,MAAd,EAAsB,KAAKrK,MAAL,GAAcuX,KAApC,EAA2CzR,KAA3C,CAAlB;;AAEA,qBAAKuE,MAAL,CAAYozC,UAAUpzC,MAAtB;AACAozC,0BAAU33C,KAAV,IAAmB,KAAKgqC,KAAL,GAAahqC,KAAb,CAAmB23C,UAAU33C,KAA7B,CAAnB;AACA,qBAAKgnB,YAAL,CAAkB2wB,UAAUjwB,UAA5B;AACA,qBAAKsiB,KAAL,GAAazlC,MAAb,CAAoBozC,UAAUC,WAAV,IAAyB,KAAKrzC,MAAL,EAA7C;AACH;AACD,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;oCAOa;AACT,mBAAO;AACHxJ,sBAAM,KAAK3D,WAAL,CAAiB2D,IAAjB,EADH;AAEHivC,uBAAO,KAAKA,KAAL,EAFJ;AAGHzlC,wBAAQ,KAAKA,MAAL,EAHL;AAIHrK,wBAAQ,KAAKA,MAAL;AAJL,aAAP;AAMH;;;uCAEeqlC,K,EAAOsY,iB,EAAmB;AACtC,gBAAMC,IAAIvY,MAAM,CAAN,IAAW,GAArB;AACA,gBAAMhyC,IAAIgyC,MAAM,CAAN,IAAW,GAArB;AACA,gBAAM/zC,IAAI+zC,MAAM,CAAN,IAAW,GAArB;AACA,gBAAMvtB,IAAIutB,MAAM,CAAN,KAAY,CAAtB;AACA,gBAAMwY,OAAOD,IAAID,kBAAkB,CAAlB,CAAjB;AACA,gBAAMG,OAAOzqD,IAAIsqD,kBAAkB,CAAlB,CAAjB;AACA,gBAAMI,OAAOzsD,IAAIqsD,kBAAkB,CAAlB,CAAjB;AACA,gBAAMK,OAAOlmC,IAAI6lC,kBAAkB,CAAlB,CAAJ,IAA4B,CAAzC;;AAEA,mBAAO,EAAEtY,iBAAewY,IAAf,SAAuBC,IAAvB,UAAgCC,IAAhC,UAAyCC,IAAzC,MAAF,EAAoDC,MAAM,CAACJ,OAAO,GAAR,EAAaC,OAAO,GAApB,EAAyBC,OAAO,GAAhC,EAAqCC,IAArC,CAA1D,EAAP;AACH;;AAED;;;;;;;6BAIM;AACF,mBAAO,KAAK9E,GAAZ;AACH;;;wCAnJuB;AACpB,mBAAOgF,wDAAP;AACH;;AAED;;;;;;;;;;+BAOe;AACX,mBAAO1jB,sDAAP;AACH;;;;;;AA/CgByhB,wE;;;;;;;;;;;;AChBrB;AAAA;AAAO,IAAMkC,YAAY;AACrBC,UAAM,EAAEC,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EADe;AAErBC,eAAW,EAAEF,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAFU;AAGrBE,aAAS,EAAEH,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAHY;AAIrBG,cAAU,EAAEJ,KAAK,QAAP,EAAiBC,KAAK,YAAtB,EAJW;AAKrBI,mBAAe,EAAEL,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EALM;AAMrBK,qBAAiB,EAAEN,KAAK,QAAP,EAAiBC,KAAK,YAAtB,EANI;AAOrBM,iBAAa,EAAEP,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAPQ;AAQrBO,YAAQ,EAAER,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EARa;AASrBQ,gBAAY,EAAET,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EATS;AAUrBS,gBAAY,EAAEV,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAVS;AAWrBU,eAAW,EAAEX,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EAXU;AAYrBW,aAAS,EAAEZ,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EAZY;AAarBY,eAAW,EAAEb,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EAbU;AAcrBa,aAAS,EAAEd,KAAK,QAAP,EAAiBC,KAAK,SAAtB,EAdY;AAerBc,SAAK,EAAEf,KAAK,QAAP,EAAiBC,KAAK,SAAtB,EAfgB;AAgBrBe,eAAW,EAAEhB,KAAK,QAAP,EAAiBC,KAAK,UAAtB,EAhBU;AAiBrBgB,YAAQ,EAAEjB,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EAjBa;AAkBrBiB,WAAO,EAAElB,KAAK,QAAP,EAAiBC,KAAK,YAAtB,EAlBc;AAmBrBkB,gBAAY,EAAEnB,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EAnBS;AAoBrBmB,YAAQ,EAAEpB,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EApBa;AAqBrBoB,UAAM,EAAErB,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EArBe;AAsBrBqB,YAAQ,EAAEtB,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EAtBa;AAuBrBsB,iBAAa,EAAEvB,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAvBQ;AAwBrBuB,kBAAc,EAAExB,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAxBO;AAyBrBwB,0BAAsB,EAAEzB,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAzBD;AA0BrByB,gBAAY,EAAE1B,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EA1BS;AA2BrB0B,cAAU,EAAE3B,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EA3BW;AA4BrB2B,eAAW,EAAE5B,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EA5BU;AA6BrB4B,mBAAe,EAAE7B,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EA7BM;AA8BrB6B,WAAO,EAAE9B,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EA9Bc;AA+BrB8B,eAAW,EAAE/B,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EA/BU;AAgCrB+B,cAAU,EAAEhC,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAhCW;AAiCrBgC,oBAAgB,EAAEjC,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAjCK;AAkCrBiC,YAAQ,EAAElC,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAlCa;AAmCrBkC,iBAAa,EAAEnC,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAnCQ;AAoCrBmC,WAAO,EAAEpC,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EApCc;AAqCrBoC,eAAW,EAAErC,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EArCU;AAsCrBqC,SAAK,EAAEtC,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAtCgB;AAuCrBsC,eAAW,EAAEvC,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAvCU;AAwCrBuC,gBAAY,EAAExC,KAAK,QAAP,EAAiBC,KAAK,YAAtB,EAxCS;AAyCrBwC,eAAW,EAAEzC,KAAK,QAAP,EAAiBC,KAAK,YAAtB,EAzCU;AA0CrByC,mBAAe,EAAE1C,KAAK,QAAP,EAAiBC,KAAK,YAAtB,EA1CM;AA2CrB0C,UAAM,EAAE3C,KAAK,QAAP,EAAiBC,KAAK,YAAtB,EA3Ce;AA4CrB2C,eAAW,EAAE5C,KAAK,QAAP,EAAiBC,KAAK,YAAtB,EA5CU;AA6CrB4C,iBAAa,EAAE7C,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EA7CQ;AA8CrB6C,YAAQ,EAAE9C,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EA9Ca;AA+CrB8C,WAAO,EAAE/C,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EA/Cc;AAgDrB+C,YAAQ,EAAEhD,KAAK,QAAP,EAAiBC,KAAK,SAAtB,EAhDa;AAiDrBgD,oBAAgB,EAAEjD,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EAjDK;AAkDrBiD,WAAO,EAAElD,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EAlDc;AAmDrBkD,eAAW,EAAEnD,KAAK,QAAP,EAAiBC,KAAK,YAAtB,EAnDU;AAoDrBmD,iBAAa,EAAEpD,KAAK,QAAP,EAAiBC,KAAK,YAAtB,EApDQ;AAqDrBoD,eAAW,EAAErD,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EArDU;AAsDrBqD,UAAM,EAAEtD,KAAK,QAAP,EAAiBC,KAAK,SAAtB,EAtDe;AAuDrBsD,eAAW,EAAEvD,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EAvDU;AAwDrBuD,gBAAY,EAAExD,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EAxDS;AAyDrBwD,iBAAa,EAAEzD,KAAK,QAAP,EAAiBC,KAAK,YAAtB,EAzDQ;AA0DrByD,iBAAa,EAAE1D,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EA1DQ;AA2DrB0D,uBAAmB,EAAE3D,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EA3DE;AA4DrB2D,gBAAY,EAAE5D,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EA5DS;AA6DrB4D,eAAW,EAAE7D,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EA7DU;AA8DrB6D,kBAAc,EAAE9D,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EA9DO;AA+DrB8D,oBAAgB,EAAE/D,KAAK,QAAP,EAAiBC,KAAK,YAAtB,EA/DK;AAgErB+D,cAAU,EAAEhE,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EAhEW;AAiErBgE,iBAAa,EAAEjE,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EAjEQ;AAkErBiE,WAAO,EAAElE,KAAK,QAAP,EAAiBC,KAAK,SAAtB,EAlEc;AAmErBkE,eAAW,EAAEnE,KAAK,QAAP,EAAiBC,KAAK,SAAtB,EAnEU;AAoErBmE,sBAAkB,EAAEpE,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EApEG;AAqErBoE,UAAM,EAAErE,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EArEe;AAsErBqE,UAAM,EAAEtE,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EAtEe;AAuErBsE,eAAW,EAAEvE,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAvEU;AAwErBuE,mBAAe,EAAExE,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAxEM;AAyErBwE,gBAAY,EAAEzE,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAzES;AA0ErByE,eAAW,EAAE1E,KAAK,QAAP,EAAiBC,KAAK,YAAtB,EA1EU;AA2ErB0E,qBAAiB,EAAE3E,KAAK,QAAP,EAAiBC,KAAK,YAAtB,EA3EI;AA4ErB2E,mBAAe,EAAE5E,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EA5EM;AA6ErB4E,mBAAe,EAAE7E,KAAK,QAAP,EAAiBC,KAAK,YAAtB,EA7EM;AA8ErB6E,eAAW,EAAE9E,KAAK,QAAP,EAAiBC,KAAK,YAAtB,EA9EU;AA+ErB8E,cAAU,EAAE/E,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EA/EW;AAgFrB+E,UAAM,EAAEhF,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EAhFe;AAiFrBgF,oBAAgB,EAAEjF,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAjFK;AAkFrBiF,gBAAY,EAAElF,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAlFS;AAmFrBkF,eAAW,EAAEnF,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAnFU;AAoFrBmF,aAAS,EAAEpF,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EApFY;AAqFrBoF,kBAAc,EAAErF,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EArFO;AAsFrBqF,iBAAa,EAAEtF,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EAtFQ;AAuFrBsF,gBAAY,EAAEvF,KAAK,QAAP,EAAiBC,KAAK,YAAtB,EAvFS;AAwFrBuF,oBAAgB,EAAExF,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAxFK;AAyFrBwF,eAAW,EAAEzF,KAAK,QAAP,EAAiBC,KAAK,YAAtB,EAzFU;AA0FrByF,eAAW,EAAE1F,KAAK,QAAP,EAAiBC,KAAK,YAAtB,EA1FU;AA2FrB0F,UAAM,EAAE3F,KAAK,QAAP,EAAiBC,KAAK,SAAtB,EA3Fe;AA4FrB2F,gBAAY,EAAE5F,KAAK,QAAP,EAAiBC,KAAK,SAAtB,EA5FS;AA6FrB4F,cAAU,EAAE7F,KAAK,QAAP,EAAiBC,KAAK,SAAtB,EA7FW;AA8FrB6F,UAAM,EAAE9F,KAAK,QAAP,EAAiBC,KAAK,SAAtB,EA9Fe;AA+FrB8F,kBAAc,EAAE/F,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EA/FO;AAgGrB+F,cAAU,EAAEhG,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAhGW;AAiGrBgG,aAAS,EAAEjG,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAjGY;AAkGrBiG,UAAM,EAAElG,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAlGe;AAmGrBkG,YAAQ,EAAEnG,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAnGa;AAoGrBmG,YAAQ,EAAEpG,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EApGa;AAqGrBoG,aAAS,EAAErG,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EArGY;AAsGrBqG,aAAS,EAAEtG,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EAtGY;AAuGrBsG,kBAAc,EAAEvG,KAAK,QAAP,EAAiBC,KAAK,YAAtB,EAvGO;AAwGrBuG,kBAAc,EAAExG,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAxGO;AAyGrBwG,gBAAY,EAAEzG,KAAK,QAAP,EAAiBC,KAAK,YAAtB,EAzGS;AA0GrByG,gBAAY,EAAE1G,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EA1GS;AA2GrB0G,gBAAY,EAAE3G,KAAK,QAAP,EAAiBC,KAAK,YAAtB,EA3GS;AA4GrB2G,iBAAa,EAAE5G,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EA5GQ;AA6GrB4G,YAAQ,EAAE7G,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EA7Ga;AA8GrB6G,YAAQ,EAAE9G,KAAK,QAAP,EAAiBC,KAAK,UAAtB,EA9Ga;AA+GrB8G,mBAAe,EAAE/G,KAAK,QAAP,EAAiBC,KAAK,WAAtB,EA/GM;AAgHrB+G,eAAW,EAAEhH,KAAK,QAAP,EAAiBC,KAAK,YAAtB,EAhHU;AAiHrBgH,qBAAiB,EAAEjH,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAjHI;AAkHrBiH,WAAO,EAAElH,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAlHc;AAmHrBkH,UAAM,EAAEnH,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAnHe;AAoHrBmH,cAAU,EAAEpH,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EApHW;AAqHrBoH,eAAW,EAAErH,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EArHU;AAsHrBqH,WAAO,EAAEtH,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAtHc;AAuHrBsH,eAAW,EAAEvH,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAvHU;AAwHrBuH,gBAAY,EAAExH,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAxHS;AAyHrBwH,gBAAY,EAAEzH,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAzHS;AA0HrByH,cAAU,EAAE1H,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EA1HW;AA2HrB0H,WAAO,EAAE3H,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EA3Hc;AA4HrB2H,aAAS,EAAE5H,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EA5HY;AA6HrB4H,iBAAa,EAAE7H,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EA7HQ;AA8HrB6H,WAAO,EAAE9H,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EA9Hc;AA+HrB8H,kBAAc,EAAE/H,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EA/HO;AAgIrB+H,WAAO,EAAEhI,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAhIc;AAiIrBgI,mBAAe,EAAEjI,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAjIM;AAkIrBiI,eAAW,EAAElI,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAlIU;AAmIrBkI,eAAW,EAAEnI,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAnIU;AAoIrBmI,eAAW,EAAEpI,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EApIU;AAqIrBoI,YAAQ,EAAErI,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EArIa;AAsIrBqI,cAAU,EAAEtI,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAtIW;AAuIrBsI,UAAM,EAAEvI,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAvIe;AAwIrBuI,aAAS,EAAExI,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAxIY;AAyIrBwI,oBAAgB,EAAEzI,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EAzIK;AA0IrByI,eAAW,EAAE1I,KAAK,QAAP,EAAiBC,KAAK,aAAtB,EA1IU;AA2IrB0I,mBAAe,EAAE3I,KAAK,QAAP,EAAiBC,KAAK,UAAtB,EA3IM;AA4IrB2I,WAAO,EAAE5I,KAAK,QAAP,EAAiBC,KAAK,OAAtB;AA5Ic,CAAlB,C;;;;;;;;;;;;;;;;;;;;;;ACAP;AACA;AACA;AACA;;AAEA,IAAM4I,WAAW,SAAXA,QAAW,CAAC78C,MAAD,EAASkN,KAAT,EAAmB;AAChC,QAAI4vC,WAAW,EAAf;;AAEA,QAAI5vC,iBAAiBne,KAArB,EAA4B;AACxB+tD,mBAAW5vC,MAAMnhB,KAAN,GAAckI,IAAd,EAAX;AACA6oD,mBAAW,6BAAI,IAAI/8C,GAAJ,EAASC,OAAO,CAAP,CAAT,4BAAuBkN,KAAvB,IAA8BlN,OAAO,CAAP,CAA9B,GAAJ,GAA+C/L,IAA/C,EAAX;AACH,KAHD,MAGO;AACH,YAAM22C,eAAemS,qEAAkBA,uCAAM/8C,MAAxB,EAArB;AACA,aAAK,IAAIhZ,IAAI,CAAb,EAAgBA,KAAKkmB,KAArB,EAA4BlmB,GAA5B,EAAiC;AAC7B81D,qBAAS91D,CAAT,IAAc4jD,aAAa5jD,IAAIkmB,KAAjB,CAAd;AACH;AACJ;;AAED,QAAI4vC,SAAS,CAAT,IAAc98C,OAAO,CAAP,CAAlB,EAA6B;AACzB88C,iBAAS17B,KAAT;AACH;AACD,WAAO,EAAEphB,cAAF,EAAU88C,kBAAV,EAAP;AACH,CAjBD;;AAmBA,IAAME,aAAa,SAAbA,UAAa,CAACC,cAAD,EAAiBxhD,KAAjB,EAA2B;AAC1C,QAAIyhD,WAAW,EAAf;AACA,QAAMC,iBAAiBl5C,KAAK3D,GAAL,CAAS7E,MAAMhQ,MAAf,EAAuB,EAAvB,CAAvB;;AAEA,QAAIwxD,iBAAiBE,cAArB,EAAqC;AACjC,YAAMvS,eAAewS,wEAAqBA,GAAGC,kEAAeA,EAAvC,EAA2C5hD,MAAMrR,GAAN,CAAU;AAAA,mBAAK0oD,2DAAYA,CAACl+C,CAAb,CAAL;AAAA,SAAV,CAA3C,CAArB;AACA,aAAK,IAAI5N,IAAI,CAAb,EAAgBA,IAAIi2D,cAApB,EAAoCj2D,GAApC,EAAyC;AACrCk2D,qBAASl2D,CAAT,IAAc4jD,aAAa5jD,KAAKi2D,iBAAiB,CAAtB,CAAb,CAAd;AACH;AACJ,KALD,MAKO;AACHC,mBAAWzhD,MAAM1P,KAAN,CAAY,CAAZ,EAAekxD,cAAf,CAAX;AACH;AACD,WAAO,EAAEC,kBAAF,EAAP;AACH,CAbD;;AAeA;;;;;;AAMA,IAAMI,gBAAgB,SAAhBA,aAAgB,CAACt9C,MAAD,EAAY;AAC9B,QAAMmjB,aAAanjB,MAAnB;AACA,QAAMu9C,YAAYv9C,OAAO5V,GAAP,CAAW,UAAC/C,CAAD,EAAIL,CAAJ;AAAA,eAAWA,CAAD,IAAOgZ,OAAOvU,MAAP,GAAgB,CAAvB,CAAV;AAAA,KAAX,CAAlB;AACA,WAAO,EAAEuU,QAAQu9C,SAAV,EAAqBp6B,sBAArB,EAAiCkwB,aAAa,CAAC,CAAD,EAAI,CAAJ,CAA9C,EAAP;AACH,CAJD;;AAMA;;;;;;AAMA,IAAMmK,uBAAuB,SAAvBA,oBAAuB,CAACx9C,MAAD,EAASkN,KAAT,EAAgBzR,KAAhB,EAA0B;AACnD,QAAM0nB,aAAanjB,MAAnB;AACA,WAAO,EAAEA,cAAF,EAAUmjB,sBAAV,EAAsBkwB,aAAa,CAAC,CAAD,EAAI,CAAJ,CAAnC,EAA2C53C,YAA3C,EAAP;AACH,CAHD;;AAKA;;;;;;AAMA,IAAMgiD,eAAe,SAAfA,YAAe,CAACz9C,MAAD,EAASkN,KAAT,EAAgBzR,KAAhB,EAA0B;AAC3C,QAAM0nB,aAAanjB,MAAnB;AACA,WAAO,EAAEmjB,sBAAF,EAAcnjB,cAAd,EAAsBirC,MAAM,IAA5B,EAAkCxvC,YAAlC,EAAP;AACH,CAHD;;AAKA;;;;;;;AAOA,IAAMiiD,gBAAgB,SAAhBA,aAAgB,CAAC19C,MAAD,EAASkN,KAAT,EAAgBzR,KAAhB,EAA0B;AAAA,oBACHohD,SAAS78C,MAAT,EAAiBkN,KAAjB,CADG;AAAA,QAC5BiW,UAD4B,aACpCnjB,MADoC;AAAA,QAChB88C,QADgB,aAChBA,QADgB;;AAAA,sBAEvBE,WAAWF,SAASrxD,MAAT,GAAkB,CAA7B,EAAgCgQ,KAAhC,CAFuB;AAAA,QAEpCyhD,QAFoC,eAEpCA,QAFoC;;AAI5C,WAAO,EAAE/5B,sBAAF,EAAcnjB,QAAQ88C,QAAtB,EAAgC7R,MAAM,IAAtC,EAA4CxvC,OAAOyhD,QAAnD,EAAP;AACH,CALD;;AAOA,IAAMS,yBAAyB,SAAzBA,sBAAyB,CAAC39C,MAAD,EAASkN,KAAT,EAAgBzR,KAAhB,EAA0B;AAAA,qBACZohD,SAAS78C,MAAT,EAAiBvE,MAAMhQ,MAAN,GAAe,CAAhC,CADY;AAAA,QACrC03B,UADqC,cAC7CnjB,MAD6C;AAAA,QACzB88C,QADyB,cACzBA,QADyB;;AAErD,QAAMc,WAAWniD,MAAMrR,GAAN,CAAU;AAAA,eAAK0oD,2DAAYA,CAACl+C,CAAb,CAAL;AAAA,KAAV,CAAjB;AACA,WAAO,EAAEuuB,sBAAF,EAAcnjB,QAAQ88C,QAAtB,EAAgC7R,MAAM,IAAtC,EAA4CxvC,OAAOmiD,QAAnD,EAAP;AACH,CAJD;;AAMA;;;;;;;;;AASA,IAAMC,cAAc,SAAdA,WAAc,CAACC,WAAD,EAAcrY,KAAd,EAAqBzlC,MAArB,EAA6BmjB,UAA7B,EAA4C;AAC5D,QAAMzqB,QAAQyqB,WAAWjuB,OAAX,CAAmB4oD,WAAnB,CAAd;AACA,QAAMC,SAAS/9C,OAAOtH,KAAP,CAAf;AACA,WAAO+sC,MAAMsY,MAAN,CAAP;AACH,CAJD;;AAMA;;;;;;;;AAQA,IAAMC,eAAe,SAAfA,YAAe,CAACF,WAAD,EAAcrY,KAAd,EAAqBzlC,MAArB,EAAgC;AACjD,QAAM+9C,SAAS,CAACD,cAAc99C,OAAO,CAAP,CAAf,KAA6BA,OAAOA,OAAOvU,MAAP,GAAgB,CAAvB,IAA4BuU,OAAO,CAAP,CAAzD,CAAf;;AAEA,WAAOylC,MAAMsY,MAAN,CAAP;AACH,CAJD;;AAMA;;;;;;AAMA,IAAME,cAAc,SAAdA,WAAc,CAACH,WAAD,EAAcrY,KAAd;AAAA,WAAwBA,MAAMqY,WAAN,CAAxB;AAAA,CAApB;;AAEA;;;;;AAKA,IAAMI,aAAa,SAAbA,UAAa;AAAA;;AAAA,4CACXpM,0DADW,SACEA,0DADF,SACeqM,4DADf,EAC8B;AACzC1Y,eAAO0Y,4DADkC;AAEzChL,qBAAa;AAAA,mBAAMqK,oBAAN;AAAA,SAF4B;AAGzCx1D,eAAO;AAAA,mBAAMg2D,YAAN;AAAA;AAHkC,KAD9B,yBAMXlM,0DANW,SAMEC,yDANF,SAMcoM,4DANd,EAM6B;AACxC1Y,eAAO0Y,4DADiC;AAExChL,qBAAa;AAAA,mBAAMqK,oBAAN;AAAA,SAF2B;AAGxCx1D,eAAO;AAAA,mBAAMg2D,YAAN;AAAA;AAHiC,KAN7B,yBAWXjM,yDAXW,SAWCA,yDAXD,SAWaoM,4DAXb,EAW4B;AACvC1Y,eAAO0Y,4DADgC;AAEvChL,qBAAa;AAAA,mBAAMmK,aAAN;AAAA,SAF0B;AAGvCt1D,eAAO;AAAA,mBAAM61D,WAAN;AAAA;AAHgC,KAX5B,yBAgBX9L,yDAhBW,SAgBCA,yDAhBD,SAgBaqM,yDAhBb,EAgByB;AACpC3Y,eAAO2Y,yDAD6B;AAEpCjL,qBAAa;AAAA,mBAAMsK,YAAN;AAAA,SAFuB;AAGpCz1D,eAAO;AAAA,mBAAMi2D,WAAN;AAAA;AAH6B,KAhBzB,yBAqBXnM,0DArBW,SAqBEA,0DArBF,SAqBesM,yDArBf,EAqB2B;AACtC3Y,eAAOiB,wDAD+B;AAEtCyM,qBAAa;AAAA,mBAAMwK,sBAAN;AAAA,SAFyB;AAGtC31D,eAAO;AAAA,mBAAMi2D,WAAN;AAAA;AAH+B,KArB3B,yBA0BXnM,0DA1BW,SA0BEC,yDA1BF,SA0BcqM,yDA1Bd,EA0B0B;AACrC3Y,eAAO4Y,0DAD8B;AAErClL,qBAAa;AAAA,mBAAMuK,aAAN;AAAA,SAFwB;AAGrC11D,eAAO;AAAA,mBAAMi2D,WAAN;AAAA;;AAH8B,KA1B1B;AAAA,CAAnB;;AAkCA;;;;;;;;AAQO,IAAMrL,iBAAiB,SAAjBA,cAAiB,CAACH,UAAD,EAAaC,SAAb,EAAwBC,UAAxB,EAAoCzlC,KAApC;AAAA,WACzBgxC,WAAWhxC,KAAX,EAAqBulC,UAArB,SAAmCC,SAAnC,UAAgDC,cAAc,EAA9D,EADyB;AAAA,CAAvB,C;;;;;;;;;;;;ACjLP;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;AAGO,IAAM2L,UAAU,CACnB,SADmB,EAEnB,SAFmB,EAGnB,SAHmB,EAInB,SAJmB,EAKnB,SALmB,EAMnB,SANmB,CAAhB;;AASA,IAAMC,yBAAyB,SAA/B;;AAEA,IAAM1K,iBAAiB;AAC1Bp4C,WAAO6iD,OADmB;AAE1Bt2D,WAAOs2D,QAAQ,CAAR,CAFmB;AAG1BrM,UAAM,KAHoB;AAI1B/kC,WAAO,CAJmB;AAK1B1W,UAAMkwC,uDAAMA;AALc,CAAvB,C;;;;;;;;;;;;ACjBP;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;;AAEO,IAAMoM,eAAe,SAAfA,YAAe;AAAA,qBAAkB0L,OAAO,CAAP,IAAY,GAA9B,SAAqCA,OAAO,CAAP,IAAY,GAAjD,UAAyDA,OAAO,CAAP,IAAY,GAArE,WAC1BA,OAAO,CAAP,KAAa,CADa;AAAA,CAArB;;AAGA,IAAMC,qBAAqB,SAArBA,kBAAqB;AAAA,WAAc,CAACC,WAAWj4C,KAAX,CAAiB,GAAjB,KAAyB,EAA1B,EAC/B1R,MAD+B,CACxB,UAAC+e,CAAD,EAAIlf,CAAJ;AAAA,oBAAakf,CAAb,GAAiBlf,EAAE+pD,MAAF,CAAS,CAAT,EAAYC,WAAZ,EAAjB,GAA6ChqD,EAAE7I,KAAF,CAAQ,CAAR,CAA7C;AAAA,KADwB,EACmC,EADnC,CAAd;AAAA,CAA3B;;AAGA,IAAM8yD,oBAAoB,SAApBA,iBAAoB,CAACjqD,CAAD,EAAIkqD,YAAJ,EAAqB;AAClD,QAAI9jB,QAAQ,EAAZ;AACA,QAAI,OAAOpmC,CAAP,KAAa,QAAjB,EAA2B;AACvBA,YAAIA,EAAE5I,OAAF,CAAU,IAAV,EAAgB,EAAhB,CAAJ;AACA4I,YAAIA,EAAEod,WAAF,EAAJ;AACA,YAAI+sC,8DAAWA,CAACnqD,CAAZ,MAAmBoqD,oDAAnB,IAA0BD,8DAAWA,CAACnqD,CAAZ,MAAmBqqD,qDAAjD,EAAuD;AACnDjkB,oBAAQpmC,EAAE+N,KAAF,CAAQ,gBAAR,CAAR;AACAq4B,oBAAQ,CAACA,MAAM,CAAN,IAAW,GAAZ,EAAiBA,MAAM,CAAN,IAAW,GAA5B,EAAiCA,MAAM,CAAN,IAAW,GAA5C,EAAiDA,MAAM,CAAN,KAAY,CAA7D,CAAR;AACH,SAHD,MAGO,IAAI+jB,8DAAWA,CAACnqD,CAAZ,MAAmBsqD,oDAAvB,EAA4B;AAC/BlkB,oBAAQmkB,2DAAQA,CAACvqD,CAAT,CAAR;AACH,SAFM,MAEA,IAAImqD,8DAAWA,CAACnqD,CAAZ,MAAmBwqD,oDAAvB,EAA4B;AAC/B,gBAAMlmB,MAAMtkC,EAAEkpB,SAAF,CAAYlpB,EAAEM,OAAF,CAAU,GAAV,IAAiB,CAA7B,EAAgCN,EAAEo+C,WAAF,CAAc,GAAd,CAAhC,EAAoDvsC,KAApD,CAA0D,MAA1D,CAAZ;AACAu0B,oBAAQiY,mDAAQA,qCAAI/Z,GAAZ,EAAR;AACH,SAHM,MAGA,IAAI4a,qDAASA,CAAC2K,mBAAmB7pD,CAAnB,CAAV,CAAJ,EAAsC;AACzComC,oBAAQiY,mDAAQA,qCAAIa,qDAASA,CAAC2K,mBAAmB7pD,CAAnB,CAAV,EAAiCq/C,GAAjC,CAAqCxtC,KAArC,CAA2C,GAA3C,CAAZ,EAAR;AACH;AACJ,KAdD,MAcO,IAAI,EAAE7R,aAAa7F,KAAf,CAAJ,EAA2B;AAC9BisC,gBAAQiY,2DAAQA,CAAC6L,YAAT,CAAR;AACH,KAFM,MAEA;AACH9jB,gBAAQpmC,CAAR;AACH;AACD,WAAOomC,KAAP;AACH,CAtBM;;AAwBA,IAAMuI,QAAQ;AACjB5tC,YAAQ;AACJ6tC,sBAAc,sBAACrM,OAAD,EAAUxhC,MAAV,EAAqB;AAC/B,gBAAM4uC,SAASjS,iEAAcA,CAAC,EAAf,EAAmB6E,QAAQtkC,WAAR,CAAoBumC,aAApB,EAAnB,CAAf;AACA,gBAAIzjC,OAAOa,IAAP,KAAgBkwC,uDAApB,EAA4B;AACxB/wC,uBAAO8F,KAAP,GAAe9F,OAAO8F,KAAP,IAAgB,CAAC8oC,OAAO9oC,KAAP,CAAa,CAAb,CAAD,CAA/B;AACA9F,uBAAO8F,KAAP,GAAe9F,OAAO8F,KAAP,CAAahQ,MAAb,GAAsB,CAAtB,GAA0BkK,OAAO8F,KAAjC,IAA0C8iD,gEAA1C,4BAAqE5oD,OAAO8F,KAA5E,EAAf;AACH;AACD,gBAAMizC,YAAYpc,iEAAcA,CAACiS,MAAf,EAAuBpN,QAAQxhC,MAAR,EAAvB,CAAlB;AACA,gBAAM0pD,YAAY/sB,iEAAcA,CAACoc,SAAf,EAA0B/4C,MAA1B,CAAlB;;AAEA,gBAAI0pD,UAAU5jD,KAAV,YAA2B1M,KAA/B,EAAsC;AAClCswD,0BAAU5jD,KAAV,GAAkB4jD,UAAU5jD,KAAV,CAAgBrR,GAAhB,CAAoB,UAACwK,CAAD,EAAI5N,CAAJ;AAAA,2BAAU63D,kBAAkBjqD,CAAlB,EAAqB0pD,iDAAOA,CAACt3D,CAAR,CAArB,CAAV;AAAA,iBAApB,CAAlB;AACAq4D,0BAAUnyC,KAAV,GAAkBvX,OAAOuX,KAAP,IAAgBmyC,UAAU5jD,KAAV,CAAgBhQ,MAAlD;AACH;AACD4zD,sBAAUr3D,KAAV,GAAkB62D,kBAAkBQ,UAAUr3D,KAA5B,EAAmCq3D,UAAUr3D,KAA7C,CAAlB;AACA,mBAAOq3D,SAAP;AACH;AAhBG,KADS;AAmBjBr/C,YAAQ,EAnBS;AAoBjBylC,WAAO,EApBU;AAqBjBhjB,kBAAc;AArBG,CAAd,C;;;;;;;;;;;;;;;;;;;ACnCP;;AAEA,IAAM68B,aAAa;AACfjkD,eAAW,WADI;AAEfU,iBAAa,aAFE;AAGfI,aAAS,SAHM;AAIfH,cAAU;AAJK,CAAnB;;AAOA;;;AAGO,IAAMujD,+EACRD,WAAWjkD,SADH,EACemkD,sDADf,sCAERF,WAAWnjD,OAFH,EAEaqjD,wDAFb,sCAGRF,WAAWtjD,QAHH,EAGcwjD,sDAHd,qBAAN,C;;;;;;;;;;;;;;;;;;;;;;;;ACZP;;;;;AAKA;AACA;;AAEA;;;;;AAKO,IAAMruB,SAAS,QAAf;AACA,IAAMH,MAAM,KAAZ;AACA,IAAMC,OAAO,MAAb;AACA,IAAMC,QAAQ,OAAd;;AAEP;;;;AAIO,IAAMue,qFACRhJ,4DADQ,EACe/I,kDAAOA,CAAC+hB,QADvB,wCAERhZ,8DAFQ,EAEiB/I,kDAAOA,CAACgiB,UAFzB,wCAGRjZ,6DAHQ,EAGgB/I,kDAAOA,CAACiiB,SAHxB,wCAIRlZ,2DAJQ,EAIc/I,kDAAOA,CAACkiB,OAJtB,uBAAN,C;;;;;;;;;;;;ACtBP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,IAAM5T,cAAc,MAApB;;AAEA,IAAM8F,YAAY,WAAlB;AACA,IAAMC,WAAW,UAAjB;AACA,IAAMoM,aAAa,YAAnB;AACA,IAAMC,UAAU,SAAhB;AACA,IAAM1X,SAAS,QAAf;AACA,IAAMmZ,YAAY,WAAlB;AACA,IAAMC,WAAW,UAAjB;AACA,IAAMzB,WAAW,UAAjB;;AAEA,IAAMluB,QAAQ,OAAd;AACA,IAAM4vB,QAAQ,OAAd;AACA,IAAMC,OAAO,MAAb;;AAEA,IAAMC,SAAS,QAAf;AACA,IAAM/V,OAAO,MAAb;AACA,IAAMzB,SAAS,QAAf;AACA,IAAMyX,SAAS,QAAf;AACA,IAAM/uB,SAAS,QAAf;AACA,IAAMH,MAAM,KAAZ;;AAEA,IAAMouB,MAAM,KAAZ;AACA,IAAMF,MAAM,KAAZ;AACA,IAAMD,OAAO,MAAb;AACA,IAAMD,MAAM,KAAZ,C;;;;;;;;;;;;ACzBP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;AAKO,IAAMtY,SAAS,QAAf;AACA,IAAMwD,OAAO,MAAb;AACA,IAAMyH,OAAO,UAAb;AACA,IAAMxhB,QAAQ,OAAd;AACA,IAAMiuB,UAAU,SAAhB;AACA,IAAM0B,WAAW,UAAjB;AACA,IAAMzB,WAAW,UAAjB;AACA,IAAMhU,MAAM,KAAZ;AACA,IAAME,MAAM,KAAZ;AACA,IAAM4V,WAAW,UAAjB;AACA,IAAMhC,aAAa,YAAnB;AACA,IAAM0B,YAAY,WAAlB,C;;;;;;;;;;;;AChBP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZA;;AAEA;;AASA;;IAGIO,W,GAcAC,iD,CAdAD,W;IACAE,c,GAaAD,iD,CAbAC,c;IACAC,Q,GAYAF,iD,CAZAE,Q;IACAC,Q,GAWAH,iD,CAXAG,Q;IACAC,a,GAUAJ,iD,CAVAI,a;IACAC,Y,GASAL,iD,CATAK,Y;IACAC,e,GAQAN,iD,CARAM,e;IACAC,a,GAOAP,iD,CAPAO,a;IACAC,a,GAMAR,iD,CANAQ,a;IACAC,gB,GAKAT,iD,CALAS,gB;IACAC,gB,GAIAV,iD,CAJAU,gB;IACAC,iB,GAGAX,iD,CAHAW,iB;IACAC,S,GAEAZ,iD,CAFAY,S;IACAC,S,GACAb,iD,CADAa,S;;AAEG,IAAM5S,uDACRkR,wDADQ,EACWY,WADX,8BAERZ,sDAFQ,EAESyB,SAFT,8BAGRzB,0DAHQ,EAGaoB,aAHb,8BAIRpB,0DAJQ,EAIaqB,aAJb,8BAKRrB,2DALQ,EAKcc,cALd,8BAMRd,4DANQ,EAMemB,eANf,8BAORnB,qDAPQ,EAOQe,QAPR,8BAQRf,qDARQ,EAQQgB,QARR,8BASRhB,0DATQ,EASaiB,aATb,8BAURjB,sDAVQ,EAUS0B,SAVT,8BAWR1B,uDAXQ,EAWUY,WAXV,8BAYRZ,yDAZQ,EAYYkB,YAZZ,aAAN;AAcA,IAAMS,UAAU;AACnBC,aAASN,gBADU;AAEnBO,aAASN,gBAFU;AAGnBO,aAASN;AAHU,CAAhB;;AAMP;;;;;;;AAOO,SAASxO,SAAT,CAAoB+O,MAApB,EAA4B;AAC/B,QAAIA,OAAO,CAAP,MAAc,GAAlB,EAAuB;AACnB,eAAOZ,gBAAgBa,uDAAYA,CAACD,MAAb,CAAhB,CAAP;AACH;AACD,WAAOb,aAAac,uDAAYA,CAACD,MAAb,CAAb,CAAP;AACH;;AAED;;;;;;;AAOO,SAASpP,aAAT,CAAwBoP,MAAxB,EAAgC;AACnC,QAAI5O,aAAa,EAAjB;AACA,QAAI4O,UAAU,OAAQA,MAAR,KAAoB,QAAlC,EAA4C;AACxC5O,qBAAa4O,OAAO,CAAP,MAAc,GAAd,GAAoBpD,2DAApB,GAAiCC,wDAA9C;AACH,KAFD,MAEO;AACHzL,qBAAayL,wDAAb;AACH;AACD,WAAOzL,UAAP;AACH;;AAED;;;;;;;;;;AAUO,SAAS3H,WAAT,CAAsBl1C,MAAtB,EAA8B;AACjC,QAAI,CAACA,OAAOU,IAAR,IAAgB,CAAC83C,SAASx4C,OAAOU,IAAhB,CAArB,EAA4C;AACxC,cAAM,IAAI7H,KAAJ,CAAamH,OAAOU,IAApB,gCAAN;AACH;AACD,QAAI,CAACzH,MAAMC,OAAN,CAAc8G,OAAO2F,KAArB,CAAL,EAAkC;AAC9B,cAAM,IAAI9M,KAAJ,CAAU,kCAAV,CAAN;AACH;AACD,QAAI0/C,eAAe,IAAnB;AACA,QAAM5yC,QAAQ3F,OAAO2F,KAArB;AACA;AACA,QAAI3F,OAAOU,IAAP,KAAgBkwC,uDAAhB,IAA0B5wC,OAAO80C,YAArC,EAAmD;AAC/CyD,uBAAeC,SAASx4C,OAAO80C,YAAhB,CAAf;AACA,YAAI90C,OAAO80C,YAAP,KAAwB4U,qDAA5B,EAA2C;AACvC,mBAAOnR,eAAe5yC,KAAf,CAAqBA,KAArB,EAA4BovC,QAA5B,CAAqC/0C,OAAO+0C,QAA5C,CAAP;AACH,SAFD,MAEO,IAAI/0C,OAAO80C,YAAP,KAAwB4U,qDAA5B,EAA2C;AAC9C,mBAAOnR,eAAe5yC,KAAf,CAAqBA,KAArB,EAA4BkvC,IAA5B,CAAiC,CAAC70C,OAAO60C,IAAR,CAAjC,CAAP;AACH;AACJ,KAPD,MAOO;AACH0D,uBAAeC,SAASx4C,OAAOU,IAAhB,CAAf;AACH;;AAED,QAAIV,OAAOU,IAAP,KAAgBspD,yDAApB,EAA8B;AAC1BzR,uBAAepD,IAAf;AACH;AACD,WAAOoD,eAAe5yC,KAAf,CAAqBA,KAArB,CAAP;AACH;;AAED;;;;;;;;;;AAUO,SAASgmD,gBAAT,CAA2Bhc,KAA3B,EAAkChqC,KAAlC,EAAyC;AAC5C,WAAOgqC,MAAMhqC,KAAN,CAAYA,KAAZ,CAAP;AACH;;AAED;;;;;;;;;AASO,SAASimD,YAAT,CAAuBjP,UAAvB,EAAmCC,SAAnC,EAA8CiP,KAA9C,EAAqD;AACxD,QAAIjP,cAAcZ,0DAAlB,EAA6B;AACzB,eAAOpL,uDAAP;AACH;AACD,QAAI+L,eAAeX,0DAAnB,EAA8B;AAC1B,YAAI6P,iBAAiB5yD,KAArB,EAA4B;AACxB,mBAAO8wD,0DAAP;AACH;AACD,eAAOC,yDAAP;AACH;AACD,WAAO1B,wDAAP;AACH,C;;;;;;;;;;;;ACvJD;AAAA;AAAO,IAAMvK,iBAAiB;AAC1B+N,eAAW,IADe;AAE1B55D,WAAO,QAFmB;AAG1ByT,WAAO,CAAC,QAAD,EAAW,SAAX,EAAsB,MAAtB,EAA8B,OAA9B,EAAuC,QAAvC,EAAiD,KAAjD,EAAwD,UAAxD;AAHmB,CAAvB,C;;;;;;;;;;;;ACAP;AAAA;AAAA;;;;;;;AAOO,IAAMomD,iBAAiB,SAAjBA,cAAiB,CAAC7hD,MAAD,EAAS8hD,WAAT,EAAyB;AACnD,QAAMC,kBAAkB,EAAxB;AACA/hD,WAAOlV,OAAP,CAAe,UAAC9C,KAAD,EAAW;AACtB+5D,wBAAgB/5D,KAAhB,IAAyB85D,YAAY95D,KAAZ,CAAzB;AACH,KAFD;AAGA,WAAO+5D,eAAP;AACH,CANM,C;;;;;;;;;;;;ACPP;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAO,IAAMxe,QAAQ;AACjB5tC,YAAQ,EADS;AAEjBqK,YAAQ,EAFS;AAGjBylC,WAAO,EAHU;AAIjBhjB,kBAAc,EAJG;AAKjBm/B,eAAW;AALM,CAAd,C;;;;;;;;;;;;;;;;;;;;;;;ACAP;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;IAIqBI,S;AACjB;;;;;;AAMA,uBAAarsD,MAAb,EAAqB;AAAA;;AACjB2uC,gFAAqBA,CAAC,IAAtB,EAA4Bf,4CAA5B;;AAEA,aAAKsL,GAAL,GAAWnsB,8DAAWA,EAAtB;AACA,aAAK9I,OAAL,GAAenyB,OAAO4H,MAAP,CAAc,EAAd,EAAkB,KAAKwD,WAAL,CAAiBumC,aAAjB,EAAlB,CAAf;AACA,aAAKxf,OAAL,GAAe0Y,iEAAcA,CAAC,KAAK1Y,OAApB,EAA6BjkB,MAA7B,CAAf;;AAEA,aAAK64C,MAAL,GAAcxD,kEAAWA,CAAC;AACtBx0C,kBAAM,SADgB;AAEtBiF,mBAAO,KAAKme,OAAL,CAAane;AAFE,SAAZ,CAAd;AAIA,aAAK62C,YAAL,CAAkB38C,OAAOqK,MAAzB;AACH;;AAEA;;;;;;;;;;;;;AAsBD;;;;;;;iCAOUhY,K,EAAO;AACb,gBAAI,CAAC,KAAKy9C,KAAL,EAAD,IAAiB,CAAC,KAAKzlC,MAAL,EAAlB,IAAmC,CAAChY,KAAxC,EAA+C;AAC3C,uBAAO,KAAK2N,MAAL,GAAc3N,KAArB;AACH;;AAED,gBAAI,KAAKi6D,gBAAT,EAA2B;AACvB,uBAAO,KAAKA,gBAAL,CAAsBj6D,KAAtB,CAAP;AACH;;AAED,gBAAMk6D,YAAY,KAAKzc,KAAL,GAAaz9C,KAAb,CAAlB;AACA,gBAAIk6D,cAAc,QAAlB,EAA4B;AACxB,uBAAOC,4DAASA,CAACD,SAAV,CAAP;AACH;;AAED,mBAAOA,SAAP;AACH;;AAED;;;;;;;;;uCAM2B;AAAA,gBAAbliD,MAAa,uEAAJ,EAAI;;AACvB,gBAAIA,OAAOvU,MAAX,EAAmB;AACf,qBAAKg3B,YAAL,CAAkBziB,MAAlB;AACA,qBAAKA,MAAL,CAAYA,MAAZ;AACA,qBAAKylC,KAAL,GAAazlC,MAAb,CAAoBA,MAApB;;AAEA,oBAAI,KAAKrK,MAAL,GAAcisD,SAAlB,EAA6B;AACzB,yBAAKK,gBAAL,GAAwBJ,8DAAcA,CAAC7hD,MAAf,EAAuB,KAAKrK,MAAL,GAAcisD,SAArC,CAAxB;AACH;AACJ;AACD,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;oCAOa;AACT,mBAAO;AACHprD,sBAAM,KAAK3D,WAAL,CAAiB2D,IAAjB,EADH;AAEHivC,uBAAO,KAAKA,KAAL,EAFJ;AAGHzlC,wBAAQ,KAAKA,MAAL,EAHL;AAIHvE,uBAAO,KAAK9F,MAAL,GAAc8F,KAJlB;AAKH9F,wBAAQ,KAAKA,MAAL;AALL,aAAP;AAOH;;AAED;;;;;;;6BAIM;AACF,mBAAO,KAAKk5C,GAAZ;AACH;;;wCAjFuB;AACpB,mBAAOgF,wDAAP;AACH;;AAEA;;;;;;;;;;+BAOc;AACX,mBAAOkM,sDAAP;AACH;;;;;;AAzCgBiC,wE;;;;;;;;;;;;AChBrB;AAAA;AAAO,IAAMnO,iBAAiB;AAC1B7rD,WAAO,EADmB;AAE1ByT,WAAO,CAAC,EAAD,EAAK,IAAL;AAFmB,CAAvB,C;;;;;;;;;;;;ACAP;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAO,IAAM8nC,QAAQ;AACjB5tC,YAAQ,EADS;AAEjBqK,YAAQ;AACJwjC,sBAAc,sBAACrM,OAAD,EAAUnvC,KAAV,EAAoB;AAC9BmvC,oBAAQsO,KAAR,GAAgBzlC,MAAhB,CAAuBhY,KAAvB;AACA,mBAAOA,KAAP;AACH;AAJG,KAFS;AAQjByT,WAAO,EARU;AASjBgqC,WAAO,EATU;AAUjBhjB,kBAAc;AAVG,CAAd,C;;;;;;;;;;;;;;;;;;;;;;;ACAP;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;IAIqB2/B,Q;;AAEjB;;;;;AAKA,sBAAazsD,MAAb,EAAqB;AAAA;;AACjB2uC,gFAAqBA,CAAC,IAAtB,EAA4Bf,4CAA5B;;AAEA,aAAKsL,GAAL,GAAWnsB,8DAAWA,EAAtB;AACA,aAAK9I,OAAL,GAAenyB,OAAO4H,MAAP,CAAc,EAAd,EAAkB,KAAKwD,WAAL,CAAiBumC,aAAjB,EAAlB,EAAoDzjC,MAApD,CAAf;AACA;AACA,aAAKk8C,WAAL,GAAmB,KAAKj4B,OAAL,CAAapjB,IAAb,KAAsB,QAAtB,GAAiCs7C,0DAAjC,GAA6CC,yDAAhE;AACA,aAAKC,UAAL,GAAkBF,0DAAlB;;AAEA,aAAKuQ,aAAL,GAAqB,KAAKC,WAAL,CAAiB,KAAKzQ,WAAtB,EAAmC,KAAKG,UAAxC,CAArB;AACA,aAAKxD,MAAL,GAAc,KAAKxD,WAAL,CAAiB,KAAKqX,aAAtB,CAAd;AACA,aAAKtT,MAAL,GAAc,KAAKn1B,OAAL,CAAane,KAA3B;;AAEA,aAAK62C,YAAL,CAAkB38C,OAAOqK,MAAzB;AACH;;AAEA;;;;;;;;;;;;;oCASYyyC,U,EAAYC,S,EAAW;AAChC,mBAAOE,qEAAcA,CAACH,UAAf,EAA2BC,SAA3B,CAAP;AACH;;AAED;;;;;;;;;oCAMa6P,Q,EAAU;AAAA,0BAGf,KAAK5sD,MAAL,EAHe;AAAA,gBAEf8F,KAFe,WAEfA,KAFe;;AAInB,mBAAOuvC,mEAAY;AACfx0C,sBAAM+rD,SAAS9c,KADA;AAEfhqC;AAFe,aAAZ,CAAP;AAIH;;AAED;;;;;;;;;;;;AAsBA;;;;;;;kCAOwB;AAAA,gBAAfyvC,SAAe,uEAAH,CAAG;;AACpB,gBAAIsX,UAAU,CAAd;;AADoB,2BAIhB,KAAK7sD,MAAL,EAJgB;AAAA,gBAGhB3N,KAHgB,YAGhBA,KAHgB;;AAKpB,gBAAMy9C,QAAQ,KAAKA,KAAL,EAAd;AACA,gBAAMzlC,SAAS,KAAKA,MAAL,MAAiB,CAAC,CAAD,EAAI,CAAJ,CAAhC;;AAEA,gBAAI,CAACylC,KAAD,IAAUzlC,OAAO,CAAP,MAAcA,OAAO,CAAP,CAA5B,EAAuC;AACnCwiD,0BAAUx6D,KAAV;AACH,aAFD,MAEO;AACH,uBAAO,KAAKq6D,aAAL,CAAmB5mD,KAAnB,CAAyByvC,SAAzB,EAAoCzF,KAApC,EAA2C,KAAKzlC,MAAL,EAA3C,EAA0D,KAAKyiB,YAAL,EAA1D,CAAP;AACH;AACD,mBAAO+/B,OAAP;AACH;;AAED;;;;;;;;;qCAMcxiD,M,EAAQ;AAClB,gBAAIA,MAAJ,EAAY;AACR,oBAAMyiD,WAAW,KAAKJ,aAAL,CAAmBriD,MAApC;;AAEA,oBAAM0iD,aAAaD,SAASziD,MAAT,EAAiB,KAAKrK,MAAL,GAAcgtD,SAA/B,CAAnB;;AAEA,qBAAK3iD,MAAL,CAAY0iD,WAAW1iD,MAAvB;AACA,qBAAKyiB,YAAL,CAAkBigC,WAAWv/B,UAA7B;;AAEA,qBAAKsiB,KAAL,GAAazlC,MAAb,CAAoB0iD,WAAWrP,WAAX,IAA0B,KAAKrzC,MAAL,EAA9C;AACH;AACD,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;oCAOa;AACT,mBAAO;AACHxJ,sBAAM,KAAK3D,WAAL,CAAiB2D,IAAjB,EADH;AAEHivC,uBAAO,KAAKA,KAAL,EAFJ;AAGHzlC,wBAAQ,KAAKA,MAAL,EAHL;AAIHvE,uBAAO,KAAKA,KAAL,EAJJ;AAKH9F,wBAAQ,KAAKA,MAAL;AALL,aAAP;AAOH;;AAED;;;;;;;6BAIM;AACF,mBAAO,KAAKk5C,GAAZ;AACH;;;wCAjFuB;AACpB,mBAAOgF,wDAAP;AACH;;AAEA;;;;;;;;;;+BAOc;AACX,mBAAOmM,qDAAP;AACH;;;;;;AAxEgBoC,uE;;;;;;;;;;;;;;;;;;;;;;;AChBrB;AACA;AACA;;AAEA;;;;;;AAMA,IAAM9E,gBAAgB,SAAhBA,aAAgB,CAACt9C,MAAD,EAAY;AAC9B,QAAMmjB,aAAanjB,MAAnB;AACA,QAAMu9C,YAAYv9C,OAAO5V,GAAP,CAAW,UAAC/C,CAAD,EAAIL,CAAJ;AAAA,eAAWA,CAAD,IAAOgZ,OAAOvU,MAAP,GAAgB,CAAvB,CAAV;AAAA,KAAX,CAAlB;AACA,WAAO,EAAEuU,QAAQu9C,SAAV,EAAqBp6B,sBAArB,EAAiCkwB,aAAa,CAAC,CAAD,EAAI,CAAJ,CAA9C,EAAP;AACH,CAJD;;AAMA;;;;;;AAMA,IAAMoK,eAAe,SAAfA,YAAe,CAACz9C,MAAD,EAAY;AAC7B,QAAMmjB,aAAanjB,MAAnB;AACA,WAAO,EAAEmjB,sBAAF,EAAcnjB,cAAd,EAAP;AACH,CAHD;;AAKA;;;;;;;AAOA,IAAM09C,gBAAgB,SAAhBA,aAAgB,CAAC19C,MAAD,EAAS2iD,SAAT,EAAuB;AACzC,QAAIC,eAAe,EAAnB;AACA,QAAID,qBAAqB5zD,KAAzB,EAAgC;AAC5B6zD,uBAAeD,UAAU52D,KAAV,GAAkBkI,IAAlB,EAAf;AACH,KAFD,MAEO;AACH,YAAM22C,eAAemS,qEAAkBA,uCAAM/8C,MAAxB,EAArB;AACA,aAAK,IAAIhZ,IAAI,CAAb,EAAgBA,IAAI27D,SAApB,EAA+B37D,GAA/B,EAAoC;AAChC47D,yBAAa57D,CAAb,IAAkB4jD,aAAa5jD,KAAK27D,YAAY,CAAjB,CAAb,CAAlB;AACH;AACJ;AACD,QAAIC,aAAa,CAAb,IAAkB5iD,OAAO,CAAP,CAAtB,EAAiC;AAC7B4iD,qBAAaxhC,KAAb;AACH;AACD,QAAMm8B,YAAYqF,YAAlB;AACA,WAAO,EAAEz/B,YAAYy/B,YAAd,EAA4B5iD,QAAQu9C,SAApC,EAA+CtS,MAAM,IAArD,EAAP;AACH,CAfD;;AAiBA;;;;;;;;;AASA,IAAM4X,gBAAgB,SAAhBA,aAAgB,CAAC/E,WAAD,EAAcrY,KAAd,EAAqBzlC,MAArB,EAAgC;AAClD,QAAM+9C,SAAS,CAACD,cAAc99C,OAAO,CAAP,CAAf,KAA6BA,OAAOA,OAAOvU,MAAP,GAAgB,CAAvB,IAA4BuU,OAAO,CAAP,CAAzD,CAAf;AACA,QAAM4qC,eAAemS,qEAAkBA,uCAAMtX,MAAMhqC,KAAN,EAAxB,EAArB;AACA,WAAOmvC,aAAamT,MAAb,CAAP;AACH,CAJD;;AAMA;;;;;;;;AAQA,IAAM+E,iBAAiB,SAAjBA,cAAiB,CAAChF,WAAD,EAAcrY,KAAd,EAAqBzlC,MAArB,EAA6BmjB,UAA7B,EAA4C;AAC/D,QAAMzqB,QAAQyqB,WAAWjuB,OAAX,CAAmB4oD,WAAnB,CAAd;AACA,QAAMC,SAAS/9C,OAAOtH,KAAP,CAAf;AACA,QAAMmC,KAAKuiD,wEAAqBA,GAAGL,qEAAkBA,EAA1C,+BAAkDtX,MAAMhqC,KAAN,EAAlD,GAAX;AACA,WAAOZ,GAAGkjD,MAAH,CAAP;AACH,CALD;;AAOA;;;;;;AAMA,IAAME,cAAc,SAAdA,WAAc,CAACH,WAAD,EAAcrY,KAAd;AAAA,WAAwBA,MAAMqY,WAAN,CAAxB;AAAA,CAApB;;AAEA;;;;;AAKA,IAAMI,6DACEnM,yDADF,SACcD,0DADd,EAC4B;AAC1BrM,WAAOiB,wDADmB;AAE1B1mC,YAAQs9C,aAFkB;AAG1B7hD,WAAOqnD;AAHmB,CAD5B,gCAMEhR,0DANF,SAMeA,0DANf,EAM6B;AAC3BrM,WAAOiB,wDADoB;AAE3B1mC,YAAQy9C,YAFmB;AAG3BhiD,WAAOwiD;AAHoB,CAN7B,gCAWEnM,0DAXF,SAWeC,yDAXf,EAW4B;AAC1BtM,WAAOoa,2DADmB;AAE1B7/C,YAAQ09C,aAFkB;AAG1BjiD,WAAOonD;AAHmB,CAX5B,eAAN;;AAkBA;;;;;;;;AAQO,IAAMjQ,iBAAiB,SAAjBA,cAAiB,CAACH,UAAD,EAAaC,SAAb;AAAA,WACzBwL,WAAczL,UAAd,SAA4BC,SAA5B,CADyB;AAAA,CAAvB,C;;;;;;;;;;;ACxHP,uC;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;;AAEA;;;;;;IAKqBqQ,c;;;;;;;;;;;qCACI;AACjB,mBAAOC,uDAAP;AACH;;;;EAHuCC,iD;;AAAvBF,6E;;;;;;;;;;;;;;;;;;;;;;;ACRrB;AACA;;IAEqBG,e;;;;;;;;;;;qCACI;AACjB,mBAAOC,wDAAP;AACH;;;kCAEiB;AACd,mBAAO,IAAP;AACH;;;;EAPwCF,iD;;AAAxBC,8E;;;;;;;;;;;;;;;;;;ACHrB;;AAEA;;;;;;;;;IAQqBE,gB;AACjB,8BAAaC,QAAb,EAAuB;AAAA;;AACnB,aAAKA,QAAL,GAAgBA,QAAhB;AACA,aAAKC,QAAL,GAAgB,IAAhB;AACH;;AAED;;;;;;;;;;;;;iCASUzpD,O,EAAS;AAAA;;AACf,gBAAMqN,WAAWrN,QAAQqN,QAAzB;AACA,gBAAMm8C,WAAW,KAAKA,QAAtB;AACA,gBAAME,aAAa,KAAK1wD,WAAL,CAAiB0wD,UAAjB,EAAnB;AACA,gBAAMC,gBAAgBH,SAASI,gBAAT,CAA0BF,UAA1B,CAAtB;;AAJe,wCAQX,KAAKF,QAAL,CAAcK,qBAAd,CAAoCx8C,QAApC,EAA8C,KAAKm8C,QAAL,CAAcM,iBAAd,EAA9C,CARW;AAAA,gBAMJC,iBANI,yBAMXxpD,KANW;AAAA,gBAOX1F,IAPW,yBAOXA,IAPW;;AASf,gBAAMmvD,gBAAgBL,cAAcp5D,GAAd,CAAkB,UAAC05D,YAAD,EAAkB;AACtD,sBAAKC,eAAL,CAAqBrvD,IAArB,EAA2BovD,YAA3B;AACA,uBAAO,MAAKE,eAAL,CAAqBF,YAArB,EAAmCF,iBAAnC,EAAsD/pD,OAAtD,CAAP;AACH,aAHqB,CAAtB;;AAKA,mBAAOgqD,aAAP;AACH;;AAED;;;;;;;;;;;;;0CAUmB;AACf,mBAAO,IAAP;AACH;;;wCAEgBC,Y,EAAcF,iB,EAAmB/pD,O,EAAS;AAAA,wCAKnDiqD,aAAaG,OAAb,EALmD;AAAA,gBAEnDC,QAFmD,yBAEnDA,QAFmD;AAAA,gBAGnDC,OAHmD,yBAGnDA,OAHmD;AAAA,gBAInDC,WAJmD,yBAInDA,WAJmD;;AAMvD,gBAAMv5C,iBAAiB,KAAKw4C,QAAL,CAAcM,iBAAd,EAAvB;AACA,gBAAM57C,YAAY,KAAKs7C,QAAL,CAAcgB,WAAd,EAAlB;AACA,gBAAMC,YAAY;AACdC,sCAAsB15C,eAAe05C,oBADvB;AAEdx8C,oCAFc;AAGd67C,oDAHc;AAIdY,iCAAiB35C,eAAezc,IAJlB;AAKd01D;AALc,aAAlB;;AAQA,mBAAO;AACHI,0BAAU,CAACO,0DAAUA,CAAC,UAAX,EAAuBP,SAAS,CAAT,CAAvB,EAAoCI,SAApC,CAAD,EACNG,0DAAUA,CAAC,UAAX,EAAuBP,SAAS,CAAT,CAAvB,EAAoCI,SAApC,CADM,CADP;AAGHH,yBAAS,CAACM,0DAAUA,CAAC,UAAX,EAAuBN,QAAQ,CAAR,CAAvB,EAAmCG,SAAnC,CAAD,EACLG,0DAAUA,CAAC,SAAX,EAAsBN,QAAQ,CAAR,CAAtB,EAAkCG,SAAlC,CADK,CAHN;AAKHI,6BAAaD,0DAAUA,CAAC,aAAX,EAA0BE,4DAAYA,CAACT,QAAb,CAA1B,EAAkDI,SAAlD,CALV;AAMHM,4BAAYH,0DAAUA,CAAC,YAAX,EAAyBE,4DAAYA,CAACR,OAAb,CAAzB,EAAgDG,SAAhD,CANT;AAOHF,6BAAaK,0DAAUA,CAAC,UAAX,EAAuBL,WAAvB,EAAoCE,SAApC,CAPV;AAQHC,sCAAsB15C,eAAe05C,oBARlC;AASHt0D,wBAAQ40D,+DAAeA,CAACh6C,cAAhB,EAAgChR,QAAQqN,QAAxC,CATL;AAUH49C,oCAAoBhB,aAAaiB,SAAb,KAA2B;AAV5C,aAAP;AAYH;;;iCAMS;AACN,iBAAKzB,QAAL,GAAgB,IAAhB;AACH;;;kCAEU;AACP,iBAAKA,QAAL,GAAgB,KAAhB;AACH;;;oCAEY;AACT,mBAAO,KAAKA,QAAZ;AACH;;;kCAdiB;AACd,mBAAO,KAAP;AACH;;;;;;AA9EgBF,+E;;;;;;;;;;;;;;;;;;;;;;;ACVrB;AACA;;IAEqB4B,kB;;;;;;;;;;;qCACI;AACjB,mBAAOC,2DAAP;AACH;;;;EAH2ChC,iD;;AAA3B+B,iF;;;;;;;;;;;;ACHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AACA;AACA;;IAEqBE,mB;;;;;;;;;;;wCACAC,M,EAAQrB,Y,EAAc;AACnC,gBAAIqB,WAAW,IAAf,EAAqB;AACjBrB,6BAAasB,KAAb;AACH,aAFD,MAEO,IAAID,OAAO15D,MAAX,EAAmB;AACtB,oBAAMof,iBAAiB,KAAKw4C,QAAL,CAAcM,iBAAd,EAAvB;AACA;AACA,oBAAM0B,iBAAiBF,OAAOj8C,MAAP,CAAc;AAAA,2BAAK46C,aAAat2B,IAAb,CAAkBnmC,CAAlB,MAAyBi+D,oEAAzB,IACnCxB,aAAat2B,IAAb,CAAkBnmC,CAAlB,MAAyBi+D,oEADK;AAAA,iBAAd,CAAvB;AAEA,oBAAIz6C,eAAevR,SAAf,KAA6B,KAAjC,EAAwC;AACpCwqD,iCAAayB,UAAb;;AADoC,gDAEfzB,aAAaG,OAAb,EAFe;AAAA,wBAE5BC,QAF4B,yBAE5BA,QAF4B;;AAGpCJ,iCAAasB,KAAb,CAAmBT,4DAAYA,CAACT,QAAb,CAAnB;AACAJ,iCAAa5jD,GAAb,CAAiBilD,MAAjB;AACArB,iCAAa77B,MAAb,CAAoBo9B,cAApB;AACH,iBAND,MAMO;AACH;AACA,wBAAIA,eAAe55D,MAAnB,EAA2B;AACvBq4D,qCAAayB,UAAb;AACAzB,qCAAarnB,MAAb,CAAoB4oB,cAApB;AACH,qBAHD,MAGO;AACHvB,qCAAa0B,WAAb;AACA1B,qCAAa5jD,GAAb,CAAiBilD,MAAjB;AACH;;AARE,iDASiBrB,aAAaG,OAAb,EATjB;AAAA,wBASKE,OATL,0BASKA,OATL;;AAUH,wBAAMsB,gBAAgBd,4DAAYA,CAACR,OAAb,CAAtB;AACA,wBAAMuB,mBAAmB5B,aAAa6B,cAAb,GAA8Bl6D,MAAvD;AACA,wBAAIg6D,cAAch6D,MAAd,KAAyBi6D,gBAA7B,EAA+C;AAC3C5B,qCAAasB,KAAb;AACH;AACJ;AACJ,aA3BM,MA2BA;AACHtB,6BAAarnB,MAAb,CAAoBqnB,aAAa6B,cAAb,EAApB;AACH;;AAED,mBAAO,IAAP;AACH;;;;EApC4CvC,gD;;AAA5B8B,kF;;;;;;;;;;;;;;;;;;;;;;;ACJrB;AACA;;IAEqBU,e;;;;;;;;;;;qCACI;AACjB,mBAAO14D,wDAAP;AACH;;;;EAHwCg4D,mD;;AAAxBU,8E;;;;;;;;;;;;;;;;;;;;;;;;ACHrB;AACA;AACA;;IAEqB3C,iB;;;;;;;;;;;wCACAkC,M,EAAQrB,Y,EAAc;AACnC,gBAAIqB,WAAW,IAAf,EAAqB;AACjBrB,6BAAasB,KAAb;AACH,aAFD,MAEO,IAAID,OAAO15D,MAAX,EAAmB;AAClB;AACJ,oBAAM45D,iBAAiBF,OAAOj8C,MAAP,CAAc;AAAA,2BAAK46C,aAAat2B,IAAb,CAAkBnmC,CAAlB,MAAyBi+D,oEAAzB,IAC/BxB,aAAat2B,IAAb,CAAkBnmC,CAAlB,MAAyBi+D,oEADC;AAAA,iBAAd,CAAvB;AAEAxB,6BAAayB,UAAb;;AAJsB,4CAKDzB,aAAaG,OAAb,EALC;AAAA,oBAKdC,QALc,yBAKdA,QALc;;AAMtBJ,6BAAasB,KAAb,CAAmBT,4DAAYA,CAACT,QAAb,CAAnB;AACAJ,6BAAa5jD,GAAb,CAAiBilD,MAAjB;AACArB,6BAAa77B,MAAb,CAAoBo9B,cAApB;AACH,aATM,MASA;AACHvB,6BAAarnB,MAAb,CAAoBqnB,aAAa6B,cAAb,EAApB;AACH;AACJ;;;;EAhB0CvC,gD;;AAA1BH,gF;;;;;;;;;;;;ACJrB;AAAA;AAAA;AAAA;AACA;;AAEA;;;;;;AAMA,0BAA2B,IAAM4C,QAAQ,SAARA,KAAQ;AAAA,WAAY,UAACC,QAAD,EAAWC,UAAX,EAA0B;AAC3E,YAAMC,oBAAoB,SAApBA,iBAAoB,CAAU3yD,IAAV,EAAgB;AACtC,gBAAM4yD,QAAQC,2DAAQA,EAAtB;AACA,gBAAMrsD,UAAUssD,yEAAwBA,CAAC9yD,IAAzB,EAA+B4yD,KAA/B,EAAsC5C,QAAtC,CAAhB;AACA0C,uBAAWj7D,OAAX,CAAmB;AAAA,uBAAOu4D,SAAS2C,iBAAT,CAA2BI,GAA3B,EAAgCvsD,OAAhC,CAAP;AAAA,aAAnB;AACAosD,kBAAMn9B,eAAN;AACH,SALD;;AAOAg9B,iBAASzrD,EAAT,CAAY,OAAZ,EAAqB2rD,iBAArB;AACH,KATwC;AAAA,CAAd;AAUZH,oEAAf,E;;;;;;;;;;;;ACnBA;AAAA;AAAA;;AAEA;;;;;;AAMA,0BAA2B,IAAMQ,OAAO,SAAPA,IAAO;AAAA,SAAY,UAACP,QAAD,EAAWC,UAAX,EAA0B;AAC1EO,+EAAeA,CAACR,QAAhB,EAA0BC,UAA1B,EAAsC1C,QAAtC;AACH,GAFuC;AAAA,CAAb;;AAIZgD,mEAAf,E;;;;;;;;;;;;ACZA;AAAA;AAAA;AACA;;;;;;AAMA,0BAA2B,IAAME,sBAAsB,SAAtBA,mBAAsB,CAACC,UAAD,EAAa7wD,MAAb,EAAqByC,YAArB,EAAsC;AACzF,QAAI,EAAEouD,WAAWC,IAAX,CAAgB3yC,CAAhB,IAAqB0yC,WAAWC,IAAX,CAAgB5oC,CAAvC,CAAJ,EAA+C;AAC3C,eAAO;AACH3W,sBAAU;AADP,SAAP;AAGH;;AAED,QAAMu/C,OAAOD,WAAWC,IAAxB;AACA,QAAMC,QAAQD,KAAK3yC,CAAL,CAAO,CAAP,CAAd;AACA,QAAM6yC,QAAQF,KAAK5oC,CAAL,CAAO,CAAP,CAAd;AACA,QAAM+oC,aAAaJ,WAAWv2D,MAA9B;AACA,QAAM42D,SAASD,WAAW9yC,CAAX,CAAa,CAAb,EAAgBgzC,UAAhB,GAA6B,CAA7B,CAAf;AACA,QAAMC,SAASH,WAAW/oC,CAAX,CAAa,CAAb,EAAgBipC,UAAhB,GAA6B,CAA7B,CAAf;AACA,QAAME,aAAa5uD,aAAayuD,MAAb,EAAqBz+C,GAArB,CAAyB9M,OAA5C;AACA,QAAM2rD,aAAa7uD,aAAa2uD,MAAb,EAAqB3+C,GAArB,CAAyB9M,OAA5C;AACA,QAAM0Z,aAAa,EAAnB;AACA,QAAMkyC,QAAQvxD,OAAOwxD,QAArB;AACA,QAAMC,SAASzxD,OAAOyxD,MAAtB;;AAEA,QAAIF,MAAMpzC,CAAN,KAAYszC,OAAOtzC,CAAnB,IAAwBozC,MAAMrpC,CAAN,KAAYupC,OAAOvpC,CAA/C,EAAkD;AAC9C,eAAO;AACH3W,sBAAU;AADP,SAAP;AAGH;;AAED,QAAMmgD,UAAUL,eAAenqD,yDAAcA,CAACC,UAA9B,GAA4CmqD,eAAepqD,yDAAcA,CAACC,UAA9B,GACxD,CAAC,GAAD,EAAM,GAAN,CADwD,GAC3C,CAAC,GAAD,CADD,GACU,CAAC,GAAD,CAD1B;AAEA,QAAMoK,WAAW,EAAjB;AACA,QAAMogD,eAAeN,eAAelrD,2DAAgBA,CAACC,WAArD;AACA,QAAMwrD,eAAeN,eAAenrD,2DAAgBA,CAACC,WAArD;AACA,QAAMyrD,SAASd,MAAM7zD,WAAN,CAAkB2D,IAAlB,OAA6B,MAA7B,GAAsCkwD,MAAMjhB,KAAN,GAAcuK,YAAd,CAA2BkX,MAAMpzC,CAAjC,EAAoCszC,OAAOtzC,CAA3C,CAAtC,GACX4yC,MAAMzc,MAAN,CAAaid,MAAMpzC,CAAnB,EAAsBszC,OAAOtzC,CAA7B,CADJ;AAEA,QAAM2zC,SAASd,MAAM9zD,WAAN,CAAkB2D,IAAlB,OAA6B,MAA7B,GAAsCmwD,MAAMlhB,KAAN,GAAcuK,YAAd,CAA2BkX,MAAMrpC,CAAjC,EAAoCupC,OAAOvpC,CAA3C,CAAtC,GACX8oC,MAAM1c,MAAN,CAAaid,MAAMrpC,CAAnB,EAAsBupC,OAAOvpC,CAA7B,CADJ;AAEA,QAAM6pC,kBAAkB;AACpB5zC,WAAGozC,MAAMpzC,CAAN,KAAYszC,OAAOtzC,CAAnB,GAAuB,EAAvB,GAA6BwzC,eAAeE,MAAf,GAAwBA,OAAOvzD,IAAP,CAAY,UAACwZ,CAAD,EAAIC,CAAJ;AAAA,mBAAUD,IAAIC,CAAd;AAAA,SAAZ,CADpC;AAEpBmQ,WAAGqpC,MAAMrpC,CAAN,KAAYupC,OAAOvpC,CAAnB,GAAuB,EAAvB,GAA6B0pC,eAAeE,MAAf,GAAwBA,OAAOxzD,IAAP,CAAY,UAACwZ,CAAD,EAAIC,CAAJ;AAAA,mBAAUD,IAAIC,CAAd;AAAA,SAAZ;AAFpC,KAAxB;AAIA,QAAMi6C,WAAW,EAAjB;;AAEA,QAAIN,QAAQ57D,MAAR,KAAmB,CAAvB,EAA0B;AACtBk8D,iBAASd,MAAT,IAAmBa,gBAAgB5zC,CAAnC;AACA6zC,iBAASZ,MAAT,IAAmBW,gBAAgB7pC,CAAnC;AACA,YAAIgpC,WAAWE,MAAf,EAAuB;AACnB,gBAAMa,OAAOF,gBAAgB5zC,CAA7B;AACA,gBAAM+zC,OAAOH,gBAAgB7pC,CAA7B;AACA,gBAAMvd,MAAMsnD,KAAK,CAAL,IAAUC,KAAK,CAAL,CAAV,GAAoBA,IAApB,GAA2BD,IAAvC;AACA,gBAAMnnD,MAAMH,QAAQunD,IAAR,GAAeD,IAAf,GAAsBC,IAAlC;AACA,gBAAIvnD,IAAI,CAAJ,IAASG,IAAI,CAAJ,CAAb,EAAqB;AACjBknD,yBAASd,MAAT,IAAmB,EAAnB;AACH,aAFD,MAEO;AACHc,yBAASd,MAAT,IAAmB,CAACpmD,IAAI,CAAJ,CAAD,EAASH,IAAI,CAAJ,IAASG,IAAI,CAAJ,CAAT,GAAkBH,IAAI,CAAJ,CAAlB,GAA2BG,IAAI,CAAJ,CAApC,CAAnB;AACH;AACDuU,uBAAWlB,CAAX,GAAe,CAACozC,MAAMpzC,CAAP,EAAUszC,OAAOtzC,CAAjB,CAAf;AACAkB,uBAAW6I,CAAX,GAAe,CAACqpC,MAAMrpC,CAAP,EAAUupC,OAAOvpC,CAAjB,CAAf;AACH;AACJ,KAhBD,MAgBO;AACH3W,iBAASmgD,QAAQ,CAAR,CAAT,IAAuBK,gBAAgBL,QAAQ,CAAR,CAAhB,KAA+B,EAAtD;;AAEA,YAAIA,QAAQ,CAAR,MAAe,GAAnB,EAAwB;AACpBM,qBAASd,MAAT,IAAmB3/C,SAAS4M,CAA5B;AACA,gBAAIkzC,eAAelrD,2DAAgBA,CAACC,WAApC,EAAiD;AAC7CiZ,2BAAWlB,CAAX,GAAgBne,OAAOmyD,IAAP,IAAeZ,MAAMpzC,CAAN,KAAYszC,OAAOtzC,CAAnC,GAAwC4yC,MAAMqB,eAAN,CAAsBb,MAAMpzC,CAA5B,EAA+BszC,OAAOtzC,CAAtC,CAAxC,GACX,CAACozC,MAAMpzC,CAAP,EAAUszC,OAAOtzC,CAAjB,CADJ;AAEH;AACJ,SAND,MAMO;AACH6zC,qBAASZ,MAAT,IAAmB7/C,SAAS2W,CAA5B;AACA,gBAAIopC,eAAenrD,2DAAgBA,CAACC,WAApC,EAAiD;AAC7CiZ,2BAAW6I,CAAX,GAAgBloB,OAAOmyD,IAAP,IAAeZ,MAAMrpC,CAAN,KAAYupC,OAAOvpC,CAAnC,GAAwC8oC,MAAMoB,eAAN,CAAsBb,MAAMrpC,CAA5B,EAA+BupC,OAAOvpC,CAAtC,CAAxC,GACX,CAACqpC,MAAMrpC,CAAP,EAAUupC,OAAOvpC,CAAjB,CADJ;AAEH;AACJ;AACJ;;AAED,WAAO;AACH3W,kBAAUygD,QADP;AAEH3yC;AAFG,KAAP;AAIH,CA9E0B;;AAgFZuxC,kFAAf,E;;;;;;;;;;;;ACvFA;AAAA;AAAA;AAAA;AAAA;;AAKA;;AAEA;;;;;;AAMO,IAAMD,kBAAkB,SAAlBA,eAAkB,CAACR,QAAD,EAAWC,UAAX,EAAuB1C,QAAvB,EAAiC2E,KAAjC,EAA2C;AACtE,QAAIb,WAAW,EAAf;AACA,QAAIC,SAAS,EAAb;AACA,QAAIa,mBAAJ;;AAEA,QAAMC,SAASC,4DAASA,EAAxB;AACA,QAAIC,mBAAJ;AACAtC,aAAS5+D,IAAT,CAAcghE,SAAS7tD,EAAT,CAAY,OAAZ,EAAqB,YAAM;AACrC,YAAM4rD,QAAQC,2DAAQA,EAAtB;AACAiB,mBAAW;AACPrzC,eAAGmyC,MAAMnyC,CADF;AAEP+J,eAAGooC,MAAMpoC;AAFF,SAAX;AAIAoqC,qBAAa5E,SAASlsB,OAAT,CAAiBkxB,iBAAjB,EAAb;AACAD,qBAAa,IAAI7kD,IAAJ,GAAWD,OAAX,EAAb;AACH,KARa,EAQXjJ,EARW,CAQR,MARQ,EAQA,YAAM;AAChB,YAAM4rD,QAAQC,2DAAQA,EAAtB;AACAkB,iBAAS;AACLtzC,eAAGmyC,MAAMnyC,CADJ;AAEL+J,eAAGooC,MAAMpoC;AAFJ,SAAT;AAIA,YAAImqC,SAAS/jD,KAAKmf,GAAL,CAAS+jC,SAASrzC,CAAT,GAAaszC,OAAOtzC,CAA7B,KAAmC,CAAhD,EAAmD;AAC/C;AACH;AACDszC,eAAOtzC,CAAP,GAAW7P,KAAKxD,GAAL,CAAS,CAAT,EAAYwD,KAAK3D,GAAL,CAAS8mD,OAAOtzC,CAAhB,EAAmBm0C,WAAW90B,KAA9B,CAAZ,CAAX;AACAi0B,eAAOvpC,CAAP,GAAW5Z,KAAKxD,GAAL,CAAS,CAAT,EAAYwD,KAAK3D,GAAL,CAAS8mD,OAAOvpC,CAAhB,EAAmBoqC,WAAW70B,MAA9B,CAAZ,CAAX;;AAEA,YAAMv5B,UAAU0sD,mEAAmBA,CAAClD,SAASlsB,OAAT,CAAiBmxB,aAAjB,EAApB,EAAsD;AAClEnB,8BADkE;AAElEC;AAFkE,SAAtD,EAGb/D,SAASlsB,OAAT,CAAiB/oC,IAAjB,GAAwBiK,eAAxB,EAHa,CAAhB;AAIA0tD,mBAAWj7D,OAAX,CAAmB;AAAA,mBAAOu4D,SAAS2C,iBAAT,CAA2BI,GAA3B,EAAgCvsD,OAAhC,CAAP;AAAA,SAAnB;AACH,KAzBa,EAyBXQ,EAzBW,CAyBR,KAzBQ,EAyBD,YAAM;AACf,YAAM4rD,QAAQC,2DAAQA,EAAtB;AACAkB,iBAAS;AACLtzC,eAAGmyC,MAAMnyC,CADJ;AAEL+J,eAAGooC,MAAMpoC;AAFJ,SAAT;AAIA,YAAM+oB,WAAW,IAAIrjC,IAAJ,GAAWD,OAAX,KAAuB8kD,UAAxC;;AAEA,YAAIJ,SAASphB,WAAW,GAApB,IAA2B3iC,KAAKmf,GAAL,CAAS+jC,SAASrzC,CAAT,GAAaszC,OAAOtzC,CAA7B,KAAmC,CAAlE,EAAqE;AACjE;AACH;AACDszC,eAAOtzC,CAAP,GAAW7P,KAAKxD,GAAL,CAAS,CAAT,EAAYwD,KAAK3D,GAAL,CAAS8mD,OAAOtzC,CAAhB,EAAmBm0C,WAAW90B,KAA9B,CAAZ,CAAX;AACAi0B,eAAOvpC,CAAP,GAAW5Z,KAAKxD,GAAL,CAAS,CAAT,EAAYwD,KAAK3D,GAAL,CAAS8mD,OAAOvpC,CAAhB,EAAmBoqC,WAAW70B,MAA9B,CAAZ,CAAX;;AAEA,YAAMv5B,UAAU0sD,mEAAmBA,CAAClD,SAASlsB,OAAT,CAAiBmxB,aAAjB,EAApB,EAAsD;AAClEnB,8BADkE;AAElEC,0BAFkE;AAGlEU,kBAAM;AAH4D,SAAtD,EAIbzE,SAASlsB,OAAT,CAAiB/oC,IAAjB,GAAwBiK,eAAxB,EAJa,CAAhB;AAKAwB,gBAAQ0uD,OAAR,GAAkB,IAAlB;AACAxC,mBAAWj7D,OAAX,CAAmB;AAAA,mBAAOu4D,SAAS2C,iBAAT,CAA2BI,GAA3B,EAAgCvsD,OAAhC,CAAP;AAAA,SAAnB;AACH,KA9Ca,CAAd;AA+CH,CAtDM,C;;;;;;;;;;;;ACbP;AAAA;AAAA;AAAA;;AAEO,IAAMssD,2BAA2B,SAA3BA,wBAA2B,CAAU9yD,IAAV,EAAgB4yD,KAAhB,EAAuB5C,QAAvB,EAAiC;AACrE,QAAMlsB,UAAUksB,SAASlsB,OAAzB;AACA,QAAMqxB,MAAMC,iEAAcA,CAACtxB,QAAQkxB,iBAAR,GAA4BK,YAA3C,EAAyDzC,MAAM0C,OAAN,GAAgB1C,MAAM0C,OAAN,CAAc,CAAd,CAAhB,GAAmC1C,KAA5F,CAAZ;AACA,QAAM2C,eAAezxB,QAAQ0xB,eAAR,CAAwBL,IAAI10C,CAA5B,EAA+B00C,IAAI3qC,CAAnC,EAAsC;AACvDzvB,cAAMiF,IADiD;AAEvD4yD;AAFuD,KAAtC,CAArB;AAIA,WAAO;AACH/+C,kBAAU0hD,eAAeA,aAAahuB,EAA5B,GAAiC,IADxC;AAEHkuB,wBAAgBF,aAAaE,cAF1B;AAGHj3D,gBAAQ+2D,aAAa/2D,MAHlB;AAIHk3D,kBAAUP;AAJP,KAAP;AAMH,CAbM,C;;;;;;;;;;;;ACFP;AAAA;AAAA;AAAA;AACA;;AAEA;;;;;;AAMA,0BAA2B,IAAMQ,QAAQ,SAARA,KAAQ;AAAA,WAAY,UAAClD,QAAD,EAAWC,UAAX,EAA0B;AAC3E,YAAMC,oBAAoB,SAApBA,iBAAoB,CAAU3yD,IAAV,EAAgB;AACtC,gBAAM4yD,QAAQC,2DAAQA,EAAtB;AACA,gBAAM/uB,UAAUksB,SAASlsB,OAAzB;AACA,gBAAM8xB,cAAc9xB,QAAQxhC,MAAR,GAAiBuzD,WAAjB,CAA6BC,OAAjD;AACA,gBAAMjhE,OAAO+gE,YAAY/gE,IAAzB;AACA,gBAAMsgE,MAAMC,iEAAcA,CAACtxB,QAAQkxB,iBAAR,GAA4BK,YAA3C,EAAyDzC,KAAzD,CAAZ;AACA,gBAAM2C,eAAezxB,QAAQ0xB,eAAR,CAAwBL,IAAI10C,CAA5B,EAA+B00C,IAAI3qC,CAAnC,EAAsC;AACvDurC,8BAAclhE,SAASmhE,6DAAT,IAAyBnhE,SAASohE,2DADO;AAEvDl7D,sBAAMiF,IAFiD;AAGvD4yD;AAHuD,aAAtC,CAArB;AAKA,gBAAMpsD,UAAU;AACZqN,0BAAU0hD,eAAeA,aAAahuB,EAA5B,GAAiC,IAD/B;AAEZkuB,gCAAgBF,aAAaE,cAFjB;AAGZj3D,wBAAQ+2D,aAAa/2D,MAHT;AAIZk3D,0BAAUP,GAJE;AAKZtgE;AALY,aAAhB;;AAQA69D,uBAAWj7D,OAAX,CAAmB;AAAA,uBAAOu4D,SAAS2C,iBAAT,CAA2BI,GAA3B,EAAgCvsD,OAAhC,CAAP;AAAA,aAAnB;AACAosD,kBAAMn9B,eAAN;AACH,SArBD;;AAuBAg9B,iBAASzrD,EAAT,CAAY,WAAZ,EAAyB2rD,iBAAzB,EACiB3rD,EADjB,CACoB,WADpB,EACiC2rD,iBADjC,EAEiB3rD,EAFjB,CAEoB,UAFpB,EAEgC,YAAM;AAClB0rD,uBAAWj7D,OAAX,CAAmB;AAAA,uBAAOu4D,SAAS2C,iBAAT,CAA2BI,GAA3B,EAAgC;AACtDl/C,8BAAU;AAD4C,iBAAhC,CAAP;AAAA,aAAnB;AAGH,SANjB;AAOH,KA/BwC;AAAA,CAAd;;AAiCZ8hD,oEAAf,E;;;;;;;;;;;;;;;;;;;;;;;;AC1CA;AACA;AACA;AACA;AACA;AACA;;AAEO,IAAMO,4EACRC,mDADQ,EACWnD,6CADX,qCAERmD,oDAFQ,EAEYR,8CAFZ,qCAGRQ,oDAHQ,EAGY3D,8CAHZ,qCAIR2D,wDAJQ,EAIgBC,oDAJhB,qCAKRD,wDALQ,EAKgBE,qDALhB,oBAAN,C;;;;;;;;;;;;ACPP;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAEA;;;;;;AAMO,IAAMD,YAAY,SAAZA,SAAY;AAAA,WAAY,UAAC3D,QAAD,EAAWC,UAAX,EAA0B;AAC3D,YAAIE,cAAJ;AACA,YAAI0D,iBAAJ;AACA,YAAM3D,oBAAoB,SAApBA,iBAAoB,CAAU3yD,IAAV,EAAgB;AACtC,gBAAMwG,UAAUssD,yEAAwBA,CAAC9yD,IAAzB,EAA+B4yD,KAA/B,EAAsC5C,QAAtC,CAAhB;AACA0C,uBAAWj7D,OAAX,CAAmB;AAAA,uBAAOu4D,SAAS2C,iBAAT,CAA2BI,GAA3B,EAAgCvsD,OAAhC,CAAP;AAAA,aAAnB;AACAosD,kBAAMn9B,eAAN;AACH,SAJD;;AAMA6gC,mBAAW,KAAX;AACA1D,gBAAQC,2DAAQA,EAAhB;AACAJ,iBAASzrD,EAAT,CAAY,YAAZ,EAA0B,UAAChH,IAAD,EAAU;AAChC4yD,oBAAQC,2DAAQA,EAAhB;AACAyD,uBAAW,KAAX;AACA39B,uBAAW,YAAM;AACb,oBAAI,CAAC29B,QAAL,EAAe;AACX3D,sCAAkB3yD,IAAlB;AACH,iBAFD,MAEO;AACH0yD,+BAAWj7D,OAAX,CAAmB;AAAA,+BAAOu4D,SAAS2C,iBAAT,CAA2BI,GAA3B,EAAgC;AACtDl/C,sCAAU;AAD4C,yBAAhC,CAAP;AAAA,qBAAnB;AAGH;AACJ,aARD,EAQG,GARH;AASH,SAZD,EAYG7M,EAZH,CAYM,UAZN,EAYkB,YAAM;AACpBsvD,uBAAW,IAAX;AACH,SAdD;AAeH,KA1BwB;AAAA,CAAlB,C;;;;;;;;;;;;ACVP;AAAA;AAAA;AAAA;AAAA;;AAKA;;AAEO,IAAMC,mBAAmB,SAAnBA,gBAAmB;AAAA,WAAY,UAAC9D,QAAD,EAAWC,UAAX,EAA0B;AAClE,YAAI8D,gBAAJ;AACA,YAAI5B,mBAAJ;AACA,YAAM9wB,UAAUksB,SAASlsB,OAAzB;AACA,YAAM2yB,SAAS,SAATA,MAAS,CAACjwD,OAAD,EAAa;AACxBksD,uBAAWj7D,OAAX,CAAmB;AAAA,uBAAUu4D,SAAS2C,iBAAT,CAA2Bx6C,MAA3B,EAAmC3R,OAAnC,CAAV;AAAA,aAAnB;AACH,SAFD;AAGA,YAAMquD,SAASC,4DAASA,EAAxB;;AAEArC,iBAAS5+D,IAAT,CAAcghE,SAAS7tD,EAAT,CAAY,OAAZ,EAAqB,YAAM;AACrC,gBAAM4rD,QAAQC,2DAAQA,EAAtB;AACA+B,yBAAa9wB,QAAQkxB,iBAAR,EAAb;AACAwB,sBAAU5D,MAAM4D,OAAhB;AACH,SAJa,EAIXxvD,EAJW,CAIR,MAJQ,EAIA,YAAM;AAChB,gBAAM4rD,QAAQC,2DAAQA,EAAtB;AACA2D,oBAAQ/1C,CAAR,IAAamyC,MAAM8D,EAAnB;AACAF,oBAAQhsC,CAAR,IAAaooC,MAAM+D,EAAnB;AACA,gBAAM72B,QAAQ80B,WAAW90B,KAAzB;AACA,gBAAMC,SAAS60B,WAAW70B,MAA1B;AACA,gBAAMtf,IAAI7P,KAAK3D,GAAL,CAAS6yB,QAAQ02B,QAAQ12B,KAAzB,EAAgClvB,KAAKxD,GAAL,CAASopD,QAAQ/1C,CAAjB,EAAoB,CAApB,CAAhC,CAAV;AACA,gBAAM+J,IAAI5Z,KAAK3D,GAAL,CAAS8yB,SAASy2B,QAAQz2B,MAA1B,EAAkCnvB,KAAKxD,GAAL,CAASopD,QAAQhsC,CAAjB,EAAoB,CAApB,CAAlC,CAAV;AACA,gBAAMosC,KAAKpsC,IAAIgsC,QAAQz2B,MAAvB;AACA,gBAAM82B,KAAKp2C,IAAI+1C,QAAQ12B,KAAvB;;AAEA,gBAAIrf,KAAK,CAAL,IAAUo2C,MAAM/2B,KAAhB,IAAyBtV,KAAK,CAA9B,IAAmCosC,MAAM72B,MAA7C,EAAqD;AACjD,oBAAMv5B,UAAU0sD,2EAAmBA,CAACpvB,QAAQmxB,aAAR,EAApB,EAA6C;AACzDnB,8BAAU;AACNrzC,4BADM;AAEN+J;AAFM,qBAD+C;AAKzDupC,4BAAQ;AACJtzC,2BAAGo2C,EADC;AAEJrsC,2BAAGosC;AAFC;AALiD,iBAA7C,EASb9yB,QAAQ/oC,IAAR,GAAeiK,eAAf,EATa,CAAhB;AAUAyxD,uBAAOjwD,OAAP;AACH;AACJ,SA5Ba,EA4BXQ,EA5BW,CA4BR,KA5BQ,EA4BD,YAAM;AACf,gBAAM84B,QAAQ80B,WAAW90B,KAAzB;AACA,gBAAMC,SAAS60B,WAAW70B,MAA1B;AACA,gBAAMtf,IAAI7P,KAAK3D,GAAL,CAAS6yB,QAAQ02B,QAAQ12B,KAAzB,EAAgClvB,KAAKxD,GAAL,CAASopD,QAAQ/1C,CAAjB,EAAoB,CAApB,CAAhC,CAAV;AACA,gBAAM+J,IAAI5Z,KAAK3D,GAAL,CAAS8yB,SAASy2B,QAAQz2B,MAA1B,EAAkCnvB,KAAKxD,GAAL,CAASopD,QAAQhsC,CAAjB,EAAoB,CAApB,CAAlC,CAAV;AACA,gBAAMosC,KAAKpsC,IAAIgsC,QAAQz2B,MAAvB;AACA,gBAAM82B,KAAKp2C,IAAI+1C,QAAQ12B,KAAvB;;AAEA,gBAAIrf,KAAK,CAAL,IAAUo2C,MAAM/2B,KAAhB,IAAyBtV,KAAK,CAA9B,IAAmCosC,MAAM72B,MAA7C,EAAqD;AACjD,oBAAMv5B,UAAU0sD,2EAAmBA,CAACpvB,QAAQmxB,aAAR,EAApB,EAA6C;AACzDnB,8BAAU;AACNrzC,4BADM;AAEN+J;AAFM,qBAD+C;AAKzDupC,4BAAQ;AACJtzC,2BAAGo2C,EADC;AAEJrsC,2BAAGosC;AAFC,qBALiD;AASzDnC,0BAAM;AATmD,iBAA7C,EAUb3wB,QAAQ/oC,IAAR,GAAeiK,eAAf,EAVa,CAAhB;AAWAwB,wBAAQ0uD,OAAR,GAAkB,IAAlB;AACAuB,uBAAOjwD,OAAP;AACH;AACJ,SAnDa,CAAd;AAoDH,KA7D+B;AAAA,CAAzB,C;;;;;;;;;;;;ACPP;AAAA;AAAA;AAAA;;AAEA;;;;;;AAMO,IAAM6vD,YAAY,SAAZA,SAAY;AAAA,SAAY,UAAC5D,QAAD,EAAWC,UAAX,EAA0B;AAC3DO,+EAAeA,CAACR,QAAhB,EAA0BC,UAA1B,EAAsC1C,QAAtC,EAAgD,IAAhD;AACH,GAFwB;AAAA,CAAlB,C;;;;;;;;;;;;;;;;;;;ACRP;;AAEO,IAAM8G,qFACRC,uDADQ,EACW,CAAC,cAAD,EAAiB;AACjC9iE,UAAM,aAD2B;AAEjC+G,aAAS;AACLk0D,kBAAU;AADL;AAFwB,CAAjB,EAKjB,eALiB,CADX,wCAOL6H,uDAPK,SAOeA,wDAPf,EAOqC,CAAC;AAC3C9iE,UAAM,SADqC;AAE3C+G,aAAS;AACLk0D,kBAAU,mBADL;AAEL1uD,eAAO,CAFF;AAGLqV,gBAAQ;AAAA,mBAAWiuB,QAAQxhC,MAAR,GAAiBzN,IAAjB,KAA0B,YAArC;AAAA;AAHH;AAFkC,CAAD,CAPrC,wCAeRkiE,2DAfQ,EAee,CAAC;AACrB9iE,UAAM,aADe;AAErB+G,aAAS;AACLk0D,kBAAU;AADL;AAFY,CAAD,EAKrB,WALqB,EAKR;AACZj7D,UAAM,SADM;AAEZ+G,aAAS;AACLwF,eAAO;AADF;AAFG,CALQ,EAUrB,SAVqB,CAff,wCA0BRu2D,wDA1BQ,EA0BY,CAAC,QAAD,CA1BZ,wCA2BRA,wDA3BQ,EA2BY,CAAC;AAClB9iE,UAAM,aADY;AAElB+G,aAAS;AACLk0D,kBAAU;AADL;AAFS,CAAD,EAKlB,oBALkB,CA3BZ,uBAAN,C;;;;;;;;;;;;ACFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,IAAM8H,OAAO,MAAb;AACA,IAAMC,QAAQ,OAAd;AACA,IAAMC,gBAAgB,eAAtB;AACA,IAAMl5B,QAAQ,OAAd;AACA,IAAMm5B,YAAY,WAAlB;AACA,IAAMC,YAAY,WAAlB;AACA,IAAMC,cAAc,GAApB,C;;;;;;;;;;;;ACNP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,IAAMC,QAAQ,OAAd;AACA,IAAM1F,YAAY,WAAlB;AACA,IAAM2F,UAAU,SAAhB;AACA,IAAMzH,SAAS,QAAf;AACA,IAAMj2D,SAAS,QAAf,C;;;;;;;;;;;;ACJP;AAAA;AAAA;AAAA;AAAO,IAAM8+C,cAAc,MAApB;AACA,IAAMqd,eAAe,cAArB;AACA,IAAMC,aAAa,YAAnB,C;;;;;;;;;;;;ACFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAMuB,sBAAsB,CAA5B;AACA,IAAMC,qBAAqB,CAAC,CAA5B;AACA,IAAMC,iBAAiB,CAAvB;AACA,IAAMC,sBAAsB,CAA5B;AACA,IAAMC,qBAAqB,CAAC,CAA5B;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJA;AAQA;AACA;AACA;;AASA;;;;;;;;;;;;IAWqBC,Q;AACjB,sBAAa/zB,OAAb,EAAsBg0B,OAAtB,EAA+BC,WAA/B,EAA4CjB,kBAA5C,EAAgE;AAAA;;AAC5D,aAAKhzB,OAAL,GAAeA,OAAf;AACA,aAAKk0B,sBAAL,GAA8B,EAA9B;AACA,aAAKC,YAAL,GAAoB,EAApB;AACA,aAAKC,eAAL,GAAuB,EAAvB;AACA,aAAKC,QAAL,GAAgB;AACZC,yBAAa,EADD;AAEZC,sBAAU;AAFE,SAAhB;AAIA,aAAKC,aAAL,GAAqB,EAArB;AACA,aAAKC,qBAAL,GAA6B,EAA7B;AACA,aAAKC,kBAAL,GAA0B,EAA1B;AACA,aAAKC,kBAAL,GAA0B;AACtBC,0BAAc;AAAA,uBAAM,KAAN;AAAA;AADQ,SAA1B;AAGA,aAAKC,wBAAL,GAAgC,EAAhC;AACA,aAAKC,iBAAL,GAAyB,EAAzB;AACA,aAAKC,mBAAL,GAA2B,EAA3B;AACA,aAAKtyC,OAAL,GAAe,EAAf;AACA,aAAKuyC,mBAAL,GAA2B,EAA3B;AACA,aAAKC,aAAL,GAAqB,EAArB;AACA,aAAKC,cAAL,GAAsB,EAAtB;AACA,aAAKC,kBAAL,GAA0B,EAA1B;;AAEA,aAAKC,cAAL,CAAoBpC,kBAApB;AACA,aAAKqC,0BAAL,CAAgCrB,QAAQM,WAAxC;AACA,aAAKgB,mBAAL,CAAyBrB,WAAzB;AACA,aAAKsB,8BAAL,CAAoCvB,QAAQwB,sBAA5C;AACA,aAAKC,uBAAL,CAA6BzB,QAAQO,QAArC;AACH;;;;iCAEkB;AACf,gBAAI,UAAOjgE,MAAX,EAAmB;AACf,qBAAKmuB,OAAL,GAAe0Y,iEAAcA,CAAC,KAAK1Y,OAApB,mDAAf;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,OAAZ;AACH;;;uCAEeizC,Y,EAAc;AAC1B,gBAAM1C,qBAAqB,KAAKgC,mBAAhC;AACA,iBAAK,IAAM7jE,GAAX,IAAkBukE,YAAlB,EAAgC;AAC5B,oBAAI,GAAG/jE,cAAH,CAAkB5B,IAAlB,CAAuB2lE,YAAvB,EAAqCvkE,GAArC,CAAJ,EAA+C;AAC3C,wBAAM8iE,cAAcyB,aAAavkE,GAAb,KAAqB,EAAzC;AACA,wBAAIwkE,wBAAwB,KAA5B;AACA,wBAAIC,oBAAJ;AACA,wBAAIpiC,iEAAcA,CAACygC,WAAf,CAAJ,EAAiC;AAC7B2B,sCAAc3B,YAAY4B,OAA1B;AACAF,gDAAwB1B,YAAY0B,qBAApC;AACH,qBAHD,MAGO;AACHC,sCAAc3B,WAAd;AACH;AACD,qBAACjB,mBAAmB7hE,GAAnB,CAAD,KAA6B6hE,mBAAmB7hE,GAAnB,IAA0B,EAAvD;AACA,yBAAK6jE,mBAAL,CAAyB7jE,GAAzB,iCAAoC,IAAIyX,GAAJ,CAAQ+sD,wBAAwBC,WAAxB,gCACpC5C,mBAAmB7hE,GAAnB,CADoC,sBACRykE,WADQ,EAAR,CAApC;AAEH;AACJ;AACD,mBAAO,IAAP;AACH;;;mDAE2B5B,O,EAAS;AACjC,gBAAMpF,aAAakH,4EAA4BA,CAAC,IAA7B,EAAmC9B,OAAnC,CAAnB;AACA,iBAAK+B,oBAAL,CAA0BnH,UAA1B;AACAt+D,mBAAO4H,MAAP,CAAc,KAAKm8D,QAAL,CAAcC,WAA5B,EAAyC1F,UAAzC;AACA,mBAAO,IAAP;AACH;;;+CAEuB;AACpB,mBAAO,IAAP;AACH;;;4CAEoBqF,W,EAAa;AAC9B,iBAAK,IAAM9iE,GAAX,IAAkB8iE,WAAlB,EAA+B;AAC3B,qBAAKC,sBAAL,CAA4BD,YAAY9iE,GAAZ,EAAiBi7D,UAAjB,EAA5B,IAA6D6H,YAAY9iE,GAAZ,CAA7D;AACH;AACD,iBAAK6kE,qBAAL;AACA,mBAAO,IAAP;AACH;;;yCAEiB/B,W,EAAatH,Y,EAAcjqD,O,EAAS;AAAA;;AAClD,gBAAMuzD,kBAAkB,KAAKhC,WAAL,EAAxB;AACA,gBAAMiC,gBAAgB,KAAKhB,cAA3B;AACA,gBAAMiB,oBAAoB,KAAKhB,kBAA/B;AACAlB,wBAAYtgE,OAAZ,CAAoB,UAACyiE,UAAD,EAAgB;AAChC,oBAAIl/D,gBAAJ;AACA,oBAAI/G,aAAJ;AACA,oBAAM0lE,UAAUO,WAAWP,OAA3B;AACA,oBAAMjH,aAAawH,WAAWxH,UAA9B;AACA,oBAAMyH,cAAcC,yDAASA,CAAC,KAAV,EAAgB1H,UAAhB,EAA4BjC,YAA5B,CAApB;AACAkJ,wBAAQliE,OAAR,CAAgB,UAAC4iE,MAAD,EAAY;AACxB,wBAAI,QAAOA,MAAP,yCAAOA,MAAP,OAAkB,QAAtB,EAAgC;AAC5BpmE,+BAAOomE,OAAOpmE,IAAd;AACA+G,kCAAUq/D,OAAOr/D,OAAjB;AACH,qBAHD,MAGO;AACH/G,+BAAOomE,MAAP;AACH;;AAED,wBAAMC,qBAAqBP,gBAAgB9lE,IAAhB,CAA3B;AACA,wBAAIqmE,mBAAmBC,SAAnB,EAAJ,EAAoC;AAChC,4BAAI,CAACD,mBAAmB96D,WAAnB,CAA+Bg7D,OAA/B,EAAD,IACApmE,OAAOygB,MAAP,CAAcmlD,aAAd,EAA6B/kD,IAA7B,CAAkC;AAAA,mCAAKjhB,EAAEqS,eAAP;AAAA,yBAAlC,CADJ,EAC+D;AAC3D4zD,8CAAqBhmE,IAArB,SAA6By+D,WAAWx7D,IAAX,EAA7B,IAAoD;AAChDjD,0CADgD;AAEhDwO,wCAAQ,CAAC03D,WAAD,EAAc3zD,OAAd,EAAuBxL,OAAvB;AAFwC,6BAApD;AAIH,yBAND,MAMO;AACH,kCAAKy/D,kBAAL,CAAwBxmE,IAAxB,EAA8BkmE,WAA9B,EAA2C3zD,OAA3C,EAAoDxL,OAApD;AACH;AACJ;AACJ,iBApBD;AAqBH,aA3BD;AA4BA,mBAAO,IAAP;AACH;;;2CAEmB/G,I,EAAMw8D,Y,EAAcjqD,O,EAAuB;AAAA,gBAAdxL,OAAc,uEAAJ,EAAI;;AAC3D,gBAAM++D,kBAAkB,KAAKhC,WAAL,EAAxB;AACA,gBAAMmC,aAAaH,gBAAgB9lE,IAAhB,CAAnB;AACA,gBAAIymE,UAAU,KAAd;AACA,gBAAI1/D,QAAQ6a,MAAR,IAAkB7a,QAAQ6a,MAAR,CAAeqkD,UAAf,CAAtB,EAAkD;AAC9CQ,0BAAU,IAAV;AACH;AACD,aAACA,OAAD,IAAYX,gBAAgB9lE,IAAhB,EAAsBmI,KAAtB,CAA4Bq0D,YAA5B,EAA0CjqD,OAA1C,EAAmDxL,OAAnD,CAAZ;AACH;;;wDAEgCjE,G,EAAK;AAClC,iBAAK4hE,wBAAL,GAAgCvkE,OAAO4H,MAAP,CAAc,KAAK28D,wBAAnB,EAA6C5hE,OAAO,EAApD,CAAhC;AACA,mBAAO,IAAP;AACH;;;0CAEkB4jE,S,EAAWn0D,O,EAA+B;AAAA,gBAAtBo0D,eAAsB,uEAAJ,EAAI;;AACzD,gBAAM30D,YAAY20D,gBAAgB30D,SAAhB,KAA8B5J,SAA9B,GAA0Cu+D,gBAAgB30D,SAA1D,GAAsE,IAAxF;AACA,gBAAM40D,qBAAqB,KAAK1C,QAAL,CAAcC,WAAzC;AACA,gBAAMjgD,SAAS0iD,mBAAmBF,SAAnB,CAAf;AACA,gBAAM7D,qBAAqB,KAAKgC,mBAAhC;AACA,gBAAMf,cAAc+C,8DAAcA,CAACH,SAAf,EAA0B7D,kBAA1B,CAApB;AACA,iBAAKoB,eAAL,GAAuB0C,eAAvB;;AAEA,gBAAIziD,MAAJ,EAAY;AACR,oBAAMs4C,eAAet4C,OAAO4iD,QAAP,CAAgBv0D,OAAhB,CAArB;AACA,oBAAMw0D,0BAA0B,KAAKC,0BAAL,CAAgCxK,YAAhC,CAAhC;AACA,qBAAKsI,aAAL,CAAmB4B,SAAnB,IAAgCK,uBAAhC;AACA,oBAAME,yBAAyB,KAAKA,sBAAL,CAA4Bj1D,SAA5B,CAA/B;;AAEA,oBAAIA,SAAJ,EAAe;AACX,yBAAKA,SAAL,CAAe00D,SAAf,EAA0Bn0D,OAA1B,EAAmCiqD,aAAa7oD,IAAb,CAAkB;AAAA,+BAAK5T,EAAEy9D,kBAAP;AAAA,qBAAlB,CAAnC,EAAiFsG,WAAjF;AACH;AACD,oBAAImD,sBAAJ,EAA4B;AACxB,wBAAMC,wBAAwB,KAAKC,wBAAL,CAA8BrD,WAA9B,EAA2CvxD,OAA3C,EAAoDo0D,eAApD,CAA9B;AACA,yBAAKS,gBAAL,CAAsBF,qBAAtB,EAA6CH,uBAA7C,EAAsEx0D,OAAtE;AACH;AACJ;;AAED,mBAAO,IAAP;AACH;;;mDAE2BiqD,Y,EAAc;AACtC,mBAAOA,aAAa7oD,IAAb,CAAkB;AAAA,uBAAK,CAAC5T,EAAEy9D,kBAAR;AAAA,aAAlB,CAAP;AACH;;;iDAEyB;AACtB,mBAAO,IAAP;AACH;;;0DAEkCkJ,S,EAAWhmE,K,EAAO;AACjD,gBAAIA,iBAAiBmC,QAArB,EAA+B;AAC3B,qBAAK8hE,iBAAL,CAAuB+B,SAAvB,IAAoChmE,KAApC;AACH,aAFD,MAEO;AACH,qBAAKikE,iBAAL,CAAuB+B,SAAvB,IAAoC;AAAA,2BAAMhmE,KAAN;AAAA,iBAApC;AACH;AACD,mBAAO,IAAP;AACH;;;2DAEmCulE,U,EAAYvlE,K,EAAO;AACnD,gBAAIA,iBAAiBmC,QAArB,EAA+B;AAC3B,qBAAK2hE,kBAAL,CAAwByB,UAAxB,IAAsCvlE,KAAtC;AACH,aAFD,MAEO;AACH,qBAAK8jE,kBAAL,CAAwByB,UAAxB,IAAsC;AAAA,2BAAMvlE,KAAN;AAAA,iBAAtC;AACH;AACJ;;;oCAEY;AACT,mBAAO,IAAP;AACH;;;sCAE4B;AACzB,gBAAI,UAAYyD,MAAhB,EAAwB;AACpB,qBAAK6/D,YAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,YAAZ;AACH;;;0CAEkBzwD,E,EAAI;AACnB8zD,wFAA4BA,CAAC,IAA7B,EAAmC9zD,EAAnC,EAAuC,IAAvC;AACA,mBAAO,IAAP;AACH;;;2CAEmBA,E,EAAI;AACpB8zD,wFAA4BA,CAAC,IAA7B,EAAmC9zD,EAAnC,EAAuC,KAAvC;AACA,mBAAO,IAAP;AACH;;;4CAEoBmzD,S,EAAWY,c,EAAgB;AAC5C,gBAAMC,qBAAqB,KAAK3C,mBAAhC;AACA,iBAAK,IAAM5jE,GAAX,IAAkBumE,kBAAlB,EAAsC;AAClC,oBAAIvmE,QAAQsmE,cAAZ,EAA4B;AACxB,wBAAME,eAAeD,mBAAmBvmE,GAAnB,CAArB;AACAwmE,iCAAa/I,UAAb,GAA0B+I,aAAa/I,UAAb,CAAwB78C,MAAxB,CAA+B;AAAA,+BAAK7hB,MAAM2mE,SAAX;AAAA,qBAA/B,CAA1B;AACH;AACJ;;AAED,mBAAO,IAAP;AACH;;;6CAEqBT,U,EAAYS,S,EAAW;AACzC,gBAAM7D,qBAAqB,KAAKgC,mBAAhC;AACAhC,+BAAmB6D,SAAnB,IAAgC7D,mBAAmB6D,SAAnB,EAA8B9kD,MAA9B,CAAqC;AAAA,uBAAK,CAAC7hB,EAAEC,IAAF,IAAUD,CAAX,MAAkBkmE,UAAvB;AAAA,aAArC,CAAhC;AACA,mBAAO,IAAP;AACH;;;iDAEyBnC,W,EAAa;AACnC,mBAAOA,WAAP;AACH;;;kDAE0BrjD,S,EAAW;AAClCA,sBAAUvN,WAAV,CAAsB,aAAtB;AACAuN,sBAAU1N,EAAV,CAAa,aAAb,EAA4B,KAAK00D,sBAAL,EAA5B;AACA,mBAAO,IAAP;AACH;;;iDAEyB;AAAA;;AACtB,mBAAO,UAACC,SAAD,EAAe;AAClB,oBAAMn1D,UAAUm1D,UAAUn1D,OAA1B;AACA,oBAAM2R,SAAS3R,QAAQ2R,MAAvB;;AAEA,uBAAKw6C,iBAAL,CAAuBx6C,MAAvB,EAA+B3R,OAA/B,EAAwC;AACpCP,+BAAW;AADyB,iBAAxC;AAGH,aAPD;AAQH;;;2CAEmB21D,S,EAAWf,kB,EAAoB;AAC/C,gBAAMnI,aAAamI,sBAAsB,KAAK1C,QAAL,CAAcC,WAAvD;AACA,gBAAM3H,eAAe,KAAK6H,aAA1B;AACA,gBAAMuD,uBAAuB,KAAKtD,qBAAlC;;AAEA,iBAAK,IAAMtjE,GAAX,IAAkBy9D,UAAlB,EAA8B;AAC1B,oBAAI,GAAGj9D,cAAH,CAAkB5B,IAAlB,CAAuB6+D,UAAvB,EAAmCz9D,GAAnC,CAAJ,EAA6C;AACzCw7D,iCAAax7D,GAAb,IAAoB,IAAI6mE,sDAAJ,CAAiBF,SAAjB,CAApB;AACAC,yCAAqB5mE,GAArB,IAA4B,IAAI6mE,sDAAJ,CAAiBF,SAAjB,EAA4B,IAA5B,CAA5B;AACH;AACJ;AACD,iBAAKrD,qBAAL,GAA6BsD,oBAA7B;AACA,iBAAKpL,YAAL,CAAkBA,YAAlB;AACA,mBAAO,IAAP;AACH;;;uCAE8B;AAC3B,gBAAI,UAAar4D,MAAjB,EAAyB;AACrB,qBAAKkgE,aAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,aAAZ;AACH;;;gDAEwB;AACrB,gBAAMyD,wBAAwB,KAAK/D,sBAAnC;AACA,iBAAKD,WAAL,CAAiB+B,sEAAsB,IAAtB,EAA4BiC,qBAA5B,CAAjB;AACA,mBAAO,IAAP;AACH;;;gDAEwBjE,O,EAAS;AAC9B,gBAAMkE,gBAAgBC,yEAAyBA,CAAC,IAA1B,EAAgCnE,OAAhC,CAAtB;AACA1jE,mBAAO4H,MAAP,CAAc,KAAKm8D,QAAL,CAAcE,QAA5B,EAAsC2D,aAAtC;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;;;;;;;;sCAce7jD,M,EAAQvb,M,EAAwB;AAAA,gBAAhBq4B,MAAgB,uEAAP,KAAO;;AAC3C,gBAAM4lC,qBAAqB,KAAK1C,QAAL,CAAcC,WAAzC;AACA,gBAAIx7D,OAAOxE,MAAX,EAAmB;AACf,oBAAI+f,WAAWk/C,0DAAf,EAA4B;AACxB,yBAAK,IAAMpiE,GAAX,IAAkB4lE,kBAAlB,EAAsC;AAClC,6BAAKrC,kBAAL,CAAwBvjE,GAAxB,IAA+B;AAC3B2H,0CAD2B;AAE3Bq4B;AAF2B,yBAA/B;AAIH;AACJ,iBAPD,MAOO;AACH,yBAAKujC,kBAAL,CAAwBrgD,MAAxB,IAAkC;AAC9Bvb,sCAD8B;AAE9Bq4B;AAF8B,qBAAlC;AAIH;AACD,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKujC,kBAAZ;AACH;;AAED;;;;;;;iDAI0B;AACtB,gBAAM0D,wBAAwB,KAAK/D,QAAL,CAAcE,QAA5C;AACA,gBAAMthE,MAAM,KAAK8hE,mBAAjB;;AAEA,iBAAK,IAAM1gD,MAAX,IAAqBphB,GAArB,EAA0B;AACtB,oBAAI,CAAE,EAAD,CAAKtB,cAAL,CAAoB5B,IAApB,CAAyBskB,MAAzB,EAAiCphB,GAAjC,CAAL,EAA4C;AACxC,wBAAIyH,eAAJ;AACA,wBAAM29D,SAASplE,IAAIohB,MAAJ,CAAf;AACA3Z,6BAAS29D,OAAO39D,MAAhB;AACA,wBAAMm2D,QAAQwH,OAAOxH,KAArB;AACA,wBAAI,CAACn2D,MAAL,EAAa;AACTA,iCAAS,KAAKslC,OAAL,CAAas4B,yBAAb,EAAT;AACH;AACD,wBAAMlnE,OAAOmnE,2DAAQA,KAAK1H,UAAU,IAAV,IAAkBA,UAAUt4D,SAAzC,GAAqD,CAACs4D,KAAnE;AACAz/D,4BAAQ,KAAKonE,uBAAL,CAA6BJ,sBAAsB/jD,MAAtB,CAA7B,EACJ3Z,MADI,EACI29D,OAAOzJ,UADX,CAAR;AAEH;AACJ;AACD,mBAAO,IAAP;AACH;;;uDAE+B37D,G,EAAK;AACjC3C,mBAAO4H,MAAP,CAAc,KAAK68D,mBAAnB,EAAwC9hE,GAAxC;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;;gDAQyBohB,M,EAAQokD,O,EAASC,a,EAAe;AAAA;;AACrD,gBAAI,OAAQD,OAAR,KAAqB,QAAzB,EAAmC;AAC/BA,0BAAU,CAACA,OAAD,CAAV;AACH;AACDA,oBAAQ9kE,OAAR,CAAgB,UAAC+G,MAAD,EAAY;AACxB,oBAAMq1B,QAAQ,OAAKiQ,OAAL,CAAajQ,KAAb,EAAd;AACA,oBAAMa,QAAQl2B,OAAO8zB,IAAP,YAAuBx7B,QAAvB,GAAkC0H,MAAlC,GAA2CsqC,gEAAaA,CAACjV,KAAd,EAAqBggB,SAArB,CAA+Br1C,MAA/B,CAAzD;AACA,oBAAIg+D,cAAcpkE,MAAd,IAAwB,CAACs8B,MAAM+nC,KAAN,EAA7B,EAA4C;AACxC,wBAAI/nC,iBAAiBh5B,KAArB,EAA4B;AACxBg5B,8BAAMj9B,OAAN,CAAc,UAAC66B,IAAD,EAAU;AACpBna,mCAAO2wB,gEAAaA,CAACxW,IAAd,CAAP,EAA4BkqC,aAA5B;AACH,yBAFD;AAGH,qBAJD,MAIO;AACHrkD,+BAAOuc,KAAP,EAAc8nC,aAAd;AACH;AACJ;AACJ,aAZD;AAaA,mBAAO,IAAP;AACH;;;4CAEoB;AACjB,mBAAO,KAAKtE,eAAZ;AACH;;;8CAEsBrkD,Q,EAA+B;AAAA,gBAArB2D,cAAqB,uEAAJ,EAAI;;AAClD,gBAAMssB,UAAU,KAAKA,OAArB;AACA,gBAAMysB,oBAAoB/4C,eAAezc,IAAf,GAAsByc,eAAezc,IAArC,GACtB+oC,QAAQ44B,2BAAR,CAAoC7oD,QAApC,EAA8C,KAA9C,CADJ;AAEA,gBAAM8oD,UAAU74B,QAAQlnC,MAAR,GAAiB6jB,CAAjB,IAAsB,EAAtC;AACA,gBAAMm8C,UAAU94B,QAAQlnC,MAAR,GAAiB4tB,CAAjB,IAAsB,EAAtC;AACA,gBAAMqyC,YAAYF,QAAQznD,KAAR,CAAc;AAAA,uBAAS/Y,MAAMgH,IAAN,OAAiB0F,oDAASA,CAACC,OAApC;AAAA,aAAd,CAAlB;AACA,gBAAMg0D,YAAYF,QAAQ1nD,KAAR,CAAc;AAAA,uBAAS/Y,MAAMgH,IAAN,OAAiB0F,oDAASA,CAACC,OAApC;AAAA,aAAd,CAAlB;AACA,mBAAO;AACH/B,uBAAOwpD,iBADJ;AAEHlvD,sBAAMwS,aAAa,IAAb,GAAoB,IAApB,GAA4B2D,eAAezc,IAAf,GAAsBoW,yEAAsBA,CAAC,KAAK6/C,WAAL,EAAvB,EACpDx5C,eAAezc,IAAf,CAAoB,CAApB,CADoD,EAC5B8hE,aAAaC,SADe,EACJx8D,OADI,GACMe,IAD5B,GACmCkvD,kBAAkB,CAAlB,EAAqBjwD,OAArB,GAA+Be;AAHjG,aAAP;AAKH;;;yCAEiB8W,M,EAAQ;AACtB,gBAAM5R,WAAW,KAAKu9B,OAAL,CAAayD,EAAb,EAAjB;AACA,gBAAM/vB,iBAAiB,KAAK0gD,eAAL,IAAwB,EAA/C;AACA,gBAAM6E,oBAAoBvlD,eAAejR,QAAzC;AACA,gBAAIy2D,0BAA0B,EAA9B;AACA,gBAAID,sBAAsBx2D,QAA1B,EAAoC;AAChCy2D,0CAA0B,CAAC,KAAKzE,qBAAL,CAA2BpgD,MAA3B,CAAD,CAA1B;AACH;;AAED,gBAAI4kD,iBAAJ,EAAuB;AACnBC,wCAAwBrlE,IAAxB,CAA6B,KAAK84D,YAAL,GAAoBt4C,MAApB,CAA7B;AACH;AACD,mBAAO6kD,uBAAP;AACH;;;sCAEc;AACX,mBAAO,KAAKl5B,OAAL,CAAa/oC,IAAb,EAAP;AACH;;;mCAEW;AACR,mBAAO,KAAKkiE,SAAZ;AACH;;AAED;;;;;;;;;;;;wCASiBtC,S,EAAW;AACxB,mBAAO,KAAK5B,aAAL,CAAmB4B,SAAnB,CAAP;AACH;;;;;;AAxagB9C,uE;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9BrB;AACA;;AAEO,IAAMiC,wBAAwB,SAAxBA,qBAAwB,CAACh2B,OAAD,EAAUi0B,WAAV,EAA0B;AAC3D,QAAMmF,iBAAiBp5B,QAAQm0B,YAA/B;AACA,QAAM31D,SAASwhC,QAAQxhC,MAAR,EAAf;AACAy1D,kBAAcA,uBAAuBr8D,KAAvB,GAA+Bq8D,WAA/B,GAA6C3jE,OAAOygB,MAAP,CAAckjD,WAAd,CAA3D;AACAA,gBAAYtgE,OAAZ,CAAoB,UAAC0lE,UAAD,EAAgB;AAChC,YAAMjN,aAAaiN,WAAWjN,UAAX,EAAnB;AACA,YAAMoK,qBAAqB4C,eAAehN,UAAf,CAA3B;AACAgN,uBAAehN,UAAf,IAA6BoK,sBAAsB,IAAI6C,UAAJ,CAAer5B,OAAf,CAAnD;AACA,YAAMs5B,iBAAiB96D,OAAO4tD,UAAP,CAAvB;AACAkN,0BAAkBF,eAAehN,UAAf,EAA2B5tD,MAA3B,CAAkC86D,cAAlC,CAAlB;AACH,KAND;AAOA,WAAOF,cAAP;AACH,CAZM;;AAcA,IAAMtD,+BAA+B,SAA/BA,4BAA+B,CAAC91B,OAAD,EAAUg0B,OAAV,EAAsB;AAC9D,QAAMuF,yBAAyB,EAA/B;;AAEAvF,cAAUA,mBAAmBp8D,KAAnB,GAA2Bo8D,OAA3B,GAAqC1jE,OAAOygB,MAAP,CAAcijD,OAAd,CAA/C;AACAA,YAAQrgE,OAAR,CAAgB,UAAC6lE,MAAD,EAAY;AACxBD,+BAAuBC,OAAOpN,UAAP,EAAvB,IAA8C,IAAIoN,MAAJ,CAAWx5B,OAAX,CAA9C;AACH,KAFD;AAGA,WAAOu5B,sBAAP;AACH,CARM;;AAUA,IAAMpB,4BAA4B,SAA5BA,yBAA4B,CAACn4B,OAAD,EAAUg0B,OAAV,EAAsB;AAC3D,QAAM5B,kBAAkB,EAAxB;;AAEA,SAAK,IAAMjiE,IAAX,IAAmB6jE,OAAnB,EAA4B;AACxB,YAAI,CAAE,EAAD,CAAKriE,cAAL,CAAoB5B,IAApB,CAAyBI,IAAzB,EAA+B6jE,OAA/B,CAAL,EAA8C;AAC1C5B,4BAAgBjiE,IAAhB,IAAwB6jE,QAAQ7jE,IAAR,EAAc6vC,OAAd,CAAxB;AACH;AACJ;AACD,WAAOoyB,eAAP;AACH,CATM;;AAWA,IAAMoF,+BAA+B,SAA/BA,4BAA+B,CAACx3B,OAAD,EAAUt8B,EAAV,EAAc+1D,QAAd,EAA2B;AACnE,QAAMxF,cAAcj0B,QAAQi0B,WAAR,EAApB;AACA,SAAK,IAAM9iE,GAAX,IAAkB8iE,WAAlB,EAA+B;AAC3B,YAAI,GAAGtiE,cAAH,CAAkB5B,IAAlB,CAAuBkkE,WAAvB,EAAoC9iE,GAApC,CAAJ,EAA8C;AAC1C,gBAAIuoE,SAAS,IAAb;AACA,gBAAIh2D,MAAMA,GAAGvS,GAAH,MAAY,KAAtB,EAA6B;AACzBuoE,yBAAS,KAAT;AACH;AACD,gBAAIA,MAAJ,EAAY;AACRD,2BAAWxF,YAAY9iE,GAAZ,EAAiBwoE,MAAjB,EAAX,GAAuC1F,YAAY9iE,GAAZ,EAAiBylE,OAAjB,EAAvC;AACH;AACJ;AACJ;AACJ,CAbM;;AAeA,IAAMpJ,eAAe,SAAfA,YAAe;AAAA,wCAAW,IAAI5kD,GAAJ,8BAAYsR,IAAI,CAAJ,CAAZ,sBAAuBA,IAAI,CAAJ,CAAvB,GAAX;AAAA,CAArB;;AAEA,IAAMwzC,kBAAkB,SAAlBA,eAAkB,CAACh6C,cAAD,EAAmC;AAAA,QAAlB3D,QAAkB,uEAAP,EAAO;;AAC9D,QAAM4E,oBAAoBjB,eAAeiB,iBAAzC;AACA,QAAIilD,qBAAJ;AACA,QAAIjlD,iBAAJ,EAAuB;AACnBilD,uBAAejlD,kBAAkBnQ,SAAlB,GAA8BvR,GAA9B,CAAkC;AAAA,mBAAK/C,EAAEC,IAAP;AAAA,SAAlC,CAAf;AACH,KAFD,MAEO,IAAI4f,oBAAoBnY,KAAxB,EAA+B;AAClCgiE,uBAAe7pD,SAAS,CAAT,CAAf;AACH,KAFM,MAEA;AACH6pD,uBAAetpE,OAAOyI,IAAP,CAAYgX,YAAY,EAAxB,CAAf;AACH;AACD,WAAO6pD,YAAP;AACH,CAXM;;AAaP,IAAMC,gBAAgB;AAClBC,cAAU,CAAC3L,oEAAD,CADQ;AAElB4L,cAAU,CAAC5L,oEAAD,CAFQ;AAGlBZ,iBAAa,CAACY,oEAAD,EAAgCA,oEAAhC,CAHK;AAIlB6L,aAAS,CAAC7L,mEAAD,CAJS;AAKlB8L,aAAS,CAAC9L,mEAAD,CALS;AAMlBV,gBAAY,CAACU,mEAAD,EAA+BA,mEAA/B,CANM;AAOlB+L,cAAU;AAPQ,CAAtB;;AAUO,IAAMC,kBAAkB,SAAlBA,eAAkB,CAAC96D,IAAD,EAAO4D,KAAP,EAAciX,GAAd,EAAsB;AACjD,QAAIjX,KAAJ,EAAW;AACP,eAAOA,MAAMqD,MAAN,CAAa,UAACxN,MAAD,EAASjJ,CAAT;AAAA,mBAChBgqE,cAAcx6D,IAAd,EAAoB8R,IAApB,CAAyB;AAAA,uBAAa+I,IAAIrqB,CAAJ,MAAWuqE,SAAxB;AAAA,aAAzB,CADgB;AAAA,SAAb,EAC2D;AAC3D37D,uBAAW;AADgD,SAD3D,CAAP;AAIH;AACD,WAAO,IAAP;AACH,CARM;;AAUA,IAAM6uD,aAAa,SAAbA,UAAa,CAACjuD,IAAD,EAAO6a,GAAP,EAAY1b,MAAZ,EAAuB;AAC7C,QAAIyE,QAAQ,IAAZ;AACA,QAAMwpD,oBAAoBjuD,OAAOiuD,iBAAjC;AACA,QAAME,eAAenuD,OAAOmuD,YAA5B;AACA,QAAI,CAACnuD,OAAO6uD,eAAZ,EAA6B;AACzB,YAAIV,aAAa0N,QAAb,EAAJ,EAA6B;AACzBp3D,oBAAQ,IAAR;AACH,SAFD,MAEO;AACHA,oBAAQk3D,gBAAgB96D,IAAhB,EAAsBb,OAAOoS,SAA7B,EAAwCpS,OAAOmuD,YAAP,CAAoBt2B,IAA5D,CAAR;AACH;AACJ,KAND,MAMO,IAAIo2B,iBAAJ,EAAuB;AAC1BxpD,gBAAQ5D,SAAS,aAAT,GAAyBotD,kBAAkB,CAAlB,CAAzB,GAAgDA,kBAAkB,CAAlB,CAAxD;AACH;AACD,WAAO;AACHlvD,cAAM2c,GADH;AAEH5lB,gBAAQ4lB,IAAI5lB,MAFT;AAGH2O;AAHG,KAAP;AAKH,CAlBM;;AAoBA,IAAM+zD,iBAAiB,SAAjBA,cAAiB,CAACH,SAAD,EAAY7D,kBAAZ,EAAmC;AAC7D,QAAMiB,cAAc,EAApB;AACA,SAAK,IAAM9iE,GAAX,IAAkB6hE,kBAAlB,EAAsC;AAClC,YAAMpE,aAAaz9D,IAAIme,KAAJ,CAAU,GAAV,CAAnB;AACA,YAAMgrD,QAAQ1L,WAAWz9C,IAAX,CAAgB;AAAA,mBAAKjhB,MAAM2mE,SAAX;AAAA,SAAhB,CAAd;AACA,YAAIyD,KAAJ,EAAW;AACPrG,wBAAYpgE,IAAZ,CAAiB;AACbgiE,yBAAS7C,mBAAmB7hE,GAAnB,CADI;AAEby9D;AAFa,aAAjB;AAIH;AACJ;AACD,WAAOqF,WAAP;AACH,CAbM;;AAeA,IAAMqC,YAAY,SAAZA,SAAY,CAACt2B,OAAD,EAAU4uB,UAAV,EAAyB;AAC9C,QAAIyH,cAAc,EAAlB;AACA,QAAM3hD,SAAS;AACX64C,qBAAa,IADF;AAEXE,oBAAY;AAFD,KAAf;AAIAmB,eAAWj7D,OAAX,CAAmB,UAACkjE,SAAD,EAAe;AAC9B,YAAM0D,eAAev6B,QAAQi1B,aAAR,CAAsB4B,SAAtB,CAArB;AACA,YAAI0D,YAAJ,EAAkB;AACdlE,0BAAc/lE,OAAO4H,MAAP,CAAcm+D,WAAd,EAA2B70D,wDAAKA,CAAC+4D,YAAN,CAA3B,CAAd;AACA,aAAC,aAAD,EAAgB,YAAhB,EAA8B5mE,OAA9B,CAAsC,UAAC0L,IAAD,EAAU;AAC5C,oBAAM4D,QAAQs3D,aAAal7D,IAAb,EAAmB4D,KAAjC;AACA,oBAAIu3D,gBAAgB9lD,OAAOrV,IAAP,CAApB;AACA,oBAAI,CAACm7D,aAAL,EAAoB;AAChBA,oCAAgB9lD,OAAOrV,IAAP,IAAe4D,KAA/B;AACH,iBAFD,MAEO,IAAI,KAAGA,MAAMuB,SAAN,GAAkBvR,GAAlB,CAAsB;AAAA,2BAAK/C,EAAEC,IAAP;AAAA,iBAAtB,EAAmC2M,IAAnC,EAAH,UACJ09D,cAAch2D,SAAd,GAA0BvR,GAA1B,CAA8B;AAAA,2BAAK/C,EAAEC,IAAP;AAAA,iBAA9B,EAA2C2M,IAA3C,EADA,EACqD;AACxD09D,oCAAgB9lD,OAAOrV,IAAP,IAAe4D,MAAM6D,KAAN,CAAY0zD,aAAZ,CAA/B;AACH,iBAHM,MAGA;AACHA,oCAAgBv3D,KAAhB;AACH;AACDozD,4BAAYh3D,IAAZ,EAAkB4D,KAAlB,GAA0Bu3D,aAA1B;AACH,aAZD;AAaH;AACJ,KAlBD;AAmBA,WAAOnE,WAAP;AACH,CA1BM,C;;;;;;;;;;;;AC3HP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACdA;AAAA;AAAA;;AAEe2B,qHAAf,E;;;;;;;;;;;;;;;;;;ACFA;AAGA;;AAEA;;;;;;;;;;IASMA,Y;AACF;;;;;AAKA,0BAAa/K,WAAb,EAA0BW,SAA1B,EAAqC;AAAA;;AACjC,aAAKX,WAAL,GAAmBA,WAAnB;AACA,aAAK52B,IAAL,GAAY42B,YAAYrvD,MAAZ,CAAmB,UAACksB,GAAD,EAAM34B,GAAN,EAAc;AACzC24B,gBAAI34B,GAAJ,IAAWyiE,+DAAX;AACA,mBAAO9pC,GAAP;AACH,SAHW,EAGT,EAHS,CAAZ;AAIA,aAAK8jC,SAAL,GAAiBA,SAAjB;AACA,aAAK6M,iBAAL,GAAyBxN,YAAY34D,MAArC;AACA,aAAKomE,gBAAL,GAAwB,EAAxB;AACA,aAAKvB,SAAL,GAAiB,IAAjB;AACH;;AAED;;;;;;;;;;;;4BAQKwB,G,EAAK;AACN,iBAAKxB,SAAL,GAAiB,KAAjB;;AAEA,gBAAMj/C,MAAM,KAAKmc,IAAjB;AACA;AACAskC,gBAAIhnE,OAAJ,CAAY,UAAC9D,CAAD,EAAO;AACfqqB,oBAAIrqB,CAAJ,IAAS6jE,oEAAT;AACH,aAFD;;AAIA,iBAAK,IAAMviE,GAAX,IAAkB+oB,GAAlB,EAAuB;AACnB,oBAAIA,IAAI/oB,GAAJ,MAAauiE,oEAAb,IAAoCx5C,IAAI/oB,GAAJ,MAAa0iE,oEAArD,EAA0E;AACtE35C,wBAAI/oB,GAAJ,IAAW+oB,IAAI/oB,GAAJ,IAAW,CAAX,GAAe2iE,mEAAf,GAAoCH,mEAA/C;AACH;AACJ;AACD,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;+BAOQgH,G,EAAK;AACT,gBAAMzgD,MAAM,KAAKmc,IAAjB;AACA;AACAskC,gBAAIhnE,OAAJ,CAAY,UAAC9D,CAAD,EAAO;AACfqqB,oBAAIrqB,CAAJ,IAASgkE,oEAAT;AACH,aAFD;;AAIA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;;sCAQe;AACX,gBAAM35C,MAAM,KAAKmc,IAAjB;;AAEA;AACA,iBAAK,IAAMllC,GAAX,IAAkB+oB,GAAlB,EAAuB;AACnBA,oBAAI/oB,GAAJ,IAAW+oB,IAAI/oB,GAAJ,MAAauiE,oEAAb,GAAmCG,oEAAnC,GAAyD35C,IAAI/oB,GAAJ,CAApE;AACH;AACD,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;;;qCASc;AACV,gBAAM+oB,MAAM,KAAKmc,IAAjB;AACA;AACA,iBAAK,IAAMllC,GAAX,IAAkB+oB,GAAlB,EAAuB;AACnBA,oBAAI/oB,GAAJ,IAAW+oB,IAAI/oB,GAAJ,MAAawiE,mEAAb,GAAkCG,mEAAlC,GAAuD55C,IAAI/oB,GAAJ,CAAlE;AACH;AACD,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;;+BAQQwpE,G,EAAK;AACT,iBAAKxB,SAAL,GAAiB,KAAjB;;AAEA,gBAAMj/C,MAAM,KAAKmc,IAAjB;AACAskC,gBAAIhnE,OAAJ,CAAY,UAAC9D,CAAD,EAAO;AACfqqB,oBAAIrqB,CAAJ,IAAS8jE,mEAAT;AACH,aAFD;;AAIA,iBAAK,IAAMxiE,GAAX,IAAkB+oB,GAAlB,EAAuB;AACnB,oBAAIA,IAAI/oB,GAAJ,MAAawiE,mEAAb,IAAmCz5C,IAAI/oB,GAAJ,MAAa2iE,mEAApD,EAAwE;AACpE55C,wBAAI/oB,GAAJ,IAAW+oB,IAAI/oB,GAAJ,MAAa,CAAb,GAAiBuiE,oEAAjB,GAAuCG,oEAAlD;AACH;AACJ;;AAED,mBAAO,IAAP;AACH;;;kCAEU;AACP,gBAAM35C,MAAM,KAAKmc,IAAjB;AACA,gBAAMtuB,SAAS;AACXglD,0BAAU,CAAC,EAAD,EAAK,EAAL,CADC;AAEXC,yBAAS,CAAC,EAAD,EAAK,EAAL,CAFE;AAGXC,6BAAa;AAHF,aAAf;;AAMA,iBAAK,IAAM97D,GAAX,IAAkB+oB,GAAlB,EAAuB;AACnB,oBAAIA,IAAI/oB,GAAJ,IAAW,CAAf,EAAkB;AACd+oB,wBAAI/oB,GAAJ,MAAa0iE,oEAAb,IAAoC9rD,OAAOglD,QAAP,CAAgB,CAAhB,EAAmBl5D,IAAnB,CAAwB1C,GAAxB,CAApC;AACA+oB,wBAAI/oB,GAAJ,MAAauiE,oEAAb,IAAoC3rD,OAAOglD,QAAP,CAAgB,CAAhB,EAAmBl5D,IAAnB,CAAwB1C,GAAxB,CAApC;AACH,iBAHD,MAGO,IAAI+oB,IAAI/oB,GAAJ,IAAW,CAAf,EAAkB;AACrB+oB,wBAAI/oB,GAAJ,MAAa2iE,mEAAb,IAAmC/rD,OAAOilD,OAAP,CAAe,CAAf,EAAkBn5D,IAAlB,CAAuB1C,GAAvB,CAAnC;AACA+oB,wBAAI/oB,GAAJ,MAAawiE,mEAAb,IAAmC5rD,OAAOilD,OAAP,CAAe,CAAf,EAAkBn5D,IAAlB,CAAuB1C,GAAvB,CAAnC;AACH;AACD4W,uBAAOklD,WAAP,CAAmBp5D,IAAnB,CAAwB1C,GAAxB;AACH;;AAED,aAAC,UAAD,EAAa,SAAb,EAAwBwC,OAAxB,CAAgC,UAAC0L,IAAD,EAAU;AACtC0I,uBAAO1I,IAAP,IAAe0I,OAAO1I,IAAP,EAAapM,GAAb,CAAiB;AAAA,2BAAKwK,EAAExK,GAAF,CAAMmW,MAAN,CAAL;AAAA,iBAAjB,CAAf;AACH,aAFD;AAGArB,mBAAOklD,WAAP,GAAqBllD,OAAOklD,WAAP,CAAmBh6D,GAAnB,CAAuBmW,MAAvB,CAArB;;AAEA,mBAAOrB,MAAP;AACH;;AAED;;;;;;;;;;;;;8BAUO4yD,G,EAAK;AACR,gBAAMzgD,MAAM,KAAKmc,IAAjB;AACA,gBAAIskC,GAAJ,EAAS;AACLA,oBAAIhnE,OAAJ,CAAY,UAAC9D,CAAD,EAAO;AACfqqB,wBAAIrqB,CAAJ,IAAS+jE,+DAAT;AACH,iBAFD;AAGH,aAJD,MAIO;AACH,oBAAMgH,YAAY,KAAKF,gBAAvB;AACA,qBAAK,IAAMvpE,GAAX,IAAkB+oB,GAAlB,EAAuB;AACnB,wBAAI,EAAE/oB,OAAOypE,SAAT,CAAJ,EAAyB;AACrB1gD,4BAAI/oB,GAAJ,IAAWyiE,+DAAX;AACH;AACJ;AACJ;AACD,iBAAKuF,SAAL,GAAiB,IAAjB;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;sCAOe;AACX,gBAAMj/C,MAAM,KAAKmc,IAAjB;AACA,gBAAM23B,SAAS,EAAf;;AAEA,iBAAK,IAAM78D,GAAX,IAAkB+oB,GAAlB,EAAuB;AACnBA,oBAAI/oB,GAAJ,MAAauiE,oEAAb,IAAoC1F,OAAOn6D,IAAP,CAAY1C,GAAZ,CAApC;AACH;;AAED,mBAAO68D,MAAP;AACH;;AAED;;;;;;;;;;;4CAQqBA,M,EAAQ;AACzB,gBAAM9zC,MAAM,KAAKmc,IAAjB;AACA,mBAAO23B,OAAOj8C,MAAP,CAAc;AAAA,uBAAKmI,IAAIhqB,CAAJ,MAAWwjE,oEAAX,IAAkCx5C,IAAIhqB,CAAJ,MAAW2jE,oEAAlD;AAAA,aAAd,CAAP;AACH;;AAED;;;;;;;;;;;2CAQoBgH,S,EAAW;AAC3B,gBAAM3gD,MAAM,KAAKmc,IAAjB;AACA,mBAAOwkC,UAAU9oD,MAAV,CAAiB;AAAA,uBAAKmI,IAAIhqB,CAAJ,MAAWyjE,mEAAX,IAAiCz5C,IAAIhqB,CAAJ,MAAW4jE,mEAAjD;AAAA,aAAjB,CAAP;AACH;;AAED;;;;;;;sCAIe;AACX,gBAAM55C,MAAM,KAAKmc,IAAjB;AACA,gBAAMykC,YAAY,EAAlB;;AAEA,iBAAK,IAAM3pE,GAAX,IAAkB+oB,GAAlB,EAAuB;AACnBA,oBAAI/oB,GAAJ,MAAa0iE,oEAAb,IAAoCiH,UAAUjnE,IAAV,CAAe1C,GAAf,CAApC;AACH;AACD,mBAAO2pE,SAAP;AACH;;AAED;;;;;;;qCAIc;AACV,gBAAM5gD,MAAM,KAAKmc,IAAjB;AACA,gBAAMykC,YAAY,EAAlB;;AAEA,iBAAK,IAAM3pE,GAAX,IAAkB+oB,GAAlB,EAAuB;AACnBA,oBAAI/oB,GAAJ,MAAa2iE,mEAAb,IAAmCgH,UAAUjnE,IAAV,CAAe1C,GAAf,CAAnC;AACH;;AAED,mBAAO2pE,SAAP;AACH;;AAED;;;;;;;;;qCAMc;AACV,gBAAM5gD,MAAM,KAAKmc,IAAjB;AACA,gBAAMwkC,YAAY,EAAlB;;AAEA,iBAAK,IAAM1pE,GAAX,IAAkB+oB,GAAlB,EAAuB;AACnBA,oBAAI/oB,GAAJ,MAAawiE,mEAAb,IAAmCkH,UAAUhnE,IAAV,CAAe1C,GAAf,CAAnC;AACH;AACD,mBAAO0pE,SAAP;AACH;;AAED;;;;;;;;;yCAMkB;AACd,gBAAM3gD,MAAM,KAAKmc,IAAjB;AACA,gBAAM42B,cAAc,EAApB;;AAEA,iBAAK,IAAM97D,GAAX,IAAkB+oB,GAAlB,EAAuB;AACnB+yC,4BAAYp5D,IAAZ,CAAiB1C,GAAjB;AACH;;AAED,mBAAO87D,WAAP;AACH;;;8CAEsB;AACnB,mBAAO,KAAKwN,iBAAZ;AACH;;;mCAEW;AACR,mBAAO,KAAKtB,SAAZ;AACH;;AAED;;;;;;;iCAIU;AACN,gBAAMj/C,MAAM,KAAKmc,IAAjB;;AAEA,iBAAK,IAAMllC,GAAX,IAAkB+oB,GAAlB,EAAuB;AACnB,oBAAIA,IAAI/oB,GAAJ,MAAauiE,oEAAjB,EAAsC;AAClCx5C,wBAAI/oB,GAAJ,IAAWwiE,mEAAX;AACH,iBAFD,MAEO,IAAIz5C,IAAI/oB,GAAJ,MAAawiE,mEAAjB,EAAqC;AACxCz5C,wBAAI/oB,GAAJ,IAAWuiE,oEAAX;AACH,iBAFM,MAEA,IAAIx5C,IAAI/oB,GAAJ,MAAa0iE,oEAAjB,EAAsC;AACzC35C,wBAAI/oB,GAAJ,IAAW2iE,mEAAX;AACH,iBAFM,MAEA;AACH55C,wBAAI/oB,GAAJ,IAAW0iE,oEAAX;AACH;AACJ;;AAED,mBAAO,IAAP;AACH;;;;;;AAGUmE,2EAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvUA;AACA;AACA;;AAEA;;AAEA,IAAM+C,WAAW,SAAXA,QAAW,CAACC,SAAD,EAAYC,aAAZ,EAA2Bj7B,OAA3B,EAAoCo2B,UAApC,EAAmD;AAChE,QAAM8E,SAAS,EAAf;AACA,QAAIF,SAAJ,EAAe;AACXA,kBAAUrnE,OAAV,CAAkB,UAACwnE,QAAD,EAAc;AAC5B,gBAAMC,OAAOD,SAASC,IAAtB;AACA,gBAAMC,WAAWJ,cAAcG,IAAd,CAAjB;AACA,gBAAIC,YAAYA,SAASC,iBAAT,EAAhB,EAA8C;AAC1C,oBAAMC,mBAAmBJ,SAASlqD,GAAT,CAAauqD,QAAtC;AACA,oBAAMA,WAAW;AACb7+C,uBAAG8+C,6DAAUA,CAACF,gBAAX,EAA6B,GAA7B,EAAkC,OAAlC,CADU;AAEb70C,uBAAG+0C,6DAAUA,CAACF,gBAAX,EAA6B,GAA7B,EAAkC,OAAlC,CAFU;AAGb13B,2BAAO43B,6DAAUA,CAACF,gBAAX,EAA6B,OAA7B,EAAsC,OAAtC,CAHM;AAIbG,0BAAM;AACFrjE,+BAAOojE,6DAAUA,CAACF,gBAAX,EAA6B,MAA7B,EAAqC,OAArC,CADL;AAEF1qE,+BAAOulE,WAAWuF,gBAAX;AAFL;AAJO,iBAAjB;AASA,oBAAMxrE,OAAUgrE,SAASlqD,GAAT,CAAa9gB,IAAvB,SAA+BimE,WAAW16D,WAAX,CAAuB0wD,UAAvB,EAArC;AACA,oBAAMwP,WAAW;AACbC,+BAAW77B,QAAQ+6B,QAAR,CAAiB;AACxB5qE,kCADwB;AAExBirE,8BAAM,OAFkB;AAGxBn4B,mCAAWmzB,WAAW16D,WAAX,CAAuBumC,aAAvB,GAAuCgB,SAH1B;AAIxBu4B,0CAJwB;AAKxBM,mCAAW;AACPz8D,kCAAM;AADC,yBALa;AAQxBmwC,oCAAY4mB,WAAW2F,mBAAX,EARY;AASxBC,yCAAiB,KATO;AAUxBx6C,gCAAQ;AAAA,mCAAMhL,GAAGlQ,MAAH,CAAU;AAAA,uCAAM,KAAN;AAAA,6BAAV,EAAuB;AACjC7H,2CAAW;AADsB,6BAAvB,CAAN;AAAA,yBAVgB;AAaxBw9D,qCAAa,KAbW;AAcxB72B,gCAAQ;AAdgB,qBAAjB,CADE;AAiBb82B,iCAAaf,SAASlqD,GAAT,CAAa9gB;AAjBb,iBAAjB;AAmBA+qE,uBAAOrnE,IAAP,CAAY+nE,QAAZ;AACH;AACJ,SApCD;AAqCH;AACD,WAAOV,MAAP;AACH,CA1CD;;IA4CqBiB,Y;;;AACjB,4BAAwB;AAAA;;AAAA;;AAAA,0CAARx9D,MAAQ;AAARA,kBAAQ;AAAA;;AAAA,2JACXA,MADW;;AAEpB,cAAKy9D,UAAL,GAAkB,EAAlB;AACA,cAAKC,eAAL;AAHoB;AAIvB;;;;0CAgBkB;AAAA;;AACf,gBAAMr8B,UAAU,KAAKksB,QAAL,CAAclsB,OAA9B;AACA,gBAAMs8B,UAAUt8B,QAAQs8B,OAAR,EAAhB;AACA,gBAAMrB,gBAAgBj7B,QAAQu8B,QAAR,GAAmBtB,aAAzC;AACA,gBAAMuB,eAAex8B,QAAQm7B,QAAR,EAArB;AACAn7B,oBAAQzc,KAAR,GAAgBk5C,yBAAhB,CACOC,2DAAgBA,CAACC,oBADxB,kBACyDL,QAAQM,SADjE,EAC8E,iBAAmB;AAAA;AAAA,oBAAf5B,SAAe;;AACzF,uBAAK6B,OAAL,GAAe9B,SAASC,SAAT,EAAoBC,aAApB,EAAmCj7B,OAAnC,EAA4C,MAA5C,CAAf;AACH,aAHL;AAIA,iBAAK68B,OAAL,GAAe9B,SAASyB,YAAT,EAAuBvB,aAAvB,EAAsCj7B,OAAtC,EAA+C,IAA/C,CAAf;AACA,mBAAO,IAAP;AACH;;;8CAEsB;AACnB,mBAAO;AACH88B,0BAAU;AADP,aAAP;AAGH;;AAED;;;;;;;2CAIoB;AAChB,mBAAO,GAAP;AACH;;;8BAEMnQ,Y,EAAc;AACjB,gBAAMtxD,OAAO,IAAb;AACA,gBAAMuV,YAAY+7C,aAAaY,WAAb,CAAyBtqD,KAA3C;AACA,gBAAI0pD,aAAaS,oBAAb,KAAsC,KAA1C,EAAiD;AAC7C,oBAAM0D,aAAa,KAAKiM,cAAL,EAAnB;AACA,oBAAMC,kBAAkBlM,WAAWkM,eAAnC;AACA,oBAAM/5B,iBAAe,KAAKzkC,MAAL,GAAcykC,SAAnC;AACA,oBAAMi4B,SAAS,KAAK2B,OAApB;AACA,oBAAMI,cAAc,KAAKC,aAAL,CAAmBF,eAAnB,EAAoC,GAApC,EAAyC,CAAC,CAAD,CAAzC,EAAiD/5B,SAAjD,gBAApB;AACA,oBAAMk6B,eAAe,KAAKD,aAAL,CAAmBD,WAAnB,EAAgC,GAAhC,EAAqC3sE,OAAOygB,MAAP,CAAcmqD,MAAd,CAArC,CAArB;AACAiC,6BAAah4B,IAAb,CAAkB,UAAUi4B,KAAV,EAAiB;AAC/B,wBAAMvB,YAAYuB,MAAMvB,SAAxB;AACA,wBAAMwB,QAAQhiE,KAAK6hE,aAAL,CAAmB,IAAnB,EAAyB,GAAzB,EAA8BrB,SAA9B,EAAyC54B,SAAzC,CAAd;AACA,wBAAMi5B,cAAc7gE,KAAK6wD,QAAL,CAAclsB,OAAd,CAAsBs9B,cAAtB,CAAqCF,MAAMlB,WAA3C,CAApB;;AAH+B,gDAIGA,YAAYqB,iCAAZ,CAA8C3sD,SAA9C,CAJH;AAAA;AAAA,wBAIxB4sD,eAJwB;AAAA,wBAIPlgE,MAJO;;AAK/B,wBAAMmgE,uBAAuB,IAAI5hE,oDAAJ,CAAc2hE,eAAd,EAA+BlgE,MAA/B,CAA7B;AACA+/D,0BAAMl4B,IAAN,CAAW,UAAUj1C,CAAV,EAAaL,CAAb,EAAgB;AACvBgsE,kCAAUhsE,CAAV,EAAaoH,IAAb,CAAkBwmE,oBAAlB,EAAwC1tC,KAAxC,CAA8C,IAA9C;AACH,qBAFD;AAGH,iBATD;AAUH;AACD,mBAAO,IAAP;AACH;;;iCA/DgB;AACb,mBAAO,aAAP;AACH;;;wCAEuB;AACpB,mBAAO;AACHkT,2BAAc4R,4DAAd;AADG,aAAP;AAGH;;;qCAEoB;AACjB,mBAAO,SAAP;AACH;;;;EAnBqC6oB,kD;;AAArBvB,2E;;;;;;;;;;;AClDrB,uC;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;;IAEqBwB,Y;;;;;;;;;;;8CAWM;AACnB,mBAAO;AACHb,0BAAU;AADP,aAAP;AAGH;;;qCAdoB;AACjB,mBAAO,eAAP;AACH;;;wCAEuB;AACpB,mBAAO;AACH75B,2BAAc4R,4DAAd;AADG,aAAP;AAGH;;;;EATqCsnB,gD;;AAArBwB,2E;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHrB;;AAEA;AACA;AACA;;IAEqBC,S;;;;;;;;;;;8BAaVjR,Y,EAAcjqD,O,EAAS;AAAA;;AAC1B,gBAAIu5B,eAAJ;AACA,gBAAI4hC,kBAAJ;AACA,gBAAIC,WAAJ;AACA,gBAAI9hC,cAAJ;;AAJ0B,0BAStB,KAAKx9B,MAAL,EATsB;AAAA,gBAMtBykC,SANsB,WAMtBA,SANsB;AAAA,gBAOtB86B,SAPsB,WAOtBA,SAPsB;AAAA,gBAQtBC,SARsB,WAQtBA,SARsB;;AAU1B,gBAAMptD,YAAY+7C,aAAaY,WAAb,CAAyBtqD,KAA3C;AACA,gBAAM6tD,aAAa,KAAKiM,cAAL,EAAnB;AACA,gBAAIr6D,QAAQqN,QAAR,IAAoBa,SAApB,IAAiCA,UAAUuR,OAAV,EAArC,EAA0D;AACtD,uBAAO,IAAP;AACH;AACD,gBAAIzf,QAAQqN,QAAR,KAAqB,IAArB,IAA6B,CAACa,SAAlC,EAA6C;AACzC,qBAAKqtD,IAAL;AACA,uBAAO,IAAP;AACH;;AAED,gBAAMptD,UAAUD,UAAUpU,OAAV,EAAhB;AACA,gBAAM0hE,YAAY,KAAKhS,QAAL,CAAclsB,OAAd,CAAsBmxB,aAAtB,EAAlB;AACA,gBAAM7B,OAAO4O,UAAU5O,IAAvB;AACA,gBAAMG,aAAayO,UAAUplE,MAA7B;AACA,gBAAMA,SAAS6zD,aAAa7zD,MAA5B;AACA,gBAAM7B,OAAO4Z,QAAQ5Z,IAArB;AACA,gBAAMgK,eAAe2P,UAAU1P,eAAV,EAArB;AACA,gBAAMqwD,eAAeT,WAAWkM,eAAhC;;AAEA,gBAAMmB,WAAW,EAAjB;AACArlE,mBAAOnF,OAAP,CAAe,UAAC0E,KAAD,EAAW;AACtB,oBAAMmI,aAAaS,aAAa5I,KAAb,KAAuB4I,aAAa5I,KAAb,EAAoBkJ,KAA9D;AACA,oBAAM68D,UAAUnnE,KAAKhE,GAAL,CAAS;AAAA,2BAAK/C,EAAEsQ,UAAF,CAAL;AAAA,iBAAT,CAAhB;AACA,oBAAM69D,YAAY,CAAC,CAAC,GAAD,EAAM,CAAN,CAAD,EAAW,CAAC,GAAD,EAAM,CAAN,CAAX,EAAqB,CAAC,GAAD,EAAM,CAAN,CAArB,EAA+B,CAAC,GAAD,EAAM,CAAN,CAA/B,EAAyCv6D,IAAzC,CAA8C,UAACnM,GAAD,EAAS;AACrE,wBAAM2mE,YAAY7O,WAAW93D,IAAI,CAAJ,CAAX,EAAmBA,IAAI,CAAJ,CAAnB,CAAlB;AACA,2BAAO2mE,aAAaA,UAAUj/D,IAAV,OAAqB0F,oDAASA,CAACb,SAA5C,IACHo6D,UAAU3O,UAAV,GAAuB5xD,OAAvB,CAA+B1F,KAA/B,MAA0C,CAAC,CAD/C;AAEH,iBAJiB,CAAlB;AAKA,oBAAIgmE,cAAc9lE,SAAd,IAA2BtB,KAAK3C,MAApC,EAA4C;AACxC,wBAAM+K,OAAOg/D,UAAU,CAAV,CAAb;AACA,wBAAMnwB,OAAOohB,KAAKjwD,IAAL,EAAWg/D,UAAU,CAAV,CAAX,CAAb;AACA,wBAAMxtE,QAAQutE,QAAQ,CAAR,CAAd;AACAP,gCAAY3vB,KAAKqwB,YAAL,MAAuB,CAAnC;AACAT,yBAAK5vB,KAAK8F,aAAL,CAAmBnjD,KAAnB,IAA4BgtE,YAAY,CAAxC,GAA4C/M,WAAWjgB,OAA5D;AACA,wBAAM2tB,YAAY1xD,KAAKxD,GAAL,gCAAY,OAAK4iD,QAAL,CAAclsB,OAAd,CAAsBk7B,MAAtB,GAA+BjoE,GAA/B,CAAmC;AAAA,+BAASmqE,MAAMqB,WAAN,GAAoBp/D,IAApB,CAAT;AAAA,qBAAnC,CAAZ,EAAlB;AACA,wBAAMqkB,MAAM5W,KAAKxD,GAAL,gCAAY,OAAK4iD,QAAL,CAAclsB,OAAd,CAAsBk7B,MAAtB,GAA+BjoE,GAA/B,CAAmC;AAAA,+BAASmqE,MAAMsB,cAAN,GAAuBr/D,IAAvB,CAAT;AAAA,qBAAnC,CAAZ,EAAZ;AACA48B,6BAAS60B,WAAW70B,MAApB;AACAD,4BAAQ80B,WAAW90B,KAAnB;AACA,wBAAM2iC,UAAUb,KAAKU,YAAY,CAAjB,GAAqB96C,MAAM,CAA3C;AACA,wBAAMk7C,QAAQd,KAAKU,YAAY,CAAjB,GAAqB96C,MAAM,CAAzC;AACA,wBAAMm7C,YAAY,EAAlB;AACA,wBAAIx/D,SAAS,GAAb,EAAkB;AACdw/D,kCAAU3uE,CAAV,YAAqByuE,OAArB,aAAoCC,KAApC,WAA+C5iC,KAA/C,SAAwD4iC,KAAxD,WAAmE5iC,KAAnE,SAA4E2iC,OAA5E;AACH,qBAFD,MAEO;AACHE,kCAAU3uE,CAAV,UAAmByuE,OAAnB,aAAkCC,KAAlC,aAA+CA,KAA/C,SAAwD3iC,MAAxD,WAAoE0iC,OAApE,SAA+E1iC,MAA/E;AACH;AACD4iC,8BAAU57B,SAAV,GAAsBu7B,YAAYT,SAAZ,GAAwBC,SAA9C;AACAG,6BAAStqE,IAAT,CAAcgrE,SAAd;AACH;AACJ,aA7BD;AA8BA,gBAAIV,SAAS7pE,MAAb,EAAqB;AACjB,oBAAM2oE,cAAc,KAAKC,aAAL,CAAmB3L,YAAnB,EAAiC,GAAjC,EAAsC,CAAC,CAAD,CAAtC,EAA2CtuB,SAA3C,CAApB;AACA,oBAAMjlC,OAAO,KAAKk/D,aAAL,CAAmBD,WAAnB,EAAgC,MAAhC,EAAwCkB,QAAxC,CAAb;AACAngE,qBAAK4mC,IAAL,CAAU,GAAV,EAAe;AAAA,2BAAK10C,EAAEA,CAAP;AAAA,iBAAf,EAAyB6zC,KAAzB,CAA+B,gBAA/B,EAAiD,MAAjD,EACiBa,IADjB,CACsB,OADtB,EAC+B;AAAA,2BAAK10C,EAAE+yC,SAAP;AAAA,iBAD/B;AAEH;AACD,mBAAO,IAAP;AACH;;;+BAEO;AACJ,gBAAMA,YAAY,KAAKzkC,MAAL,GAAcykC,SAAhC;AACA,gBAAM6tB,aAAa,KAAKiM,cAAL,EAAnB;AACA/3B,4EAAaA,CAAC8rB,WAAWkM,eAAzB,EAA0CjtB,SAA1C,OAAwD9M,SAAxD,EAAqEqC,MAArE;AACH;;;wCArFuB;AACpB,mBAAO;AACHrC,2BAAc4R,4DAAd,qBADG;AAEHkpB,2BAAclpB,4DAAd,eAFG;AAGHmpB,2BAAcnpB,4DAAd;AAHG,aAAP;AAKH;;;qCAEoB;AACjB,mBAAO,WAAP;AACH;;;;EAXkC6oB,kD;;AAAlBE,wE;;;;;;;;;;;ACNrB,uC;;;;;;;;;;;;;;;;;;;;;;ACAA;;IAEqBkB,Y;;;;;;;;;;;8BAaVnS,Y,EAAcjqD,O,EAAS;AAC1B,gBAAMs9B,UAAU,KAAKksB,QAAL,CAAclsB,OAA9B;AACA,gBAAM++B,aAAapS,aAAaY,WAAb,CAAyBtqD,KAA5C;AACA,gBAAIP,QAAQqN,QAAR,KAAqB,IAAzB,EAA+B;AAC3BiwB,wBAAQg/B,YAAR,GAAuBC,SAAvB;AACH,aAFD,MAEO;AACHj/B,wBAAQk/B,aAAR,GAAwBjoE,IAAxB,CAA6B8nE,UAA7B;AACH;AACD,mBAAO,IAAP;AACH;;;qCArBoB;AACjB,mBAAO,QAAP;AACH;;;iCAEgB;AACb,mBAAO,aAAP;AACH;;;kCAEiB;AACd,mBAAO,IAAP;AACH;;;;EAXqCI,kD;;AAArBL,2E;;;;;;;;;;;;;;;;;;ACFrB;;AAEA;;;;;;;;;;;;IAWqBM,iB;AACjB,+BAAalT,QAAb,EAAuB;AAAA;;AACnB,aAAKA,QAAL,GAAgBA,QAAhB;AACA,aAAKC,QAAL,GAAgB,IAAhB;AACA,aAAKkT,SAAL,GAAiB,SAAjB;AACA,aAAK58C,OAAL,GAAe,EAAf;AACA,aAAKi1B,GAAL,GAAWnsB,8DAAWA,EAAtB;AACA,aAAK+zC,WAAL,GAAmB,EAAnB;AACA,aAAK9gE,MAAL,CAAY,KAAK9C,WAAL,CAAiBumC,aAAjB,EAAZ;AACH;;AAED;;;;;;;;;;;;AAmCA;;;;;;;;;;iCAUmB;AACf,gBAAI,UAAO3tC,MAAX,EAAmB;AACf,qBAAKmuB,OAAL,GAAe0Y,iEAAcA,CAAC,KAAK1Y,OAApB,mDAAf;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,OAAZ;AACH;;;kCAEU;AACP,iBAAK0pC,QAAL,GAAgB,KAAhB;AACA,mBAAO,IAAP;AACH;;;iCAES;AACN,iBAAKA,QAAL,GAAgB,IAAhB;AACA,mBAAO,IAAP;AACH;;;oCAEY;AACT,mBAAO,KAAKA,QAAZ;AACH;;AAED;;;;;;;;;;;;;;;;;;;;;;;;gCAqBS;AACL,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;;oCAQah8D,I,EAAMuT,E,EAAI;AACnB,iBAAK47D,WAAL,CAAiBnvE,IAAjB,IAAyBuT,EAAzB;AACA,mBAAO,IAAP;AACH;;;wCAjGuB;AACpB,mBAAO,EAAP;AACH;;AAED;;;;;;;;;qCAMqB;AACjB,mBAAO,SAAP;AACH;;;iCAEgB;AACb,mBAAO,KAAP;AACH;;AAED;;;;;;;;;;kCAOkB;AACd,mBAAO,KAAP;AACH;;;;;;AA5CgB07D,gF;;;;;;;;;;;;ACbrB;AAAA;AAAA;;AAEeA,0HAAf,E;;;;;;;;;;;;ACFA;AAAA;AAAO,IAAMG,gBAAgB,SAAhBA,aAAgB,CAACC,KAAD,EAAQ5mB,MAAR,EAAgB6mB,cAAhB,EAAmC;AAC5D,QAAI/4C,UAAJ;AACA,QAAIuV,eAAJ;AACA,QAAItf,UAAJ;AACA,QAAIqf,cAAJ;AACA,QAAInsC,UAAJ;AACA,QAAM6zB,MAAM,CAAZ;AACA,QAAMxQ,MAAMssD,MAAMlrE,MAAlB;AACA,QAAMorE,oBAAoB,SAApBA,iBAAoB,CAACC,QAAD,EAAWC,SAAX,EAAsBC,QAAtB,EAAmC;AACzDljD,YAAIgjD,SAAShjD,CAAb;AACAqf,gBAAQ2jC,SAAS3jC,KAAjB;AACAtV,YAAIi5C,SAASj5C,CAAb;AACAuV,iBAAS0jC,SAAS1jC,MAAlB;AACA,YAAMhF,SAASvQ,IAAIuV,MAAnB;AACA,YAAM2d,QAAQj9B,IAAIqf,KAAlB;;AAEA,YAAIyjC,cAAJ,EAAoB;AAChB,gBAAII,WAAWn5C,IAAKk5C,UAAUl5C,CAAV,GAAck5C,UAAU3jC,MAAxC,GAAkDhF,SAAS2oC,UAAUl5C,CAAzE,EAA4E;AACxEk5C,0BAAUl5C,CAAV,GAAcm5C,WAAWF,SAASj5C,CAAT,GAAak5C,UAAU3jC,MAAvB,GAAgCvY,GAA3C,GACNuT,SAASvT,GADjB;AAEH;AACJ,SALD,MAKO,IAAIm8C,WAAWljD,IAAKijD,UAAUjjD,CAAV,GAAcijD,UAAU5jC,KAAxC,GAAiD4d,QAAQgmB,UAAUjjD,CAAvE,EAA0E;AAC7EijD,sBAAUjjD,CAAV,GAAckjD,WAAWF,SAAShjD,CAAT,GAAaijD,UAAU5jC,KAAvB,GAA+BtY,GAA1C,GACNk2B,QAAQl2B,GADhB;AAEH;AACJ,KAjBD;;AAmBA87C,UAAM1iE,IAAN,CAAW,UAACwZ,CAAD,EAAIC,CAAJ;AAAA,eAAWkpD,iBAAiBnpD,EAAEoQ,CAAF,GAAMnQ,EAAEmQ,CAAzB,GAA6BpQ,EAAEqG,CAAF,GAAMpG,EAAEoG,CAAhD;AAAA,KAAX;AACA9sB,QAAI,CAAJ;;AAEA,SAAKA,IAAI,CAAT,EAAYA,IAAIqjB,MAAM,CAAtB,EAAyBrjB,GAAzB,EAA8B;AAC1B6vE,0BAAkBF,MAAM3vE,CAAN,CAAlB,EAA4B2vE,MAAM3vE,IAAI,CAAV,CAA5B;AACH;;AAED,QAAK2vE,MAAM3vE,CAAN,EAAS62B,CAAT,GAAa84C,MAAM3vE,CAAN,EAASosC,MAAvB,GAAiC2c,OAAO3c,MAAxC,IACKujC,MAAM3vE,CAAN,EAAS8sB,CAAT,GAAa6iD,MAAM3vE,CAAN,EAASmsC,KAAvB,GAAgC4c,OAAO5c,KAD/C,EACsD;AAClD,YAAIyjC,cAAJ,EAAoB;AAChBD,kBAAM3vE,CAAN,EAAS62B,CAAT,IAAe84C,MAAM3vE,CAAN,EAASosC,MAAT,GAAkBujC,MAAM3vE,CAAN,EAAS62B,CAA5B,GAAiCkyB,OAAO3c,MAAtD;AACH,SAFD,MAEO;AACHujC,kBAAM3vE,CAAN,EAAS8sB,CAAT,IAAe6iD,MAAM3vE,CAAN,EAASmsC,KAAT,GAAiBwjC,MAAM3vE,CAAN,EAAS8sB,CAA3B,GAAgCi8B,OAAO5c,KAArD;AACH;AACD,aAAKnsC,IAAIqjB,MAAM,CAAf,EAAkBrjB,IAAI,CAAtB,EAAyBA,GAAzB,EAA8B;AAC1B6vE,8BAAkBF,MAAM3vE,CAAN,CAAlB,EAA4B2vE,MAAM3vE,IAAI,CAAV,CAA5B,EAA0C,IAA1C;AACH;AACJ;AACD,WAAO2vE,KAAP;AACH,CA9CM,C;;;;;;;;;;;;ACAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;ACNA;AACA;;IAEqBM,iB;;;;;;;;;;;8CAWM;AACnB,mBAAO;AACHhD,0BAAU;AADP,aAAP;AAGH;;;qCAdoB;AACjB,mBAAO,oBAAP;AACH;;;wCAEuB;AACpB,mBAAO;AACH75B,2BAAc4R,4DAAd;AADG,aAAP;AAGH;;;;EAT0CsnB,gD;;AAA1B2D,gF;;;;;;;;;;;;;;;;;;;;;;;ACHrB;AACA;;IAEqBC,e;;;AACjB,+BAAwB;AAAA;;AAAA;;AAAA,0CAARphE,MAAQ;AAARA,kBAAQ;AAAA;;AAAA,iKACXA,MADW;;AAEpB,cAAK0gE,SAAL,GAAiB,WAAjB;AACA,cAAKC,WAAL,GAAmBvY,oDAAnB;AAHoB;AAIvB;;;;8BAUM4F,Y,EAAcjqD,O,EAAuB;AAAA,gBAAdxL,OAAc,uEAAJ,EAAI;;AACxC,gBAAMk0D,WAAW,KAAKkU,WAAL,CAAiBpoE,QAAQk0D,QAAR,IAAoB,KAAKiU,SAA1C,CAAjB;;AAEA,gBAAI1S,aAAaS,oBAAb,KAAsC,KAA1C,EAAiD;AAC7ChC,yBAASuB,YAAT,EAAuB,IAAvB,EAA6Bz1D,QAAQk0D,QAAR,IAAoB,KAAKiU,SAAtD;AACH;;AAED,mBAAO,IAAP;AACH;;;qCAhBoB;AACjB,mBAAO,aAAP;AACH;;;iCAEgB;AACb,mBAAO,aAAP;AACH;;;;EAbwCF,kD;;AAAxBY,8E;;;;;;;;;;;;ACHrB;AAAA;AAAA,IAAMC,SAAS,SAATA,MAAS,CAAC9lD,GAAD,EAAM8lB,OAAN,EAAeorB,QAAf,EAA4B;AAAA,QAEnCmC,WAFmC,GAMnCrzC,GANmC,CAEnCqzC,WAFmC;AAAA,QAGnCE,UAHmC,GAMnCvzC,GANmC,CAGnCuzC,UAHmC;AAAA,QAInCT,OAJmC,GAMnC9yC,GANmC,CAInC8yC,OAJmC;AAAA,QAKnCC,WALmC,GAMnC/yC,GANmC,CAKnC+yC,WALmC;;;AAQvC,QAAI,CAACM,YAAYj5D,MAAb,IAAuB,CAACm5D,WAAWn5D,MAAvC,EAA+C;AAC3C0rC,gBAAQigC,qBAAR,CAA8BhT,WAA9B,EAA2C,EAA3C,EAA+C7B,QAA/C,EAAyD,KAAzD;AACH,KAFD,MAEO;AACHprB,gBAAQigC,qBAAR,CAA8BjT,QAAQ,CAAR,CAA9B,EAA0C,EAA1C,EAA8C5B,QAA9C,EAAwD,IAAxD;AACAprB,gBAAQigC,qBAAR,CAA8B1S,WAA9B,EAA2C,EAA3C,EAA+CnC,QAA/C,EAAyD,KAAzD;AACH;AACJ,CAdD;;AAgBO,IAAMrE,aAAa;AACtBmZ,UAAMF,MADgB;AAEtBG,WAAO,eAACjmD,GAAD,EAAM8lB,OAAN,EAAkB;AAAA,YAEjButB,WAFiB,GAKjBrzC,GALiB,CAEjBqzC,WAFiB;AAAA,YAGjBE,UAHiB,GAKjBvzC,GALiB,CAGjBuzC,UAHiB;AAAA,YAIjBR,WAJiB,GAKjB/yC,GALiB,CAIjB+yC,WAJiB;;AAMrB,YAAI,CAACM,YAAYj5D,MAAb,IAAuB,CAACm5D,WAAWn5D,MAAvC,EAA+C;AAC3C0rC,oBAAQigC,qBAAR,CAA8BhT,WAA9B,EAA2C,EAA3C,EAA+C,OAA/C,EAAwD,KAAxD;AACH,SAFD,MAEO;AACHjtB,oBAAQigC,qBAAR,CAA8BxS,UAA9B,EAA0C,EAA1C,EAA8C,OAA9C,EAAuD,IAAvD;AACAztB,oBAAQigC,qBAAR,CAA8B1S,WAA9B,EAA2C,EAA3C,EAA+C,OAA/C,EAAwD,KAAxD;AACH;AACJ,KAdqB;AAetB6S,eAAW,mBAAClmD,GAAD,EAAM8lB,OAAN,EAAkB;AAAA,YAErButB,WAFqB,GAOrBrzC,GAPqB,CAErBqzC,WAFqB;AAAA,YAGrBE,UAHqB,GAOrBvzC,GAPqB,CAGrBuzC,UAHqB;AAAA,YAIrBV,QAJqB,GAOrB7yC,GAPqB,CAIrB6yC,QAJqB;AAAA,YAKrBC,OALqB,GAOrB9yC,GAPqB,CAKrB8yC,OALqB;AAAA,YAMrBC,WANqB,GAOrB/yC,GAPqB,CAMrB+yC,WANqB;;AAQzB,YAAI,CAACM,YAAYj5D,MAAb,IAAuB,CAACm5D,WAAWn5D,MAAvC,EAA+C;AAC3C0rC,oBAAQigC,qBAAR,CAA8BhT,WAA9B,EAA2C,EAA3C,EAA+C,WAA/C,EAA4D,KAA5D;AACH,SAFD,MAEO;AACHjtB,oBAAQigC,qBAAR,CAA8BlT,SAAS,CAAT,CAA9B,EAA2C,EAA3C,EAA+C,WAA/C,EAA4D,IAA5D;AACA/sB,oBAAQigC,qBAAR,CAA8BjT,QAAQ,CAAR,CAA9B,EAA0C,EAA1C,EAA8C,WAA9C,EAA2D,KAA3D;AACH;AACJ;AA7BqB,CAAnB,C;;;;;;;;;;;;;;;;;;AChBP;;AAEO,IAAMqT,8BAA8B,SAA9BA,2BAA8B,CAAC39D,OAAD,EAAU4sD,IAAV,EAAgBG,UAAhB,EAA+B;AACtE,QAAI6Q,WAAJ;AACA,QAAIvN,WAAJ;AACA,QAAIwN,WAAJ;AACA,QAAIzN,WAAJ;AACA,QAAIzC,eAAJ;AACA,QAAIC,eAAJ;AACA,QAAIkQ,kBAAJ;AACA,QAAMzwD,WAAWrN,QAAQqN,QAAzB;AACA,QAAM8N,aAAanb,QAAQmb,UAAR,IAAsB,EAAzC;AACA,QAAM4iD,OAAO5iD,WAAWlB,CAAxB;AACA,QAAM+jD,OAAO7iD,WAAW6I,CAAxB;;AAEA,QAAI3W,aAAa,IAAjB,EAAuB;AACnB,eAAO,IAAP;AACH;;AAED,QAAMw/C,QAAQD,KAAK3yC,CAAL,CAAO,CAAP,CAAd;AACA,QAAM6yC,QAAQF,KAAK5oC,CAAL,CAAO,CAAP,CAAd;AACA,QAAMi6C,UAAUpR,MAAM7zD,WAAN,CAAkB2D,IAAlB,OAA6B,QAA7C;AACA,QAAMuhE,UAAUpR,MAAM9zD,WAAN,CAAkB2D,IAAlB,OAA6B,QAA7C;AACA,QAAMqwD,cAAYD,WAAW9yC,CAAX,CAAa,CAAb,CAAlB;AACA,QAAMizC,cAAYH,WAAW/oC,CAAX,CAAa,CAAb,CAAlB;AACA,QAAMm6C,YAAY9wD,SAAS2/C,MAAT,CAAlB;AACA,QAAMoR,YAAY/wD,SAAS6/C,MAAT,CAAlB;;AAEA,QAAIiR,aAAaA,UAAU,CAAV,aAAwBjpE,KAAzC,EAAgD;AAC5Cy4D,iBAASwQ,UAAU,CAAV,CAAT;AACAvQ,iBAASuQ,UAAU,CAAV,CAAT;AACH,KAHD,MAGO;AACHxQ,iBAASwQ,aAAa,EAAtB;AACAvQ,iBAASwQ,aAAa,EAAtB;AACH;AACDN,gBAAYK,aAAaC,SAAb,GAAyB,MAAzB,GAAmCD,YAAY,UAAZ,GAAyB,YAAxE;AACA,QAAIxQ,UAAUA,OAAO/7D,MAArB,EAA6B;AACzB,YAAKk7D,MAAM9zD,WAAN,CAAkB2D,IAAlB,OAA6B,MAA7B,IAAuCshE,OAA5C,EAAsD;AAClDL,iBAAKvN,KAAKx6D,SAAV;AACAioE,wBAAY,YAAZ;AACH,SAHD,MAGO;AACH,gBAAM33D,SAAS0mD,MAAM1mD,MAAN,EAAf;AACA,gBAAMk4D,YAAYxR,MAAM7zD,WAAN,CAAkB2D,IAAlB,OAA6B,MAA/C;AACA,gBAAI2hE,cAAJ;AACA,gBAAIC,cAAJ;AACA,gBAAIF,SAAJ,EAAe;AACX,oBAAIG,gBAAgBr4D,OAAO9K,OAAP,CAAesyD,OAAO,CAAP,CAAf,CAApB;AACA,oBAAI8Q,gBAAgBt4D,OAAO9K,OAAP,CAAesyD,OAAOA,OAAO/7D,MAAP,GAAgB,CAAvB,CAAf,CAApB;;AAFW,4BAGsB,CAAC4sE,aAAD,EAAgBC,aAAhB,EAA+BrkE,IAA/B,CAAoC,UAACwZ,CAAD,EAAIC,CAAJ;AAAA,2BAAUD,IAAIC,CAAd;AAAA,iBAApC,CAHtB;;AAAA;;AAGV2qD,6BAHU;AAGKC,6BAHL;;AAIXH,wBAAQn4D,OAAOq4D,aAAP,CAAR;AACAD,wBAAQp4D,OAAOs4D,aAAP,CAAR;AACH,aAND,MAMO;AACHH,wBAAQ3Q,OAAO,CAAP,CAAR;AACA4Q,wBAAQ5Q,OAAOA,OAAO/7D,MAAP,GAAgB,CAAvB,CAAR;AACH;AACDgsE,iBAAK/Q,MAAMvb,aAAN,CAAoBgtB,KAApB,CAAL;AACAjO,iBAAKxD,MAAMvb,aAAN,CAAoBitB,KAApB,CAAL;AACAlO,kBAAMgO,YAAYxR,MAAMgP,YAAN,EAAZ,GAAmC,CAAzC;AACH;AACJ,KAvBD,MAuBO;AACH+B,aAAKvN,KAAKx6D,SAAV;AACH;AACD,QAAI+3D,UAAUA,OAAOh8D,MAArB,EAA6B;AACzB,YAAKi7D,MAAM7zD,WAAN,CAAkB2D,IAAlB,OAA6B,MAA7B,IAAuCuhE,OAA5C,EAAsD;AAClDL,iBAAKzN,KAAKv6D,SAAV;AACAioE,wBAAY,UAAZ;AACH,SAHD,MAGO;AACH,gBAAM33D,UAAS2mD,MAAM3mD,MAAN,EAAf;AACA,gBAAMk4D,aAAYvR,MAAM9zD,WAAN,CAAkB2D,IAAlB,OAA6B,MAA/C;AACA,gBAAI+hE,cAAJ;AACA,gBAAIC,cAAJ;AACA,gBAAIN,UAAJ,EAAe;AACX,oBAAIO,gBAAgBz4D,QAAO9K,OAAP,CAAeuyD,OAAO,CAAP,CAAf,CAApB;AACA,oBAAIiR,gBAAgB14D,QAAO9K,OAAP,CAAeuyD,OAAOA,OAAOh8D,MAAP,GAAgB,CAAvB,CAAf,CAApB;;AAFW,6BAGsB,CAACgtE,aAAD,EAAgBC,aAAhB,EAA+BzkE,IAA/B,CAAqC,UAACwZ,CAAD,EAAIC,CAAJ;AAAA,2BAAUA,IAAID,CAAd;AAAA,iBAArC,CAHtB;;AAAA;;AAGVgrD,6BAHU;AAGKC,6BAHL;;AAIXH,wBAAQv4D,QAAOy4D,aAAP,CAAR;AACAD,wBAAQx4D,QAAO04D,aAAP,CAAR;AACH,aAND,MAMO;AACHH,wBAAQ9Q,OAAO,CAAP,CAAR;AACA+Q,wBAAQ/Q,OAAOA,OAAOh8D,MAAP,GAAgB,CAAvB,CAAR;AACH;AACDisE,iBAAK/Q,MAAMxb,aAAN,CAAoBotB,KAApB,CAAL;AACAtO,iBAAKtD,MAAMxb,aAAN,CAAoBqtB,KAApB,CAAL;AACAvO,kBAAMtD,MAAM9zD,WAAN,CAAkB2D,IAAlB,OAA6B,MAA7B,GAAsCmwD,MAAM+O,YAAN,EAAtC,GAA6D,CAAnE;AACH;AACJ,KAvBD,MAuBO;AACHgC,aAAKzN,KAAKv6D,SAAV;AACH;;AAED,QAAKqoE,WAAWD,OAAZ,IAAwB,CAACj+D,QAAQ0uD,OAArC,EAA8C;AAC1C,YAAIqP,IAAJ,EAAU;AAAA,uCACKA,IADL;;AACLH,cADK;AACDvN,cADC;AAET;AACD,YAAI2N,IAAJ,EAAU;AAAA,uCACKA,IADL;;AACLH,cADK;AACDzN,cADC;AAET;AACJ;;AAED,WAAO;AACH0O,mBAAW;AACPlB,kBADO;AAEPvN,kBAFO;AAGPwN,kBAHO;AAIPzN;AAJO,SADR;AAOH0N;AAPG,KAAP;AASH,CAzGM;;AA2GA,IAAMiB,mBAAmB,SAAnBA,gBAAmB,CAACzhC,OAAD,EAAUg9B,eAAV,EAA2B0E,OAA3B,EAAuC;AACnE,QAAMljE,SAASwhC,QAAQxhC,MAAR,EAAf;AACA,QAAMykC,YAAYzkC,OAAOo2C,YAAzB;AACA,QAAMtQ,cAAc9lC,OAAO8lC,WAA3B;AACAU,oEAAaA,CAACg4B,eAAd,EAA+BjtB,SAA/B,OAA6CzL,WAA7C,SAA4DrB,SAA5D,EACiBc,KADjB,CACuB,SADvB,EACkC29B,UAAU,OAAV,GAAoB,MADtD;AAEH,CANM,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7GP;AAMA;AACA;AACA;AACA;AACA;;AAEA;;;;;;IAKMC,Y;;;;;;;;;;;;;AAwBF;;;;;;;;;;;8BAWOhV,Y,EAAcjqD,O,EAAS;AAC1B,gBAAIia,UAAJ;AACA,gBAAI+J,UAAJ;AACA,gBAAIsV,cAAJ;AACA,gBAAIC,eAAJ;AACA,gBAAMz9B,SAAS,KAAKikB,OAApB;AACA,gBAAMm/C,UAAUpjE,OAAOqjE,GAAvB;AACA,gBAAM3V,WAAW,KAAKA,QAAtB;AACA,gBAAM4E,aAAa,KAAKiM,cAAL,EAAnB;AACA,gBAAMzqC,aAAaw+B,WAAWkM,eAA9B;AACA,gBAAM8E,YAAYhR,WAAW90B,KAA7B;AACA,gBAAM+lC,aAAajR,WAAW70B,MAA9B;AACA,gBAAMqI,cAAc9lC,OAAO8lC,WAA3B;AACA,gBAAM09B,0BAA0BxjE,OAAOo2C,YAAvC;;AAEA,gBAAIlyC,QAAQqN,QAAR,KAAqB,IAAzB,EAA+B;AAC3B,qBAAKkuD,IAAL,CAAUnN,UAAV;AACA,uBAAO,IAAP;AACH;;AAED,gBAAMoN,YAAYhS,SAASlsB,OAAT,CAAiBmxB,aAAjB,EAAlB;;AApB0B,wCAqBOkP,2EAA2BA,CAAC39D,OAA5B,EAAqCw7D,UAAU5O,IAA/C,EAC7B4O,UAAUplE,MADmB,CArBP;AAAA,gBAqBlB0oE,SArBkB,yBAqBlBA,SArBkB;AAAA,gBAqBPhB,SArBO,yBAqBPA,SArBO;;AAuB1B,gBAAMhxB,aAAa9sC,QAAQ0uD,OAAR,IAAmB5yD,OAAOgxC,UAA7C;;AAEA,gBAAIgxB,cAAc,MAAd,IAAwBA,cAAc,UAA1C,EAAsD;AAClD7jD,oBAAI7P,KAAK3D,GAAL,CAASq4D,UAAUlB,EAAnB,EAAuBkB,UAAUzO,EAAjC,CAAJ;AACA/2B,wBAAQlvB,KAAKmf,GAAL,CAASu1C,UAAUzO,EAAV,GAAeyO,UAAUlB,EAAlC,CAAR;AACH,aAHD,MAGO;AACH3jD,oBAAI,CAAJ;AACAqf,wBAAQ8lC,SAAR;AACH;AACD,gBAAItB,cAAc,MAAd,IAAwBA,cAAc,YAA1C,EAAwD;AACpD95C,oBAAI5Z,KAAK3D,GAAL,CAASq4D,UAAUjB,EAAnB,EAAuBiB,UAAU1O,EAAjC,CAAJ;AACA72B,yBAASnvB,KAAKmf,GAAL,CAASu1C,UAAU1O,EAAV,GAAe0O,UAAUjB,EAAlC,CAAT;AACH,aAHD,MAGO;AACHtkC,yBAAS8lC,UAAT;AACAr7C,oBAAI,CAAJ;AACH;AACD,iBAAK6c,IAAL,CAAUutB,UAAV;AACA;AACA,gBAAMmR,SAAS,CACX;AACItlD,oBADJ;AAEI+J,oBAFJ;AAGIsV,4BAHJ;AAIIC;AAJJ,aADW,CAAf;AAQA;AACA,gBAAMimC,iBAAiB9+B,8DAAWA,CAAC4B,gEAAaA,CAAC1S,UAAd,CAAZ,EAAuC,GAAvC,EAA4C,CAAC,CAAD,CAA5C,QACfgS,WADe,SACA09B,uBADA,CAAvB;AAEA,gBAAM5L,aAAa,IAAnB;AACA,gBAAM+L,YAAYD,eAAenyB,SAAf,CAAyB,MAAzB,EAAiC94C,IAAjC,CAAsCgrE,MAAtC,CAAlB;AACA,gBAAMrN,eAAeuN,UAAUC,KAAV,GAAkBjxC,MAAlB,CAAyB,MAAzB,EACJgU,IADI,CACC,YAAY;AACdstB,6GAAgBA,CAACvG,QAAjB,EAA2BlnB,gEAAaA,CAAC,IAAd,CAA3B,EAAgD,CAAC,OAAD,CAAhD,EAA2DoxB,UAA3D;AACH,aAHI,EAIJr2C,KAJI,CAIEoiD,SAJF,EAKJh9B,IALI,CAKC,UAAUk9B,KAAV,EAAiB;AACnB,oBAAIC,UAAUt9B,gEAAaA,CAAC,IAAd,CAAd;AACAwK,+BAAe8yB,UAAUA,QAAQ9yB,UAAR,GAAqBC,QAArB,CAA8BD,WAAWC,QAAzC,CAAzB;AACA,qBAAK,IAAMt+C,GAAX,IAAkBkxE,KAAlB,EAAyB;AACrB,wBAAI,GAAG1wE,cAAH,CAAkB5B,IAAlB,CAAuBsyE,KAAvB,EAA8BlxE,GAA9B,CAAJ,EAAwC;AACpCoxE,uFAAYA,CAACF,MAAMlxE,GAAN,CAAb,KAA4BmxE,QAAQ19B,IAAR,CAAazzC,GAAb,EAAkBkxE,MAAMlxE,GAAN,CAAlB,CAA5B;AACH;AACJ;AACJ,aAbI,CAArB;AAcA;AACA,gBAAMqxE,eAAeC,wEAAqBA,CAACb,QAAQhtB,YAA9B,EAA4C,KAAK8C,GAAjD,EAAsDpT,WAAtD,CAArB;AACAswB,yBAAapwB,OAAb,CAAqBg+B,aAAapvE,IAAb,CAAkB,GAAlB,CAArB,EAA6C,IAA7C;AACAwhE,yBAAapwB,OAAb,CAAqBo9B,QAAQ3+B,SAA7B,EAAwC,IAAxC;;AAEA,mBAAO,IAAP;AACH;;;6BAEK6tB,U,EAAY;AACd2Q,4EAAgBA,CAAC,IAAjB,EAAuB3Q,WAAWkM,eAAlC,EAAmD,KAAnD;AACH;;;6BAEKlM,U,EAAY;AACd2Q,4EAAgBA,CAAC,IAAjB,EAAuB3Q,WAAWkM,eAAlC,EAAmD,IAAnD;AACH;;;;AApHD;;;;wCAIwB;AACpB,mBAAO;AACHpoB,8BAAc,qBADX;AAEH3R,2BAAW,EAFR;AAGHqB,6BAAauQ,4DAHV;AAIHgtB,qBAAK;AACDjtB,kCAAc,eADb;AAED3R,+BAAW;AAFV,iBAJF;AAQHuM,4BAAY;AACRC,8BAAU;AADF;AART,aAAP;AAYH;;;qCAEoB;AACjB,mBAAO,cAAP;AACH;;;;EAtBsBiuB,kD;;AAwHZiE,2EAAf,E;;;;;;;;;;;ACzIA,uC;;;;;;;;;;;;;;;;;;;;;;;ACAA;;AAEA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;IAwBqBjE,mB;;;;;;;;;;;;AACjB;;;;;;;;;;;sCAWegF,S,EAAWC,Q,EAAU1rE,I,EAAMgsC,S,EAAW2/B,S,EAAW;AAC5D,mBAAOx/B,8DAAWA,CAACs/B,SAAZ,EAAuBC,QAAvB,EAAiC1rE,IAAjC,EAAuCgsC,SAAvC,EAAkD2/B,SAAlD,CAAP;AACH;;AAED;;;;;;;;;;;;;;;;yCAamC;AAC/B,gBAAI,UAAetuE,MAAnB,EAA2B;AACvB,qBAAKuuE,eAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,eAAL,EAAP;AACH;;;+BAEO;AACJ,mBAAO,IAAP;AACH;;;+BAEO;AACJ,mBAAO,IAAP;AACH;;;;EA3C4CzD,gD;;AAA5B1B,kF;;;;;;;;;;;;;;;;;;;;;;AC5BrB;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;IAwBqByB,mB;;;;;;;;;;;;AACjB;;;;;;;;;;;;;;;;;;;;;;;;;;8CA0BuBjlD,G,EAA0C;AAAA,gBAArC1b,MAAqC,uEAA5B,EAA4B;AAAA,gBAAxBskE,eAAwB;AAAA,gBAAPxqE,KAAO;;AAC7D,gBAAM4iE,SAAS,KAAKhP,QAAL,CAAclsB,OAAd,CAAsBk7B,MAAtB,EAAf;AACAA,mBAAOvnE,OAAP,CAAe;AAAA,uBAASypE,MAAM5+D,MAAN,GAAey9D,WAAf,KAA+B,KAA/B,IACpBmB,MAAM6C,qBAAN,CAA4B6C,eAA5B,EAA6C5oD,IAAI3c,IAAjD,EAAuDjF,KAAvD,CADW;AAAA,aAAf;AAEA,mBAAO,IAAP;AACH;;;;EAhC4C8mE,gD;;AAA5BD,kF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1BrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;IAEqB4D,O;;;AACjB,uBAAwB;AAAA;;AAAA;;AAAA,0CAARpkE,MAAQ;AAARA,kBAAQ;AAAA;;AAAA,iJACXA,MADW;;AAEpB,cAAKqkE,SAAL,GAAiB,EAAjB;AACA,cAAK1D,WAAL,GAAmBvY,sDAAnB;AACA,cAAKsY,SAAL,GAAiB,SAAjB;AAJoB;AAKvB;;;;8BAgBM1S,Y,EAAcjqD,O,EAAuB;AAAA,gBAAdxL,OAAc,uEAAJ,EAAI;;AACxC,gBAAI+rE,cAAc,CAAlB;AACA,gBAAIC,aAAa,CAAjB;AACA,gBAAMtyD,YAAY+7C,aAAaY,WAAb,CAAyBtqD,KAA3C;AACA,gBAAM+8B,UAAU,KAAKksB,QAAL,CAAclsB,OAA9B;AACA,gBAAM8wB,aAAa,KAAKiM,cAAL,EAAnB;AACA,gBAAKnsD,UAAUuR,OAAV,MAAuBzf,QAAQqN,QAAR,KAAqB,IAA7C,IAAsD48C,aAAaS,oBAAb,KAAsC,KAAhG,EAAuG;AACnG,qBAAK6Q,IAAL,CAAU/mE,OAAV,EAAmB,IAAnB;AACA,uBAAO,IAAP;AACH;;AAED,gBAAMisE,WAAW,KAAKH,SAAtB;AACA,gBAAMxkE,SAAS,KAAKA,MAAL,EAAf;AACA,gBAAM4kE,WAAW;AACbpnC,uBAAO80B,WAAW90B,KADL;AAEbC,wBAAQ60B,WAAW70B;AAFN,aAAjB;AAIA,gBAAM01B,iBAAiBjvD,QAAQivD,cAA/B;AACA,gBAAMjuC,MAAMllB,OAAOkzC,OAAnB;AACA,gBAAM2xB,aAAa,EAAnB;AACA,gBAAMC,aAAa9kE,OAAOzN,IAAP,KAAgBohE,2DAAnC;AACA,gBAAM+L,YAAYl+B,QAAQmxB,aAAR,EAAlB;AACA,gBAAMr4D,SAASolE,UAAUplE,MAAzB;AACA,gBAAMyqE,YAAYzqE,OAAO6jB,CAAP,CAAS,CAAT,IAAc7jB,OAAO6jB,CAAP,CAAS,CAAT,EAAYtd,IAAZ,OAAuB0F,oDAASA,CAACb,SAA/C,GAA2D,KAA7E;AACA,gBAAMu7D,iBAAiB,CAAC,CAAC8D,SAAzB;AACA,gBAAMC,aAAa9gE,QAAQkvD,QAA3B;AACA,gBAAM4N,QAAQ,EAAd;AACA,gBAAM4C,QAAQ,EAAd;AACA,gBAAM7kE,OAAOqT,UAAUpU,OAAV,GAAoBe,IAAjC;AACA,gBAAI+lE,UAAJ,EAAgB;AACZD,2BAAWxvE,IAAX,sCAAmB0J,KAAKtK,GAAL,CAAS;AAAA,2BAAK2d,UAAUtK,MAAV,CAAiB,UAAChI,SAAD,EAAYzO,CAAZ;AAAA,+BAAkBA,MAAMK,CAAxB;AAAA,qBAAjB,EAA4C;AACzEuO,mCAAW;AAD8D,qBAA5C,CAAL;AAAA,iBAAT,CAAnB;AAGH,aAJD,MAIO;AACH4kE,2BAAWxvE,IAAX,CAAgB+c,SAAhB;AACH;;AAED,gBAAIlW,SAASgI,QAAQhI,MAArB;AACA,gBAAI2f,eAAe,EAAnB;AACA,gBAAI3f,MAAJ,EAAY;AACR2f,+BAAe3f,OAAO,CAAP,KAAa,EAA5B;AACA,oBAAMk/D,eAAel3D,QAAQk3D,YAA7B;AACA,oBAAM6J,UAAU,EAAhB;AACA,qBAAK,IAAI5zE,IAAI,CAAR,EAAWqjB,MAAMmH,aAAa/lB,MAAnC,EAA2CzE,IAAIqjB,GAA/C,EAAoDrjB,GAApD,EAAyD;AACrD,wBAAI+pE,aAAa77D,OAAb,CAAqBsc,aAAaxqB,CAAb,CAArB,MAA0C,CAAC,CAA/C,EAAkD;AAC9C4zE,gCAAQ5vE,IAAR,CAAahE,CAAb;AACH;AACJ;AACD6K,yBAASA,OAAOzH,GAAP,CAAW;AAAA,2BAAK/C,EAAE6hB,MAAF,CAAS,UAACf,CAAD,EAAInhB,CAAJ;AAAA,+BAAU4zE,QAAQ1lE,OAAR,CAAgBlO,CAAhB,MAAuB,CAAC,CAAlC;AAAA,qBAAT,CAAL;AAAA,iBAAX,CAAT;AACH;;AAED,gBAAM6zE,iBAAiB1jC,QAAQ2jC,4BAAR,CAAqCjpE,UAAUgI,QAAQqN,QAAvD,EAAiE;AACpF6zD,yBAAS;AAD2E,aAAjE,CAAvB;;AAIA;AACA,iBAAK,IAAI/zE,KAAI,CAAb,EAAgBA,KAAIwzE,WAAW/uE,MAA/B,EAAuCzE,IAAvC,EAA4C;AACxC,oBAAIg0E,UAAUH,eAAe7zE,EAAf,CAAd;AACA,oBAAIyzE,UAAJ,EAAgB;AACZ,wBAAMzlD,aAAawlD,WAAWxzE,EAAX,EAAc2M,OAAd,GAAwBc,MAAxB,CAA+ByU,MAA/B,CAAsC;AAAA,+BAAK7hB,EAAEmP,IAAF,KAAW0F,oDAASA,CAACb,SAA1B;AAAA,qBAAtC,EACdjR,GADc,CACV;AAAA,+BAAK/C,EAAEC,IAAP;AAAA,qBADU,CAAnB;AAEA0zE,8BAAU7jC,QAAQ2jC,4BAAR,CAAqCN,WAAWxzE,EAAX,EAAc0W,OAAd,CAAsBsX,UAAtB,CAArC,EAAwE,EAAE+lD,SAAS,IAAX,EAAxE,CAAV;AACAC,8BAAUA,WAAWA,QAAQ,CAAR,CAArB;AACH;;AAED,oBAAIC,KAAKT,WAAWxzE,EAAX,CAAT;AACA,oBAAI2O,OAAO1F,MAAX,EAAmB;AACfgrE,yBAAKA,GAAGv9D,OAAH,CAAW/H,OAAO1F,MAAlB,EAA0B;AAC3B2F,mCAAW;AADgB,qBAA1B,CAAL;AAGH;AACD,oBAAID,OAAOulE,aAAX,EAA0B;AACtBD,yBAAKtlE,OAAOulE,aAAP,CAAqBD,EAArB,EAAyBj0E,EAAzB,CAAL;AACH;;AAEDuyE,sBAAMvyE,EAAN,IAAW,IAAX;AACA,oBAAMm0E,kBAAkBlT,WAAWmT,eAAnC;AACA,oBAAMC,iBAAiBF,gBAAgBG,qBAAhB,EAAvB;AACA,oBAAMC,eAAetT,WAAWuT,aAAX,CAAyBF,qBAAzB,EAArB;;AAEA,oBAAMG,aAAaF,aAAazqB,IAAb,GAAoBuqB,eAAevqB,IAAtD;AACA,oBAAM4qB,YAAYH,aAAartC,GAAb,GAAmBmtC,eAAentC,GAApD;AACA,oBAAMytC,cAAcrB,SAAStzE,EAAT,IAAcszE,SAAStzE,EAAT,KAAe,IAAI40E,8DAAJ,CAAoBT,eAApB,EACzClT,WAAWS,YAD8B,CAAjD;;AAGA2M,0BAAUx7D,OAAV,GAAoBA,OAApB;AACAw7D,0BAAUhS,QAAV,GAAqB,KAAKA,QAA1B;AACAgS,0BAAUwG,YAAV,GAAyB1kC,QAAQ0kC,YAAR,EAAzB;AACAxG,0BAAUyG,SAAV,GAAsB3kC,QAAQ4kC,gBAAR,EAAtB;AACAJ,4BAAYxkC,OAAZ,CAAoBk+B,SAApB;AACA,oBAAM9S,WAAWrE,sDAAUA,CAAC7vD,QAAQk0D,QAAnB,CAAjB;AACAoZ,4BAAYK,OAAZ,CAAoB3tE,QAAQk0D,QAAR,IAAoB,KAAKiU,SAA7C,EAAwDyE,EAAxD,EAA4D;AACxDnnE,+BAAWyuD,QAD6C;AAExD1uD,2BAAOxF,QAAQwF;AAFyC,iBAA5D,EAIiB8B,MAJjB,CAIwB,KAAKA,MAAL,EAJxB,EAKiBo6C,MALjB,CAKwB;AACJj8B,uBAAG,CADC;AAEJ+J,uBAAG,CAFC;AAGJsV,2BAAOkoC,eAAeloC,KAHlB;AAIJC,4BAAQioC,eAAejoC;AAJnB,iBALxB,EAWiB+c,MAXjB,CAWwB;AACJr8B,uBAAG2nD,cAAc9lE,OAAOw6C,MAAP,CAAcr8B,CAAd,IAAmB,CAAjC,CADC;AAEJ+J,uBAAG69C,aAAa/lE,OAAOw6C,MAAP,CAActyB,CAAd,IAAmB,CAAhC;AAFC,iBAXxB;;AAgBA,oBAAIirC,cAAJ,EAAoB;AAChB6S,gCAAY5S,QAAZ,CAAqB4R,WAAW7mD,CAAX,GAAe+G,GAApC,EAAyC8/C,WAAW98C,CAAX,GAAehD,GAAxD;AACH,iBAFD,MAEO,IAAImgD,OAAJ,EAAa;AAChBW,gCAAYM,kBAAZ,CAA+B;AAC3BnoD,2BAAGknD,QAAQlnD,CADgB;AAE3B+J,2BAAGm9C,QAAQn9C,CAFgB;AAG3BsV,+BAAO6nC,QAAQ7nC,KAAR,IAAiB,CAHG;AAI3BC,gCAAQ4nC,QAAQ5nC,MAAR,IAAkB;AAJC,qBAA/B,EAKG;AACCsS,qCAAa+0B,aACR7D,iBAAiB,YAAjB,GAAgC,UADxB,GACsClnE;AAFpD,qBALH;AASH,iBAVM,MAUA;AACHisE,gCAAYvG,IAAZ;AACA;AACH;;AAED,oBAAIqF,UAAJ,EAAgB;AACZ,wBAAM1R,WAAW4S,YAAYO,SAA7B;AACA,wBAAMC,kBAAkBR,YAAYS,iBAAZ,CAA8Bz2C,IAA9B,GAAqC21C,qBAArC,EAAxB;;AAEAlB,mCAAe+B,gBAAgB/oC,MAAhB,GAAyBvY,GAAxC;AACAw/C,kCAAc8B,gBAAgBhpC,KAAhB,GAAwBtY,GAAtC;AACA,wBAAI+7C,iBAAiBwD,cAAcnS,WAAW70B,MAA1C,GAAmDinC,aAAapS,WAAW90B,KAA/E,EAAsF;AAClF;AACH;AACDwjC,0BAAM3rE,IAAN,CAAW;AACP8oB,2BAAGi1C,SAASj1C,CADL;AAEP+J,2BAAGkrC,SAASlrC,CAFL;AAGPsV,+BAAOgpC,gBAAgBhpC,KAHhB;AAIPC,gCAAQ+oC,gBAAgB/oC,MAJjB;AAKP+1B,iCAASwS;AALF,qBAAX;AAOH;AACJ;;AAED,iBAAK,IAAMrzE,GAAX,IAAkBgyE,QAAlB,EAA4B;AACxB,oBAAI,CAACf,MAAMjxE,GAAN,CAAL,EAAiB;AACb,wBAAM6gE,UAAUmR,SAAShyE,GAAT,CAAhB;AACA6gE,4BAAQ6S,OAAR,CAAgBniE,QAAQ2R,MAAxB,EAAgC,IAAhC;AACA,wBAAI,CAAC29C,QAAQkT,WAAR,GAAsB5wE,MAA3B,EAAmC;AAC/B09D,gCAAQ1sB,MAAR;AACA,+BAAO69B,SAAShyE,GAAT,CAAP;AACH;AACJ;AACJ;AACD,gBAAImyE,UAAJ,EAAgB;AACZ/D,6EAAaA,CAACC,KAAd,EAAqB4D,QAArB,EAA+B3D,cAA/B;AACAD,sBAAM7rE,OAAN,CAAc;AAAA,2BAAOkuE,IAAI7P,OAAJ,CAAYJ,QAAZ,CAAqBiQ,IAAIllD,CAAzB,EAA4BklD,IAAIn7C,CAAhC,EAAmC;AACpDy+C,yCAAiB;AADmC,qBAAnC,CAAP;AAAA,iBAAd;AAGH;AACD,mBAAO,IAAP;AACH;;;6BAEKjuE,O,EAAS;AACX,gBAAMisE,WAAW,KAAKH,SAAtB;AACA,iBAAK,IAAM7xE,GAAX,IAAkBgyE,QAAlB,EAA4B;AACxB,oBAAI,GAAGxxE,cAAH,CAAkB5B,IAAlB,CAAuBozE,QAAvB,EAAiChyE,GAAjC,CAAJ,EAA2C;AACvC,wBAAMi6D,WAAWl0D,QAAQk0D,QAAR,IAAoB,KAAKiU,SAA1C;AACA8D,6BAAShyE,GAAT,EAAc0zE,OAAd,CAAsBzZ,QAAtB,EAAgC,IAAhC;AACA+X,6BAAShyE,GAAT,EAAc8sE,IAAd;AACH;AACJ;AACJ;;;wCAzLuB;AACpB,mBAAO;AACHvsB,yBAAS,CADN;AAEHsH,wBAAQ;AACJr8B,uBAAG,CADC;AAEJ+J,uBAAG;AAFC;AAFL,aAAP;AAOH;;;qCAEoB;AACjB,mBAAO,SAAP;AACH;;;;EApBgCg3C,kD;;AAAhBqF,sE;;;;;;;;;;;;;;;;;ACTrB;;AAEO,IAAMhc,aAAa;AACtBqe,uBAAmB,2BAAC5uD,EAAD,EAAQ;AACvB,YAAM3F,UAAU2F,GAAGha,OAAH,EAAhB;AACA,YAAMwhB,WAAWnN,QAAQvT,MAAR,CAAeyU,MAAf,CAAsB;AAAA,mBAAK7hB,EAAEmP,IAAF,KAAW0F,oDAASA,CAACC,OAA1B;AAAA,SAAtB,CAAjB;AACA,YAAMqgE,kBAAkB7uD,GAAGnY,OAAH,CAAW,CAAC,EAAD,CAAX,EAAiB2f,SAASpgB,MAAT,CAAgB,UAACC,GAAD,EAAMmT,CAAN,EAAY;AACjEnT,gBAAImT,EAAE7gB,IAAN,IAAc6gB,EAAEjG,QAAF,KAAe,OAAf,GAAyB,KAAzB,GAAiCiG,EAAEjG,QAAjD;AACA,mBAAOlN,GAAP;AACH,SAHwC,EAGtC,EAHsC,CAAjB,CAAxB;AAIA,YAAM0C,YAAYiW,GAAGjX,aAAH,GAAmBgB,SAAnB,EAAlB;AACA,YAAM+kE,aAAaD,gBAAgBnkE,eAAhB,EAAnB;AACA,YAAI6P,SAAS,CAAC;AACVlgB,wBAAUggB,QAAQ5Z,IAAR,CAAa3C,MADb;AAEVyvC,mBAAO;AACH,+BAAe;AADZ;AAFG,SAAD,EAKV,gBALU,CAAb;AAMA,YAAMwhC,eAAevnD,SAAS/qB,GAAT,CAAa;AAAA,mBAAK/C,EAAEC,IAAP;AAAA,SAAb,CAArB;AACA,YAAIo1E,aAAajxE,MAAjB,EAAyB;AACrByc,kDAAaA,MAAb,GAAwB,OAAKxQ,UAAUglE,aAAa,CAAb,CAAV,EAA2Bx6D,QAA3B,GAAsC08C,WAAtC,EAAL,UAA6D8d,aAAa,CAAb,CAA7D,EACpB;AACI10E,4BAAUw0E,gBAAgB7oE,OAAhB,GAA0BvF,IAA1B,CAA+B,CAA/B,EAAkCquE,WAAWC,aAAa,CAAb,CAAX,EAA4BhkE,KAA9D,EAAqEikE,OAArE,CAA6E,CAA7E,CADd;AAEIzhC,uBAAO;AACH,mCAAe;AADZ;AAFX,aADoB,CAAxB;AAOH;AACD,eAAO,CAAChzB,MAAD,CAAP;AACH;AA3BqB,CAAnB,C;;;;;;;;;;;ACFP,uC;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAO,IAAMmiD,OAAO,MAAb;AACA,IAAMC,QAAQ,OAAd;AACA,IAAMC,gBAAgB,eAAtB;AACA,IAAMl5B,QAAQ,OAAd,C;;;;;;;;;;;;ACHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,IAAMs5B,QAAQ,OAAd;AACA,IAAM1F,YAAY,WAAlB;AACA,IAAM2F,UAAU,SAAhB;AACA,IAAMzH,SAAS,QAAf;AACA,IAAMj2D,SAAS,QAAf,C;;;;;;;;;;;;ACJP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,IAAM8+C,cAAc,MAApB;AACA,IAAM4wB,UAAU,QAAhB;AACA,IAAMC,SAAS,QAAf;AACA,IAAMC,YAAY,WAAlB;AACA,IAAMC,OAAO,MAAb;AACA,IAAMC,YAAY,UAAlB;AACA,IAAM5sC,QAAQ,OAAd;AACA,IAAMS,SAAS,QAAf;AACA,IAAMosC,aAAa,YAAnB;AACA,IAAMC,2BAA2B,YAAjC;AACA,IAAMC,YAAY,WAAlB;AACA,IAAM9T,eAAe,cAArB;AACA,IAAMC,aAAa,YAAnB;AACA,IAAM8T,eAAe,SAArB;AACA,IAAMC,cAAc,EAApB;AACA,IAAMC,eAAe,QAArB;AACA,IAAMC,OAAO,MAAb;AACA,IAAMC,WAAW,UAAjB;AACA,IAAMpf,UAAU,SAAhB;AACA,IAAMqf,kBAAkB;AAC3B5K,UAAM,SADqB;AAE3B6K,WAAO,UAFoB;AAG3B1iC,WAAO;AAHoB,CAAxB;AAKA,IAAMhK,MAAM,KAAZ;AACA,IAAMC,OAAO,MAAb;AACA,IAAMC,QAAQ,OAAd;AACA,IAAMC,SAAS,QAAf;AACA,IAAMwsC,aAAa,YAAnB;AACA,IAAMC,WAAW,UAAjB;AACA,IAAMxsC,SAAS,QAAf;AACA,IAAMysC,QAAQ,OAAd;AACA,IAAMC,OAAO,MAAb;AACA,IAAM/d,QAAQ,OAAd;AACA,IAAMge,OAAO,MAAb;AACA,IAAMC,OAAO,MAAb;AACA,IAAMC,QAAQ,OAAd;AACA,IAAMC,QAAQ,OAAd;AACA,IAAMC,QAAQ,OAAd;AACA,IAAMC,MAAM,KAAZ;AACA,IAAMpe,OAAO,MAAb;AACA,IAAMjO,WAAW,UAAjB;AACA,IAAM51C,UAAU,SAAhB,C;;;;;;;;;;;;AC1CP;AAAA;AAAA;AAAO,IAAMkiE,eAAe,cAArB;AACA,IAAMC,cAAc,aAApB,C;;;;;;;;;;;;;;;;;;;;ACDP;;AAEA,IAAMtyB,cAAc,MAApB;;AAEO,IAAM6iB,qFACR0P,+DAAOA,CAAClU,IADA,EACO;AACZx4D,kBAAYm6C,WAAZ,mBADY;AAEZ+Z,gBAAY,CAACqE,kEAAUA,CAACO,KAAZ;AAFA,CADP,wCAKR4T,+DAAOA,CAACjU,KALA,EAKQ;AACbz4D,YAAQ,OAAKm6C,WAAL,qBADK;AAEb+Z,gBAAY,CAACqE,kEAAUA,CAACnF,SAAZ;AAFC,CALR,wCASRsZ,+DAAOA,CAACltC,KATA,EASQ;AACbx/B,YAAQ,OAAKm6C,WAAL,qBADK;AAEb+Z,gBAAY,CAACqE,kEAAUA,CAACl9D,MAAZ;AAFC,CATR,uBAAN;;AAeA,IAAMsxE,8FACRpU,kEAAUA,CAACl9D,MADH,EACYk9D,kEAAUA,CAACjH,MADvB,0CAERiH,kEAAUA,CAACO,KAFH,EAEWP,kEAAUA,CAACnF,SAFtB,yBAAN,C;;;;;;;;;;;;;;;;;;;;;ACnBP;AACA;;AAEO,IAAMkF,qFACRC,uDADQ,EACW,CAACgB,gEAAD,EAA2B;AAC3C9jE,UAAM8jE,+DADqC;AAE3C/8D,aAAS;AACLk0D,kBAAU;AADL;AAFkC,CAA3B,CADX,wCAOR6H,2DAPQ,EAOe,CAACgB,+DAAD,CAPf,kDAQD,CAAC;AACL9jE,UAAM8jE,+DADD;AAEL/8D,aAAS;AACLk0D,kBAAU;AADL;AAFJ,CAAD,CARC,uBAAN;;AAgBA,IAAMkc,6FACRrU,uDADQ,EACW,CAAC;AACjB9iE,UAAM8jE,+DADW;AAEjB/8D,aAAS;AACLk0D,kBAAU;AADL;AAFQ,CAAD,CADX,0CAOR6H,2DAPQ,EAOe,CAAC;AACrB9iE,UAAM8jE,+DADe;AAErB/8D,aAAS;AACLk0D,kBAAU;AADL;AAFY,CAAD,CAPf,0CAaR6H,wDAbQ,EAaY,CAAC,QAAD,CAbZ,yBAAN,C;;;;;;;;;;;;ACnBP;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;IAEqBxE,e;;;;;;;;;;;wCAKAT,M,EAAQrB,Y,EAAc;AACnC,gBAAIqB,WAAW,IAAf,EAAqB;AACjBrB,6BAAasB,KAAb;AACH,aAFD,MAEO,IAAID,OAAO15D,MAAX,EAAmB;AACtB;AACA,oBAAMizE,oBAAoBvZ,OAAOj8C,MAAP,CAAc;AAAA,2BAAK46C,aAAat2B,IAAb,CAAkBnmC,CAAlB,MAAyBi+D,iEAASA,CAAC2F,kBAAnC,IACtCnH,aAAat2B,IAAb,CAAkBnmC,CAAlB,MAAyBi+D,iEAASA,CAACwF,kBADF;AAAA,iBAAd,CAA1B;AAEI;AACJ,oBAAI4T,kBAAkBjzE,MAAtB,EAA8B;AAC1Bq4D,iCAAa0B,WAAb;AACA1B,iCAAa5jD,GAAb,CAAiBw+D,iBAAjB;AACH,iBAHD,MAGO;AACH5a,iCAAayB,UAAb;AACAzB,iCAAarnB,MAAb,CAAoB0oB,MAApB;AACH;;AAXqB,4CAYFrB,aAAaG,OAAb,EAZE;AAAA,oBAYdE,OAZc,yBAYdA,OAZc;;AAatB,oBAAMsB,6CAAoB,IAAI1lD,GAAJ,CAAQokD,QAAQ,CAAR,CAAR,CAApB,sBAA4C,IAAIpkD,GAAJ,CAAQokD,QAAQ,CAAR,CAAR,CAA5C,EAAN;AACA,oBAAMuB,mBAAmB5B,aAAa6B,cAAb,GAA8Bl6D,MAAvD;AACA,oBAAI04D,QAAQ,CAAR,EAAW14D,MAAX,KAAsBi6D,gBAAtB,IAA0CD,cAAch6D,MAAd,KAAyBi6D,gBAAvE,EAAyF;AACrF5B,iCAAasB,KAAb;AACH;AACJ,aAlBM,MAkBA;AACHtB,6BAAarnB,MAAb,CAAoBqnB,aAAa6B,cAAb,EAApB;AACH;AACD,mBAAO,IAAP;AACH;;;qCA7BoB;AACjB,mBAAO,QAAP;AACH;;;;EAHwCT,2E;;AAAxBU,8E;;;;;;;;;;;;;;;;;;;;ACFrB;AACA;AACA;AACA;;AAEO,IAAMtsD,YAAY,SAAZA,SAAY,CAAC+pD,QAAD,EAAW73C,MAAX,EAAmBs4C,YAAnB,EAAiD;AAAA,QAAhBnuD,MAAgB,uEAAP,EAAO;;AACtE,QAAI6uD,wBAAJ;AACA,QAAMhuD,OAAO6sD,SAASlsB,OAAT,CAAiBtkC,WAAjB,CAA6B2D,IAA7B,EAAb;AACA,QAAMqD,UAAUlE,OAAOkE,OAAvB;AACA,QAAMzL,OAAOi1D,SAASlsB,OAAT,CAAiB/oC,IAAjB,EAAb;AACA,QAAMuwE,WAAWtb,SAASlsB,OAAT,CAAiBwnC,QAAjB,EAAjB;AACA,QAAMC,YAAYD,SAAShrE,OAAT,GAAmBc,MAAnB,CAA0B,CAA1B,EAA6B+B,IAA/C;;AAEA,QAAMqoE,cAAc,EAApB;AACA,QAAMjlE,WAAWypD,SAASlsB,OAAT,CAAiB0X,GAAlC;AACAgwB,gBAAYrzD,MAAZ,GAAqBgzD,6EAAuBA,CAAChzD,MAAxB,KAAmCA,MAAxD;AACAqzD,gBAAYzT,WAAZ,GAA0BqT,4EAAsBA,CAACjzD,MAAvB,CAA1B;AACAqzD,gBAAYC,YAAZ,GAA2Bzb,SAASlsB,OAAT,CAAiB4nC,WAAjB,EAA3B;AACA,QAAMrlE,kBAAkB2pD,SAASmI,QAAT,CAAkBC,WAAlB,CAA8BoT,YAAYrzD,MAA1C,EAAkD3Y,WAAlD,CAA8Dg7D,OAA9D,EAAxB;AACA,QAAIh0D,QAAQqN,QAAR,KAAqB,IAAzB,EAA+B;AAC3Bs9C,0BAAkB,IAAlB;AACH,KAFD,MAEO;AACH,YAAMN,WAAWJ,aAAaY,WAA9B;AACA,YAAIx8C,SAAS9Z,KAAK8a,MAAL,CAAY;AAAA,mBAAKg7C,SAASxvD,IAAT,CAAcQ,OAAd,CAAsB7N,EAAEuzC,EAAxB,MAAgC,CAAC,CAAtC;AAAA,SAAZ,EAAqDxwC,GAArD,CAAyD;AAAA,mBAAK/C,EAAEW,KAAP;AAAA,SAAzD,CAAb;AACA,YAAIwO,SAAS+mE,qDAAT,IAAkB/mE,SAASu7C,yDAAT,IAAqB6sB,cAAcziE,wDAAzD,EAAmE;AAC/D,gBAAM3M,QAAQ/H,OAAOyI,IAAP,CAAY2J,QAAQqN,QAAR,IAAoB,EAAhC,EAAoC,CAApC,CAAd;AACAgB,qBAAS9Z,KAAK8a,MAAL,CAAY;AAAA,uBAAKg7C,SAASxvD,IAAT,CAAcQ,OAAd,CAAsB7N,EAAEuzC,EAAxB,MAAgC,CAAC,CAAtC;AAAA,aAAZ,EAAqDxwC,GAArD,CAAyD;AAAA,uBAAK/C,EAAEoU,KAAP;AAAA,aAAzD,CAAT;AACA+oD,8BAAkBt8C,OAAOzc,MAAP,GAAgBkzE,SAASlhE,MAAT,CAAgB,UAACxN,MAAD,EAAY;AAC1D,oBAAI+uE,QAAQ,KAAZ;AACA,qBAAK,IAAIh4E,IAAI,CAAb,EAAgBA,IAAIkhB,OAAOzc,MAA3B,EAAmCzE,GAAnC,EAAwC;AACpCg4E,4BAAQ/uE,OAAOT,KAAP,EAAcxH,KAAd,IAAuBkgB,OAAOlhB,CAAP,EAAU,CAAV,CAAvB,IAAuCiJ,OAAOT,KAAP,EAAcxH,KAAd,IAAuBkgB,OAAOlhB,CAAP,EAAU,CAAV,CAAtE;AACA,wBAAIg4E,UAAU,IAAd,EAAoB;AAChB;AACH;AACJ;AACD,uBAAOA,KAAP;AACH,aATiC,EAS/B;AACCppE,2BAAW;AADZ,aAT+B,CAAhB,GAWb,IAXL;AAYH,SAfD,MAeO,IAAIY,SAASgnE,yDAAb,EAAuB;AAC1BhZ,8BAAkBya,wEAAqBA,CAACN,QAAtB,EAAgC9kE,QAAQqN,QAAxC,CAAlB;AACH,SAFM,MAEA,IAAIgB,OAAOzc,MAAX,EAAmB;AACtB+4D,8BAAkB0a,+EAA4BA,CAACP,QAA7B,GAAwC9kE,QAAQqN,QAAR,CAAiB,CAAjB,CAAxC,4BAAgEgB,OAAO9d,GAAP,CAAW;AAAA,uBAAK,CAAC/C,CAAD,CAAL;AAAA,aAAX,CAAhE,GAAlB;AACH,SAFM,MAEA;AACHw3E,wBAAY33D,QAAZ,GAAuB,IAAvB;AACAs9C,8BAAkBma,SAASlhE,MAAT,CAAgB;AAAA,uBAAM,IAAN;AAAA,aAAhB,EAA4B;AAC1C7H,2BAAW;AAD+B,aAA5B,CAAlB;AAGH;AACJ;;AAED,QAAImV,8BAA8B,KAAlC;;AAEA,QAAIy5C,eAAJ,EAAqB;AACjB,YAAM/vD,SAAS+vD,gBAAgB7oD,SAAhB,EAAf;AACAoP,sCAA8BtW,OAAO8T,KAAP,CAAa;AAAA,mBAAKlhB,EAAEmP,IAAF,KAAWooE,UAAUziE,OAA1B;AAAA,SAAb,CAA9B;AACH;;AAED,QAAM1C,aAAa;AACfG,8BAAoBA,QADL;AAEfC,iBAASglE,WAFM;AAGf33D,kBAAU23D,YAAY33D,QAAZ,KAAyB,IAAzB,GAAgC,IAAhC,GAAuCs9C,eAHlC;AAIf9qD,wCAJe;AAKfqR,gEALe;AAMfS,gBAAQqzD,YAAYrzD;AANL,KAAnB;;AASAmzD,aAASrlE,SAAT,CAAmBkrD,eAAnB,EAAoC/qD,UAApC,EAAgD,IAAhD;AACH,CA/DM,C;;;;;;;;;;;;;;;;;;;;;;;;;ACLP;AACA;AACA;;AAEA;;;;;;AAMO,IAAM0lE,cAAb;AAAA;;AACI,8BAAwB;AAAA;;AAAA;;AAAA,0CAARrpE,MAAQ;AAARA,kBAAQ;AAAA;;AAAA,+JACXA,MADW;;AAEpB,cAAKq3D,qBAAL;AAFoB;AAGvB;;AAJL;AAAA;AAAA,mDAMgCrJ,YANhC,EAM8C;AACtC,mBAAOA,aAAa,CAAb,CAAP;AACH;AARL;AAAA;AAAA,kCAUesb,aAVf,EAU8BvlE,OAV9B,EAUuCiqD,YAVvC,EAUqD;AAC7CxqD,sEAAU,IAAV,EAAgB8lE,aAAhB,EAA+Btb,YAA/B,EAA6C;AACzCjqD;AADyC,aAA7C;AAGH;AAdL;AAAA;AAAA,8CAgB2BqN,QAhB3B,EAgBqC;AAC7B,gBAAIgB,eAAJ;AACA,gBAAI+mD,kBAAJ;AACA,gBAAMz4D,OAAO,KAAK2gC,OAAL,CAAatkC,WAAb,CAAyB2D,IAAzB,EAAb;;AAEA,gBAAI0Q,aAAa,IAAjB,EAAuB;AACnB+nD,4BAAY,IAAZ;AACH,aAFD,MAEO,IAAIz4D,SAAS+mE,qDAAb,EAAmB;AACtBr1D,yBAASzgB,OAAOygB,MAAP,CAAchB,QAAd,CAAT;AACA+nD,4BAAY,KAAK93B,OAAL,CAAa/oC,IAAb,GAAoB8a,MAApB,CAA2B;AAAA,2BAAKhB,OAAOhT,OAAP,CAAe7N,EAAEoU,KAAjB,MAA4B,CAAC,CAAlC;AAAA,iBAA3B,EAAgErR,GAAhE,CAAoE;AAAA,2BAAK/C,EAAEuzC,EAAP;AAAA,iBAApE,CAAZ;AACH,aAHM,MAGA,IAAIpkC,SAASgnE,yDAAb,EAAuB;AAC1BvO,4BAAY,EAAZ;AACH,aAFM,MAEA;AACH/mD,yBAAShB,SAAS,CAAT,CAAT;AACA,oBAAIgB,MAAJ,EAAY;AACR+mD,gCAAY,KAAK93B,OAAL,CAAa/oC,IAAb,GAAoB8a,MAApB,CAA2B;AAAA,+BAAKhB,OAAOhT,OAAP,CAAe7N,EAAEW,KAAjB,MAA4B,CAAC,CAAlC;AAAA,qBAA3B,EAAgEoC,GAAhE,CAAoE;AAAA,+BAAK/C,EAAEuzC,EAAP;AAAA,qBAApE,CAAZ;AACH,iBAFD,MAEO;AACH1yB,6BAASzgB,OAAOygB,MAAP,CAAchB,QAAd,CAAT;AACA+nD,gCAAY,KAAK93B,OAAL,CAAa/oC,IAAb,GAAoB8a,MAApB,CAA2B;AAAA,+BAAKhB,OAAOhT,OAAP,CAAe7N,EAAEoU,KAAjB,MAA4B,CAAC,CAAlC;AAAA,qBAA3B,EAAgErR,GAAhE,CAAoE;AAAA,+BAAK/C,EAAEuzC,EAAP;AAAA,qBAApE,CAAZ;AACH;AACJ;AACD,mBAAO;AACHlmC,sBAAMu6D,SADH;AAEH70D,uBAAO;AAFJ,aAAP;AAIH;AAzCL;AAAA;AAAA,sCA2CmB;AACX,mBAAO,IAAP;AACH;AA7CL;;AAAA;AAAA,EAAoC8wD,gEAApC,E;;;;;;;;;;;;ACVA;AAAA;;;;;;AAMA,IAAMrF,QAAQ,SAARA,KAAQ;AAAA,WAAY,UAACC,QAAD,EAAWC,UAAX,EAA0B;AAChD,YAAMC,oBAAoB,SAApBA,iBAAoB,CAAU3yD,IAAV,EAAgB;AACtC,gBAAMwG,UAAU;AACZqN,0BAAUm8C,SAASlsB,OAAT,CAAiBkoC,mBAAjB,CAAqChsE,IAArC;AADE,aAAhB;AAGA0yD,uBAAWj7D,OAAX,CAAmB;AAAA,uBAAau4D,SAAS2C,iBAAT,CAA2BgI,SAA3B,EAAsCn0D,OAAtC,CAAb;AAAA,aAAnB;AACH,SALD;;AAOAisD,iBAASzrD,EAAT,CAAY,OAAZ,EAAqB2rD,iBAArB;AACH,KATa;AAAA,CAAd;;AAWeH,oEAAf,E;;;;;;;;;;;;;;;;ACjBA;;AAKA;;;;;;AAMA,0BAA2B,IAAMQ,OAAO,SAAPA,IAAO;AAAA,WAAY,UAACP,QAAD,EAAWC,UAAX,EAA0B;AAC1E,YAAIoB,WAAW,EAAf;AACA,YAAIC,SAAS,EAAb;AACA,YAAIvtD,gBAAJ;AACA,YAAMquD,SAASC,4DAASA,EAAxB;AACA,YAAMhxB,UAAUksB,SAASlsB,OAAzB;AACA,YAAMmoC,cAAcnoC,QAAQlF,WAAR,GAAsBstC,kBAA1C;AACA,YAAMC,WAAWroC,QAAQxhC,MAAR,GAAiB8pE,KAAjB,KAA2B,YAA3B,GAA0C,GAA1C,GAAgD,GAAjE;AACA,YAAMC,YAAYvoC,QAAQkO,IAAR,GAAe1sB,MAAf,GAAwB8sB,KAAxB,EAAlB;AACA,YAAMk6B,eAAeD,UAAUjkE,KAAV,GAAkB+jE,aAAa,GAAb,GAAmB,CAAnB,GAAuB,CAAzC,CAArB;;AAEA1Z,iBAAS5+D,IAAT,CAAcghE,SAAS7tD,EAAT,CAAY,OAAZ,EAAqB,YAAM;AACrC,gBAAM4rD,QAAQC,2DAAQA,EAAtB;AACAiB,uBAAW;AACPrzC,mBAAGmyC,MAAMnyC,CADF;AAEP+J,mBAAGooC,MAAMpoC;AAFF,aAAX;AAIH,SANa,EAMXxjB,EANW,CAMR,MANQ,EAMA,YAAM;AAChB,gBAAM4rD,QAAQC,2DAAQA,EAAtB;;AAEAkB,qBAAS;AACLtzC,mBAAGmyC,MAAMnyC,CADJ;AAEL+J,mBAAGooC,MAAMpoC;AAFJ,aAAT;AAIAupC,mBAAOtzC,CAAP,GAAW7P,KAAKxD,GAAL,CAAS,CAAT,EAAYwD,KAAK3D,GAAL,CAAS8mD,OAAOtzC,CAAhB,EAAmBwrD,YAAYnsC,KAA/B,CAAZ,CAAX;AACAi0B,mBAAOvpC,CAAP,GAAW5Z,KAAKxD,GAAL,CAAS,CAAT,EAAYwD,KAAK3D,GAAL,CAAS8mD,OAAOvpC,CAAhB,EAAmByhD,YAAYlsC,MAA/B,CAAZ,CAAX;;AAEAv5B,sBAAU;AACNqN,8CACKiwB,QAAQ5/B,SAAR,EADL,EAC2B,CAACmoE,UAAUz1B,MAAV,CAAiBkd,SAASqY,QAAT,IAAqBG,eAAe,CAArD,CAAD,EACnBD,UAAUz1B,MAAV,CAAiBmd,OAAOoY,QAAP,IAAmBG,eAAe,CAAnD,CADmB,EACoC1rE,IADpC,CACyC,UAACwZ,CAAD,EAAIC,CAAJ;AAAA,2BAAUD,IAAIC,CAAd;AAAA,iBADzC,CAD3B;AADM,aAAV;AAMAq4C,uBAAWj7D,OAAX,CAAmB;AAAA,uBAAau4D,SAAS2C,iBAAT,CAA2BgI,SAA3B,EAAsCn0D,OAAtC,CAAb;AAAA,aAAnB;AACH,SAvBa,EAuBXQ,EAvBW,CAuBR,KAvBQ,EAuBD,YAAM;AACf,gBAAM4rD,QAAQC,2DAAQA,EAAtB;;AAEAkB,qBAAS;AACLtzC,mBAAGmyC,MAAMnyC,CADJ;AAEL+J,mBAAGooC,MAAMpoC;AAFJ,aAAT;AAIAupC,mBAAOtzC,CAAP,GAAW7P,KAAKxD,GAAL,CAAS,CAAT,EAAYwD,KAAK3D,GAAL,CAAS8mD,OAAOtzC,CAAhB,EAAmBwrD,YAAYnsC,KAA/B,CAAZ,CAAX;AACAi0B,mBAAOvpC,CAAP,GAAW5Z,KAAKxD,GAAL,CAAS,CAAT,EAAYwD,KAAK3D,GAAL,CAAS8mD,OAAOvpC,CAAhB,EAAmByhD,YAAYlsC,MAA/B,CAAZ,CAAX;AACA,gBAAI+zB,SAASqY,QAAT,MAAuBpY,OAAOoY,QAAP,CAA3B,EAA6C;AACzC3lE,0BAAU;AACNqN,8BAAU;AADJ,iBAAV;AAGH,aAJD,MAIO;AACHrN,0BAAU;AACNqN,kDACKiwB,QAAQ5/B,SAAR,EADL,EAC2B,CAACmoE,UAAUz1B,MAAV,CAAiBkd,SAASqY,QAAT,IAAqBG,eAAe,CAArD,CAAD,EACnBD,UAAUz1B,MAAV,CAAiBmd,OAAOoY,QAAP,IAAmBG,eAAe,CAAnD,CADmB,EACoC1rE,IADpC,CACyC,UAACwZ,CAAD,EAAIC,CAAJ;AAAA,+BAAUD,IAAIC,CAAd;AAAA,qBADzC,CAD3B;AADM,iBAAV;AAMH;AACDq4C,uBAAWj7D,OAAX,CAAmB;AAAA,uBAAau4D,SAAS2C,iBAAT,CAA2BgI,SAA3B,EAAsCn0D,OAAtC,CAAb;AAAA,aAAnB;AACH,SA7Ca,CAAd;AA8CH,KAzDuC;AAAA,CAAb;;AA2DZwsD,mEAAf,E;;;;;;;;;;;;ACtEA;AAAA;AAAA;;AAEA;;;;;;AAMA,0BAA2B,IAAM2C,QAAQ,SAARA,KAAQ;AAAA,WAAY,UAAClD,QAAD,EAAWC,UAAX,EAA0B;AAC3E,YAAMC,oBAAoB,SAApBA,iBAAoB,CAAU3yD,IAAV,EAAgB;AACtC,gBAAM4yD,QAAQC,2DAAQA,EAAtB;AACA,gBAAMrsD,UAAU;AACZqN,0BAAUm8C,SAASlsB,OAAT,CAAiBkoC,mBAAjB,CAAqChsE,IAArC;AADE,aAAhB;AAGA0yD,uBAAWj7D,OAAX,CAAmB;AAAA,uBAAau4D,SAAS2C,iBAAT,CAA2BgI,SAA3B,EAAsCn0D,OAAtC,CAAb;AAAA,aAAnB;AACAosD,kBAAMn9B,eAAN;AACH,SAPD;;AASAg9B,iBAASzrD,EAAT,CAAY,WAAZ,EAAyB2rD,iBAAzB,EACiB3rD,EADjB,CACoB,WADpB,EACiC2rD,iBADjC,EAEiB3rD,EAFjB,CAEoB,UAFpB,EAEgC,YAAM;AAClB,gBAAM4rD,QAAQC,2DAAQA,EAAtB;AACAH,uBAAWj7D,OAAX,CAAmB;AAAA,uBAAau4D,SAAS2C,iBAAT,CAA2BgI,SAA3B,EAAsC;AAClE9mD,8BAAU;AADwD,iBAAtC,CAAb;AAAA,aAAnB;AAGA++C,kBAAMn9B,eAAN;AACH,SARjB;AASH,KAnBwC;AAAA,CAAd;;AAqBZkgC,oEAAf,E;;;;;;;;;;;;;;;;;;;;;;AC7BA;AACA;AACA;AACA;;AAEO,IAAMO,4EACRC,mDADQ,EACWnD,6CADX,qCAERmD,oDAFQ,EAEYR,8CAFZ,qCAGRQ,oDAHQ,EAGY3D,8CAHZ,oBAAN,C;;;;;;;;;;;;;;;;;;ACLP;AAKA;;AAEA,IAAM+Z,uBAAuB,SAAvBA,oBAAuB,CAAC/V,OAAD,EAAUxkB,IAAV,EAAgBlwB,QAAhB,EAA6B;AACtD,QAAIjO,WAAW,EAAf;AADsD,QAGlDw4D,SAHkD,GAKlDr6B,IALkD,CAGlDq6B,SAHkD;AAAA,QAIlDF,QAJkD,GAKlDn6B,IALkD,CAIlDm6B,QAJkD;AAAA,QAOlDrY,QAPkD,GAYlDhyC,QAZkD,CAOlDgyC,QAPkD;AAAA,QAQlDC,MARkD,GAYlDjyC,QAZkD,CAQlDiyC,MARkD;AAAA,QASlDyY,mBATkD,GAYlD1qD,QAZkD,CASlD0qD,mBATkD;AAAA,QAUlDC,iBAVkD,GAYlD3qD,QAZkD,CAUlD2qD,iBAVkD;AAAA,QAWlD3vB,MAXkD,GAYlDh7B,QAZkD,CAWlDg7B,MAXkD;;AAatD,QAAM4vB,oBAAoBlW,QAAQ2V,QAAR,CAA1B;;AAEA,QAAIrY,SAASqY,QAAT,MAAuBpY,OAAOoY,QAAP,CAA3B,EAA6C;AACzCt4D,mBAAW,EAAX;AACH,KAFD,MAEO,IAAI64D,oBAAoBF,mBAApB,IAA2CC,oBAAoB3vB,MAAnE,EAA2E;AAC9EjpC,mBAAW,CAACw4D,UAAUz1B,MAAV,CAAiB61B,oBAAoB3vB,MAApB,GAA6B0vB,mBAA9C,CAAD,EACPH,UAAUz1B,MAAV,CAAiB61B,oBAAoB3vB,MAArC,CADO,CAAX;AAEH,KAHM,MAGA,IAAI4vB,oBAAoB5vB,MAApB,GAA6BA,MAAjC,EAAyC;AAC5CjpC,mBAAW,CAACw4D,UAAUz1B,MAAV,CAAiBkG,SAAS,CAA1B,CAAD,EAA+BuvB,UAAUz1B,MAAV,CAAiB41B,sBAAsB1vB,SAAS,CAAhD,CAA/B,CAAX;AACH,KAFM,MAEA;AACHjpC,mBAAW,CAACw4D,UAAUz1B,MAAV,CAAiB81B,iBAAjB,CAAD,EAAsCL,UAAUz1B,MAAV,CAAiB81B,oBAAoBF,mBAArC,CAAtC,CAAX;AACH;AACDL,iBAAa,GAAb,GAAmBt4D,QAAnB,GAA8BA,SAAS+E,OAAT,EAA9B;AACA,WAAO/E,QAAP;AACH,CA3BD;;AA6BO,IAAM0iD,mBAAmB,SAAnBA,gBAAmB;AAAA,WAAY,UAAC9D,QAAD,EAAWC,UAAX,EAA0B;AAClE,YAAIoB,WAAW,EAAf;AACA,YAAIttD,gBAAJ;AACA,YAAMutD,SAAS,EAAf;AACA,YAAMc,SAASC,4DAASA,EAAxB;AACA,YAAMhxB,UAAUksB,SAASlsB,OAAzB;AACA,YAAMuoC,YAAYvoC,QAAQkO,IAAR,GAAe1sB,MAAf,GAAwB8sB,KAAxB,EAAlB;AACA,YAAM+5B,WAAWroC,QAAQxhC,MAAR,GAAiB8pE,KAAjB,KAA2B9B,2DAA3B,GAAwC,GAAxC,GAA8C,GAA/D;AACA,YAAMmC,oBAAoB3oC,QAAQlF,WAAR,GAAsBstC,kBAAtB,CAAyCC,aAAa,GAAb,GAC/DpvC,sDAD+D,GACvDS,uDADc,CAA1B;AAEA,YAAMsf,SAASuvB,UAAUjkE,KAAV,GAAkB+jE,aAAa,GAAb,GAAmB,CAAnB,GAAuB,CAAzC,CAAf;AACA,YAAMrqD,WAAW;AACb2qD,gDADa;AAEb3vB;AAFa,SAAjB;AAIA,YAAI0Z,UAAU,EAAd;;AAEA/D,iBAAS5+D,IAAT,CAAcghE,SAAS7tD,EAAT,CAAY,OAAZ,EAAqB,YAAY;AAC3C,gBAAM4rD,QAAQC,2DAAQA,EAAtB;AACAiB,uBAAW6Y,8DAAWA,CAAC,IAAZ,EAAkB/Z,MAAMga,WAAxB,CAAX;AACApW,sBAAU5D,MAAM4D,OAAhB;AACH,SAJa,EAIXxvD,EAJW,CAIR,MAJQ,EAIA,YAAM;AAChB,gBAAM4rD,QAAQC,2DAAQA,EAAtB;AACA,gBAAM2Z,sBAAsBhW,QAAQ2V,aAAa,GAAb,GAAmBpvC,sDAAnB,GAA2BS,uDAAnC,CAA5B;;AAEAg5B,oBAAQ/1C,CAAR,IAAamyC,MAAM8D,EAAnB;AACAF,oBAAQhsC,CAAR,IAAaooC,MAAM+D,EAAnB;;AAEA70C,qBAAS0qD,mBAAT,GAA+BA,mBAA/B;AACA1qD,qBAASgyC,QAAT,GAAoBA,QAApB;AACAhyC,qBAASiyC,MAAT,GAAkBA,MAAlB;AACA,gBAAMlgD,WAAW04D,qBAAqB/V,OAArB,EAA8B,EAAE6V,oBAAF,EAAaF,kBAAb,EAA9B,EAAuDrqD,QAAvD,CAAjB;;AAEAtb,sBAAU;AACNqN,8CACKiwB,QAAQ5/B,SAAR,EADL,EAC2B2P,QAD3B,CADM;AAINg5D,yBAAS;AAJH,aAAV;AAMA7c,qBAAS2C,iBAAT,CAA2BD,WAAW,CAAX,CAA3B,EAA0ClsD,OAA1C;AACH,SAvBa,EAuBXQ,EAvBW,CAuBR,KAvBQ,EAuBD,YAAM;AACf,gBAAM4rD,QAAQC,2DAAQA,EAAtB;AACA,gBAAM2Z,sBAAsBhW,QAAQ2V,aAAa,GAAb,GAAmBpvC,sDAAnB,GAA2BS,uDAAnC,CAA5B;AACA1b,qBAAS0qD,mBAAT,GAA+BA,mBAA/B;AACA1qD,qBAASgyC,QAAT,GAAoBA,QAApB;AACAhyC,qBAASiyC,MAAT,GAAkBA,MAAlB;AACA,gBAAMlgD,WAAW04D,qBAAqB3Z,KAArB,EAA4B,EAAEyZ,oBAAF,EAAaF,kBAAb,EAA5B,EAAqDrqD,QAArD,CAAjB;AACAtb,sBAAU;AACNqN,8CACKiwB,QAAQ5/B,SAAR,EADL,EAC2B2P,QAD3B,CADM;AAINg5D,yBAAS,IAJH;AAKNvqE,wBAAQ;AACJgxC,gCAAY;AACRC,kCAAU;AADF;AADR;AALF,aAAV;AAWAyc,qBAAS2C,iBAAT,CAA2BD,WAAW,CAAX,CAA3B,EAA0ClsD,OAA1C;AACH,SA1Ca,CAAd;AA2CH,KA5D+B;AAAA,CAAzB,C;;;;;;;;;;;;ACpCP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;ACDA;AACA;AACA;;IAEqBsmE,iB;;;AACjB,iCAAwB;AAAA;;AAAA;;AAAA,0CAARrqE,MAAQ;AAARA,kBAAQ;AAAA;;AAAA,qKACXA,MADW;;AAEpB,cAAK2gE,WAAL,GAAmBvY,8DAAUA,CAAC,MAAKmF,QAAhB,CAAnB;AACA,cAAKmT,SAAL,GAAiB,UAAjB;AAHoB;AAIvB;;;;8BAMM1S,Y,EAAcjqD,O,EAAuB;AAAA,gBAAdxL,OAAc,uEAAJ,EAAI;;AACxC,gBAAMk0D,WAAW,KAAKkU,WAAL,CAAiBpoE,QAAQk0D,QAAR,IAAoB,KAAKiU,SAA1C,CAAjB;;AAEAjU,qBAASuB,YAAT,EAAuB,IAAvB;AACH;;;qCARoB;AACjB,mBAAOwa,+DAAP;AACH;;;;EAT0C/H,yE;;AAA1B4J,gF;;;;;;;;;;;;ACJrB;AAAA;AAAA;AAAA;;AAEO,IAAMjiB,aAAa,SAAbA,UAAa,CAACmF,QAAD,EAAc;AACpC,QAAMlsB,UAAUksB,SAASlsB,OAAzB;AACA,QAAMwE,UAAU,SAAVA,OAAU,CAACtqB,GAAD,EAAM+oB,SAAN,EAAiBy2B,MAAjB,EAA4B;AACxC,YAAMp1B,cAActE,QAAQxhC,MAAR,GAAiB8lC,WAArC;AACAU,wEAAaA,CAAChF,QAAQjQ,KAAR,EAAd,EACiBggB,SADjB,OAC+BzL,WAD/B,sBAEiBvyB,MAFjB,CAEwB;AAAA,mBAAKmI,IAAI3c,IAAJ,CAASQ,OAAT,CAAiB7N,EAAEuzC,EAAnB,MAA2B,CAAC,CAAjC;AAAA,SAFxB,EAGiBsM,SAHjB,CAG2B,KAH3B,EAIiBvL,OAJjB,CAIyBvB,SAJzB,EAIoCy2B,MAJpC;AAKH,KAPD;;AASA,WAAO;AACHwG,cAAM,cAAChmD,GAAD,EAAsB;AAAA,gBAAhB1b,MAAgB,uEAAP,EAAO;;AACxB,gBAAM8lC,cAActE,QAAQxhC,MAAR,GAAiB8lC,WAArC;AACA,gBAAI,CAACpqB,IAAIqzC,WAAJ,CAAgBj5D,MAAjB,IAA2B,CAAC4lB,IAAIuzC,UAAJ,CAAen5D,MAA/C,EAAuD;AACnDkwC,wBAAQtqB,IAAI+yC,WAAZ,EAAyBzuD,OAAOykC,SAAP,IAAuBqB,WAAvB,oBAAzB,EAA8E,KAA9E;AACH,aAFD,MAEO;AACHE,wBAAQtqB,IAAIuzC,UAAZ,EAAwBjvD,OAAOykC,SAAP,IAAuBqB,WAAvB,qBAAxB,EAA8E,KAA9E;AACAE,wBAAQtqB,IAAIuzC,UAAZ,EAAwBjvD,OAAOykC,SAAP,IAAuBqB,WAAvB,oBAAxB,EAA6E,IAA7E;AACAE,wBAAQtqB,IAAIqzC,WAAZ,EAAyB/uD,OAAOykC,SAAP,IAAuBqB,WAAvB,oBAAzB,EAA8E,KAA9E;AACH;AACJ,SAVE;AAWH2kC,kBAAU,kBAAC/uD,GAAD,EAAsB;AAAA,gBAAhB1b,MAAgB,uEAAP,EAAO;;AAC5B,gBAAM8lC,cAActE,QAAQxhC,MAAR,GAAiB8lC,WAArC;AACA,gBAAI,CAACpqB,IAAIqzC,WAAJ,CAAgBj5D,MAAjB,IAA2B,CAAC4lB,IAAIuzC,UAAJ,CAAen5D,MAA/C,EAAuD;AACnDkwC,wBAAQtqB,IAAI+yC,WAAZ,EAAyBzuD,OAAOykC,SAAP,IAAuBqB,WAAvB,qBAAzB,EAA+E,KAA/E;AACH,aAFD,MAEO;AACHE,wBAAQtqB,IAAIqzC,WAAZ,EAAyB/uD,OAAOykC,SAAP,IAAuBqB,WAAvB,qBAAzB,EAA+E,IAA/E;AACAE,wBAAQtqB,IAAIuzC,UAAZ,EAAwBjvD,OAAOykC,SAAP,IAAuBqB,WAAvB,qBAAxB,EAA8E,KAA9E;AACH;AACJ;AAnBE,KAAP;AAqBH,CAhCM,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFP;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;AAKA;IAAiCq9B,Y;;;;;;;;;;;;;AAgB7B;;;AAGA,kC,sBAAkChV,Y,EAAcjqD,O,EAAS;AACrD,gBAAIia,UAAJ;AACA,gBAAI+J,UAAJ;AACA,gBAAIsV,cAAJ;AACA,gBAAIC,eAAJ;AACA,gBAAMiwB,WAAW,KAAKA,QAAtB;AACA,gBAAMlsB,UAAUksB,SAASlsB,OAAzB;AACA,gBAAMxhC,SAAS,KAAKA,MAAL,EAAf;AACA,gBAAM0vC,OAAOlO,QAAQkO,IAAR,GAAe1sB,MAAf,EAAb;AACA,gBAAMyhB,YAAezkC,OAAO8lC,WAAtB,SAAqC9lC,OAAOykC,SAAlD;;AAEA,gBAAMp6B,SAASnG,QAAQqN,QAAR,CAAiBm8C,SAASlsB,OAAT,CAAiB5/B,SAAjB,EAAjB,CAAf;AACA,gBAAMmoE,YAAYr6B,KAAKI,KAAL,EAAlB;AACA,gBAAMhqC,QAAQuE,SAAS,CAACqlC,KAAK8F,aAAL,CAAmBnrC,OAAO,CAAP,CAAnB,CAAD,EAAgCqlC,KAAK8F,aAAL,CAAmBnrC,OAAO,CAAP,CAAnB,CAAhC,CAAT,GAA0E,EAAxF;;AAEA,gBAAMw/D,WAAWroC,QAAQxhC,MAAR,GAAiB8pE,KAAjB,KAA2B9B,2DAA3B,GAAwC,GAAxC,GAA8C,GAA/D;;AAEA,gBAAM0C,oBAAoBhd,SAASlsB,OAAT,CAAiBlF,WAAjB,GAA+BstC,kBAA/B,CAAkDC,aAAa,GAAb,GACxE3uC,uDADwE,GAC/DT,sDADa,CAA1B;;AAGA,gBAAMuvC,eAAeD,UAAUjkE,KAAV,GAAkB+jE,aAAa,GAAb,GAAmB,CAAnB,GAAuB,CAAzC,CAArB;AACA,gBAAMc,sBAAsBnpC,QAAQkxB,iBAAR,GAA4BK,YAAxD;AACA,gBAAM6X,iBAAiBhmC,8DAAWA,CAAC+lC,mBAAZ,EAAiC,GAAjC,EAAsC,CAAC,CAAD,CAAtC,EAA8C3qE,OAAO8lC,WAArD,0BAAvB;;AAEA,gBAAI4nB,SAASlsB,OAAT,CAAiBxhC,MAAjB,GAA0B8pE,KAA1B,KAAoC9B,2DAAxC,EAAoD;AAChD7pD,oBAAIrY,MAAM,CAAN,IAAWkkE,YAAX,IAA2B,CAA/B;AACA9hD,oBAAI,CAAJ;AACAsV,wBAAQ13B,MAAM,CAAN,IAAWA,MAAM,CAAN,CAAX,IAAuB,CAA/B;AACA23B,yBAASitC,iBAAT;AACH,aALD,MAKO;AACHvsD,oBAAI,CAAJ;AACA+J,oBAAIpiB,MAAM,CAAN,IAAWkkE,YAAX,IAA2B,CAA/B;AACAvsC,yBAAS33B,MAAM,CAAN,IAAWA,MAAM,CAAN,CAAX,IAAuB,CAAhC;AACA03B,wBAAQktC,iBAAR;AACH;AACD,gBAAMG,UAAU,SAAVA,OAAU,CAAUC,EAAV,EAAc;AAC1B7W,qGAAgBA,CAACvG,QAAjB,EAA2Bod,EAA3B,EAA+B,CAAC,OAAD,CAA/B;AACH,aAFD;AAGA,gBAAMC,SAASnmC,8DAAWA,CAACgmC,cAAZ,EAA4BvC,qDAA5B,EAAkC,CAAC,EAAEh+D,cAAF,EAAU8T,IAAV,EAAa+J,IAAb,EAAgBsV,YAAhB,EAAuBC,cAAvB,EAAD,CAAlC,EAAqEgH,SAArE,EACX,EAAEm/B,OAAOiH,OAAT,EADW,CAAf;AAEAE,mBAAO3kC,IAAP,CAAY,GAAZ,EAAiBle,CAAjB,EACiBke,IADjB,CACsB,GADtB,EAC2BjoB,CAD3B,EAEiBioB,IAFjB,CAEsB3L,sDAFtB,EAE6B+C,KAF7B,EAGiB4I,IAHjB,CAGsBlL,uDAHtB,EAG8BuC,MAH9B;AAIH;;;qCA9DoB;AACjB,mBAAOirC,gEAAP;AACH;;AAED;;;;;;;wCAIwB;AACpB,mBAAO;AACHjkC,2BAAW,sBADR;AAEHqB,6BAAauQ,4DAAWA;AAFrB,aAAP;AAIH;;;;EAdiD6oB,2E;;AAkEvCiE,2EAAf,E;;;;;;;;;;;AC9EA,uC;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAMO,IAAM6H,QAAQ;AACjBhD,gBAAY,YADK;AAEjBC,cAAU;AAFO,CAAd;;AAKA,IAAMgD,sBAAsB;AAC/BxtC,YAAQ,EADuB;AAE/BD,WAAO,EAFwB;AAG/B2Q,cAAU7vB,QAHqB;AAI/B4sD,eAAW5sD,QAJoB;AAK/B40B,aAAS,CALsB;AAM/Bi4B,YAAQ,CANuB;AAO/B3sC,YAAQ;AAPuB,CAA5B;;AAUA,IAAM4sC,eAAe;AACxBz1E,UAAM,EADkB;AAExBo6C,iBAAa,qBAAC8iB,GAAD,EAAS;AAClB,YAAIA,QAAQv3B,qDAAR,IAAgBu3B,QAAQt3B,sDAA5B,EAAmC;AAC/B,mBAAOD,qDAAP;AACH,SAAC,OAAOG,uDAAP;AACL;AANuB,CAArB;;AASA,IAAMyiB,iBAAiB;AAC1BpY,iBAAa,MADa;AAE1BX,iBAAa,OAFa;AAG1BkmC,iBAAa,eAHa;AAI1BltE,eAAW;AACPmtE,gBAAQ;AACJC,mBAAO,WADH;AAEJC,mBAAO;AAFH;AADD,KAJe;AAU1BnxE,UAAM;AACF1E,cAAM;AACFo6C,yBAAa,OADX;AAEFvS,mBAAO,EAFL;AAGFr/B,uBAAW;AAAA,uBAAOyO,GAAP;AAAA;AAHT,SADJ;AAMF6+D,cAAM;AACFhnC,uBAAW,aADT;AAEFhH,oBAAQ,EAFN;AAGFD,mBAAO,EAHL;AAIF6H,mBAAO,gBAJL;AAKFxkC,kBAAM;AALJ;AANJ;AAVoB,CAAvB;;AA0BP;;;;;;AAMO,IAAM6qE,WAAW,SAAXA,QAAW,CAACD,IAAD,EAAU;AAC9B,QAAIA,QAAQ,OAAQA,IAAR,KAAkB,QAA9B,EAAwC;AACpC,eAAOjf,4DAASA,CAACif,IAAV,CAAP;AACH,KAAC,OAAOA,IAAP;AACL,CAJM,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/DP;AACA;AACA;AACA;AACA;;AAEA;;;;;;;IAMqBE,c;;;;;;;;;;;;;AAyBjB;;;;;;;sCAOe77B,K,EAAO;AAAA,gCACqB87B,mEAAYA,CAAC97B,KAAb,CADrB;AAAA,gBACV+7B,SADU,iBACVA,SADU;AAAA,gBACCxhE,MADD,iBACCA,MADD;AAAA,gBACSyhE,OADT,iBACSA,OADT;;AAElB,gBAAIC,+CAAsB,IAAI3hE,GAAJ,CAAQC,MAAR,CAAtB,EAAJ;AACA,gBAAMxJ,OAAO,KAAKmoE,QAAL,GAAgBhrE,OAAhB,GAA0Bc,MAA1B,CAAiC,CAAjC,EAAoC+B,IAAjD;;AAEAkrE,8BAAkBA,gBAAgBt3E,GAAhB,CAAoB,UAACu3E,GAAD,EAAM36E,CAAN,EAAY;AAAA;;AAC9C,oBAAIgB,QAAQ,CAAZ;AACA,oBAAIyT,QAAQ,CAAZ;AACA,oBAAIjF,SAAS,SAAb,EAAwB;AACpBxO,4BAAQ,CAAC,CAAC05E,gBAAgB16E,CAAhB,CAAF,EAAsB21E,OAAtB,CAA8B,CAA9B,CAAR;AACA,wBAAMiF,UAAUF,gBAAgB16E,IAAI,CAApB,IAAyB,CAAC06E,gBAAgB16E,IAAI,CAApB,CAA1B,GAAmD,CAACgB,KAApE;AACAyT,4BAAQ,CAACzT,KAAD,EAAQ45E,QAAQjF,OAAR,CAAgB,CAAhB,CAAR,CAAR;AACH,iBAJD,MAIO;AACH30E,4BAAQ05E,gBAAgB16E,CAAhB,CAAR;AACAyU,4BAAQ,CAACimE,gBAAgB16E,CAAhB,CAAD,CAAR;AACH;AACD,wDACKw6E,SADL,EACiB/7B,MAAMg8B,OAAN,EAAeE,GAAf,CADjB,kCAEI35E,KAFJ,+BAGQhB,CAHR,kCAIIyU,KAJJ;AAMH,aAjBiB,EAiBfyN,MAjBe,CAiBR;AAAA,uBAAK7hB,EAAEW,KAAF,KAAY,IAAjB;AAAA,aAjBQ,CAAlB;;AAmBA05E,8BAAkBF,cAAcxhB,qDAAd,GAAqB0hB,gBAAgBztE,IAAhB,CAAqB,UAACwZ,CAAD,EAAIC,CAAJ;AAAA,uBAAUD,EAAE+zD,SAAF,IAAe9zD,EAAE8zD,SAAF,CAAzB;AAAA,aAArB,CAArB,GACZE,eADN;AAEA,mBAAOA,eAAP;AACH;;AAED;;;;;;;;;;iCAOU;AACN,gBAAMre,WAAW,KAAKA,QAAL,EAAjB;AACA,gBAAMj1D,OAAO,KAAKA,IAAL,EAAb;;AAFM,0BAGkB,KAAKuH,MAAL,EAHlB;AAAA,gBAGE8lC,WAHF,WAGEA,WAHF;;AAIN,gBAAMomC,yIAA+B,KAAK36C,KAAL,EAA/B,CAAN;AACA;;AALM,wCAMiB46C,sEAAoBA,CAAC,IAArB,EAA2BD,eAA3B,EAA4CpmC,WAA5C,EAAyDrtC,IAAzD,CANjB;AAAA,gBAME2zE,UANF,yBAMEA,UANF;;AAAA,sCAOmBC,oEAAkBA,CAAC,IAAnB,EAAyBD,UAAzB,CAPnB;AAAA,gBAOEE,YAPF,uBAOEA,YAPF;;AAQNC,gFAAkBA,CAAC,IAAnB,EAAyBD,YAAzB;AACAJ,4BAAgB36B,SAAhB,CAA0B,KAA1B,EAAiChM,KAAjC,CAAuC,OAAvC,EAAgDjK,qDAAhD;AACAoyB,qBAAS8e,sBAAT;AACA9e,qBAAS+e,kBAAT,CAA4B,KAAKh0E,IAAL,GAAYhE,GAAZ,CAAgB;AAAA,uBAAK/C,EAAEuzC,EAAP;AAAA,aAAhB,CAA5B;AACA,mBAAOinC,eAAP;AACH;;;;;AA/ED;;;;;;;;+BAQe53C,Y,EAAc;AACzB,mBAAO,IAAIq3C,cAAJ,CAAmBr3C,YAAnB,CAAP;AACH;;AAED;;;;;;;;;;+BAOe;AACX,mBAAO8nB,yDAAP;AACH;;;;EAvBuCswB,sD;;AAAvBf,6E;;;;;;;;;;;;ACZrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;AAEA;;;;;;AAMO,IAAMgB,oBAAoB,SAApBA,iBAAoB,CAACl0E,IAAD,EAAU;AACvC,QAAI,OAAOA,KAAK,CAAL,EAAQpG,KAAf,KAAyB,QAA7B,EAAuC;AACnC,eAAOoG,KAAK2G,MAAL,CAAY,UAACwtE,WAAD,EAAcC,YAAd;AAAA,mBACf,CAACv+D,KAAK3D,GAAL,CAASkiE,aAAax6E,KAAtB,EAA6Bu6E,YAAY,CAAZ,CAA7B,CAAD,EAA+Ct+D,KAAKxD,GAAL,CAAS+hE,aAAax6E,KAAtB,EAA6Bu6E,YAAY,CAAZ,CAA7B,CAA/C,CADe;AAAA,SAAZ,EAEC,CAAChiE,OAAOkiE,SAAR,EAAmBliE,OAAOmiE,SAA1B,CAFD,CAAP;AAGH;AACD,WAAOt0E,KAAKhE,GAAL,CAAS;AAAA,eAAKwK,EAAE5M,KAAP;AAAA,KAAT,CAAP;AACH,CAPM;;AASP;;;;;;;;AAQO,IAAM26E,qBAAqB,SAArBA,kBAAqB,CAAC9I,SAAD,EAAYzrE,IAAZ,EAAkB4R,MAAlB,EAA6B;AAC3D,QAAM4iE,OAAOroC,8DAAWA,CAACs/B,SAAZ,EAAuB,MAAvB,EAA+B,CAAC,CAAD,CAA/B,CAAb;AACA,QAAMgJ,iBAAiBtoC,8DAAWA,CAACqoC,IAAZ,EAAkB,gBAAlB,EAAoC,CAAC,CAAD,CAApC,EACV7mC,IADU,CACL,IADK,EACC,iBADD,EAEVA,IAFU,CAEL,IAFK,EAEC,IAFD,EAGVA,IAHU,CAGL,IAHK,EAGC,IAHD,CAAvB;AAIAxB,kEAAWA,CAACsoC,cAAZ,EAA4B,MAA5B,EAAoCz0E,IAApC,EAA0C,eAA1C,EACiB2tC,IADjB,CACsB,QADtB,EACgC;AAAA,eAAQ,CAAC10C,EAAEW,KAAF,GAAUgY,OAAO,CAAP,CAAX,IAAwB,GAAxB,IAA+BA,OAAO,CAAP,IAAYA,OAAO,CAAP,CAA3C,CAAR;AAAA,KADhC,EAEiB+7B,IAFjB,CAEsB,YAFtB,EAEoC;AAAA,eAAK10C,EAAE2zC,KAAP;AAAA,KAFpC;AAGA,WAAO6nC,cAAP;AACH,CAVM;;AAYP;;;;;;;AAOO,IAAMl0B,aAAa,SAAbA,UAAa,CAACxX,OAAD,EAAa;AACnC,QAAM/oC,OAAO+oC,QAAQ/oC,IAAR,EAAb;;AADmC,0BAEjB+oC,QAAQxhC,MAAR,EAFiB;AAAA,QAE3B8pE,KAF2B,mBAE3BA,KAF2B;;AAGnC,QAAMqD,WAAW3rC,QAAQ4rC,MAAR,CAAeD,QAAhC;AACA,QAAME,UAAU,IAAIt4B,iEAAJ,CAAkB;AAC9B9P,wBAAczD,QAAQ0X,GADQ;AAE9BnJ,qBAAa+5B,UAAUkB,+CAAKA,CAAC/C,QAAhB,GAA2B1sC,sDAA3B,GAAmCC,uDAFlB;AAG9B+J,eAAO/D,QAAQ8rC,cAHe;AAI9Bh4B,cAAM,KAJwB;AAK9B/C,sBAAc,KALgB;AAM9BH,oBAAY35C,KAAKhE,GAAL,CAAS;AAAA,mBAAK/C,EAAEW,KAAP;AAAA,SAAT,CANkB;AAO9B29C,uBAAe,KAPe;AAQ9BC,gBAAQ;AACJR,sBAAU;AADN;AARsB,KAAlB,EAWb,EAAED,cAAchO,QAAQ+rC,aAAxB,EAXa,CAAhB;;AAaAF,YAAQhjE,MAAR,CAAesiE,kBAAkBl0E,IAAlB,CAAf;AACA40E,YAAQvnE,KAAR,CAAc,CAAC,CAAD,EAAI,CAAJ,CAAd;AACA,WAAO,IAAIqnE,QAAJ,GAAenqD,MAAf,CAAsBqqD,OAAtB,EAA+BrtE,MAA/B,CAAsC;AACzCmrE,gBAAQ,EAAEhwB,MAAM,CAAR,EAAW1iB,QAAQ,CAAnB,EAAsBF,KAAK,CAA3B,EAA8B6iB,OAAO,CAArC;AADiC,KAAtC,CAAP;AAGH,CAtBM;;AAwBP;;;;;;;;;AASA,IAAM+wB,uBAAuB,SAAvBA,oBAAuB,CAACjI,SAAD,EAAYp+B,WAAZ,EAAyBrtC,IAAzB,EAAkC;AAC3D,QAAM4R,SAASsiE,kBAAkBl0E,IAAlB,CAAf;AACA,QAAMyzE,kBAAkBtnC,8DAAWA,CAACs/B,SAAZ,EAAuB,KAAvB,EAA8B,CAAC,CAAD,CAA9B,EAAsCp+B,WAAtC,kBAAxB;AACA,QAAM0nC,gBAAgB5oC,8DAAWA,CAACsnC,eAAZ,EAA6B,KAA7B,EAAoC,CAAC,CAAD,CAApC,EAA4CpmC,WAA5C,eAAtB;AACA,QAAM2nC,iBAAiB7oC,8DAAWA,CAAC4oC,aAAZ,EAA2B,GAA3B,EAAgC,CAAC,CAAD,CAAhC,EAAwC1nC,WAAxC,qBAAvB;AACA,QAAMonC,iBAAiBF,mBAAmBQ,aAAnB,EAAkC/0E,IAAlC,EAAwC4R,MAAxC,CAAvB;AACA,QAAMqjE,aAAa9oC,8DAAWA,CAAC6oC,cAAZ,EAA4B,MAA5B,EAAoC,CAAC,CAAD,CAApC,EAA4C3nC,WAA5C,oBAAnB;;AAEA,WAAO;AACHomC,wCADG;AAEHuB,sCAFG;AAGHD,oCAHG;AAIHN,sCAJG;AAKHQ;AALG,KAAP;AAOH,CAfD;;AAiBA;;;;;;;;AAQO,IAAMz7B,aAAa,SAAbA,UAAa,CAACzQ,OAAD,EAAU0iC,SAAV,EAAqBzmC,MAArB,EAA6BD,KAA7B,EAAuC;AAC7D,QAAMkS,OAAOlO,QAAQkO,IAAR,EAAb;;AAEAA,SAAKnS,iBAAL,CAAuBC,KAAvB,EAA8BC,MAA9B;AACAiS,SAAK9I,MAAL,CAAYs9B,UAAUl0C,IAAV,EAAZ;AACA0f,SAAK1sB,MAAL,GAAc4jB,MAAd;AACH,CANM;;AAQP;;;;;;AAMO,IAAM+mC,iBAAiB,SAAjBA,cAAiB,CAACnsC,OAAD,EAAU0iC,SAAV,EAAwB;AAClD,QAAI0J,aAAa,CAAjB;AACA,QAAIC,YAAY,CAAhB;;AAFkD,2BAO9CrsC,QAAQxhC,MAAR,EAP8C;AAAA,QAI9C8pE,KAJ8C,oBAI9CA,KAJ8C;AAAA,QAK9ChkC,WAL8C,oBAK9CA,WAL8C;AAAA,QAM9CzrC,IAN8C,oBAM9CA,IAN8C;;AAQlD,QAAM5B,OAAO+oC,QAAQ/oC,IAAR,EAAb;AACA;;AATkD,gCAgB9C0zE,qBAAqBjI,SAArB,EAAgCp+B,WAAhC,EAA6CrtC,IAA7C,CAhB8C;AAAA,QAW9CyzE,eAX8C,yBAW9CA,eAX8C;AAAA,QAY9CsB,aAZ8C,yBAY9CA,aAZ8C;AAAA,QAa9CC,cAb8C,yBAa9CA,cAb8C;AAAA,QAc9CP,cAd8C,yBAc9CA,cAd8C;AAAA,QAe9CQ,UAf8C,yBAe9CA,UAf8C;;AAiBlD,QAAM53B,WAAWtU,QAAQkO,IAAR,GAAe1sB,MAAf,GAAwBm1B,iBAAxB,GAA4Cd,cAA7D;;AAjBkD,+BA2B9C7V,QAAQlF,WAAR,EA3B8C;AAAA,QAmB9C4W,OAnB8C,wBAmB9CA,OAnB8C;AAAA,QAoB9Ci4B,MApB8C,wBAoB9CA,MApB8C;AAAA,QAqB9C3sC,MArB8C,wBAqB9CA,MArB8C;AAAA,QAsB9CsvC,WAtB8C,wBAsB9CA,WAtB8C;AAAA,QAuB9C5C,SAvB8C,wBAuB9CA,SAvB8C;AAAA,QAwB9C/8B,QAxB8C,wBAwB9CA,QAxB8C;AAAA,QAyB9C1Q,MAzB8C,wBAyB9CA,MAzB8C;AAAA,QA0B9CD,KA1B8C,wBA0B9CA,KA1B8C;;AA4BlD,QAAMosC,qBAAqB,EAA3B;;AAEAgE,iBAAat/D,KAAKuT,KAAL,CAAW4b,UAAUqwC,YAAYrwC,MAAZ,GAAqB,IAAI0tC,MAAzB,GAAkC,IAAI3sC,MAAhD,CAAX,CAAb;AACAqvC,gBAAYv/D,KAAKuT,KAAL,CAAW2b,SAAS2tC,SAAS,CAAT,GAAa3sC,SAAS,CAA/B,CAAX,CAAZ;;AAEA,QAAIsrC,UAAUkB,+CAAKA,CAAChD,UAApB,EAAgC;AAC5B4B,2BAAmBnsC,MAAnB,GAA4BpjC,KAAKoxE,IAAL,CAAUhuC,MAAtC;AACAmsC,2BAAmBpsC,KAAnB,GAA2BqwC,YAAY,IAAI36B,OAAhB,GAA0B4C,SAAStY,KAAT,GAAiB,CAAtE;AACA0vC,uBAAe9mC,IAAf,CAAoB,IAApB,EAA0B,MAA1B,EAAkCA,IAAlC,CAAuC,IAAvC,EAA6C,IAA7C;AACAqnC,uBAAernC,IAAf,CAAoB,WAApB,kBAA+C0P,SAAStY,KAAT,GAAiB,CAAhE;AACAyU,mBAAWzQ,OAAX,EAAoB0qC,eAApB,EAAqC0B,aAAavzE,KAAKoxE,IAAL,CAAUhuC,MAAvB,GAAgCyV,OAArE,EAA8E26B,YAAY,IAAI36B,OAAhB,GAA0B,CAAxG;AACAg5B,wBAAgBlmC,OAAhB,CAA2BF,WAA3B,kBAAqDtI,QAAQ2Q,QAA7D;;AAEA4/B,qEAAUA,CAAC7B,eAAX,EAA4B;AACxBzuC,oBAAWA,MAAX,OADwB;AAExBD,mBAAUlvB,KAAK3D,GAAL,CAAS6yB,KAAT,EAAgB2Q,QAAhB,CAAV,OAFwB;AAGxB+E,qBAAYA,OAAZ;AAHwB,SAA5B;;AAMAw6B,mBAAWtnC,IAAX,CAAgB,QAAhB,EAA0BwjC,mBAAmBnsC,MAA7C;AACAiwC,mBAAWtnC,IAAX,CAAgB,OAAhB,EAAyBwjC,mBAAmBpsC,KAAnB,GAA2BsY,SAAStY,KAAT,GAAiB,CAArE;AACH,KAhBD,MAgBO;AACHosC,2BAAmBnsC,MAAnB,GAA4BmwC,aAAa,IAAI16B,OAAjB,GAA2B4C,SAASrY,MAAT,GAAkB,CAAzE;AACAmsC,2BAAmBpsC,KAAnB,GAA2BnjC,KAAKoxE,IAAL,CAAUjuC,KAArC;AACA0vC,uBAAe9mC,IAAf,CAAoB,IAApB,EAA0B,IAA1B,EAAgCA,IAAhC,CAAqC,IAArC,EAA2C,MAA3C;AACAqnC,uBAAernC,IAAf,CAAoB,WAApB,mBAAgD0P,SAASrY,MAAT,GAAkB,CAAlE;AACAwU,mBAAWzQ,OAAX,EAAoB0qC,eAApB,EAAqC0B,aAAa,IAAI16B,OAAjB,GAA2B,CAAhE,EAAmE26B,YAAYxzE,KAAKoxE,IAAL,CAAUjuC,KAAtB,GAA8B0V,UAAU,CAA3G;AACAg5B,wBAAgBlmC,OAAhB,CAA2BF,WAA3B,kBAAqDrI,SAASytC,SAA9D;AACA6C,qEAAUA,CAAC7B,eAAX,EAA4B;AACxBzuC,oBAAWnvB,KAAK3D,GAAL,CAAS8yB,MAAT,EAAiBytC,SAAjB,CAAX,OADwB;AAExB1tC,mBAAUA,KAAV,OAFwB;AAGxB0V,qBAAYA,OAAZ;AAHwB,SAA5B;AAKAw6B,mBAAWtnC,IAAX,CAAgB,QAAhB,EAA0BwjC,mBAAmBnsC,MAAnB,GAA4BqY,SAASrY,MAAT,GAAkB,CAAxE;AACAiwC,mBAAWtnC,IAAX,CAAgB,OAAhB,EAAyBwjC,mBAAmBpsC,KAA5C;AACH;;AAED;AACAuwC,iEAAUA,CAACP,aAAX,EAA0B;AACtB/vC,gBAAWmsC,mBAAmBnsC,MAA9B,OADsB;AAEtBD,eAAUosC,mBAAmBpsC,KAA7B;AAFsB,KAA1B;;AAKI;AACJuwC,iEAAUA,CAACL,UAAX,EAAuB;AACnBM,cAAM;AADa,KAAvB;AAGAR,kBAAcpnC,IAAd,CAAmB,QAAnB,EAA6BwjC,mBAAmBnsC,MAAhD;AACA+vC,kBAAcpnC,IAAd,CAAmB,OAAnB,EAA4BwjC,mBAAmBpsC,KAA/C;;AAEAgE,YAAQlF,WAAR,CAAoB;AAChBstC;AADgB,KAApB;AAGApoC,YAAQysC,kBAAR,GAA6BT,aAA7B;AACA,WAAOhsC,OAAP;AACH,CAnFM,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxHP;AACA;AACA;AACA;AACA;;AAEA;;;;;;;IAMqB0sC,c;;;;;;;;;;;;;AAyBjB;;;;;;;+BAOe;AACX,gBAAI,UAAKp4E,MAAT,EAAiB;AACb,qBAAK6jD,KAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,KAAZ;AACH;;AAED;;;;;;;;;;sCAOe7J,K,EAAO;AAClB,gBAAIi8B,kBAAkB,EAAtB;;AADkB,gCAE4BH,mEAAYA,CAAC97B,KAAb,CAF5B;AAAA,gBAEV+7B,SAFU,iBAEVA,SAFU;AAAA,gBAECxhE,MAFD,iBAECA,MAFD;AAAA,gBAES2hD,KAFT,iBAESA,KAFT;AAAA,gBAEgB8f,OAFhB,iBAEgBA,OAFhB;;AAIlB,gBAAI9f,iBAAiB5yD,KAArB,EAA4B;AACxB,oBAAIiR,OAAO,CAAP,IAAY2hD,MAAM,CAAN,CAAhB,EAA0B;AACtB+f,oCAAgB,CAAhB,IAAqB1hE,OAAO,CAAP,CAArB;AACH;AACD0hE,+DAAsBA,eAAtB,sBAA0C/f,KAA1C;AACA,oBAAI3hD,OAAOA,OAAOvU,MAAP,GAAgB,CAAvB,IAA4Bk2D,MAAMA,MAAMl2D,MAAN,GAAe,CAArB,CAAhC,EAAyD;AACrDi2E,oCAAgB12E,IAAhB,CAAqBgV,OAAO,CAAP,CAArB;AACH;AACJ,aARD,MAQO;AACH0hE,kCAAkBoC,0EAAmBA,CAAC9jE,MAApB,EAA4B2hD,QAAQ,CAApC,CAAlB;AACH;AACD+f,8BAAkB,6BAAI,IAAI3hE,GAAJ,CAAQ2hE,eAAR,CAAJ,GAA8BztE,IAA9B,CAAmC,UAACwZ,CAAD,EAAIC,CAAJ;AAAA,uBAAUD,IAAIC,CAAd;AAAA,aAAnC,CAAlB;;AAEA,mBAAOg0D,gBAAgBt3E,GAAhB,CAAoB,UAACu3E,GAAD,EAAM36E,CAAN,EAAY;AAAA;;AACnC,oBAAMgB,QAAQ05E,gBAAgB16E,CAAhB,CAAd;AACA,wDACKw6E,SADL,EACiBA,cAAcxhB,qDAAd,GAAqBva,MAAMg8B,OAAN,EAAeE,GAAf,IAAsBl8B,MAAMs+B,cAAN,EAA3C,GACPt+B,MAAMg8B,OAAN,EAAex9D,KAAKuT,KAAL,CAAWmqD,GAAX,CAAf,CAFV,kCAGW,CAAC35E,MAAM20E,OAAN,CAAc,CAAd,CAHZ,+BAIQ31E,CAJR;AAMH,aARM,EAQJkiB,MARI,CAQG;AAAA,uBAAK7hB,EAAEW,KAAF,KAAY,IAAjB;AAAA,aARH,CAAP;AASH;;AAED;;;;;;;;;;;uCAQgBg8E,U,EAAY;AACxB,iBAAKruE,MAAL,CAAY;AACR3F,sBAAM;AACF1E,0BAAM;AACFo6C,qCAAa,KAAK/vC,MAAL,GAAcozD;AADzB;AADJ;AADE,aAAZ;AAOA,gBAAM1jB,OAAOsJ,mEAAUA,CAAC,IAAX,CAAb;AACA,gBAAMs1B,YAAY5+B,KAAKtS,eAAL,EAAlB;AACA,gBAAMuM,QAAQ,EAAEnM,OAAO8wC,UAAU9wC,KAAV,GAAkB6wC,UAA3B,EAAuC5wC,QAAQ6wC,UAAU7wC,MAAV,GAAmB4wC,UAAlE,EAAd;AACA,gBAAME,mBAAmB7+B,KAAK1sB,MAAL,GAAc3Y,MAAd,GAAuBvU,MAAhD;AACA,gBAAM04E,cAAc,IAAIp1E,KAAJ,CAAUm1E,gBAAV,EAA4BP,IAA5B,CAAiCrkC,KAAjC,CAApB;;AAEA,iBAAK+F,IAAL,CAAUA,IAAV;AACA,mBAAO8+B,WAAP;AACH;;AAED;;;;;;;;;4CAMqB;AACjB,mBAAO;AACHzb,8BAAc,KAAKkb;AADhB,aAAP;AAGH;;AAED;;;;;;;;;;iCAOU;AACN,gBAAMvgB,WAAW,KAAKA,QAAL,EAAjB;AACA,gBAAMwe,yIAA+B,KAAK36C,KAAL,EAA/B,CAAN;AACA;AACAo8C,mFAAcA,CAAC,IAAf,EAAqBzB,eAArB;AACAA,4BAAgB36B,SAAhB,CAA0B,KAA1B,EAAiChM,KAAjC,CAAuC,OAAvC,EAAgDjK,qDAAhD;AACAoyB,qBAAS8e,sBAAT;AACA9e,qBAAS+e,kBAAT,CAA4B,KAAKh0E,IAAL,GAAYhE,GAAZ,CAAgB;AAAA,uBAAK/C,EAAEuzC,EAAP;AAAA,aAAhB,CAA5B;AACA,mBAAOinC,eAAP;AACH;AACJ;;;;;;;;;;4CAOwBzzE,I,EAAM;AACvB,mBAAO,CAAC,CAAC,KAAKmJ,SAAL,EAAD,CAAD,EAAqB,CAACnJ,KAAKpG,KAAN,CAArB,CAAP;AACH;;;;;AAzID;;;;;;;;+BAQeiiC,Y,EAAc;AACzB,mBAAO,IAAI45C,cAAJ,CAAmB55C,YAAnB,CAAP;AACH;;AAED;;;;;;;;;;+BAOe;AACX,mBAAOuzC,yDAAP;AACH;;;;EAvBuC6E,sD;;AAAvBwB,6E;;;;;;;;;;;;ACZrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;ACHA;;AAEA;;AAUA;;;;;;AAMO,IAAMtC,eAAe,SAAfA,YAAe,CAAC97B,KAAD,EAAW;AACnC,QAAM+7B,YAAY/7B,MAAM5yC,WAAN,CAAkB2D,IAAlB,EAAlB;AACA,QAAMwJ,SAASylC,MAAMhjB,YAAN,EAAf;AACA,QAAMk/B,QAAQlc,MAAM9vC,MAAN,GAAeuX,KAAf,IAAwB,CAAtC;AACA,QAAMu0D,UAAUhE,gEAAeA,CAAC+D,SAAhB,CAAhB;;AAEA,WAAO,EAAEA,oBAAF,EAAaxhE,cAAb,EAAqB2hD,YAArB,EAA4B8f,gBAA5B,EAAP;AACH,CAPM;;AASP;;;;;;;AAOO,IAAMqC,sBAAsB,SAAtBA,mBAAsB,CAAC9jE,MAAD,EAAS2hD,KAAT,EAAmB;AAClD,QAAM+f,kBAAkB,EAAxB;AACA,QAAM0C,iBAAiBrnB,qEAAkBA,GAAG/8C,OAAO,CAAP,CAArB,EAAgCA,OAAO,CAAP,CAAhC,CAAvB;;AAEA,SAAK,IAAIhZ,IAAI,CAAb,EAAgBA,KAAK26D,KAArB,EAA4B36D,GAA5B,EAAiC;AAC7B06E,wBAAgB16E,CAAhB,IAAqBo9E,eAAep9E,IAAI26D,KAAnB,CAArB;AACH;AACD,WAAO+f,eAAP;AACH,CARM;;AAUP;;;;;;;;AAQO,IAAM2C,eAAe,SAAfA,YAAe,CAACxK,SAAD,EAAYyK,KAAZ,EAAmBryC,WAAnB,EAAgCt8B,MAAhC,EAA2C;AACnE,QAAM4uE,iBAAiBhqC,8DAAWA,CAACs/B,SAAZ,EAAuB,OAAvB,EAAgC,CAAC,CAAD,CAAhC,EAAwClkE,OAAO8lC,WAA/C,oBACdP,KADc,CACR9K,sDADQ,EACE6B,YAAYkB,KADd,SAEd+H,KAFc,CAERrK,uDAFQ,EAEGoB,YAAYmB,MAFf,SAGd8H,KAHc,CAGR,eAHQ,EAGYjJ,YAAYkC,MAHxB,WAGoCx+B,OAAOmlC,WAH3C,SAG0DnlC,OAAOqrE,WAHjE,EAId9lC,KAJc,CAIR,YAJQ,EAIMopC,MAAM5+B,WAAN,YAA6Bv7C,QAA7B,GACbm6E,MAAM5+B,WAAN,CAAkB/vC,OAAOozD,QAAzB,CADa,GACwBub,MAAM5+B,WALpC,CAAvB;AAMA,WAAOnL,8DAAWA,CAACgqC,cAAZ,EAA4B,IAA5B,EAAkC,CAAC,CAAD,CAAlC,EAA0C5uE,OAAO8lC,WAAjD,yBACUP,KADV,CACgB9K,sDADhB,EAC0B6B,YAAYkB,KADtC,SAEU+H,KAFV,CAEgBrK,uDAFhB,EAEwB,MAFxB,EAGUqK,KAHV,CAGgB,SAHhB,EAG8BjJ,YAAY4W,OAH1C,SAIUv9C,IAJV,CAIeg5E,MAAMh5E,IAJrB,EAKUq6B,IALV,EAAP;AAMH,CAbM;;AAeyB;;;;;;;;AAQzB,IAAM6+C,iBAAiB,SAAjBA,cAAiB,CAACp2E,IAAD,EAAOw5B,IAAP,EAAaud,YAAb,EAA8B;AACxD,QAAI07B,YAAY,CAAC5sD,QAAjB;AACA,QAAI6vB,WAAW,CAAC7vB,QAAhB;;AAEA7lB,SAAKtD,OAAL,CAAa,UAACkF,IAAD,EAAU;AACnB,YAAMhI,QAAQ4/B,OAAO53B,KAAK43B,IAAL,CAAP,GAAoB53B,IAAlC;AACA,YAAMsvC,QAAQ6F,aAAaiB,UAAb,CAAwBp+C,KAAxB,CAAd;AACA64E,oBAAY58D,KAAKxD,GAAL,CAAS6+B,MAAMlM,MAAN,GAAe,CAAxB,EAA2BytC,SAA3B,CAAZ;AACA/8B,mBAAW7/B,KAAKxD,GAAL,CAAS6+B,MAAMnM,KAAN,GAAc,CAAvB,EAA0B2Q,QAA1B,CAAX;AACH,KALD;;AAOA,WAAO,EAAE1Q,QAAQytC,SAAV,EAAqB1tC,OAAO2Q,QAA5B,EAAP;AACH,CAZM;;AAcP;;;;;;;;AAQO,IAAM2gC,kBAAkB,SAAlBA,eAAkB,CAACr2E,IAAD,EAAOw5B,IAAP,EAAaud,YAAb,EAA2BrxC,SAA3B,EAAyC;AACpE,QAAMwrC,QAAQ,EAAd;;AAEAlxC,SAAKtD,OAAL,CAAa,UAACkF,IAAD,EAAO0I,KAAP,EAAiB;AAC1B,YAAM1Q,QAAQ4/B,OAAO53B,KAAK43B,IAAL,CAAP,GAAoB53B,IAAlC;;AAD0B,oCAEAm1C,aAAaiB,UAAb,CAAwBtyC,UAAU9L,KAAV,CAAxB,CAFA;AAAA,YAElBorC,MAFkB,yBAElBA,MAFkB;AAAA,YAEVD,KAFU,yBAEVA,KAFU;;AAG1BmM,cAAM5mC,KAAN,IAAe,EAAE06B,QAAQA,SAAS,CAAnB,EAAsBD,OAAOA,QAAQ,CAArC,EAAf;AACH,KAJD;AAKA,WAAOmM,KAAP;AACH,CATM;;AAWP;;;;;;;;;AASO,IAAMolC,oBAAoB,SAApBA,iBAAoB,CAAC/uE,MAAD,EAASwf,QAAT,EAAmB/mB,IAAnB,EAA4B;AACzD,QAAIgsE,cAAc,CAAlB;AACA,QAAIC,aAAa,CAAjB;AACA,QAAIsK,gBAAgB;AAChBxxC,eAAO,CADS,EACNC,QAAQ;AADF,KAApB;AAHyD,QAOrD4wC,UAPqD,GAYrD7uD,QAZqD,CAOrD6uD,UAPqD;AAAA,QAQrDY,UARqD,GAYrDzvD,QAZqD,CAQrDyvD,UARqD;AAAA,QASrDT,WATqD,GAYrDhvD,QAZqD,CASrDgvD,WATqD;AAAA,QAUrDU,WAVqD,GAYrD1vD,QAZqD,CAUrD0vD,WAVqD;AAAA,QAWrD/gC,QAXqD,GAYrD3uB,QAZqD,CAWrD2uB,QAXqD;AAAA,QAcrD9zC,IAdqD,GAgBrD2F,MAhBqD,CAcrD3F,IAdqD;AAAA,QAerDyvE,KAfqD,GAgBrD9pE,MAhBqD,CAerD8pE,KAfqD;AAAA,QAkBrD2B,IAlBqD,GAoBrDpxE,IApBqD,CAkBrDoxE,IAlBqD;AAAA,QAmBrD91E,IAnBqD,GAoBrD0E,IApBqD,CAmBrD1E,IAnBqD;;AAqBzD,QAAMw5E,kBAAkBx5E,KAAKo6C,WAA7B;AACA,QAAMq/B,aAAa,EAAnB;AACA,QAAMC,aAAa,EAAnB;AACA,QAAIC,eAAe,CAAnB;AACAd,gBAAYr5E,OAAZ,CAAoB,UAACo6E,UAAD,EAAal+E,CAAb,EAAmB;AACnC,YAAMm+E,YAAY,EAAEhyC,OAAO,CAAT,EAAYC,QAAQ,CAApB,EAAlB;AACA,YAAMgyC,YAAY,EAAEjyC,OAAO,CAAT,EAAYC,QAAQ,CAApB,EAAlB;AACA,YAAM99B,QAAQlH,KAAKpH,CAAL,KAAW,EAAzB;AACI;AACJ,YAAI89E,oBAAoB7zC,qDAApB,IAA4B6zC,oBAAoB5zC,sDAApD,EAA2D;AACvD;AACAg0C,uBAAW/xC,KAAX,IAAoB6wC,UAApB;AACAoB,sBAAUjyC,KAAV,GAAkB,CAAC79B,MAAMu9D,IAAN,GAAa,IAAI5uD,KAAKyQ,IAAL,CAAUpf,MAAMu9D,IAAN,GAAa5uD,KAAKqoC,EAA5B,CAAjB,GAAmD80B,KAAKjuC,KAAzD,IAAkE6wC,UAApF;AACAiB,2BAAehhE,KAAKxD,GAAL,CAAS2kE,UAAUjyC,KAAnB,EAA0B8xC,YAA1B,CAAf;AACAE,sBAAUhyC,KAAV,GAAkB+xC,WAAW/xC,KAAX,GAAmB8xC,YAArC;;AAEA;AACAC,uBAAW9xC,MAAX,GAAoBnvB,KAAKxD,GAAL,CAASykE,WAAW9xC,MAApB,EAA4BguC,KAAKhuC,MAAjC,IAA2C4wC,UAA/D;AACAoB,sBAAUhyC,MAAV,GAAmB8xC,WAAW9xC,MAA9B;AACA+xC,sBAAU/xC,MAAV,GAAmB8xC,WAAW9xC,MAA9B;AACH,SAXD,MAWO;AACH;AACA8xC,uBAAW/xC,KAAX,GAAmBlvB,KAAKxD,GAAL,CAASykE,WAAW/xC,KAApB,EAA2B79B,MAAMu9D,IAAN,GAAa,IAAI5uD,KAAKyQ,IAAL,CAAUpf,MAAMu9D,IAAN,GAAa5uD,KAAKqoC,EAA5B,CAAjB,GAC5C80B,KAAKjuC,KADY,IACH6wC,UADhB;AAEAoB,sBAAUjyC,KAAV,GAAkB+xC,WAAW/xC,KAA7B;AACAgyC,sBAAUhyC,KAAV,GAAkB+xC,WAAW/xC,KAA7B;AACA8xC,2BAAehhE,KAAKxD,GAAL,CAAS2kE,UAAUjyC,KAAnB,EAA0B8xC,YAA1B,CAAf;;AAEA;AACAC,uBAAW9xC,MAAX,IAAqB4wC,UAArB;AACAoB,sBAAUhyC,MAAV,GAAmBguC,KAAKhuC,MAAL,GAAc4wC,UAAjC;AACAmB,sBAAU/xC,MAAV,GAAmB8xC,WAAW9xC,MAAX,GAAoBgyC,UAAUhyC,MAAjD;AACH;AACD;AACA,YAAIqsC,UAAU,YAAd,EAA4B;AACxBrF,0BAAcn2D,KAAKxD,GAAL,CAAS25D,WAAT,EAAsB+K,UAAU/xC,MAAhC,CAAd;AACH,SAFD,MAEO;AACHgnC,2BAAe+K,UAAU/xC,MAAzB;AACAinC,yBAAap2D,KAAKxD,GAAL,CAAS45D,UAAT,EAAqB8K,UAAUhyC,KAA/B,EAAsCyxC,UAAtC,IAAoDZ,UAAjE;AACH;AACDW,wBAAgB;AACZxxC,mBAAOlvB,KAAKxD,GAAL,CAAS0kE,UAAUhyC,KAAnB,EAA0BwxC,cAAcxxC,KAAxC,CADK;AAEZC,oBAAQnvB,KAAKxD,GAAL,CAAS0kE,UAAU/xC,MAAnB,EAA2BuxC,cAAcvxC,MAAzC;AAFI,SAAhB;AAIA2xC,mBAAW/5E,IAAX,CAAgBm6E,SAAhB;AACAH,mBAAWh6E,IAAX,CAAgBo6E,SAAhB;AACH,KA1CD;AA2CAL,eAAWj6E,OAAX,CAAmB,UAACq6E,SAAD,EAAYn+E,CAAZ,EAAkB;AACjC,YAAIy4E,UAAU,YAAd,EAA4B;AACxB0F,sBAAU/xC,MAAV,GAAmBgnC,WAAnB;AACA4K,uBAAWh+E,CAAX,EAAcmsC,KAAd,GAAsB8xC,YAAtB;AACA,gBAAIH,oBAAoB7zC,qDAApB,IAA4B6zC,oBAAoB5zC,sDAApD,EAA2D;AACvDizC,4BAAYn9E,CAAZ,EAAeosC,MAAf,GAAwBgnC,WAAxB;AACA4K,2BAAWh+E,CAAX,EAAcosC,MAAd,GAAuBgnC,WAAvB;AACA2K,2BAAW/9E,CAAX,EAAcmsC,KAAd,GAAsBgxC,YAAYn9E,CAAZ,EAAemsC,KAAf,GAAuB8xC,YAA7C;AACH,aAJD,MAIO;AACHd,4BAAYn9E,CAAZ,EAAemsC,KAAf,GAAuB8xC,YAAvB;AACAF,2BAAW/9E,CAAX,EAAcmsC,KAAd,GAAsB8xC,YAAtB;AACAd,4BAAYn9E,CAAZ,EAAemsC,KAAf,GAAuB8xC,YAAvB;AACH;AACD5K,yBAAap2D,KAAKxD,GAAL,CAAS45D,aAAa0K,WAAW/9E,CAAX,EAAcmsC,KAApC,CAAb;AACH,SAbD,MAaO;AACHgyC,sBAAUhyC,KAAV,GAAkBlvB,KAAKxD,GAAL,CAAS45D,UAAT,EAAqBv2B,QAArB,CAAlB;AACA,gBAAIghC,oBAAoB9zC,oDAApB,IAA2B8zC,oBAAoB3zC,uDAAnD,EAA2D;AACvDgzC,4BAAYn9E,CAAZ,EAAemsC,KAAf,GAAuBknC,UAAvB;AACA2K,2BAAWh+E,CAAX,EAAcmsC,KAAd,GAAsBknC,UAAtB;AACA4K,+BAAe5K,UAAf;AACH,aAJD,MAIO;AACH2K,2BAAWh+E,CAAX,EAAcmsC,KAAd,GAAsB8xC,YAAtB;AACAF,2BAAW/9E,CAAX,EAAcmsC,KAAd,GAAsBgxC,YAAYn9E,CAAZ,EAAemsC,KAAf,GAAuB8xC,YAA7C;AACAd,4BAAYn9E,CAAZ,EAAemsC,KAAf,GAAuBwxC,cAAcxxC,KAAd,GAAsB8xC,YAA7C;AACA5K,6BAAap2D,KAAKxD,GAAL,CAAS45D,UAAT,EAAqB8K,UAAUhyC,KAA/B,IAAwC6wC,UAArD;AACH;AACJ;AACJ,KA3BD;AA4BA3J,iBAAap2D,KAAKxD,GAAL,CAAS45D,UAAT,EAAqBuK,UAArB,CAAb;AACAxK,mBAAeyK,cAAcb,UAA7B;;AAEA,WAAO,EAAE5J,wBAAF,EAAeC,sBAAf,EAA2B0K,sBAA3B,EAAuCC,sBAAvC,EAAmDL,4BAAnD,EAAkEM,0BAAlE,EAAP;AACH,CApGM;;AAsGP;;;;;;;;AAQO,IAAMI,kBAAkB,SAAlBA,eAAkB,CAAC7uE,IAAD,EAAO48C,SAAP,EAAkBsP,UAAlB,EAAiC;AAAA;;AAAA,QAExD+e,OAFwD,GAKxDruB,SALwD,CAExDquB,OAFwD;AAAA,QAGxDD,SAHwD,GAKxDpuB,SALwD,CAGxDouB,SAHwD;AAAA,QAIxD/7B,KAJwD,GAKxD2N,SALwD,CAIxD3N,KAJwD;AAAA,QAOxDzlC,MAPwD,GAWxD0iD,UAXwD,CAOxD1iD,MAPwD;AAAA,QAQxDslE,YARwD,GAWxD5iB,UAXwD,CAQxD4iB,YARwD;AAAA,QASxDC,SATwD,GAWxD7iB,UAXwD,CASxD6iB,SATwD;AAAA,QAUxD5jB,KAVwD,GAWxDe,UAXwD,CAUxDf,KAVwD;;AAY5D,QAAMggB,MAAM3hE,OAAOxJ,SAAS,OAAT,GAAmB,CAAnB,GAAuBwJ,OAAOvU,MAAP,GAAgB,CAA9C,CAAZ;AACA,QAAMwmD,OAAO0P,MAAMnrD,SAAS,OAAT,GAAmB,CAAnB,GAAuBmrD,MAAMl2D,MAAN,GAAe,CAA5C,CAAb;;AAEA,4CACK+1E,SADL,EACiBA,cAAc,MAAd,GAAuB/7B,MAAMg8B,OAAN,EAAeE,GAAf,IAAsBl8B,MAAMs+B,cAAN,EAA7C,GAAsEt+B,MAAMg8B,OAAN,EAAeE,GAAf,CADvF,kCAEW2D,aAAa9uE,IAAb,CAFX,+BAGQA,SAAS,OAAT,GAAmB,CAAnB,GAAuB+uE,UAAU95E,MAAV,GAAmB,CAHlD,kCAIW,CAACk2E,GAAD,EAAM1vB,IAAN,CAJX;AAMH,CArBM,C;;;;;;;;;;;;;;;;;;;;;;ACnOP;;AAcA,IAAMuzB,kFACD7H,2DADC,EACY;AACV8H,cAAU;AAAA,eAAS;AACf/6E,iBAAK,CAAC,CAAD,CADU;AAEfK,oBAAQqD;AAFO,SAAT;AAAA,KADA;AAKVs3E,2BAAuB,+BAACzzC,WAAD,EAAiB;AAAA,YAEhC8yC,UAFgC,GAIhC9yC,WAJgC,CAEhC8yC,UAFgC;AAAA,YAGhC5xC,KAHgC,GAIhClB,WAJgC,CAGhCkB,KAHgC;;AAKpC,eAAO;AACHzoC,iBAAK;AACDyoC,uBAAUA,KAAV,OADC;AAED0V,yBAAY,CAAZ;AAFC,aADF;AAKH99C,oBAAQ;AACJooC,uBAAO,eAAC9rC,CAAD,EAAIL,CAAJ;AAAA,2BAAa+9E,WAAW/9E,CAAX,EAAcmsC,KAA3B;AAAA,iBADH;AAEJ0V,yBAAY,CAAZ;AAFI;AALL,SAAP;AAUH,KApBS;AAqBV88B,uBAAmB,2BAAC1zC,WAAD,EAAiB;AAAA,YACxB0yC,aADwB,GACE1yC,WADF,CACxB0yC,aADwB;AAAA,YACTvxC,MADS,GACEnB,WADF,CACTmB,MADS;;AAEhC,eAAO;AACHwyC,wBAAYxyC,MADT;AAEHyyC,uBAAWlB,cAAcxxC,KAFtB;AAGH2yC,yBAAa;AACTC,4BAAY,IADH;AAETC,0BAAU;AAFD;AAHV,SAAP;AAQH;AA/BS,CADZ,uCAkCDpI,yDAlCC,EAkCU;AACR6H,cAAU;AAAA,eAAS;AACf/6E,iBAAK0D,IADU;AAEfrD,oBAAQ;AAAA,uBAAK,CAAC1D,CAAD,CAAL;AAAA;AAFO,SAAT;AAAA,KADF;AAKRq+E,2BAAuB,+BAACzzC,WAAD,EAAct8B,MAAd,EAAyB;AAAA,YAExCw9B,KAFwC,GAGxClB,WAHwC,CAExCkB,KAFwC;AAAA,YAIpC0V,OAJoC,GAIxBlzC,MAJwB,CAIpCkzC,OAJoC;;AAK5C,eAAO;AACHn+C,iBAAK;AACDyoC,uBAAUA,KAAV,OADC;AAED0V,yBAAYA,OAAZ;AAFC,aADF;AAKH99C,oBAAQ;AACJooC,uBAAUA,KAAV,OADI;AAEJ0V,yBAAY,CAAZ;AAFI;AALL,SAAP;AAUH,KApBO;AAqBR88B,uBAAmB,2BAAC1zC,WAAD,EAAiB;AAAA,YACxB0yC,aADwB,GACC1yC,WADD,CACxB0yC,aADwB;AAAA,YACTxxC,KADS,GACClB,WADD,CACTkB,KADS;;AAEhC,eAAO;AACHyyC,wBAAYjB,cAAcvxC,MADvB;AAEHyyC,uBAAW1yC,KAFR;AAGH2yC,yBAAa;AACTC,4BAAY,KADH;AAETC,0BAAU;AAFD;AAHV,SAAP;AAQH;AA/BO,CAlCV,sBAAN;;AAqEO,IAAMC,yEACRh1C,qDADQ,EACDu0C,kBAAkB5H,yDAAlB,CADC,oCAER1sC,sDAFQ,EAEAs0C,kBAAkB5H,yDAAlB,CAFA,oCAGR5sC,oDAHQ,EAGFw0C,kBAAkB7H,2DAAlB,CAHE,oCAIRxsC,uDAJQ,EAICq0C,kBAAkB7H,2DAAlB,CAJD,mBAAN;;AAOA,IAAMuI,mEACRj1C,qDADQ,EACDmtC,oDADC,kCAERltC,sDAFQ,EAEA+sC,sDAFA,kCAGRjtC,oDAHQ,EAGFI,uDAHE,kCAIRD,uDAJQ,EAICC,uDAJD,iBAAN;;AAOP;AACO,IAAM+0C,WAAW,SAAXA,QAAW;AAAA;;AAAA,4CACnBl1C,qDADmB,EACZ7iC,KAAK6d,OAAL,EADY,yBAEnBilB,sDAFmB,EAEX9iC,KAAK6d,OAAL,EAFW,yBAGnB+kB,oDAHmB,EAGb5iC,IAHa,yBAInB+iC,uDAJmB,EAIV/iC,IAJU;AAAA,CAAjB;;AAOP;AACO,IAAMg4E,0DACRn1C,qDADQ,EACD,CAAC4sC,sDAAD,EAAQ9d,sDAAR,CADC,+BAER7uB,sDAFQ,EAEA,CAAC6uB,sDAAD,EAAQ8d,sDAAR,CAFA,+BAGR7sC,oDAHQ,EAGF,CAAC6sC,sDAAD,EAAQ9d,sDAAR,CAHE,+BAIR5uB,uDAJQ,EAIC,CAAC4uB,sDAAD,EAAQ8d,sDAAR,CAJD,cAAN,C;;;;;;;;;;;;AC1GP;AAAA;AAAA;AAAA;;AAEO,IAAMt6B,QAAQ;AACjB5tC,YAAQ;AACJ6tC,sBAAc,sBAACrM,OAAD,EAAUnvC,KAAV;AAAA,mBAAoBsqC,iEAAcA,CAAC6E,QAAQvd,OAAR,IAAmB,EAAlC,EAAsC5xB,KAAtC,CAApB;AAAA;AADV,KADS;AAIjBoG,UAAM,EAJW;AAKjBmJ,eAAW,EALM;AAMjBsqE,qBAAiB,EANA;AAOjB5vC,iBAAa;AACTuR,sBAAc,sBAACrM,OAAD,EAAUnvC,KAAV,EAAoB;AAC9B,gBAAMiqC,cAAcK,iEAAcA,CAAC6E,QAAQjF,YAAvB,EAAqClqC,KAArC,CAApB;AACA,aAAC,SAAD,EAAY,QAAZ,EAAsB,QAAtB,EAAgC8C,OAAhC,CAAwC,UAACw0C,KAAD,EAAW;AAC/CrN,4BAAYqN,KAAZ,IAAqBr7B,KAAK3D,GAAL,CAAS2xB,YAAYqN,KAAZ,IAAqB,CAArB,GAAyBrN,YAAYqN,KAAZ,CAAzB,GAA8C,CAAvD,EAChBrN,YAAY6R,QAAZ,GAAuB,GADP,EACY7R,YAAY4uC,SAAZ,GAAwB,GADpC,CAArB;AAEH,aAHD;AAIA,mBAAO5uC,WAAP;AACH;AARQ,KAPI;AAiBjBwN,kBAAc,EAjBG;AAkBjBk/B,cAAU,EAlBO;AAmBjBljE,WAAO;AACH+nC,sBAAc,sBAACrM,OAAD,EAAUnvC,KAAV,EAAoB;AAC9BmvC,oBAAQsO,KAAR,GAAgBhqC,KAAhB,CAAsBzT,KAAtB;AACAmvC,oBAAQkvC,iBAAR;AACAlvC,oBAAQzc,KAAR,GAAgB4rD,MAAhB,CAAuB,OAAvB,EAAgCt+E,KAAhC;AACA,mBAAOA,KAAP;AACH;AANE,KAnBU;AA2BjBy9C,WAAO,EA3BU;AA4BjBF,gBAAY,EA5BK;AA6BjB7qB,WAAO,EA7BU;AA8BjB4pD,WAAO;AACH9gC,sBAAc,sBAACrM,OAAD,EAAUnvC,KAAV;AAAA,mBAAoBsqC,iEAAcA,CAAC6E,QAAQovC,MAAR,IAAkB,EAAjC,EAAqCv+E,KAArC,CAApB;AAAA;AADX;AA9BU,CAAd,C;;;;;;;;;;;;ACFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAUA;;;;;;;;;AASO,IAAMw+E,oBAAoB,SAApBA,iBAAoB,CAAC3M,SAAD,EAAYzrE,IAAZ,EAAkBq4E,cAAlB,EAAqC;AAClE,QAAMx0C,cAAcw0C,eAAex0C,WAAf,EAApB;AACA,QAAMt8B,SAAS8wE,eAAe9wE,MAAf,EAAf;AAFkE,QAI9DovE,UAJ8D,GAK9D9yC,WAL8D,CAI9D8yC,UAJ8D;AAAA,QAO9DtpC,WAP8D,GAS9D9lC,MAT8D,CAO9D8lC,WAP8D;AAAA,QAQ9DstB,QAR8D,GAS9DpzD,MAT8D,CAQ9DozD,QAR8D;;AAUlE,QAAM2d,cAAcT,+DAAcA,CAACld,QAAf,CAApB;AACA,QAAM0c,WAAWiB,YAAYjB,QAAZ,CAAqBr3E,IAArB,CAAjB;AACA,QAAM+mB,WAAWuxD,YAAYhB,qBAAZ,CAAkCzzC,WAAlC,EAA+Ct8B,MAA/C,CAAjB;;AAEA,QAAM/K,OAAO2vC,8DAAWA,CAACs/B,SAAZ,EAAuB,KAAvB,EAA8B4L,SAAS/6E,GAAvC,EAA+C+wC,WAA/C,iBAAb;AACA7wC,SAAKswC,KAAL,CAAWrK,uDAAX,EAAmB,UAACxpC,CAAD,EAAIL,CAAJ;AAAA,eAAa+9E,WAAW/9E,CAAX,EAAcosC,MAA3B;AAAA,KAAnB;AACAxoC,SAAKswC,KAAL,CAAW9K,sDAAX,EAAkBjb,SAASzqB,GAAT,CAAayoC,KAA/B;AACAvoC,SAAKswC,KAAL,CAAW,SAAX,EAAsB/lB,SAASzqB,GAAT,CAAam+C,OAAnC;;AAEA,QAAM3+C,UAAUqwC,8DAAWA,CAAC3vC,IAAZ,EAAkB,KAAlB,EAAyB66E,SAAS16E,MAAlC,EAA6C0wC,WAA7C,qBAAhB;AACAvxC,YAAQgxC,KAAR,CAAc9K,sDAAd,EAAqBjb,SAASpqB,MAAT,CAAgBooC,KAArC;AACAjpC,YAAQgxC,KAAR,CAAc,SAAd,EAAyB/lB,SAASpqB,MAAT,CAAgB89C,OAAzC;;AAEA,WAAO3+C,OAAP;AACH,CAxBM;;AA0BP;;;;;;;;;AASO,IAAM43E,uBAAuB,SAAvBA,oBAAuB,CAAC3qC,OAAD,EAAU0iC,SAAV,EAAqBp+B,WAArB,EAAkCrtC,IAAlC,EAA2C;AAC3E,QAAIo1E,YAAY,CAAhB;AACA,QAAID,aAAa,CAAjB;AACA,QAAIoD,gBAAgB,CAApB;AACA,QAAIC,eAAe,CAAnB;AACA,QAAM30C,cAAckF,QAAQlF,WAAR,EAApB;AAL2E,QAOnE6uC,MAPmE,GAcnE7uC,WAdmE,CAOnE6uC,MAPmE;AAAA,QAQnE3sC,MARmE,GAcnElC,WAdmE,CAQnEkC,MARmE;AAAA,QASnEsvC,WATmE,GAcnExxC,WAdmE,CASnEwxC,WATmE;AAAA,QAUnEtwC,KAVmE,GAcnElB,WAdmE,CAUnEkB,KAVmE;AAAA,QAWnEC,MAXmE,GAcnEnB,WAdmE,CAWnEmB,MAXmE;AAAA,QAYnE0Q,QAZmE,GAcnE7R,WAdmE,CAYnE6R,QAZmE;AAAA,QAanE+8B,SAbmE,GAcnE5uC,WAdmE,CAanE4uC,SAbmE;;;AAgB3E0C,iBAAanwC,UAAUqwC,YAAYrwC,MAAZ,GAAqB,IAAI0tC,MAAzB,GAAkC,IAAI3sC,MAAhD,CAAb;AACAqvC,gBAAYrwC,SAAS2tC,SAAS,CAAT,GAAa3sC,SAAS,CAA/B,CAAZ;;AAEAwyC,oBAAgB9F,aAAa4C,YAAYrwC,MAAZ,GAAqB0tC,SAAS,CAA9B,GAAkC3sC,SAAS,CAAxD,CAAhB;AACAyyC,mBAAe9iC,YAAYg9B,SAAS,CAAT,GAAa3sC,SAAS,CAAlC,CAAf;;AAEA,QAAI0yC,aAAatsC,8DAAWA,CAACs/B,SAAZ,EAAuB,KAAvB,EAA8B,CAAC,CAAD,CAA9B,EAAsCp+B,WAAtC,kBAAjB;AACAorC,eAAWppE,MAAX,OAAsBg+B,WAAtB,uBAAqDgB,MAArD;AACI;AACJ,QAAImqC,gBAAgBA,eAAepD,SAAnC,EAA8C;AAC1CqD,qBAAaA,WAAW3rC,KAAX,CAAiB9K,sDAAjB,EAA2Bw2C,YAA3B,SAA6C1rC,KAA7C,CAAmD,YAAnD,EAAiE,QAAjE,CAAb;AACH;AACG;AACJ,QAAIyrC,iBAAiBA,gBAAgBpD,UAArC,EAAiD;AAC7CsD,mBAAW3rC,KAAX,CAAiBrK,uDAAjB,EAA4B81C,aAA5B,SAA+CzrC,KAA/C,CAAqD,YAArD,EAAmE,QAAnE;AACH;;AAED2rC,iBAAatsC,8DAAWA,CAACssC,UAAZ,EAAwB,KAAxB,EAA+B,CAAC,CAAD,CAA/B,EAAuCprC,WAAvC,sBAAb;;AAEAorC,eAAW3rC,KAAX,CAAiB9K,sDAAjB,EAA2BozC,SAA3B;AACAqD,eAAW3rC,KAAX,CAAiBrK,uDAAjB,EAA4B0yC,UAA5B;;AAEA,QAAMxB,aAAayE,kBAAkBK,UAAlB,EAA8Bz4E,IAA9B,EAAoC+oC,OAApC,CAAnB;AACA,WAAO,EAAE4qC,sBAAF,EAAP;AACH,CAxCM;;AA0CP;;;;;;;AAOO,IAAMC,qBAAqB,SAArBA,kBAAqB,CAAC7qC,OAAD,EAAU0iC,SAAV,EAAwB;AAAA,0BAIlD1iC,QAAQxhC,MAAR,EAJkD;AAAA,QAElD8lC,WAFkD,mBAElDA,WAFkD;AAAA,QAGlDzrC,IAHkD,mBAGlDA,IAHkD;;AAKtD,QAAM80E,kBAAkB90E,KAAK1E,IAAL,CAAUo6C,WAAlC;;AAEA,QAAMohC,QAAQV,0DAASA,CAACtB,eAAV,CAAd;AACA,QAAM7C,eAAe1nC,8DAAWA,CAACs/B,SAAZ,EAAuB,KAAvB,EAA8B,UAACxyE,CAAD,EAAIL,CAAJ;AAAA,eAAU8/E,MAAM18E,GAAN,CAAU;AAAA,mBAAK,CAACwK,CAAD,EAAIvN,EAAEuN,CAAF,CAAJ,EAAUvN,EAAE2zC,KAAZ,EAAmB3zC,EAAEwrE,IAArB,EACxExrE,EAAEW,KADsE,EAC/DmvC,QAAQ5/B,SAAR,EAD+D,EAC1CvQ,CAD0C,CAAL;AAAA,SAAV,CAAV;AAAA,KAA9B,EACqBy0C,WADrB,uBAArB;;AAGA,QAAMsrC,aAAab,6DAAYA,CAACpB,eAAb,CAAnB;;AAEA7C,iBAAatmC,OAAb,CAAqBorC,UAArB,EAAiC,IAAjC;AACA,WAAO,EAAE9E,0BAAF,EAAP;AACH,CAfM;;AAiBP;;;;;;AAMO,IAAM+E,iBAAiB,SAAjBA,cAAiB,CAACh3E,IAAD,EAAOi3E,WAAP,EAAoBC,cAApB,EAAoC/vC,OAApC,EAAgD;AAAA,+BAMtEA,QAAQlF,WAAR,EANsE;AAAA,QAEtE4W,OAFsE,wBAEtEA,OAFsE;AAAA,QAGtEs7B,WAHsE,wBAGtEA,WAHsE;AAAA,QAItEa,UAJsE,wBAItEA,UAJsE;AAAA,QAKtEC,YALsE,wBAKtEA,YALsE;;AAO1E,QAAM/hD,OAAOgkD,iBAAiB,CAACr+B,OAAD,GAAW,CAA5B,GAAgC,CAA7C;;AAEA,QAAI74C,KAAK,CAAL,MAAY6tE,sDAAhB,EAAuB;AACnB,eAAUsG,YAAYn0E,KAAK,CAAL,CAAZ,EAAqBi3E,WAArB,CAAV;AACH;AACD,YAAUA,gBAAgB,OAAhB,IAA2B,CAACC,cAA5B,GAA6CjC,YAA7C,GAA4DD,WAAWh1E,KAAK,CAAL,CAAX,EAAoBi3E,WAApB,IAAmC/jD,IAAzG;AACH,CAbM;;AAeP;;;;;;AAMA,IAAMikD,YAAY,SAAZA,SAAY,CAACv3E,GAAD,EAAS;AACvB,QAAI,0CAA0CxD,IAA1C,CAA+CwD,GAA/C,KAAuD,UAAUxD,IAAV,CAAewD,GAAf,CAAvD,IAA8EA,IAAInE,MAAJ,GAAa,CAA/F,EAAkG;AAC9F,eAAO,IAAP;AACH;AACD,WAAO,KAAP;AACH,CALD;;AAOA;;;;;;AAMA,IAAM27E,cAAc,SAAdA,WAAc,CAAU//E,CAAV,EAAa8N,IAAb,EAAmBkyE,WAAnB,EAAgCl0C,KAAhC,EAAuCC,MAAvC,EAA+C;AAC/D,QAAMk0C,eAAenyE,IAArB;AACA;AACA,QAAM09D,OAAOxrE,EAAE,CAAF,KAAQ4c,KAAK3D,GAAL,CAAS6yB,KAAT,EAAgBC,MAAhB,IAA0BnvB,KAAKqoC,EAApD;AACA,QAAMoxB,QAAQr2E,EAAE,CAAF,KAAQggF,WAAtB;;AAEA,QAAI3J,iBAAiB6J,OAArB,EAA8B;AAC1B7J,cAAM8J,IAAN,CAAW,UAACn7C,GAAD,EAAS;AAChBhlC,cAAEq2E,KAAF,GAAUrxC,GAAV;AACA,mBAAO+6C,YAAY//E,CAAZ,EAAe8N,IAAf,CAAP;AACH,SAHD;AAIH,KALD,MAKO,IAAIuoE,iBAAiB+J,OAArB,EAA8B;AACjC,YAAIC,WAAWhK,MAAMiK,SAAN,CAAgB,IAAhB,CAAf;;AAEA,YAAID,SAASE,QAAT,CAAkB51D,WAAlB,OAAoC,KAAxC,EAA+C;AAC3C,gBAAM61D,MAAMH,SAASG,GAAT,IAAgBH,SAASI,IAArC;AACAJ,uBAAWK,SAASC,eAAT,CAAyB,4BAAzB,EAAuD,OAAvD,CAAX;AACAN,qBAASO,YAAT,CAAsB,MAAtB,EAA8BJ,GAA9B;AACH;AACD,YAAMK,eAAe/rC,gEAAaA,CAACurC,QAAd,CAArB;AACAQ,qBAAansC,IAAb,CAAkB,WAAlB,aAAwC82B,OAAO,GAA/C;AACA,eAAO12B,gEAAaA,CAACmrC,aAAa3hD,IAAb,GAAoBwiD,WAApB,CAAgCT,QAAhC,CAAd,CAAP;AACH,KAXM,MAWA,IAAI,OAAOhK,KAAP,KAAiB,QAArB,EAA+B;AAClC,YAAI0K,gBAAJ;AACA,YAAIjB,UAAUzJ,KAAV,CAAJ,EAAsB;AAClB0K,sBAAU1K,KAAV;AACH,SAFD,MAEO;AACH0K,sBAAU/G,0DAAQA,CAAC3D,KAAT,EAAgB7K,IAAhB,CAAqBA,IAArB,GAAV;AACH;AACD,eAAOt4B,8DAAWA,CAAC+sC,YAAZ,EAA0B,MAA1B,EAAkC;AAAA,mBAAQ,CAACl5E,IAAD,CAAR;AAAA,SAAlC,EAAkD2tC,IAAlD,CAAuD,GAAvD,EAA4DqsC,OAA5D,CAAP;AACH;AACD/gF,MAAE,CAAF,IAAO,QAAP;AACA,WAAO+/E,YAAY//E,CAAZ,EAAe8N,IAAf,EAAqB,QAArB,CAAP;AACH,CAjCD;;AAmCA;;;;;;;;;AASO,IAAMkzE,gBAAgB,SAAhBA,aAAgB,CAAC/yE,KAAD,EAAQ69B,KAAR,EAAeC,MAAf,EAAuBi0C,WAAvB,EAAuC;AAChE,QAAMjG,OAAOC,0DAAQA,CAAC/rE,MAAM,CAAN,CAAT,CAAb;;AAEA,QAAI8rE,IAAJ,EAAU;AACN,eAAOA,KAAKvO,IAAL,CAAUv9D,MAAM,CAAN,KAAY2O,KAAK3D,GAAL,CAAS6yB,KAAT,EAAgBC,MAAhB,IAA0BnvB,KAAKqoC,EAArD,CAAP;AACH;AACD,WAAO+0B,0DAAQA,CAAC/rE,MAAM,CAAN,IAAW,QAAX,GAAsB+xE,WAA/B,EAA4CxU,IAA5C,CAAiDv9D,MAAM,CAAN,KAAY2O,KAAK3D,GAAL,CAAS6yB,KAAT,EAAgBC,MAAhB,IAA0BnvB,KAAKqoC,EAA5F,CAAP;AACH,CAPM;;AASP;;;;AAIO,IAAMg8B,aAAa,SAAbA,UAAa,CAAClH,IAAD,EAAOvH,SAAP,EAAkBvkE,KAAlB,EAAyB6hC,OAAzB,EAAqC;AAAA,QAEvDsE,WAFuD,GAQvDtE,OARuD,CAEvDsE,WAFuD;AAAA,QAGvDmqC,UAHuD,GAQvDzuC,OARuD,CAGvDyuC,UAHuD;AAAA,QAIvDC,SAJuD,GAQvD1uC,OARuD,CAIvD0uC,SAJuD;AAAA,QAKvDZ,YALuD,GAQvD9tC,OARuD,CAKvD8tC,YALuD;AAAA,QAMvDp8B,OANuD,GAQvD1R,OARuD,CAMvD0R,OANuD;AAAA,QAOvD7N,KAPuD,GAQvD7D,OARuD,CAOvD6D,KAPuD;;AAS3D,QAAMutC,MAAMhuC,8DAAWA,CAACs/B,SAAZ,EAAuB,KAAvB,EAA8B;AAAA,eAAK,CAACpvE,CAAD,CAAL;AAAA,KAA9B,EAA2CgxC,WAA3C,uBACXM,IADW,CACN3L,sDADM,EACC60C,YADD,EAEXlpC,IAFW,CAENlL,uDAFM,EAEE+0C,UAFF,EAGX1qC,KAHW,CAGL9K,sDAHK,EAGK60C,YAHL,SAIX/pC,KAJW,CAILrK,uDAJK,EAIM+0C,UAJN,QAAZ;;AAMA,QAAIxE,SAASpD,qDAAb,EAAmB;AACf,YAAMwK,QAAQjuC,8DAAWA,CAACguC,GAAZ,EAAiB,GAAjB,EAAsB,CAACjzE,MAAM,CAAN,CAAD,CAAtB,EAAqCmmC,WAArC,kBAAd;AACA2rC,oBAAY9xE,KAAZ,EAAmBkzE,KAAnB,EAA0BlzE,MAAM,CAAN,IAAW,QAAX,GAAsB,QAAhD,EAA0DuwE,SAA1D,EAAqED,UAArE,EACiB7pC,IADjB,CACsB,WADtB,kBACgDkpC,eAAe,CAAf,GAAmBp8B,OADnE,UAC8E+8B,aAAa,CAD3F,QAEiB7pC,IAFjB,CAEsB,MAFtB,EAE8BzmC,MAAM,CAAN,KAAY0lC,KAF1C;AAGH,KALD,MAKO;AACHT,sEAAWA,CAACguC,GAAZ,EAAiBvK,qDAAjB,EAAuB,CAAC1oE,MAAM,CAAN,CAAD,CAAvB,EAAsCmmC,WAAtC,mBACiBM,IADjB,CACsB,GADtB,EAC2B,CAD3B,EAEiBA,IAFjB,CAEsB,GAFtB,EAE2B,CAF3B,EAGiBA,IAHjB,CAGsB3L,sDAHtB,EAG6B60C,YAH7B,EAIiBlpC,IAJjB,CAIsBlL,uDAJtB,EAI8B+0C,UAJ9B,EAKiB7pC,IALjB,CAKsB,MALtB,EAK8BzmC,MAAM,CAAN,KAAY0lC,KAL1C;AAMH;AACJ,CA5BM;;AA8BP;;;;;;AAMO,IAAMknC,qBAAqB,SAArBA,kBAAqB,CAAC/qC,OAAD,EAAU0iC,SAAV,EAAwB;AACtD,QAAM10B,eAAehO,QAAQ+rC,aAA7B;;AADsD,2BAKlD/rC,QAAQxhC,MAAR,EALkD;AAAA,QAG/C3F,IAH+C,oBAG/CA,IAH+C;AAAA,QAI/CyrC,WAJ+C,oBAI/CA,WAJ+C;;AAAA,gCASlDtE,QAAQlF,WAAR,EATkD;AAAA,QAOlDgzC,YAPkD,yBAOlDA,YAPkD;AAAA,QAQlDp8B,OARkD,yBAQlDA,OARkD;;AAAA,qBAe9C74C,KAAKoxE,IAfyC;AAAA,QAWvCyE,SAXuC,cAW9C1yC,KAX8C;AAAA,QAYtCyyC,UAZsC,cAY9CxyC,MAZ8C;AAAA,QAa9C4H,KAb8C,cAa9CA,KAb8C;AAAA,QAc9CZ,SAd8C,cAc9CA,SAd8C;;;AAiBtD,QAAM0qC,kBAAkB90E,KAAK1E,IAAL,CAAUo6C,WAAlC;AACA,QAAM5xC,YAAY9D,KAAK1E,IAAL,CAAUwI,SAA5B;;AAEAqxC,iBAAaoE,qBAAb,CAAmC,IAAnC;AACAm6B,iEAAUA,CAAC7J,SAAX,EAAsB;AAClB1mC,eAAO;AAAA,mBAAK6zC,eAAe3/E,CAAf,EAAkB+oC,sDAAlB,EAAyB,KAAzB,EAAgC+G,OAAhC,CAAL;AAAA,SADW;AAElB/D,gBAAQ;AAAA,mBAAK4zC,eAAe3/E,CAAf,EAAkBwpC,uDAAlB,EAA0B,KAA1B,EAAiCsG,OAAjC,CAAL;AAAA,SAFU;AAGlB,sBAAc/F,uDAHI;AAIlByX,iBAAYA,OAAZ;AAJkB,KAAtB;;AAOA1D,iBAAagD,QAAb,CAAsBhR,QAAQ8rC,cAA9B;AACApJ,cAAUv9B,IAAV,CAAe,UAAUj1C,CAAV,EAAaL,CAAb,EAAgB;AAC3B,YAAIK,EAAE,CAAF,MAASw2E,sDAAb,EAAoB;AAChB1hC,4EAAaA,CAAC,IAAd,EAAoB7wC,IAApB,CAAyBwI,UAAUzM,EAAE,CAAF,CAAV,CAAzB,EACiB6zC,KADjB,eACkC4pC,oBAAoB5zC,sDAApB,GAA4BD,qDAA5B,GAAmCC,sDADrE,GAC8E,KAD9E;AAEH,SAHD,MAGO;AACH;AACAiL,4EAAaA,CAAC,IAAd,EAAoBR,OAApB,CAA+BF,WAA/B,SAA8CrB,SAA9C,EAA2D,IAA3D;AACA+B,4EAAaA,CAAC,IAAd,EAAoBR,OAApB,CAA+BF,WAA/B,SAA8CrB,SAA9C,SAA2DpzC,CAA3D,EAAgE,IAAhE;AACAshF,uBAAW,QAAX,EAAqBnsC,gEAAaA,CAAC,IAAd,CAArB,EAA0C90C,CAA1C,EAA6C;AACzCo0C,wCADyC;AAEzCoqC,oCAFyC;AAGzC;AACAD,sCAJyC;AAKzCX,0CALyC;AAMzCp8B,gCANyC;AAOzC7N;AAPyC,aAA7C;AASH;AACJ,KAlBD;AAmBH,CAhDM;;AAkDP;;;;;;AAMO,IAAMytC,iBAAiB,SAAjBA,cAAiB,CAACtxC,OAAD,EAAU0iC,SAAV,EAAwB;AAClD,QAAM10B,eAAehO,QAAQ+rC,aAA7B;;AADkD,2BAM/C/rC,QAAQxhC,MAAR,EAN+C;AAAA,QAGhD3F,IAHgD,oBAGhDA,IAHgD;AAAA,QAIhD+4D,QAJgD,oBAIhDA,QAJgD;AAAA,QAKhDttB,WALgD,oBAKhDA,WALgD;;AAAA,gCAW/CtE,QAAQlF,WAAR,EAX+C;AAAA,QAQhD0yC,aARgD,yBAQhDA,aARgD;AAAA,QAShDM,YATgD,yBAShDA,YATgD;AAAA,QAUhDp8B,OAVgD,yBAUhDA,OAVgD;;AAAA,sBAgB/C74C,KAAKoxE,IAhB0C;AAAA,QAa/CjuC,KAb+C,eAa/CA,KAb+C;AAAA,QAc/CC,MAd+C,eAc/CA,MAd+C;AAAA,QAe/C4H,KAf+C,eAe/CA,KAf+C;AAAA,QAkB9ClnC,SAlB8C,GAmB/C9D,KAAK1E,IAnB0C,CAkB9CwI,SAlB8C;;;AAqBlDqxC,iBAAaoE,qBAAb,CAAmC,IAAnC;;AArBkD,gCAsBH08B,+DAAcA,CAACld,QAAf,EAAyB4c,iBAAzB,CAA2C;AACtFhB,oCADsF,EACvEvxC,cADuE,EAC/DD;AAD+D,KAA3C,CAtBG;AAAA,QAsB1CyyC,UAtB0C,yBAsB1CA,UAtB0C;AAAA,QAsB9BC,SAtB8B,yBAsB9BA,SAtB8B;AAAA,QAsBnBC,WAtBmB,yBAsBnBA,WAtBmB;;AA0BlDpC,iEAAUA,CAAC7J,SAAX,EAAsB;AAClB1mC,eAAO;AAAA,mBAAK6zC,eAAe3/E,CAAf,EAAkB+oC,sDAAlB,EAAyB01C,YAAYC,UAArC,EAAiD5uC,OAAjD,CAAL;AAAA,SADW;AAElB/D,gBAAQ;AAAA,mBAAK4zC,eAAe3/E,CAAf,EAAkBwpC,uDAAlB,EAA0Bi1C,YAAYE,QAAtC,EAAgD7uC,OAAhD,CAAL;AAAA,SAFU;AAGlB,sBAAc,QAHI;AAIlB0R,iBAAYA,OAAZ;AAJkB,KAAtB;;AAOA1D,iBAAagD,QAAb,CAAsBhR,QAAQ8rC,cAA9B;AACApJ,cAAUv9B,IAAV,CAAe,UAAUj1C,CAAV,EAAa;AACxB,YAAIA,EAAE,CAAF,MAASw2E,sDAAb,EAAoB;AAChB1hC,4EAAaA,CAAC,IAAd,EAAoB7wC,IAApB,CAAyBwI,UAAUzM,EAAE,CAAF,CAAV,CAAzB;AACH,SAFD,MAEO;AACHihF,uBAAWtK,qDAAX,EAAiB7hC,gEAAaA,CAAC,IAAd,CAAjB,EAAsC90C,CAAtC,EAAyC;AACrCo0C,wCADqC;AAErCoqC,oCAFqC;AAGrCD,sCAHqC;AAIrCX,0CAJqC;AAKrCjqC;AALqC,aAAzC;AAOH;AACJ,KAZD;AAaH,CA/CM,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxTP;AAQA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;IAMqBqnC,Y;;AAEjB;;;;;AAKA,0BAAap4C,YAAb,EAA2B;AAAA;;AACvB,aAAKy+C,KAAL,GAAa,EAAb;AACA,aAAKC,SAAL,GAAiB,EAAjB;AACA,aAAK75B,MAAL,GAAc,IAAd;AACA,aAAK85B,UAAL,GAAkB,IAAlB;AACA,aAAKrC,MAAL,GAAc9+E,OAAO4H,MAAP,CAAc,EAAd,EAAkB0xE,uDAAlB,CAAd;AACA,aAAK4H,SAAL,GAAiB,IAAjB;AACA,aAAKzF,aAAL,GAAqBj5C,aAAakb,YAAlC;AACA,aAAK49B,MAAL,GAAc94C,aAAawQ,KAA3B;AACA,aAAKoU,GAAL,GAAWnsB,8DAAWA,EAAtB;AACA,aAAKwP,YAAL,GAAoBzqC,OAAO4H,MAAP,CAAc,EAAd,EAAkB,KAAKwD,WAAL,CAAiBqnC,kBAAjB,EAAlB,CAApB;AACA,aAAKtgB,OAAL,GAAe0Y,iEAAcA,CAAC,EAAf,EAAmB,KAAKz/B,WAAL,CAAiBumC,aAAjB,EAAnB,CAAf;;AAEAkL,gFAAqBA,CAAC,IAAtB,EAA4Bf,4CAA5B;AACA,aAAK0/B,cAAL,GAAsB7zB,wEAAqBA,CAACjT,gEAAaA,CAAC,MAAd,CAAtB,EACf,KAAKxmC,MAAL,GAAc8lC,WADC,uBAAtB;;AAGA,aAAKotC,SAAL,GAAiB,IAAI1J,wEAAJ,CAAmB,IAAnB,EAAyB;AACtC1T,yBAAahkE,OAAO4H,MAAP,CAAc,EAAd,EAAkB6+D,0EAAlB,EAAsC4a,kDAAtC,CADyB;AAEtCpd,sBAAUnC,kEAF4B;AAGtCoD,oCAAwBkC,iFAAkBA;AAHJ,SAAzB,EAIdzD,mDAJc,EAIDjB,iFAJC,CAAjB;AAKH;;;;6BAEK;AACF,mBAAO,KAAKtb,GAAZ;AACH;AACD;;;;;;;;;;;;;AAkCA;;;;;;mCAMqB;AACjB,gBAAI,UAAOpjD,MAAX,EAAmB;AACf,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKo9E,SAAZ;AACH;;AAED;;;;;;;;;mCAMY;AACR,mBAAO/K,qDAAP;AACH;;;sCAEsB;AACnB,gBAAI,UAAMryE,MAAV,EAAkB;AACd,qBAAKs9E,YAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,YAAZ;AACH;;AAED;;;;;;;;;gCAMkB;AACd,gBAAI,UAAOt9E,MAAX,EAAmB;AACf,qBAAKqjD,MAAL;AACA,qBAAKvS,MAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKuS,MAAZ;AACH;;AAED;;;;;;;;;;;yCAQkB;AAAA,0BAIV,KAAKn5C,MAAL,EAJU;AAAA,gBAEV3F,IAFU,WAEVA,IAFU;AAAA,gBAGVyrC,WAHU,WAGVA,WAHU;;AAKd,iBAAKynC,aAAL,CAAmB/6B,QAAnB,CAA4BiH,wEAAqBA,CAACjT,gEAAaA,CAAC,MAAd,CAAtB,EACrBV,WADqB,uBAA5B;AAEA,mBAAOgpC,uEAAeA,CAAC,KAAKr2E,IAAL,EAAhB,EAA6ByvE,sDAA7B,EAAoC,KAAKqF,aAAzC,EAAwDlzE,KAAK1E,IAAL,CAAUwI,SAAlE,CAAP;AACH;;AAED;;;;;;;;;;4CAOqB;AAAA,+BASd,KAAKm+B,WAAL,EATc;AAAA,gBAEdkB,KAFc,gBAEdA,KAFc;AAAA,gBAGdC,MAHc,gBAGdA,MAHc;AAAA,gBAId0Q,QAJc,gBAIdA,QAJc;AAAA,gBAKd+8B,SALc,gBAKdA,SALc;AAAA,gBAMdh4B,OANc,gBAMdA,OANc;AAAA,gBAOdi4B,MAPc,gBAOdA,MAPc;AAAA,gBAQd3sC,MARc,gBAQdA,MARc;;AAAA,2BAYb,KAAKx+B,MAAL,EAZa;AAAA,gBAWb8pE,KAXa,YAWbA,KAXa;;AAcjB;;;AACA,gBAAMuE,aAAan7B,UAAU,CAA7B;AACA,gBAAMmgC,YAAY70C,SAAS,CAA3B;AACA,gBAAM80C,YAAYnI,SAAS,CAA3B;;AAEA,iBAAK1yE,IAAL,CAAU,KAAK86E,aAAL,CAAmB,KAAKzjC,KAAL,EAAnB,CAAV;AACA;AACA,gBAAM0jC,aAAa,KAAKC,aAAL,EAAnB;AACA,gBAAMvE,cAAcsE,WAAW/1C,MAAX,GAAoB,CAApB,GAAwB+1C,WAAW/1C,MAAX,GAAoB4wC,UAA5C,GAAyD,CAA7E;AACA,gBAAMY,aAAauE,WAAWh2C,KAAX,GAAmB6wC,UAAtC;;AAEA;AACA,gBAAMG,cAAc,KAAKkF,cAAL,CAAoBrF,UAApB,EAAgCvE,KAAhC,CAApB;;AA1BiB,qCA8BbiF,yEAAiBA,CAAC,KAAK/uE,MAAL,EAAlB,EACJ,EAAEquE,sBAAF,EAAcY,sBAAd,EAA0BT,wBAA1B,EAAuCU,wBAAvC,EAAoD/gC,kBAApD,EAA8D+8B,oBAA9D,EADI,EACuE,KAAKzyE,IAAL,EADvE,CA9Ba;AAAA,gBA6BbgsE,WA7Ba,sBA6BbA,WA7Ba;AAAA,gBA6BAC,UA7BA,sBA6BAA,UA7BA;AAAA,gBA6BY0K,UA7BZ,sBA6BYA,UA7BZ;AAAA,gBA6BwBC,UA7BxB,sBA6BwBA,UA7BxB;AAAA,gBA6BoCL,aA7BpC,sBA6BoCA,aA7BpC;AAAA,gBA6BmDM,YA7BnD,sBA6BmDA,YA7BnD;;AAiCjB,iBAAKhzC,WAAL,CAAiB;AACbkB,uBAAOlvB,KAAKxD,GAAL,CAAS45D,UAAT,EAAqBlnC,KAArB,IAA8B81C,SAA9B,GAA0CD,SADpC;AAEb51C,wBAAQnvB,KAAKxD,GAAL,CAAS25D,WAAT,EAAsBhnC,MAAtB,IAAgC61C,SAAhC,GAA4CD,SAFvC;AAGb7E,wCAHa;AAIba,sCAJa;AAKbD,sCALa;AAMbJ,4CANa;AAObM,0CAPa;AAQbxB,6BAAa;AACTtwC,2BAAOlvB,KAAK3D,GAAL,CAASwjC,QAAT,EAAmB,KAAK7R,WAAL,GAAmBkB,KAAtC,IAA+C81C,SAA/C,GAA2DD,SADzD;AAET51C,4BAAQyxC;AAFC;AARA,aAAjB;AAaA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;wCAMiB;AACb,iBAAK3B,aAAL,CAAmB/6B,QAAnB,CAA4BiH,wEAAqBA,CAACjT,gEAAaA,CAAC,MAAd,CAAtB,EACgB,KAAKxmC,MAAL,GAAc8lC,WAD9B,mBAA5B;AAEA,mBAAO,KAAKynC,aAAL,CAAmB98B,UAAnB,CAA8B,KAAKk+B,KAAL,GAAah5E,IAAb,GAAoB,KAAKg5E,KAAL,GAAah5E,IAAjC,GAAwC,EAAtE,CAAP;AACH;;AAED;;;;;;;;;;oCAOauuE,S,EAAW;AAAA,gCAC4B,KAAK5nC,WAAL,EAD5B;AAAA,gBACZwxC,WADY,iBACZA,WADY;AAAA,gBACCtvC,MADD,iBACCA,MADD;AAAA,gBACS0U,OADT,iBACSA,OADT;AAAA,gBACkB1V,KADlB,iBACkBA,KADlB;;AAAA,2BAEiB,KAAKx9B,MAAL,EAFjB;AAAA,gBAEZmlC,WAFY,YAEZA,WAFY;AAAA,gBAECkmC,WAFD,YAECA,WAFD;;AAGpB,mBAAOqD,oEAAYA,CAACxK,SAAb,EAAwB,KAAKyK,KAAL,EAAxB,EAAsC;AACzClxC,wBAAQqwC,YAAYrwC,MADqB;AAEzCD,4BAFyC;AAGzCgB,8BAHyC;AAIzC0U,gCAJyC;AAKzC/N,wCALyC;AAMzCkmC;AANyC,aAAtC,EAOJ,KAAKrrE,MAAL,EAPI,CAAP;AAQH;;AAED;;;;;;;;;;iCAOU;AACN,gBAAM0tD,WAAW,KAAKA,QAAL,EAAjB;;AADM,2BAMF,KAAK1tD,MAAL,EANE;AAAA,gBAGF8lC,WAHE,YAGFA,WAHE;AAAA,gBAIFX,WAJE,YAIFA,WAJE;AAAA,gBAKFkmC,WALE,YAKFA,WALE;;AAAA,gCAcH,KAAK/uC,WAAL,EAdG;AAAA,gBAQH6R,QARG,iBAQHA,QARG;AAAA,gBASH+8B,SATG,iBASHA,SATG;AAAA,gBAUH1tC,KAVG,iBAUHA,KAVG;AAAA,gBAWHC,MAXG,iBAWHA,MAXG;AAAA,gBAYH0tC,MAZG,iBAYHA,MAZG;AAAA,gBAaH3sC,MAbG,iBAaHA,MAbG;;AAeN,gBAAM0tC,kBAAkBtnC,8DAAWA,CAAC4B,gEAAaA,CAAC,KAAKjV,KAAL,EAAd,CAAZ,EAAyC,KAAzC,EAAgD,CAAC,CAAD,CAAhD,EAAwDuU,WAAxD,iBAAxB;;AAEAomC,4BAAgBlmC,OAAhB,CAA2BF,WAA3B,oBAAqD,KAAKoT,GAA1D,EAAiE,IAAjE;AACAgzB,4BAAgB3mC,KAAhB,CAAsB,OAAtB,EAA+B,MAA/B;AACA;AACA2mC,4BAAgB3mC,KAAhB,CAAsB,OAAtB,EAAkCj3B,KAAK3D,GAAL,CAASwjC,QAAT,EAAmB3Q,KAAnB,IAA4B2tC,SAAS,CAAvE,SACiB5lC,KADjB,CACuB,QADvB,EACoCj3B,KAAK3D,GAAL,CAASugE,SAAT,EAAoBztC,MAApB,IAA8B0tC,SAAS,CAD3E,SAEiB5lC,KAFjB,CAEuB,QAFvB,EAEoC4lC,MAFpC,SAGiB5lC,KAHjB,CAGuB,QAHvB,EAGoC/G,MAHpC,WAGgD2G,WAHhD,SAG+DkmC,WAH/D;AAIA,iBAAKa,eAAL,CAAqBA,gBAAgBl8C,IAAhB,EAArB;;AAEA;AACA,iBAAK2jD,WAAL,CAAiBzH,eAAjB;AACAxe,qBAAS+e,kBAAT,CAA4B,KAAKh0E,IAAL,GAAYhE,GAAZ,CAAgB;AAAA,uBAAK/C,EAAEuzC,EAAP;AAAA,aAAhB,CAA5B;AACA,mBAAOinC,eAAP;AACH;AACH;;;;;;;;;;4CAOuBzzE,I,EAAM;AACvB,gBAAMmJ,YAAY,KAAKA,SAAL,EAAlB;AACA,gBAAMf,OAAO,KAAKmoE,QAAL,GAAgBhrE,OAAhB,GAA0Bc,MAA1B,CAAiC,CAAjC,EAAoC+B,IAAjD;AACA,gBAAIA,SAAS,SAAb,EAAwB;AACpB,2CACKe,SADL,EACiBnJ,KAAKqN,KADtB;AAGH;AACD,mBAAO,CAAC,CAAClE,SAAD,CAAD,EAAc,CAACnJ,KAAKpG,KAAN,CAAd,CAAP;AACH;;;+BAxOciiC,Y,EAAc;AACzB,mBAAO,IAAIo4C,YAAJ,CAAiBp4C,YAAjB,CAAP;AACH;;AAED;;;;;;;;;;wCAOwB;AACpB,mBAAO4pB,yDAAP;AACH;;AAED;;;;;;;;;;6CAO6B;AACzB,mBAAO+sB,8DAAP;AACH;;;;;;AAlEgByB,2E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3BrB;AACA;AAKA;AAKA;AACA;AACA;;AAEA;;;;;;;IAMqBkH,U;;;;;;;;;;;;;AAyBjB;;;;;;;sCAOe9jC,K,EAAO;AAClB,gBAAI8/B,YAAY,EAAhB;;AADkB,gCAE4BhE,mEAAYA,CAAC97B,KAAb,CAF5B;AAAA,gBAEV+7B,SAFU,iBAEVA,SAFU;AAAA,gBAECxhE,MAFD,iBAECA,MAFD;AAAA,gBAES2hD,KAFT,iBAESA,KAFT;AAAA,gBAEgB8f,OAFhB,iBAEgBA,OAFhB;;AAAA,0BAII,KAAK9rE,MAAL,EAJJ;AAAA,gBAIV7B,SAJU,WAIVA,SAJU;;AAKlB,gBAAMwxE,eAAe;AACjBpE,uBAAO,IADU,EACJC,OAAO;AADH,aAArB;;AAIA,gBAAIxf,iBAAiB5yD,KAArB,EAA4B;AACxB,oBAAIiR,OAAO,CAAP,IAAY2hD,MAAM,CAAN,CAAhB,EAA0B;AACtB2jB,iCAAapE,KAAb,GAAqB,CAAIptE,UAAUmtE,MAAV,CAAiBC,KAArB,SAA8Bvf,MAAM,CAAN,CAA9B,CAArB;AACH;AACD4jB,yDAAgBA,SAAhB,sBAA8B5jB,KAA9B;AACA,oBAAI3hD,OAAOA,OAAOvU,MAAP,GAAgB,CAAvB,IAA4Bk2D,MAAMA,MAAMl2D,MAAN,GAAe,CAArB,CAAhC,EAAyD;AACrD65E,iCAAanE,KAAb,GAAqB,CAAIrtE,UAAUmtE,MAAV,CAAiBE,KAArB,SAA8Bxf,MAAMA,MAAMl2D,MAAN,GAAe,CAArB,CAA9B,CAArB;AACH;AACJ,aARD,MAQO;AACH85E,4BAAYzB,0EAAmBA,CAAC9jE,MAApB,EAA4B2hD,KAA5B,CAAZ;AACH;;AAED4jB,wBAAY,6BAAI,IAAIxlE,GAAJ,CAAQwlE,SAAR,CAAJ,GAAwBtxE,IAAxB,CAA6B,UAACwZ,CAAD,EAAIC,CAAJ;AAAA,uBAAUD,IAAIC,CAAd;AAAA,aAA7B,CAAZ;AACA63D,wBAAYA,UAAUn7E,GAAV,CAAc,UAACu3E,GAAD,EAAM36E,CAAN,EAAY;AAAA;;AAClC,oBAAIgB,QAAQ,IAAZ;AACA,oBAAIhB,IAAIu+E,UAAU95E,MAAV,GAAmB,CAA3B,EAA8B;AAC1BzD,4BAAY25E,IAAIhF,OAAJ,CAAY,CAAZ,CAAZ,WAAkC,CAAC4I,UAAUv+E,IAAI,CAAd,EAAiB21E,OAAjB,CAAyB,CAAzB,CAAnC;AACH;AACD,wDACK6E,SADL,EACiBA,cAAcxhB,qDAAd,GAAqBva,MAAMg8B,OAAN,EAAeE,GAAf,IAAsBl8B,MAAMs+B,cAAN,EAA3C,GAAoEt+B,MAAMg8B,OAAN,EAAeE,GAAf,CADrF,kCAEI35E,KAFJ,+BAGQhB,IAAI,CAHZ,kCAIW,CAAC26E,GAAD,EAAM4D,UAAUv+E,IAAI,CAAd,CAAN,CAJX;AAMH,aAXW,EAWTkiB,MAXS,CAWF;AAAA,uBAAK7hB,EAAEW,KAAF,KAAY,IAAjB;AAAA,aAXE,CAAZ;;AAaA,gBAAIs9E,aAAapE,KAAjB,EAAwB;AACpB,oBAAMsI,cAAcnE,sEAAeA,CAAClH,sDAAhB,EAAuB,EAAE14B,YAAF,EAASg8B,gBAAT,EAAkBD,oBAAlB,EAAvB,EAChB,EAAExhE,cAAF,EAAU2hD,YAAV,EAAiB2jB,0BAAjB,EADgB,CAApB;AAEAC,6BAAaiE,WAAb,4BAA6BjE,SAA7B;AACH;AACD,gBAAID,aAAanE,KAAjB,EAAwB;AACpB,oBAAMsI,cAAcpE,sEAAeA,CAACnH,sDAAhB,EAAuB,EAAEz4B,YAAF,EAASg8B,gBAAT,EAAkBD,oBAAlB,EAAvB,EACpB,EAAExhE,cAAF,EAAU2hD,YAAV,EAAiB2jB,0BAAjB,EAA+BC,oBAA/B,EADoB,CAApB;AAEAA,yDAAgBA,SAAhB,IAA2BkE,WAA3B;AACH;AACD,mBAAOlE,SAAP;AACH;;AAEA;;;;;;;;;;;uCAQevB,U,EAAYvE,K,EAAO;AAC/B,iBAAK9pE,MAAL,CAAY;AACR3F,sBAAM;AACF1E,0BAAM;AACFo6C,qCAAa,KAAK/vC,MAAL,GAAcozD;AADzB;AADJ;AADE,aAAZ;AAOA,0IAA4Bib,UAA5B,EAAwCvE,KAAxC;AACH;;AAED;;;;;;;;;mCAMY;AACR,mBAAOzB,qDAAP;AACH;;AAEA;;;;;;;;;;iCAOS;AACN,gBAAM3a,WAAW,KAAKA,QAAL,EAAjB;;AADM,2BAE4B,KAAK1tD,MAAL,EAF5B;AAAA,gBAEE8lC,WAFF,YAEEA,WAFF;AAAA,gBAEestB,QAFf,YAEeA,QAFf;;AAGN,gBAAM36D,OAAO+3E,iEAAQA,CAAC,KAAK/3E,IAAL,EAAT,EAAsB26D,QAAtB,CAAb;;AAEA,gBAAM8Y,iIAA+B,KAAK36C,KAAL,EAA/B,CAAN;;AAEA;;AAPM,wCAQiB46C,sEAAoBA,CAAC,IAArB,EAA2BD,eAA3B,EAA4CpmC,WAA5C,EAAyDrtC,IAAzD,CARjB;AAAA,gBAQE2zE,UARF,yBAQEA,UARF;;AAAA,sCASmBC,oEAAkBA,CAAC,IAAnB,EAAyBD,UAAzB,CATnB;AAAA,gBASEE,YATF,uBASEA,YATF;;AAWNwG,4EAAcA,CAAC,IAAf,EAAqBxG,YAArB;AACAJ,4BAAgB36B,SAAhB,CAA0B,KAA1B,EAAiChM,KAAjC,CAAuC,OAAvC,EAAgDjK,qDAAhD;AACAoyB,qBAAS8e,sBAAT;AACA9e,qBAAS+e,kBAAT,CAA4B,KAAKh0E,IAAL,GAAYhE,GAAZ,CAAgB;AAAA,uBAAK/C,EAAEuzC,EAAP;AAAA,aAAhB,CAA5B;AACA,mBAAOinC,eAAP;AACH;;AAED;;;;;;;;;;4CAOqBzzE,I,EAAM;AACvB,gBAAMmJ,YAAY,KAAKA,SAAL,EAAlB;AACA,uCACKA,SADL,EACiBnJ,KAAKqN,KADtB;AAGH;;;;;AAhJD;;;;;;;;+BAQewuB,Y,EAAc;AACzB,mBAAO,IAAIs/C,UAAJ,CAAet/C,YAAf,CAAP;AACH;;AAED;;;;;;;;;;+BAOe;AACX,mBAAOszC,qDAAP;AACH;;;;EAvBmC8E,sD;;AAAnBkH,yE;;;;;;;;;;;ACrBrB,uC;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,IAAMv9B,cAAc,MAApB;AACA,IAAM09B,cAAc,OAApB;AACA,IAAMC,YAAY,KAAlB;AACA,IAAMC,eAAe,QAArB;AACA,IAAMC,aAAa,MAAnB;AACA,IAAMC,eAAe,MAArB;AACA,IAAMC,gBAAgB,OAAtB;AACA,IAAMC,iBAAiB,QAAvB;AACA,IAAMC,cAAc,KAApB;AACA,IAAMC,gBAAgB;AACzBnhB,cAAU,UADe;AAEzB51B,WAAO,CAFkB;AAGzBC,YAAQ;AAHiB,CAAtB,C;;;;;;;;;;;;;;;;;;;;ACTP;AASA;AACA;;AAEA;;;;IAGqB+2C,O;AACjB;;;AAGA,uBAAe;AAAA;;AACX,aAAKC,MAAL,GAAc,IAAd;AACA,aAAK5T,SAAL,GAAiB6T,0DAAjB;AACA,aAAKC,UAAL,GAAkB,IAAlB;AACA,aAAK1wD,OAAL,GAAe,KAAK/mB,WAAL,CAAiBumC,aAAjB,EAAf;AACH;AACF;;;;;;;;iCAUe;AACV,gBAAI,UAAE3tC,MAAF,GAAW,CAAf,EAAkB;AACd,qBAAKmuB,OAAL,GAAe0Y,iEAAcA,CAAC,KAAK1Y,OAApB,mDAAf;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,OAAZ;AACH;;AAED;;;;;;;+BAIQ5pB,I,EAAM;AACV,iBAAKo6E,MAAL,GAAcp6E,KAAKoK,KAAnB;AACA,iBAAKo8D,SAAL,GAAiBxmE,KAAKuyD,QAAL,KAAkB7yD,SAAlB,GAA8BM,KAAKuyD,QAAnC,GAA8C8nB,0DAA/D;AACA,iBAAKC,UAAL,GAAkBt6E,KAAK8D,SAAvB;AACA,mBAAO,IAAP;AACH;;;gCAEQy2E,G,EAAK;AACV,iBAAKC,QAAL,GAAgBD,GAAhB;AACA,mBAAO,IAAP;AACH;;;+BAEOrjD,K,EAAO;AACX,gBAAI94B,aAAJ;AACA,gBAAMuH,SAAS,KAAKikB,OAApB;AACA,gBAAM6wD,oBAAoB90E,OAAO80E,iBAAjC;AACA,gBAAM32E,YAAY,KAAKw2E,UAAvB;AACA,gBAAMI,YAAY/0E,OAAO+0E,SAAzB;AACA,gBAAMtwE,QAAQ,KAAKgwE,MAAnB;;AAEA,iBAAKt7B,MAAL,GAAc5nB,KAAd;AACA,gBAAI9sB,iBAAiBrL,KAArB,EAA4B;AACxBX,uBAAOgM,KAAP;AACH,aAFD,MAEO;AACHhM,uBAAO0F,qBAAqB3J,QAArB,GAAgC2J,UAAU,KAAKs2E,MAAf,EAAuB,KAAKI,QAA5B,CAAhC,GACHjoB,kDAAQA,CAAC,KAAKiU,SAAd,EAAyB,KAAK4T,MAA9B,EAAsC,KAAKz0E,MAAL,EAAtC,EAAqD,KAAK60E,QAA1D,CADJ;AAEH;;AAED,gBAAIp8E,gBAAgBjE,QAApB,EAA8B;AAC1B+8B,sBAAMyjD,IAAN,CAAWv8E,MAAX;AACH,aAFD,MAEO;AACH,oBAAI4tE,UAAU5tE,IAAd;AACA,oBAAIw8E,gBAAgB,SAApB;;AAEA,oBAAIjgD,iEAAcA,CAACv8B,IAAf,CAAJ,EAA0B;AACtB4tE,8BAAU5tE,KAAK4tE,OAAf;AACA4O,oCAAgBx8E,KAAKw8E,aAArB;AACH;;AAED,oBAAMpwC,OAAOD,8DAAWA,CAACrT,KAAZ,EAAmB,KAAnB,EAA0B,CAAC0jD,aAAD,CAA1B,EAA8Cj1E,OAAO8lC,WAArD,uBAAoF,EAApF,EACT;AAAA,2BAAKp0C,CAAL;AAAA,iBADS,CAAb;;AAGA,oBAAIujF,kBAAkB,OAAtB,EAA+B;AAC3B,wBAAMtwC,QAAQC,8DAAWA,CAACC,IAAZ,EAAkB,OAAlB,EAA2B,CAAC,CAAD,CAA3B,EAAmC7kC,OAAO8lC,WAA1C,oBAAd;AACA,wBAAMovC,QAAQtwC,8DAAWA,CAACD,KAAZ,EAAmB,OAAnB,EAA4B,CAAC,CAAD,CAA5B,EAAoC3kC,OAAO8lC,WAA3C,0BAAd;AACA,wBAAM7wC,OAAO2vC,8DAAWA,CAACswC,KAAZ,EAAmB,IAAnB,EAAyB7O,OAAzB,EAAqCrmE,OAAO8lC,WAA5C,wBAAb;AACA7wC,yBAAK0xC,IAAL,CAAU,UAAUj1C,CAAV,EAAaL,CAAb,EAAgB;AACtBm1C,wFAAaA,CAAC,IAAd,EAAoBR,OAApB,CAA+BhmC,OAAO8lC,WAAtC,2BAAuEz0C,CAAvE,EAA4E,IAA5E;AACH,qBAFD;AAGA,wBAAMyzC,QAAQF,8DAAWA,CAAC3vC,IAAZ,EAAkB,IAAlB,EAAwB;AAAA,+BAAKvD,CAAL;AAAA,qBAAxB,EAAmCsO,OAAO8lC,WAA1C,yBAAd;AACAhB,0BAAM6B,IAAN,CAAW,UAAUj1C,CAAV,EAAa;AACpB80C,wFAAaA,CAAC,IAAd,EAAoBwuC,IAApB,CAAyBtjF,CAAzB;AACH,qBAFD;AAGH,iBAXD,MAWO;AACH,wBAAMuD,QAAO2vC,8DAAWA,CAACC,IAAZ,EAAkB,KAAlB,EAAyBwhC,OAAzB,EAAqCrmE,OAAO8lC,WAA5C,kBAAb;AACA,wBAAMhB,SAAQF,8DAAWA,CAAC3vC,KAAZ,EAAkB,MAAlB,EAA0B;AAAA,+BAAKvD,CAAL;AAAA,qBAA1B,EAAqCsO,OAAO8lC,WAA5C,sBAAd;AACAhB,2BAAMsB,IAAN,CAAW,OAAX,EAAuBpmC,OAAO8lC,WAA9B;AACAqvC,gFAASA,CAAClgF,KAAV,EAAgB;AACZk2E,gCAAQ4J;AADI,qBAAhB;AAGAI,gFAASA,CAACrwC,MAAV,EAAiB;AACbswC,iCAAS,cADI;AAEb,wCAAmBp1E,OAAOq1E,OAA1B;AAFa,qBAAjB;;AAKAvwC,2BAAM6B,IAAN,CAAW,UAAUj1C,CAAV,EAAa;AACpB,4BAAMo5E,KAAKtkC,gEAAaA,CAAC,IAAd,CAAX;AACAskC,2BAAGkK,IAAH,CAAQ,EAAR;AACA,4BAAItjF,aAAaI,MAAjB,EAAyB;AACrB,gCAAIJ,EAAEmP,IAAF,KAAW,MAAf,EAAuB;AACnB,oCAAM+xE,MAAMhuC,8DAAWA,CAACkmC,EAAZ,EAAgB,KAAhB,EAAuB,CAAC,CAAD,CAAvB,CAAZ;AACA,oCAAMr2D,OAAOmwB,8DAAWA,CAACguC,GAAZ,EAAiB,MAAjB,EAAyB,CAAC,CAAD,CAAzB,CAAb;AACA,oCAAM7K,QAAQr2E,EAAEq2E,KAAF,YAAmBvzE,QAAnB,GAA8B9C,EAAEq2E,KAAhC,GAAwCvb,4DAASA,CAAC96D,EAAEq2E,KAAZ,CAAtD;;AAEAuN,2FAAQA,CAAC1C,GAAT,EAAc;AACVz0D,uCAAG,CADO;AAEV+J,uCAAG,CAFO;AAGVsV,2CAAOs3C,iBAHG;AAIVr3C,4CAAQq3C;AAJE,iCAAd;AAMAQ,2FAAQA,CAAC7gE,IAAT,EAAe;AACX/iB,uCAAGq2E,MAAM7K,IAAN,CAAWxrE,EAAEwrE,IAAb,GADQ;AAEXI,8DAAwBwX,oBAAoB,CAA5C,UAAkDA,oBAAoB,CAAtE;AAFW,iCAAf;AAIAK,4FAASA,CAAC1gE,IAAV,EAAgB;AACZu5D,0CAAMt8E,EAAE2zC;AADI,iCAAhB;AAGA8vC,4FAASA,CAACvC,GAAV,EAAe;AACXp1C,2CAAUs3C,iBAAV,OADW;AAEXr3C,4CAAWq3C,iBAAX;AAFW,iCAAf;AAIH,6BAtBD,MAsBO;AACHhK,mCAAGkK,IAAH,CAAQtjF,EAAEW,KAAV;AACAX,kCAAE+yC,SAAF,IAAeqmC,GAAG9kC,OAAH,CAAWt0C,EAAE+yC,SAAb,EAAwB,IAAxB,CAAf;AACA0wC,4FAASA,CAACrK,EAAV,EAAcp5E,EAAE6zC,KAAhB;AACH;AACJ,yBA5BD,MA4BO;AACHulC,+BAAGkK,IAAH,CAAQtjF,CAAR;AACH;AACJ,qBAlCD;AAmCH;AACJ;AACD,mBAAO,IAAP;AACH;;;gCAEQ;AACL,iBAAK+iF,MAAL,GAAc,IAAd;AACA,mBAAO,IAAP;AACH;;;wCA9HuB;AACpB,gBAAMz0E,SAASyjC,8DAAc4iC,OAA7B;AACArmE,mBAAO8lC,WAAP,GAAqBrC,8DAAcqC,WAAnC;AACA,mBAAO9lC,MAAP;AACH;;;;;;AAlBgBw0E,sE;;;;;;;;;;;;ACfrB;AAAA;AAAA;AAAA;;AAEO,IAAM/wC,gBAAgB;AACzBqC,iBAAauQ,sDADY;AAEzBD,kBAAc,aAFW;AAGzBm/B,wBAAoB,oBAHK;AAIzB9wC,eAAW,EAJc;AAKzB1vC,SAAK;AACDo2E,gBAAQ;AADP,KALoB;AAQzB9E,aAAS;AACLgP,iBAAS,CADJ;AAELP,2BAAmB,EAFd;AAGLU,mBAAW,CAHN;AAILC,mBAAW,QAJN;AAKLC,mBAAW,SALN;AAMLX,mBAAW,KANN;AAOL5J,gBAAQ,EAPH;AAQLwK,mBAAW,GARN;AASLlxC,mBAAW,2BATN;AAULmxC,yBAAiB;AAVZ,KARgB;AAoBzBC,WAAO;AACH3Y,cAAM,EADH;AAEHoB,kBAAU,KAFP;AAGHloB,sBAAc,eAHX;AAIH3R,mBAAW,EAJR;AAKHY,eAAO;AALJ;AApBkB,CAAtB,C;;;;;;;;;;;;;;;;;;;;ACFP;AACA;;AAEO,IAAMywC,cAAc,SAAdA,WAAc,CAACC,MAAD,EAASC,GAAT,EAAc15C,WAAd,EAA2Bt8B,MAA3B,EAAsC;AAC7D,QAAIi2E,iBAAJ;AAD6D,QAErD93D,CAFqD,GAEvBme,WAFuB,CAErDne,CAFqD;AAAA,QAElD+J,CAFkD,GAEvBoU,WAFuB,CAElDpU,CAFkD;AAAA,QAE/CguD,SAF+C,GAEvB55C,WAFuB,CAE/C45C,SAF+C;AAAA,QAEpCC,QAFoC,GAEvB75C,WAFuB,CAEpC65C,QAFoC;;AAG7D,QAAMC,gBAAgBp2E,OAAO61E,KAAP,CAAavX,QAAnC;AACA,QAAM+X,aAAaD,gBAAgB,CAAhB,GAAoBp2E,OAAO61E,KAAP,CAAa3Y,IAApD;;AAEA,QAAI6Y,WAAW7B,qDAAX,IAAyB6B,WAAWhC,sDAAxC,EAAqD;AACjD,YAAI98D,QAAQ,CAAZ;AACA,YAAIsW,OAAO2oD,YAAY,CAAvB;AACA,YAAMI,aAAaN,IAAI9tD,CAAJ,GAAQ8tD,IAAIv4C,MAA/B;AACA,YAAM84C,YAAYruD,IAAIguD,SAAtB;;AAEA,YAAIF,IAAI9tD,CAAJ,GAAQA,CAAZ,EAAe;AACXjR,oBAAQ++D,IAAI9tD,CAAJ,GAAQA,CAAhB;AACAqF,mBAAO,CAAC+oD,cAAcC,SAAd,GAA2BA,YAAYP,IAAI9tD,CAA3C,GAAgD8tD,IAAIv4C,MAArD,IAA+D,CAAtE;AACH,SAHD,MAGO,IAAI84C,YAAYD,UAAhB,EAA4B;AAC/B/oD,mBAAOjf,KAAKmf,GAAL,CAASvF,KAAK8tD,IAAI9tD,CAAJ,GAAQ8tD,IAAIv4C,MAAjB,CAAT,IAAqC,CAA5C;AACH;AACDw4C,mBAAWh/D,QAAQsW,IAAR,GAAe8oD,aAAa,CAAvC;AACH,KAbD,MAaO;AACH,YAAIp/D,SAAQ,CAAZ;AACA,YAAIsW,QAAO4oD,WAAW,CAAtB;AACA,YAAMK,YAAYR,IAAI73D,CAAJ,GAAQ63D,IAAIx4C,KAA9B;AACA,YAAMi5C,WAAWt4D,IAAIg4D,QAArB;;AAEA,YAAIH,IAAI73D,CAAJ,GAAQA,CAAZ,EAAe;AACXlH,qBAAQ++D,IAAI73D,CAAJ,GAAQA,CAAhB;AACAoP,oBAAO,CAACipD,aAAaC,QAAb,GAAyBA,WAAWT,IAAI73D,CAAxC,GAA6C63D,IAAIx4C,KAAlD,IAA2D,CAAlE;AACH,SAHD,MAGO,IAAIi5C,WAAWD,SAAf,EAA0B;AAC7BjpD,oBAAOjf,KAAKmf,GAAL,CAAStP,KAAK63D,IAAI73D,CAAJ,GAAQ63D,IAAIx4C,KAAjB,CAAT,IAAoC,CAA3C;AACH;AACDy4C,mBAAWh/D,SAAQsW,KAAR,GAAe8oD,aAAa,CAAvC;AACH;AACD,WAAOJ,QAAP;AACH,CAlCM;;AAoCP;;;;;;;AAOO,IAAMS,aAAa,SAAbA,UAAa,CAACl1C,OAAD,EAAU4xB,QAAV,EAAoB6iB,QAApB,EAAiC;AACvD,QAAMU,eAAen1C,QAAQo1C,aAA7B;AACA,QAAMC,oBAAoBr1C,QAAQs1C,kBAAlC;AACA,QAAM92E,SAASwhC,QAAQvd,OAAvB;AACA,QAAM6hB,cAAc9lC,OAAO8lC,WAA3B;AACA,QAAMixC,YAAY/2E,OAAO61E,KAAzB;AACA,QAAMpxC,YAAYw/B,wEAAqBA,CAAC8S,UAAU3gC,YAAhC,EAA8C5U,QAAQ0X,GAAtD,EAA2Dl5C,OAAO8lC,WAAlE,CAAlB;;AAEA6wC,iBAAapxC,KAAb,CAAmB,SAAnB,EAA8B,OAA9B;AACAoxC,iBAAavwC,IAAb,CAAkB,OAAlB,OAA8B3B,UAAU7vC,IAAV,CAAe,GAAf,CAA9B;AACA,QAAIw+D,aAAa+gB,uDAAb,IAA6B/gB,aAAaghB,wDAA9C,EAA6D;AACzDuC,qBAAapxC,KAAb,CAAmB,KAAnB,EAA6B0wC,QAA7B;AACAU,qBAAapxC,KAAb,CAAmB,MAAnB,EAA2B,EAA3B;AACAsxC,0BAAkBtxC,KAAlB,CAAwB,KAAxB,EAAkC0wC,QAAlC;AACAY,0BAAkBtxC,KAAlB,CAAwB,MAAxB,EAAgC,EAAhC;AACH,KALD,MAKO;AACH6tB,qBAAaihB,yDAAb,GAA8BsC,aAAapxC,KAAb,CAAmB,KAAnB,EAA0B,MAA1B,CAA9B,GAAkEoxC,aAAapxC,KAAb,CAAmB,KAAnB,QAC1DwxC,UAAU7Z,IADgD,QAAlE;AAEAyZ,qBAAapxC,KAAb,CAAmB,MAAnB,EAA8B0wC,QAA9B;AACA7iB,qBAAaihB,yDAAb,GAA8BwC,kBAAkBtxC,KAAlB,CAAwB,KAAxB,EAA+B,MAA/B,CAA9B,GAAuEsxC,kBAAkBtxC,KAAlB,CAAwB,KAAxB,SAC/DwxC,UAAU7Z,IAAV,GAAiB,CAD8C,SAAvE;AAEA2Z,0BAAkBtxC,KAAlB,CAAwB,MAAxB,EAAmC0wC,QAAnC;AACH;AACDU,iBAAa3wC,OAAb,CAAwBF,WAAxB,qBAAqD,IAArD;AACA6wC,iBAAa3wC,OAAb,CAAwBF,WAAxB,uBAAqDtE,QAAQw1C,iBAA7D,EAAkF,KAAlF;AACAL,iBAAa3wC,OAAb,CAAwBF,WAAxB,uBAAqDstB,QAArD,EAAiE,IAAjE;AACAyjB,sBAAkB7wC,OAAlB,CAA6BF,WAA7B,gCAAqE,IAArE;AACA+wC,sBAAkB7wC,OAAlB,CAA6BF,WAA7B,kCAAqEtE,QAAQw1C,iBAA7E,EAAkG,KAAlG;AACAH,sBAAkB7wC,OAAlB,CAA6BF,WAA7B,kCAAqEstB,QAArE,EAAiF,IAAjF;AACA,WAAO,KAAP;AACH,CA9BM;;AAgCA,IAAM6jB,oBAAoB,SAApBA,iBAAoB,CAACxR,eAAD,EAAkBhhC,SAAlB,EAAgC;AAC7DghC,oBAAgBl0B,SAAhB,CAA0B9M,SAA1B,EAAqCnmC,IAArC,CAA0C,UAACwZ,CAAD,EAAIC,CAAJ;AAAA,eAAUD,IAAIC,CAAd;AAAA,KAA1C;AACH,CAFM,C;;;;;;;;;;;;AC9EP;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;ACAA;;AAQA,IAAMm/D,cAAc;AAChBC,iBAAa,wBADG;AAEhBC,YAAQ,qBAFQ;AAGhBC,YAAQ,kBAHQ;AAIhBC,UAAM,kBAJU;AAKhB3vD,SAAK,eALW;AAMhBI,WAAO,OANS;AAOhBK,UAAM;AAPU,CAApB;AASA,IAAMmvD,gBAAgB,CAClB,CAAC,aAAD,EAAgB,QAAhB,EAA0B,QAA1B,EAAoC,MAApC,EAA4C,KAA5C,EAAmD,OAAnD,EAA4D,MAA5D,CADkB,EAElB,CAAC,CAAD,EAAI,IAAJ,EAAU,KAAV,EAAiB,OAAjB,EAA0B,QAA1B,EAAoC,UAApC,EAAgD,WAAhD,CAFkB,CAAtB;AAIA,IAAMC,qBAAqB,SAArBA,kBAAqB,CAAC57B,QAAD,EAAc;AACrC,QAAM74C,QAAQ00E,oEAAiBA,CAACF,cAAc,CAAd,CAAlB,EAAoC37B,QAApC,CAAd;AACA,WAAO27B,cAAc,CAAd,EAAiBx0E,KAAjB,CAAP;AACH,CAHD;AAIA,IAAM20E,2BAA2B,SAA3BA,wBAA2B,CAAC72E,IAAD,EAAO1C,SAAP,EAAqB;AAAA;;AAClD,QAAMw5E,6DACDxxE,2DAAgBA,CAACE,QADhB,EAC2B,UAAChU,KAAD,EAAQupD,QAAR,EAAqB;AAC9C,YAAMg8B,kBAAkBJ,mBAAmB57B,QAAnB,CAAxB;AACA,eAAOpzC,4DAAiBA,CAACgG,QAAlB,CAA2Bnc,KAA3B,EAAkC6kF,YAAYU,eAAZ,CAAlC,CAAP;AACH,KAJC,gCAKD1wE,yDAAcA,CAACC,UALd,EAK2B;AAAA,eAAShJ,UAAU9L,QAAQA,MAAM20E,OAAN,CAAc,CAAd,CAAR,GAA2B30E,KAArC,CAAT;AAAA,KAL3B,gCAMD8T,2DAAgBA,CAACC,WANhB,EAM8B;AAAA,eAAS/T,KAAT;AAAA,KAN9B,eAAN;AAQA,WAAOslF,WAAW92E,IAAX,CAAP;AACH,CAVD;;AAYA,IAAMg3E,iBAAiB,SAAjBA,cAAiB,CAACp/E,IAAD,EAAOqG,MAAP,EAAeg5E,UAAf,EAA2B3R,SAA3B,EAAyC;AAC5D,QAAMlxE,OAAO,EAAb;AACAA,SAAKI,IAAL,CAAUyJ,OAAOrK,GAAP,CAAW;AAAA,eAAK/C,EAAEC,IAAP;AAAA,KAAX,CAAV;AACA8G,SAAKtD,OAAL,CAAa,UAACzD,CAAD,EAAO;AAChB,YAAMqD,MAAM,EAAZ;AACA+J,eAAO3J,OAAP,CAAe,UAAC4iF,QAAD,EAAW1mF,CAAX,EAAiB;AAC5B,gBAAMuqD,WAAWm8B,SAASpyE,OAAT,KAAqBQ,2DAAgBA,CAACE,QAAtC,GAAiD8/D,UAAU4R,SAASpmF,IAAnB,CAAjD,GAA4E,CAA7F;AACA,gBAAM6a,eAAeurE,SAASl3E,IAAT,KAAkB0F,oDAASA,CAACC,OAA5B,IAAuCsxE,WAAWx9E,MAAX,CAAkBjJ,CAAlB,EAAqBmb,YAArB,EAA5D;AACA,gBAAMwrE,cAAcN,yBAAyBK,SAASpyE,OAAT,IAAoBoyE,SAASl3E,IAAtD,EAA4D2L,YAA5D,CAApB;AACA,gBAAMna,QAAQ2lF,YAAYtmF,EAAEL,CAAF,CAAZ,EAAkBuqD,QAAlB,CAAd;AACA7mD,gBAAIM,IAAJ,CAAShD,KAAT;AACH,SAND;AAOA4C,aAAKI,IAAL,CAAUN,GAAV;AACH,KAVD;AAWA,WAAOE,IAAP;AACH,CAfD;;AAiBO,IAAMgjF,mBAAmB,SAAnBA,gBAAmB,CAAC7lE,SAAD,EAAqC;AAAA,QAAzBpS,MAAyB,uEAAhB,EAAgB;AAAA,QAAZwhC,OAAY;;AACjE,QAAI02C,cAAc,EAAlB;AACA,QAAM7lE,UAAUD,UAAUpU,OAAV,EAAhB;AACA,QAAMvF,OAAO4Z,QAAQ5Z,IAArB;AACA,QAAMqG,SAASuT,QAAQvT,MAAvB;AACA,QAAM64E,aAAa33E,OAAO23E,UAA1B;AACA,QAAMhC,YAAY31E,OAAO21E,SAAzB;AACA,QAAMlzE,eAAe2P,UAAU1P,eAAV,EAArB;AACA,QAAMo1E,aAAa1lE,UAAUrR,aAAV,EAAnB;AACA,QAAMo3E,sBAAsB32C,QAAQ22C,mBAApC;AACA,QAAMrnB,OAAOtvB,QAAQsvB,IAArB;AACA,QAAMoV,eAAe1kC,QAAQ0kC,YAAR,IAAwB,EAA7C;AACA,QAAM7mD,aAAavgB,OAAOyU,MAAP,CAAc;AAAA,eAAK7hB,EAAEmP,IAAF,KAAW0F,oDAASA,CAACb,SAA1B;AAAA,KAAd,CAAnB;AACA,QAAM8Z,WAAW1gB,OAAOyU,MAAP,CAAc;AAAA,eAAK7hB,EAAEmP,IAAF,KAAW0F,oDAASA,CAACC,OAA1B;AAAA,KAAd,CAAjB;AACA;AACA,QAAM4xE,sBAAsBt5E,OAAOwG,IAAP,CAAY;AAAA,eAAK4gE,aAAa3mE,OAAb,CAAqB7N,EAAEC,IAAvB,MAAiC,CAAC,CAAvC;AAAA,KAAZ,CAA5B;AACA,QAAMw0E,YAAY3kC,QAAQ2kC,SAA1B;AACA,QAAMkS,UAAU5/E,KAAK3C,MAArB;AACA,QAAMwiF,gBAAgB,SAAhBA,aAAgB,CAACz+E,KAAD,EAAQgH,IAAR,EAAiB;AACnC,YAAIxO,cAAJ;AACA,YAAIkmF,uBAAJ;AACA,YAAIC,qBAAJ;AACA,YAAMjmE,SAAS,EAAf;AACA,YAAMxP,QAAQN,aAAa5I,KAAb,EAAoBkJ,KAAlC;AACA,YAAM64C,WAAWn5C,aAAa5I,KAAb,EAAoB4Y,GAApB,CAAwB9M,OAAxB,KAAoCQ,2DAAgBA,CAACE,QAArD,GACT8/D,UAAUtsE,KAAV,CADS,GACU,CAD3B;AAEA,YAAMm+E,cAAeL,cAAcA,WAAW99E,KAAX,CAAf,IAAqC69E,yBAAyB72E,IAAzB,EAA+B;AAAA,mBAAO+L,GAAP;AAAA,SAA/B,CAAzD;;AAEA,YAAIva,UAAU,IAAd,EAAoB;AAChB,gBAAIm7B,aAAa3sB,SAASqG,yDAAcA,CAACC,UAAxB,GAAqC1O,KAAKhE,GAAL,CAAS;AAAA,uBAAK/C,EAAEqR,KAAF,CAAL;AAAA,aAAT,CAArC,gCACT,IAAIqH,GAAJ,CAAQ3R,KAAKhE,GAAL,CAAS;AAAA,uBAAK/C,EAAEqR,KAAF,CAAL;AAAA,aAAT,CAAR,CADS,EAAjB;AAEAyqB,yBAAaA,WAAWja,MAAX,CAAkB;AAAA,uBAAK7hB,MAAM,EAAX;AAAA,aAAlB,CAAb;AACA,gBAAM+mF,YAAY3nB,KAAKzrB,KAAL,CAAW,CAAX,CAAlB;AACA,gBAAMqzC,YAAY5nB,KAAKiX,KAAL,CAAW,CAAX,CAAlB;AACA,gBAAM4Q,WAAW7nB,KAAKoM,IAAL,CAAU,CAAV,CAAjB;AACA,gBAAM0b,iBAAiB,CAACH,aAAaC,SAAb,IAA0BC,QAA3B,KAAwCN,UAAU,CAAlD,IACfx3E,SAASqG,yDAAcA,CAACC,UADhC;;AAGAqmB,uBAAWr4B,OAAX,CAAmB,UAACyX,GAAD,EAAMvb,CAAN,EAAY;AAC3B,oBAAIsB,YAAJ;AACA,oBAAMkmF,qBAAqBV,oBAAoBt+E,KAApB,CAA3B;;AAEA,oBAAIg/E,sBAAsBA,mBAAmB/iF,MAAzC,IAAmDuiF,UAAU,CAAjE,EAAoE;AAChE1lF,0BAAMia,GAAN;AACA,wBAAI6+D,OAAO;AACPp5E,+BAAO;AADA,qBAAX;;AAIA,wBAAIumF,cAAJ,EAAoB;AAChBnN,+BAAO;AACH5qE,kCAAM,MADH;AAEHwkC,mCAAOozC,UAAUK,QAAV,CAAmBlsE,GAAnB,CAFJ;AAGHm7D,mCAAO2Q,UAAUK,QAAV,CAAmBnsE,GAAnB,CAHJ;AAIHswD,kCAAMyb,SAASK,OAAT,CAAiBpsE,GAAjB,IAAwB5M,OAAOw1E;AAJlC,yBAAP;AAMH;AACD,wBAAIqD,mBAAmB/iF,MAAnB,GAA4B,CAAhC,EAAmC;AAC/Byc,+BAAOld,IAAP,CAAY,CAACo2E,IAAD,OAAU94E,GAAV,CAAZ;AACAkmF,2CAAmB1jF,OAAnB,CAA2B,UAAC8jF,OAAD,EAAa;AACpCT,2CAAe/1E,aAAaw2E,OAAb,EAAsBl2E,KAArC;AACA1Q,oCAAQoG,KAAKpH,CAAL,EAAQmnF,YAAR,CAAR;AACAD,6CAAiBb,yBAAyBxwE,yDAAcA,CAACC,UAAxC,EACb2wE,WAAWx9E,MAAX,CAAkBk+E,YAAlB,EAAgChsE,YAAhC,EADa,EACmCna,KADnC,EAC0CupD,QAD1C,CAAjB;AAEArpC,mCAAOld,IAAP,CAAY,CAAC;AACThD,4CAAU4mF,OAAV,GAAoBtD,SADX;AAETpwC,uCAAO;AACH,mDAAkBvlC,OAAOmrE,MAAzB;AADG,iCAFE;AAKT1mC,2CAAczkC,OAAO8lC,WAArB;AALS,6BAAD,EAMT;AACCzzC,4CAAUkmF,cADX;AAEC9zC,2CAAczkC,OAAO8lC,WAArB;AAFD,6BANS,CAAZ;AAUH,yBAfD;AAgBH,qBAlBD,MAkBO;AACH0yC,uCAAe/1E,aAAao2E,mBAAmB,CAAnB,CAAb,EAAoC91E,KAAnD;AACA1Q,gCAAQoG,KAAKpH,CAAL,EAAQmnF,YAAR,CAAR;AACAD,yCAAiBb,yBAAyBxwE,yDAAcA,CAACC,UAAxC,EACb2wE,WAAWx9E,MAAX,CAAkBk+E,YAAlB,EAAgChsE,YAAhC,EADa,EACmCna,KADnC,EAC0CupD,QAD1C,CAAjB;AAEArpC,+BAAOld,IAAP,CAAY,CAACo2E,IAAD,EAAO;AACfp5E,wCAAUM,GAAV,GAAgBgjF,SADD;AAEflxC,uCAAczkC,OAAO8lC,WAArB;AAFe,yBAAP,EAGT;AACCzzC,wCAAUkmF,cADX;AAEC9zC,uCAAczkC,OAAO8lC,WAArB;AAFD,yBAHS,CAAZ;AAOH;AACJ,iBA7CD,MA6CO;AACHnzC,0BAAMkH,KAAN;AACAxH,4BAAQua,GAAR;AACA2rE,qCAAiBP,YAAY3lF,KAAZ,EAAmBupD,QAAnB,CAAjB;AACArpC,2BAAOld,IAAP,CAAY,CAAC;AACThD,oCAAUM,GAAV,GAAgBgjF,SADP;AAETlxC,mCAAczkC,OAAO8lC,WAArB;AAFS,qBAAD,EAGT;AACCzzC,oCAAUkmF,cADX;AAEC9zC,mCAAczkC,OAAO8lC,WAArB;AAFD,qBAHS,CAAZ;AAOH;AACJ,aA7DD;AA8DH;AACD,eAAOvzB,MAAP;AACH,KApFD;AAqFA,QAAI0iE,gBAAgB,UAApB;;AAEA,QAAIoD,UAAU,CAAV,IAAeD,mBAAnB,EAAwC;AACpCF,sBAAcL,eAAep/E,IAAf,EAAqBqG,MAArB,EAA6Bg5E,UAA7B,EAAyC3R,SAAzC,CAAd;AACA8O,wBAAgB,OAAhB;AACH,KAHD,MAGO;AACH51D,mBAAWlqB,OAAX,CAAmB,UAACkF,IAAD,EAAU;AACzB,gBAAMwG,OAAOxG,KAAKsL,OAAL,GAAetL,KAAKsL,OAApB,GAA8BtL,KAAKwG,IAAhD;AACAq3E,uDAAkBA,WAAlB,sBAAkCI,cAAcj+E,KAAK1I,IAAnB,EAAyBkP,IAAzB,CAAlC;AACH,SAHD;;AAKA,YAAMq4E,8EAAsB9uE,GAAtB,mCAA6BtY,OAAOygB,MAAP,CAAc4lE,mBAAd,CAA7B,QAAN;AACA,YAAMgB,mBAAmBd,UAAU,CAAV,GAAc74D,SAASjM,MAAT,CAAgB;AAAA,mBAAK2lE,YAAY35E,OAAZ,CAAoB7N,EAAEC,IAAtB,MAAgC,CAAC,CAAtC;AAAA,SAAhB,CAAd,GACnB6tB,QADN;;AAGA25D,yBAAiBhkF,OAAjB,CAAyB,UAACkF,IAAD,EAAU;AAC/B,gBAAMwG,OAAOxG,KAAKsL,OAAL,GAAetL,KAAKsL,OAApB,GAA8BtL,KAAKwG,IAAhD;AACAq3E,uDAAkBA,WAAlB,sBAAkCI,cAAcj+E,KAAK1I,IAAnB,EAAyBkP,IAAzB,CAAlC;AACH,SAHD;AAIH;;AAED,WAAO;AACHwlE,iBAAS6R,WADN;AAEHjD;AAFG,KAAP;AAIH,CAhIM;;AAkIP;;;;AAIO,IAAMroB,WAAW;AACpBwsB,cAAU,kBAAC3gF,IAAD,EAAOuH,MAAP,EAAewhC,OAAf,EAA2B;AACjC,YAAMjvB,SAAS0lE,iBAAiBx/E,IAAjB,EAAuBuH,MAAvB,EAA+BwhC,OAA/B,CAAf;AACA,eAAOjvB,MAAP;AACH;AAJmB,CAAjB;;AAOA,IAAMmiE,mBAAmB,UAAzB,C;;;;;;;;;;;ACnMP,uC;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AAQA;AAEA;AACA;AACA;AACA;;AAEA;;;;;;IAKqBnQ,O;AACjB;;;;;AAKA,qBAAasB,aAAb,EAA4B9S,YAA5B,EAA0C;AAAA;;AACtC,YAAIsmB,qBAAqBtmB,YAAzB;AACA,aAAK7Z,GAAL,GAAWnsB,8DAAWA,EAAtB;AACA,aAAK9I,OAAL,GAAe,EAAf;AACA,aAAKjkB,MAAL,CAAY,EAAZ;AACA,YAAMszD,cAAc,KAAKrvC,OAAzB;AACA,YAAM6hB,cAAcwtB,YAAYxtB,WAAhC;AACA,YAAMwzC,eAAehmB,YAAY+S,OAAZ,CAAoBuP,eAAzC;AACA,YAAM1R,YAAYt/B,8DAAWA,CAACihC,aAAZ,EAA2B,KAA3B,EAAkC,CAAC,CAAD,CAAlC,EAA0C//B,WAA1C,wBAAlB;AACA,aAAKyzC,UAAL,GAAkBrV,SAAlB;AACA,aAAKuC,iBAAL,GAAyBvC,UAAUvxC,MAAV,CAAiB,KAAjB,EAAwB4S,KAAxB,CAA8B,UAA9B,EAA0C,UAA1C,CAAzB;AACA,aAAKi0C,iBAAL,GAAyB,KAAK/S,iBAAL,CAAuB9zC,MAAvB,CAA8B,KAA9B,EAAqCyT,IAArC,CAA0C,OAA1C,EAAsDN,WAAtD,SAAqEwzC,YAArE,CAAzB;AACA,aAAKxC,kBAAL,GAA0B,KAAKrQ,iBAAL,CAAuB9zC,MAAvB,CAA8B,KAA9B,EAAqC4S,KAArC,CAA2C,UAA3C,EAAuD,UAAvD,CAA1B;AACA,aAAKqxC,aAAL,GAAqB,KAAKnQ,iBAAL,CAAuB9zC,MAAvB,CAA8B,KAA9B,CAArB;;AAEA,YAAI,CAACogC,YAAL,EAAmB;AACfsmB,iCAAqBxT,cAAclzC,MAAd,CAAqB,KAArB,EAA4B4S,KAA5B,CAAkC,gBAAlC,EAAoD,MAApD,CAArB;AACH;AACD,aAAKk0C,SAAL,GAAiB,EAAjB;AACA,aAAKC,0BAAL,GAAkClzC,gEAAaA,CAAC6yC,kBAAd,EAC7B1mD,MAD6B,CACtB,GADsB,EAE7ByT,IAF6B,CAExB,OAFwB,EAEZktB,YAAYxtB,WAFA,SAEewtB,YAAYiiB,kBAF3B,CAAlC;AAGA,YAAMtwC,KAAK,KAAKiU,GAAhB;AACA,YAAM9C,eAAekd,YAAYld,YAAjC;AACA,YAAMujC,qBAAqB1V,wEAAqBA,CAAC7tB,YAAtB,EAAoCnR,EAApC,EAAwCquB,YAAYxtB,WAApD,CAA3B;;AAEAqvC,oEAASA,CAAC,KAAKyB,aAAf,EAA8BrC,wDAA9B;AACAY,oEAASA,CAAC,KAAK2B,kBAAf,EAAmCvC,wDAAnC;AACA,aAAKqF,QAAL,CAAcD,mBAAmB/kF,IAAnB,CAAwB,GAAxB,CAAd;AACA,aAAKglF,QAAL,CAActmB,YAAY7uB,SAA1B;AACA,aAAKg7B,IAAL;AACH;;AAED;;;;;;;;;iCAKmB;AACf,gBAAI,UAAO3pE,MAAP,GAAgB,CAApB,EAAuB;AACnB,oBAAM+jF,UAAUl9C,iEAAcA,CAAC,EAAf,EAAmB,KAAKz/B,WAAL,CAAiBumC,aAAjB,EAAnB,CAAhB;AACA,qBAAKxf,OAAL,GAAe0Y,iEAAcA,CAACk9C,OAAf,mDAAf;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAK51D,OAAZ;AACH;;AAED;;;;;;;;AAOA;;;;;iCAKUwgB,S,EAAW;AACjB,iBAAKgiC,iBAAL,CAAuBzgC,OAAvB,CAA+BvB,SAA/B,EAA0C,IAA1C;AACA,mBAAO,IAAP;AACH;;;kCAEgB;AACb,gBAAI,UAAI3uC,MAAR,EAAgB;AACZ,qBAAK++E,QAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,QAAZ;AACH;;;gCAEQljF,I,EAAM8G,I,EAA0B;AAAA,gBAApBqhF,aAAoB,uEAAJ,EAAI;;AACrC,gBAAM95E,SAAS,KAAKA,MAAL,EAAf;AADqC,gBAE7B8lC,WAF6B,GAEb9lC,MAFa,CAE7B8lC,WAF6B;;AAGrC,gBAAMwzC,eAAet5E,OAAOqmE,OAAP,CAAe5hC,SAApC;AACA,gBAAMtmC,YAAY6B,OAAO7B,SAAzB;AACA,gBAAMsmC,YAAYq1C,cAAcr1C,SAAd,IAA8BqB,WAA9B,SAA6CwzC,YAA7C,SAA6D3nF,IAA/E;AACA,gBAAM00E,UAAU,KAAKoT,SAAL,CAAe9nF,IAAf,IAAuB,KAAK8nF,SAAL,CAAe9nF,IAAf,KAAwB,IAAI6iF,gDAAJ,EAA/D;AACA,gBAAMtQ,YAAYt/B,8DAAWA,CAAC,KAAK40C,iBAAjB,EAAoC,KAApC,EAA2C,CAACM,cAAc57E,KAAf,CAA3C,EAAkEumC,SAAlE,CAAlB;AACAy/B,sBAAU99B,IAAV,CAAe,OAAf,EAA2BN,WAA3B,SAA0CwzC,YAA1C,SAA0D70C,SAA1D;AACAwyC,6EAAiBA,CAAC,KAAKuC,iBAAvB,QAA8C1zC,WAA9C,SAA6DwzC,YAA7D;AACA,gBAAMS,cAAc/5E,OAAOqmE,OAA3B;AACAyT,0BAAch0C,WAAd,GAA4B,KAAK7hB,OAAL,CAAa6hB,WAAzC;AACAugC,oBAAQrmE,MAAR,CAAe+5E,WAAf;;AAEA,gBAAIthF,SAAS,IAAb,EAAmB;AACf4tE,wBAAQ2T,KAAR;AACA9V,0BAAUp9B,MAAV;AACA,uBAAO,KAAK2yC,SAAL,CAAe9nF,IAAf,CAAP;AACH,aAJD,MAIO;AACH00E,wBAAQ/zC,MAAR,CAAe;AACX7tB,2BAAOhM,IADI;AAEX0F,+BAAW27E,cAAc37E,SAAd,IAA2BA;AAF3B,iBAAf;AAIAkoE,wBAAQ7kC,OAAR,CAAgB,KAAKqzC,QAArB;AACAxO,wBAAQz/B,MAAR,CAAes9B,SAAf;AACH;;AAED,gBAAI,CAACpyE,OAAOyI,IAAP,CAAY,KAAKk/E,SAAjB,EAA4B3jF,MAAjC,EAAyC;AACrC,qBAAK2pE,IAAL;AACH;AACD,mBAAO,IAAP;AACH;;;sCAEc;AACX,mBAAO3tE,OAAOygB,MAAP,CAAc,KAAKknE,SAAnB,CAAP;AACH;;AAED;;;;;;;;;iCAMUt7D,C,EAAG+J,C,EAAc;AAAA,gBAAX+xD,IAAW,uEAAJ,EAAI;;AACvB,gBAAI,CAACnoF,OAAOyI,IAAP,CAAY,KAAKk/E,SAAjB,EAA4B3jF,MAAjC,EAAyC;AACrC,qBAAK2pE,IAAL;AACA,uBAAO,IAAP;AACH;AACD,iBAAK16B,IAAL;AACA,gBAAM7oC,SAAS,KAAKg+E,OAApB;AACA,gBAAMvT,kBAAkBsT,KAAKtT,eAA7B;;AAEA,gBAAIzqE,UAAUyqE,eAAd,EAA+B;AAC3B,oBAAM32C,OAAO,KAAKy2C,iBAAL,CAAuBz2C,IAAvB,EAAb;AACA,oBAAMhwB,SAAS,KAAKikB,OAApB;AACA,oBAAMmyD,gBAAgBp2E,OAAO61E,KAAP,CAAavX,QAAnC;AACA,oBAAM+X,aAAaD,gBAAgB,CAAhB,GAAoBp2E,OAAO61E,KAAP,CAAa3Y,IAApD;AACA,oBAAMid,cAAc,KAAKnD,iBAAzB;AACA,oBAAMoD,cAAcD,gBAAgBjG,qDAAhB,IAA8BiG,gBAAgBpG,sDAA9C,GACf7rD,IAAI8H,KAAKqqD,YAAT,GAAwBhE,UAAzB,GAAuCn6E,OAAOgsB,CAA9C,IAAmDA,IAAKhsB,OAAOgsB,CAAP,GAAWhsB,OAAOuhC,MAD1D,GAEftf,IAAI6R,KAAKsqD,WAAT,GAAuBjE,UAAxB,GAAsCn6E,OAAOiiB,CAA7C,IAAkDA,IAAKjiB,OAAOiiB,CAAP,GAAWjiB,OAAOshC,KAF7E;;AAIA,oBAAI,CAAC44C,aAAL,EAAoB;AAChB,wBAAIgE,WAAJ,EAAiB;AACb,4BAAI3lE,aAAJ;AACA,6BAAKmiE,aAAL,CAAmBrxC,KAAnB,CAAyB,SAAzB,EAAoC,MAApC;AACA,6BAAKuxC,kBAAL,CAAwBvxC,KAAxB,CAA8B,SAA9B,EAAyC,MAAzC;AACA,6BAAKm0C,0BAAL,CAAgCn0C,KAAhC,CAAsC,SAAtC,EAAiD,OAAjD;AACA,4BAAMg1C,YAAY,KAAKb,0BAAL,CAAgCnoC,SAAhC,CAA0C,MAA1C,EAAkD94C,IAAlD,CAAuD,CAAC,CAAD,CAAvD,CAAlB;AACA,4BAAMmrE,QAAQ2W,UAAU3W,KAAV,GAAkBjxC,MAAlB,CAAyB,MAAzB,CAAd;AACA,4BAAIwnD,gBAAgBjG,qDAApB,EAAgC;AAC5Bz/D,mCAAO,OAAK0J,CAAL,UAAU+J,IAAI8H,KAAKqqD,YAAL,GAAoB,CAAlC,aAAyCn+E,OAAOiiB,CAAP,GAAWjiB,OAAOshC,KAA3D,YACGthC,OAAOgsB,CAAP,GAAWhsB,OAAOuhC,MAAP,GAAgB,CAD9B,EAAP;AAEH,yBAHD,MAGO,IAAI08C,gBAAgBpG,sDAApB,EAAiC;AACpCt/D,mCAAO,QAAK0J,IAAI6R,KAAKsqD,WAAd,WAA6BpyD,IAAI8H,KAAKqqD,YAAL,GAAoB,CAArD,aACSn+E,OAAOiiB,CADhB,UACqBjiB,OAAOgsB,CAAP,GAAWhsB,OAAOuhC,MAAP,GAAgB,CADhD,EAAP;AAEH,yBAHM,MAGA,IAAI08C,gBAAgBlG,uDAApB,EAAkC;AACrCx/D,mCAAO,QAAK0J,IAAI6R,KAAKsqD,WAAL,GAAmB,CAA5B,WAAiCpyD,IAAI8H,KAAKqqD,YAA1C,cACKn+E,OAAOiiB,CAAP,GAAWjiB,OAAOshC,KAAP,GAAe,CAD/B,UACoCthC,OAAOgsB,CAD3C,CAAP;AAEH;AACD07C,8BAAMriD,KAAN,CAAYg5D,SAAZ,EAAuBn0C,IAAvB,CAA4B,GAA5B,EAAiC3xB,IAAjC,EAAuC8wB,KAAvC,CAA6C,SAA7C,EAAwD,OAAxD;AACH,qBAlBD,MAkBO;AACH,4BAAM0wC,WAAWH,2DAAWA,CAACqE,WAAZ,EAAyBj+E,MAAzB,EAAiC;AAC9CiiB,gCAD8C;AAE9C+J,gCAF8C;AAG9CguD,uCAAWlmD,KAAKqqD,YAH8B;AAI9ClE,sCAAUnmD,KAAKsqD;AAJ+B,yBAAjC,EAKd,KAAKr2D,OALS,CAAjB;;AAOAyyD,kFAAUA,CAAC,IAAX,EAAiB,KAAKM,iBAAtB,EAAyCf,QAAzC;AACA,6BAAKyD,0BAAL,CAAgCn0C,KAAhC,CAAsC,SAAtC,EAAiD,MAAjD;AACH;AACJ;AACJ;;AAED,gBAAMiV,SAAS,KAAKggC,OAAL,IAAgB;AAC3Br8D,mBAAG,CADwB;AAE3B+J,mBAAG;AAFwB,aAA/B;AAIA,iBAAKu+C,iBAAL,CAAuBlhC,KAAvB,CAA6B,MAA7B,EAAwCiV,OAAOr8B,CAAP,GAAWA,CAAnD,SAA0DonB,KAA1D,CAAgE,KAAhE,EACOiV,OAAOtyB,CAAP,GAAWA,CADlB;;AAGA,mBAAO,IAAP;AACH;;AAED;;;;;;;;2CAKoB8tD,G,EAAuB;AAAA;;AAAA,gBAAlB1iB,WAAkB,uEAAJ,EAAI;;AACvC,gBAAIhoC,YAAJ;AACA,gBAAIykB,cAAcujB,YAAYvjB,WAA9B;AACA,iBAAKhL,IAAL;AACA,gBAAI,CAACixC,GAAL,EAAU;AACN,qBAAKvW,IAAL;AACA,uBAAO,IAAP;AACH;;AAED,gBAAMrlB,SAAS,KAAKqgC,OAApB;AACA,gBAAMzqD,OAAO,KAAKy2C,iBAAL,CAAuBz2C,IAAvB,EAAb;;AAEA,iBAAKy2C,iBAAL,CAAuBlhC,KAAvB,CAA6B,KAA7B,EAAoC,KAApC,EACiBA,KADjB,CACuB,MADvB,EAC+B,KAD/B;AAEA,gBAAM+0C,cAActqD,KAAKsqD,WAAL,GAAmB,CAAvC;AACA,gBAAMD,eAAerqD,KAAKqqD,YAAL,GAAoB,CAAzC;AACA,gBAAMr6E,SAAS,KAAKikB,OAApB;AACA,gBAAMu2B,SAAS,KAAKggC,OAApB;AACA,gBAAMpE,gBAAgBp2E,OAAO61E,KAAP,CAAavX,QAAnC;AACA,gBAAMoc,YAAYtE,gBAAgB,CAAhB,GAAoBp2E,OAAO61E,KAAP,CAAa3Y,IAAnD;AACA,gBAAMyd,OAAOrnB,YAAYqnB,IAAZ,KAAqB5gF,SAArB,GAAiCu5D,YAAYqnB,IAA7C,GAAoD,IAAjE;AACA,gBAAMC,WAAW5E,IAAI9tD,CAArB;AACA;AACA,gBAAM2yD,OAAO7E,IAAI73D,CAAJ,GAAQ63D,IAAIx4C,KAAZ,GAAoBgd,OAAOr8B,CAAxC;AACA,gBAAM28D,aAAa1gC,OAAO5c,KAAP,GAAeq9C,IAAlC;AACA,gBAAME,YAAY/E,IAAI73D,CAAJ,GAAQq8B,OAAOr8B,CAAf,GAAmBi8B,OAAOj8B,CAA5C;AACA,gBAAM68D,cAAcJ,WAAYP,eAAeK,SAA/C;AACA,gBAAMO,gBAAgBH,cAAcR,cAAcI,SAAlD;AACA,gBAAMQ,eAAeH,aAAaT,cAAcI,SAAhD;;AAEA,gBAAMS,qBAAqB,SAArBA,kBAAqB,GAAM;AAC7B,oBAAI/nB,iBAAJ;AACA,oBAAIj1C,IAAI63D,IAAI73D,CAAJ,GAAQ63D,IAAIx4C,KAApB;AACA,oBAAItV,IAAI8tD,IAAI9tD,CAAZ;;AAEA,oBAAI+yD,aAAJ,EAAmB;AACf7nB,+BAAW+gB,uDAAX;AACAh2D,yBAAKu8D,SAAL;AACH,iBAHD,MAGO,IAAIQ,YAAJ,EAAkB;AACrB/8D,wBAAI63D,IAAI73D,CAAJ,GAAQm8D,WAAZ;AACAlnB,+BAAWghB,wDAAX;AACAj2D,yBAAKu8D,SAAL;AACH,iBAJM,MAIA;AACHtnB,+BAAW,MAAX;AACAj1C,yBAAKu8D,SAAL;AACH;AACD,oBAAI1E,IAAIv4C,MAAJ,GAAa48C,YAAjB,EAA+B;AAC3BnyD,wBAAI5Z,KAAKxD,GAAL,CAAS,CAAT,EAAYkrE,IAAI9tD,CAAJ,GAAQ8tD,IAAIv4C,MAAJ,GAAa,CAArB,GAAyB48C,eAAe,CAApD,CAAJ;AACH;;AAED,oBAAMpE,WAAWH,2DAAWA,CAAC1iB,QAAZ,EAAsB4iB,GAAtB,EAA2B;AACxC73D,wBADwC;AAExC+J,wBAFwC;AAGxCguD,+BAAWmE,YAH6B;AAIxClE,8BAAUmE;AAJ8B,iBAA3B,EAKd,MAAKr2D,OALS,CAAjB;;AAOA,uBAAO;AACHmvC,sCADG;AAEH6iB,sCAFG;AAGH93D,wBAHG;AAIH+J;AAJG,iBAAP;AAMH,aAjCD;;AAmCA,gBAAMkzD,mBAAmB,SAAnBA,gBAAmB,GAAM;AAC3B,oBAAIhoB,iBAAJ;AACA,oBAAIlrC,UAAJ;AACA;AACA,oBAAI/J,IAAI63D,IAAI73D,CAAJ,GAAQm8D,cAAc,CAAtB,GAA0BtE,IAAIx4C,KAAJ,GAAY,CAA9C;;AAEA;AACA,oBAAK4c,OAAO5c,KAAP,IAAgBw4C,IAAI73D,CAAJ,GAAQq8B,OAAOr8B,CAA/B,CAAD,GAAsCm8D,WAA1C,EAAuD;AACnDn8D,wBAAIi8B,OAAO5c,KAAP,GAAe88C,WAAf,GAA6B9/B,OAAOr8B,CAAxC;AACH,iBAFD,MAEO,IAAKA,IAAIq8B,OAAOr8B,CAAZ,GAAiBi8B,OAAOj8B,CAA5B,EAA+B;AAAE;AACpCA,wBAAIi8B,OAAOj8B,CAAX;AACH;;AAED,oBAAI68D,WAAJ,EAAiB;AACb9yD,wBAAI8tD,IAAI9tD,CAAJ,GAAQmyD,YAAR,GAAuBK,SAA3B;AACAtnB,+BAAWihB,yDAAX;AACH,iBAHD,MAGO;AACHnsD,wBAAI8tD,IAAI9tD,CAAJ,GAAQ8tD,IAAIv4C,MAAZ,GAAqBi9C,SAAzB;AACAtnB,+BAAWkhB,sDAAX;AACH;;AAED,oBAAM2B,WAAWH,2DAAWA,CAAC1iB,QAAZ,EAAsB4iB,GAAtB,EAA2B;AACxC73D,wBADwC;AAExC+J,wBAFwC;AAGxCguD,+BAAWmE,YAH6B;AAIxClE,8BAAUmE;AAJ8B,iBAA3B,EAKd,MAAKr2D,OALS,CAAjB;;AAOA,uBAAO;AACHmvC,sCADG;AAEH6iB,sCAFG;AAGH93D,wBAHG;AAIH+J;AAJG,iBAAP;AAMH,aAlCD;;AAoCA,iBAAKgyD,OAAL,GAAelE,GAAf;AACA,gBAAI,CAACjmC,WAAL,EAAkB;AACd,oBAAIirC,WAAJ,EAAiB;AACbjrC,kCAAc,UAAd;AACH,iBAFD,MAEO,IAAIkrC,iBAAiBC,YAArB,EAAmC;AACtCnrC,kCAAc,YAAd;AACH,iBAFM,MAEA;AACHA,kCAAc,UAAd;AACH;AACJ;;AAED,gBAAIA,gBAAgB,YAApB,EAAkC;AAC9BzkB,sBAAM6vD,oBAAN;AACH,aAFD,MAEO,IAAIprC,gBAAgB,UAApB,EAAgC;AACnCzkB,sBAAM8vD,kBAAN;AACH;;AAED,iBAAK7U,SAAL,GAAiB;AACbpoD,mBAAGmN,IAAInN,CADM;AAEb+J,mBAAGoD,IAAIpD;AAFM,aAAjB;;AAKA,iBAAKmzD,SAAL,GAAiB/vD,IAAI2qD,QAArB;AACA,gBAAI,CAACG,aAAL,EAAoB;AAChBM,0EAAUA,CAAC,IAAX,EAAiBprD,IAAI8nC,QAArB,EAA+B9nC,IAAI2qD,QAAnC;AACH,aAFD,MAEO;AACH,qBAAKW,aAAL,CAAmBrxC,KAAnB,CAAyB,SAAzB,EAAoC,MAApC;AACA,qBAAKuxC,kBAAL,CAAwBvxC,KAAxB,CAA8B,SAA9B,EAAyC,MAAzC;AACH;AACD,iBAAKyxC,iBAAL,GAAyB1rD,IAAI8nC,QAA7B;AACAunB,oBAAQ,KAAKvnB,QAAL,CAAc9nC,IAAInN,CAAlB,EAAqBmN,IAAIpD,CAAzB,CAAR;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;+BAIQ;AACJ,iBAAKu+C,iBAAL,CAAuBlhC,KAAvB,CAA6B,SAA7B,EAAwC,MAAxC;AACA,iBAAKm0C,0BAAL,CAAgCn0C,KAAhC,CAAsC,SAAtC,EAAiD,MAAjD;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;+BAIQ;AACJ,iBAAKkhC,iBAAL,CAAuBlhC,KAAvB,CAA6B,SAA7B,EAAwC,OAAxC;AACA,mBAAO,IAAP;AACH;;;+BAEO6U,O,EAAQ;AACZ,iBAAKqgC,OAAL,GAAergC,OAAf;AACA,mBAAO,IAAP;AACH;;;+BAEOI,O,EAAQ;AACZ,iBAAKggC,OAAL,GAAehgC,OAAf;AACA,mBAAO,IAAP;AACH;;;iCAES;AACN,iBAAKisB,iBAAL,CAAuB3/B,MAAvB;AACA,iBAAKgwC,kBAAL,CAAwBhwC,MAAxB;AACA,iBAAK4yC,0BAAL,CAAgC5yC,MAAhC;AACA,mBAAO,IAAP;AACH;;;wCA5SuB;AACpB,mBAAOrD,6DAAP;AACH;;;;;;AA3DgB8gC,sE;;;;;;;;;;;;ACpBrB;AAAA;AAAA;AAAA,IAAI+W,QAAQliF,MAAMlG,SAAlB;;AAEO,IAAIkD,QAAQklF,MAAMllF,KAAlB;AACA,IAAI3B,MAAM6mF,MAAM7mF,GAAhB,C;;;;;;;;;;;;ACHP;AAAe,yEAASqjB,CAAT,EAAYC,CAAZ,EAAe;AAC5B,SAAOD,IAAIC,CAAJ,GAAQ,CAAC,CAAT,GAAaD,IAAIC,CAAJ,GAAQ,CAAR,GAAYD,KAAKC,CAAL,GAAS,CAAT,GAAawjE,GAA7C;AACD,C;;;;;;;;;;;;ACFD;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,IAAIC,kBAAkBC,yDAAQA,CAACC,kDAAT,CAAtB;AACO,IAAIC,cAAcH,gBAAgBpgC,KAAlC;AACA,IAAIwgC,aAAaJ,gBAAgBrgC,IAAjC;AACQwgC,0EAAf,E;;;;;;;;;;;;ACNA;AAAA;AAAA;;AAEe,yEAASE,OAAT,EAAkB;AAC/B,MAAIA,QAAQ/lF,MAAR,KAAmB,CAAvB,EAA0B+lF,UAAUC,oBAAoBD,OAApB,CAAV;AAC1B,SAAO;AACL1gC,UAAM,cAASrjC,CAAT,EAAYqG,CAAZ,EAAeqD,EAAf,EAAmBC,EAAnB,EAAuB;AAC3B,UAAID,MAAM,IAAV,EAAgBA,KAAK,CAAL;AAChB,UAAIC,MAAM,IAAV,EAAgBA,KAAK3J,EAAEhiB,MAAP;AAChB,aAAO0rB,KAAKC,EAAZ,EAAgB;AACd,YAAI1b,MAAMyb,KAAKC,EAAL,KAAY,CAAtB;AACA,YAAIo6D,QAAQ/jE,EAAE/R,GAAF,CAAR,EAAgBoY,CAAhB,IAAqB,CAAzB,EAA4BqD,KAAKzb,MAAM,CAAX,CAA5B,KACK0b,KAAK1b,GAAL;AACN;AACD,aAAOyb,EAAP;AACD,KAVI;AAWL45B,WAAO,eAAStjC,CAAT,EAAYqG,CAAZ,EAAeqD,EAAf,EAAmBC,EAAnB,EAAuB;AAC5B,UAAID,MAAM,IAAV,EAAgBA,KAAK,CAAL;AAChB,UAAIC,MAAM,IAAV,EAAgBA,KAAK3J,EAAEhiB,MAAP;AAChB,aAAO0rB,KAAKC,EAAZ,EAAgB;AACd,YAAI1b,MAAMyb,KAAKC,EAAL,KAAY,CAAtB;AACA,YAAIo6D,QAAQ/jE,EAAE/R,GAAF,CAAR,EAAgBoY,CAAhB,IAAqB,CAAzB,EAA4BsD,KAAK1b,GAAL,CAA5B,KACKyb,KAAKzb,MAAM,CAAX;AACN;AACD,aAAOyb,EAAP;AACD;AApBI,GAAP;AAsBD;;AAED,SAASs6D,mBAAT,CAA6BhnF,CAA7B,EAAgC;AAC9B,SAAO,UAASpD,CAAT,EAAYysB,CAAZ,EAAe;AACpB,WAAOu9D,0DAASA,CAAC5mF,EAAEpD,CAAF,CAAV,EAAgBysB,CAAhB,CAAP;AACD,GAFD;AAGD,C;;;;;;;;;;;;AChCD;AAAe,yEAASA,CAAT,EAAY;AACzB,SAAO,YAAW;AAChB,WAAOA,CAAP;AACD,GAFD;AAGD,C;;;;;;;;;;;;ACJD;AAAA;AAAA;;AAEe,yEAAS49D,OAAT,EAAkBC,OAAlB,EAA2B58E,MAA3B,EAAmC;AAChD,MAAI68E,KAAKF,QAAQjmF,MAAjB;AAAA,MACIomF,KAAKF,QAAQlmF,MADjB;AAAA,MAEIyc,SAAS,IAAInZ,KAAJ,CAAU6iF,KAAKC,EAAf,CAFb;AAAA,MAGIC,EAHJ;AAAA,MAIIC,EAJJ;AAAA,MAKI/qF,CALJ;AAAA,MAMIgrF,MANJ;;AAQA,MAAIj9E,UAAU,IAAd,EAAoBA,SAASk9E,2CAAT;;AAEpB,OAAKH,KAAK9qF,IAAI,CAAd,EAAiB8qF,KAAKF,EAAtB,EAA0B,EAAEE,EAA5B,EAAgC;AAC9B,SAAKE,SAASN,QAAQI,EAAR,CAAT,EAAsBC,KAAK,CAAhC,EAAmCA,KAAKF,EAAxC,EAA4C,EAAEE,EAAF,EAAM,EAAE/qF,CAApD,EAAuD;AACrDkhB,aAAOlhB,CAAP,IAAY+N,OAAOi9E,MAAP,EAAeL,QAAQI,EAAR,CAAf,CAAZ;AACD;AACF;;AAED,SAAO7pE,MAAP;AACD,C;;;;;;;;;;;;ACpBD;AAAe,yEAASuF,CAAT,EAAYC,CAAZ,EAAe;AAC5B,SAAOA,IAAID,CAAJ,GAAQ,CAAC,CAAT,GAAaC,IAAID,CAAJ,GAAQ,CAAR,GAAYC,KAAKD,CAAL,GAAS,CAAT,GAAayjE,GAA7C;AACD,C;;;;;;;;;;;;ACFD;AAAA;AAAA;;AAEe,yEAASD,KAAT,EAAgBxmF,CAAhB,EAAmB;AAChC,MAAI0d,IAAIkM,yDAAQA,CAAC48D,KAAT,EAAgBxmF,CAAhB,CAAR;AACA,SAAO0d,IAAIlE,KAAKyQ,IAAL,CAAUvM,CAAV,CAAJ,GAAmBA,CAA1B;AACD,C;;;;;;;;;;;;ACLD;AAAe,yEAASD,MAAT,EAAiBgqE,OAAjB,EAA0B;AACvC,MAAI1pF,IAAI0f,OAAOzc,MAAf;AAAA,MACIzE,IAAI,CAAC,CADT;AAAA,MAEIgB,KAFJ;AAAA,MAGIsY,GAHJ;AAAA,MAIIG,GAJJ;;AAMA,MAAIyxE,WAAW,IAAf,EAAqB;AACnB,WAAO,EAAElrF,CAAF,GAAMwB,CAAb,EAAgB;AAAE;AAChB,UAAI,CAACR,QAAQkgB,OAAOlhB,CAAP,CAAT,KAAuB,IAAvB,IAA+BgB,SAASA,KAA5C,EAAmD;AACjDsY,cAAMG,MAAMzY,KAAZ;AACA,eAAO,EAAEhB,CAAF,GAAMwB,CAAb,EAAgB;AAAE;AAChB,cAAI,CAACR,QAAQkgB,OAAOlhB,CAAP,CAAT,KAAuB,IAA3B,EAAiC;AAC/B,gBAAIsZ,MAAMtY,KAAV,EAAiBsY,MAAMtY,KAAN;AACjB,gBAAIyY,MAAMzY,KAAV,EAAiByY,MAAMzY,KAAN;AAClB;AACF;AACF;AACF;AACF,GAZD,MAcK;AACH,WAAO,EAAEhB,CAAF,GAAMwB,CAAb,EAAgB;AAAE;AAChB,UAAI,CAACR,QAAQkqF,QAAQhqE,OAAOlhB,CAAP,CAAR,EAAmBA,CAAnB,EAAsBkhB,MAAtB,CAAT,KAA2C,IAA3C,IAAmDlgB,SAASA,KAAhE,EAAuE;AACrEsY,cAAMG,MAAMzY,KAAZ;AACA,eAAO,EAAEhB,CAAF,GAAMwB,CAAb,EAAgB;AAAE;AAChB,cAAI,CAACR,QAAQkqF,QAAQhqE,OAAOlhB,CAAP,CAAR,EAAmBA,CAAnB,EAAsBkhB,MAAtB,CAAT,KAA2C,IAA/C,EAAqD;AACnD,gBAAI5H,MAAMtY,KAAV,EAAiBsY,MAAMtY,KAAN;AACjB,gBAAIyY,MAAMzY,KAAV,EAAiByY,MAAMzY,KAAN;AAClB;AACF;AACF;AACF;AACF;;AAED,SAAO,CAACsY,GAAD,EAAMG,GAAN,CAAP;AACD,C;;;;;;;;;;;;ACpCD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,2EAAW;AACxB,MAAIzY,QAAQy/B,iDAAZ;AAAA,MACIznB,SAAS+vC,+CADb;AAAA,MAEIoiC,YAAYC,0DAFhB;;AAIA,WAASC,SAAT,CAAmBjkF,IAAnB,EAAyB;AACvB,QAAIpH,CAAJ;AAAA,QACIwB,IAAI4F,KAAK3C,MADb;AAAA,QAEIqoB,CAFJ;AAAA,QAGI5L,SAAS,IAAInZ,KAAJ,CAAUvG,CAAV,CAHb;;AAKA,SAAKxB,IAAI,CAAT,EAAYA,IAAIwB,CAAhB,EAAmB,EAAExB,CAArB,EAAwB;AACtBkhB,aAAOlhB,CAAP,IAAYgB,MAAMoG,KAAKpH,CAAL,CAAN,EAAeA,CAAf,EAAkBoH,IAAlB,CAAZ;AACD;;AAED,QAAIkkF,KAAKtyE,OAAOkI,MAAP,CAAT;AAAA,QACIqqE,KAAKD,GAAG,CAAH,CADT;AAAA,QAEI7a,KAAK6a,GAAG,CAAH,CAFT;AAAA,QAGIE,KAAKL,UAAUjqE,MAAV,EAAkBqqE,EAAlB,EAAsB9a,EAAtB,CAHT;;AAKA;AACA,QAAI,CAAC1oE,MAAMC,OAAN,CAAcwjF,EAAd,CAAL,EAAwB;AACtBA,WAAKC,uDAAQA,CAACF,EAAT,EAAa9a,EAAb,EAAiB+a,EAAjB,CAAL;AACAA,WAAK/2E,sDAAKA,CAACwI,KAAKy4B,IAAL,CAAU61C,KAAKC,EAAf,IAAqBA,EAA3B,EAA+B/a,EAA/B,EAAmC+a,EAAnC,CAAL,CAFsB,CAEuB;AAC9C;;AAED;AACA,QAAIrrF,IAAIqrF,GAAG/mF,MAAX;AACA,WAAO+mF,GAAG,CAAH,KAASD,EAAhB;AAAoBC,SAAGpxD,KAAH,IAAY,EAAEj6B,CAAd;AAApB,KACA,OAAOqrF,GAAGrrF,IAAI,CAAP,IAAYswE,EAAnB;AAAuB+a,SAAGvgE,GAAH,IAAU,EAAE9qB,CAAZ;AAAvB,KAEA,IAAIqU,OAAO,IAAIzM,KAAJ,CAAU5H,IAAI,CAAd,CAAX;AAAA,QACI2T,GADJ;;AAGA;AACA,SAAK9T,IAAI,CAAT,EAAYA,KAAKG,CAAjB,EAAoB,EAAEH,CAAtB,EAAyB;AACvB8T,YAAMU,KAAKxU,CAAL,IAAU,EAAhB;AACA8T,UAAIy3E,EAAJ,GAASvrF,IAAI,CAAJ,GAAQwrF,GAAGxrF,IAAI,CAAP,CAAR,GAAoBurF,EAA7B;AACAz3E,UAAI28D,EAAJ,GAASzwE,IAAIG,CAAJ,GAAQqrF,GAAGxrF,CAAH,CAAR,GAAgBywE,EAAzB;AACD;;AAED;AACA,SAAKzwE,IAAI,CAAT,EAAYA,IAAIwB,CAAhB,EAAmB,EAAExB,CAArB,EAAwB;AACtB8sB,UAAI5L,OAAOlhB,CAAP,CAAJ;AACA,UAAIurF,MAAMz+D,CAAN,IAAWA,KAAK2jD,EAApB,EAAwB;AACtBj8D,aAAKk3E,uDAAMA,CAACF,EAAP,EAAW1+D,CAAX,EAAc,CAAd,EAAiB3sB,CAAjB,CAAL,EAA0B6D,IAA1B,CAA+BoD,KAAKpH,CAAL,CAA/B;AACD;AACF;;AAED,WAAOwU,IAAP;AACD;;AAED62E,YAAUrqF,KAAV,GAAkB,UAAS0hB,CAAT,EAAY;AAC5B,WAAOtW,UAAU3H,MAAV,IAAoBzD,QAAQ,OAAO0hB,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAACjpE,CAAT,CAAtC,EAAmD2oE,SAAvE,IAAoFrqF,KAA3F;AACD,GAFD;;AAIAqqF,YAAUryE,MAAV,GAAmB,UAAS0J,CAAT,EAAY;AAC7B,WAAOtW,UAAU3H,MAAV,IAAoBuU,SAAS,OAAO0J,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAACjpE,EAAE,CAAF,CAAD,EAAOA,EAAE,CAAF,CAAP,CAAT,CAAvC,EAA+D2oE,SAAnF,IAAgGryE,MAAvG;AACD,GAFD;;AAIAqyE,YAAUO,UAAV,GAAuB,UAASlpE,CAAT,EAAY;AACjC,WAAOtW,UAAU3H,MAAV,IAAoB0mF,YAAY,OAAOzoE,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8B3a,MAAMC,OAAN,CAAc0a,CAAd,IAAmBipE,yDAAQA,CAAC5mF,4CAAKA,CAAC7E,IAAN,CAAWwiB,CAAX,CAAT,CAAnB,GAA6CipE,yDAAQA,CAACjpE,CAAT,CAAvF,EAAoG2oE,SAAxH,IAAqIF,SAA5I;AACD,GAFD;;AAIA,SAAOE,SAAP;AACD,C;;;;;;;;;;;;AC1ED;AAAe,yEAASv+D,CAAT,EAAY;AACzB,SAAOA,CAAP;AACD,C;;;;;;;;;;;;ACFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACzBA;AAAe,yEAAS5L,MAAT,EAAiBgqE,OAAjB,EAA0B;AACvC,MAAI1pF,IAAI0f,OAAOzc,MAAf;AAAA,MACIzE,IAAI,CAAC,CADT;AAAA,MAEIgB,KAFJ;AAAA,MAGIyY,GAHJ;;AAKA,MAAIyxE,WAAW,IAAf,EAAqB;AACnB,WAAO,EAAElrF,CAAF,GAAMwB,CAAb,EAAgB;AAAE;AAChB,UAAI,CAACR,QAAQkgB,OAAOlhB,CAAP,CAAT,KAAuB,IAAvB,IAA+BgB,SAASA,KAA5C,EAAmD;AACjDyY,cAAMzY,KAAN;AACA,eAAO,EAAEhB,CAAF,GAAMwB,CAAb,EAAgB;AAAE;AAChB,cAAI,CAACR,QAAQkgB,OAAOlhB,CAAP,CAAT,KAAuB,IAAvB,IAA+BgB,QAAQyY,GAA3C,EAAgD;AAC9CA,kBAAMzY,KAAN;AACD;AACF;AACF;AACF;AACF,GAXD,MAaK;AACH,WAAO,EAAEhB,CAAF,GAAMwB,CAAb,EAAgB;AAAE;AAChB,UAAI,CAACR,QAAQkqF,QAAQhqE,OAAOlhB,CAAP,CAAR,EAAmBA,CAAnB,EAAsBkhB,MAAtB,CAAT,KAA2C,IAA3C,IAAmDlgB,SAASA,KAAhE,EAAuE;AACrEyY,cAAMzY,KAAN;AACA,eAAO,EAAEhB,CAAF,GAAMwB,CAAb,EAAgB;AAAE;AAChB,cAAI,CAACR,QAAQkqF,QAAQhqE,OAAOlhB,CAAP,CAAR,EAAmBA,CAAnB,EAAsBkhB,MAAtB,CAAT,KAA2C,IAA3C,IAAmDlgB,QAAQyY,GAA/D,EAAoE;AAClEA,kBAAMzY,KAAN;AACD;AACF;AACF;AACF;AACF;;AAED,SAAOyY,GAAP;AACD,C;;;;;;;;;;;;ACjCD;AAAA;AAAA;;AAEe,yEAASyH,MAAT,EAAiBgqE,OAAjB,EAA0B;AACvC,MAAI1pF,IAAI0f,OAAOzc,MAAf;AAAA,MACItE,IAAIqB,CADR;AAAA,MAEIxB,IAAI,CAAC,CAFT;AAAA,MAGIgB,KAHJ;AAAA,MAIIwrB,MAAM,CAJV;;AAMA,MAAI0+D,WAAW,IAAf,EAAqB;AACnB,WAAO,EAAElrF,CAAF,GAAMwB,CAAb,EAAgB;AACd,UAAI,CAACwa,MAAMhb,QAAQ6qF,uDAAMA,CAAC3qE,OAAOlhB,CAAP,CAAP,CAAd,CAAL,EAAuCwsB,OAAOxrB,KAAP,CAAvC,KACK,EAAEb,CAAF;AACN;AACF,GALD,MAOK;AACH,WAAO,EAAEH,CAAF,GAAMwB,CAAb,EAAgB;AACd,UAAI,CAACwa,MAAMhb,QAAQ6qF,uDAAMA,CAACX,QAAQhqE,OAAOlhB,CAAP,CAAR,EAAmBA,CAAnB,EAAsBkhB,MAAtB,CAAP,CAAd,CAAL,EAA2DsL,OAAOxrB,KAAP,CAA3D,KACK,EAAEb,CAAF;AACN;AACF;;AAED,MAAIA,CAAJ,EAAO,OAAOqsB,MAAMrsB,CAAb;AACR,C;;;;;;;;;;;;ACxBD;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAEe,yEAAS+gB,MAAT,EAAiBgqE,OAAjB,EAA0B;AACvC,MAAI1pF,IAAI0f,OAAOzc,MAAf;AAAA,MACIzE,IAAI,CAAC,CADT;AAAA,MAEIgB,KAFJ;AAAA,MAGI8qF,UAAU,EAHd;;AAKA,MAAIZ,WAAW,IAAf,EAAqB;AACnB,WAAO,EAAElrF,CAAF,GAAMwB,CAAb,EAAgB;AACd,UAAI,CAACwa,MAAMhb,QAAQ6qF,uDAAMA,CAAC3qE,OAAOlhB,CAAP,CAAP,CAAd,CAAL,EAAuC;AACrC8rF,gBAAQ9nF,IAAR,CAAahD,KAAb;AACD;AACF;AACF,GAND,MAQK;AACH,WAAO,EAAEhB,CAAF,GAAMwB,CAAb,EAAgB;AACd,UAAI,CAACwa,MAAMhb,QAAQ6qF,uDAAMA,CAACX,QAAQhqE,OAAOlhB,CAAP,CAAR,EAAmBA,CAAnB,EAAsBkhB,MAAtB,CAAP,CAAd,CAAL,EAA2D;AACzD4qE,gBAAQ9nF,IAAR,CAAahD,KAAb;AACD;AACF;AACF;;AAED,SAAOqgD,yDAAQA,CAACyqC,QAAQ7+E,IAAR,CAAao9E,kDAAb,CAAT,EAAkC,GAAlC,CAAP;AACD,C;;;;;;;;;;;;AC3BD;AAAe,yEAAS/kD,MAAT,EAAiB;AAC9B,MAAI9jC,IAAI8jC,OAAO7gC,MAAf;AAAA,MACItE,CADJ;AAAA,MAEIH,IAAI,CAAC,CAFT;AAAA,MAGI8E,IAAI,CAHR;AAAA,MAIIinF,MAJJ;AAAA,MAKI9B,KALJ;;AAOA,SAAO,EAAEjqF,CAAF,GAAMwB,CAAb;AAAgBsD,SAAKwgC,OAAOtlC,CAAP,EAAUyE,MAAf;AAAhB,GACAsnF,SAAS,IAAIhkF,KAAJ,CAAUjD,CAAV,CAAT;;AAEA,SAAO,EAAEtD,CAAF,IAAO,CAAd,EAAiB;AACfyoF,YAAQ3kD,OAAO9jC,CAAP,CAAR;AACArB,QAAI8pF,MAAMxlF,MAAV;AACA,WAAO,EAAEtE,CAAF,IAAO,CAAd,EAAiB;AACf4rF,aAAO,EAAEjnF,CAAT,IAAcmlF,MAAM9pF,CAAN,CAAd;AACD;AACF;;AAED,SAAO4rF,MAAP;AACD,C;;;;;;;;;;;;ACpBD;AAAe,yEAAS7qE,MAAT,EAAiBgqE,OAAjB,EAA0B;AACvC,MAAI1pF,IAAI0f,OAAOzc,MAAf;AAAA,MACIzE,IAAI,CAAC,CADT;AAAA,MAEIgB,KAFJ;AAAA,MAGIsY,GAHJ;;AAKA,MAAI4xE,WAAW,IAAf,EAAqB;AACnB,WAAO,EAAElrF,CAAF,GAAMwB,CAAb,EAAgB;AAAE;AAChB,UAAI,CAACR,QAAQkgB,OAAOlhB,CAAP,CAAT,KAAuB,IAAvB,IAA+BgB,SAASA,KAA5C,EAAmD;AACjDsY,cAAMtY,KAAN;AACA,eAAO,EAAEhB,CAAF,GAAMwB,CAAb,EAAgB;AAAE;AAChB,cAAI,CAACR,QAAQkgB,OAAOlhB,CAAP,CAAT,KAAuB,IAAvB,IAA+BsZ,MAAMtY,KAAzC,EAAgD;AAC9CsY,kBAAMtY,KAAN;AACD;AACF;AACF;AACF;AACF,GAXD,MAaK;AACH,WAAO,EAAEhB,CAAF,GAAMwB,CAAb,EAAgB;AAAE;AAChB,UAAI,CAACR,QAAQkqF,QAAQhqE,OAAOlhB,CAAP,CAAR,EAAmBA,CAAnB,EAAsBkhB,MAAtB,CAAT,KAA2C,IAA3C,IAAmDlgB,SAASA,KAAhE,EAAuE;AACrEsY,cAAMtY,KAAN;AACA,eAAO,EAAEhB,CAAF,GAAMwB,CAAb,EAAgB;AAAE;AAChB,cAAI,CAACR,QAAQkqF,QAAQhqE,OAAOlhB,CAAP,CAAR,EAAmBA,CAAnB,EAAsBkhB,MAAtB,CAAT,KAA2C,IAA3C,IAAmD5H,MAAMtY,KAA7D,EAAoE;AAClEsY,kBAAMtY,KAAN;AACD;AACF;AACF;AACF;AACF;;AAED,SAAOsY,GAAP;AACD,C;;;;;;;;;;;;ACjCD;AAAe,yEAASwT,CAAT,EAAY;AACzB,SAAOA,MAAM,IAAN,GAAao9D,GAAb,GAAmB,CAACp9D,CAA3B;AACD,C;;;;;;;;;;;;ACFD;AAAA;AAAe,yEAASm9D,KAAT,EAAgBxmF,CAAhB,EAAmB;AAChC,MAAIA,KAAK,IAAT,EAAeA,IAAIwnF,IAAJ;AACf,MAAIjrF,IAAI,CAAR;AAAA,MAAWwB,IAAIyoF,MAAMxlF,MAAN,GAAe,CAA9B;AAAA,MAAiC1C,IAAIkoF,MAAM,CAAN,CAArC;AAAA,MAA+C+B,QAAQ,IAAIjkF,KAAJ,CAAUvG,IAAI,CAAJ,GAAQ,CAAR,GAAYA,CAAtB,CAAvD;AACA,SAAOxB,IAAIwB,CAAX;AAAcwqF,UAAMhsF,CAAN,IAAWyD,EAAE1B,CAAF,EAAKA,IAAIkoF,MAAM,EAAEjqF,CAAR,CAAT,CAAX;AAAd,GACA,OAAOgsF,KAAP;AACD;;AAEM,SAASf,IAAT,CAAcxkE,CAAd,EAAiBC,CAAjB,EAAoB;AACzB,SAAO,CAACD,CAAD,EAAIC,CAAJ,CAAP;AACD,C;;;;;;;;;;;;ACTD;AAAe,yEAASujE,KAAT,EAAgBgC,OAAhB,EAAyB;AACtC,MAAIjsF,IAAIisF,QAAQxnF,MAAhB;AAAA,MAAwBynF,WAAW,IAAInkF,KAAJ,CAAU/H,CAAV,CAAnC;AACA,SAAOA,GAAP;AAAYksF,aAASlsF,CAAT,IAAciqF,MAAMgC,QAAQjsF,CAAR,CAAN,CAAd;AAAZ,GACA,OAAOksF,QAAP;AACD,C;;;;;;;;;;;;ACJD;AAAA;AAAA;;AAEe,yEAAShrE,MAAT,EAAiBnf,CAAjB,EAAoBmpF,OAApB,EAA6B;AAC1C,MAAIA,WAAW,IAAf,EAAqBA,UAAUW,+CAAV;AACrB,MAAI,EAAErqF,IAAI0f,OAAOzc,MAAb,CAAJ,EAA0B;AAC1B,MAAI,CAAC1C,IAAI,CAACA,CAAN,KAAY,CAAZ,IAAiBP,IAAI,CAAzB,EAA4B,OAAO,CAAC0pF,QAAQhqE,OAAO,CAAP,CAAR,EAAmB,CAAnB,EAAsBA,MAAtB,CAAR;AAC5B,MAAInf,KAAK,CAAT,EAAY,OAAO,CAACmpF,QAAQhqE,OAAO1f,IAAI,CAAX,CAAR,EAAuBA,IAAI,CAA3B,EAA8B0f,MAA9B,CAAR;AACZ,MAAI1f,CAAJ;AAAA,MACIxB,IAAI,CAACwB,IAAI,CAAL,IAAUO,CADlB;AAAA,MAEI+oF,KAAK7tE,KAAKuT,KAAL,CAAWxwB,CAAX,CAFT;AAAA,MAGIgrF,SAAS,CAACE,QAAQhqE,OAAO4pE,EAAP,CAAR,EAAoBA,EAApB,EAAwB5pE,MAAxB,CAHd;AAAA,MAIIirE,SAAS,CAACjB,QAAQhqE,OAAO4pE,KAAK,CAAZ,CAAR,EAAwBA,KAAK,CAA7B,EAAgC5pE,MAAhC,CAJd;AAKA,SAAO8pE,SAAS,CAACmB,SAASnB,MAAV,KAAqBhrF,IAAI8qF,EAAzB,CAAhB;AACD,C;;;;;;;;;;;;ACbD;AAAe,yEAASllE,KAAT,EAAgBwmE,IAAhB,EAAsBnhC,IAAtB,EAA4B;AACzCrlC,UAAQ,CAACA,KAAT,EAAgBwmE,OAAO,CAACA,IAAxB,EAA8BnhC,OAAO,CAACzpD,IAAI4K,UAAU3H,MAAf,IAAyB,CAAzB,IAA8B2nF,OAAOxmE,KAAP,EAAcA,QAAQ,CAAtB,EAAyB,CAAvD,IAA4DpkB,IAAI,CAAJ,GAAQ,CAAR,GAAY,CAACypD,IAA9G;;AAEA,MAAIjrD,IAAI,CAAC,CAAT;AAAA,MACIwB,IAAIyb,KAAKxD,GAAL,CAAS,CAAT,EAAYwD,KAAKy4B,IAAL,CAAU,CAAC02C,OAAOxmE,KAAR,IAAiBqlC,IAA3B,CAAZ,IAAgD,CADxD;AAAA,MAEIx2C,QAAQ,IAAI1M,KAAJ,CAAUvG,CAAV,CAFZ;;AAIA,SAAO,EAAExB,CAAF,GAAMwB,CAAb,EAAgB;AACdiT,UAAMzU,CAAN,IAAW4lB,QAAQ5lB,IAAIirD,IAAvB;AACD;;AAED,SAAOx2C,KAAP;AACD,C;;;;;;;;;;;;ACZD;AAAA;AAAA;;AAEe,yEAASyM,MAAT,EAAiBspE,OAAjB,EAA0B;AACvC,MAAI,EAAEhpF,IAAI0f,OAAOzc,MAAb,CAAJ,EAA0B;AAC1B,MAAIjD,CAAJ;AAAA,MACIxB,IAAI,CADR;AAAA,MAEI8E,IAAI,CAFR;AAAA,MAGIunF,EAHJ;AAAA,MAIIC,KAAKprE,OAAOpc,CAAP,CAJT;;AAMA,MAAI0lF,WAAW,IAAf,EAAqBA,UAAUH,kDAAV;;AAErB,SAAO,EAAErqF,CAAF,GAAMwB,CAAb,EAAgB;AACd,QAAIgpF,QAAQ6B,KAAKnrE,OAAOlhB,CAAP,CAAb,EAAwBssF,EAAxB,IAA8B,CAA9B,IAAmC9B,QAAQ8B,EAAR,EAAYA,EAAZ,MAAoB,CAA3D,EAA8D;AAC5DA,WAAKD,EAAL,EAASvnF,IAAI9E,CAAb;AACD;AACF;;AAED,MAAIwqF,QAAQ8B,EAAR,EAAYA,EAAZ,MAAoB,CAAxB,EAA2B,OAAOxnF,CAAP;AAC5B,C;;;;;;;;;;;;ACnBD;AAAe,yEAASmlF,KAAT,EAAgBa,EAAhB,EAAoBC,EAApB,EAAwB;AACrC,MAAI5qF,IAAI,CAAC4qF,MAAM,IAAN,GAAad,MAAMxlF,MAAnB,GAA4BsmF,EAA7B,KAAoCD,KAAKA,MAAM,IAAN,GAAa,CAAb,GAAiB,CAACA,EAA3D,CAAR;AAAA,MACI7pF,CADJ;AAAA,MAEIjB,CAFJ;;AAIA,SAAOG,CAAP,EAAU;AACRH,QAAIid,KAAK+e,MAAL,KAAgB77B,GAAhB,GAAsB,CAA1B;AACAc,QAAIgpF,MAAM9pF,IAAI2qF,EAAV,CAAJ;AACAb,UAAM9pF,IAAI2qF,EAAV,IAAgBb,MAAMjqF,IAAI8qF,EAAV,CAAhB;AACAb,UAAMjqF,IAAI8qF,EAAV,IAAgB7pF,CAAhB;AACD;;AAED,SAAOgpF,KAAP;AACD,C;;;;;;;;;;;;ACbD;AAAe,yEAAS/oE,MAAT,EAAiBgqE,OAAjB,EAA0B;AACvC,MAAI1pF,IAAI0f,OAAOzc,MAAf;AAAA,MACIzE,IAAI,CAAC,CADT;AAAA,MAEIgB,KAFJ;AAAA,MAGIwrB,MAAM,CAHV;;AAKA,MAAI0+D,WAAW,IAAf,EAAqB;AACnB,WAAO,EAAElrF,CAAF,GAAMwB,CAAb,EAAgB;AACd,UAAIR,QAAQ,CAACkgB,OAAOlhB,CAAP,CAAb,EAAwBwsB,OAAOxrB,KAAP,CADV,CACwB;AACvC;AACF,GAJD,MAMK;AACH,WAAO,EAAEhB,CAAF,GAAMwB,CAAb,EAAgB;AACd,UAAIR,QAAQ,CAACkqF,QAAQhqE,OAAOlhB,CAAP,CAAR,EAAmBA,CAAnB,EAAsBkhB,MAAtB,CAAb,EAA4CsL,OAAOxrB,KAAP;AAC7C;AACF;;AAED,SAAOwrB,GAAP;AACD,C;;;;;;;;;;;;ACnBD;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEe,yEAAStL,MAAT,EAAiB5H,GAAjB,EAAsBG,GAAtB,EAA2B;AACxCyH,WAAS9d,0CAAGA,CAAClD,IAAJ,CAASghB,MAAT,EAAiB2qE,+CAAjB,EAAyB5+E,IAAzB,CAA8Bo9E,kDAA9B,CAAT;AACA,SAAOptE,KAAKy4B,IAAL,CAAU,CAACj8B,MAAMH,GAAP,KAAe,KAAK+nC,yDAAQA,CAACngC,MAAT,EAAiB,IAAjB,IAAyBmgC,yDAAQA,CAACngC,MAAT,EAAiB,IAAjB,CAA9B,IAAwDjE,KAAKuQ,GAAL,CAAStM,OAAOzc,MAAhB,EAAwB,CAAC,CAAD,GAAK,CAA7B,CAAvE,CAAV,CAAP;AACD,C;;;;;;;;;;;;ACRD;AAAA;AAAA;;AAEe,yEAASyc,MAAT,EAAiB5H,GAAjB,EAAsBG,GAAtB,EAA2B;AACxC,SAAOwD,KAAKy4B,IAAL,CAAU,CAACj8B,MAAMH,GAAP,KAAe,MAAMizE,0DAASA,CAACrrE,MAAV,CAAN,GAA0BjE,KAAKuQ,GAAL,CAAStM,OAAOzc,MAAhB,EAAwB,CAAC,CAAD,GAAK,CAA7B,CAAzC,CAAV,CAAP;AACD,C;;;;;;;;;;;;ACJD;AAAe,yEAASyc,MAAT,EAAiB;AAC9B,SAAOjE,KAAKy4B,IAAL,CAAUz4B,KAAKwqC,GAAL,CAASvmC,OAAOzc,MAAhB,IAA0BwY,KAAKuvE,GAAzC,IAAgD,CAAvD;AACD,C;;;;;;;;;;;;ACFD;AAAA;AAAA;AAAA,IAAIC,MAAMxvE,KAAKyQ,IAAL,CAAU,EAAV,CAAV;AAAA,IACIg/D,KAAKzvE,KAAKyQ,IAAL,CAAU,EAAV,CADT;AAAA,IAEIi/D,KAAK1vE,KAAKyQ,IAAL,CAAU,CAAV,CAFT;;AAIe,yEAAS9H,KAAT,EAAgBwmE,IAAhB,EAAsBh/D,KAAtB,EAA6B;AAC1C,QAAInI,OAAJ;AAAA,QACIjlB,IAAI,CAAC,CADT;AAAA,QAEIwB,CAFJ;AAAA,QAGIg9C,KAHJ;AAAA,QAIIyM,IAJJ;;AAMAmhC,WAAO,CAACA,IAAR,EAAcxmE,QAAQ,CAACA,KAAvB,EAA8BwH,QAAQ,CAACA,KAAvC;AACA,QAAIxH,UAAUwmE,IAAV,IAAkBh/D,QAAQ,CAA9B,EAAiC,OAAO,CAACxH,KAAD,CAAP;AACjC,QAAIX,UAAUmnE,OAAOxmE,KAArB,EAA4BpkB,IAAIokB,KAAJ,EAAWA,QAAQwmE,IAAnB,EAAyBA,OAAO5qF,CAAhC;AAC5B,QAAI,CAACypD,OAAO2hC,cAAchnE,KAAd,EAAqBwmE,IAArB,EAA2Bh/D,KAA3B,CAAR,MAA+C,CAA/C,IAAoD,CAACyH,SAASo2B,IAAT,CAAzD,EAAyE,OAAO,EAAP;;AAEzE,QAAIA,OAAO,CAAX,EAAc;AACZrlC,gBAAQ3I,KAAKy4B,IAAL,CAAU9vB,QAAQqlC,IAAlB,CAAR;AACAmhC,eAAOnvE,KAAKuT,KAAL,CAAW47D,OAAOnhC,IAAlB,CAAP;AACAzM,gBAAQ,IAAIz2C,KAAJ,CAAUvG,IAAIyb,KAAKy4B,IAAL,CAAU02C,OAAOxmE,KAAP,GAAe,CAAzB,CAAd,CAAR;AACA,eAAO,EAAE5lB,CAAF,GAAMwB,CAAb;AAAgBg9C,kBAAMx+C,CAAN,IAAW,CAAC4lB,QAAQ5lB,CAAT,IAAcirD,IAAzB;AAAhB;AACD,KALD,MAKO;AACLrlC,gBAAQ3I,KAAKuT,KAAL,CAAW5K,QAAQqlC,IAAnB,CAAR;AACAmhC,eAAOnvE,KAAKy4B,IAAL,CAAU02C,OAAOnhC,IAAjB,CAAP;AACAzM,gBAAQ,IAAIz2C,KAAJ,CAAUvG,IAAIyb,KAAKy4B,IAAL,CAAU9vB,QAAQwmE,IAAR,GAAe,CAAzB,CAAd,CAAR;AACA,eAAO,EAAEpsF,CAAF,GAAMwB,CAAb;AAAgBg9C,kBAAMx+C,CAAN,IAAW,CAAC4lB,QAAQ5lB,CAAT,IAAcirD,IAAzB;AAAhB;AACD;;AAED,QAAIhmC,OAAJ,EAAau5B,MAAMv5B,OAAN;;AAEb,WAAOu5B,KAAP;AACD;;AAEM,SAASouC,aAAT,CAAuBhnE,KAAvB,EAA8BwmE,IAA9B,EAAoCh/D,KAApC,EAA2C;AAChD,QAAI69B,OAAO,CAACmhC,OAAOxmE,KAAR,IAAiB3I,KAAKxD,GAAL,CAAS,CAAT,EAAY2T,KAAZ,CAA5B;AAAA,QACIy/D,QAAQ5vE,KAAKuT,KAAL,CAAWvT,KAAKwqC,GAAL,CAASwD,IAAT,IAAiBhuC,KAAK6vE,IAAjC,CADZ;AAAA,QAEIC,QAAQ9hC,OAAOhuC,KAAKuQ,GAAL,CAAS,EAAT,EAAaq/D,KAAb,CAFnB;AAGA,WAAOA,SAAS,CAAT,GACD,CAACE,SAASN,GAAT,GAAe,EAAf,GAAoBM,SAASL,EAAT,GAAc,CAAd,GAAkBK,SAASJ,EAAT,GAAc,CAAd,GAAkB,CAAzD,IAA8D1vE,KAAKuQ,GAAL,CAAS,EAAT,EAAaq/D,KAAb,CAD7D,GAED,CAAC5vE,KAAKuQ,GAAL,CAAS,EAAT,EAAa,CAACq/D,KAAd,CAAD,IAAyBE,SAASN,GAAT,GAAe,EAAf,GAAoBM,SAASL,EAAT,GAAc,CAAd,GAAkBK,SAASJ,EAAT,GAAc,CAAd,GAAkB,CAAjF,CAFN;AAGD;;AAEM,SAASlB,QAAT,CAAkB7lE,KAAlB,EAAyBwmE,IAAzB,EAA+Bh/D,KAA/B,EAAsC;AAC3C,QAAI4/D,QAAQ/vE,KAAKmf,GAAL,CAASgwD,OAAOxmE,KAAhB,IAAyB3I,KAAKxD,GAAL,CAAS,CAAT,EAAY2T,KAAZ,CAArC;AAAA,QACI6/D,QAAQhwE,KAAKuQ,GAAL,CAAS,EAAT,EAAavQ,KAAKuT,KAAL,CAAWvT,KAAKwqC,GAAL,CAASulC,KAAT,IAAkB/vE,KAAK6vE,IAAlC,CAAb,CADZ;AAAA,QAEIC,QAAQC,QAAQC,KAFpB;AAGA,QAAIF,SAASN,GAAb,EAAkBQ,SAAS,EAAT,CAAlB,KACK,IAAIF,SAASL,EAAb,EAAiBO,SAAS,CAAT,CAAjB,KACA,IAAIF,SAASJ,EAAb,EAAiBM,SAAS,CAAT;AACtB,WAAOb,OAAOxmE,KAAP,GAAe,CAACqnE,KAAhB,GAAwBA,KAA/B;AACD,C;;;;;;;;;;;;AClDD;AAAA;AAAA;;AAEe,yEAASxhD,MAAT,EAAiB;AAC9B,MAAI,EAAEjqC,IAAIiqC,OAAOhnC,MAAb,CAAJ,EAA0B,OAAO,EAAP;AAC1B,OAAK,IAAIzE,IAAI,CAAC,CAAT,EAAYG,IAAImZ,oDAAGA,CAACmyB,MAAJ,EAAYhnC,MAAZ,CAAhB,EAAqCyoF,YAAY,IAAInlF,KAAJ,CAAU5H,CAAV,CAAtD,EAAoE,EAAEH,CAAF,GAAMG,CAA1E,GAA8E;AAC5E,SAAK,IAAI2E,IAAI,CAAC,CAAT,EAAYtD,CAAZ,EAAekC,MAAMwpF,UAAUltF,CAAV,IAAe,IAAI+H,KAAJ,CAAUvG,CAAV,CAAzC,EAAuD,EAAEsD,CAAF,GAAMtD,CAA7D,GAAiE;AAC/DkC,UAAIoB,CAAJ,IAAS2mC,OAAO3mC,CAAP,EAAU9E,CAAV,CAAT;AACD;AACF;AACD,SAAOktF,SAAP;AACD;;AAED,SAASzoF,MAAT,CAAgBpE,CAAhB,EAAmB;AACjB,SAAOA,EAAEoE,MAAT;AACD,C;;;;;;;;;;;;ACdD;AAAA;AAAA;;AAEe,yEAASyc,MAAT,EAAiBgqE,OAAjB,EAA0B;AACvC,MAAI1pF,IAAI0f,OAAOzc,MAAf;AAAA,MACItE,IAAI,CADR;AAAA,MAEIH,IAAI,CAAC,CAFT;AAAA,MAGIstB,OAAO,CAHX;AAAA,MAIItsB,KAJJ;AAAA,MAKImsF,KALJ;AAAA,MAMI3gE,MAAM,CANV;;AAQA,MAAI0+D,WAAW,IAAf,EAAqB;AACnB,WAAO,EAAElrF,CAAF,GAAMwB,CAAb,EAAgB;AACd,UAAI,CAACwa,MAAMhb,QAAQ6qF,uDAAMA,CAAC3qE,OAAOlhB,CAAP,CAAP,CAAd,CAAL,EAAuC;AACrCmtF,gBAAQnsF,QAAQssB,IAAhB;AACAA,gBAAQ6/D,QAAQ,EAAEhtF,CAAlB;AACAqsB,eAAO2gE,SAASnsF,QAAQssB,IAAjB,CAAP;AACD;AACF;AACF,GARD,MAUK;AACH,WAAO,EAAEttB,CAAF,GAAMwB,CAAb,EAAgB;AACd,UAAI,CAACwa,MAAMhb,QAAQ6qF,uDAAMA,CAACX,QAAQhqE,OAAOlhB,CAAP,CAAR,EAAmBA,CAAnB,EAAsBkhB,MAAtB,CAAP,CAAd,CAAL,EAA2D;AACzDisE,gBAAQnsF,QAAQssB,IAAhB;AACAA,gBAAQ6/D,QAAQ,EAAEhtF,CAAlB;AACAqsB,eAAO2gE,SAASnsF,QAAQssB,IAAjB,CAAP;AACD;AACF;AACF;;AAED,MAAIntB,IAAI,CAAR,EAAW,OAAOqsB,OAAOrsB,IAAI,CAAX,CAAP;AACZ,C;;;;;;;;;;;;AChCD;AAAA;AAAA;;AAEe,2EAAW;AACxB,SAAO+sF,0DAASA,CAAC9gF,SAAV,CAAP;AACD,C;;;;;;;;;;;;ACJD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAO,IAAIrH,QAAQgD,MAAMlG,SAAN,CAAgBkD,KAA5B,C;;;;;;;;;;;;ACAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,IAAImiC,MAAM,CAAV;AAAA,IACI6iB,QAAQ,CADZ;AAAA,IAEI3iB,SAAS,CAFb;AAAA,IAGI0iB,OAAO,CAHX;AAAA,IAIIsjC,UAAU,IAJd;;AAMA,SAASC,UAAT,CAAoBvgE,CAApB,EAAuB;AACrB,SAAO,gBAAgBA,IAAI,GAApB,IAA2B,KAAlC;AACD;;AAED,SAASwgE,UAAT,CAAoBz2D,CAApB,EAAuB;AACrB,SAAO,kBAAkBA,IAAI,GAAtB,IAA6B,GAApC;AACD;;AAED,SAASg1D,MAAT,CAAgBptC,KAAhB,EAAuB;AACrB,SAAO,UAASp+C,CAAT,EAAY;AACjB,WAAO,CAACo+C,MAAMp+C,CAAN,CAAR;AACD,GAFD;AAGD;;AAED,SAAS8mC,MAAT,CAAgBsX,KAAhB,EAAuB;AACrB,MAAI0K,SAASlsC,KAAKxD,GAAL,CAAS,CAAT,EAAYglC,MAAMmE,SAAN,KAAoB,CAAhC,IAAqC,CAAlD,CADqB,CACgC;AACrD,MAAInE,MAAM1iB,KAAN,EAAJ,EAAmBotB,SAASlsC,KAAK8e,KAAL,CAAWotB,MAAX,CAAT;AACnB,SAAO,UAAS9oD,CAAT,EAAY;AACjB,WAAO,CAACo+C,MAAMp+C,CAAN,CAAD,GAAY8oD,MAAnB;AACD,GAFD;AAGD;;AAED,SAASokC,QAAT,GAAoB;AAClB,SAAO,CAAC,KAAKC,MAAb;AACD;;AAED,SAASnvC,IAAT,CAAcqmC,MAAd,EAAsBjmC,KAAtB,EAA6B;AAC3B,MAAIgvC,gBAAgB,EAApB;AAAA,MACI1sC,aAAa,IADjB;AAAA,MAEI7B,aAAa,IAFjB;AAAA,MAGI2F,gBAAgB,IAHpB;AAAA,MAII9B,gBAAgB,CAJpB;AAAA,MAKIC,gBAAgB,CALpB;AAAA,MAMI0qC,cAAc,CANlB;AAAA,MAOIC,IAAIjJ,WAAWx9C,GAAX,IAAkBw9C,WAAW56B,IAA7B,GAAoC,CAAC,CAArC,GAAyC,CAPjD;AAAA,MAQIh9B,IAAI43D,WAAW56B,IAAX,IAAmB46B,WAAW36B,KAA9B,GAAsC,GAAtC,GAA4C,GARpD;AAAA,MASIkiB,YAAYyY,WAAWx9C,GAAX,IAAkBw9C,WAAWt9C,MAA7B,GAAsCimD,UAAtC,GAAmDC,UATnE;;AAWA,WAASjvC,IAAT,CAAclO,OAAd,EAAuB;AACrB,QAAIjvB,SAAS6/B,cAAc,IAAd,GAAsBtC,MAAMD,KAAN,GAAcC,MAAMD,KAAN,CAAY/1C,KAAZ,CAAkBg2C,KAAlB,EAAyBgvC,aAAzB,CAAd,GAAwDhvC,MAAMzlC,MAAN,EAA9E,GAAgG+nC,UAA7G;AAAA,QACIr+C,SAASw8C,cAAc,IAAd,GAAsBT,MAAMS,UAAN,GAAmBT,MAAMS,UAAN,CAAiBz2C,KAAjB,CAAuBg2C,KAAvB,EAA8BgvC,aAA9B,CAAnB,GAAkEhtD,iDAAxF,GAAoGye,UADjH;AAAA,QAEI8kC,UAAU/mE,KAAKxD,GAAL,CAASspC,aAAT,EAAwB,CAAxB,IAA6B2qC,WAF3C;AAAA,QAGIj5E,QAAQgqC,MAAMhqC,KAAN,EAHZ;AAAA,QAIIm5E,SAAS,CAACn5E,MAAM,CAAN,CAAD,GAAY,GAJzB;AAAA,QAKIo5E,SAAS,CAACp5E,MAAMA,MAAMhQ,MAAN,GAAe,CAArB,CAAD,GAA2B,GALxC;AAAA,QAMIs9D,WAAW,CAACtjB,MAAMmE,SAAN,GAAkBzb,MAAlB,GAA2B0kD,MAA5B,EAAoCptC,MAAMqvC,IAAN,EAApC,CANf;AAAA,QAOIxb,YAAYniC,QAAQmiC,SAAR,GAAoBniC,QAAQmiC,SAAR,EAApB,GAA0CniC,OAP1D;AAAA,QAQI/sB,OAAOkvD,UAAUpyB,SAAV,CAAoB,SAApB,EAA+B94C,IAA/B,CAAoC,CAAC,IAAD,CAApC,CARX;AAAA,QASI2mF,OAAOzb,UAAUpyB,SAAV,CAAoB,OAApB,EAA6B94C,IAA7B,CAAkC8Z,MAAlC,EAA0Cu9B,KAA1C,EAAiD5xC,KAAjD,EATX;AAAA,QAUImhF,WAAWD,KAAKv4C,IAAL,EAVf;AAAA,QAWIy4C,YAAYF,KAAKxb,KAAL,GAAajxC,MAAb,CAAoB,GAApB,EAAyByT,IAAzB,CAA8B,OAA9B,EAAuC,MAAvC,CAXhB;AAAA,QAYIm5C,OAAOH,KAAKt3E,MAAL,CAAY,MAAZ,CAZX;AAAA,QAaInS,OAAOypF,KAAKt3E,MAAL,CAAY,MAAZ,CAbX;;AAeA2M,WAAOA,KAAK8M,KAAL,CAAW9M,KAAKmvD,KAAL,GAAa4b,MAAb,CAAoB,MAApB,EAA4B,OAA5B,EACbp5C,IADa,CACR,OADQ,EACC,QADD,EAEbA,IAFa,CAER,QAFQ,EAEE,MAFF,CAAX,CAAP;;AAIAg5C,WAAOA,KAAK79D,KAAL,CAAW+9D,SAAX,CAAP;;AAEAC,WAAOA,KAAKh+D,KAAL,CAAW+9D,UAAU3sD,MAAV,CAAiB,MAAjB,EACbyT,IADa,CACR,QADQ,EACE,MADF,EAEbA,IAFa,CAERjoB,IAAI,GAFI,EAEC6gE,IAAI5qC,aAFL,CAAX,CAAP;;AAIAz+C,WAAOA,KAAK4rB,KAAL,CAAW+9D,UAAU3sD,MAAV,CAAiB,MAAjB,EACbyT,IADa,CACR,MADQ,EACA,MADA,EAEbA,IAFa,CAERjoB,CAFQ,EAEL6gE,IAAI3J,OAFC,EAGbjvC,IAHa,CAGR,IAHQ,EAGF2vC,WAAWx9C,GAAX,GAAiB,KAAjB,GAAyBw9C,WAAWt9C,MAAX,GAAoB,QAApB,GAA+B,QAHtD,CAAX,EAIF8M,KAJE,CAII,WAJJ,EAIiB2Q,aAJjB,CAAP;;AAMA,QAAI1U,YAAYmiC,SAAhB,EAA2B;AACzBlvD,aAAOA,KAAKu8B,UAAL,CAAgBxP,OAAhB,CAAP;AACA49C,aAAOA,KAAKpuC,UAAL,CAAgBxP,OAAhB,CAAP;AACA+9C,aAAOA,KAAKvuC,UAAL,CAAgBxP,OAAhB,CAAP;AACA7rC,aAAOA,KAAKq7C,UAAL,CAAgBxP,OAAhB,CAAP;;AAEA69C,iBAAWA,SAASruC,UAAT,CAAoBxP,OAApB,EACN4E,IADM,CACD,SADC,EACUq4C,OADV,EAENr4C,IAFM,CAED,WAFC,EAEY,UAAS10C,CAAT,EAAY;AAAE,eAAOw0B,SAASx0B,IAAI0hE,SAAS1hE,CAAT,CAAb,IAA4B4rE,UAAU5rE,CAAV,CAA5B,GAA2C,KAAK+tF,YAAL,CAAkB,WAAlB,CAAlD;AAAmF,OAF7G,CAAX;;AAIAH,gBACKl5C,IADL,CACU,SADV,EACqBq4C,OADrB,EAEKr4C,IAFL,CAEU,WAFV,EAEuB,UAAS10C,CAAT,EAAY;AAAE,YAAI0B,IAAI,KAAKssF,UAAL,CAAgBb,MAAxB,CAAgC,OAAOvhB,UAAUlqE,KAAK8yB,SAAS9yB,IAAIA,EAAE1B,CAAF,CAAb,CAAL,GAA0B0B,CAA1B,GAA8BggE,SAAS1hE,CAAT,CAAxC,CAAP;AAA8D,OAFnI;AAGD;;AAED2tF,aAASv4C,MAAT;;AAEAryB,SACK2xB,IADL,CACU,GADV,EACe2vC,WAAW56B,IAAX,IAAmB46B,UAAU36B,KAA7B,GACL,MAAM4jC,IAAI3qC,aAAV,GAA0B,GAA1B,GAAgC4qC,MAAhC,GAAyC,OAAzC,GAAmDC,MAAnD,GAA4D,GAA5D,GAAkEF,IAAI3qC,aADjE,GAEL,MAAM4qC,MAAN,GAAe,GAAf,GAAqBD,IAAI3qC,aAAzB,GAAyC,OAAzC,GAAmD6qC,MAAnD,GAA4D,GAA5D,GAAkEF,IAAI3qC,aAHhF;;AAKA+qC,SACKh5C,IADL,CACU,SADV,EACqB,CADrB,EAEKA,IAFL,CAEU,WAFV,EAEuB,UAAS10C,CAAT,EAAY;AAAE,aAAO4rE,UAAUlK,SAAS1hE,CAAT,CAAV,CAAP;AAAgC,KAFrE;;AAIA6tF,SACKn5C,IADL,CACUjoB,IAAI,GADd,EACmB6gE,IAAI5qC,aADvB;;AAGAz+C,SACKywC,IADL,CACUjoB,CADV,EACa6gE,IAAI3J,OADjB,EAEK1/E,IAFL,CAEU5B,MAFV;;AAIA4vE,cAAUpwD,MAAV,CAAiBqrE,QAAjB,EACKx4C,IADL,CACU,MADV,EACkB,MADlB,EAEKA,IAFL,CAEU,WAFV,EAEuB,EAFvB,EAGKA,IAHL,CAGU,aAHV,EAGyB,YAHzB,EAIKA,IAJL,CAIU,aAJV,EAIyB2vC,WAAW36B,KAAX,GAAmB,OAAnB,GAA6B26B,WAAW56B,IAAX,GAAkB,KAAlB,GAA0B,QAJhF;;AAMAwoB,cACKh9B,IADL,CACU,YAAW;AAAE,WAAKk4C,MAAL,GAAczrB,QAAd;AAAyB,KADhD;AAED;;AAED1jB,OAAKI,KAAL,GAAa,UAAS/7B,CAAT,EAAY;AACvB,WAAOtW,UAAU3H,MAAV,IAAoBg6C,QAAQ/7B,CAAR,EAAW27B,IAA/B,IAAuCI,KAA9C;AACD,GAFD;;AAIAJ,OAAKwG,aAAL,GAAqB,UAASniC,CAAT,EAAY;AAC/B,WAAOtW,UAAU3H,MAAV,IAAoBogD,gBAAgBniC,CAAhB,EAAmB27B,IAAvC,IAA+CwG,aAAtD;AACD,GAFD;;AAIAxG,OAAKG,KAAL,GAAa,YAAW;AACtB,WAAOivC,gBAAgB1oF,4CAAKA,CAAC7E,IAAN,CAAWkM,SAAX,CAAhB,EAAuCiyC,IAA9C;AACD,GAFD;;AAIAA,OAAKovC,aAAL,GAAqB,UAAS/qE,CAAT,EAAY;AAC/B,WAAOtW,UAAU3H,MAAV,IAAoBgpF,gBAAgB/qE,KAAK,IAAL,GAAY,EAAZ,GAAiB3d,4CAAKA,CAAC7E,IAAN,CAAWwiB,CAAX,CAAjC,EAAgD27B,IAApE,IAA4EovC,cAAc1oF,KAAd,EAAnF;AACD,GAFD;;AAIAs5C,OAAK0C,UAAL,GAAkB,UAASr+B,CAAT,EAAY;AAC5B,WAAOtW,UAAU3H,MAAV,IAAoBs8C,aAAar+B,KAAK,IAAL,GAAY,IAAZ,GAAmB3d,4CAAKA,CAAC7E,IAAN,CAAWwiB,CAAX,CAAhC,EAA+C27B,IAAnE,IAA2E0C,cAAcA,WAAWh8C,KAAX,EAAhG;AACD,GAFD;;AAIAs5C,OAAKa,UAAL,GAAkB,UAASx8B,CAAT,EAAY;AAC5B,WAAOtW,UAAU3H,MAAV,IAAoBy6C,aAAax8B,CAAb,EAAgB27B,IAApC,IAA4Ca,UAAnD;AACD,GAFD;;AAIAb,OAAKQ,QAAL,GAAgB,UAASn8B,CAAT,EAAY;AAC1B,WAAOtW,UAAU3H,MAAV,IAAoBs+C,gBAAgBC,gBAAgB,CAACtgC,CAAjC,EAAoC27B,IAAxD,IAAgE0E,aAAvE;AACD,GAFD;;AAIA1E,OAAK0E,aAAL,GAAqB,UAASrgC,CAAT,EAAY;AAC/B,WAAOtW,UAAU3H,MAAV,IAAoBs+C,gBAAgB,CAACrgC,CAAjB,EAAoB27B,IAAxC,IAAgD0E,aAAvD;AACD,GAFD;;AAIA1E,OAAK2E,aAAL,GAAqB,UAAStgC,CAAT,EAAY;AAC/B,WAAOtW,UAAU3H,MAAV,IAAoBu+C,gBAAgB,CAACtgC,CAAjB,EAAoB27B,IAAxC,IAAgD2E,aAAvD;AACD,GAFD;;AAIA3E,OAAKqvC,WAAL,GAAmB,UAAShrE,CAAT,EAAY;AAC7B,WAAOtW,UAAU3H,MAAV,IAAoBipF,cAAc,CAAChrE,CAAf,EAAkB27B,IAAtC,IAA8CqvC,WAArD;AACD,GAFD;;AAIA,SAAOrvC,IAAP;AACD;;AAEM,SAASua,OAAT,CAAiBna,KAAjB,EAAwB;AAC7B,SAAOJ,KAAKnX,GAAL,EAAUuX,KAAV,CAAP;AACD;;AAEM,SAASka,SAAT,CAAmBla,KAAnB,EAA0B;AAC/B,SAAOJ,KAAK0L,KAAL,EAAYtL,KAAZ,CAAP;AACD;;AAEM,SAASia,UAAT,CAAoBja,KAApB,EAA2B;AAChC,SAAOJ,KAAKjX,MAAL,EAAaqX,KAAb,CAAP;AACD;;AAEM,SAASga,QAAT,CAAkBha,KAAlB,EAAyB;AAC9B,SAAOJ,KAAKyL,IAAL,EAAWrL,KAAX,CAAP;AACD,C;;;;;;;;;;;;ACnLD;AAAe,yEAAS3xB,CAAT,EAAY;AACzB,SAAOA,CAAP;AACD,C;;;;;;;;;;;;ACFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACJA;AAAe,yEAAS1pB,GAAT,EAAc;AAC3B,MAAI6qB,UAAU,EAAd;AACA,OAAK,IAAI3sB,GAAT,IAAgB8B,GAAhB;AAAqB6qB,YAAQjqB,IAAR,CAAa,EAAC1C,KAAKA,GAAN,EAAWN,OAAOoC,IAAI9B,GAAJ,CAAlB,EAAb;AAArB,GACA,OAAO2sB,OAAP;AACD,C;;;;;;;;;;;;ACJD;AAAe,yEAAS7qB,GAAT,EAAc;AAC3B,MAAI8F,OAAO,EAAX;AACA,OAAK,IAAI5H,GAAT,IAAgB8B,GAAhB;AAAqB8F,SAAKlF,IAAL,CAAU1C,GAAV;AAArB,GACA,OAAO4H,IAAP;AACD,C;;;;;;;;;;;;ACJD;AAAA;AAAO,IAAIolF,SAAS,GAAb;;AAEP,SAASpkE,GAAT,GAAe,CAAE;;AAEjBA,IAAIroB,SAAJ,GAAgBuB,IAAIvB,SAAJ,GAAgB;AAC9BgK,eAAaqe,GADiB;AAE9BjR,OAAK,aAAS3X,GAAT,EAAc;AACjB,WAAQgtF,SAAShtF,GAAV,IAAkB,IAAzB;AACD,GAJ6B;AAK9BV,OAAK,aAASU,GAAT,EAAc;AACjB,WAAO,KAAKgtF,SAAShtF,GAAd,CAAP;AACD,GAP6B;AAQ9B+oB,OAAK,aAAS/oB,GAAT,EAAcN,KAAd,EAAqB;AACxB,SAAKstF,SAAShtF,GAAd,IAAqBN,KAArB;AACA,WAAO,IAAP;AACD,GAX6B;AAY9By0C,UAAQ,gBAASn0C,GAAT,EAAc;AACpB,QAAIM,WAAW0sF,SAAShtF,GAAxB;AACA,WAAOM,YAAY,IAAZ,IAAoB,OAAO,KAAKA,QAAL,CAAlC;AACD,GAf6B;AAgB9B+mF,SAAO,iBAAW;AAChB,SAAK,IAAI/mF,QAAT,IAAqB,IAArB;AAA2B,UAAIA,SAAS,CAAT,MAAgB0sF,MAApB,EAA4B,OAAO,KAAK1sF,QAAL,CAAP;AAAvD;AACD,GAlB6B;AAmB9BsH,QAAM,gBAAW;AACf,QAAIA,OAAO,EAAX;AACA,SAAK,IAAItH,QAAT,IAAqB,IAArB;AAA2B,UAAIA,SAAS,CAAT,MAAgB0sF,MAApB,EAA4BplF,KAAKlF,IAAL,CAAUpC,SAASmD,KAAT,CAAe,CAAf,CAAV;AAAvD,KACA,OAAOmE,IAAP;AACD,GAvB6B;AAwB9BgY,UAAQ,kBAAW;AACjB,QAAIA,SAAS,EAAb;AACA,SAAK,IAAItf,QAAT,IAAqB,IAArB;AAA2B,UAAIA,SAAS,CAAT,MAAgB0sF,MAApB,EAA4BptE,OAAOld,IAAP,CAAY,KAAKpC,QAAL,CAAZ;AAAvD,KACA,OAAOsf,MAAP;AACD,GA5B6B;AA6B9B+M,WAAS,mBAAW;AAClB,QAAIA,UAAU,EAAd;AACA,SAAK,IAAIrsB,QAAT,IAAqB,IAArB;AAA2B,UAAIA,SAAS,CAAT,MAAgB0sF,MAApB,EAA4BrgE,QAAQjqB,IAAR,CAAa,EAAC1C,KAAKM,SAASmD,KAAT,CAAe,CAAf,CAAN,EAAyB/D,OAAO,KAAKY,QAAL,CAAhC,EAAb;AAAvD,KACA,OAAOqsB,OAAP;AACD,GAjC6B;AAkC9B49C,QAAM,gBAAW;AACf,QAAIA,OAAO,CAAX;AACA,SAAK,IAAIjqE,QAAT,IAAqB,IAArB;AAA2B,UAAIA,SAAS,CAAT,MAAgB0sF,MAApB,EAA4B,EAAEziB,IAAF;AAAvD,KACA,OAAOA,IAAP;AACD,GAtC6B;AAuC9B/C,SAAO,iBAAW;AAChB,SAAK,IAAIlnE,QAAT,IAAqB,IAArB;AAA2B,UAAIA,SAAS,CAAT,MAAgB0sF,MAApB,EAA4B,OAAO,KAAP;AAAvD,KACA,OAAO,IAAP;AACD,GA1C6B;AA2C9Bh5C,QAAM,cAAS7xC,CAAT,EAAY;AAChB,SAAK,IAAI7B,QAAT,IAAqB,IAArB;AAA2B,UAAIA,SAAS,CAAT,MAAgB0sF,MAApB,EAA4B7qF,EAAE,KAAK7B,QAAL,CAAF,EAAkBA,SAASmD,KAAT,CAAe,CAAf,CAAlB,EAAqC,IAArC;AAAvD;AACD;AA7C6B,CAAhC;;AAgDA,SAAS3B,GAAT,CAAazB,MAAb,EAAqB8B,CAArB,EAAwB;AACtB,MAAIL,MAAM,IAAI8mB,GAAJ,EAAV;;AAEA;AACA,MAAIvoB,kBAAkBuoB,GAAtB,EAA2BvoB,OAAO2zC,IAAP,CAAY,UAASt0C,KAAT,EAAgBM,GAAhB,EAAqB;AAAE8B,QAAIinB,GAAJ,CAAQ/oB,GAAR,EAAaN,KAAb;AAAsB,GAAzD;;AAE3B;AAFA,OAGK,IAAI+G,MAAMC,OAAN,CAAcrG,MAAd,CAAJ,EAA2B;AAC9B,UAAI3B,IAAI,CAAC,CAAT;AAAA,UACIwB,IAAIG,OAAO8C,MADf;AAAA,UAEIjE,CAFJ;;AAIA,UAAIiD,KAAK,IAAT,EAAe,OAAO,EAAEzD,CAAF,GAAMwB,CAAb;AAAgB4B,YAAIinB,GAAJ,CAAQrqB,CAAR,EAAW2B,OAAO3B,CAAP,CAAX;AAAhB,OAAf,MACK,OAAO,EAAEA,CAAF,GAAMwB,CAAb;AAAgB4B,YAAIinB,GAAJ,CAAQ5mB,EAAEjD,IAAImB,OAAO3B,CAAP,CAAN,EAAiBA,CAAjB,EAAoB2B,MAApB,CAAR,EAAqCnB,CAArC;AAAhB;AACN;;AAED;AATK,SAUA,IAAImB,MAAJ,EAAY,KAAK,IAAIL,GAAT,IAAgBK,MAAhB;AAAwByB,YAAIinB,GAAJ,CAAQ/oB,GAAR,EAAaK,OAAOL,GAAP,CAAb;AAAxB,OAEjB,OAAO8B,GAAP;AACD;;AAEcA,kEAAf,E;;;;;;;;;;;;AC1EA;AAAA;AAAA;;AAEe,2EAAW;AACxB,MAAI8F,OAAO,EAAX;AAAA,MACIqlF,YAAW,EADf;AAAA,MAEIC,WAFJ;AAAA,MAGIC,OAHJ;AAAA,MAIIh4C,IAJJ;;AAMA,WAAShuC,KAAT,CAAewhF,KAAf,EAAsBhwC,KAAtB,EAA6By0C,YAA7B,EAA2CC,SAA3C,EAAsD;AACpD,QAAI10C,SAAS/wC,KAAKzE,MAAlB,EAA0B;AACxB,UAAI+pF,eAAc,IAAlB,EAAwBvE,MAAMh9E,IAAN,CAAWuhF,WAAX;AACxB,aAAOC,WAAU,IAAV,GAAiBA,QAAOxE,KAAP,CAAjB,GAAiCA,KAAxC;AACD;;AAED,QAAIjqF,IAAI,CAAC,CAAT;AAAA,QACIwB,IAAIyoF,MAAMxlF,MADd;AAAA,QAEInD,MAAM4H,KAAK+wC,OAAL,CAFV;AAAA,QAGI8tC,QAHJ;AAAA,QAII/mF,KAJJ;AAAA,QAKI4tF,cAAcxrF,oDAAGA,EALrB;AAAA,QAMI8d,MANJ;AAAA,QAOI2tE,SAASH,cAPb;;AASA,WAAO,EAAE1uF,CAAF,GAAMwB,CAAb,EAAgB;AACd,UAAI0f,SAAS0tE,YAAYhuF,GAAZ,CAAgBmnF,WAAWzmF,IAAIN,QAAQipF,MAAMjqF,CAAN,CAAZ,IAAwB,EAAnD,CAAb,EAAqE;AACnEkhB,eAAOld,IAAP,CAAYhD,KAAZ;AACD,OAFD,MAEO;AACL4tF,oBAAYvkE,GAAZ,CAAgB09D,QAAhB,EAA0B,CAAC/mF,KAAD,CAA1B;AACD;AACF;;AAED4tF,gBAAYt5C,IAAZ,CAAiB,UAASp0B,MAAT,EAAiB5f,GAAjB,EAAsB;AACrCqtF,gBAAUE,MAAV,EAAkBvtF,GAAlB,EAAuBmH,MAAMyY,MAAN,EAAc+4B,KAAd,EAAqBy0C,YAArB,EAAmCC,SAAnC,CAAvB;AACD,KAFD;;AAIA,WAAOE,MAAP;AACD;;AAED,WAAS5gE,QAAT,CAAiB7qB,GAAjB,EAAsB62C,KAAtB,EAA6B;AAC3B,QAAI,EAAEA,KAAF,GAAU/wC,KAAKzE,MAAnB,EAA2B,OAAOrB,GAAP;AAC3B,QAAI6mF,KAAJ;AAAA,QAAW6E,UAAUP,UAASt0C,QAAQ,CAAjB,CAArB;AACA,QAAIw0C,WAAU,IAAV,IAAkBx0C,SAAS/wC,KAAKzE,MAApC,EAA4CwlF,QAAQ7mF,IAAI6qB,OAAJ,EAAR,CAA5C,KACKg8D,QAAQ,EAAR,EAAY7mF,IAAIkyC,IAAJ,CAAS,UAASn0B,CAAT,EAAYwsE,CAAZ,EAAe;AAAE1D,YAAMjmF,IAAN,CAAW,EAAC1C,KAAKqsF,CAAN,EAASzsE,QAAQ+M,SAAQ9M,CAAR,EAAW84B,KAAX,CAAjB,EAAX;AAAkD,KAA5E,CAAZ;AACL,WAAO60C,WAAW,IAAX,GAAkB7E,MAAMh9E,IAAN,CAAW,UAASwZ,CAAT,EAAYC,CAAZ,EAAe;AAAE,aAAOooE,QAAQroE,EAAEnlB,GAAV,EAAeolB,EAAEplB,GAAjB,CAAP;AAA+B,KAA3D,CAAlB,GAAiF2oF,KAAxF;AACD;;AAED,SAAOxzC,OAAO;AACZ90C,YAAQ,gBAASsoF,KAAT,EAAgB;AAAE,aAAOxhF,MAAMwhF,KAAN,EAAa,CAAb,EAAgB8E,YAAhB,EAA8BC,SAA9B,CAAP;AAAkD,KADhE;AAEZ5rF,SAAK,aAAS6mF,KAAT,EAAgB;AAAE,aAAOxhF,MAAMwhF,KAAN,EAAa,CAAb,EAAgBgF,SAAhB,EAA2BC,MAA3B,CAAP;AAA4C,KAFvD;AAGZjhE,aAAS,iBAASg8D,KAAT,EAAgB;AAAE,aAAOh8D,SAAQxlB,MAAMwhF,KAAN,EAAa,CAAb,EAAgBgF,SAAhB,EAA2BC,MAA3B,CAAR,EAA4C,CAA5C,CAAP;AAAwD,KAHvE;AAIZ5tF,SAAK,aAASjB,CAAT,EAAY;AAAE6I,WAAKlF,IAAL,CAAU3D,CAAV,EAAc,OAAOo2C,IAAP;AAAc,KAJnC;AAKZ83C,cAAU,kBAAS1hF,KAAT,EAAgB;AAAE0hF,gBAASrlF,KAAKzE,MAAL,GAAc,CAAvB,IAA4BoI,KAA5B,CAAmC,OAAO4pC,IAAP;AAAc,KALjE;AAMZ+3C,gBAAY,oBAAS3hF,KAAT,EAAgB;AAAE2hF,oBAAa3hF,KAAb,CAAoB,OAAO4pC,IAAP;AAAc,KANpD;AAOZg4C,YAAQ,gBAAShrF,CAAT,EAAY;AAAEgrF,gBAAShrF,CAAT,CAAY,OAAOgzC,IAAP;AAAc;AAPpC,GAAd;AASD;;AAED,SAASs4C,YAAT,GAAwB;AACtB,SAAO,EAAP;AACD;;AAED,SAASC,SAAT,CAAmBrtF,MAAnB,EAA2BL,GAA3B,EAAgCN,KAAhC,EAAuC;AACrCW,SAAOL,GAAP,IAAcN,KAAd;AACD;;AAED,SAASiuF,SAAT,GAAqB;AACnB,SAAO7rF,oDAAGA,EAAV;AACD;;AAED,SAAS8rF,MAAT,CAAgB9rF,GAAhB,EAAqB9B,GAArB,EAA0BN,KAA1B,EAAiC;AAC/BoC,MAAIinB,GAAJ,CAAQ/oB,GAAR,EAAaN,KAAb;AACD,C;;;;;;;;;;;;ACxED;AAAA;AAAA;;AAEA,SAAS+X,GAAT,GAAe,CAAE;;AAEjB,IAAIo2E,QAAQ/rF,4CAAGA,CAACvB,SAAhB;;AAEAkX,IAAIlX,SAAJ,GAAgBwoB,IAAIxoB,SAAJ,GAAgB;AAC9BgK,eAAakN,GADiB;AAE9BE,OAAKk2E,MAAMl2E,GAFmB;AAG9BC,OAAK,aAASlY,KAAT,EAAgB;AACnBA,aAAS,EAAT;AACA,SAAKstF,2CAAMA,GAAGttF,KAAd,IAAuBA,KAAvB;AACA,WAAO,IAAP;AACD,GAP6B;AAQ9By0C,UAAQ05C,MAAM15C,MARgB;AAS9BkzC,SAAOwG,MAAMxG,KATiB;AAU9BznE,UAAQiuE,MAAMjmF,IAVgB;AAW9B2iE,QAAMsjB,MAAMtjB,IAXkB;AAY9B/C,SAAOqmB,MAAMrmB,KAZiB;AAa9BxzB,QAAM65C,MAAM75C;AAbkB,CAAhC;;AAgBA,SAASjrB,GAAT,CAAa1oB,MAAb,EAAqB8B,CAArB,EAAwB;AACtB,MAAI4mB,MAAM,IAAItR,GAAJ,EAAV;;AAEA;AACA,MAAIpX,kBAAkBoX,GAAtB,EAA2BpX,OAAO2zC,IAAP,CAAY,UAASt0C,KAAT,EAAgB;AAAEqpB,QAAInR,GAAJ,CAAQlY,KAAR;AAAiB,GAA/C;;AAE3B;AAFA,OAGK,IAAIW,MAAJ,EAAY;AACf,UAAI3B,IAAI,CAAC,CAAT;AAAA,UAAYwB,IAAIG,OAAO8C,MAAvB;AACA,UAAIhB,KAAK,IAAT,EAAe,OAAO,EAAEzD,CAAF,GAAMwB,CAAb;AAAgB6oB,YAAInR,GAAJ,CAAQvX,OAAO3B,CAAP,CAAR;AAAhB,OAAf,MACK,OAAO,EAAEA,CAAF,GAAMwB,CAAb;AAAgB6oB,YAAInR,GAAJ,CAAQzV,EAAE9B,OAAO3B,CAAP,CAAF,EAAaA,CAAb,EAAgB2B,MAAhB,CAAR;AAAhB;AACN;;AAED,SAAO0oB,GAAP;AACD;;AAEcA,kEAAf,E;;;;;;;;;;;;ACtCA;AAAe,yEAASjnB,GAAT,EAAc;AAC3B,MAAI8d,SAAS,EAAb;AACA,OAAK,IAAI5f,GAAT,IAAgB8B,GAAhB;AAAqB8d,WAAOld,IAAP,CAAYZ,IAAI9B,GAAJ,CAAZ;AAArB,GACA,OAAO4f,MAAP;AACD,C;;;;;;;;;;;;ACJD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEO,SAASkuE,KAAT,GAAiB,CAAE;;AAEnB,IAAIC,UAAS,GAAb;;AACA,IAAIC,YAAW,IAAID,OAAnB;;;AAEP,IAAIE,MAAM,qBAAV;AAAA,IACIC,MAAM,+CADV;AAAA,IAEIC,MAAM,gDAFV;AAAA,IAGIC,SAAS,kBAHb;AAAA,IAIIC,SAAS,kBAJb;AAAA,IAKIC,eAAe,IAAIzrF,MAAJ,CAAW,YAAY,CAACorF,GAAD,EAAMA,GAAN,EAAWA,GAAX,CAAZ,GAA8B,MAAzC,CALnB;AAAA,IAMIM,eAAe,IAAI1rF,MAAJ,CAAW,YAAY,CAACsrF,GAAD,EAAMA,GAAN,EAAWA,GAAX,CAAZ,GAA8B,MAAzC,CANnB;AAAA,IAOIK,gBAAgB,IAAI3rF,MAAJ,CAAW,aAAa,CAACorF,GAAD,EAAMA,GAAN,EAAWA,GAAX,EAAgBC,GAAhB,CAAb,GAAoC,MAA/C,CAPpB;AAAA,IAQIO,gBAAgB,IAAI5rF,MAAJ,CAAW,aAAa,CAACsrF,GAAD,EAAMA,GAAN,EAAWA,GAAX,EAAgBD,GAAhB,CAAb,GAAoC,MAA/C,CARpB;AAAA,IASIQ,eAAe,IAAI7rF,MAAJ,CAAW,YAAY,CAACqrF,GAAD,EAAMC,GAAN,EAAWA,GAAX,CAAZ,GAA8B,MAAzC,CATnB;AAAA,IAUIQ,gBAAgB,IAAI9rF,MAAJ,CAAW,aAAa,CAACqrF,GAAD,EAAMC,GAAN,EAAWA,GAAX,EAAgBD,GAAhB,CAAb,GAAoC,MAA/C,CAVpB;;AAYA,IAAIU,QAAQ;AACVC,aAAW,QADD;AAEVC,gBAAc,QAFJ;AAGVC,QAAM,QAHI;AAIVC,cAAY,QAJF;AAKVC,SAAO,QALG;AAMVC,SAAO,QANG;AAOVC,UAAQ,QAPE;AAQVC,SAAO,QARG;AASVC,kBAAgB,QATN;AAUVC,QAAM,QAVI;AAWVC,cAAY,QAXF;AAYVC,SAAO,QAZG;AAaVC,aAAW,QAbD;AAcVC,aAAW,QAdD;AAeVC,cAAY,QAfF;AAgBVC,aAAW,QAhBD;AAiBVC,SAAO,QAjBG;AAkBVC,kBAAgB,QAlBN;AAmBVC,YAAU,QAnBA;AAoBVC,WAAS,QApBC;AAqBVC,QAAM,QArBI;AAsBVC,YAAU,QAtBA;AAuBVC,YAAU,QAvBA;AAwBVC,iBAAe,QAxBL;AAyBVC,YAAU,QAzBA;AA0BVC,aAAW,QA1BD;AA2BVC,YAAU,QA3BA;AA4BVC,aAAW,QA5BD;AA6BVC,eAAa,QA7BH;AA8BVC,kBAAgB,QA9BN;AA+BVC,cAAY,QA/BF;AAgCVC,cAAY,QAhCF;AAiCVC,WAAS,QAjCC;AAkCVC,cAAY,QAlCF;AAmCVC,gBAAc,QAnCJ;AAoCVC,iBAAe,QApCL;AAqCVC,iBAAe,QArCL;AAsCVC,iBAAe,QAtCL;AAuCVC,iBAAe,QAvCL;AAwCVC,cAAY,QAxCF;AAyCVC,YAAU,QAzCA;AA0CVC,eAAa,QA1CH;AA2CVC,WAAS,QA3CC;AA4CVC,WAAS,QA5CC;AA6CVC,cAAY,QA7CF;AA8CVC,aAAW,QA9CD;AA+CVC,eAAa,QA/CH;AAgDVC,eAAa,QAhDH;AAiDVC,WAAS,QAjDC;AAkDVC,aAAW,QAlDD;AAmDVC,cAAY,QAnDF;AAoDVC,QAAM,QApDI;AAqDVC,aAAW,QArDD;AAsDVC,QAAM,QAtDI;AAuDVC,SAAO,QAvDG;AAwDVC,eAAa,QAxDH;AAyDVC,QAAM,QAzDI;AA0DVC,YAAU,QA1DA;AA2DVC,WAAS,QA3DC;AA4DVC,aAAW,QA5DD;AA6DVC,UAAQ,QA7DE;AA8DVC,SAAO,QA9DG;AA+DVC,SAAO,QA/DG;AAgEVC,YAAU,QAhEA;AAiEVC,iBAAe,QAjEL;AAkEVC,aAAW,QAlED;AAmEVC,gBAAc,QAnEJ;AAoEVC,aAAW,QApED;AAqEVC,cAAY,QArEF;AAsEVC,aAAW,QAtED;AAuEVC,wBAAsB,QAvEZ;AAwEVC,aAAW,QAxED;AAyEVC,cAAY,QAzEF;AA0EVC,aAAW,QA1ED;AA2EVC,aAAW,QA3ED;AA4EVC,eAAa,QA5EH;AA6EVC,iBAAe,QA7EL;AA8EVC,gBAAc,QA9EJ;AA+EVC,kBAAgB,QA/EN;AAgFVC,kBAAgB,QAhFN;AAiFVC,kBAAgB,QAjFN;AAkFVC,eAAa,QAlFH;AAmFVC,QAAM,QAnFI;AAoFVC,aAAW,QApFD;AAqFVC,SAAO,QArFG;AAsFVC,WAAS,QAtFC;AAuFVC,UAAQ,QAvFE;AAwFVC,oBAAkB,QAxFR;AAyFVC,cAAY,QAzFF;AA0FVC,gBAAc,QA1FJ;AA2FVC,gBAAc,QA3FJ;AA4FVC,kBAAgB,QA5FN;AA6FVC,mBAAiB,QA7FP;AA8FVC,qBAAmB,QA9FT;AA+FVC,mBAAiB,QA/FP;AAgGVC,mBAAiB,QAhGP;AAiGVC,gBAAc,QAjGJ;AAkGVC,aAAW,QAlGD;AAmGVC,aAAW,QAnGD;AAoGVC,YAAU,QApGA;AAqGVC,eAAa,QArGH;AAsGVC,QAAM,QAtGI;AAuGVC,WAAS,QAvGC;AAwGVC,SAAO,QAxGG;AAyGVC,aAAW,QAzGD;AA0GVC,UAAQ,QA1GE;AA2GVC,aAAW,QA3GD;AA4GVC,UAAQ,QA5GE;AA6GVC,iBAAe,QA7GL;AA8GVC,aAAW,QA9GD;AA+GVC,iBAAe,QA/GL;AAgHVC,iBAAe,QAhHL;AAiHVC,cAAY,QAjHF;AAkHVC,aAAW,QAlHD;AAmHVC,QAAM,QAnHI;AAoHVC,QAAM,QApHI;AAqHVC,QAAM,QArHI;AAsHVC,cAAY,QAtHF;AAuHVC,UAAQ,QAvHE;AAwHVC,iBAAe,QAxHL;AAyHVC,OAAK,QAzHK;AA0HVC,aAAW,QA1HD;AA2HVC,aAAW,QA3HD;AA4HVC,eAAa,QA5HH;AA6HVC,UAAQ,QA7HE;AA8HVC,cAAY,QA9HF;AA+HVC,YAAU,QA/HA;AAgIVC,YAAU,QAhIA;AAiIVC,UAAQ,QAjIE;AAkIVC,UAAQ,QAlIE;AAmIVC,WAAS,QAnIC;AAoIVC,aAAW,QApID;AAqIVC,aAAW,QArID;AAsIVC,aAAW,QAtID;AAuIVC,QAAM,QAvII;AAwIVC,eAAa,QAxIH;AAyIVC,aAAW,QAzID;AA0IVC,OAAK,QA1IK;AA2IVC,QAAM,QA3II;AA4IVC,WAAS,QA5IC;AA6IVC,UAAQ,QA7IE;AA8IVC,aAAW,QA9ID;AA+IVC,UAAQ,QA/IE;AAgJVC,SAAO,QAhJG;AAiJVC,SAAO,QAjJG;AAkJVC,cAAY,QAlJF;AAmJVC,UAAQ,QAnJE;AAoJVC,eAAa;AApJH,CAAZ;;AAuJA55F,uDAAMA,CAAC0vF,KAAP,EAAcp7C,KAAd,EAAqB;AACnBulD,eAAa,uBAAW;AACtB,WAAO,KAAKtsC,GAAL,GAAWssC,WAAX,EAAP;AACD,GAHkB;AAInBvsC,OAAK,eAAW;AACd,WAAO,KAAKC,GAAL,GAAWD,GAAX,EAAP;AACD,GANkB;AAOnBt3B,YAAU,oBAAW;AACnB,WAAO,KAAKu3B,GAAL,KAAa,EAApB;AACD;AATkB,CAArB;;AAYe,SAASjZ,KAAT,CAAetxC,MAAf,EAAuB;AACpC,MAAIvC,CAAJ;AACAuC,WAAS,CAACA,SAAS,EAAV,EAAcmZ,IAAd,GAAqBmP,WAArB,EAAT;AACA,SAAO,CAAC7qB,IAAIuvF,OAAO8J,IAAP,CAAY92F,MAAZ,CAAL,KAA6BvC,IAAI20B,SAAS30B,EAAE,CAAF,CAAT,EAAe,EAAf,CAAJ,EAAwB,IAAIs5F,GAAJ,CAASt5F,KAAK,CAAL,GAAS,GAAV,GAAkBA,KAAK,CAAL,GAAS,KAAnC,EAA4CA,KAAK,CAAL,GAAS,GAAV,GAAkBA,IAAI,IAAjE,EAAyE,CAACA,IAAI,GAAL,KAAa,CAAd,GAAoBA,IAAI,GAAhG,EAAsG,CAAtG,CAArD,CAA+J;AAA/J,MACD,CAACA,IAAIwvF,OAAO6J,IAAP,CAAY92F,MAAZ,CAAL,IAA4Bg3F,KAAK5kE,SAAS30B,EAAE,CAAF,CAAT,EAAe,EAAf,CAAL,CAA5B,CAAqD;AAArD,IACA,CAACA,IAAIyvF,aAAa4J,IAAb,CAAkB92F,MAAlB,CAAL,IAAkC,IAAI+2F,GAAJ,CAAQt5F,EAAE,CAAF,CAAR,EAAcA,EAAE,CAAF,CAAd,EAAoBA,EAAE,CAAF,CAApB,EAA0B,CAA1B,CAAlC,CAA+D;AAA/D,IACA,CAACA,IAAI0vF,aAAa2J,IAAb,CAAkB92F,MAAlB,CAAL,IAAkC,IAAI+2F,GAAJ,CAAQt5F,EAAE,CAAF,IAAO,GAAP,GAAa,GAArB,EAA0BA,EAAE,CAAF,IAAO,GAAP,GAAa,GAAvC,EAA4CA,EAAE,CAAF,IAAO,GAAP,GAAa,GAAzD,EAA8D,CAA9D,CAAlC,CAAmG;AAAnG,IACA,CAACA,IAAI2vF,cAAc0J,IAAd,CAAmB92F,MAAnB,CAAL,IAAmCi3F,KAAKx5F,EAAE,CAAF,CAAL,EAAWA,EAAE,CAAF,CAAX,EAAiBA,EAAE,CAAF,CAAjB,EAAuBA,EAAE,CAAF,CAAvB,CAAnC,CAAgE;AAAhE,IACA,CAACA,IAAI4vF,cAAcyJ,IAAd,CAAmB92F,MAAnB,CAAL,IAAmCi3F,KAAKx5F,EAAE,CAAF,IAAO,GAAP,GAAa,GAAlB,EAAuBA,EAAE,CAAF,IAAO,GAAP,GAAa,GAApC,EAAyCA,EAAE,CAAF,IAAO,GAAP,GAAa,GAAtD,EAA2DA,EAAE,CAAF,CAA3D,CAAnC,CAAoG;AAApG,IACA,CAACA,IAAI6vF,aAAawJ,IAAb,CAAkB92F,MAAlB,CAAL,IAAkCkqD,KAAKzsD,EAAE,CAAF,CAAL,EAAWA,EAAE,CAAF,IAAO,GAAlB,EAAuBA,EAAE,CAAF,IAAO,GAA9B,EAAmC,CAAnC,CAAlC,CAAwE;AAAxE,IACA,CAACA,IAAI8vF,cAAcuJ,IAAd,CAAmB92F,MAAnB,CAAL,IAAmCkqD,KAAKzsD,EAAE,CAAF,CAAL,EAAWA,EAAE,CAAF,IAAO,GAAlB,EAAuBA,EAAE,CAAF,IAAO,GAA9B,EAAmCA,EAAE,CAAF,CAAnC,CAAnC,CAA4E;AAA5E,IACA+vF,MAAMpuF,cAAN,CAAqBY,MAArB,IAA+Bg3F,KAAKxJ,MAAMxtF,MAAN,CAAL,CAA/B,GACAA,WAAW,aAAX,GAA2B,IAAI+2F,GAAJ,CAAQvP,GAAR,EAAaA,GAAb,EAAkBA,GAAlB,EAAuB,CAAvB,CAA3B,GACA,IAVN;AAWD;;AAED,SAASwP,IAAT,CAAcl4F,CAAd,EAAiB;AACf,SAAO,IAAIi4F,GAAJ,CAAQj4F,KAAK,EAAL,GAAU,IAAlB,EAAwBA,KAAK,CAAL,GAAS,IAAjC,EAAuCA,IAAI,IAA3C,EAAiD,CAAjD,CAAP;AACD;;AAED,SAASm4F,IAAT,CAAc94F,CAAd,EAAiB+4F,CAAjB,EAAoBlzE,CAApB,EAAuBD,CAAvB,EAA0B;AACxB,MAAIA,KAAK,CAAT,EAAY5lB,IAAI+4F,IAAIlzE,IAAIwjE,GAAZ;AACZ,SAAO,IAAIuP,GAAJ,CAAQ54F,CAAR,EAAW+4F,CAAX,EAAclzE,CAAd,EAAiBD,CAAjB,CAAP;AACD;;AAEM,SAASozE,UAAT,CAAoBr5F,CAApB,EAAuB;AAC5B,MAAI,EAAEA,aAAa4uF,KAAf,CAAJ,EAA2B5uF,IAAIwzC,MAAMxzC,CAAN,CAAJ;AAC3B,MAAI,CAACA,CAAL,EAAQ,OAAO,IAAIi5F,GAAJ,EAAP;AACRj5F,MAAIA,EAAEysD,GAAF,EAAJ;AACA,SAAO,IAAIwsC,GAAJ,CAAQj5F,EAAEK,CAAV,EAAaL,EAAEo5F,CAAf,EAAkBp5F,EAAEkmB,CAApB,EAAuBlmB,EAAEs5F,OAAzB,CAAP;AACD;;AAEM,SAAS7sC,GAAT,CAAapsD,CAAb,EAAgB+4F,CAAhB,EAAmBlzE,CAAnB,EAAsBozE,OAAtB,EAA+B;AACpC,SAAO1tF,UAAU3H,MAAV,KAAqB,CAArB,GAAyBo1F,WAAWh5F,CAAX,CAAzB,GAAyC,IAAI44F,GAAJ,CAAQ54F,CAAR,EAAW+4F,CAAX,EAAclzE,CAAd,EAAiBozE,WAAW,IAAX,GAAkB,CAAlB,GAAsBA,OAAvC,CAAhD;AACD;;AAEM,SAASL,GAAT,CAAa54F,CAAb,EAAgB+4F,CAAhB,EAAmBlzE,CAAnB,EAAsBozE,OAAtB,EAA+B;AACpC,OAAKj5F,CAAL,GAAS,CAACA,CAAV;AACA,OAAK+4F,CAAL,GAAS,CAACA,CAAV;AACA,OAAKlzE,CAAL,GAAS,CAACA,CAAV;AACA,OAAKozE,OAAL,GAAe,CAACA,OAAhB;AACD;;AAEDp6F,uDAAMA,CAAC+5F,GAAP,EAAYxsC,GAAZ,EAAiB8sC,sDAAMA,CAAC3K,KAAP,EAAc;AAC7BE,YAAU,kBAAS3B,CAAT,EAAY;AACpBA,QAAIA,KAAK,IAAL,GAAY2B,SAAZ,GAAuBryE,KAAKuQ,GAAL,CAAS8hE,SAAT,EAAmB3B,CAAnB,CAA3B;AACA,WAAO,IAAI8L,GAAJ,CAAQ,KAAK54F,CAAL,GAAS8sF,CAAjB,EAAoB,KAAKiM,CAAL,GAASjM,CAA7B,EAAgC,KAAKjnE,CAAL,GAASinE,CAAzC,EAA4C,KAAKmM,OAAjD,CAAP;AACD,GAJ4B;AAK7BzK,UAAQ,gBAAS1B,CAAT,EAAY;AAClBA,QAAIA,KAAK,IAAL,GAAY0B,OAAZ,GAAqBpyE,KAAKuQ,GAAL,CAAS6hE,OAAT,EAAiB1B,CAAjB,CAAzB;AACA,WAAO,IAAI8L,GAAJ,CAAQ,KAAK54F,CAAL,GAAS8sF,CAAjB,EAAoB,KAAKiM,CAAL,GAASjM,CAA7B,EAAgC,KAAKjnE,CAAL,GAASinE,CAAzC,EAA4C,KAAKmM,OAAjD,CAAP;AACD,GAR4B;AAS7B7sC,OAAK,eAAW;AACd,WAAO,IAAP;AACD,GAX4B;AAY7BssC,eAAa,uBAAW;AACtB,WAAQ,KAAK,KAAK14F,CAAV,IAAe,KAAKA,CAAL,IAAU,GAA1B,IACC,KAAK,KAAK+4F,CAAV,IAAe,KAAKA,CAAL,IAAU,GAD1B,IAEC,KAAK,KAAKlzE,CAAV,IAAe,KAAKA,CAAL,IAAU,GAF1B,IAGC,KAAK,KAAKozE,OAAV,IAAqB,KAAKA,OAAL,IAAgB,CAH7C;AAID,GAjB4B;AAkB7B9sC,OAAK,eAAW;AACd,WAAO,MAAMA,KAAI,KAAKnsD,CAAT,CAAN,GAAoBmsD,KAAI,KAAK4sC,CAAT,CAApB,GAAkC5sC,KAAI,KAAKtmC,CAAT,CAAzC;AACD,GApB4B;AAqB7BgP,YAAU,oBAAW;AACnB,QAAIjP,IAAI,KAAKqzE,OAAb,CAAsBrzE,IAAIzK,MAAMyK,CAAN,IAAW,CAAX,GAAexJ,KAAKxD,GAAL,CAAS,CAAT,EAAYwD,KAAK3D,GAAL,CAAS,CAAT,EAAYmN,CAAZ,CAAZ,CAAnB;AACtB,WAAO,CAACA,MAAM,CAAN,GAAU,MAAV,GAAmB,OAApB,IACDxJ,KAAKxD,GAAL,CAAS,CAAT,EAAYwD,KAAK3D,GAAL,CAAS,GAAT,EAAc2D,KAAK8e,KAAL,CAAW,KAAKl7B,CAAhB,KAAsB,CAApC,CAAZ,CADC,GACqD,IADrD,GAEDoc,KAAKxD,GAAL,CAAS,CAAT,EAAYwD,KAAK3D,GAAL,CAAS,GAAT,EAAc2D,KAAK8e,KAAL,CAAW,KAAK69D,CAAhB,KAAsB,CAApC,CAAZ,CAFC,GAEqD,IAFrD,GAGD38E,KAAKxD,GAAL,CAAS,CAAT,EAAYwD,KAAK3D,GAAL,CAAS,GAAT,EAAc2D,KAAK8e,KAAL,CAAW,KAAKrV,CAAhB,KAAsB,CAApC,CAAZ,CAHC,IAIAD,MAAM,CAAN,GAAU,GAAV,GAAgB,OAAOA,CAAP,GAAW,GAJ3B,CAAP;AAKD;AA5B4B,CAAd,CAAjB;;AA+BA,SAASumC,IAAT,CAAahsD,KAAb,EAAoB;AAClBA,UAAQic,KAAKxD,GAAL,CAAS,CAAT,EAAYwD,KAAK3D,GAAL,CAAS,GAAT,EAAc2D,KAAK8e,KAAL,CAAW/6B,KAAX,KAAqB,CAAnC,CAAZ,CAAR;AACA,SAAO,CAACA,QAAQ,EAAR,GAAa,GAAb,GAAmB,EAApB,IAA0BA,MAAM00B,QAAN,CAAe,EAAf,CAAjC;AACD;;AAED,SAASk3B,IAAT,CAAcL,CAAd,EAAiBvqD,CAAjB,EAAoB/B,CAApB,EAAuBwmB,CAAvB,EAA0B;AACxB,MAAIA,KAAK,CAAT,EAAY8lC,IAAIvqD,IAAI/B,IAAIiqF,GAAZ,CAAZ,KACK,IAAIjqF,KAAK,CAAL,IAAUA,KAAK,CAAnB,EAAsBssD,IAAIvqD,IAAIkoF,GAAR,CAAtB,KACA,IAAIloF,KAAK,CAAT,EAAYuqD,IAAI29B,GAAJ;AACjB,SAAO,IAAI8P,GAAJ,CAAQztC,CAAR,EAAWvqD,CAAX,EAAc/B,CAAd,EAAiBwmB,CAAjB,CAAP;AACD;;AAEM,SAASwzE,UAAT,CAAoBz5F,CAApB,EAAuB;AAC5B,MAAIA,aAAaw5F,GAAjB,EAAsB,OAAO,IAAIA,GAAJ,CAAQx5F,EAAE+rD,CAAV,EAAa/rD,EAAEwB,CAAf,EAAkBxB,EAAEP,CAApB,EAAuBO,EAAEs5F,OAAzB,CAAP;AACtB,MAAI,EAAEt5F,aAAa4uF,KAAf,CAAJ,EAA2B5uF,IAAIwzC,MAAMxzC,CAAN,CAAJ;AAC3B,MAAI,CAACA,CAAL,EAAQ,OAAO,IAAIw5F,GAAJ,EAAP;AACR,MAAIx5F,aAAaw5F,GAAjB,EAAsB,OAAOx5F,CAAP;AACtBA,MAAIA,EAAEysD,GAAF,EAAJ;AACA,MAAIpsD,IAAIL,EAAEK,CAAF,GAAM,GAAd;AAAA,MACI+4F,IAAIp5F,EAAEo5F,CAAF,GAAM,GADd;AAAA,MAEIlzE,IAAIlmB,EAAEkmB,CAAF,GAAM,GAFd;AAAA,MAGIpN,MAAM2D,KAAK3D,GAAL,CAASzY,CAAT,EAAY+4F,CAAZ,EAAelzE,CAAf,CAHV;AAAA,MAIIjN,MAAMwD,KAAKxD,GAAL,CAAS5Y,CAAT,EAAY+4F,CAAZ,EAAelzE,CAAf,CAJV;AAAA,MAKI6lC,IAAI29B,GALR;AAAA,MAMIloF,IAAIyX,MAAMH,GANd;AAAA,MAOIrZ,IAAI,CAACwZ,MAAMH,GAAP,IAAc,CAPtB;AAQA,MAAItX,CAAJ,EAAO;AACL,QAAInB,MAAM4Y,GAAV,EAAe8yC,IAAI,CAACqtC,IAAIlzE,CAAL,IAAU1kB,CAAV,GAAc,CAAC43F,IAAIlzE,CAAL,IAAU,CAA5B,CAAf,KACK,IAAIkzE,MAAMngF,GAAV,EAAe8yC,IAAI,CAAC7lC,IAAI7lB,CAAL,IAAUmB,CAAV,GAAc,CAAlB,CAAf,KACAuqD,IAAI,CAAC1rD,IAAI+4F,CAAL,IAAU53F,CAAV,GAAc,CAAlB;AACLA,SAAK/B,IAAI,GAAJ,GAAUwZ,MAAMH,GAAhB,GAAsB,IAAIG,GAAJ,GAAUH,GAArC;AACAizC,SAAK,EAAL;AACD,GAND,MAMO;AACLvqD,QAAI/B,IAAI,CAAJ,IAASA,IAAI,CAAb,GAAiB,CAAjB,GAAqBssD,CAAzB;AACD;AACD,SAAO,IAAIytC,GAAJ,CAAQztC,CAAR,EAAWvqD,CAAX,EAAc/B,CAAd,EAAiBO,EAAEs5F,OAAnB,CAAP;AACD;;AAEM,SAASI,GAAT,CAAa3tC,CAAb,EAAgBvqD,CAAhB,EAAmB/B,CAAnB,EAAsB65F,OAAtB,EAA+B;AACpC,SAAO1tF,UAAU3H,MAAV,KAAqB,CAArB,GAAyBw1F,WAAW1tC,CAAX,CAAzB,GAAyC,IAAIytC,GAAJ,CAAQztC,CAAR,EAAWvqD,CAAX,EAAc/B,CAAd,EAAiB65F,WAAW,IAAX,GAAkB,CAAlB,GAAsBA,OAAvC,CAAhD;AACD;;AAED,SAASE,GAAT,CAAaztC,CAAb,EAAgBvqD,CAAhB,EAAmB/B,CAAnB,EAAsB65F,OAAtB,EAA+B;AAC7B,OAAKvtC,CAAL,GAAS,CAACA,CAAV;AACA,OAAKvqD,CAAL,GAAS,CAACA,CAAV;AACA,OAAK/B,CAAL,GAAS,CAACA,CAAV;AACA,OAAK65F,OAAL,GAAe,CAACA,OAAhB;AACD;;AAEDp6F,uDAAMA,CAACs6F,GAAP,EAAYE,GAAZ,EAAiBH,sDAAMA,CAAC3K,KAAP,EAAc;AAC7BE,YAAU,kBAAS3B,CAAT,EAAY;AACpBA,QAAIA,KAAK,IAAL,GAAY2B,SAAZ,GAAuBryE,KAAKuQ,GAAL,CAAS8hE,SAAT,EAAmB3B,CAAnB,CAA3B;AACA,WAAO,IAAIqM,GAAJ,CAAQ,KAAKztC,CAAb,EAAgB,KAAKvqD,CAArB,EAAwB,KAAK/B,CAAL,GAAS0tF,CAAjC,EAAoC,KAAKmM,OAAzC,CAAP;AACD,GAJ4B;AAK7BzK,UAAQ,gBAAS1B,CAAT,EAAY;AAClBA,QAAIA,KAAK,IAAL,GAAY0B,OAAZ,GAAqBpyE,KAAKuQ,GAAL,CAAS6hE,OAAT,EAAiB1B,CAAjB,CAAzB;AACA,WAAO,IAAIqM,GAAJ,CAAQ,KAAKztC,CAAb,EAAgB,KAAKvqD,CAArB,EAAwB,KAAK/B,CAAL,GAAS0tF,CAAjC,EAAoC,KAAKmM,OAAzC,CAAP;AACD,GAR4B;AAS7B7sC,OAAK,eAAW;AACd,QAAIV,IAAI,KAAKA,CAAL,GAAS,GAAT,GAAe,CAAC,KAAKA,CAAL,GAAS,CAAV,IAAe,GAAtC;AAAA,QACIvqD,IAAIga,MAAMuwC,CAAN,KAAYvwC,MAAM,KAAKha,CAAX,CAAZ,GAA4B,CAA5B,GAAgC,KAAKA,CAD7C;AAAA,QAEI/B,IAAI,KAAKA,CAFb;AAAA,QAGIk6F,KAAKl6F,IAAI,CAACA,IAAI,GAAJ,GAAUA,CAAV,GAAc,IAAIA,CAAnB,IAAwB+B,CAHrC;AAAA,QAIIo4F,KAAK,IAAIn6F,CAAJ,GAAQk6F,EAJjB;AAKA,WAAO,IAAIV,GAAJ,CACLY,QAAQ9tC,KAAK,GAAL,GAAWA,IAAI,GAAf,GAAqBA,IAAI,GAAjC,EAAsC6tC,EAAtC,EAA0CD,EAA1C,CADK,EAELE,QAAQ9tC,CAAR,EAAW6tC,EAAX,EAAeD,EAAf,CAFK,EAGLE,QAAQ9tC,IAAI,GAAJ,GAAUA,IAAI,GAAd,GAAoBA,IAAI,GAAhC,EAAqC6tC,EAArC,EAAyCD,EAAzC,CAHK,EAIL,KAAKL,OAJA,CAAP;AAMD,GArB4B;AAsB7BP,eAAa,uBAAW;AACtB,WAAO,CAAC,KAAK,KAAKv3F,CAAV,IAAe,KAAKA,CAAL,IAAU,CAAzB,IAA8Bga,MAAM,KAAKha,CAAX,CAA/B,KACC,KAAK,KAAK/B,CAAV,IAAe,KAAKA,CAAL,IAAU,CAD1B,IAEC,KAAK,KAAK65F,OAAV,IAAqB,KAAKA,OAAL,IAAgB,CAF7C;AAGD;AA1B4B,CAAd,CAAjB;;AA6BA;AACA,SAASO,OAAT,CAAiB9tC,CAAjB,EAAoB6tC,EAApB,EAAwBD,EAAxB,EAA4B;AAC1B,SAAO,CAAC5tC,IAAI,EAAJ,GAAS6tC,KAAK,CAACD,KAAKC,EAAN,IAAY7tC,CAAZ,GAAgB,EAA9B,GACFA,IAAI,GAAJ,GAAU4tC,EAAV,GACA5tC,IAAI,GAAJ,GAAU6tC,KAAK,CAACD,KAAKC,EAAN,KAAa,MAAM7tC,CAAnB,IAAwB,EAAvC,GACA6tC,EAHC,IAGK,GAHZ;AAID,C;;;;;;;;;;;;ACpVD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAEA,IAAI5jE,IAAI,CAAC,OAAT;AAAA,IACII,IAAI,CAAC,OADT;AAAA,IAEI0jE,IAAI,CAAC,OAFT;AAAA,IAGIC,IAAI,CAAC,OAHT;AAAA,IAIIC,IAAI,CAAC,OAJT;AAAA,IAKIC,KAAKD,IAAID,CALb;AAAA,IAMIG,KAAKF,IAAI5jE,CANb;AAAA,IAOI+jE,QAAQ/jE,IAAI0jE,CAAJ,GAAQC,IAAI/jE,CAPxB;;AASA,SAASokE,gBAAT,CAA0Bp6F,CAA1B,EAA6B;AAC3B,MAAIA,aAAaq6F,SAAjB,EAA4B,OAAO,IAAIA,SAAJ,CAAcr6F,EAAE+rD,CAAhB,EAAmB/rD,EAAEwB,CAArB,EAAwBxB,EAAEP,CAA1B,EAA6BO,EAAEs5F,OAA/B,CAAP;AAC5B,MAAI,EAAEt5F,aAAai5F,0CAAf,CAAJ,EAAyBj5F,IAAIq5F,yDAAUA,CAACr5F,CAAX,CAAJ;AACzB,MAAIK,IAAIL,EAAEK,CAAF,GAAM,GAAd;AAAA,MACI+4F,IAAIp5F,EAAEo5F,CAAF,GAAM,GADd;AAAA,MAEIlzE,IAAIlmB,EAAEkmB,CAAF,GAAM,GAFd;AAAA,MAGIzmB,IAAI,CAAC06F,QAAQj0E,CAAR,GAAY+zE,KAAK55F,CAAjB,GAAqB65F,KAAKd,CAA3B,KAAiCe,QAAQF,EAAR,GAAaC,EAA9C,CAHR;AAAA,MAIII,KAAKp0E,IAAIzmB,CAJb;AAAA,MAKI0tF,IAAI,CAAC6M,KAAKZ,IAAI35F,CAAT,IAAcq6F,IAAIQ,EAAnB,IAAyBP,CALjC;AAAA,MAMIv4F,IAAIib,KAAKyQ,IAAL,CAAUigE,IAAIA,CAAJ,GAAQmN,KAAKA,EAAvB,KAA8BN,IAAIv6F,CAAJ,IAAS,IAAIA,CAAb,CAA9B,CANR;AAAA,MAMwD;AACpDssD,MAAIvqD,IAAIib,KAAK89E,KAAL,CAAWpN,CAAX,EAAcmN,EAAd,IAAoBE,6CAApB,GAA8B,GAAlC,GAAwC9Q,GAPhD;AAQA,SAAO,IAAI2Q,SAAJ,CAActuC,IAAI,CAAJ,GAAQA,IAAI,GAAZ,GAAkBA,CAAhC,EAAmCvqD,CAAnC,EAAsC/B,CAAtC,EAAyCO,EAAEs5F,OAA3C,CAAP;AACD;;AAEc,SAASmB,SAAT,CAAmB1uC,CAAnB,EAAsBvqD,CAAtB,EAAyB/B,CAAzB,EAA4B65F,OAA5B,EAAqC;AAClD,SAAO1tF,UAAU3H,MAAV,KAAqB,CAArB,GAAyBm2F,iBAAiBruC,CAAjB,CAAzB,GAA+C,IAAIsuC,SAAJ,CAActuC,CAAd,EAAiBvqD,CAAjB,EAAoB/B,CAApB,EAAuB65F,WAAW,IAAX,GAAkB,CAAlB,GAAsBA,OAA7C,CAAtD;AACD;;AAEM,SAASe,SAAT,CAAmBtuC,CAAnB,EAAsBvqD,CAAtB,EAAyB/B,CAAzB,EAA4B65F,OAA5B,EAAqC;AAC1C,OAAKvtC,CAAL,GAAS,CAACA,CAAV;AACA,OAAKvqD,CAAL,GAAS,CAACA,CAAV;AACA,OAAK/B,CAAL,GAAS,CAACA,CAAV;AACA,OAAK65F,OAAL,GAAe,CAACA,OAAhB;AACD;;AAEDp6F,uDAAMA,CAACm7F,SAAP,EAAkBI,SAAlB,EAA6BlB,sDAAMA,CAAC3K,4CAAP,EAAc;AACzCE,YAAU,kBAAS3B,CAAT,EAAY;AACpBA,QAAIA,KAAK,IAAL,GAAY2B,+CAAZ,GAAuBryE,KAAKuQ,GAAL,CAAS8hE,+CAAT,EAAmB3B,CAAnB,CAA3B;AACA,WAAO,IAAIkN,SAAJ,CAAc,KAAKtuC,CAAnB,EAAsB,KAAKvqD,CAA3B,EAA8B,KAAK/B,CAAL,GAAS0tF,CAAvC,EAA0C,KAAKmM,OAA/C,CAAP;AACD,GAJwC;AAKzCzK,UAAQ,gBAAS1B,CAAT,EAAY;AAClBA,QAAIA,KAAK,IAAL,GAAY0B,6CAAZ,GAAqBpyE,KAAKuQ,GAAL,CAAS6hE,6CAAT,EAAiB1B,CAAjB,CAAzB;AACA,WAAO,IAAIkN,SAAJ,CAAc,KAAKtuC,CAAnB,EAAsB,KAAKvqD,CAA3B,EAA8B,KAAK/B,CAAL,GAAS0tF,CAAvC,EAA0C,KAAKmM,OAA/C,CAAP;AACD,GARwC;AASzC7sC,OAAK,eAAW;AACd,QAAIV,IAAIvwC,MAAM,KAAKuwC,CAAX,IAAgB,CAAhB,GAAoB,CAAC,KAAKA,CAAL,GAAS,GAAV,IAAiB2uC,6CAA7C;AAAA,QACIj7F,IAAI,CAAC,KAAKA,CADd;AAAA,QAEIwmB,IAAIzK,MAAM,KAAKha,CAAX,IAAgB,CAAhB,GAAoB,KAAKA,CAAL,GAAS/B,CAAT,IAAc,IAAIA,CAAlB,CAF5B;AAAA,QAGIk7F,OAAOl+E,KAAKsoC,GAAL,CAASgH,CAAT,CAHX;AAAA,QAII6uC,OAAOn+E,KAAKsiC,GAAL,CAASgN,CAAT,CAJX;AAKA,WAAO,IAAIktC,0CAAJ,CACL,OAAOx5F,IAAIwmB,KAAK+P,IAAI2kE,IAAJ,GAAWvkE,IAAIwkE,IAApB,CAAX,CADK,EAEL,OAAOn7F,IAAIwmB,KAAK6zE,IAAIa,IAAJ,GAAWZ,IAAIa,IAApB,CAAX,CAFK,EAGL,OAAOn7F,IAAIwmB,KAAK+zE,IAAIW,IAAT,CAAX,CAHK,EAIL,KAAKrB,OAJA,CAAP;AAMD;AArBwC,CAAd,CAA7B,E;;;;;;;;;;;;ACtCA;AAAA;AAAe,yEAASjuF,WAAT,EAAsBtM,OAAtB,EAA+BsC,SAA/B,EAA0C;AACvDgK,cAAYhK,SAAZ,GAAwBtC,QAAQsC,SAAR,GAAoBA,SAA5C;AACAA,YAAUgK,WAAV,GAAwBA,WAAxB;AACD;;AAEM,SAASkuF,MAAT,CAAgBzmE,MAAhB,EAAwB+nE,UAAxB,EAAoC;AACzC,MAAIx5F,YAAYpB,OAAOY,MAAP,CAAciyB,OAAOzxB,SAArB,CAAhB;AACA,OAAK,IAAIP,GAAT,IAAgB+5F,UAAhB;AAA4Bx5F,cAAUP,GAAV,IAAiB+5F,WAAW/5F,GAAX,CAAjB;AAA5B,GACA,OAAOO,SAAP;AACD,C;;;;;;;;;;;;ACTD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;ACDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAEA;AACA,IAAIs0B,IAAI,EAAR;AAAA,IACImlE,KAAK,OADT;AAAA,IAEIC,KAAK,CAFT;AAAA,IAGIC,KAAK,OAHT;AAAA,IAIIC,KAAK,IAAI,EAJb;AAAA,IAKIC,KAAK,IAAI,EALb;AAAA,IAMIC,KAAK,IAAID,EAAJ,GAASA,EANlB;AAAA,IAOIE,KAAKF,KAAKA,EAAL,GAAUA,EAPnB;;AASA,SAASG,UAAT,CAAoBr7F,CAApB,EAAuB;AACrB,MAAIA,aAAas7F,GAAjB,EAAsB,OAAO,IAAIA,GAAJ,CAAQt7F,EAAEP,CAAV,EAAaO,EAAEimB,CAAf,EAAkBjmB,EAAEkmB,CAApB,EAAuBlmB,EAAEs5F,OAAzB,CAAP;AACtB,MAAIt5F,aAAau7F,GAAjB,EAAsB;AACpB,QAAI//E,MAAMxb,EAAE+rD,CAAR,CAAJ,EAAgB,OAAO,IAAIuvC,GAAJ,CAAQt7F,EAAEP,CAAV,EAAa,CAAb,EAAgB,CAAhB,EAAmBO,EAAEs5F,OAArB,CAAP;AAChB,QAAIvtC,IAAI/rD,EAAE+rD,CAAF,GAAM2uC,6CAAd;AACA,WAAO,IAAIY,GAAJ,CAAQt7F,EAAEP,CAAV,EAAagd,KAAKsoC,GAAL,CAASgH,CAAT,IAAc/rD,EAAEJ,CAA7B,EAAgC6c,KAAKsiC,GAAL,CAASgN,CAAT,IAAc/rD,EAAEJ,CAAhD,EAAmDI,EAAEs5F,OAArD,CAAP;AACD;AACD,MAAI,EAAEt5F,aAAai5F,0CAAf,CAAJ,EAAyBj5F,IAAIq5F,yDAAUA,CAACr5F,CAAX,CAAJ;AACzB,MAAIK,IAAIm7F,SAASx7F,EAAEK,CAAX,CAAR;AAAA,MACI+4F,IAAIoC,SAASx7F,EAAEo5F,CAAX,CADR;AAAA,MAEIlzE,IAAIs1E,SAASx7F,EAAEkmB,CAAX,CAFR;AAAA,MAGImQ,IAAIolE,QAAQ,CAAC,YAAYp7F,CAAZ,GAAgB,YAAY+4F,CAA5B,GAAgC,YAAYlzE,CAA7C,IAAkD60E,EAA1D,CAHR;AAAA,MAGuEzuE,CAHvE;AAAA,MAG0EovE,CAH1E;AAIA,MAAIr7F,MAAM+4F,CAAN,IAAWA,MAAMlzE,CAArB,EAAwBoG,IAAIovE,IAAIrlE,CAAR,CAAxB,KAAwC;AACtC/J,QAAImvE,QAAQ,CAAC,YAAYp7F,CAAZ,GAAgB,YAAY+4F,CAA5B,GAAgC,YAAYlzE,CAA7C,IAAkD40E,EAA1D,CAAJ;AACAY,QAAID,QAAQ,CAAC,YAAYp7F,CAAZ,GAAgB,YAAY+4F,CAA5B,GAAgC,YAAYlzE,CAA7C,IAAkD80E,EAA1D,CAAJ;AACD;AACD,SAAO,IAAIM,GAAJ,CAAQ,MAAMjlE,CAAN,GAAU,EAAlB,EAAsB,OAAO/J,IAAI+J,CAAX,CAAtB,EAAqC,OAAOA,IAAIqlE,CAAX,CAArC,EAAoD17F,EAAEs5F,OAAtD,CAAP;AACD;;AAEM,SAAStG,IAAT,CAAcvzF,CAAd,EAAiB65F,OAAjB,EAA0B;AAC/B,SAAO,IAAIgC,GAAJ,CAAQ77F,CAAR,EAAW,CAAX,EAAc,CAAd,EAAiB65F,WAAW,IAAX,GAAkB,CAAlB,GAAsBA,OAAvC,CAAP;AACD;;AAEc,SAASqC,GAAT,CAAal8F,CAAb,EAAgBwmB,CAAhB,EAAmBC,CAAnB,EAAsBozE,OAAtB,EAA+B;AAC5C,SAAO1tF,UAAU3H,MAAV,KAAqB,CAArB,GAAyBo3F,WAAW57F,CAAX,CAAzB,GAAyC,IAAI67F,GAAJ,CAAQ77F,CAAR,EAAWwmB,CAAX,EAAcC,CAAd,EAAiBozE,WAAW,IAAX,GAAkB,CAAlB,GAAsBA,OAAvC,CAAhD;AACD;;AAEM,SAASgC,GAAT,CAAa77F,CAAb,EAAgBwmB,CAAhB,EAAmBC,CAAnB,EAAsBozE,OAAtB,EAA+B;AACpC,OAAK75F,CAAL,GAAS,CAACA,CAAV;AACA,OAAKwmB,CAAL,GAAS,CAACA,CAAV;AACA,OAAKC,CAAL,GAAS,CAACA,CAAV;AACA,OAAKozE,OAAL,GAAe,CAACA,OAAhB;AACD;;AAEDp6F,uDAAMA,CAACo8F,GAAP,EAAYK,GAAZ,EAAiBpC,sDAAMA,CAAC3K,4CAAP,EAAc;AAC7BE,YAAU,kBAAS3B,CAAT,EAAY;AACpB,WAAO,IAAImO,GAAJ,CAAQ,KAAK77F,CAAL,GAASk2B,KAAKw3D,KAAK,IAAL,GAAY,CAAZ,GAAgBA,CAArB,CAAjB,EAA0C,KAAKlnE,CAA/C,EAAkD,KAAKC,CAAvD,EAA0D,KAAKozE,OAA/D,CAAP;AACD,GAH4B;AAI7BzK,UAAQ,gBAAS1B,CAAT,EAAY;AAClB,WAAO,IAAImO,GAAJ,CAAQ,KAAK77F,CAAL,GAASk2B,KAAKw3D,KAAK,IAAL,GAAY,CAAZ,GAAgBA,CAArB,CAAjB,EAA0C,KAAKlnE,CAA/C,EAAkD,KAAKC,CAAvD,EAA0D,KAAKozE,OAA/D,CAAP;AACD,GAN4B;AAO7B7sC,OAAK,eAAW;AACd,QAAIp2B,IAAI,CAAC,KAAK52B,CAAL,GAAS,EAAV,IAAgB,GAAxB;AAAA,QACI6sB,IAAI9Q,MAAM,KAAKyK,CAAX,IAAgBoQ,CAAhB,GAAoBA,IAAI,KAAKpQ,CAAL,GAAS,GADzC;AAAA,QAEIy1E,IAAIlgF,MAAM,KAAK0K,CAAX,IAAgBmQ,CAAhB,GAAoBA,IAAI,KAAKnQ,CAAL,GAAS,GAFzC;AAGAoG,QAAIwuE,KAAKc,QAAQtvE,CAAR,CAAT;AACA+J,QAAI0kE,KAAKa,QAAQvlE,CAAR,CAAT;AACAqlE,QAAIV,KAAKY,QAAQF,CAAR,CAAT;AACA,WAAO,IAAIzC,0CAAJ,CACL4C,SAAU,YAAYvvE,CAAZ,GAAgB,YAAY+J,CAA5B,GAAgC,YAAYqlE,CAAtD,CADK,EAELG,SAAS,CAAC,SAAD,GAAavvE,CAAb,GAAiB,YAAY+J,CAA7B,GAAiC,YAAYqlE,CAAtD,CAFK,EAGLG,SAAU,YAAYvvE,CAAZ,GAAgB,YAAY+J,CAA5B,GAAgC,YAAYqlE,CAAtD,CAHK,EAIL,KAAKpC,OAJA,CAAP;AAMD;AApB4B,CAAd,CAAjB;;AAuBA,SAASmC,OAAT,CAAiBh7F,CAAjB,EAAoB;AAClB,SAAOA,IAAI26F,EAAJ,GAAS3+E,KAAKuQ,GAAL,CAASvsB,CAAT,EAAY,IAAI,CAAhB,CAAT,GAA8BA,IAAI06F,EAAJ,GAASF,EAA9C;AACD;;AAED,SAASW,OAAT,CAAiBn7F,CAAjB,EAAoB;AAClB,SAAOA,IAAIy6F,EAAJ,GAASz6F,IAAIA,CAAJ,GAAQA,CAAjB,GAAqB06F,MAAM16F,IAAIw6F,EAAV,CAA5B;AACD;;AAED,SAASY,QAAT,CAAkBvvE,CAAlB,EAAqB;AACnB,SAAO,OAAOA,KAAK,SAAL,GAAiB,QAAQA,CAAzB,GAA6B,QAAQ7P,KAAKuQ,GAAL,CAASV,CAAT,EAAY,IAAI,GAAhB,CAAR,GAA+B,KAAnE,CAAP;AACD;;AAED,SAASkvE,QAAT,CAAkBlvE,CAAlB,EAAqB;AACnB,SAAO,CAACA,KAAK,GAAN,KAAc,OAAd,GAAwBA,IAAI,KAA5B,GAAoC7P,KAAKuQ,GAAL,CAAS,CAACV,IAAI,KAAL,IAAc,KAAvB,EAA8B,GAA9B,CAA3C;AACD;;AAED,SAASwvE,UAAT,CAAoB97F,CAApB,EAAuB;AACrB,MAAIA,aAAau7F,GAAjB,EAAsB,OAAO,IAAIA,GAAJ,CAAQv7F,EAAE+rD,CAAV,EAAa/rD,EAAEJ,CAAf,EAAkBI,EAAEP,CAApB,EAAuBO,EAAEs5F,OAAzB,CAAP;AACtB,MAAI,EAAEt5F,aAAas7F,GAAf,CAAJ,EAAyBt7F,IAAIq7F,WAAWr7F,CAAX,CAAJ;AACzB,MAAIA,EAAEimB,CAAF,KAAQ,CAAR,IAAajmB,EAAEkmB,CAAF,KAAQ,CAAzB,EAA4B,OAAO,IAAIq1E,GAAJ,CAAQ7R,GAAR,EAAa,CAAb,EAAgB1pF,EAAEP,CAAlB,EAAqBO,EAAEs5F,OAAvB,CAAP;AAC5B,MAAIvtC,IAAItvC,KAAK89E,KAAL,CAAWv6F,EAAEkmB,CAAb,EAAgBlmB,EAAEimB,CAAlB,IAAuBu0E,6CAA/B;AACA,SAAO,IAAIe,GAAJ,CAAQxvC,IAAI,CAAJ,GAAQA,IAAI,GAAZ,GAAkBA,CAA1B,EAA6BtvC,KAAKyQ,IAAL,CAAUltB,EAAEimB,CAAF,GAAMjmB,EAAEimB,CAAR,GAAYjmB,EAAEkmB,CAAF,GAAMlmB,EAAEkmB,CAA9B,CAA7B,EAA+DlmB,EAAEP,CAAjE,EAAoEO,EAAEs5F,OAAtE,CAAP;AACD;;AAEM,SAASyC,GAAT,CAAat8F,CAAb,EAAgBG,CAAhB,EAAmBmsD,CAAnB,EAAsButC,OAAtB,EAA+B;AACpC,SAAO1tF,UAAU3H,MAAV,KAAqB,CAArB,GAAyB63F,WAAWr8F,CAAX,CAAzB,GAAyC,IAAI87F,GAAJ,CAAQxvC,CAAR,EAAWnsD,CAAX,EAAcH,CAAd,EAAiB65F,WAAW,IAAX,GAAkB,CAAlB,GAAsBA,OAAvC,CAAhD;AACD;;AAEM,SAAS0C,GAAT,CAAajwC,CAAb,EAAgBnsD,CAAhB,EAAmBH,CAAnB,EAAsB65F,OAAtB,EAA+B;AACpC,SAAO1tF,UAAU3H,MAAV,KAAqB,CAArB,GAAyB63F,WAAW/vC,CAAX,CAAzB,GAAyC,IAAIwvC,GAAJ,CAAQxvC,CAAR,EAAWnsD,CAAX,EAAcH,CAAd,EAAiB65F,WAAW,IAAX,GAAkB,CAAlB,GAAsBA,OAAvC,CAAhD;AACD;;AAEM,SAASiC,GAAT,CAAaxvC,CAAb,EAAgBnsD,CAAhB,EAAmBH,CAAnB,EAAsB65F,OAAtB,EAA+B;AACpC,OAAKvtC,CAAL,GAAS,CAACA,CAAV;AACA,OAAKnsD,CAAL,GAAS,CAACA,CAAV;AACA,OAAKH,CAAL,GAAS,CAACA,CAAV;AACA,OAAK65F,OAAL,GAAe,CAACA,OAAhB;AACD;;AAEDp6F,uDAAMA,CAACq8F,GAAP,EAAYS,GAAZ,EAAiBzC,sDAAMA,CAAC3K,4CAAP,EAAc;AAC7BE,YAAU,kBAAS3B,CAAT,EAAY;AACpB,WAAO,IAAIoO,GAAJ,CAAQ,KAAKxvC,CAAb,EAAgB,KAAKnsD,CAArB,EAAwB,KAAKH,CAAL,GAASk2B,KAAKw3D,KAAK,IAAL,GAAY,CAAZ,GAAgBA,CAArB,CAAjC,EAA0D,KAAKmM,OAA/D,CAAP;AACD,GAH4B;AAI7BzK,UAAQ,gBAAS1B,CAAT,EAAY;AAClB,WAAO,IAAIoO,GAAJ,CAAQ,KAAKxvC,CAAb,EAAgB,KAAKnsD,CAArB,EAAwB,KAAKH,CAAL,GAASk2B,KAAKw3D,KAAK,IAAL,GAAY,CAAZ,GAAgBA,CAArB,CAAjC,EAA0D,KAAKmM,OAA/D,CAAP;AACD,GAN4B;AAO7B7sC,OAAK,eAAW;AACd,WAAO4uC,WAAW,IAAX,EAAiB5uC,GAAjB,EAAP;AACD;AAT4B,CAAd,CAAjB,E;;;;;;;;;;;;AC9GA;AAAA;AAAA;AAAO,IAAIiuC,UAAUj+E,KAAKqoC,EAAL,GAAU,GAAxB;AACA,IAAI01C,UAAU,MAAM/9E,KAAKqoC,EAAzB,C;;;;;;;;;;;;ACDP;AAAA,IAAIm3C,OAAO,EAACz7F,OAAO,iBAAW,CAAE,CAArB,EAAX;;AAEA,SAASomE,QAAT,GAAoB;AAClB,OAAK,IAAIpnE,IAAI,CAAR,EAAWwB,IAAI4K,UAAU3H,MAAzB,EAAiCie,IAAI,EAArC,EAAyCzhB,CAA9C,EAAiDjB,IAAIwB,CAArD,EAAwD,EAAExB,CAA1D,EAA6D;AAC3D,QAAI,EAAEiB,IAAImL,UAAUpM,CAAV,IAAe,EAArB,KAA6BiB,KAAKyhB,CAAtC,EAA0C,MAAM,IAAI/a,KAAJ,CAAU,mBAAmB1G,CAA7B,CAAN;AAC1CyhB,MAAEzhB,CAAF,IAAO,EAAP;AACD;AACD,SAAO,IAAIy7F,QAAJ,CAAah6E,CAAb,CAAP;AACD;;AAED,SAASg6E,QAAT,CAAkBh6E,CAAlB,EAAqB;AACnB,OAAKA,CAAL,GAASA,CAAT;AACD;;AAED,SAASi6E,cAAT,CAAwBC,SAAxB,EAAmCC,KAAnC,EAA0C;AACxC,SAAOD,UAAU/gF,IAAV,GAAiB4D,KAAjB,CAAuB,OAAvB,EAAgCrc,GAAhC,CAAoC,UAASnC,CAAT,EAAY;AACrD,QAAIX,OAAO,EAAX;AAAA,QAAeN,IAAIiB,EAAEiN,OAAF,CAAU,GAAV,CAAnB;AACA,QAAIlO,KAAK,CAAT,EAAYM,OAAOW,EAAE8D,KAAF,CAAQ/E,IAAI,CAAZ,CAAP,EAAuBiB,IAAIA,EAAE8D,KAAF,CAAQ,CAAR,EAAW/E,CAAX,CAA3B;AACZ,QAAIiB,KAAK,CAAC47F,MAAM/6F,cAAN,CAAqBb,CAArB,CAAV,EAAmC,MAAM,IAAI0G,KAAJ,CAAU,mBAAmB1G,CAA7B,CAAN;AACnC,WAAO,EAACuO,MAAMvO,CAAP,EAAUX,MAAMA,IAAhB,EAAP;AACD,GALM,CAAP;AAMD;;AAEDo8F,SAAS76F,SAAT,GAAqBulE,SAASvlE,SAAT,GAAqB;AACxCgK,eAAa6wF,QAD2B;AAExCrpF,MAAI,YAASypF,QAAT,EAAmBvpF,QAAnB,EAA6B;AAC/B,QAAImP,IAAI,KAAKA,CAAb;AAAA,QACIq6E,IAAIJ,eAAeG,WAAW,EAA1B,EAA8Bp6E,CAA9B,CADR;AAAA,QAEIzhB,CAFJ;AAAA,QAGIjB,IAAI,CAAC,CAHT;AAAA,QAIIwB,IAAIu7F,EAAEt4F,MAJV;;AAMA;AACA,QAAI2H,UAAU3H,MAAV,GAAmB,CAAvB,EAA0B;AACxB,aAAO,EAAEzE,CAAF,GAAMwB,CAAb;AAAgB,YAAI,CAACP,IAAI,CAAC67F,WAAWC,EAAE/8F,CAAF,CAAZ,EAAkBwP,IAAvB,MAAiCvO,IAAIL,IAAI8hB,EAAEzhB,CAAF,CAAJ,EAAU67F,SAASx8F,IAAnB,CAArC,CAAJ,EAAoE,OAAOW,CAAP;AAApF,OACA;AACD;;AAED;AACA;AACA,QAAIsS,YAAY,IAAZ,IAAoB,OAAOA,QAAP,KAAoB,UAA5C,EAAwD,MAAM,IAAI5L,KAAJ,CAAU,uBAAuB4L,QAAjC,CAAN;AACxD,WAAO,EAAEvT,CAAF,GAAMwB,CAAb,EAAgB;AACd,UAAIP,IAAI,CAAC67F,WAAWC,EAAE/8F,CAAF,CAAZ,EAAkBwP,IAA1B,EAAgCkT,EAAEzhB,CAAF,IAAOopB,IAAI3H,EAAEzhB,CAAF,CAAJ,EAAU67F,SAASx8F,IAAnB,EAAyBiT,QAAzB,CAAP,CAAhC,KACK,IAAIA,YAAY,IAAhB,EAAsB,KAAKtS,CAAL,IAAUyhB,CAAV;AAAaA,UAAEzhB,CAAF,IAAOopB,IAAI3H,EAAEzhB,CAAF,CAAJ,EAAU67F,SAASx8F,IAAnB,EAAyB,IAAzB,CAAP;AAAb;AAC5B;;AAED,WAAO,IAAP;AACD,GAxBuC;AAyBxCwtF,QAAM,gBAAW;AACf,QAAIA,OAAO,EAAX;AAAA,QAAeprE,IAAI,KAAKA,CAAxB;AACA,SAAK,IAAIzhB,CAAT,IAAcyhB,CAAd;AAAiBorE,WAAK7sF,CAAL,IAAUyhB,EAAEzhB,CAAF,EAAK8D,KAAL,EAAV;AAAjB,KACA,OAAO,IAAI23F,QAAJ,CAAa5O,IAAb,CAAP;AACD,GA7BuC;AA8BxC5tF,QAAM,cAASsP,IAAT,EAAewtF,IAAf,EAAqB;AACzB,QAAI,CAACx7F,IAAI4K,UAAU3H,MAAV,GAAmB,CAAxB,IAA6B,CAAjC,EAAoC,KAAK,IAAI4H,OAAO,IAAItE,KAAJ,CAAUvG,CAAV,CAAX,EAAyBxB,IAAI,CAA7B,EAAgCwB,CAAhC,EAAmCP,CAAxC,EAA2CjB,IAAIwB,CAA/C,EAAkD,EAAExB,CAApD;AAAuDqM,WAAKrM,CAAL,IAAUoM,UAAUpM,IAAI,CAAd,CAAV;AAAvD,KACpC,IAAI,CAAC,KAAK0iB,CAAL,CAAO5gB,cAAP,CAAsB0N,IAAtB,CAAL,EAAkC,MAAM,IAAI7H,KAAJ,CAAU,mBAAmB6H,IAA7B,CAAN;AAClC,SAAKvO,IAAI,KAAKyhB,CAAL,CAAOlT,IAAP,CAAJ,EAAkBxP,IAAI,CAAtB,EAAyBwB,IAAIP,EAAEwD,MAApC,EAA4CzE,IAAIwB,CAAhD,EAAmD,EAAExB,CAArD;AAAwDiB,QAAEjB,CAAF,EAAKgB,KAAL,CAAWyH,KAAX,CAAiBu0F,IAAjB,EAAuB3wF,IAAvB;AAAxD;AACD,GAlCuC;AAmCxC5D,SAAO,eAAS+G,IAAT,EAAewtF,IAAf,EAAqB3wF,IAArB,EAA2B;AAChC,QAAI,CAAC,KAAKqW,CAAL,CAAO5gB,cAAP,CAAsB0N,IAAtB,CAAL,EAAkC,MAAM,IAAI7H,KAAJ,CAAU,mBAAmB6H,IAA7B,CAAN;AAClC,SAAK,IAAIvO,IAAI,KAAKyhB,CAAL,CAAOlT,IAAP,CAAR,EAAsBxP,IAAI,CAA1B,EAA6BwB,IAAIP,EAAEwD,MAAxC,EAAgDzE,IAAIwB,CAApD,EAAuD,EAAExB,CAAzD;AAA4DiB,QAAEjB,CAAF,EAAKgB,KAAL,CAAWyH,KAAX,CAAiBu0F,IAAjB,EAAuB3wF,IAAvB;AAA5D;AACD;AAtCuC,CAA1C;;AAyCA,SAASzL,GAAT,CAAa4O,IAAb,EAAmBlP,IAAnB,EAAyB;AACvB,OAAK,IAAIN,IAAI,CAAR,EAAWwB,IAAIgO,KAAK/K,MAApB,EAA4BrE,CAAjC,EAAoCJ,IAAIwB,CAAxC,EAA2C,EAAExB,CAA7C,EAAgD;AAC9C,QAAI,CAACI,IAAIoP,KAAKxP,CAAL,CAAL,EAAcM,IAAd,KAAuBA,IAA3B,EAAiC;AAC/B,aAAOF,EAAEY,KAAT;AACD;AACF;AACF;;AAED,SAASqpB,GAAT,CAAa7a,IAAb,EAAmBlP,IAAnB,EAAyBiT,QAAzB,EAAmC;AACjC,OAAK,IAAIvT,IAAI,CAAR,EAAWwB,IAAIgO,KAAK/K,MAAzB,EAAiCzE,IAAIwB,CAArC,EAAwC,EAAExB,CAA1C,EAA6C;AAC3C,QAAIwP,KAAKxP,CAAL,EAAQM,IAAR,KAAiBA,IAArB,EAA2B;AACzBkP,WAAKxP,CAAL,IAAUy8F,IAAV,EAAgBjtF,OAAOA,KAAKzK,KAAL,CAAW,CAAX,EAAc/E,CAAd,EAAiBkF,MAAjB,CAAwBsK,KAAKzK,KAAL,CAAW/E,IAAI,CAAf,CAAxB,CAAvB;AACA;AACD;AACF;AACD,MAAIuT,YAAY,IAAhB,EAAsB/D,KAAKxL,IAAL,CAAU,EAAC1D,MAAMA,IAAP,EAAaU,OAAOuS,QAApB,EAAV;AACtB,SAAO/D,IAAP;AACD;;AAEc43D,uEAAf,E;;;;;;;;;;;;ACnFA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAe,yEAASt6C,CAAT,EAAY;AACzB,SAAO,YAAW;AAChB,WAAOA,CAAP;AACD,GAFD;AAGD,C;;;;;;;;;;;;ACJD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAASmwE,aAAT,GAAyB;AACvB,SAAO,CAACh+B,kDAAKA,CAACi+B,MAAd;AACD;;AAED,SAASC,gBAAT,GAA4B;AAC1B,SAAO,KAAK9O,UAAZ;AACD;;AAED,SAAS+O,cAAT,CAAwB/8F,CAAxB,EAA2B;AACzB,SAAOA,KAAK,IAAL,GAAY,EAACysB,GAAGmyC,kDAAKA,CAACnyC,CAAV,EAAa+J,GAAGooC,kDAAKA,CAACpoC,CAAtB,EAAZ,GAAuCx2B,CAA9C;AACD;;AAED,SAASg9F,gBAAT,GAA4B;AAC1B,SAAO,kBAAkB,IAAzB;AACD;;AAEc,2EAAW;AACxB,MAAIn7E,SAAS+6E,aAAb;AAAA,MACIpqB,YAAYsqB,gBADhB;AAAA,MAEIt6B,UAAUu6B,cAFd;AAAA,MAGIE,YAAYD,gBAHhB;AAAA,MAIIE,WAAW,EAJf;AAAA,MAKIjgE,YAAY8pC,4DAAQA,CAAC,OAAT,EAAkB,MAAlB,EAA0B,KAA1B,CALhB;AAAA,MAMIo2B,SAAS,CANb;AAAA,MAOIC,UAPJ;AAAA,MAQIC,UARJ;AAAA,MASIC,WATJ;AAAA,MAUIC,WAVJ;AAAA,MAWIC,iBAAiB,CAXrB;;AAaA,WAASx+B,IAAT,CAAciT,SAAd,EAAyB;AACvBA,cACKj/D,EADL,CACQ,gBADR,EAC0ByqF,WAD1B,EAEG57E,MAFH,CAEUo7E,SAFV,EAGKjqF,EAHL,CAGQ,iBAHR,EAG2B0qF,YAH3B,EAIK1qF,EAJL,CAIQ,gBAJR,EAI0B2qF,UAJ1B,EAKK3qF,EALL,CAKQ,gCALR,EAK0C4qF,UAL1C,EAMK/pD,KANL,CAMW,cANX,EAM2B,MAN3B,EAOKA,KAPL,CAOW,6BAPX,EAO0C,eAP1C;AAQD;;AAED,WAAS4pD,WAAT,GAAuB;AACrB,QAAIF,eAAe,CAAC17E,OAAOzZ,KAAP,CAAa,IAAb,EAAmB2D,SAAnB,CAApB,EAAmD;AACnD,QAAI8xF,UAAUC,YAAY,OAAZ,EAAqBtrB,UAAUpqE,KAAV,CAAgB,IAAhB,EAAsB2D,SAAtB,CAArB,EAAuDgyF,kDAAvD,EAA8D,IAA9D,EAAoEhyF,SAApE,CAAd;AACA,QAAI,CAAC8xF,OAAL,EAAc;AACdznF,+DAAMA,CAACwoD,kDAAKA,CAACo/B,IAAb,EAAmBhrF,EAAnB,CAAsB,gBAAtB,EAAwCirF,UAAxC,EAAoD,IAApD,EAA0DjrF,EAA1D,CAA6D,cAA7D,EAA6EkrF,UAA7E,EAAyF,IAAzF;AACAC,2DAAMA,CAACv/B,kDAAKA,CAACo/B,IAAb;AACAI,kEAAaA;AACbd,kBAAc,KAAd;AACAF,iBAAax+B,kDAAKA,CAACy/B,OAAnB;AACAhB,iBAAaz+B,kDAAKA,CAAC0/B,OAAnB;AACAT,YAAQ,OAAR;AACD;;AAED,WAASI,UAAT,GAAsB;AACpBM,4DAAOA;AACP,QAAI,CAACjB,WAAL,EAAkB;AAChB,UAAI56B,KAAK9D,kDAAKA,CAACy/B,OAAN,GAAgBjB,UAAzB;AAAA,UAAqCz6B,KAAK/D,kDAAKA,CAAC0/B,OAAN,GAAgBjB,UAA1D;AACAC,oBAAc56B,KAAKA,EAAL,GAAUC,KAAKA,EAAf,GAAoB66B,cAAlC;AACD;AACDN,aAASa,KAAT,CAAe,MAAf;AACD;;AAED,WAASG,UAAT,GAAsB;AACpB9nF,+DAAMA,CAACwoD,kDAAKA,CAACo/B,IAAb,EAAmBhrF,EAAnB,CAAsB,6BAAtB,EAAqD,IAArD;AACAwrF,2DAAOA,CAAC5/B,kDAAKA,CAACo/B,IAAd,EAAoBV,WAApB;AACAiB,4DAAOA;AACPrB,aAASa,KAAT,CAAe,KAAf;AACD;;AAED,WAASL,YAAT,GAAwB;AACtB,QAAI,CAAC77E,OAAOzZ,KAAP,CAAa,IAAb,EAAmB2D,SAAnB,CAAL,EAAoC;AACpC,QAAIu1D,UAAU1C,kDAAKA,CAAC6/B,cAApB;AAAA,QACI1+F,IAAIyyE,UAAUpqE,KAAV,CAAgB,IAAhB,EAAsB2D,SAAtB,CADR;AAAA,QAEI5K,IAAImgE,QAAQl9D,MAFhB;AAAA,QAEwBzE,CAFxB;AAAA,QAE2Bk+F,OAF3B;;AAIA,SAAKl+F,IAAI,CAAT,EAAYA,IAAIwB,CAAhB,EAAmB,EAAExB,CAArB,EAAwB;AACtB,UAAIk+F,UAAUC,YAAYx8B,QAAQ3hE,CAAR,EAAW++F,UAAvB,EAAmC3+F,CAAnC,EAAsC4gE,kDAAtC,EAA6C,IAA7C,EAAmD50D,SAAnD,CAAd,EAA6E;AAC3EqyF,sEAAaA;AACbP,gBAAQ,OAAR;AACD;AACF;AACF;;AAED,WAASF,UAAT,GAAsB;AACpB,QAAIr8B,UAAU1C,kDAAKA,CAAC6/B,cAApB;AAAA,QACIt9F,IAAImgE,QAAQl9D,MADhB;AAAA,QACwBzE,CADxB;AAAA,QAC2Bk+F,OAD3B;;AAGA,SAAKl+F,IAAI,CAAT,EAAYA,IAAIwB,CAAhB,EAAmB,EAAExB,CAArB,EAAwB;AACtB,UAAIk+F,UAAUX,SAAS57B,QAAQ3hE,CAAR,EAAW++F,UAApB,CAAd,EAA+C;AAC7CH,gEAAOA;AACPV,gBAAQ,MAAR;AACD;AACF;AACF;;AAED,WAASD,UAAT,GAAsB;AACpB,QAAIt8B,UAAU1C,kDAAKA,CAAC6/B,cAApB;AAAA,QACIt9F,IAAImgE,QAAQl9D,MADhB;AAAA,QACwBzE,CADxB;AAAA,QAC2Bk+F,OAD3B;;AAGA,QAAIN,WAAJ,EAAiBoB,aAAapB,WAAb;AACjBA,kBAAc54D,WAAW,YAAW;AAAE44D,oBAAc,IAAd;AAAqB,KAA7C,EAA+C,GAA/C,CAAd,CALoB,CAK+C;AACnE,SAAK59F,IAAI,CAAT,EAAYA,IAAIwB,CAAhB,EAAmB,EAAExB,CAArB,EAAwB;AACtB,UAAIk+F,UAAUX,SAAS57B,QAAQ3hE,CAAR,EAAW++F,UAApB,CAAd,EAA+C;AAC7CN,sEAAaA;AACbP,gBAAQ,KAAR;AACD;AACF;AACF;;AAED,WAASC,WAAT,CAAqBvqD,EAArB,EAAyBi/B,SAAzB,EAAoCosB,KAApC,EAA2CjC,IAA3C,EAAiD3wF,IAAjD,EAAuD;AACrD,QAAItK,IAAIk9F,MAAMpsB,SAAN,EAAiBj/B,EAAjB,CAAR;AAAA,QAA8B5xC,CAA9B;AAAA,QAAiC+gE,EAAjC;AAAA,QAAqCC,EAArC;AAAA,QACIk8B,eAAe5hE,UAAUwwD,IAAV,EADnB;;AAGA,QAAI,CAACqR,gEAAWA,CAAC,IAAIC,8CAAJ,CAAc//B,IAAd,EAAoB,aAApB,EAAmCr9D,CAAnC,EAAsC4xC,EAAtC,EAA0C4pD,MAA1C,EAAkDz7F,EAAE,CAAF,CAAlD,EAAwDA,EAAE,CAAF,CAAxD,EAA8D,CAA9D,EAAiE,CAAjE,EAAoEm9F,YAApE,CAAZ,EAA+F,YAAW;AAC7G,UAAI,CAACjgC,kDAAKA,CAAC4D,OAAN,GAAgB7gE,IAAI6gE,QAAQp6D,KAAR,CAAcu0F,IAAd,EAAoB3wF,IAApB,CAArB,KAAmD,IAAvD,EAA6D,OAAO,KAAP;AAC7D02D,WAAK/gE,EAAE8qB,CAAF,GAAM/qB,EAAE,CAAF,CAAN,IAAc,CAAnB;AACAihE,WAAKhhE,EAAE60B,CAAF,GAAM90B,EAAE,CAAF,CAAN,IAAc,CAAnB;AACA,aAAO,IAAP;AACD,KALI,CAAL,EAKI;;AAEJ,WAAO,SAASm8F,OAAT,CAAiB1uF,IAAjB,EAAuB;AAC5B,UAAI6vF,KAAKt9F,CAAT;AAAA,UAAYP,CAAZ;AACA,cAAQgO,IAAR;AACE,aAAK,OAAL;AAAc+tF,mBAAS3pD,EAAT,IAAesqD,OAAf,EAAwB18F,IAAIg8F,QAA5B,CAAsC;AACpD,aAAK,KAAL;AAAY,iBAAOD,SAAS3pD,EAAT,CAAP,EAAqB,EAAE4pD,MAAvB,CAFd,CAE6C;AAC3C,aAAK,MAAL;AAAaz7F,cAAIk9F,MAAMpsB,SAAN,EAAiBj/B,EAAjB,CAAJ,EAA0BpyC,IAAIg8F,MAA9B,CAAsC;AAHrD;AAKA2B,sEAAWA,CAAC,IAAIC,8CAAJ,CAAc//B,IAAd,EAAoB7vD,IAApB,EAA0BxN,CAA1B,EAA6B4xC,EAA7B,EAAiCpyC,CAAjC,EAAoCO,EAAE,CAAF,IAAOghE,EAA3C,EAA+ChhE,EAAE,CAAF,IAAOihE,EAAtD,EAA0DjhE,EAAE,CAAF,IAAOs9F,GAAG,CAAH,CAAjE,EAAwEt9F,EAAE,CAAF,IAAOs9F,GAAG,CAAH,CAA/E,EAAsFH,YAAtF,CAAZ,EAAiHA,aAAaz2F,KAA9H,EAAqIy2F,YAArI,EAAmJ,CAAC1vF,IAAD,EAAOwtF,IAAP,EAAa3wF,IAAb,CAAnJ;AACD,KARD;AASD;;AAEDgzD,OAAKn9C,MAAL,GAAc,UAASQ,CAAT,EAAY;AACxB,WAAOtW,UAAU3H,MAAV,IAAoByd,SAAS,OAAOQ,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAAC,CAACjpE,CAAX,CAAvC,EAAsD28C,IAA1E,IAAkFn9C,MAAzF;AACD,GAFD;;AAIAm9C,OAAKwT,SAAL,GAAiB,UAASnwD,CAAT,EAAY;AAC3B,WAAOtW,UAAU3H,MAAV,IAAoBouE,YAAY,OAAOnwD,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAACjpE,CAAT,CAA1C,EAAuD28C,IAA3E,IAAmFwT,SAA1F;AACD,GAFD;;AAIAxT,OAAKwD,OAAL,GAAe,UAASngD,CAAT,EAAY;AACzB,WAAOtW,UAAU3H,MAAV,IAAoBo+D,UAAU,OAAOngD,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAACjpE,CAAT,CAAxC,EAAqD28C,IAAzE,IAAiFwD,OAAxF;AACD,GAFD;;AAIAxD,OAAKi+B,SAAL,GAAiB,UAAS56E,CAAT,EAAY;AAC3B,WAAOtW,UAAU3H,MAAV,IAAoB64F,YAAY,OAAO56E,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAAC,CAACjpE,CAAX,CAA1C,EAAyD28C,IAA7E,IAAqFi+B,SAA5F;AACD,GAFD;;AAIAj+B,OAAKhsD,EAAL,GAAU,YAAW;AACnB,QAAIrS,QAAQs8B,UAAUjqB,EAAV,CAAa5K,KAAb,CAAmB60B,SAAnB,EAA8BlxB,SAA9B,CAAZ;AACA,WAAOpL,UAAUs8B,SAAV,GAAsB+hC,IAAtB,GAA6Br+D,KAApC;AACD,GAHD;;AAKAq+D,OAAKigC,aAAL,GAAqB,UAAS58E,CAAT,EAAY;AAC/B,WAAOtW,UAAU3H,MAAV,IAAoBo5F,iBAAiB,CAACn7E,IAAI,CAACA,CAAN,IAAWA,CAA5B,EAA+B28C,IAAnD,IAA2DpiD,KAAKyQ,IAAL,CAAUmwE,cAAV,CAAlE;AACD,GAFD;;AAIA,SAAOx+B,IAAP;AACD,C;;;;;;;;;;;;ACtKD;AAAA;AAAe,SAAS+/B,SAAT,CAAmBv0F,MAAnB,EAA2B2E,IAA3B,EAAiCqzD,OAAjC,EAA0CjvB,EAA1C,EAA8C4pD,MAA9C,EAAsD1wE,CAAtD,EAAyD+J,CAAzD,EAA4DksC,EAA5D,EAAgEC,EAAhE,EAAoEoE,QAApE,EAA8E;AAC3F,OAAKv8D,MAAL,GAAcA,MAAd;AACA,OAAK2E,IAAL,GAAYA,IAAZ;AACA,OAAKqzD,OAAL,GAAeA,OAAf;AACA,OAAKk8B,UAAL,GAAkBnrD,EAAlB;AACA,OAAK4pD,MAAL,GAAcA,MAAd;AACA,OAAK1wE,CAAL,GAASA,CAAT;AACA,OAAK+J,CAAL,GAASA,CAAT;AACA,OAAKksC,EAAL,GAAUA,EAAV;AACA,OAAKC,EAAL,GAAUA,EAAV;AACA,OAAKtgD,CAAL,GAAS0kD,QAAT;AACD;;AAEDg4B,UAAUv9F,SAAV,CAAoBwR,EAApB,GAAyB,YAAW;AAClC,MAAIrS,QAAQ,KAAK0hB,CAAL,CAAOrP,EAAP,CAAU5K,KAAV,CAAgB,KAAKia,CAArB,EAAwBtW,SAAxB,CAAZ;AACA,SAAOpL,UAAU,KAAK0hB,CAAf,GAAmB,IAAnB,GAA0B1hB,KAAjC;AACD,CAHD,C;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEe,yEAASq9F,IAAT,EAAe;AAC5B,MAAI/+F,OAAO++F,KAAKtd,QAAL,CAAcwe,eAAzB;AAAA,MACIjtB,YAAY77D,2DAAMA,CAAC4nF,IAAP,EAAahrF,EAAb,CAAgB,gBAAhB,EAAkCurF,gDAAlC,EAA2C,IAA3C,CADhB;AAEA,MAAI,mBAAmBt/F,IAAvB,EAA6B;AAC3BgzE,cAAUj/D,EAAV,CAAa,kBAAb,EAAiCurF,gDAAjC,EAA0C,IAA1C;AACD,GAFD,MAEO;AACLt/F,SAAKkgG,UAAL,GAAkBlgG,KAAK40C,KAAL,CAAWurD,aAA7B;AACAngG,SAAK40C,KAAL,CAAWurD,aAAX,GAA2B,MAA3B;AACD;AACF;;AAEM,SAASZ,OAAT,CAAiBR,IAAjB,EAAuBqB,OAAvB,EAAgC;AACrC,MAAIpgG,OAAO++F,KAAKtd,QAAL,CAAcwe,eAAzB;AAAA,MACIjtB,YAAY77D,2DAAMA,CAAC4nF,IAAP,EAAahrF,EAAb,CAAgB,gBAAhB,EAAkC,IAAlC,CADhB;AAEA,MAAIqsF,OAAJ,EAAa;AACXptB,cAAUj/D,EAAV,CAAa,YAAb,EAA2BurF,gDAA3B,EAAoC,IAApC;AACA55D,eAAW,YAAW;AAAEstC,gBAAUj/D,EAAV,CAAa,YAAb,EAA2B,IAA3B;AAAmC,KAA3D,EAA6D,CAA7D;AACD;AACD,MAAI,mBAAmB/T,IAAvB,EAA6B;AAC3BgzE,cAAUj/D,EAAV,CAAa,kBAAb,EAAiC,IAAjC;AACD,GAFD,MAEO;AACL/T,SAAK40C,KAAL,CAAWurD,aAAX,GAA2BngG,KAAKkgG,UAAhC;AACA,WAAOlgG,KAAKkgG,UAAZ;AACD;AACF,C;;;;;;;;;;;;AC3BD;AAAA;AAAA;AAAA;;AAEO,SAASf,aAAT,GAAyB;AAC9Bx/B,oDAAKA,CAAC0gC,wBAAN;AACD;;AAEc,2EAAW;AACxB1gC,oDAAKA,CAAC2gC,cAAN;AACA3gC,oDAAKA,CAAC0gC,wBAAN;AACD,C;;;;;;;;;;;;ACTD;AAAA;AAAA;AAAA;AAAA,IAAIE,YAAY,OAAhB;;AAEO,IAAIC,SAAU,SAASC,MAAT,CAAgB/9F,CAAhB,EAAmB;AACtCA,MAAI,CAACA,CAAL;;AAEA,WAAS89F,MAAT,CAAgB7+F,CAAhB,EAAmB;AACjB,WAAOA,IAAIA,CAAJ,IAAS,CAACe,IAAI,CAAL,IAAUf,CAAV,GAAce,CAAvB,CAAP;AACD;;AAED89F,SAAOD,SAAP,GAAmBE,MAAnB;;AAEA,SAAOD,MAAP;AACD,CAVmB,CAUjBD,SAViB,CAAb;;AAYA,IAAIG,UAAW,SAASD,MAAT,CAAgB/9F,CAAhB,EAAmB;AACvCA,MAAI,CAACA,CAAL;;AAEA,WAASg+F,OAAT,CAAiB/+F,CAAjB,EAAoB;AAClB,WAAO,EAAEA,CAAF,GAAMA,CAAN,IAAW,CAACe,IAAI,CAAL,IAAUf,CAAV,GAAce,CAAzB,IAA8B,CAArC;AACD;;AAEDg+F,UAAQH,SAAR,GAAoBE,MAApB;;AAEA,SAAOC,OAAP;AACD,CAVoB,CAUlBH,SAVkB,CAAd;;AAYA,IAAII,YAAa,SAASF,MAAT,CAAgB/9F,CAAhB,EAAmB;AACzCA,MAAI,CAACA,CAAL;;AAEA,WAASi+F,SAAT,CAAmBh/F,CAAnB,EAAsB;AACpB,WAAO,CAAC,CAACA,KAAK,CAAN,IAAW,CAAX,GAAeA,IAAIA,CAAJ,IAAS,CAACe,IAAI,CAAL,IAAUf,CAAV,GAAce,CAAvB,CAAf,GAA2C,CAACf,KAAK,CAAN,IAAWA,CAAX,IAAgB,CAACe,IAAI,CAAL,IAAUf,CAAV,GAAce,CAA9B,IAAmC,CAA/E,IAAoF,CAA3F;AACD;;AAEDi+F,YAAUJ,SAAV,GAAsBE,MAAtB;;AAEA,SAAOE,SAAP;AACD,CAVsB,CAUpBJ,SAVoB,CAAhB,C;;;;;;;;;;;;AC1BP;AAAA;AAAA;AAAA;AAAA,IAAI91E,KAAK,IAAI,EAAb;AAAA,IACIm2E,KAAK,IAAI,EADb;AAAA,IAEIC,KAAK,IAAI,EAFb;AAAA,IAGIC,KAAK,IAAI,CAHb;AAAA,IAIIC,KAAK,IAAI,EAJb;AAAA,IAKIC,KAAK,KAAK,EALd;AAAA,IAMIC,KAAK,KAAK,EANd;AAAA,IAOIC,KAAK,KAAK,EAPd;AAAA,IAQIC,KAAK,KAAK,EARd;AAAA,IASIC,KAAK,IAAI32E,EAAJ,GAASA,EATlB;;AAWO,SAAS42E,QAAT,CAAkB1/F,CAAlB,EAAqB;AAC1B,SAAO,IAAI2/F,UAAU,IAAI3/F,CAAd,CAAX;AACD;;AAEM,SAAS2/F,SAAT,CAAmB3/F,CAAnB,EAAsB;AAC3B,SAAO,CAACA,IAAI,CAACA,CAAN,IAAW8oB,EAAX,GAAgB22E,KAAKz/F,CAAL,GAASA,CAAzB,GAA6BA,IAAIk/F,EAAJ,GAASO,MAAMz/F,KAAKi/F,EAAX,IAAiBj/F,CAAjB,GAAqBm/F,EAA9B,GAAmCn/F,IAAIq/F,EAAJ,GAASI,MAAMz/F,KAAKo/F,EAAX,IAAiBp/F,CAAjB,GAAqBs/F,EAA9B,GAAmCG,MAAMz/F,KAAKu/F,EAAX,IAAiBv/F,CAAjB,GAAqBw/F,EAA/H;AACD;;AAEM,SAASI,WAAT,CAAqB5/F,CAArB,EAAwB;AAC7B,SAAO,CAAC,CAACA,KAAK,CAAN,KAAY,CAAZ,GAAgB,IAAI2/F,UAAU,IAAI3/F,CAAd,CAApB,GAAuC2/F,UAAU3/F,IAAI,CAAd,IAAmB,CAA3D,IAAgE,CAAvE;AACD,C;;;;;;;;;;;;ACrBD;AAAA;AAAA;AAAA;AAAO,SAAS6/F,QAAT,CAAkB7/F,CAAlB,EAAqB;AAC1B,SAAO,IAAIgc,KAAKyQ,IAAL,CAAU,IAAIzsB,IAAIA,CAAlB,CAAX;AACD;;AAEM,SAAS8/F,SAAT,CAAmB9/F,CAAnB,EAAsB;AAC3B,SAAOgc,KAAKyQ,IAAL,CAAU,IAAI,EAAEzsB,CAAF,GAAMA,CAApB,CAAP;AACD;;AAEM,SAAS+/F,WAAT,CAAqB//F,CAArB,EAAwB;AAC7B,SAAO,CAAC,CAACA,KAAK,CAAN,KAAY,CAAZ,GAAgB,IAAIgc,KAAKyQ,IAAL,CAAU,IAAIzsB,IAAIA,CAAlB,CAApB,GAA2Cgc,KAAKyQ,IAAL,CAAU,IAAI,CAACzsB,KAAK,CAAN,IAAWA,CAAzB,IAA8B,CAA1E,IAA+E,CAAtF;AACD,C;;;;;;;;;;;;ACVD;AAAA;AAAA;AAAA;AAAO,SAASggG,OAAT,CAAiBhgG,CAAjB,EAAoB;AACzB,SAAOA,IAAIA,CAAJ,GAAQA,CAAf;AACD;;AAEM,SAASigG,QAAT,CAAkBjgG,CAAlB,EAAqB;AAC1B,SAAO,EAAEA,CAAF,GAAMA,CAAN,GAAUA,CAAV,GAAc,CAArB;AACD;;AAEM,SAASkgG,UAAT,CAAoBlgG,CAApB,EAAuB;AAC5B,SAAO,CAAC,CAACA,KAAK,CAAN,KAAY,CAAZ,GAAgBA,IAAIA,CAAJ,GAAQA,CAAxB,GAA4B,CAACA,KAAK,CAAN,IAAWA,CAAX,GAAeA,CAAf,GAAmB,CAAhD,IAAqD,CAA5D;AACD,C;;;;;;;;;;;;ACVD;AAAA;AAAA;AAAA;AAAA,IAAImgG,MAAM,IAAInkF,KAAKqoC,EAAnB;AAAA,IACI+7C,YAAY,CADhB;AAAA,IAEIC,SAAS,GAFb;;AAIO,IAAIC,YAAa,SAASxB,MAAT,CAAgBt5E,CAAhB,EAAmB1kB,CAAnB,EAAsB;AAC5C,MAAIC,IAAIib,KAAKukF,IAAL,CAAU,KAAK/6E,IAAIxJ,KAAKxD,GAAL,CAAS,CAAT,EAAYgN,CAAZ,CAAT,CAAV,KAAuC1kB,KAAKq/F,GAA5C,CAAR;;AAEA,WAASG,SAAT,CAAmBtgG,CAAnB,EAAsB;AACpB,WAAOwlB,IAAIxJ,KAAKuQ,GAAL,CAAS,CAAT,EAAY,KAAK,EAAEvsB,CAAnB,CAAJ,GAA4Bgc,KAAKsiC,GAAL,CAAS,CAACv9C,IAAIf,CAAL,IAAUc,CAAnB,CAAnC;AACD;;AAEDw/F,YAAUF,SAAV,GAAsB,UAAS56E,CAAT,EAAY;AAAE,WAAOs5E,OAAOt5E,CAAP,EAAU1kB,IAAIq/F,GAAd,CAAP;AAA4B,GAAhE;AACAG,YAAUD,MAAV,GAAmB,UAASv/F,CAAT,EAAY;AAAE,WAAOg+F,OAAOt5E,CAAP,EAAU1kB,CAAV,CAAP;AAAsB,GAAvD;;AAEA,SAAOw/F,SAAP;AACD,CAXsB,CAWpBF,SAXoB,EAWTC,MAXS,CAAhB;;AAaA,IAAIG,aAAc,SAAS1B,MAAT,CAAgBt5E,CAAhB,EAAmB1kB,CAAnB,EAAsB;AAC7C,MAAIC,IAAIib,KAAKukF,IAAL,CAAU,KAAK/6E,IAAIxJ,KAAKxD,GAAL,CAAS,CAAT,EAAYgN,CAAZ,CAAT,CAAV,KAAuC1kB,KAAKq/F,GAA5C,CAAR;;AAEA,WAASK,UAAT,CAAoBxgG,CAApB,EAAuB;AACrB,WAAO,IAAIwlB,IAAIxJ,KAAKuQ,GAAL,CAAS,CAAT,EAAY,CAAC,EAAD,IAAOvsB,IAAI,CAACA,CAAZ,CAAZ,CAAJ,GAAkCgc,KAAKsiC,GAAL,CAAS,CAACt+C,IAAIe,CAAL,IAAUD,CAAnB,CAA7C;AACD;;AAED0/F,aAAWJ,SAAX,GAAuB,UAAS56E,CAAT,EAAY;AAAE,WAAOs5E,OAAOt5E,CAAP,EAAU1kB,IAAIq/F,GAAd,CAAP;AAA4B,GAAjE;AACAK,aAAWH,MAAX,GAAoB,UAASv/F,CAAT,EAAY;AAAE,WAAOg+F,OAAOt5E,CAAP,EAAU1kB,CAAV,CAAP;AAAsB,GAAxD;;AAEA,SAAO0/F,UAAP;AACD,CAXuB,CAWrBJ,SAXqB,EAWVC,MAXU,CAAjB;;AAaA,IAAII,eAAgB,SAAS3B,MAAT,CAAgBt5E,CAAhB,EAAmB1kB,CAAnB,EAAsB;AAC/C,MAAIC,IAAIib,KAAKukF,IAAL,CAAU,KAAK/6E,IAAIxJ,KAAKxD,GAAL,CAAS,CAAT,EAAYgN,CAAZ,CAAT,CAAV,KAAuC1kB,KAAKq/F,GAA5C,CAAR;;AAEA,WAASM,YAAT,CAAsBzgG,CAAtB,EAAyB;AACvB,WAAO,CAAC,CAACA,IAAIA,IAAI,CAAJ,GAAQ,CAAb,IAAkB,CAAlB,GACFwlB,IAAIxJ,KAAKuQ,GAAL,CAAS,CAAT,EAAY,KAAKvsB,CAAjB,CAAJ,GAA0Bgc,KAAKsiC,GAAL,CAAS,CAACv9C,IAAIf,CAAL,IAAUc,CAAnB,CADxB,GAEF,IAAI0kB,IAAIxJ,KAAKuQ,GAAL,CAAS,CAAT,EAAY,CAAC,EAAD,GAAMvsB,CAAlB,CAAJ,GAA2Bgc,KAAKsiC,GAAL,CAAS,CAACv9C,IAAIf,CAAL,IAAUc,CAAnB,CAF9B,IAEuD,CAF9D;AAGD;;AAED2/F,eAAaL,SAAb,GAAyB,UAAS56E,CAAT,EAAY;AAAE,WAAOs5E,OAAOt5E,CAAP,EAAU1kB,IAAIq/F,GAAd,CAAP;AAA4B,GAAnE;AACAM,eAAaJ,MAAb,GAAsB,UAASv/F,CAAT,EAAY;AAAE,WAAOg+F,OAAOt5E,CAAP,EAAU1kB,CAAV,CAAP;AAAsB,GAA1D;;AAEA,SAAO2/F,YAAP;AACD,CAbyB,CAavBL,SAbuB,EAaZC,MAbY,CAAnB,C;;;;;;;;;;;;AC9BP;AAAA;AAAA;AAAA;AAAO,SAASK,KAAT,CAAe1gG,CAAf,EAAkB;AACvB,SAAOgc,KAAKuQ,GAAL,CAAS,CAAT,EAAY,KAAKvsB,CAAL,GAAS,EAArB,CAAP;AACD;;AAEM,SAAS2gG,MAAT,CAAgB3gG,CAAhB,EAAmB;AACxB,SAAO,IAAIgc,KAAKuQ,GAAL,CAAS,CAAT,EAAY,CAAC,EAAD,GAAMvsB,CAAlB,CAAX;AACD;;AAEM,SAAS4gG,QAAT,CAAkB5gG,CAAlB,EAAqB;AAC1B,SAAO,CAAC,CAACA,KAAK,CAAN,KAAY,CAAZ,GAAgBgc,KAAKuQ,GAAL,CAAS,CAAT,EAAY,KAAKvsB,CAAL,GAAS,EAArB,CAAhB,GAA2C,IAAIgc,KAAKuQ,GAAL,CAAS,CAAT,EAAY,KAAK,KAAKvsB,CAAtB,CAAhD,IAA4E,CAAnF;AACD,C;;;;;;;;;;;;ACVD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAIA;;AAOA;;AAOA;;AAOA;;AAOA;;AAOA;;AAOA;;AAOA;;;;;;;;;;;;;;ACrDA;AAAA;AAAO,SAASsmD,MAAT,CAAgBtmD,CAAhB,EAAmB;AACxB,SAAO,CAACA,CAAR;AACD,C;;;;;;;;;;;;ACFD;AAAA;AAAA;AAAA;AAAA,IAAI4iD,WAAW,CAAf;;AAEO,IAAIi+C,SAAU,SAAS/B,MAAT,CAAgBnyF,CAAhB,EAAmB;AACtCA,MAAI,CAACA,CAAL;;AAEA,WAASk0F,MAAT,CAAgB7gG,CAAhB,EAAmB;AACjB,WAAOgc,KAAKuQ,GAAL,CAASvsB,CAAT,EAAY2M,CAAZ,CAAP;AACD;;AAEDk0F,SAAOj+C,QAAP,GAAkBk8C,MAAlB;;AAEA,SAAO+B,MAAP;AACD,CAVmB,CAUjBj+C,QAViB,CAAb;;AAYA,IAAIk+C,UAAW,SAAShC,MAAT,CAAgBnyF,CAAhB,EAAmB;AACvCA,MAAI,CAACA,CAAL;;AAEA,WAASm0F,OAAT,CAAiB9gG,CAAjB,EAAoB;AAClB,WAAO,IAAIgc,KAAKuQ,GAAL,CAAS,IAAIvsB,CAAb,EAAgB2M,CAAhB,CAAX;AACD;;AAEDm0F,UAAQl+C,QAAR,GAAmBk8C,MAAnB;;AAEA,SAAOgC,OAAP;AACD,CAVoB,CAUlBl+C,QAVkB,CAAd;;AAYA,IAAIm+C,YAAa,SAASjC,MAAT,CAAgBnyF,CAAhB,EAAmB;AACzCA,MAAI,CAACA,CAAL;;AAEA,WAASo0F,SAAT,CAAmB/gG,CAAnB,EAAsB;AACpB,WAAO,CAAC,CAACA,KAAK,CAAN,KAAY,CAAZ,GAAgBgc,KAAKuQ,GAAL,CAASvsB,CAAT,EAAY2M,CAAZ,CAAhB,GAAiC,IAAIqP,KAAKuQ,GAAL,CAAS,IAAIvsB,CAAb,EAAgB2M,CAAhB,CAAtC,IAA4D,CAAnE;AACD;;AAEDo0F,YAAUn+C,QAAV,GAAqBk8C,MAArB;;AAEA,SAAOiC,SAAP;AACD,CAVsB,CAUpBn+C,QAVoB,CAAhB,C;;;;;;;;;;;;AC1BP;AAAA;AAAA;AAAA;AAAO,SAASo+C,MAAT,CAAgBhhG,CAAhB,EAAmB;AACxB,SAAOA,IAAIA,CAAX;AACD;;AAEM,SAASihG,OAAT,CAAiBjhG,CAAjB,EAAoB;AACzB,SAAOA,KAAK,IAAIA,CAAT,CAAP;AACD;;AAEM,SAASkhG,SAAT,CAAmBlhG,CAAnB,EAAsB;AAC3B,SAAO,CAAC,CAACA,KAAK,CAAN,KAAY,CAAZ,GAAgBA,IAAIA,CAApB,GAAwB,EAAEA,CAAF,IAAO,IAAIA,CAAX,IAAgB,CAAzC,IAA8C,CAArD;AACD,C;;;;;;;;;;;;ACVD;AAAA;AAAA;AAAA;AAAA,IAAImhG,KAAKnlF,KAAKqoC,EAAd;AAAA,IACI+8C,SAASD,KAAK,CADlB;;AAGO,SAASE,KAAT,CAAerhG,CAAf,EAAkB;AACvB,SAAO,IAAIgc,KAAKsoC,GAAL,CAAStkD,IAAIohG,MAAb,CAAX;AACD;;AAEM,SAASE,MAAT,CAAgBthG,CAAhB,EAAmB;AACxB,SAAOgc,KAAKsiC,GAAL,CAASt+C,IAAIohG,MAAb,CAAP;AACD;;AAEM,SAASG,QAAT,CAAkBvhG,CAAlB,EAAqB;AAC1B,SAAO,CAAC,IAAIgc,KAAKsoC,GAAL,CAAS68C,KAAKnhG,CAAd,CAAL,IAAyB,CAAhC;AACD,C;;;;;;;;;;;;ACbD;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEA,IAAIwhG,MAAJ;AACO,IAAI//F,MAAJ;AACA,IAAIggG,YAAJ;;AAEPC,cAAc;AACZC,WAAS,GADG;AAEZC,aAAW,GAFC;AAGZC,YAAU,CAAC,CAAD,CAHE;AAIZC,YAAU,CAAC,GAAD,EAAM,EAAN;AAJE,CAAd;;AAOe,SAASJ,aAAT,CAAuBtH,UAAvB,EAAmC;AAChDoH,WAASO,uDAAYA,CAAC3H,UAAb,CAAT;AACA34F,WAAS+/F,OAAO//F,MAAhB;AACAggG,iBAAeD,OAAOC,YAAtB;AACA,SAAOD,MAAP;AACD,C;;;;;;;;;;;;AClBD;AAAA;AAAA;;AAEe,yEAAS31E,CAAT,EAAY;AACzB,SAAOA,IAAIm2E,8DAAaA,CAAChmF,KAAKmf,GAAL,CAAStP,CAAT,CAAd,CAAJ,EAAgCA,IAAIA,EAAE,CAAF,CAAJ,GAAWo9D,GAAlD;AACD,C;;;;;;;;;;;;ACJD;AAAA;AACA;AACA;AACe,yEAASp9D,CAAT,EAAY/qB,CAAZ,EAAe;AAC5B,MAAI,CAAC/B,IAAI,CAAC8sB,IAAI/qB,IAAI+qB,EAAEo2E,aAAF,CAAgBnhG,IAAI,CAApB,CAAJ,GAA6B+qB,EAAEo2E,aAAF,EAAlC,EAAqDh1F,OAArD,CAA6D,GAA7D,CAAL,IAA0E,CAA9E,EAAiF,OAAO,IAAP,CADrD,CACkE;AAC9F,MAAIlO,CAAJ;AAAA,MAAOmjG,cAAcr2E,EAAE/nB,KAAF,CAAQ,CAAR,EAAW/E,CAAX,CAArB;;AAEA;AACA;AACA,SAAO,CACLmjG,YAAY1+F,MAAZ,GAAqB,CAArB,GAAyB0+F,YAAY,CAAZ,IAAiBA,YAAYp+F,KAAZ,CAAkB,CAAlB,CAA1C,GAAiEo+F,WAD5D,EAEL,CAACr2E,EAAE/nB,KAAF,CAAQ/E,IAAI,CAAZ,CAFI,CAAP;AAID,C;;;;;;;;;;;;ACbD;AAAe,yEAAS8iG,QAAT,EAAmBD,SAAnB,EAA8B;AAC3C,SAAO,UAAS7hG,KAAT,EAAgBmrC,KAAhB,EAAuB;AAC5B,QAAInsC,IAAIgB,MAAMyD,MAAd;AAAA,QACIxD,IAAI,EADR;AAAA,QAEI6D,IAAI,CAFR;AAAA,QAGI80F,IAAIkJ,SAAS,CAAT,CAHR;AAAA,QAIIr+F,SAAS,CAJb;;AAMA,WAAOzE,IAAI,CAAJ,IAAS45F,IAAI,CAApB,EAAuB;AACrB,UAAIn1F,SAASm1F,CAAT,GAAa,CAAb,GAAiBztD,KAArB,EAA4BytD,IAAI38E,KAAKxD,GAAL,CAAS,CAAT,EAAY0yB,QAAQ1nC,MAApB,CAAJ;AAC5BxD,QAAE+C,IAAF,CAAOhD,MAAM81B,SAAN,CAAgB92B,KAAK45F,CAArB,EAAwB55F,IAAI45F,CAA5B,CAAP;AACA,UAAI,CAACn1F,UAAUm1F,IAAI,CAAf,IAAoBztD,KAAxB,EAA+B;AAC/BytD,UAAIkJ,SAASh+F,IAAI,CAACA,IAAI,CAAL,IAAUg+F,SAASr+F,MAAhC,CAAJ;AACD;;AAED,WAAOxD,EAAEgkB,OAAF,GAAY1hB,IAAZ,CAAiBs/F,SAAjB,CAAP;AACD,GAfD;AAgBD,C;;;;;;;;;;;;ACjBD;AAAe,yEAASO,QAAT,EAAmB;AAChC,SAAO,UAASpiG,KAAT,EAAgB;AACrB,WAAOA,MAAMgE,OAAN,CAAc,QAAd,EAAwB,UAAShF,CAAT,EAAY;AACzC,aAAOojG,SAAS,CAACpjG,CAAV,CAAP;AACD,KAFM,CAAP;AAGD,GAJD;AAKD,C;;;;;;;;;;;;ACND;AAAA;AAAA;AAAA;;AAEO,IAAIqjG,cAAJ;;AAEQ,yEAASv2E,CAAT,EAAY/qB,CAAZ,EAAe;AAC5B,QAAI1B,IAAI4iG,8DAAaA,CAACn2E,CAAd,EAAiB/qB,CAAjB,CAAR;AACA,QAAI,CAAC1B,CAAL,EAAQ,OAAOysB,IAAI,EAAX;AACR,QAAIq2E,cAAc9iG,EAAE,CAAF,CAAlB;AAAA,QACIwjD,WAAWxjD,EAAE,CAAF,CADf;AAAA,QAEIL,IAAI6jD,YAAYw/C,iBAAiBpmF,KAAKxD,GAAL,CAAS,CAAC,CAAV,EAAawD,KAAK3D,GAAL,CAAS,CAAT,EAAY2D,KAAKuT,KAAL,CAAWqzB,WAAW,CAAtB,CAAZ,CAAb,IAAsD,CAAnF,IAAwF,CAFhG;AAAA,QAGIriD,IAAI2hG,YAAY1+F,MAHpB;AAIA,WAAOzE,MAAMwB,CAAN,GAAU2hG,WAAV,GACDnjG,IAAIwB,CAAJ,GAAQ2hG,cAAc,IAAIp7F,KAAJ,CAAU/H,IAAIwB,CAAJ,GAAQ,CAAlB,EAAqB+B,IAArB,CAA0B,GAA1B,CAAtB,GACAvD,IAAI,CAAJ,GAAQmjG,YAAYp+F,KAAZ,CAAkB,CAAlB,EAAqB/E,CAArB,IAA0B,GAA1B,GAAgCmjG,YAAYp+F,KAAZ,CAAkB/E,CAAlB,CAAxC,GACA,OAAO,IAAI+H,KAAJ,CAAU,IAAI/H,CAAd,EAAiBuD,IAAjB,CAAsB,GAAtB,CAAP,GAAoC0/F,8DAAaA,CAACn2E,CAAd,EAAiB7P,KAAKxD,GAAL,CAAS,CAAT,EAAY1X,IAAI/B,CAAJ,GAAQ,CAApB,CAAjB,EAAyC,CAAzC,CAH1C,CAP4B,CAU2D;AACxF,C;;;;;;;;;;;;ACfD;AAAA;AAAA;;AAEe,yEAAS8sB,CAAT,EAAY/qB,CAAZ,EAAe;AAC5B,QAAI1B,IAAI4iG,8DAAaA,CAACn2E,CAAd,EAAiB/qB,CAAjB,CAAR;AACA,QAAI,CAAC1B,CAAL,EAAQ,OAAOysB,IAAI,EAAX;AACR,QAAIq2E,cAAc9iG,EAAE,CAAF,CAAlB;AAAA,QACIwjD,WAAWxjD,EAAE,CAAF,CADf;AAEA,WAAOwjD,WAAW,CAAX,GAAe,OAAO,IAAI97C,KAAJ,CAAU,CAAC87C,QAAX,EAAqBtgD,IAArB,CAA0B,GAA1B,CAAP,GAAwC4/F,WAAvD,GACDA,YAAY1+F,MAAZ,GAAqBo/C,WAAW,CAAhC,GAAoCs/C,YAAYp+F,KAAZ,CAAkB,CAAlB,EAAqB8+C,WAAW,CAAhC,IAAqC,GAArC,GAA2Cs/C,YAAYp+F,KAAZ,CAAkB8+C,WAAW,CAA7B,CAA/E,GACAs/C,cAAc,IAAIp7F,KAAJ,CAAU87C,WAAWs/C,YAAY1+F,MAAvB,GAAgC,CAA1C,EAA6ClB,IAA7C,CAAkD,GAAlD,CAFpB;AAGD,C;;;;;;;;;;;;ACVD;AAAA;AAAA;AACA,IAAI+/F,KAAK,0EAAT;;AAEe,SAASC,eAAT,CAAyBC,SAAzB,EAAoC;AACjD,SAAO,IAAIC,eAAJ,CAAoBD,SAApB,CAAP;AACD;;AAEDD,gBAAgB1hG,SAAhB,GAA4B4hG,gBAAgB5hG,SAA5C,C,CAAuD;;AAEvD,SAAS4hG,eAAT,CAAyBD,SAAzB,EAAoC;AAClC,MAAI,EAAE7nF,QAAQ2nF,GAAG9J,IAAH,CAAQgK,SAAR,CAAV,CAAJ,EAAmC,MAAM,IAAI77F,KAAJ,CAAU,qBAAqB67F,SAA/B,CAAN;AACnC,MAAI7nF,KAAJ;AACA,OAAKghE,IAAL,GAAYhhE,MAAM,CAAN,KAAY,GAAxB;AACA,OAAK88D,KAAL,GAAa98D,MAAM,CAAN,KAAY,GAAzB;AACA,OAAK+nF,IAAL,GAAY/nF,MAAM,CAAN,KAAY,GAAxB;AACA,OAAKgoF,MAAL,GAAchoF,MAAM,CAAN,KAAY,EAA1B;AACA,OAAKioF,IAAL,GAAY,CAAC,CAACjoF,MAAM,CAAN,CAAd;AACA,OAAKwwB,KAAL,GAAaxwB,MAAM,CAAN,KAAY,CAACA,MAAM,CAAN,CAA1B;AACA,OAAKkoF,KAAL,GAAa,CAAC,CAACloF,MAAM,CAAN,CAAf;AACA,OAAKmoF,SAAL,GAAiBnoF,MAAM,CAAN,KAAY,CAACA,MAAM,CAAN,EAAS5W,KAAT,CAAe,CAAf,CAA9B;AACA,OAAK8W,IAAL,GAAY,CAAC,CAACF,MAAM,CAAN,CAAd;AACA,OAAKnM,IAAL,GAAYmM,MAAM,EAAN,KAAa,EAAzB;AACD;;AAED8nF,gBAAgB5hG,SAAhB,CAA0B6zB,QAA1B,GAAqC,YAAW;AAC9C,SAAO,KAAKinD,IAAL,GACD,KAAKlE,KADJ,GAED,KAAKirB,IAFJ,GAGD,KAAKC,MAHJ,IAIA,KAAKC,IAAL,GAAY,GAAZ,GAAkB,EAJlB,KAKA,KAAKz3D,KAAL,IAAc,IAAd,GAAqB,EAArB,GAA0BlvB,KAAKxD,GAAL,CAAS,CAAT,EAAY,KAAK0yB,KAAL,GAAa,CAAzB,CAL1B,KAMA,KAAK03D,KAAL,GAAa,GAAb,GAAmB,EANnB,KAOA,KAAKC,SAAL,IAAkB,IAAlB,GAAyB,EAAzB,GAA8B,MAAM7mF,KAAKxD,GAAL,CAAS,CAAT,EAAY,KAAKqqF,SAAL,GAAiB,CAA7B,CAPpC,KAQA,KAAKjoF,IAAL,GAAY,GAAZ,GAAkB,EARlB,IASD,KAAKrM,IATX;AAUD,CAXD,C;;;;;;;;;;;;ACxBA;AAAA;AACe,yEAASxN,CAAT,EAAY;AACzB+hG,OAAK,KAAK,IAAIviG,IAAIQ,EAAEyC,MAAV,EAAkBzE,IAAI,CAAtB,EAAyB8qF,KAAK,CAAC,CAA/B,EAAkCC,EAAvC,EAA2C/qF,IAAIwB,CAA/C,EAAkD,EAAExB,CAApD,EAAuD;AAC1D,YAAQgC,EAAEhC,CAAF,CAAR;AACE,WAAK,GAAL;AAAU8qF,aAAKC,KAAK/qF,CAAV,CAAa;AACvB,WAAK,GAAL;AAAU,YAAI8qF,OAAO,CAAX,EAAcA,KAAK9qF,CAAL,CAAQ+qF,KAAK/qF,CAAL,CAAQ;AACxC;AAAS,YAAI8qF,KAAK,CAAT,EAAY;AAAE,cAAI,CAAC,CAAC9oF,EAAEhC,CAAF,CAAN,EAAY,MAAM+jG,GAAN,CAAWjZ,KAAK,CAAL;AAAS,SAAC;AAH1D;AAKD;AACD,SAAOA,KAAK,CAAL,GAAS9oF,EAAE+C,KAAF,CAAQ,CAAR,EAAW+lF,EAAX,IAAiB9oF,EAAE+C,KAAF,CAAQgmF,KAAK,CAAb,CAA1B,GAA4C/oF,CAAnD;AACD,C;;;;;;;;;;;;ACVD;AAAA;AAAA;AAAA;AACA;;AAEe;AACb,OAAK,WAAS8qB,CAAT,EAAY/qB,CAAZ,EAAe;AAAE,WAAO,CAAC+qB,IAAI,GAAL,EAAU6oD,OAAV,CAAkB5zE,CAAlB,CAAP;AAA8B,GADvC;AAEb,OAAK,WAAS+qB,CAAT,EAAY;AAAE,WAAO7P,KAAK8e,KAAL,CAAWjP,CAAX,EAAc4I,QAAd,CAAuB,CAAvB,CAAP;AAAmC,GAFzC;AAGb,OAAK,WAAS5I,CAAT,EAAY;AAAE,WAAOA,IAAI,EAAX;AAAgB,GAHtB;AAIb,OAAK,WAASA,CAAT,EAAY;AAAE,WAAO7P,KAAK8e,KAAL,CAAWjP,CAAX,EAAc4I,QAAd,CAAuB,EAAvB,CAAP;AAAoC,GAJ1C;AAKb,OAAK,WAAS5I,CAAT,EAAY/qB,CAAZ,EAAe;AAAE,WAAO+qB,EAAEo2E,aAAF,CAAgBnhG,CAAhB,CAAP;AAA4B,GALrC;AAMb,OAAK,WAAS+qB,CAAT,EAAY/qB,CAAZ,EAAe;AAAE,WAAO+qB,EAAE6oD,OAAF,CAAU5zE,CAAV,CAAP;AAAsB,GAN/B;AAOb,OAAK,WAAS+qB,CAAT,EAAY/qB,CAAZ,EAAe;AAAE,WAAO+qB,EAAEk3E,WAAF,CAAcjiG,CAAd,CAAP;AAA0B,GAPnC;AAQb,OAAK,WAAS+qB,CAAT,EAAY;AAAE,WAAO7P,KAAK8e,KAAL,CAAWjP,CAAX,EAAc4I,QAAd,CAAuB,CAAvB,CAAP;AAAmC,GARzC;AASb,OAAK,WAAS5I,CAAT,EAAY/qB,EAAZ,EAAe;AAAE,WAAOkiG,8DAAaA,CAACn3E,IAAI,GAAlB,EAAuB/qB,EAAvB,CAAP;AAAmC,GAT5C;AAUb,OAAKkiG,sDAVQ;AAWb,OAAKC,yDAXQ;AAYb,OAAK,WAASp3E,CAAT,EAAY;AAAE,WAAO7P,KAAK8e,KAAL,CAAWjP,CAAX,EAAc4I,QAAd,CAAuB,EAAvB,EAA2BkiC,WAA3B,EAAP;AAAkD,GAZxD;AAab,OAAK,WAAS9qC,EAAT,EAAY;AAAE,WAAO7P,KAAK8e,KAAL,CAAWjP,EAAX,EAAc4I,QAAd,CAAuB,EAAvB,CAAP;AAAoC;AAb1C,CAAf,E;;;;;;;;;;;;ACHA;AAAe,yEAAS5I,CAAT,EAAY;AACzB,SAAOA,CAAP;AACD,C;;;;;;;;;;;;ACFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIq3E,WAAW,CAAC,GAAD,EAAK,GAAL,EAAS,GAAT,EAAa,GAAb,EAAiB,GAAjB,EAAqB,GAArB,EAAyB,GAAzB,EAA6B,GAA7B,EAAiC,EAAjC,EAAoC,GAApC,EAAwC,GAAxC,EAA4C,GAA5C,EAAgD,GAAhD,EAAoD,GAApD,EAAwD,GAAxD,EAA4D,GAA5D,EAAgE,GAAhE,CAAf;;AAEe,yEAAS1B,MAAT,EAAiB;AAC9B,MAAIjhB,QAAQihB,OAAOK,QAAP,IAAmBL,OAAOI,SAA1B,GAAsCuB,4DAAWA,CAAC3B,OAAOK,QAAnB,EAA6BL,OAAOI,SAApC,CAAtC,GAAuFpiE,iDAAnG;AAAA,MACIsiE,WAAWN,OAAOM,QADtB;AAAA,MAEIH,UAAUH,OAAOG,OAFrB;AAAA,MAGIQ,WAAWX,OAAOW,QAAP,GAAkBiB,+DAAcA,CAAC5B,OAAOW,QAAtB,CAAlB,GAAoD3iE,iDAHnE;AAAA,MAII6jE,UAAU7B,OAAO6B,OAAP,IAAkB,GAJhC;;AAMA,WAASC,SAAT,CAAmBf,SAAnB,EAA8B;AAC5BA,gBAAYD,gEAAeA,CAACC,SAAhB,CAAZ;;AAEA,QAAI7mB,OAAO6mB,UAAU7mB,IAArB;AAAA,QACIlE,QAAQ+qB,UAAU/qB,KADtB;AAAA,QAEIirB,OAAOF,UAAUE,IAFrB;AAAA,QAGIC,SAASH,UAAUG,MAHvB;AAAA,QAIIC,OAAOJ,UAAUI,IAJrB;AAAA,QAKIz3D,QAAQq3D,UAAUr3D,KALtB;AAAA,QAMI03D,QAAQL,UAAUK,KANtB;AAAA,QAOIC,YAAYN,UAAUM,SAP1B;AAAA,QAQIjoF,OAAO2nF,UAAU3nF,IARrB;AAAA,QASIrM,OAAOg0F,UAAUh0F,IATrB;;AAWA;AACA,QAAIA,SAAS,GAAb,EAAkBq0F,QAAQ,IAAR,EAAcr0F,OAAO,GAArB;;AAElB;AAFA,SAGK,IAAI,CAACg1F,oDAAWA,CAACh1F,IAAZ,CAAL,EAAwBs0F,aAAa,IAAb,KAAsBA,YAAY,EAAlC,GAAuCjoF,OAAO,IAA9C,EAAoDrM,OAAO,GAA3D;;AAE7B;AACA,QAAIo0F,QAASjnB,SAAS,GAAT,IAAgBlE,UAAU,GAAvC,EAA6CmrB,OAAO,IAAP,EAAajnB,OAAO,GAApB,EAAyBlE,QAAQ,GAAjC;;AAE7C;AACA;AACA,QAAI6V,SAASqV,WAAW,GAAX,GAAiBZ,SAAS,CAAT,CAAjB,GAA+BY,WAAW,GAAX,IAAkB,SAASv+F,IAAT,CAAcoK,IAAd,CAAlB,GAAwC,MAAMA,KAAKwb,WAAL,EAA9C,GAAmE,EAA/G;AAAA,QACIy5E,SAASd,WAAW,GAAX,GAAiBZ,SAAS,CAAT,CAAjB,GAA+B,OAAO39F,IAAP,CAAYoK,IAAZ,IAAoB80F,OAApB,GAA8B,EAD1E;;AAGA;AACA;AACA;AACA,QAAII,aAAaF,oDAAWA,CAACh1F,IAAZ,CAAjB;AAAA,QACIm1F,cAAc,aAAav/F,IAAb,CAAkBoK,IAAlB,CADlB;;AAGA;AACA;AACA;AACA;AACAs0F,gBAAYA,aAAa,IAAb,GAAoB,CAApB,GACN,SAAS1+F,IAAT,CAAcoK,IAAd,IAAsByN,KAAKxD,GAAL,CAAS,CAAT,EAAYwD,KAAK3D,GAAL,CAAS,EAAT,EAAawqF,SAAb,CAAZ,CAAtB,GACA7mF,KAAKxD,GAAL,CAAS,CAAT,EAAYwD,KAAK3D,GAAL,CAAS,EAAT,EAAawqF,SAAb,CAAZ,CAFN;;AAIA,aAASphG,MAAT,CAAgB1B,KAAhB,EAAuB;AACrB,UAAI4jG,cAActW,MAAlB;AAAA,UACIuW,cAAcJ,MADlB;AAAA,UAEIzkG,CAFJ;AAAA,UAEOwB,CAFP;AAAA,UAEUpB,CAFV;;AAIA,UAAIoP,SAAS,GAAb,EAAkB;AAChBq1F,sBAAcH,WAAW1jG,KAAX,IAAoB6jG,WAAlC;AACA7jG,gBAAQ,EAAR;AACD,OAHD,MAGO;AACLA,gBAAQ,CAACA,KAAT;;AAEA;AACA,YAAI8jG,gBAAgB9jG,QAAQ,CAA5B;AACAA,gBAAQ0jG,WAAWznF,KAAKmf,GAAL,CAASp7B,KAAT,CAAX,EAA4B8iG,SAA5B,CAAR;;AAEA;AACA,YAAIjoF,IAAJ,EAAU7a,QAAQ+jG,2DAAUA,CAAC/jG,KAAX,CAAR;;AAEV;AACA,YAAI8jG,iBAAiB,CAAC9jG,KAAD,KAAW,CAAhC,EAAmC8jG,gBAAgB,KAAhB;;AAEnC;AACAF,sBAAc,CAACE,gBAAiBpB,SAAS,GAAT,GAAeA,IAAf,GAAsB,GAAvC,GAA8CA,SAAS,GAAT,IAAgBA,SAAS,GAAzB,GAA+B,EAA/B,GAAoCA,IAAnF,IAA2FkB,WAAzG;AACAC,sBAAc,CAACr1F,SAAS,GAAT,GAAe20F,SAAS,IAAId,gEAAcA,GAAG,CAA9B,CAAf,GAAkD,EAAnD,IAAyDwB,WAAzD,IAAwEC,iBAAiBpB,SAAS,GAA1B,GAAgC,GAAhC,GAAsC,EAA9G,CAAd;;AAEA;AACA;AACA,YAAIiB,WAAJ,EAAiB;AACf3kG,cAAI,CAAC,CAAL,EAAQwB,IAAIR,MAAMyD,MAAlB;AACA,iBAAO,EAAEzE,CAAF,GAAMwB,CAAb,EAAgB;AACd,gBAAIpB,IAAIY,MAAMqD,UAAN,CAAiBrE,CAAjB,CAAJ,EAAyB,KAAKI,CAAL,IAAUA,IAAI,EAA3C,EAA+C;AAC7CykG,4BAAc,CAACzkG,MAAM,EAAN,GAAWwiG,UAAU5hG,MAAM+D,KAAN,CAAY/E,IAAI,CAAhB,CAArB,GAA0CgB,MAAM+D,KAAN,CAAY/E,CAAZ,CAA3C,IAA6D6kG,WAA3E;AACA7jG,sBAAQA,MAAM+D,KAAN,CAAY,CAAZ,EAAe/E,CAAf,CAAR;AACA;AACD;AACF;AACF;AACF;;AAED;AACA,UAAI6jG,SAAS,CAACD,IAAd,EAAoB5iG,QAAQwgF,MAAMxgF,KAAN,EAAaisB,QAAb,CAAR;;AAEpB;AACA,UAAIxoB,SAASmgG,YAAYngG,MAAZ,GAAqBzD,MAAMyD,MAA3B,GAAoCogG,YAAYpgG,MAA7D;AAAA,UACIo9C,UAAUp9C,SAAS0nC,KAAT,GAAiB,IAAIpkC,KAAJ,CAAUokC,QAAQ1nC,MAAR,GAAiB,CAA3B,EAA8BlB,IAA9B,CAAmCo5E,IAAnC,CAAjB,GAA4D,EAD1E;;AAGA;AACA,UAAIknB,SAASD,IAAb,EAAmB5iG,QAAQwgF,MAAM3/B,UAAU7gD,KAAhB,EAAuB6gD,QAAQp9C,MAAR,GAAiB0nC,QAAQ04D,YAAYpgG,MAArC,GAA8CwoB,QAArE,CAAR,EAAwF40B,UAAU,EAAlG;;AAEnB;AACA,cAAQ42B,KAAR;AACE,aAAK,GAAL;AAAUz3E,kBAAQ4jG,cAAc5jG,KAAd,GAAsB6jG,WAAtB,GAAoChjD,OAA5C,CAAqD;AAC/D,aAAK,GAAL;AAAU7gD,kBAAQ4jG,cAAc/iD,OAAd,GAAwB7gD,KAAxB,GAAgC6jG,WAAxC,CAAqD;AAC/D,aAAK,GAAL;AAAU7jG,kBAAQ6gD,QAAQ98C,KAAR,CAAc,CAAd,EAAiBN,SAASo9C,QAAQp9C,MAAR,IAAkB,CAA5C,IAAiDmgG,WAAjD,GAA+D5jG,KAA/D,GAAuE6jG,WAAvE,GAAqFhjD,QAAQ98C,KAAR,CAAcN,MAAd,CAA7F,CAAoH;AAC9H;AAASzD,kBAAQ6gD,UAAU+iD,WAAV,GAAwB5jG,KAAxB,GAAgC6jG,WAAxC,CAAqD;AAJhE;;AAOA,aAAOzB,SAASpiG,KAAT,CAAP;AACD;;AAED0B,WAAOgzB,QAAP,GAAkB,YAAW;AAC3B,aAAO8tE,YAAY,EAAnB;AACD,KAFD;;AAIA,WAAO9gG,MAAP;AACD;;AAED,WAASggG,YAAT,CAAsBc,SAAtB,EAAiCxiG,KAAjC,EAAwC;AACtC,QAAIyC,IAAI8gG,WAAWf,YAAYD,gEAAeA,CAACC,SAAhB,CAAZ,EAAwCA,UAAUh0F,IAAV,GAAiB,GAAzD,EAA8Dg0F,SAAzE,EAAR;AAAA,QACI51F,IAAIqP,KAAKxD,GAAL,CAAS,CAAC,CAAV,EAAawD,KAAK3D,GAAL,CAAS,CAAT,EAAY2D,KAAKuT,KAAL,CAAWqzB,yDAAQA,CAAC7iD,KAAT,IAAkB,CAA7B,CAAZ,CAAb,IAA6D,CADrE;AAAA,QAEI2sF,IAAI1wE,KAAKuQ,GAAL,CAAS,EAAT,EAAa,CAAC5f,CAAd,CAFR;AAAA,QAGI0gF,SAAS6V,SAAS,IAAIv2F,IAAI,CAAjB,CAHb;AAIA,WAAO,UAAS5M,KAAT,EAAgB;AACrB,aAAOyC,EAAEkqF,IAAI3sF,KAAN,IAAestF,MAAtB;AACD,KAFD;AAGD;;AAED,SAAO;AACL5rF,YAAQ6hG,SADH;AAEL7B,kBAAcA;AAFT,GAAP;AAID,C;;;;;;;;;;;;AC7ID;AAAA;AAAA;;AAEe,yEAASz3C,IAAT,EAAe;AAC5B,SAAOhuC,KAAKxD,GAAL,CAAS,CAAT,EAAY,CAACoqC,yDAAQA,CAAC5mC,KAAKmf,GAAL,CAAS6uB,IAAT,CAAT,CAAb,CAAP;AACD,C;;;;;;;;;;;;ACJD;AAAA;AAAA;;AAEe,yEAASA,IAAT,EAAejqD,KAAf,EAAsB;AACnC,SAAOic,KAAKxD,GAAL,CAAS,CAAT,EAAYwD,KAAKxD,GAAL,CAAS,CAAC,CAAV,EAAawD,KAAK3D,GAAL,CAAS,CAAT,EAAY2D,KAAKuT,KAAL,CAAWqzB,yDAAQA,CAAC7iD,KAAT,IAAkB,CAA7B,CAAZ,CAAb,IAA6D,CAA7D,GAAiE6iD,yDAAQA,CAAC5mC,KAAKmf,GAAL,CAAS6uB,IAAT,CAAT,CAA7E,CAAP;AACD,C;;;;;;;;;;;;ACJD;AAAA;AAAA;;AAEe,yEAASA,IAAT,EAAexxC,GAAf,EAAoB;AACjCwxC,SAAOhuC,KAAKmf,GAAL,CAAS6uB,IAAT,CAAP,EAAuBxxC,MAAMwD,KAAKmf,GAAL,CAAS3iB,GAAT,IAAgBwxC,IAA7C;AACA,SAAOhuC,KAAKxD,GAAL,CAAS,CAAT,EAAYoqC,yDAAQA,CAACpqC,GAAT,IAAgBoqC,yDAAQA,CAACoH,IAAT,CAA5B,IAA8C,CAArD;AACD,C;;;;;;;;;;;;ACLD;AAAA;AAAA;;AAEe,yEAASxkC,CAAT,EAAYC,CAAZ,EAAe;AAC5B,MAAIs+E,KAAKt+E,IAAIA,EAAEjiB,MAAN,GAAe,CAAxB;AAAA,MACIwgG,KAAKx+E,IAAIxJ,KAAK3D,GAAL,CAAS0rF,EAAT,EAAav+E,EAAEhiB,MAAf,CAAJ,GAA6B,CADtC;AAAA,MAEIqoB,IAAI,IAAI/kB,KAAJ,CAAUk9F,EAAV,CAFR;AAAA,MAGI7kG,IAAI,IAAI2H,KAAJ,CAAUi9F,EAAV,CAHR;AAAA,MAIIhlG,CAJJ;;AAMA,OAAKA,IAAI,CAAT,EAAYA,IAAIilG,EAAhB,EAAoB,EAAEjlG,CAAtB;AAAyB8sB,MAAE9sB,CAAF,IAAOgB,sDAAKA,CAACylB,EAAEzmB,CAAF,CAAN,EAAY0mB,EAAE1mB,CAAF,CAAZ,CAAP;AAAzB,GACA,OAAOA,IAAIglG,EAAX,EAAe,EAAEhlG,CAAjB;AAAoBI,MAAEJ,CAAF,IAAO0mB,EAAE1mB,CAAF,CAAP;AAApB,GAEA,OAAO,UAASiB,CAAT,EAAY;AACjB,SAAKjB,IAAI,CAAT,EAAYA,IAAIilG,EAAhB,EAAoB,EAAEjlG,CAAtB;AAAyBI,QAAEJ,CAAF,IAAO8sB,EAAE9sB,CAAF,EAAKiB,CAAL,CAAP;AAAzB,KACA,OAAOb,CAAP;AACD,GAHD;AAID,C;;;;;;;;;;;;AChBD;AAAA;AAAO,SAAS8kG,KAAT,CAAexJ,EAAf,EAAmByJ,EAAnB,EAAuBx8C,EAAvB,EAA2BC,EAA3B,EAA+Bw8C,EAA/B,EAAmC;AACxC,MAAIzJ,KAAKD,KAAKA,EAAd;AAAA,MAAkBE,KAAKD,KAAKD,EAA5B;AACA,SAAO,CAAC,CAAC,IAAI,IAAIA,EAAR,GAAa,IAAIC,EAAjB,GAAsBC,EAAvB,IAA6BuJ,EAA7B,GACF,CAAC,IAAI,IAAIxJ,EAAR,GAAa,IAAIC,EAAlB,IAAwBjzC,EADtB,GAEF,CAAC,IAAI,IAAI+yC,EAAR,GAAa,IAAIC,EAAjB,GAAsB,IAAIC,EAA3B,IAAiChzC,EAF/B,GAGFgzC,KAAKwJ,EAHJ,IAGU,CAHjB;AAID;;AAEc,yEAASlkF,MAAT,EAAiB;AAC9B,MAAI1f,IAAI0f,OAAOzc,MAAP,GAAgB,CAAxB;AACA,SAAO,UAASxD,CAAT,EAAY;AACjB,QAAIjB,IAAIiB,KAAK,CAAL,GAAUA,IAAI,CAAd,GAAmBA,KAAK,CAAL,IAAUA,IAAI,CAAJ,EAAOO,IAAI,CAArB,IAA0Byb,KAAKuT,KAAL,CAAWvvB,IAAIO,CAAf,CAArD;AAAA,QACImnD,KAAKznC,OAAOlhB,CAAP,CADT;AAAA,QAEI4oD,KAAK1nC,OAAOlhB,IAAI,CAAX,CAFT;AAAA,QAGImlG,KAAKnlG,IAAI,CAAJ,GAAQkhB,OAAOlhB,IAAI,CAAX,CAAR,GAAwB,IAAI2oD,EAAJ,GAASC,EAH1C;AAAA,QAIIw8C,KAAKplG,IAAIwB,IAAI,CAAR,GAAY0f,OAAOlhB,IAAI,CAAX,CAAZ,GAA4B,IAAI4oD,EAAJ,GAASD,EAJ9C;AAKA,WAAOu8C,MAAM,CAACjkG,IAAIjB,IAAIwB,CAAT,IAAcA,CAApB,EAAuB2jG,EAAvB,EAA2Bx8C,EAA3B,EAA+BC,EAA/B,EAAmCw8C,EAAnC,CAAP;AACD,GAPD;AAQD,C;;;;;;;;;;;;AClBD;AAAA;AAAA;;AAEe,yEAASlkF,MAAT,EAAiB;AAC9B,MAAI1f,IAAI0f,OAAOzc,MAAf;AACA,SAAO,UAASxD,CAAT,EAAY;AACjB,QAAIjB,IAAIid,KAAKuT,KAAL,CAAW,CAAC,CAACvvB,KAAK,CAAN,IAAW,CAAX,GAAe,EAAEA,CAAjB,GAAqBA,CAAtB,IAA2BO,CAAtC,CAAR;AAAA,QACI2jG,KAAKjkF,OAAO,CAAClhB,IAAIwB,CAAJ,GAAQ,CAAT,IAAcA,CAArB,CADT;AAAA,QAEImnD,KAAKznC,OAAOlhB,IAAIwB,CAAX,CAFT;AAAA,QAGIonD,KAAK1nC,OAAO,CAAClhB,IAAI,CAAL,IAAUwB,CAAjB,CAHT;AAAA,QAII4jG,KAAKlkF,OAAO,CAAClhB,IAAI,CAAL,IAAUwB,CAAjB,CAJT;AAKA,WAAO0jG,oDAAKA,CAAC,CAACjkG,IAAIjB,IAAIwB,CAAT,IAAcA,CAApB,EAAuB2jG,EAAvB,EAA2Bx8C,EAA3B,EAA+BC,EAA/B,EAAmCw8C,EAAnC,CAAP;AACD,GAPD;AAQD,C;;;;;;;;;;;;ACZD;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEA,SAAS79C,MAAT,CAAgB9gC,CAAhB,EAAmBpmB,CAAnB,EAAsB;AACpB,SAAO,UAASY,CAAT,EAAY;AACjB,WAAOwlB,IAAIxlB,IAAIZ,CAAf;AACD,GAFD;AAGD;;AAED,SAASglG,WAAT,CAAqB5+E,CAArB,EAAwBC,CAAxB,EAA2BmQ,CAA3B,EAA8B;AAC5B,SAAOpQ,IAAIxJ,KAAKuQ,GAAL,CAAS/G,CAAT,EAAYoQ,CAAZ,CAAJ,EAAoBnQ,IAAIzJ,KAAKuQ,GAAL,CAAS9G,CAAT,EAAYmQ,CAAZ,IAAiBpQ,CAAzC,EAA4CoQ,IAAI,IAAIA,CAApD,EAAuD,UAAS51B,CAAT,EAAY;AACxE,WAAOgc,KAAKuQ,GAAL,CAAS/G,IAAIxlB,IAAIylB,CAAjB,EAAoBmQ,CAApB,CAAP;AACD,GAFD;AAGD;;AAEM,SAASyuE,GAAT,CAAa7+E,CAAb,EAAgBC,CAAhB,EAAmB;AACxB,MAAIrmB,IAAIqmB,IAAID,CAAZ;AACA,SAAOpmB,IAAIknD,OAAO9gC,CAAP,EAAUpmB,IAAI,GAAJ,IAAWA,IAAI,CAAC,GAAhB,GAAsBA,IAAI,MAAM4c,KAAK8e,KAAL,CAAW17B,IAAI,GAAf,CAAhC,GAAsDA,CAAhE,CAAJ,GAAyEsrF,yDAAQA,CAAC3vE,MAAMyK,CAAN,IAAWC,CAAX,GAAeD,CAAxB,CAAhF;AACD;;AAEM,SAAS8+E,KAAT,CAAe1uE,CAAf,EAAkB;AACvB,SAAO,CAACA,IAAI,CAACA,CAAN,MAAa,CAAb,GAAiB2uE,OAAjB,GAA2B,UAAS/+E,CAAT,EAAYC,CAAZ,EAAe;AAC/C,WAAOA,IAAID,CAAJ,GAAQ4+E,YAAY5+E,CAAZ,EAAeC,CAAf,EAAkBmQ,CAAlB,CAAR,GAA+B80D,yDAAQA,CAAC3vE,MAAMyK,CAAN,IAAWC,CAAX,GAAeD,CAAxB,CAAtC;AACD,GAFD;AAGD;;AAEc,SAAS++E,OAAT,CAAiB/+E,CAAjB,EAAoBC,CAApB,EAAuB;AACpC,MAAIrmB,IAAIqmB,IAAID,CAAZ;AACA,SAAOpmB,IAAIknD,OAAO9gC,CAAP,EAAUpmB,CAAV,CAAJ,GAAmBsrF,yDAAQA,CAAC3vE,MAAMyK,CAAN,IAAWC,CAAX,GAAeD,CAAxB,CAA1B;AACD,C;;;;;;;;;;;;AC5BD;AAAe,yEAASqG,CAAT,EAAY;AACzB,SAAO,YAAW;AAChB,WAAOA,CAAP;AACD,GAFD;AAGD,C;;;;;;;;;;;;ACJD;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,SAASmuE,SAAT,CAAmBqK,GAAnB,EAAwB;AACtB,SAAQ,SAASG,cAAT,CAAwB5uE,CAAxB,EAA2B;AACjCA,QAAI,CAACA,CAAL;;AAEA,aAASokE,SAAT,CAAmBr1E,KAAnB,EAA0B2L,GAA1B,EAA+B;AAC7B,UAAIg7B,IAAI+4C,IAAI,CAAC1/E,QAAQ8/E,0DAAcA,CAAC9/E,KAAf,CAAT,EAAgC2mC,CAApC,EAAuC,CAACh7B,MAAMm0E,0DAAcA,CAACn0E,GAAf,CAAP,EAA4Bg7B,CAAnE,CAAR;AAAA,UACIvqD,IAAIgyC,sDAAKA,CAACpuB,MAAM5jB,CAAZ,EAAeuvB,IAAIvvB,CAAnB,CADR;AAAA,UAEI/B,IAAI+zC,sDAAKA,CAACpuB,MAAM3lB,CAAZ,EAAesxB,IAAItxB,CAAnB,CAFR;AAAA,UAGI65F,UAAU9lD,sDAAKA,CAACpuB,MAAMk0E,OAAZ,EAAqBvoE,IAAIuoE,OAAzB,CAHd;AAIA,aAAO,UAAS74F,CAAT,EAAY;AACjB2kB,cAAM2mC,CAAN,GAAUA,EAAEtrD,CAAF,CAAV;AACA2kB,cAAM5jB,CAAN,GAAUA,EAAEf,CAAF,CAAV;AACA2kB,cAAM3lB,CAAN,GAAUA,EAAEgd,KAAKuQ,GAAL,CAASvsB,CAAT,EAAY41B,CAAZ,CAAF,CAAV;AACAjR,cAAMk0E,OAAN,GAAgBA,QAAQ74F,CAAR,CAAhB;AACA,eAAO2kB,QAAQ,EAAf;AACD,OAND;AAOD;;AAEDq1E,cAAUsK,KAAV,GAAkBE,cAAlB;;AAEA,WAAOxK,SAAP;AACD,GApBM,CAoBJ,CApBI,CAAP;AAqBD;;AAEcA,yEAAUqK,0CAAV,CAAf;AACO,IAAIK,gBAAgB1K,UAAUjnD,8CAAV,CAApB,C;;;;;;;;;;;;AC5BP;AAAe,yEAASvtB,CAAT,EAAYC,CAAZ,EAAe;AAC5B,MAAIrmB,IAAI,IAAIkc,IAAJ,EAAR;AACA,SAAOkK,IAAI,CAACA,CAAL,EAAQC,KAAKD,CAAb,EAAgB,UAASxlB,CAAT,EAAY;AACjC,WAAOZ,EAAEulG,OAAF,CAAUn/E,IAAIC,IAAIzlB,CAAlB,GAAsBZ,CAA7B;AACD,GAFD;AAGD,C;;;;;;;;;;;;ACLD;AAAe,yEAASoU,KAAT,EAAgB;AAC7B,MAAIjT,IAAIiT,MAAMhQ,MAAd;AACA,SAAO,UAASxD,CAAT,EAAY;AACjB,WAAOwT,MAAMwI,KAAKxD,GAAL,CAAS,CAAT,EAAYwD,KAAK3D,GAAL,CAAS9X,IAAI,CAAb,EAAgByb,KAAKuT,KAAL,CAAWvvB,IAAIO,CAAf,CAAhB,CAAZ,CAAN,CAAP;AACD,GAFD;AAGD,C;;;;;;;;;;;;ACLD;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,SAASg7F,GAAT,CAAa8I,GAAb,EAAkB;AAChB,SAAO,UAAS1/E,KAAT,EAAgB2L,GAAhB,EAAqB;AAC1B,QAAIg7B,IAAI+4C,IAAI,CAAC1/E,QAAQigF,oDAAQA,CAACjgF,KAAT,CAAT,EAA0B2mC,CAA9B,EAAiC,CAACh7B,MAAMs0E,oDAAQA,CAACt0E,GAAT,CAAP,EAAsBg7B,CAAvD,CAAR;AAAA,QACInsD,IAAI4zC,sDAAKA,CAACpuB,MAAMxlB,CAAZ,EAAemxB,IAAInxB,CAAnB,CADR;AAAA,QAEIH,IAAI+zC,sDAAKA,CAACpuB,MAAM3lB,CAAZ,EAAesxB,IAAItxB,CAAnB,CAFR;AAAA,QAGI65F,UAAU9lD,sDAAKA,CAACpuB,MAAMk0E,OAAZ,EAAqBvoE,IAAIuoE,OAAzB,CAHd;AAIA,WAAO,UAAS74F,CAAT,EAAY;AACjB2kB,YAAM2mC,CAAN,GAAUA,EAAEtrD,CAAF,CAAV;AACA2kB,YAAMxlB,CAAN,GAAUA,EAAEa,CAAF,CAAV;AACA2kB,YAAM3lB,CAAN,GAAUA,EAAEgB,CAAF,CAAV;AACA2kB,YAAMk0E,OAAN,GAAgBA,QAAQ74F,CAAR,CAAhB;AACA,aAAO2kB,QAAQ,EAAf;AACD,KAND;AAOD,GAZD;AAaD;;AAEc42E,mEAAI8I,0CAAJ,CAAf;AACO,IAAIQ,UAAUtJ,IAAIxoD,8CAAJ,CAAd,C;;;;;;;;;;;;ACpBP;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,SAASkmD,GAAT,CAAaoL,GAAb,EAAkB;AAChB,SAAO,UAAS1/E,KAAT,EAAgB2L,GAAhB,EAAqB;AAC1B,QAAIg7B,IAAI+4C,IAAI,CAAC1/E,QAAQmgF,oDAAQA,CAACngF,KAAT,CAAT,EAA0B2mC,CAA9B,EAAiC,CAACh7B,MAAMw0E,oDAAQA,CAACx0E,GAAT,CAAP,EAAsBg7B,CAAvD,CAAR;AAAA,QACIvqD,IAAIgyC,sDAAKA,CAACpuB,MAAM5jB,CAAZ,EAAeuvB,IAAIvvB,CAAnB,CADR;AAAA,QAEI/B,IAAI+zC,sDAAKA,CAACpuB,MAAM3lB,CAAZ,EAAesxB,IAAItxB,CAAnB,CAFR;AAAA,QAGI65F,UAAU9lD,sDAAKA,CAACpuB,MAAMk0E,OAAZ,EAAqBvoE,IAAIuoE,OAAzB,CAHd;AAIA,WAAO,UAAS74F,CAAT,EAAY;AACjB2kB,YAAM2mC,CAAN,GAAUA,EAAEtrD,CAAF,CAAV;AACA2kB,YAAM5jB,CAAN,GAAUA,EAAEf,CAAF,CAAV;AACA2kB,YAAM3lB,CAAN,GAAUA,EAAEgB,CAAF,CAAV;AACA2kB,YAAMk0E,OAAN,GAAgBA,QAAQ74F,CAAR,CAAhB;AACA,aAAO2kB,QAAQ,EAAf;AACD,KAND;AAOD,GAZD;AAaD;;AAEcs0E,mEAAIoL,0CAAJ,CAAf;AACO,IAAIU,UAAU9L,IAAIlmD,8CAAJ,CAAd,C;;;;;;;;;;;;ACpBP;AAAA;AAAA;;AAEe,yEAASvtB,CAAT,EAAYC,CAAZ,EAAe;AAC5B,MAAI1mB,IAAIslG,kDAAGA,CAAC,CAAC7+E,CAAL,EAAQ,CAACC,CAAT,CAAR;AACA,SAAO,UAASzlB,CAAT,EAAY;AACjB,QAAI6rB,IAAI9sB,EAAEiB,CAAF,CAAR;AACA,WAAO6rB,IAAI,MAAM7P,KAAKuT,KAAL,CAAW1D,IAAI,GAAf,CAAjB;AACD,GAHD;AAID,C;;;;;;;;;;;;ACRD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEe,SAASqvE,GAAT,CAAav2E,KAAb,EAAoB2L,GAApB,EAAyB;AACtC,MAAItxB,IAAI+zC,sDAAKA,CAAC,CAACpuB,QAAQqgF,oDAAQA,CAACrgF,KAAT,CAAT,EAA0B3lB,CAAhC,EAAmC,CAACsxB,MAAM00E,oDAAQA,CAAC10E,GAAT,CAAP,EAAsBtxB,CAAzD,CAAR;AAAA,MACIwmB,IAAIutB,sDAAKA,CAACpuB,MAAMa,CAAZ,EAAe8K,IAAI9K,CAAnB,CADR;AAAA,MAEIC,IAAIstB,sDAAKA,CAACpuB,MAAMc,CAAZ,EAAe6K,IAAI7K,CAAnB,CAFR;AAAA,MAGIozE,UAAU9lD,sDAAKA,CAACpuB,MAAMk0E,OAAZ,EAAqBvoE,IAAIuoE,OAAzB,CAHd;AAIA,SAAO,UAAS74F,CAAT,EAAY;AACjB2kB,UAAM3lB,CAAN,GAAUA,EAAEgB,CAAF,CAAV;AACA2kB,UAAMa,CAAN,GAAUA,EAAExlB,CAAF,CAAV;AACA2kB,UAAMc,CAAN,GAAUA,EAAEzlB,CAAF,CAAV;AACA2kB,UAAMk0E,OAAN,GAAgBA,QAAQ74F,CAAR,CAAhB;AACA,WAAO2kB,QAAQ,EAAf;AACD,GAND;AAOD,C;;;;;;;;;;;;ACfD;AAAe,yEAASa,CAAT,EAAYC,CAAZ,EAAe;AAC5B,SAAOD,IAAI,CAACA,CAAL,EAAQC,KAAKD,CAAb,EAAgB,UAASxlB,CAAT,EAAY;AACjC,WAAOwlB,IAAIC,IAAIzlB,CAAf;AACD,GAFD;AAGD,C;;;;;;;;;;;;;;;;ACJD;;AAEe,yEAASwlB,CAAT,EAAYC,CAAZ,EAAe;AAC5B,MAAI1mB,IAAI,EAAR;AAAA,MACII,IAAI,EADR;AAAA,MAEIutF,CAFJ;;AAIA,MAAIlnE,MAAM,IAAN,IAAc,QAAOA,CAAP,yCAAOA,CAAP,OAAa,QAA/B,EAAyCA,IAAI,EAAJ;AACzC,MAAIC,MAAM,IAAN,IAAc,QAAOA,CAAP,yCAAOA,CAAP,OAAa,QAA/B,EAAyCA,IAAI,EAAJ;;AAEzC,OAAKinE,CAAL,IAAUjnE,CAAV,EAAa;AACX,QAAIinE,KAAKlnE,CAAT,EAAY;AACVzmB,QAAE2tF,CAAF,IAAO3sF,sDAAKA,CAACylB,EAAEknE,CAAF,CAAN,EAAYjnE,EAAEinE,CAAF,CAAZ,CAAP;AACD,KAFD,MAEO;AACLvtF,QAAEutF,CAAF,IAAOjnE,EAAEinE,CAAF,CAAP;AACD;AACF;;AAED,SAAO,UAAS1sF,CAAT,EAAY;AACjB,SAAK0sF,CAAL,IAAU3tF,CAAV;AAAaI,QAAEutF,CAAF,IAAO3tF,EAAE2tF,CAAF,EAAK1sF,CAAL,CAAP;AAAb,KACA,OAAOb,CAAP;AACD,GAHD;AAID,C;;;;;;;;;;;;ACtBD;AAAA;AAAe,SAAS8lG,SAAT,CAAmBC,WAAnB,EAAgCjlF,MAAhC,EAAwC;AACrD,MAAIlhB,IAAI,CAAR;AAAA,MAAWwB,IAAI0f,OAAOzc,MAAP,GAAgB,CAA/B;AAAA,MAAkC0c,IAAID,OAAO,CAAP,CAAtC;AAAA,MAAiDxc,IAAI,IAAIqD,KAAJ,CAAUvG,IAAI,CAAJ,GAAQ,CAAR,GAAYA,CAAtB,CAArD;AACA,SAAOxB,IAAIwB,CAAX;AAAckD,MAAE1E,CAAF,IAAOmmG,YAAYhlF,CAAZ,EAAeA,IAAID,OAAO,EAAElhB,CAAT,CAAnB,CAAP;AAAd,GACA,OAAO,UAASiB,CAAT,EAAY;AACjB,QAAIjB,IAAIid,KAAKxD,GAAL,CAAS,CAAT,EAAYwD,KAAK3D,GAAL,CAAS9X,IAAI,CAAb,EAAgByb,KAAKuT,KAAL,CAAWvvB,KAAKO,CAAhB,CAAhB,CAAZ,CAAR;AACA,WAAOkD,EAAE1E,CAAF,EAAKiB,IAAIjB,CAAT,CAAP;AACD,GAHD;AAID,C;;;;;;;;;;;;ACPD;AAAe,yEAAS4jD,YAAT,EAAuBpiD,CAAvB,EAA0B;AACvC,MAAI4kG,UAAU,IAAIr+F,KAAJ,CAAUvG,CAAV,CAAd;AACA,OAAK,IAAIxB,IAAI,CAAb,EAAgBA,IAAIwB,CAApB,EAAuB,EAAExB,CAAzB;AAA4BomG,YAAQpmG,CAAR,IAAa4jD,aAAa5jD,KAAKwB,IAAI,CAAT,CAAb,CAAb;AAA5B,GACA,OAAO4kG,OAAP;AACD,C;;;;;;;;;;;;ACJD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA,+DAAe,CAAC,SAASC,QAAT,CAAkBxvE,CAAlB,EAAqB;AACnC,MAAImd,QAAQuxD,oDAAKA,CAAC1uE,CAAN,CAAZ;;AAEA,WAASo2B,GAAT,CAAarnC,KAAb,EAAoB2L,GAApB,EAAyB;AACvB,QAAI1wB,IAAImzC,MAAM,CAACpuB,QAAQ0gF,oDAAQA,CAAC1gF,KAAT,CAAT,EAA0B/kB,CAAhC,EAAmC,CAAC0wB,MAAM+0E,oDAAQA,CAAC/0E,GAAT,CAAP,EAAsB1wB,CAAzD,CAAR;AAAA,QACI+4F,IAAI5lD,MAAMpuB,MAAMg0E,CAAZ,EAAeroE,IAAIqoE,CAAnB,CADR;AAAA,QAEIlzE,IAAIstB,MAAMpuB,MAAMc,CAAZ,EAAe6K,IAAI7K,CAAnB,CAFR;AAAA,QAGIozE,UAAU0L,sDAAOA,CAAC5/E,MAAMk0E,OAAd,EAAuBvoE,IAAIuoE,OAA3B,CAHd;AAIA,WAAO,UAAS74F,CAAT,EAAY;AACjB2kB,YAAM/kB,CAAN,GAAUA,EAAEI,CAAF,CAAV;AACA2kB,YAAMg0E,CAAN,GAAUA,EAAE34F,CAAF,CAAV;AACA2kB,YAAMc,CAAN,GAAUA,EAAEzlB,CAAF,CAAV;AACA2kB,YAAMk0E,OAAN,GAAgBA,QAAQ74F,CAAR,CAAhB;AACA,aAAO2kB,QAAQ,EAAf;AACD,KAND;AAOD;;AAEDqnC,MAAIs4C,KAAJ,GAAYc,QAAZ;;AAEA,SAAOp5C,GAAP;AACD,CApBc,EAoBZ,CApBY,CAAf;;AAsBA,SAASs5C,SAAT,CAAmBC,MAAnB,EAA2B;AACzB,SAAO,UAASC,MAAT,EAAiB;AACtB,QAAIjlG,IAAIilG,OAAOhiG,MAAf;AAAA,QACI5D,IAAI,IAAIkH,KAAJ,CAAUvG,CAAV,CADR;AAAA,QAEIo4F,IAAI,IAAI7xF,KAAJ,CAAUvG,CAAV,CAFR;AAAA,QAGIklB,IAAI,IAAI3e,KAAJ,CAAUvG,CAAV,CAHR;AAAA,QAIIxB,CAJJ;AAAA,QAIOg0C,KAJP;AAKA,SAAKh0C,IAAI,CAAT,EAAYA,IAAIwB,CAAhB,EAAmB,EAAExB,CAArB,EAAwB;AACtBg0C,cAAQsyD,oDAAQA,CAACG,OAAOzmG,CAAP,CAAT,CAAR;AACAa,QAAEb,CAAF,IAAOg0C,MAAMnzC,CAAN,IAAW,CAAlB;AACA+4F,QAAE55F,CAAF,IAAOg0C,MAAM4lD,CAAN,IAAW,CAAlB;AACAlzE,QAAE1mB,CAAF,IAAOg0C,MAAMttB,CAAN,IAAW,CAAlB;AACD;AACD7lB,QAAI2lG,OAAO3lG,CAAP,CAAJ;AACA+4F,QAAI4M,OAAO5M,CAAP,CAAJ;AACAlzE,QAAI8/E,OAAO9/E,CAAP,CAAJ;AACAstB,UAAM8lD,OAAN,GAAgB,CAAhB;AACA,WAAO,UAAS74F,CAAT,EAAY;AACjB+yC,YAAMnzC,CAAN,GAAUA,EAAEI,CAAF,CAAV;AACA+yC,YAAM4lD,CAAN,GAAUA,EAAE34F,CAAF,CAAV;AACA+yC,YAAMttB,CAAN,GAAUA,EAAEzlB,CAAF,CAAV;AACA,aAAO+yC,QAAQ,EAAf;AACD,KALD;AAMD,GAtBD;AAuBD;;AAEM,IAAI0yD,WAAWH,UAAUrB,8CAAV,CAAf;AACA,IAAIyB,iBAAiBJ,UAAUK,oDAAV,CAArB,C;;;;;;;;;;;;ACtDP;AAAe,yEAASngF,CAAT,EAAYC,CAAZ,EAAe;AAC5B,SAAOD,IAAI,CAACA,CAAL,EAAQC,KAAKD,CAAb,EAAgB,UAASxlB,CAAT,EAAY;AACjC,WAAOgc,KAAK8e,KAAL,CAAWtV,IAAIC,IAAIzlB,CAAnB,CAAP;AACD,GAFD;AAGD,C;;;;;;;;;;;;ACJD;AAAA;AAAA;;AAEA,IAAI4lG,MAAM,6CAAV;AAAA,IACIC,MAAM,IAAI3iG,MAAJ,CAAW0iG,IAAIl1E,MAAf,EAAuB,GAAvB,CADV;;AAGA,SAASiyE,IAAT,CAAcl9E,CAAd,EAAiB;AACf,SAAO,YAAW;AAChB,WAAOA,CAAP;AACD,GAFD;AAGD;;AAED,SAASqgF,GAAT,CAAargF,CAAb,EAAgB;AACd,SAAO,UAASzlB,CAAT,EAAY;AACjB,WAAOylB,EAAEzlB,CAAF,IAAO,EAAd;AACD,GAFD;AAGD;;AAEc,yEAASwlB,CAAT,EAAYC,CAAZ,EAAe;AAC5B,MAAIsgF,KAAKH,IAAII,SAAJ,GAAgBH,IAAIG,SAAJ,GAAgB,CAAzC;AAAA,MAA4C;AACxCC,IADJ;AAAA,MACQ;AACJC,IAFJ;AAAA,MAEQ;AACJC,IAHJ;AAAA,MAGQ;AACJpnG,MAAI,CAAC,CAJT;AAAA,MAIY;AACRgC,MAAI,EALR;AAAA,MAKY;AACRqlG,MAAI,EANR,CAD4B,CAOhB;;AAEZ;AACA5gF,MAAIA,IAAI,EAAR,EAAYC,IAAIA,IAAI,EAApB;;AAEA;AACA,SAAO,CAACwgF,KAAKL,IAAIrN,IAAJ,CAAS/yE,CAAT,CAAN,MACC0gF,KAAKL,IAAItN,IAAJ,CAAS9yE,CAAT,CADN,CAAP,EAC2B;AACzB,QAAI,CAAC0gF,KAAKD,GAAGz1F,KAAT,IAAkBs1F,EAAtB,EAA0B;AAAE;AAC1BI,WAAK1gF,EAAE3hB,KAAF,CAAQiiG,EAAR,EAAYI,EAAZ,CAAL;AACA,UAAIplG,EAAEhC,CAAF,CAAJ,EAAUgC,EAAEhC,CAAF,KAAQonG,EAAR,CAAV,CAAsB;AAAtB,WACKplG,EAAE,EAAEhC,CAAJ,IAASonG,EAAT;AACN;AACD,QAAI,CAACF,KAAKA,GAAG,CAAH,CAAN,OAAkBC,KAAKA,GAAG,CAAH,CAAvB,CAAJ,EAAmC;AAAE;AACnC,UAAInlG,EAAEhC,CAAF,CAAJ,EAAUgC,EAAEhC,CAAF,KAAQmnG,EAAR,CAAV,CAAsB;AAAtB,WACKnlG,EAAE,EAAEhC,CAAJ,IAASmnG,EAAT;AACN,KAHD,MAGO;AAAE;AACPnlG,QAAE,EAAEhC,CAAJ,IAAS,IAAT;AACAqnG,QAAErjG,IAAF,CAAO,EAAChE,GAAGA,CAAJ,EAAO8sB,GAAG++D,uDAAMA,CAACqb,EAAP,EAAWC,EAAX,CAAV,EAAP;AACD;AACDH,SAAKF,IAAIG,SAAT;AACD;;AAED;AACA,MAAID,KAAKtgF,EAAEjiB,MAAX,EAAmB;AACjB2iG,SAAK1gF,EAAE3hB,KAAF,CAAQiiG,EAAR,CAAL;AACA,QAAIhlG,EAAEhC,CAAF,CAAJ,EAAUgC,EAAEhC,CAAF,KAAQonG,EAAR,CAAV,CAAsB;AAAtB,SACKplG,EAAE,EAAEhC,CAAJ,IAASonG,EAAT;AACN;;AAED;AACA;AACA,SAAOplG,EAAEyC,MAAF,GAAW,CAAX,GAAgB4iG,EAAE,CAAF,IACjBN,IAAIM,EAAE,CAAF,EAAKv6E,CAAT,CADiB,GAEjB82E,KAAKl9E,CAAL,CAFC,IAGAA,IAAI2gF,EAAE5iG,MAAN,EAAc,UAASxD,CAAT,EAAY;AACzB,SAAK,IAAIjB,IAAI,CAAR,EAAWQ,CAAhB,EAAmBR,IAAI0mB,CAAvB,EAA0B,EAAE1mB,CAA5B;AAA+BgC,QAAE,CAACxB,IAAI6mG,EAAErnG,CAAF,CAAL,EAAWA,CAAb,IAAkBQ,EAAEssB,CAAF,CAAI7rB,CAAJ,CAAlB;AAA/B,KACA,OAAOe,EAAEuB,IAAF,CAAO,EAAP,CAAP;AACD,GANA,CAAP;AAOD,C;;;;;;;;;;;;AC/DD;AAAA;AAAA,IAAI+jG,UAAU,MAAMrqF,KAAKqoC,EAAzB;;AAEO,IAAI7kB,WAAW;AACpB4sD,cAAY,CADQ;AAEpBC,cAAY,CAFQ;AAGpBpoC,UAAQ,CAHY;AAIpBqiD,SAAO,CAJa;AAKpBC,UAAQ,CALY;AAMpBC,UAAQ;AANY,CAAf;;AASQ,yEAAShhF,CAAT,EAAYC,CAAZ,EAAetmB,CAAf,EAAkBC,CAAlB,EAAqBuN,CAArB,EAAwBnK,CAAxB,EAA2B;AACxC,MAAI+jG,MAAJ,EAAYC,MAAZ,EAAoBF,KAApB;AACA,MAAIC,SAASvqF,KAAKyQ,IAAL,CAAUjH,IAAIA,CAAJ,GAAQC,IAAIA,CAAtB,CAAb,EAAuCD,KAAK+gF,MAAL,EAAa9gF,KAAK8gF,MAAlB;AACvC,MAAID,QAAQ9gF,IAAIrmB,CAAJ,GAAQsmB,IAAIrmB,CAAxB,EAA2BD,KAAKqmB,IAAI8gF,KAAT,EAAgBlnG,KAAKqmB,IAAI6gF,KAAzB;AAC3B,MAAIE,SAASxqF,KAAKyQ,IAAL,CAAUttB,IAAIA,CAAJ,GAAQC,IAAIA,CAAtB,CAAb,EAAuCD,KAAKqnG,MAAL,EAAapnG,KAAKonG,MAAlB,EAA0BF,SAASE,MAAnC;AACvC,MAAIhhF,IAAIpmB,CAAJ,GAAQqmB,IAAItmB,CAAhB,EAAmBqmB,IAAI,CAACA,CAAL,EAAQC,IAAI,CAACA,CAAb,EAAgB6gF,QAAQ,CAACA,KAAzB,EAAgCC,SAAS,CAACA,MAA1C;AACnB,SAAO;AACLna,gBAAYz/E,CADP;AAEL0/E,gBAAY7pF,CAFP;AAGLyhD,YAAQjoC,KAAK89E,KAAL,CAAWr0E,CAAX,EAAcD,CAAd,IAAmB6gF,OAHtB;AAILC,WAAOtqF,KAAKyqF,IAAL,CAAUH,KAAV,IAAmBD,OAJrB;AAKLE,YAAQA,MALH;AAMLC,YAAQA;AANH,GAAP;AAQD,C;;;;;;;;;;;;ACzBD;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,SAASE,oBAAT,CAA8BnlG,KAA9B,EAAqColG,OAArC,EAA8CC,OAA9C,EAAuDC,QAAvD,EAAiE;;AAE/D,WAAS78E,GAAT,CAAajpB,CAAb,EAAgB;AACd,WAAOA,EAAEyC,MAAF,GAAWzC,EAAEipB,GAAF,KAAU,GAArB,GAA2B,EAAlC;AACD;;AAED,WAAS88E,SAAT,CAAmBC,EAAnB,EAAuBC,EAAvB,EAA2BC,EAA3B,EAA+BC,EAA/B,EAAmCnmG,CAAnC,EAAsCqlG,CAAtC,EAAyC;AACvC,QAAIW,OAAOE,EAAP,IAAaD,OAAOE,EAAxB,EAA4B;AAC1B,UAAInoG,IAAIgC,EAAEgC,IAAF,CAAO,YAAP,EAAqB,IAArB,EAA2B4jG,OAA3B,EAAoC,IAApC,EAA0CC,OAA1C,CAAR;AACAR,QAAErjG,IAAF,CAAO,EAAChE,GAAGA,IAAI,CAAR,EAAW8sB,GAAG++D,uDAAMA,CAACmc,EAAP,EAAWE,EAAX,CAAd,EAAP,EAAsC,EAACloG,GAAGA,IAAI,CAAR,EAAW8sB,GAAG++D,uDAAMA,CAACoc,EAAP,EAAWE,EAAX,CAAd,EAAtC;AACD,KAHD,MAGO,IAAID,MAAMC,EAAV,EAAc;AACnBnmG,QAAEgC,IAAF,CAAO,eAAekkG,EAAf,GAAoBN,OAApB,GAA8BO,EAA9B,GAAmCN,OAA1C;AACD;AACF;;AAED,WAAS3iD,MAAT,CAAgBz+B,CAAhB,EAAmBC,CAAnB,EAAsB1kB,CAAtB,EAAyBqlG,CAAzB,EAA4B;AAC1B,QAAI5gF,MAAMC,CAAV,EAAa;AACX,UAAID,IAAIC,CAAJ,GAAQ,GAAZ,EAAiBA,KAAK,GAAL,CAAjB,KAAgC,IAAIA,IAAID,CAAJ,GAAQ,GAAZ,EAAiBA,KAAK,GAAL,CADtC,CACgD;AAC3D4gF,QAAErjG,IAAF,CAAO,EAAChE,GAAGgC,EAAEgC,IAAF,CAAOinB,IAAIjpB,CAAJ,IAAS,SAAhB,EAA2B,IAA3B,EAAiC8lG,QAAjC,IAA6C,CAAjD,EAAoDh7E,GAAG++D,uDAAMA,CAACplE,CAAP,EAAUC,CAAV,CAAvD,EAAP;AACD,KAHD,MAGO,IAAIA,CAAJ,EAAO;AACZ1kB,QAAEgC,IAAF,CAAOinB,IAAIjpB,CAAJ,IAAS,SAAT,GAAqB0kB,CAArB,GAAyBohF,QAAhC;AACD;AACF;;AAED,WAASP,KAAT,CAAe9gF,CAAf,EAAkBC,CAAlB,EAAqB1kB,CAArB,EAAwBqlG,CAAxB,EAA2B;AACzB,QAAI5gF,MAAMC,CAAV,EAAa;AACX2gF,QAAErjG,IAAF,CAAO,EAAChE,GAAGgC,EAAEgC,IAAF,CAAOinB,IAAIjpB,CAAJ,IAAS,QAAhB,EAA0B,IAA1B,EAAgC8lG,QAAhC,IAA4C,CAAhD,EAAmDh7E,GAAG++D,uDAAMA,CAACplE,CAAP,EAAUC,CAAV,CAAtD,EAAP;AACD,KAFD,MAEO,IAAIA,CAAJ,EAAO;AACZ1kB,QAAEgC,IAAF,CAAOinB,IAAIjpB,CAAJ,IAAS,QAAT,GAAoB0kB,CAApB,GAAwBohF,QAA/B;AACD;AACF;;AAED,WAASrpD,KAAT,CAAeupD,EAAf,EAAmBC,EAAnB,EAAuBC,EAAvB,EAA2BC,EAA3B,EAA+BnmG,CAA/B,EAAkCqlG,CAAlC,EAAqC;AACnC,QAAIW,OAAOE,EAAP,IAAaD,OAAOE,EAAxB,EAA4B;AAC1B,UAAInoG,IAAIgC,EAAEgC,IAAF,CAAOinB,IAAIjpB,CAAJ,IAAS,QAAhB,EAA0B,IAA1B,EAAgC,GAAhC,EAAqC,IAArC,EAA2C,GAA3C,CAAR;AACAqlG,QAAErjG,IAAF,CAAO,EAAChE,GAAGA,IAAI,CAAR,EAAW8sB,GAAG++D,uDAAMA,CAACmc,EAAP,EAAWE,EAAX,CAAd,EAAP,EAAsC,EAACloG,GAAGA,IAAI,CAAR,EAAW8sB,GAAG++D,uDAAMA,CAACoc,EAAP,EAAWE,EAAX,CAAd,EAAtC;AACD,KAHD,MAGO,IAAID,OAAO,CAAP,IAAYC,OAAO,CAAvB,EAA0B;AAC/BnmG,QAAEgC,IAAF,CAAOinB,IAAIjpB,CAAJ,IAAS,QAAT,GAAoBkmG,EAApB,GAAyB,GAAzB,GAA+BC,EAA/B,GAAoC,GAA3C;AACD;AACF;;AAED,SAAO,UAAS1hF,CAAT,EAAYC,CAAZ,EAAe;AACpB,QAAI1kB,IAAI,EAAR;AAAA,QAAY;AACRqlG,QAAI,EADR,CADoB,CAER;AACZ5gF,QAAIjkB,MAAMikB,CAAN,CAAJ,EAAcC,IAAIlkB,MAAMkkB,CAAN,CAAlB;AACAqhF,cAAUthF,EAAE4mE,UAAZ,EAAwB5mE,EAAE6mE,UAA1B,EAAsC5mE,EAAE2mE,UAAxC,EAAoD3mE,EAAE4mE,UAAtD,EAAkEtrF,CAAlE,EAAqEqlG,CAArE;AACAniD,WAAOz+B,EAAEy+B,MAAT,EAAiBx+B,EAAEw+B,MAAnB,EAA2BljD,CAA3B,EAA8BqlG,CAA9B;AACAE,UAAM9gF,EAAE8gF,KAAR,EAAe7gF,EAAE6gF,KAAjB,EAAwBvlG,CAAxB,EAA2BqlG,CAA3B;AACA5oD,UAAMh4B,EAAE+gF,MAAR,EAAgB/gF,EAAEghF,MAAlB,EAA0B/gF,EAAE8gF,MAA5B,EAAoC9gF,EAAE+gF,MAAtC,EAA8CzlG,CAA9C,EAAiDqlG,CAAjD;AACA5gF,QAAIC,IAAI,IAAR,CARoB,CAQN;AACd,WAAO,UAASzlB,CAAT,EAAY;AACjB,UAAIjB,IAAI,CAAC,CAAT;AAAA,UAAYwB,IAAI6lG,EAAE5iG,MAAlB;AAAA,UAA0BjE,CAA1B;AACA,aAAO,EAAER,CAAF,GAAMwB,CAAb;AAAgBQ,UAAE,CAACxB,IAAI6mG,EAAErnG,CAAF,CAAL,EAAWA,CAAb,IAAkBQ,EAAEssB,CAAF,CAAI7rB,CAAJ,CAAlB;AAAhB,OACA,OAAOe,EAAEuB,IAAF,CAAO,EAAP,CAAP;AACD,KAJD;AAKD,GAdD;AAeD;;AAEM,IAAI6kG,0BAA0BT,qBAAqBU,+CAArB,EAA+B,MAA/B,EAAuC,KAAvC,EAA8C,MAA9C,CAA9B;AACA,IAAIC,0BAA0BX,qBAAqBY,+CAArB,EAA+B,IAA/B,EAAqC,GAArC,EAA0C,GAA1C,CAA9B,C;;;;;;;;;;;;AC9DP;AAAA;AAAA;AAAA;AAAA;;AAEA,IAAIC,OAAJ,EACIC,OADJ,EAEIC,OAFJ,EAGIC,OAHJ;;AAKO,SAASN,QAAT,CAAkBrnG,KAAlB,EAAyB;AAC9B,MAAIA,UAAU,MAAd,EAAsB,OAAOy/B,mDAAP;AACtB,MAAI,CAAC+nE,OAAL,EAAcA,UAAUznB,SAAS1T,aAAT,CAAuB,KAAvB,CAAV,EAAyCo7B,UAAU1nB,SAASwe,eAA5D,EAA6EmJ,UAAU3nB,SAAS6nB,WAAhG;AACdJ,UAAQt0D,KAAR,CAAc+3B,SAAd,GAA0BjrE,KAA1B;AACAA,UAAQ0nG,QAAQG,gBAAR,CAAyBJ,QAAQtnB,WAAR,CAAoBqnB,OAApB,CAAzB,EAAuD,IAAvD,EAA6DM,gBAA7D,CAA8E,WAA9E,CAAR;AACAL,UAAQr1E,WAAR,CAAoBo1E,OAApB;AACAxnG,UAAQA,MAAM+D,KAAN,CAAY,CAAZ,EAAe,CAAC,CAAhB,EAAmB0a,KAAnB,CAAyB,GAAzB,CAAR;AACA,SAAOspF,0DAASA,CAAC,CAAC/nG,MAAM,CAAN,CAAX,EAAqB,CAACA,MAAM,CAAN,CAAtB,EAAgC,CAACA,MAAM,CAAN,CAAjC,EAA2C,CAACA,MAAM,CAAN,CAA5C,EAAsD,CAACA,MAAM,CAAN,CAAvD,EAAiE,CAACA,MAAM,CAAN,CAAlE,CAAP;AACD;;AAEM,SAASunG,QAAT,CAAkBvnG,KAAlB,EAAyB;AAC9B,MAAIA,SAAS,IAAb,EAAmB,OAAOy/B,mDAAP;AACnB,MAAI,CAACkoE,OAAL,EAAcA,UAAU5nB,SAASC,eAAT,CAAyB,4BAAzB,EAAuD,GAAvD,CAAV;AACd2nB,UAAQ1nB,YAAR,CAAqB,WAArB,EAAkCjgF,KAAlC;AACA,MAAI,EAAEA,QAAQ2nG,QAAQ18B,SAAR,CAAkB+8B,OAAlB,CAA0BC,WAA1B,EAAV,CAAJ,EAAwD,OAAOxoE,mDAAP;AACxDz/B,UAAQA,MAAMyqC,MAAd;AACA,SAAOs9D,0DAASA,CAAC/nG,MAAMylB,CAAhB,EAAmBzlB,MAAM0lB,CAAzB,EAA4B1lB,MAAMZ,CAAlC,EAAqCY,MAAMX,CAA3C,EAA8CW,MAAM4M,CAApD,EAAuD5M,MAAMyC,CAA7D,CAAP;AACD,C;;;;;;;;;;;;;;;;;;;;;;;ACxBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,yEAASgjB,CAAT,EAAYC,CAAZ,EAAe;AAC5B,QAAIzlB,WAAWylB,CAAX,yCAAWA,CAAX,CAAJ;AAAA,QAAkBtmB,CAAlB;AACA,WAAOsmB,KAAK,IAAL,IAAazlB,MAAM,SAAnB,GAA+B0qF,yDAAQA,CAACjlE,CAAT,CAA/B,GACD,CAACzlB,MAAM,QAAN,GAAiB4qF,+CAAjB,GACD5qF,MAAM,QAAN,GAAkB,CAACb,IAAI4zC,sDAAKA,CAACttB,CAAN,CAAL,KAAkBA,IAAItmB,CAAJ,EAAO6sD,4CAAzB,IAAgCi8C,+CAAlD,GACAxiF,aAAastB,8CAAb,GAAqBiZ,4CAArB,GACAvmC,aAAanK,IAAb,GAAoBqX,6CAApB,GACA7rB,MAAMC,OAAN,CAAc0e,CAAd,IAAmBujE,8CAAnB,GACA,OAAOvjE,EAAEjF,OAAT,KAAqB,UAArB,IAAmC,OAAOiF,EAAEgP,QAAT,KAAsB,UAAzD,IAAuE1Z,MAAM0K,CAAN,CAAvE,GAAkF/kB,+CAAlF,GACAkqF,+CANA,EAMQplE,CANR,EAMWC,CANX,CADN;AAQD,C;;;;;;;;;;;;ACnBD;AAAA,IAAIyiF,MAAMlsF,KAAKmsF,KAAf;AAAA,IACIC,OAAO,CADX;AAAA,IAEIC,OAAO,CAFX;AAAA,IAGIC,WAAW,KAHf;;AAKA,SAASpO,IAAT,CAAcruE,CAAd,EAAiB;AACf,SAAO,CAAC,CAACA,IAAI7P,KAAKusF,GAAL,CAAS18E,CAAT,CAAL,IAAoB,IAAIA,CAAzB,IAA8B,CAArC;AACD;;AAED,SAASsuE,IAAT,CAActuE,CAAd,EAAiB;AACf,SAAO,CAAC,CAACA,IAAI7P,KAAKusF,GAAL,CAAS18E,CAAT,CAAL,IAAoB,IAAIA,CAAzB,IAA8B,CAArC;AACD;;AAED,SAAS28E,IAAT,CAAc38E,CAAd,EAAiB;AACf,SAAO,CAAC,CAACA,IAAI7P,KAAKusF,GAAL,CAAS,IAAI18E,CAAb,CAAL,IAAwB,CAAzB,KAA+BA,IAAI,CAAnC,CAAP;AACD;;AAED;AACA;AACe,yEAASuyE,EAAT,EAAax2C,EAAb,EAAiB;AAC9B,MAAI6gD,MAAMrK,GAAG,CAAH,CAAV;AAAA,MAAiBsK,MAAMtK,GAAG,CAAH,CAAvB;AAAA,MAA8BuK,KAAKvK,GAAG,CAAH,CAAnC;AAAA,MACIwK,MAAMhhD,GAAG,CAAH,CADV;AAAA,MACiBihD,MAAMjhD,GAAG,CAAH,CADvB;AAAA,MAC8BkhD,KAAKlhD,GAAG,CAAH,CADnC;AAAA,MAEIka,KAAK8mC,MAAMH,GAFf;AAAA,MAGI1mC,KAAK8mC,MAAMH,GAHf;AAAA,MAIIK,KAAKjnC,KAAKA,EAAL,GAAUC,KAAKA,EAJxB;AAAA,MAKIhjE,CALJ;AAAA,MAMIg2B,CANJ;;AAQA;AACA,MAAIg0E,KAAKT,QAAT,EAAmB;AACjBvzE,QAAI/Y,KAAKwqC,GAAL,CAASsiD,KAAKH,EAAd,IAAoBT,GAAxB;AACAnpG,QAAI,WAASiB,CAAT,EAAY;AACd,aAAO,CACLyoG,MAAMzoG,IAAI8hE,EADL,EAEL4mC,MAAM1oG,IAAI+hE,EAFL,EAGL4mC,KAAK3sF,KAAKusF,GAAL,CAASL,MAAMloG,CAAN,GAAU+0B,CAAnB,CAHA,CAAP;AAKD,KAND;AAOD;;AAED;AAXA,OAYK;AACH,UAAIi0E,KAAKhtF,KAAKyQ,IAAL,CAAUs8E,EAAV,CAAT;AAAA,UACItJ,KAAK,CAACqJ,KAAKA,EAAL,GAAUH,KAAKA,EAAf,GAAoBN,OAAOU,EAA5B,KAAmC,IAAIJ,EAAJ,GAASP,IAAT,GAAgBY,EAAnD,CADT;AAAA,UAEIlgF,KAAK,CAACggF,KAAKA,EAAL,GAAUH,KAAKA,EAAf,GAAoBN,OAAOU,EAA5B,KAAmC,IAAID,EAAJ,GAASV,IAAT,GAAgBY,EAAnD,CAFT;AAAA,UAGIC,KAAKjtF,KAAKwqC,GAAL,CAASxqC,KAAKyQ,IAAL,CAAUgzE,KAAKA,EAAL,GAAU,CAApB,IAAyBA,EAAlC,CAHT;AAAA,UAIIyJ,KAAKltF,KAAKwqC,GAAL,CAASxqC,KAAKyQ,IAAL,CAAU3D,KAAKA,EAAL,GAAU,CAApB,IAAyBA,EAAlC,CAJT;AAKAiM,UAAI,CAACm0E,KAAKD,EAAN,IAAYf,GAAhB;AACAnpG,UAAI,WAASiB,CAAT,EAAY;AACd,YAAIe,IAAIf,IAAI+0B,CAAZ;AAAA,YACIo0E,SAASjP,KAAK+O,EAAL,CADb;AAAA,YAEIG,IAAIT,MAAMP,OAAOY,EAAb,KAAoBG,SAASX,KAAKN,MAAMnnG,CAAN,GAAUkoG,EAAf,CAAT,GAA8B9O,KAAK8O,EAAL,CAAlD,CAFR;AAGA,eAAO,CACLR,MAAMW,IAAItnC,EADL,EAEL4mC,MAAMU,IAAIrnC,EAFL,EAGL4mC,KAAKQ,MAAL,GAAcjP,KAAKgO,MAAMnnG,CAAN,GAAUkoG,EAAf,CAHT,CAAP;AAKD,OATD;AAUD;;AAEDlqG,IAAE4/C,QAAF,GAAa5pB,IAAI,IAAjB;;AAEA,SAAOh2B,CAAP;AACD,C;;;;;;;;;;;;AC/DD;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA,IAAIoiG,KAAKnlF,KAAKqoC,EAAd;AAAA,IACI87C,MAAM,IAAIgB,EADd;AAAA,IAEIhV,UAAU,IAFd;AAAA,IAGIkd,aAAalJ,MAAMhU,OAHvB;;AAKA,SAASmd,IAAT,GAAgB;AACd,OAAKC,GAAL,GAAW,KAAKC,GAAL,GAAW;AACtB,OAAKC,GAAL,GAAW,KAAKC,GAAL,GAAW,IADtB,CADc,CAEc;AAC5B,OAAKjoF,CAAL,GAAS,EAAT;AACD;;AAED,SAASU,IAAT,GAAgB;AACd,SAAO,IAAImnF,IAAJ,EAAP;AACD;;AAEDA,KAAK1oG,SAAL,GAAiBuhB,KAAKvhB,SAAL,GAAiB;AAChCgK,eAAa0+F,IADmB;AAEhCK,UAAQ,gBAAS99E,CAAT,EAAY+J,CAAZ,EAAe;AACrB,SAAKnU,CAAL,IAAU,OAAO,KAAK8nF,GAAL,GAAW,KAAKE,GAAL,GAAW,CAAC59E,CAA9B,IAAmC,GAAnC,IAA0C,KAAK29E,GAAL,GAAW,KAAKE,GAAL,GAAW,CAAC9zE,CAAjE,CAAV;AACD,GAJ+B;AAKhCg0E,aAAW,qBAAW;AACpB,QAAI,KAAKH,GAAL,KAAa,IAAjB,EAAuB;AACrB,WAAKA,GAAL,GAAW,KAAKF,GAAhB,EAAqB,KAAKG,GAAL,GAAW,KAAKF,GAArC;AACA,WAAK/nF,CAAL,IAAU,GAAV;AACD;AACF,GAV+B;AAWhCooF,UAAQ,gBAASh+E,CAAT,EAAY+J,CAAZ,EAAe;AACrB,SAAKnU,CAAL,IAAU,OAAO,KAAKgoF,GAAL,GAAW,CAAC59E,CAAnB,IAAwB,GAAxB,IAA+B,KAAK69E,GAAL,GAAW,CAAC9zE,CAA3C,CAAV;AACD,GAb+B;AAchCk0E,oBAAkB,0BAASt6B,EAAT,EAAaC,EAAb,EAAiB5jD,CAAjB,EAAoB+J,CAApB,EAAuB;AACvC,SAAKnU,CAAL,IAAU,MAAO,CAAC+tD,EAAR,GAAc,GAAd,GAAqB,CAACC,EAAtB,GAA4B,GAA5B,IAAmC,KAAKg6B,GAAL,GAAW,CAAC59E,CAA/C,IAAoD,GAApD,IAA2D,KAAK69E,GAAL,GAAW,CAAC9zE,CAAvE,CAAV;AACD,GAhB+B;AAiBhCm0E,iBAAe,uBAASv6B,EAAT,EAAaC,EAAb,EAAiBxN,EAAjB,EAAqBD,EAArB,EAAyBn2C,CAAzB,EAA4B+J,CAA5B,EAA+B;AAC5C,SAAKnU,CAAL,IAAU,MAAO,CAAC+tD,EAAR,GAAc,GAAd,GAAqB,CAACC,EAAtB,GAA4B,GAA5B,GAAmC,CAACxN,EAApC,GAA0C,GAA1C,GAAiD,CAACD,EAAlD,GAAwD,GAAxD,IAA+D,KAAKynC,GAAL,GAAW,CAAC59E,CAA3E,IAAgF,GAAhF,IAAuF,KAAK69E,GAAL,GAAW,CAAC9zE,CAAnG,CAAV;AACD,GAnB+B;AAoBhCo0E,SAAO,eAASx6B,EAAT,EAAaC,EAAb,EAAiBxN,EAAjB,EAAqBD,EAArB,EAAyBpiE,CAAzB,EAA4B;AACjC4vE,SAAK,CAACA,EAAN,EAAUC,KAAK,CAACA,EAAhB,EAAoBxN,KAAK,CAACA,EAA1B,EAA8BD,KAAK,CAACA,EAApC,EAAwCpiE,IAAI,CAACA,CAA7C;AACA,QAAI0qF,KAAK,KAAKmf,GAAd;AAAA,QACIQ,KAAK,KAAKP,GADd;AAAA,QAEIQ,MAAMjoC,KAAKuN,EAFf;AAAA,QAGI26B,MAAMnoC,KAAKyN,EAHf;AAAA,QAII26B,MAAM9f,KAAK9a,EAJf;AAAA,QAKI66B,MAAMJ,KAAKx6B,EALf;AAAA,QAMI66B,QAAQF,MAAMA,GAAN,GAAYC,MAAMA,GAN9B;;AAQA;AACA,QAAIzqG,IAAI,CAAR,EAAW,MAAM,IAAI8G,KAAJ,CAAU,sBAAsB9G,CAAhC,CAAN;;AAEX;AACA,QAAI,KAAK6pG,GAAL,KAAa,IAAjB,EAAuB;AACrB,WAAKhoF,CAAL,IAAU,OAAO,KAAKgoF,GAAL,GAAWj6B,EAAlB,IAAwB,GAAxB,IAA+B,KAAKk6B,GAAL,GAAWj6B,EAA1C,CAAV;AACD;;AAED;AAJA,SAKK,IAAI,EAAE66B,QAAQne,OAAV,CAAJ,EAAuB;;AAE5B;AACA;AACA;AAJK,WAKA,IAAI,EAAEnwE,KAAKmf,GAAL,CAASkvE,MAAMH,GAAN,GAAYC,MAAMC,GAA3B,IAAkCje,OAApC,KAAgD,CAACvsF,CAArD,EAAwD;AAC3D,eAAK6hB,CAAL,IAAU,OAAO,KAAKgoF,GAAL,GAAWj6B,EAAlB,IAAwB,GAAxB,IAA+B,KAAKk6B,GAAL,GAAWj6B,EAA1C,CAAV;AACD;;AAED;AAJK,aAKA;AACH,gBAAI86B,MAAMtoC,KAAKqoB,EAAf;AAAA,gBACIkgB,MAAMxoC,KAAKioC,EADf;AAAA,gBAEIQ,QAAQP,MAAMA,GAAN,GAAYC,MAAMA,GAF9B;AAAA,gBAGIO,QAAQH,MAAMA,GAAN,GAAYC,MAAMA,GAH9B;AAAA,gBAIIG,MAAM3uF,KAAKyQ,IAAL,CAAUg+E,KAAV,CAJV;AAAA,gBAKIG,MAAM5uF,KAAKyQ,IAAL,CAAU69E,KAAV,CALV;AAAA,gBAMItrG,IAAIY,IAAIoc,KAAK27E,GAAL,CAAS,CAACwJ,KAAKnlF,KAAK6uF,IAAL,CAAU,CAACJ,QAAQH,KAAR,GAAgBI,KAAjB,KAA2B,IAAIC,GAAJ,GAAUC,GAArC,CAAV,CAAN,IAA8D,CAAvE,CANZ;AAAA,gBAOIE,MAAM9rG,IAAI4rG,GAPd;AAAA,gBAQIG,MAAM/rG,IAAI2rG,GARd;;AAUA;AACA,gBAAI3uF,KAAKmf,GAAL,CAAS2vE,MAAM,CAAf,IAAoB3e,OAAxB,EAAiC;AAC/B,mBAAK1qE,CAAL,IAAU,OAAO+tD,KAAKs7B,MAAMV,GAAlB,IAAyB,GAAzB,IAAgC36B,KAAKq7B,MAAMT,GAA3C,CAAV;AACD;;AAED,iBAAK5oF,CAAL,IAAU,MAAM7hB,CAAN,GAAU,GAAV,GAAgBA,CAAhB,GAAoB,OAApB,GAA+B,EAAEyqG,MAAME,GAAN,GAAYH,MAAMI,GAApB,CAA/B,GAA2D,GAA3D,IAAkE,KAAKf,GAAL,GAAWj6B,KAAKu7B,MAAMb,GAAxF,IAA+F,GAA/F,IAAsG,KAAKR,GAAL,GAAWj6B,KAAKs7B,MAAMZ,GAA5H,CAAV;AACD;AACF,GAnE+B;AAoEhCa,OAAK,aAASn/E,CAAT,EAAY+J,CAAZ,EAAeh2B,CAAf,EAAkBqrG,EAAlB,EAAsBpiF,EAAtB,EAA0BqiF,GAA1B,EAA+B;AAClCr/E,QAAI,CAACA,CAAL,EAAQ+J,IAAI,CAACA,CAAb,EAAgBh2B,IAAI,CAACA,CAArB;AACA,QAAIkiE,KAAKliE,IAAIoc,KAAKsoC,GAAL,CAAS2mD,EAAT,CAAb;AAAA,QACIlpC,KAAKniE,IAAIoc,KAAKsiC,GAAL,CAAS2sD,EAAT,CADb;AAAA,QAEI3gB,KAAKz+D,IAAIi2C,EAFb;AAAA,QAGImoC,KAAKr0E,IAAImsC,EAHb;AAAA,QAIIopC,KAAK,IAAID,GAJb;AAAA,QAKIE,KAAKF,MAAMD,KAAKpiF,EAAX,GAAgBA,KAAKoiF,EAL9B;;AAOA;AACA,QAAIrrG,IAAI,CAAR,EAAW,MAAM,IAAI8G,KAAJ,CAAU,sBAAsB9G,CAAhC,CAAN;;AAEX;AACA,QAAI,KAAK6pG,GAAL,KAAa,IAAjB,EAAuB;AACrB,WAAKhoF,CAAL,IAAU,MAAM6oE,EAAN,GAAW,GAAX,GAAiB2f,EAA3B;AACD;;AAED;AAJA,SAKK,IAAIjuF,KAAKmf,GAAL,CAAS,KAAKsuE,GAAL,GAAWnf,EAApB,IAA0B6B,OAA1B,IAAqCnwE,KAAKmf,GAAL,CAAS,KAAKuuE,GAAL,GAAWO,EAApB,IAA0B9d,OAAnE,EAA4E;AAC/E,aAAK1qE,CAAL,IAAU,MAAM6oE,EAAN,GAAW,GAAX,GAAiB2f,EAA3B;AACD;;AAED;AACA,QAAI,CAACrqG,CAAL,EAAQ;;AAER;AACA,QAAIwrG,KAAK,CAAT,EAAYA,KAAKA,KAAKjL,GAAL,GAAWA,GAAhB;;AAEZ;AACA,QAAIiL,KAAK/B,UAAT,EAAqB;AACnB,WAAK5nF,CAAL,IAAU,MAAM7hB,CAAN,GAAU,GAAV,GAAgBA,CAAhB,GAAoB,OAApB,GAA8BurG,EAA9B,GAAmC,GAAnC,IAA0Ct/E,IAAIi2C,EAA9C,IAAoD,GAApD,IAA2DlsC,IAAImsC,EAA/D,IAAqE,GAArE,GAA2EniE,CAA3E,GAA+E,GAA/E,GAAqFA,CAArF,GAAyF,OAAzF,GAAmGurG,EAAnG,GAAwG,GAAxG,IAA+G,KAAK1B,GAAL,GAAWnf,EAA1H,IAAgI,GAAhI,IAAuI,KAAKof,GAAL,GAAWO,EAAlJ,CAAV;AACD;;AAED;AAJA,SAKK,IAAImB,KAAKjf,OAAT,EAAkB;AACrB,aAAK1qE,CAAL,IAAU,MAAM7hB,CAAN,GAAU,GAAV,GAAgBA,CAAhB,GAAoB,KAApB,GAA6B,EAAEwrG,MAAMjK,EAAR,CAA7B,GAA4C,GAA5C,GAAkDgK,EAAlD,GAAuD,GAAvD,IAA8D,KAAK1B,GAAL,GAAW59E,IAAIjsB,IAAIoc,KAAKsoC,GAAL,CAASz7B,EAAT,CAAjF,IAAiG,GAAjG,IAAwG,KAAK6gF,GAAL,GAAW9zE,IAAIh2B,IAAIoc,KAAKsiC,GAAL,CAASz1B,EAAT,CAA3H,CAAV;AACD;AACF,GAzG+B;AA0GhCwiF,QAAM,cAASx/E,CAAT,EAAY+J,CAAZ,EAAe01E,CAAf,EAAkBhgD,CAAlB,EAAqB;AACzB,SAAK7pC,CAAL,IAAU,OAAO,KAAK8nF,GAAL,GAAW,KAAKE,GAAL,GAAW,CAAC59E,CAA9B,IAAmC,GAAnC,IAA0C,KAAK29E,GAAL,GAAW,KAAKE,GAAL,GAAW,CAAC9zE,CAAjE,IAAsE,GAAtE,GAA6E,CAAC01E,CAA9E,GAAmF,GAAnF,GAA0F,CAAChgD,CAA3F,GAAgG,GAAhG,GAAuG,CAACggD,CAAxG,GAA6G,GAAvH;AACD,GA5G+B;AA6GhC72E,YAAU,oBAAW;AACnB,WAAO,KAAKhT,CAAZ;AACD;AA/G+B,CAAlC;;AAkHeU,mEAAf,E;;;;;;;;;;;;ACjIA;AAAA;AAAA;;AAEeqjF,sHAAMA,CAAC,kDAAP,CAAf,E;;;;;;;;;;;;ACFA;AAAA;AAAA;;AAEeA,sHAAMA,CAAC,kDAAP,CAAf,E;;;;;;;;;;;;ACFA;AAAA;AAAA;;AAEeA,sHAAMA,CAAC,0EAAP,CAAf,E;;;;;;;;;;;;ACFA;AAAA;AAAA;;AAEeA,sHAAMA,CAAC,wDAAP,CAAf,E;;;;;;;;;;;;ACFA;AAAA;AAAA;;AAEeA,sHAAMA,CAAC,kDAAP,CAAf,E;;;;;;;;;;;;ACFA;AAAA;AAAA;;AAEeA,sHAAMA,CAAC,wDAAP,CAAf,E;;;;;;;;;;;;ACFA;AAAA;AAAA;;AAEeA,sHAAMA,CAAC,kDAAP,CAAf,E;;;;;;;;;;;;ACFA;AAAA;AAAA;;AAEeA,sHAAMA,CAAC,0EAAP,CAAf,E;;;;;;;;;;;;ACFA;AAAA;AAAA;;AAEeA,sHAAMA,CAAC,8DAAP,CAAf,E;;;;;;;;;;;;ACFA;AAAe,yEAASjD,SAAT,EAAoB;AACjC,MAAIhiG,IAAIgiG,UAAU/+F,MAAV,GAAmB,CAAnB,GAAuB,CAA/B;AAAA,MAAkCgiG,SAAS,IAAI1+F,KAAJ,CAAUvG,CAAV,CAA3C;AAAA,MAAyDxB,IAAI,CAA7D;AACA,SAAOA,IAAIwB,CAAX;AAAcilG,WAAOzmG,CAAP,IAAY,MAAMwjG,UAAUz+F,KAAV,CAAgB/E,IAAI,CAApB,EAAuB,EAAEA,CAAF,GAAM,CAA7B,CAAlB;AAAd,GACA,OAAOymG,MAAP;AACD,C;;;;;;;;;;;;ACJD;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAIlsC,SAAS,IAAIxyD,KAAJ,CAAU,CAAV,EAAa7C,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB,8DARkB,EASlB,oEATkB,EAUlB9B,GAVkB,CAUdqjG,+CAVc,CAAb;;AAYQ+F,oHAAIA,CAACjyC,MAAL,CAAf,E;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAIA,SAAS,IAAIxyD,KAAJ,CAAU,CAAV,EAAa7C,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB,8DARkB,EASlB,oEATkB,EAUlB9B,GAVkB,CAUdqjG,+CAVc,CAAb;;AAYQ+F,oHAAIA,CAACjyC,MAAL,CAAf,E;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAIA,SAAS,IAAIxyD,KAAJ,CAAU,CAAV,EAAa7C,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB,8DARkB,EASlB,oEATkB,EAUlB9B,GAVkB,CAUdqjG,+CAVc,CAAb;;AAYQ+F,oHAAIA,CAACjyC,MAAL,CAAf,E;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAIA,SAAS,IAAIxyD,KAAJ,CAAU,CAAV,EAAa7C,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB,8DARkB,EASlB,oEATkB,EAUlB9B,GAVkB,CAUdqjG,+CAVc,CAAb;;AAYQ+F,oHAAIA,CAACjyC,MAAL,CAAf,E;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAIA,SAAS,IAAIxyD,KAAJ,CAAU,CAAV,EAAa7C,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB,8DARkB,EASlB,oEATkB,EAUlB9B,GAVkB,CAUdqjG,+CAVc,CAAb;;AAYQ+F,oHAAIA,CAACjyC,MAAL,CAAf,E;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAIA,SAAS,IAAIxyD,KAAJ,CAAU,CAAV,EAAa7C,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB,8DARkB,EASlB,oEATkB,EAUlB9B,GAVkB,CAUdqjG,+CAVc,CAAb;;AAYQ+F,oHAAIA,CAACjyC,MAAL,CAAf,E;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAIA,SAAS,IAAIxyD,KAAJ,CAAU,CAAV,EAAa7C,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB,8DARkB,EASlB,oEATkB,EAUlB9B,GAVkB,CAUdqjG,+CAVc,CAAb;;AAYQ+F,oHAAIA,CAACjyC,MAAL,CAAf,E;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAIA,SAAS,IAAIxyD,KAAJ,CAAU,CAAV,EAAa7C,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB,8DARkB,EASlB,oEATkB,EAUlB9B,GAVkB,CAUdqjG,+CAVc,CAAb;;AAYQ+F,oHAAIA,CAACjyC,MAAL,CAAf,E;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAIA,SAAS,IAAIxyD,KAAJ,CAAU,CAAV,EAAa7C,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB,8DARkB,EASlB,oEATkB,EAUlB9B,GAVkB,CAUdqjG,+CAVc,CAAb;;AAYQ+F,oHAAIA,CAACjyC,MAAL,CAAf,E;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACtCA;AAAA;AAAA;;AAEe,yEAASA,MAAT,EAAiB;AAC9B,SAAOkyC,0EAAmBA,CAAClyC,OAAOA,OAAO91D,MAAP,GAAgB,CAAvB,CAApB,CAAP;AACD,C;;;;;;;;;;;;ACJD;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAI81D,SAAS,IAAIxyD,KAAJ,CAAU,CAAV,EAAa7C,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB9B,GARkB,CAQdqjG,+CARc,CAAb;;AAUQ+F,oHAAIA,CAACjyC,MAAL,CAAf,E;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAIA,SAAS,IAAIxyD,KAAJ,CAAU,CAAV,EAAa7C,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB9B,GARkB,CAQdqjG,+CARc,CAAb;;AAUQ+F,oHAAIA,CAACjyC,MAAL,CAAf,E;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAIA,SAAS,IAAIxyD,KAAJ,CAAU,CAAV,EAAa7C,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB9B,GARkB,CAQdqjG,+CARc,CAAb;;AAUQ+F,oHAAIA,CAACjyC,MAAL,CAAf,E;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAIA,SAAS,IAAIxyD,KAAJ,CAAU,CAAV,EAAa7C,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB9B,GARkB,CAQdqjG,+CARc,CAAb;;AAUQ+F,oHAAIA,CAACjyC,MAAL,CAAf,E;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAIA,SAAS,IAAIxyD,KAAJ,CAAU,CAAV,EAAa7C,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB9B,GARkB,CAQdqjG,+CARc,CAAb;;AAUQ+F,oHAAIA,CAACjyC,MAAL,CAAf,E;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAIA,SAAS,IAAIxyD,KAAJ,CAAU,CAAV,EAAa7C,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB9B,GARkB,CAQdqjG,+CARc,CAAb;;AAUQ+F,oHAAIA,CAACjyC,MAAL,CAAf,E;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAIA,SAAS,IAAIxyD,KAAJ,CAAU,CAAV,EAAa7C,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB9B,GARkB,CAQdqjG,+CARc,CAAb;;AAUQ+F,oHAAIA,CAACjyC,MAAL,CAAf,E;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAIA,SAAS,IAAIxyD,KAAJ,CAAU,CAAV,EAAa7C,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB9B,GARkB,CAQdqjG,+CARc,CAAb;;AAUQ+F,oHAAIA,CAACjyC,MAAL,CAAf,E;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAIA,SAAS,IAAIxyD,KAAJ,CAAU,CAAV,EAAa7C,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB9B,GARkB,CAQdqjG,+CARc,CAAb;;AAUQ+F,oHAAIA,CAACjyC,MAAL,CAAf,E;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAIA,SAAS,IAAIxyD,KAAJ,CAAU,CAAV,EAAa7C,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB9B,GARkB,CAQdqjG,+CARc,CAAb;;AAUQ+F,oHAAIA,CAACjyC,MAAL,CAAf,E;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAIA,SAAS,IAAIxyD,KAAJ,CAAU,CAAV,EAAa7C,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB9B,GARkB,CAQdqjG,+CARc,CAAb;;AAUQ+F,oHAAIA,CAACjyC,MAAL,CAAf,E;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAIA,SAAS,IAAIxyD,KAAJ,CAAU,CAAV,EAAa7C,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB9B,GARkB,CAQdqjG,+CARc,CAAb;;AAUQ+F,oHAAIA,CAACjyC,MAAL,CAAf,E;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AACA;;AAEemyC,8IAAwBA,CAACzR,0DAASA,CAAC,GAAV,EAAe,GAAf,EAAoB,GAApB,CAAzB,EAAmDA,0DAASA,CAAC,CAAC,GAAX,EAAgB,GAAhB,EAAqB,GAArB,CAAnD,CAAf,E;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAI0R,OAAOD,+EAAwBA,CAACzR,0DAASA,CAAC,CAAC,GAAX,EAAgB,IAAhB,EAAsB,IAAtB,CAAzB,EAAsDA,0DAASA,CAAC,EAAV,EAAc,IAAd,EAAoB,GAApB,CAAtD,CAAX;;AAEA,IAAI2R,OAAOF,+EAAwBA,CAACzR,0DAASA,CAAC,GAAV,EAAe,IAAf,EAAqB,IAArB,CAAzB,EAAqDA,0DAASA,CAAC,EAAV,EAAc,IAAd,EAAoB,GAApB,CAArD,CAAX;;AAEP,IAAI76F,IAAI66F,0DAASA,EAAjB;;AAEe,yEAASh6F,CAAT,EAAY;AACzB,MAAIA,IAAI,CAAJ,IAASA,IAAI,CAAjB,EAAoBA,KAAKgc,KAAKuT,KAAL,CAAWvvB,CAAX,CAAL;AACpB,MAAI4rG,KAAK5vF,KAAKmf,GAAL,CAASn7B,IAAI,GAAb,CAAT;AACAb,IAAEmsD,CAAF,GAAM,MAAMtrD,CAAN,GAAU,GAAhB;AACAb,IAAE4B,CAAF,GAAM,MAAM,MAAM6qG,EAAlB;AACAzsG,IAAEH,CAAF,GAAM,MAAM,MAAM4sG,EAAlB;AACA,SAAOzsG,IAAI,EAAX;AACD,C;;;;;;;;;;;;AChBD;AAAA;AAAA;;AAEA,IAAIA,IAAI6sD,oDAAGA,EAAX;AAAA,IACI6/C,SAAS7vF,KAAKqoC,EAAL,GAAU,CADvB;AAAA,IAEIynD,SAAS9vF,KAAKqoC,EAAL,GAAU,CAAV,GAAc,CAF3B;;AAIe,yEAASrkD,CAAT,EAAY;AACzB,MAAI6rB,CAAJ;AACA7rB,MAAI,CAAC,MAAMA,CAAP,IAAYgc,KAAKqoC,EAArB;AACAllD,IAAES,CAAF,GAAM,OAAOisB,IAAI7P,KAAKsiC,GAAL,CAASt+C,CAAT,CAAX,IAA0B6rB,CAAhC;AACA1sB,IAAEw5F,CAAF,GAAM,OAAO9sE,IAAI7P,KAAKsiC,GAAL,CAASt+C,IAAI6rG,MAAb,CAAX,IAAmChgF,CAAzC;AACA1sB,IAAEsmB,CAAF,GAAM,OAAOoG,IAAI7P,KAAKsiC,GAAL,CAASt+C,IAAI8rG,MAAb,CAAX,IAAmCjgF,CAAzC;AACA,SAAO1sB,IAAI,EAAX;AACD,C;;;;;;;;;;;;ACbD;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEA,SAASosG,IAAT,CAAc/3F,KAAd,EAAqB;AACnB,MAAIjT,IAAIiT,MAAMhQ,MAAd;AACA,SAAO,UAASxD,CAAT,EAAY;AACjB,WAAOwT,MAAMwI,KAAKxD,GAAL,CAAS,CAAT,EAAYwD,KAAK3D,GAAL,CAAS9X,IAAI,CAAb,EAAgByb,KAAKuT,KAAL,CAAWvvB,IAAIO,CAAf,CAAhB,CAAZ,CAAN,CAAP;AACD,GAFD;AAGD;;AAED,+DAAegrG,KAAK/F,uDAAMA,CAAC,kgDAAP,CAAL,CAAf;;AAEO,IAAIuG,QAAQR,KAAK/F,uDAAMA,CAAC,kgDAAP,CAAL,CAAZ;;AAEA,IAAIwG,UAAUT,KAAK/F,uDAAMA,CAAC,kgDAAP,CAAL,CAAd;;AAEA,IAAIyG,SAASV,KAAK/F,uDAAMA,CAAC,kgDAAP,CAAL,CAAb,C;;;;;;;;;;;;ACfP;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAIlsC,SAAS,IAAIxyD,KAAJ,CAAU,CAAV,EAAa7C,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB9B,GARkB,CAQdqjG,+CARc,CAAb;;AAUQ+F,oHAAIA,CAACjyC,MAAL,CAAf,E;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAIA,SAAS,IAAIxyD,KAAJ,CAAU,CAAV,EAAa7C,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB9B,GARkB,CAQdqjG,+CARc,CAAb;;AAUQ+F,oHAAIA,CAACjyC,MAAL,CAAf,E;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAIA,SAAS,IAAIxyD,KAAJ,CAAU,CAAV,EAAa7C,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB9B,GARkB,CAQdqjG,+CARc,CAAb;;AAUQ+F,oHAAIA,CAACjyC,MAAL,CAAf,E;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAIA,SAAS,IAAIxyD,KAAJ,CAAU,CAAV,EAAa7C,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB9B,GARkB,CAQdqjG,+CARc,CAAb;;AAUQ+F,oHAAIA,CAACjyC,MAAL,CAAf,E;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAIA,SAAS,IAAIxyD,KAAJ,CAAU,CAAV,EAAa7C,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB9B,GARkB,CAQdqjG,+CARc,CAAb;;AAUQ+F,oHAAIA,CAACjyC,MAAL,CAAf,E;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAIA,SAAS,IAAIxyD,KAAJ,CAAU,CAAV,EAAa7C,MAAb,CAClB,oBADkB,EAElB,0BAFkB,EAGlB,gCAHkB,EAIlB,sCAJkB,EAKlB,4CALkB,EAMlB,kDANkB,EAOlB,wDAPkB,EAQlB9B,GARkB,CAQdqjG,+CARc,CAAb;;AAUQ+F,oHAAIA,CAACjyC,MAAL,CAAf,E;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAKA;;AAIA;;AAIA;;AAIA;;AAKA;;AAKA;;AAIA;;AAIA;;AAIA;;AAIA;;AAIA;;AAIA;;AAIA;;AAIA;;AAIA;;AAIA;;AAMA;;;;;;;;;;;;;;ACzEA;AAAA;AAAA;AAAA,IAAI0vB,QAAQliF,MAAMlG,SAAlB;;AAEO,IAAIuB,MAAM6mF,MAAM7mF,GAAhB;AACA,IAAI2B,QAAQklF,MAAMllF,KAAlB,C;;;;;;;;;;;;ACHP;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEe,SAASk9C,IAAT,GAAgB;AAC7B,MAAIxD,QAAQ0uD,wDAAOA,GAAGC,OAAV,CAAkB1kG,SAAlB,CAAZ;AAAA,MACIsQ,SAASylC,MAAMzlC,MADnB;AAAA,MAEIq0F,eAAe5uD,MAAMhqC,KAFzB;AAAA,MAGIA,QAAQ,CAAC,CAAD,EAAI,CAAJ,CAHZ;AAAA,MAIIw2C,IAJJ;AAAA,MAKIrI,SALJ;AAAA,MAMI7mB,QAAQ,KANZ;AAAA,MAOIuxE,eAAe,CAPnB;AAAA,MAQIC,eAAe,CARnB;AAAA,MASI90B,QAAQ,GATZ;;AAWA,SAAOh6B,MAAM2uD,OAAb;AACA,WAASI,OAAT,GAAmB;AACjB,QAAIhsG,IAAIwX,SAASvU,MAAjB;AAAA,QACIwgB,UAAUxQ,MAAM,CAAN,IAAWA,MAAM,CAAN,CADzB;AAAA,QAEImR,QAAQnR,MAAMwQ,UAAU,CAAhB,CAFZ;AAAA,QAGImnE,OAAO33E,MAAM,IAAIwQ,OAAV,CAHX;AAIAgmC,WAAO,CAACmhC,OAAOxmE,KAAR,IAAiB3I,KAAKxD,GAAL,CAAS,CAAT,EAAYjY,IAAI8rG,YAAJ,GAAmBC,eAAe,CAA9C,CAAxB;AACA,QAAIxxE,KAAJ,EAAWkvB,OAAOhuC,KAAKuT,KAAL,CAAWy6B,IAAX,CAAP;AACXrlC,aAAS,CAACwmE,OAAOxmE,KAAP,GAAeqlC,QAAQzpD,IAAI8rG,YAAZ,CAAhB,IAA6C70B,KAAtD;AACA71B,gBAAYqI,QAAQ,IAAIqiD,YAAZ,CAAZ;AACA,QAAIvxE,KAAJ,EAAWnW,QAAQ3I,KAAK8e,KAAL,CAAWnW,KAAX,CAAR,EAA2Bg9B,YAAY3lC,KAAK8e,KAAL,CAAW6mB,SAAX,CAAvC;AACX,QAAI1hC,SAASusF,sDAAQA,CAACjsG,CAAT,EAAY4B,GAAZ,CAAgB,UAASpD,CAAT,EAAY;AAAE,aAAO4lB,QAAQqlC,OAAOjrD,CAAtB;AAA0B,KAAxD,CAAb;AACA,WAAOqtG,aAAapoF,UAAU/D,OAAO+D,OAAP,EAAV,GAA6B/D,MAA1C,CAAP;AACD;;AAEDu9B,QAAMzlC,MAAN,GAAe,UAAS0J,CAAT,EAAY;AACzB,WAAOtW,UAAU3H,MAAV,IAAoBuU,OAAO0J,CAAP,GAAW8qF,SAA/B,IAA4Cx0F,QAAnD;AACD,GAFD;;AAIAylC,QAAMhqC,KAAN,GAAc,UAASiO,CAAT,EAAY;AACxB,WAAOtW,UAAU3H,MAAV,IAAoBgQ,QAAQ,CAAC,CAACiO,EAAE,CAAF,CAAF,EAAQ,CAACA,EAAE,CAAF,CAAT,CAAR,EAAwB8qF,SAA5C,IAAyD/4F,MAAM1P,KAAN,EAAhE;AACD,GAFD;;AAIA05C,QAAMivD,UAAN,GAAmB,UAAShrF,CAAT,EAAY;AAC7B,WAAOjO,QAAQ,CAAC,CAACiO,EAAE,CAAF,CAAF,EAAQ,CAACA,EAAE,CAAF,CAAT,CAAR,EAAwBqZ,QAAQ,IAAhC,EAAsCyxE,SAA7C;AACD,GAFD;;AAIA/uD,QAAMmE,SAAN,GAAkB,YAAW;AAC3B,WAAOA,SAAP;AACD,GAFD;;AAIAnE,QAAMwM,IAAN,GAAa,YAAW;AACtB,WAAOA,IAAP;AACD,GAFD;;AAIAxM,QAAM1iB,KAAN,GAAc,UAASrZ,CAAT,EAAY;AACxB,WAAOtW,UAAU3H,MAAV,IAAoBs3B,QAAQ,CAAC,CAACrZ,CAAV,EAAa8qF,SAAjC,IAA8CzxE,KAArD;AACD,GAFD;;AAIA0iB,QAAMoD,OAAN,GAAgB,UAASn/B,CAAT,EAAY;AAC1B,WAAOtW,UAAU3H,MAAV,IAAoB6oG,eAAeC,eAAetwF,KAAKxD,GAAL,CAAS,CAAT,EAAYwD,KAAK3D,GAAL,CAAS,CAAT,EAAYoJ,CAAZ,CAAZ,CAA9B,EAA2D8qF,SAA/E,IAA4FF,YAAnG;AACD,GAFD;;AAIA7uD,QAAM6uD,YAAN,GAAqB,UAAS5qF,CAAT,EAAY;AAC/B,WAAOtW,UAAU3H,MAAV,IAAoB6oG,eAAerwF,KAAKxD,GAAL,CAAS,CAAT,EAAYwD,KAAK3D,GAAL,CAAS,CAAT,EAAYoJ,CAAZ,CAAZ,CAAf,EAA4C8qF,SAAhE,IAA6EF,YAApF;AACD,GAFD;;AAIA7uD,QAAM8uD,YAAN,GAAqB,UAAS7qF,CAAT,EAAY;AAC/B,WAAOtW,UAAU3H,MAAV,IAAoB8oG,eAAetwF,KAAKxD,GAAL,CAAS,CAAT,EAAYwD,KAAK3D,GAAL,CAAS,CAAT,EAAYoJ,CAAZ,CAAZ,CAAf,EAA4C8qF,SAAhE,IAA6ED,YAApF;AACD,GAFD;;AAIA9uD,QAAMg6B,KAAN,GAAc,UAAS/1D,CAAT,EAAY;AACxB,WAAOtW,UAAU3H,MAAV,IAAoBg0E,QAAQx7D,KAAKxD,GAAL,CAAS,CAAT,EAAYwD,KAAK3D,GAAL,CAAS,CAAT,EAAYoJ,CAAZ,CAAZ,CAAR,EAAqC8qF,SAAzD,IAAsE/0B,KAA7E;AACD,GAFD;;AAIAh6B,QAAMqvC,IAAN,GAAa,YAAW;AACtB,WAAO7rC,OACFjpC,MADE,CACKA,QADL,EAEFvE,KAFE,CAEIA,KAFJ,EAGFsnB,KAHE,CAGIA,KAHJ,EAIFuxE,YAJE,CAIWA,YAJX,EAKFC,YALE,CAKWA,YALX,EAMF90B,KANE,CAMIA,KANJ,CAAP;AAOD,GARD;;AAUAh6B,QAAMuK,YAAN,GAAqB,UAASkhD,EAAT,EAAaC,EAAb,EAAiB;AACpC,QAAIh6E,KAAK,CAAC+5E,EAAV;AAAA,QACI95E,KAAKhkB,UAAU3H,MAAV,GAAmB,CAAnB,GAAuB,CAAC0lG,EAAxB,GAA6Bh6E,EADtC;AAAA,QAEIlL,UAAUxQ,MAAM,CAAN,IAAWA,MAAM,CAAN,CAFzB;AAAA,QAGIyM,SAAS+D,UAAUooF,eAAepoF,OAAf,EAAV,GAAqCooF,cAHlD;AAAA,QAII7rG,IAAI0f,OAAOzc,MAAP,GAAgB,CAJxB;AAAA,QAI2BgiB,CAJ3B;AAAA,QAI8BC,CAJ9B;AAAA,QAIiCzlB,CAJjC;AAAA,QAKI0sG,OALJ;AAMAzsF,WAAOld,IAAP,CAAYkd,OAAO1f,CAAP,IAAY,KAAKypD,IAAL,EAAxB;AACA;AACA,QAAI76B,KAAKD,EAAT,EAAalvB,IAAIkvB,EAAJ,EAAQA,KAAKC,EAAb,EAAiBA,KAAKnvB,CAAtB;AACb,QAAImvB,KAAKlP,OAAO,CAAP,CAAL,IAAkBiP,KAAK1b,MAAM,IAAEwQ,OAAR,CAA3B,EAA6C,OAAOvc,SAAP;;AAE7C;AACA+d,QAAIxJ,KAAKxD,GAAL,CAAS,CAAT,EAAY2sE,kBAAkBllE,MAAlB,EAA0BiP,EAA1B,CAAZ,CAAJ;AACAw9E,cAAUvnB,kBAAkBllE,MAAlB,EAA0BkP,EAA1B,CAAV;AACA1J,QAAIyJ,OAAKC,EAAL,GAAU3J,CAAV,GAAcxJ,KAAKxD,GAAL,CAASgN,CAAT,EAAYknF,UAAU,CAAtB,CAAlB;;AAEA;AACA;;AAEA,QAAI1oF,OAAJ,EAAahkB,IAAIwlB,CAAJ,EAAOA,IAAIjlB,IAAIklB,CAAf,EAAkBA,IAAIllB,IAAIP,CAA1B,CApBuB,CAoBM;AAC1C,WAAQwlB,IAAIC,CAAL,GAAUhe,SAAV,GAAsBsQ,SAASjU,KAAT,CAAe0hB,CAAf,EAAkBC,IAAE,CAApB,CAA7B;AACD,GAtBD;;AAwBA+3B,QAAMwE,MAAN,GAAe,UAAUinD,EAAV,EAAcC,EAAd,EAAkB;AAC/B,QAAIh6E,KAAK,CAAC+5E,EAAV;AAAA,QACI95E,KAAKhkB,UAAU3H,MAAV,GAAmB,CAAnB,GAAuB,CAAC0lG,EAAxB,GAA6Bh6E,EADtC;AAAA,QAEIlL,UAAUxQ,MAAM,CAAN,IAAWA,MAAM,CAAN,CAFzB;AAAA,QAGIyM,SAAS+D,UAAUooF,eAAepoF,OAAf,EAAV,GAAqCooF,cAHlD;AAAA,QAII7rG,IAAI0f,OAAOzc,MAAP,GAAgB,CAJxB;AAAA,QAKIgiB,CALJ;AAAA,QAMIxlB,CANJ;;AAQA;AACA,QAAImvB,KAAKD,EAAT,EAAalvB,IAAIkvB,EAAJ,EAAQA,KAAKC,EAAb,EAAiBA,KAAKnvB,CAAtB;AACb,QAAImvB,KAAKlP,OAAO,CAAP,CAAL,IAAkBiP,KAAK1b,MAAM,IAAEwQ,OAAR,CAA3B,EAA6C,OAAOvc,SAAP;;AAE7C;AACA+d,QAAIxJ,KAAKxD,GAAL,CAAS,CAAT,EAAY2sE,kBAAkBllE,MAAlB,EAA0BiP,EAA1B,EAA8B,MAA9B,CAAZ,CAAJ;;AAEA;AACA;;AAEA,WAAOnX,SAASiM,UAAUzjB,IAAIilB,CAAd,GAAkBA,CAA3B,CAAP;AACD,GApBD;AAqBA,SAAO+mF,SAAP;AACD;;AAED,SAASI,QAAT,CAAkBnvD,KAAlB,EAAyB;AACvB,MAAIqvC,OAAOrvC,MAAMqvC,IAAjB;;AAEArvC,QAAMoD,OAAN,GAAgBpD,MAAM8uD,YAAtB;AACA,SAAO9uD,MAAM6uD,YAAb;AACA,SAAO7uD,MAAM8uD,YAAb;;AAEA9uD,QAAMqvC,IAAN,GAAa,YAAW;AACtB,WAAO8f,SAAS9f,MAAT,CAAP;AACD,GAFD;;AAIA,SAAOrvC,KAAP;AACD;;AAEM,SAASwgD,KAAT,GAAiB;AACtB,SAAO2O,SAAS3rD,OAAOqrD,YAAP,CAAoB,CAApB,CAAT,CAAP;AACD;;AAED,SAASlnB,iBAAT,CAA4Bt+E,GAA5B,EAAiC9G,KAAjC,EAAwC6sG,IAAxC,EAA8C;AAC5C,MAAIC,MAAM,CAAV;AAAA,MACIC,SAASjmG,IAAIrD,MADjB;AAAA,MAEIupG,OAAOD,SAAS,CAFpB;AAAA,MAGIE,OAHJ;AAAA,MAIIv5F,GAJJ;AAAA,MAKIu1F,EALJ;AAAA,MAMID,EANJ;;AAQA,SAAO8D,MAAME,IAAb,EAAmB;AACft5F,UAAMuI,KAAKuT,KAAL,CAAW,CAACs9E,MAAME,IAAP,IAAe,CAA1B,CAAN;AACA/D,SAAKhtF,KAAKmf,GAAL,CAASt0B,IAAI4M,GAAJ,IAAW1T,KAApB,CAAL;AACAgpG,SAAK/sF,KAAKmf,GAAL,CAASt0B,IAAI4M,MAAM,CAAV,IAAe1T,KAAxB,CAAL;;AAEA,QAAIgpG,MAAMC,EAAV,EAAc;AACV6D,YAAMp5F,MAAM,CAAZ;AACH,KAFD,MAGK;AACDs5F,aAAOt5F,GAAP;AACH;AACJ;;AAED,MAAI,CAACm5F,IAAL,EAAW;AACP,WAAOG,IAAP;AACH;;AAEDC,YAAUnmG,IAAIkmG,IAAJ,CAAV;AACA,MAAIC,YAAYjtG,KAAhB,EAAuB;AACnB,WAAOgtG,IAAP;AACH,GAFD,MAEO,IAAIC,UAAUjtG,KAAd,EAAqB;AACxB,QAAIgtG,SAAS,CAAb,EAAgB;AAAE,aAAOA,IAAP;AAAc;AAChC,WAAOH,SAAS,MAAT,GAAiBG,OAAO,CAAxB,GAA4BA,IAAnC;AACH,GAHM,MAGA;AACH,QAAIA,SAASlmG,IAAIrD,MAAJ,GAAa,CAA1B,EAA6B;AAAE,aAAOupG,IAAP;AAAc;AAC7C,WAAOH,SAAS,MAAT,GAAiBG,IAAjB,GAAwBA,OAAO,CAAtC;AACH;AACF,C;;;;;;;;;;;;ACtLD;AAAA;AAAA;;AAEevH,sHAAMA,CAAC,8DAAP,CAAf,E;;;;;;;;;;;;ACFA;AAAA;AAAA;;AAEeA,sHAAMA,CAAC,0HAAP,CAAf,E;;;;;;;;;;;;ACFA;AAAA;AAAA;;AAEeA,sHAAMA,CAAC,0HAAP,CAAf,E;;;;;;;;;;;;ACFA;AAAA;AAAA;;AAEeA,sHAAMA,CAAC,0HAAP,CAAf,E;;;;;;;;;;;;ACFA;AAAe,yEAASzkG,CAAT,EAAY;AACzB,SAAOA,EAAE2Z,KAAF,CAAQ,OAAR,EAAiBvY,GAAjB,CAAqB,UAAS0pB,CAAT,EAAY;AACtC,WAAO,MAAMA,CAAb;AACD,GAFM,CAAP;AAGD,C;;;;;;;;;;;;ACJD;AAAe,yEAASA,CAAT,EAAY;AACzB,SAAO,YAAW;AAChB,WAAOA,CAAP;AACD,GAFD;AAGD,C;;;;;;;;;;;;ACJD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;AAEA,IAAI7R,OAAO,CAAC,CAAD,EAAI,CAAJ,CAAX;;AAEO,SAASizF,mBAAT,CAA6BznF,CAA7B,EAAgCC,CAAhC,EAAmC;AACxC,SAAO,CAACA,KAAMD,IAAI,CAACA,CAAZ,IACD,UAASqG,CAAT,EAAY;AAAE,WAAO,CAACA,IAAIrG,CAAL,IAAUC,CAAjB;AAAqB,GADlC,GAEDilE,yDAAQA,CAACjlE,CAAT,CAFN;AAGD;;AAED,SAASynF,kBAAT,CAA4BC,aAA5B,EAA2C;AACzC,SAAO,UAAS3nF,CAAT,EAAYC,CAAZ,EAAe;AACpB,QAAIrmB,IAAI+tG,cAAc3nF,IAAI,CAACA,CAAnB,EAAsBC,IAAI,CAACA,CAA3B,CAAR;AACA,WAAO,UAASoG,CAAT,EAAY;AAAE,aAAOA,KAAKrG,CAAL,GAAS,CAAT,GAAaqG,KAAKpG,CAAL,GAAS,CAAT,GAAarmB,EAAEysB,CAAF,CAAjC;AAAwC,KAA7D;AACD,GAHD;AAID;;AAED,SAASuhF,kBAAT,CAA4BC,aAA5B,EAA2C;AACzC,SAAO,UAAS7nF,CAAT,EAAYC,CAAZ,EAAe;AACpB,QAAI7lB,IAAIytG,cAAc7nF,IAAI,CAACA,CAAnB,EAAsBC,IAAI,CAACA,CAA3B,CAAR;AACA,WAAO,UAASzlB,CAAT,EAAY;AAAE,aAAOA,KAAK,CAAL,GAASwlB,CAAT,GAAaxlB,KAAK,CAAL,GAASylB,CAAT,GAAa7lB,EAAEI,CAAF,CAAjC;AAAwC,KAA7D;AACD,GAHD;AAID;;AAED,SAASstG,KAAT,CAAev1F,MAAf,EAAuBvE,KAAvB,EAA8B25F,aAA9B,EAA6CE,aAA7C,EAA4D;AAC1D,MAAIE,KAAKx1F,OAAO,CAAP,CAAT;AAAA,MAAoBixF,KAAKjxF,OAAO,CAAP,CAAzB;AAAA,MAAoCkxF,KAAKz1F,MAAM,CAAN,CAAzC;AAAA,MAAmD01F,KAAK11F,MAAM,CAAN,CAAxD;AACA,MAAIw1F,KAAKuE,EAAT,EAAaA,KAAKJ,cAAcnE,EAAd,EAAkBuE,EAAlB,CAAL,EAA4BtE,KAAKoE,cAAcnE,EAAd,EAAkBD,EAAlB,CAAjC,CAAb,KACKsE,KAAKJ,cAAcI,EAAd,EAAkBvE,EAAlB,CAAL,EAA4BC,KAAKoE,cAAcpE,EAAd,EAAkBC,EAAlB,CAAjC;AACL,SAAO,UAASr9E,CAAT,EAAY;AAAE,WAAOo9E,GAAGsE,GAAG1hF,CAAH,CAAH,CAAP;AAAmB,GAAxC;AACD;;AAED,SAAS2hF,OAAT,CAAiBz1F,MAAjB,EAAyBvE,KAAzB,EAAgC25F,aAAhC,EAA+CE,aAA/C,EAA8D;AAC5D,MAAIxpG,IAAImY,KAAK3D,GAAL,CAASN,OAAOvU,MAAhB,EAAwBgQ,MAAMhQ,MAA9B,IAAwC,CAAhD;AAAA,MACIpE,IAAI,IAAI0H,KAAJ,CAAUjD,CAAV,CADR;AAAA,MAEIjE,IAAI,IAAIkH,KAAJ,CAAUjD,CAAV,CAFR;AAAA,MAGI9E,IAAI,CAAC,CAHT;;AAKA;AACA,MAAIgZ,OAAOlU,CAAP,IAAYkU,OAAO,CAAP,CAAhB,EAA2B;AACzBA,aAASA,OAAOjU,KAAP,GAAekgB,OAAf,EAAT;AACAxQ,YAAQA,MAAM1P,KAAN,GAAckgB,OAAd,EAAR;AACD;;AAED,SAAO,EAAEjlB,CAAF,GAAM8E,CAAb,EAAgB;AACdzE,MAAEL,CAAF,IAAOouG,cAAcp1F,OAAOhZ,CAAP,CAAd,EAAyBgZ,OAAOhZ,IAAI,CAAX,CAAzB,CAAP;AACAa,MAAEb,CAAF,IAAOsuG,cAAc75F,MAAMzU,CAAN,CAAd,EAAwByU,MAAMzU,IAAI,CAAV,CAAxB,CAAP;AACD;;AAED,SAAO,UAAS8sB,CAAT,EAAY;AACjB,QAAI9sB,IAAI0rF,uDAAMA,CAAC1yE,MAAP,EAAe8T,CAAf,EAAkB,CAAlB,EAAqBhoB,CAArB,IAA0B,CAAlC;AACA,WAAOjE,EAAEb,CAAF,EAAKK,EAAEL,CAAF,EAAK8sB,CAAL,CAAL,CAAP;AACD,GAHD;AAID;;AAEM,SAASghE,IAAT,CAAcn8D,MAAd,EAAsB9mB,MAAtB,EAA8B;AACnC,SAAOA,OACFmO,MADE,CACK2Y,OAAO3Y,MAAP,EADL,EAEFvE,KAFE,CAEIkd,OAAOld,KAAP,EAFJ,EAGF0xF,WAHE,CAGUx0E,OAAOw0E,WAAP,EAHV,EAIFuI,KAJE,CAII/8E,OAAO+8E,KAAP,EAJJ,CAAP;AAKD;;AAED;AACA;AACe,SAASC,UAAT,CAAoBP,aAApB,EAAmCE,aAAnC,EAAkD;AAC/D,MAAIt1F,SAASiC,IAAb;AAAA,MACIxG,QAAQwG,IADZ;AAAA,MAEIkrF,cAAcyI,0DAFlB;AAAA,MAGIF,QAAQ,KAHZ;AAAA,MAIIxI,SAJJ;AAAA,MAKI2I,MALJ;AAAA,MAMIC,KANJ;;AAQA,WAAStB,OAAT,GAAmB;AACjBtH,gBAAYjpF,KAAK3D,GAAL,CAASN,OAAOvU,MAAhB,EAAwBgQ,MAAMhQ,MAA9B,IAAwC,CAAxC,GAA4CgqG,OAA5C,GAAsDF,KAAlE;AACAM,aAASC,QAAQ,IAAjB;AACA,WAAOrwD,KAAP;AACD;;AAED,WAASA,KAAT,CAAe3xB,CAAf,EAAkB;AAChB,WAAO,CAAC+hF,WAAWA,SAAS3I,UAAUltF,MAAV,EAAkBvE,KAAlB,EAAyBi6F,QAAQP,mBAAmBC,aAAnB,CAAR,GAA4CA,aAArE,EAAoFjI,WAApF,CAApB,CAAD,EAAwH,CAACr5E,CAAzH,CAAP;AACD;;AAED2xB,QAAMwE,MAAN,GAAe,UAASpsB,CAAT,EAAY;AACzB,WAAO,CAACi4E,UAAUA,QAAQ5I,UAAUzxF,KAAV,EAAiBuE,MAAjB,EAAyBk1F,mBAAzB,EAA8CQ,QAAQL,mBAAmBC,aAAnB,CAAR,GAA4CA,aAA1F,CAAlB,CAAD,EAA8H,CAACz3E,CAA/H,CAAP;AACD,GAFD;;AAIA4nB,QAAMzlC,MAAN,GAAe,UAAS0J,CAAT,EAAY;AACzB,WAAOtW,UAAU3H,MAAV,IAAoBuU,SAAS5V,0CAAGA,CAAClD,IAAJ,CAASwiB,CAAT,EAAYmpE,+CAAZ,CAAT,EAA8B2hB,SAAlD,IAA+Dx0F,OAAOjU,KAAP,EAAtE;AACD,GAFD;;AAIA05C,QAAMhqC,KAAN,GAAc,UAASiO,CAAT,EAAY;AACxB,WAAOtW,UAAU3H,MAAV,IAAoBgQ,QAAQ1P,4CAAKA,CAAC7E,IAAN,CAAWwiB,CAAX,CAAR,EAAuB8qF,SAA3C,IAAwD/4F,MAAM1P,KAAN,EAA/D;AACD,GAFD;;AAIA05C,QAAMivD,UAAN,GAAmB,UAAShrF,CAAT,EAAY;AAC7B,WAAOjO,QAAQ1P,4CAAKA,CAAC7E,IAAN,CAAWwiB,CAAX,CAAR,EAAuByjF,cAAc4I,+DAArC,EAAuDvB,SAA9D;AACD,GAFD;;AAIA/uD,QAAMiwD,KAAN,GAAc,UAAShsF,CAAT,EAAY;AACxB,WAAOtW,UAAU3H,MAAV,IAAoBiqG,QAAQ,CAAC,CAAChsF,CAAV,EAAa8qF,SAAjC,IAA8CkB,KAArD;AACD,GAFD;;AAIAjwD,QAAM0nD,WAAN,GAAoB,UAASzjF,CAAT,EAAY;AAC9B,WAAOtW,UAAU3H,MAAV,IAAoB0hG,cAAczjF,CAAd,EAAiB8qF,SAArC,IAAkDrH,WAAzD;AACD,GAFD;;AAIA,SAAOqH,SAAP;AACD,C;;;;;;;;;;;;AChHD;AAAA;AAAA;AAAA;AACA;;AAEed,8IAAwBA,CAACzR,0DAASA,CAAC,GAAV,EAAe,GAAf,EAAoB,GAApB,CAAzB,EAAmDA,0DAASA,CAAC,CAAC,GAAX,EAAgB,GAAhB,EAAqB,GAArB,CAAnD,CAAf,E;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAEe,SAASx6D,QAAT,GAAoB;AACjC,MAAIznB,SAAS,CAAC,CAAD,EAAI,CAAJ,CAAb;;AAEA,WAASylC,KAAT,CAAe3xB,CAAf,EAAkB;AAChB,WAAO,CAACA,CAAR;AACD;;AAED2xB,QAAMwE,MAAN,GAAexE,KAAf;;AAEAA,QAAMzlC,MAAN,GAAeylC,MAAMhqC,KAAN,GAAc,UAASiO,CAAT,EAAY;AACvC,WAAOtW,UAAU3H,MAAV,IAAoBuU,SAAS5V,0CAAGA,CAAClD,IAAJ,CAASwiB,CAAT,EAAYmpE,+CAAZ,CAAT,EAA8BptC,KAAlD,IAA2DzlC,OAAOjU,KAAP,EAAlE;AACD,GAFD;;AAIA05C,QAAMqvC,IAAN,GAAa,YAAW;AACtB,WAAOrtD,WAAWznB,MAAX,CAAkBA,MAAlB,CAAP;AACD,GAFD;;AAIA,SAAOg2F,yDAASA,CAACvwD,KAAV,CAAP;AACD,C;;;;;;;;;;;;ACtBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEO,SAASuwD,SAAT,CAAmBvwD,KAAnB,EAA0B;AAC/B,MAAIzlC,SAASylC,MAAMzlC,MAAnB;;AAEAylC,QAAMD,KAAN,GAAc,UAASpxB,KAAT,EAAgB;AAC5B,QAAI/sB,IAAI2Y,QAAR;AACA,WAAOwlC,sDAAKA,CAACn+C,EAAE,CAAF,CAAN,EAAYA,EAAEA,EAAEoE,MAAF,GAAW,CAAb,CAAZ,EAA6B2oB,SAAS,IAAT,GAAgB,EAAhB,GAAqBA,KAAlD,CAAP;AACD,GAHD;;AAKAqxB,QAAMS,UAAN,GAAmB,UAAS9xB,KAAT,EAAgBo2E,SAAhB,EAA2B;AAC5C,WAAOtkD,2DAAUA,CAAClmC,QAAX,EAAqBoU,KAArB,EAA4Bo2E,SAA5B,CAAP;AACD,GAFD;;AAIA/kD,QAAMwF,IAAN,GAAa,UAAS72B,KAAT,EAAgB;AAC3B,QAAIA,SAAS,IAAb,EAAmBA,QAAQ,EAAR;;AAEnB,QAAI/sB,IAAI2Y,QAAR;AAAA,QACI8xE,KAAK,CADT;AAAA,QAEIC,KAAK1qF,EAAEoE,MAAF,GAAW,CAFpB;AAAA,QAGImhB,QAAQvlB,EAAEyqF,EAAF,CAHZ;AAAA,QAIIsB,OAAO/rF,EAAE0qF,EAAF,CAJX;AAAA,QAKI9/B,IALJ;;AAOA,QAAImhC,OAAOxmE,KAAX,EAAkB;AAChBqlC,aAAOrlC,KAAP,EAAcA,QAAQwmE,IAAtB,EAA4BA,OAAOnhC,IAAnC;AACAA,aAAO6/B,EAAP,EAAWA,KAAKC,EAAhB,EAAoBA,KAAK9/B,IAAzB;AACD;;AAEDA,WAAO2hC,8DAAaA,CAAChnE,KAAd,EAAqBwmE,IAArB,EAA2Bh/D,KAA3B,CAAP;;AAEA,QAAI69B,OAAO,CAAX,EAAc;AACZrlC,cAAQ3I,KAAKuT,KAAL,CAAW5K,QAAQqlC,IAAnB,IAA2BA,IAAnC;AACAmhC,aAAOnvE,KAAKy4B,IAAL,CAAU02C,OAAOnhC,IAAjB,IAAyBA,IAAhC;AACAA,aAAO2hC,8DAAaA,CAAChnE,KAAd,EAAqBwmE,IAArB,EAA2Bh/D,KAA3B,CAAP;AACD,KAJD,MAIO,IAAI69B,OAAO,CAAX,EAAc;AACnBrlC,cAAQ3I,KAAKy4B,IAAL,CAAU9vB,QAAQqlC,IAAlB,IAA0BA,IAAlC;AACAmhC,aAAOnvE,KAAKuT,KAAL,CAAW47D,OAAOnhC,IAAlB,IAA0BA,IAAjC;AACAA,aAAO2hC,8DAAaA,CAAChnE,KAAd,EAAqBwmE,IAArB,EAA2Bh/D,KAA3B,CAAP;AACD;;AAED,QAAI69B,OAAO,CAAX,EAAc;AACZ5qD,QAAEyqF,EAAF,IAAQ7tE,KAAKuT,KAAL,CAAW5K,QAAQqlC,IAAnB,IAA2BA,IAAnC;AACA5qD,QAAE0qF,EAAF,IAAQ9tE,KAAKy4B,IAAL,CAAU02C,OAAOnhC,IAAjB,IAAyBA,IAAjC;AACAjyC,aAAO3Y,CAAP;AACD,KAJD,MAIO,IAAI4qD,OAAO,CAAX,EAAc;AACnB5qD,QAAEyqF,EAAF,IAAQ7tE,KAAKy4B,IAAL,CAAU9vB,QAAQqlC,IAAlB,IAA0BA,IAAlC;AACA5qD,QAAE0qF,EAAF,IAAQ9tE,KAAKuT,KAAL,CAAW47D,OAAOnhC,IAAlB,IAA0BA,IAAlC;AACAjyC,aAAO3Y,CAAP;AACD;;AAED,WAAOo+C,KAAP;AACD,GAtCD;;AAwCA,SAAOA,KAAP;AACD;;AAEc,SAAS8I,MAAT,GAAkB;AAC/B,MAAI9I,QAAQkwD,2DAAUA,CAACP,+DAAX,EAA0BE,gEAA1B,CAAZ;;AAEA7vD,QAAMqvC,IAAN,GAAa,YAAW;AACtB,WAAOA,wDAAIA,CAACrvC,KAAL,EAAY8I,QAAZ,CAAP;AACD,GAFD;;AAIA,SAAOynD,UAAUvwD,KAAV,CAAP;AACD,C;;;;;;;;;;;;ACpED;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;AAEA,SAAS2vD,aAAT,CAAuB3nF,CAAvB,EAA0BC,CAA1B,EAA6B;AAC3B,SAAO,CAACA,IAAIzJ,KAAKwqC,GAAL,CAAS/gC,IAAID,CAAb,CAAL,IACD,UAASqG,CAAT,EAAY;AAAE,WAAO7P,KAAKwqC,GAAL,CAAS36B,IAAIrG,CAAb,IAAkBC,CAAzB;AAA6B,GAD1C,GAEDilE,yDAAQA,CAACjlE,CAAT,CAFN;AAGD;;AAED,SAAS4nF,aAAT,CAAuB7nF,CAAvB,EAA0BC,CAA1B,EAA6B;AAC3B,SAAOD,IAAI,CAAJ,GACD,UAASxlB,CAAT,EAAY;AAAE,WAAO,CAACgc,KAAKuQ,GAAL,CAAS,CAAC9G,CAAV,EAAazlB,CAAb,CAAD,GAAmBgc,KAAKuQ,GAAL,CAAS,CAAC/G,CAAV,EAAa,IAAIxlB,CAAjB,CAA1B;AAAgD,GAD7D,GAED,UAASA,CAAT,EAAY;AAAE,WAAOgc,KAAKuQ,GAAL,CAAS9G,CAAT,EAAYzlB,CAAZ,IAAiBgc,KAAKuQ,GAAL,CAAS/G,CAAT,EAAY,IAAIxlB,CAAhB,CAAxB;AAA6C,GAFjE;AAGD;;AAED,SAASguG,KAAT,CAAeniF,CAAf,EAAkB;AAChB,SAAO+H,SAAS/H,CAAT,IAAc,EAAE,OAAOA,CAAT,CAAd,GAA4BA,IAAI,CAAJ,GAAQ,CAAR,GAAYA,CAA/C;AACD;;AAED,SAASoiF,IAAT,CAAcvrD,IAAd,EAAoB;AAClB,SAAOA,SAAS,EAAT,GAAcsrD,KAAd,GACDtrD,SAAS1mC,KAAKu9E,CAAd,GAAkBv9E,KAAKusF,GAAvB,GACA,UAAS18E,CAAT,EAAY;AAAE,WAAO7P,KAAKuQ,GAAL,CAASm2B,IAAT,EAAe72B,CAAf,CAAP;AAA2B,GAF/C;AAGD;;AAED,SAASqiF,IAAT,CAAcxrD,IAAd,EAAoB;AAClB,SAAOA,SAAS1mC,KAAKu9E,CAAd,GAAkBv9E,KAAKwqC,GAAvB,GACD9D,SAAS,EAAT,IAAe1mC,KAAKmyF,KAApB,IACCzrD,SAAS,CAAT,IAAc1mC,KAAKoyF,IADpB,KAEE1rD,OAAO1mC,KAAKwqC,GAAL,CAAS9D,IAAT,CAAP,EAAuB,UAAS72B,CAAT,EAAY;AAAE,WAAO7P,KAAKwqC,GAAL,CAAS36B,CAAT,IAAc62B,IAArB;AAA4B,GAFnE,CADN;AAID;;AAED,SAAS2rD,OAAT,CAAiB7rG,CAAjB,EAAoB;AAClB,SAAO,UAASqpB,CAAT,EAAY;AACjB,WAAO,CAACrpB,EAAE,CAACqpB,CAAH,CAAR;AACD,GAFD;AAGD;;AAEc,SAAS26B,GAAT,GAAe;AAC5B,MAAIhJ,QAAQkwD,2DAAUA,CAACP,aAAX,EAA0BE,aAA1B,EAAyCt1F,MAAzC,CAAgD,CAAC,CAAD,EAAI,EAAJ,CAAhD,CAAZ;AAAA,MACIA,SAASylC,MAAMzlC,MADnB;AAAA,MAEI2qC,OAAO,EAFX;AAAA,MAGI4rD,OAAOJ,KAAK,EAAL,CAHX;AAAA,MAIIK,OAAON,KAAK,EAAL,CAJX;;AAMA,WAAS1B,OAAT,GAAmB;AACjB+B,WAAOJ,KAAKxrD,IAAL,CAAP,EAAmB6rD,OAAON,KAAKvrD,IAAL,CAA1B;AACA,QAAI3qC,SAAS,CAAT,IAAc,CAAlB,EAAqBu2F,OAAOD,QAAQC,IAAR,CAAP,EAAsBC,OAAOF,QAAQE,IAAR,CAA7B;AACrB,WAAO/wD,KAAP;AACD;;AAEDA,QAAMkF,IAAN,GAAa,UAASjhC,CAAT,EAAY;AACvB,WAAOtW,UAAU3H,MAAV,IAAoBk/C,OAAO,CAACjhC,CAAR,EAAW8qF,SAA/B,IAA4C7pD,IAAnD;AACD,GAFD;;AAIAlF,QAAMzlC,MAAN,GAAe,UAAS0J,CAAT,EAAY;AACzB,WAAOtW,UAAU3H,MAAV,IAAoBuU,OAAO0J,CAAP,GAAW8qF,SAA/B,IAA4Cx0F,QAAnD;AACD,GAFD;;AAIAylC,QAAMD,KAAN,GAAc,UAASpxB,KAAT,EAAgB;AAC5B,QAAI/sB,IAAI2Y,QAAR;AAAA,QACIqxF,IAAIhqG,EAAE,CAAF,CADR;AAAA,QAEI8gB,IAAI9gB,EAAEA,EAAEoE,MAAF,GAAW,CAAb,CAFR;AAAA,QAGI5D,CAHJ;;AAKA,QAAIA,IAAIsgB,IAAIkpF,CAAZ,EAAerqG,IAAIqqG,CAAJ,EAAOA,IAAIlpF,CAAX,EAAcA,IAAInhB,CAAlB;;AAEf,QAAIA,IAAIuvG,KAAKlF,CAAL,CAAR;AAAA,QACIvlG,IAAIyqG,KAAKpuF,CAAL,CADR;AAAA,QAEIpf,CAFJ;AAAA,QAGI4rF,CAHJ;AAAA,QAII1sF,CAJJ;AAAA,QAKIO,IAAI4rB,SAAS,IAAT,GAAgB,EAAhB,GAAqB,CAACA,KAL9B;AAAA,QAMI8uE,IAAI,EANR;;AAQA,QAAI,EAAEv4C,OAAO,CAAT,KAAe7+C,IAAI9E,CAAJ,GAAQwB,CAA3B,EAA8B;AAC5BxB,UAAIid,KAAK8e,KAAL,CAAW/7B,CAAX,IAAgB,CAApB,EAAuB8E,IAAImY,KAAK8e,KAAL,CAAWj3B,CAAX,IAAgB,CAA3C;AACA,UAAIulG,IAAI,CAAR,EAAW,OAAOrqG,IAAI8E,CAAX,EAAc,EAAE9E,CAAhB,EAAmB;AAC5B,aAAK2tF,IAAI,CAAJ,EAAO5rF,IAAIytG,KAAKxvG,CAAL,CAAhB,EAAyB2tF,IAAIhqC,IAA7B,EAAmC,EAAEgqC,CAArC,EAAwC;AACtC1sF,cAAIc,IAAI4rF,CAAR;AACA,cAAI1sF,IAAIopG,CAAR,EAAW;AACX,cAAIppG,IAAIkgB,CAAR,EAAW;AACX+6E,YAAEl4F,IAAF,CAAO/C,CAAP;AACD;AACF,OAPD,MAOO,OAAOjB,IAAI8E,CAAX,EAAc,EAAE9E,CAAhB,EAAmB;AACxB,aAAK2tF,IAAIhqC,OAAO,CAAX,EAAc5hD,IAAIytG,KAAKxvG,CAAL,CAAvB,EAAgC2tF,KAAK,CAArC,EAAwC,EAAEA,CAA1C,EAA6C;AAC3C1sF,cAAIc,IAAI4rF,CAAR;AACA,cAAI1sF,IAAIopG,CAAR,EAAW;AACX,cAAIppG,IAAIkgB,CAAR,EAAW;AACX+6E,YAAEl4F,IAAF,CAAO/C,CAAP;AACD;AACF;AACF,KAjBD,MAiBO;AACLi7F,UAAI19C,sDAAKA,CAACx+C,CAAN,EAAS8E,CAAT,EAAYmY,KAAK3D,GAAL,CAASxU,IAAI9E,CAAb,EAAgBwB,CAAhB,CAAZ,EAAgC4B,GAAhC,CAAoCosG,IAApC,CAAJ;AACD;;AAED,WAAO3uG,IAAIq7F,EAAEj3E,OAAF,EAAJ,GAAkBi3E,CAAzB;AACD,GAtCD;;AAwCAz9C,QAAMS,UAAN,GAAmB,UAAS9xB,KAAT,EAAgBo2E,SAAhB,EAA2B;AAC5C,QAAIA,aAAa,IAAjB,EAAuBA,YAAY7/C,SAAS,EAAT,GAAc,KAAd,GAAsB,GAAlC;AACvB,QAAI,OAAO6/C,SAAP,KAAqB,UAAzB,EAAqCA,YAAY9gG,wDAAMA,CAAC8gG,SAAP,CAAZ;AACrC,QAAIp2E,UAAUH,QAAd,EAAwB,OAAOu2E,SAAP;AACxB,QAAIp2E,SAAS,IAAb,EAAmBA,QAAQ,EAAR;AACnB,QAAIugE,IAAI1wE,KAAKxD,GAAL,CAAS,CAAT,EAAYkqC,OAAOv2B,KAAP,GAAeqxB,MAAMD,KAAN,GAAc/5C,MAAzC,CAAR,CAL4C,CAKc;AAC1D,WAAO,UAASpE,CAAT,EAAY;AACjB,UAAIL,IAAIK,IAAImvG,KAAKvyF,KAAK8e,KAAL,CAAWwzE,KAAKlvG,CAAL,CAAX,CAAL,CAAZ;AACA,UAAIL,IAAI2jD,IAAJ,GAAWA,OAAO,GAAtB,EAA2B3jD,KAAK2jD,IAAL;AAC3B,aAAO3jD,KAAK2tF,CAAL,GAAS6V,UAAUnjG,CAAV,CAAT,GAAwB,EAA/B;AACD,KAJD;AAKD,GAXD;;AAaAo+C,QAAMwF,IAAN,GAAa,YAAW;AACtB,WAAOjrC,OAAOirC,qDAAIA,CAACjrC,QAAL,EAAe;AAC3BwX,aAAO,eAAS1D,CAAT,EAAY;AAAE,eAAO0iF,KAAKvyF,KAAKuT,KAAL,CAAW++E,KAAKziF,CAAL,CAAX,CAAL,CAAP;AAAmC,OAD7B;AAE3B4oB,YAAM,cAAS5oB,CAAT,EAAY;AAAE,eAAO0iF,KAAKvyF,KAAKy4B,IAAL,CAAU65D,KAAKziF,CAAL,CAAV,CAAL,CAAP;AAAkC;AAF3B,KAAf,CAAP,CAAP;AAID,GALD;;AAOA2xB,QAAMqvC,IAAN,GAAa,YAAW;AACtB,WAAOA,wDAAIA,CAACrvC,KAAL,EAAYgJ,MAAM9D,IAAN,CAAWA,IAAX,CAAZ,CAAP;AACD,GAFD;;AAIA,SAAOlF,KAAP;AACD,C;;;;;;;;;;;;AC/HD;AAAe,yEAASzlC,MAAT,EAAiBuxC,QAAjB,EAA2B;AACxCvxC,WAASA,OAAOjU,KAAP,EAAT;;AAEA,MAAI+lF,KAAK,CAAT;AAAA,MACIC,KAAK/xE,OAAOvU,MAAP,GAAgB,CADzB;AAAA,MAEI8mF,KAAKvyE,OAAO8xE,EAAP,CAFT;AAAA,MAGIra,KAAKz3D,OAAO+xE,EAAP,CAHT;AAAA,MAII9pF,CAJJ;;AAMA,MAAIwvE,KAAK8a,EAAT,EAAa;AACXtqF,QAAI6pF,EAAJ,EAAQA,KAAKC,EAAb,EAAiBA,KAAK9pF,CAAtB;AACAA,QAAIsqF,EAAJ,EAAQA,KAAK9a,EAAb,EAAiBA,KAAKxvE,CAAtB;AACD;;AAED+X,SAAO8xE,EAAP,IAAavgC,SAAS/5B,KAAT,CAAe+6D,EAAf,CAAb;AACAvyE,SAAO+xE,EAAP,IAAaxgC,SAAS7U,IAAT,CAAc+6B,EAAd,CAAb;AACA,SAAOz3D,MAAP;AACD,C;;;;;;;;;;;;ACjBD;AAAe,yEAAS8T,CAAT,EAAY;AACzB,SAAO,CAACA,CAAR;AACD,C;;;;;;;;;;;;ACFD;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAI2iF,WAAW,EAACnvG,MAAM,UAAP,EAAf;;AAEQ,SAAS6sG,OAAT,CAAiB14F,KAAjB,EAAwB;AACrC,MAAI/C,QAAQtO,yDAAGA,EAAf;AAAA,MACI4V,SAAS,EADb;AAAA,MAEIo0F,UAAUqC,QAFd;;AAIAh7F,UAAQA,SAAS,IAAT,GAAgB,EAAhB,GAAqB1P,4CAAKA,CAAC7E,IAAN,CAAWuU,KAAX,CAA7B;;AAEA,WAASgqC,KAAT,CAAep+C,CAAf,EAAkB;AAChB,QAAIiB,MAAMjB,IAAI,EAAd;AAAA,QAAkBL,IAAI0R,MAAM9Q,GAAN,CAAUU,GAAV,CAAtB;AACA,QAAI,CAACtB,CAAL,EAAQ;AACN,UAAIotG,YAAYqC,QAAhB,EAA0B,OAAOrC,OAAP;AAC1B17F,YAAM2Y,GAAN,CAAU/oB,GAAV,EAAetB,IAAIgZ,OAAOhV,IAAP,CAAY3D,CAAZ,CAAnB;AACD;AACD,WAAOoU,MAAM,CAACzU,IAAI,CAAL,IAAUyU,MAAMhQ,MAAtB,CAAP;AACD;;AAEDg6C,QAAMzlC,MAAN,GAAe,UAAS0J,CAAT,EAAY;AACzB,QAAI,CAACtW,UAAU3H,MAAf,EAAuB,OAAOuU,OAAOjU,KAAP,EAAP;AACvBiU,aAAS,EAAT,EAAatH,QAAQtO,yDAAGA,EAAxB;AACA,QAAIpD,IAAI,CAAC,CAAT;AAAA,QAAYwB,IAAIkhB,EAAEje,MAAlB;AAAA,QAA0BpE,CAA1B;AAAA,QAA6BiB,GAA7B;AACA,WAAO,EAAEtB,CAAF,GAAMwB,CAAb;AAAgB,UAAI,CAACkQ,MAAMuH,GAAN,CAAU3X,MAAM,CAACjB,IAAIqiB,EAAE1iB,CAAF,CAAL,IAAa,EAA7B,CAAL,EAAuC0R,MAAM2Y,GAAN,CAAU/oB,GAAV,EAAe0X,OAAOhV,IAAP,CAAY3D,CAAZ,CAAf;AAAvD,KACA,OAAOo+C,KAAP;AACD,GAND;;AAQAA,QAAMhqC,KAAN,GAAc,UAASiO,CAAT,EAAY;AACxB,WAAOtW,UAAU3H,MAAV,IAAoBgQ,QAAQ1P,4CAAKA,CAAC7E,IAAN,CAAWwiB,CAAX,CAAR,EAAuB+7B,KAA3C,IAAoDhqC,MAAM1P,KAAN,EAA3D;AACD,GAFD;;AAIA05C,QAAM2uD,OAAN,GAAgB,UAAS1qF,CAAT,EAAY;AAC1B,WAAOtW,UAAU3H,MAAV,IAAoB2oG,UAAU1qF,CAAV,EAAa+7B,KAAjC,IAA0C2uD,OAAjD;AACD,GAFD;;AAIA3uD,QAAMqvC,IAAN,GAAa,YAAW;AACtB,WAAOqf,UACFn0F,MADE,CACKA,MADL,EAEFvE,KAFE,CAEIA,KAFJ,EAGF24F,OAHE,CAGMA,OAHN,CAAP;AAID,GALD;;AAOA,SAAO3uD,KAAP;AACD,C;;;;;;;;;;;;AC7CD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAEA,SAASixD,KAAT,CAAe5iF,CAAf,EAAkB+2B,QAAlB,EAA4B;AAC1B,SAAO/2B,IAAI,CAAJ,GAAQ,CAAC7P,KAAKuQ,GAAL,CAAS,CAACV,CAAV,EAAa+2B,QAAb,CAAT,GAAkC5mC,KAAKuQ,GAAL,CAASV,CAAT,EAAY+2B,QAAZ,CAAzC;AACD;;AAEc,SAASr2B,GAAT,GAAe;AAC5B,MAAIq2B,WAAW,CAAf;AAAA,MACIpF,QAAQkwD,2DAAUA,CAACP,aAAX,EAA0BE,aAA1B,CADZ;AAAA,MAEIt1F,SAASylC,MAAMzlC,MAFnB;;AAIA,WAASo1F,aAAT,CAAuB3nF,CAAvB,EAA0BC,CAA1B,EAA6B;AAC3B,WAAO,CAACA,IAAIgpF,MAAMhpF,CAAN,EAASm9B,QAAT,KAAsBp9B,IAAIipF,MAAMjpF,CAAN,EAASo9B,QAAT,CAA1B,CAAL,IACD,UAAS/2B,CAAT,EAAY;AAAE,aAAO,CAAC4iF,MAAM5iF,CAAN,EAAS+2B,QAAT,IAAqBp9B,CAAtB,IAA2BC,CAAlC;AAAsC,KADnD,GAEDilE,yDAAQA,CAACjlE,CAAT,CAFN;AAGD;;AAED,WAAS4nF,aAAT,CAAuB7nF,CAAvB,EAA0BC,CAA1B,EAA6B;AAC3BA,QAAIgpF,MAAMhpF,CAAN,EAASm9B,QAAT,KAAsBp9B,IAAIipF,MAAMjpF,CAAN,EAASo9B,QAAT,CAA1B,CAAJ;AACA,WAAO,UAAS5iD,CAAT,EAAY;AAAE,aAAOyuG,MAAMjpF,IAAIC,IAAIzlB,CAAd,EAAiB,IAAI4iD,QAArB,CAAP;AAAwC,KAA7D;AACD;;AAEDpF,QAAMoF,QAAN,GAAiB,UAASnhC,CAAT,EAAY;AAC3B,WAAOtW,UAAU3H,MAAV,IAAoBo/C,WAAW,CAACnhC,CAAZ,EAAe1J,OAAOA,QAAP,CAAnC,IAAuD6qC,QAA9D;AACD,GAFD;;AAIApF,QAAMqvC,IAAN,GAAa,YAAW;AACtB,WAAOA,wDAAIA,CAACrvC,KAAL,EAAYjxB,MAAMq2B,QAAN,CAAeA,QAAf,CAAZ,CAAP;AACD,GAFD;;AAIA,SAAOmrD,yDAASA,CAACvwD,KAAV,CAAP;AACD;;AAEM,SAAS/wB,IAAT,GAAgB;AACrB,SAAOF,MAAMq2B,QAAN,CAAe,GAAf,CAAP;AACD,C;;;;;;;;;;;;ACrCD;AAAA;AAAA;AAAA;AAAA;AACA;;AAEe,SAASxC,QAAT,GAAoB;AACjC,MAAIroC,SAAS,EAAb;AAAA,MACIvE,QAAQ,EADZ;AAAA,MAEIm3E,aAAa,EAFjB;;AAIA,WAAS4hB,OAAT,GAAmB;AACjB,QAAIxtG,IAAI,CAAR;AAAA,QAAWwB,IAAIyb,KAAKxD,GAAL,CAAS,CAAT,EAAYhF,MAAMhQ,MAAlB,CAAf;AACAmnF,iBAAa,IAAI7jF,KAAJ,CAAUvG,IAAI,CAAd,CAAb;AACA,WAAO,EAAExB,CAAF,GAAMwB,CAAb;AAAgBoqF,iBAAW5rF,IAAI,CAAf,IAAoBmrF,yDAASA,CAACnyE,MAAV,EAAkBhZ,IAAIwB,CAAtB,CAApB;AAAhB,KACA,OAAOi9C,KAAP;AACD;;AAED,WAASA,KAAT,CAAe3xB,CAAf,EAAkB;AAChB,QAAI,CAAC9Q,MAAM8Q,IAAI,CAACA,CAAX,CAAL,EAAoB,OAAOrY,MAAMi3E,uDAAMA,CAACE,UAAP,EAAmB9+D,CAAnB,CAAN,CAAP;AACrB;;AAED2xB,QAAMuK,YAAN,GAAqB,UAASnyB,CAAT,EAAY;AAC/B,QAAI72B,IAAIyU,MAAMvG,OAAN,CAAc2oB,CAAd,CAAR;AACA,WAAO72B,IAAI,CAAJ,GAAQ,CAACkqF,GAAD,EAAMA,GAAN,CAAR,GAAqB,CAC1BlqF,IAAI,CAAJ,GAAQ4rF,WAAW5rF,IAAI,CAAf,CAAR,GAA4BgZ,OAAO,CAAP,CADF,EAE1BhZ,IAAI4rF,WAAWnnF,MAAf,GAAwBmnF,WAAW5rF,CAAX,CAAxB,GAAwCgZ,OAAOA,OAAOvU,MAAP,GAAgB,CAAvB,CAFd,CAA5B;AAID,GAND;;AAQAg6C,QAAMzlC,MAAN,GAAe,UAAS0J,CAAT,EAAY;AACzB,QAAI,CAACtW,UAAU3H,MAAf,EAAuB,OAAOuU,OAAOjU,KAAP,EAAP;AACvBiU,aAAS,EAAT;AACA,SAAK,IAAIhZ,IAAI,CAAR,EAAWwB,IAAIkhB,EAAEje,MAAjB,EAAyBpE,CAA9B,EAAiCL,IAAIwB,CAArC,EAAwC,EAAExB,CAA1C;AAA6C,UAAIK,IAAIqiB,EAAE1iB,CAAF,CAAJ,EAAUK,KAAK,IAAL,IAAa,CAAC2b,MAAM3b,IAAI,CAACA,CAAX,CAA5B,EAA2C2Y,OAAOhV,IAAP,CAAY3D,CAAZ;AAAxF,KACA2Y,OAAO/L,IAAP,CAAYo9E,kDAAZ;AACA,WAAOmjB,SAAP;AACD,GAND;;AAQA/uD,QAAMhqC,KAAN,GAAc,UAASiO,CAAT,EAAY;AACxB,WAAOtW,UAAU3H,MAAV,IAAoBgQ,QAAQ1P,4CAAKA,CAAC7E,IAAN,CAAWwiB,CAAX,CAAR,EAAuB8qF,SAA3C,IAAwD/4F,MAAM1P,KAAN,EAA/D;AACD,GAFD;;AAIA05C,QAAMkxD,SAAN,GAAkB,YAAW;AAC3B,WAAO/jB,WAAW7mF,KAAX,EAAP;AACD,GAFD;;AAIA05C,QAAMqvC,IAAN,GAAa,YAAW;AACtB,WAAOzsC,WACFroC,MADE,CACKA,MADL,EAEFvE,KAFE,CAEIA,KAFJ,CAAP;AAGD,GAJD;;AAMA,SAAOgqC,KAAP;AACD,C;;;;;;;;;;;;AClDD;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAEe,SAASmxD,QAAT,GAAoB;AACjC,MAAIrkB,KAAK,CAAT;AAAA,MACI9a,KAAK,CADT;AAAA,MAEIjvE,IAAI,CAFR;AAAA,MAGIwX,SAAS,CAAC,GAAD,CAHb;AAAA,MAIIvE,QAAQ,CAAC,CAAD,EAAI,CAAJ,CAJZ;;AAMA,WAASgqC,KAAT,CAAe3xB,CAAf,EAAkB;AAChB,QAAIA,KAAKA,CAAT,EAAY,OAAOrY,MAAMi3E,uDAAMA,CAAC1yE,MAAP,EAAe8T,CAAf,EAAkB,CAAlB,EAAqBtrB,CAArB,CAAN,CAAP;AACb;;AAED,WAASgsG,OAAT,GAAmB;AACjB,QAAIxtG,IAAI,CAAC,CAAT;AACAgZ,aAAS,IAAIjR,KAAJ,CAAUvG,CAAV,CAAT;AACA,WAAO,EAAExB,CAAF,GAAMwB,CAAb;AAAgBwX,aAAOhZ,CAAP,IAAY,CAAC,CAACA,IAAI,CAAL,IAAUywE,EAAV,GAAe,CAACzwE,IAAIwB,CAAL,IAAU+pF,EAA1B,KAAiC/pF,IAAI,CAArC,CAAZ;AAAhB,KACA,OAAOi9C,KAAP;AACD;;AAEDA,QAAMzlC,MAAN,GAAe,UAAS0J,CAAT,EAAY;AACzB,WAAOtW,UAAU3H,MAAV,IAAoB8mF,KAAK,CAAC7oE,EAAE,CAAF,CAAN,EAAY+tD,KAAK,CAAC/tD,EAAE,CAAF,CAAlB,EAAwB8qF,SAA5C,IAAyD,CAACjiB,EAAD,EAAK9a,EAAL,CAAhE;AACD,GAFD;;AAIAhyB,QAAMhqC,KAAN,GAAc,UAASiO,CAAT,EAAY;AACxB,WAAOtW,UAAU3H,MAAV,IAAoBjD,IAAI,CAACiT,QAAQ1P,4CAAKA,CAAC7E,IAAN,CAAWwiB,CAAX,CAAT,EAAwBje,MAAxB,GAAiC,CAArC,EAAwC+oG,SAA5D,IAAyE/4F,MAAM1P,KAAN,EAAhF;AACD,GAFD;;AAIA05C,QAAMuK,YAAN,GAAqB,UAASnyB,CAAT,EAAY;AAC/B,QAAI72B,IAAIyU,MAAMvG,OAAN,CAAc2oB,CAAd,CAAR;AACA,WAAO72B,IAAI,CAAJ,GAAQ,CAACkqF,GAAD,EAAMA,GAAN,CAAR,GACDlqF,IAAI,CAAJ,GAAQ,CAACurF,EAAD,EAAKvyE,OAAO,CAAP,CAAL,CAAR,GACAhZ,KAAKwB,CAAL,GAAS,CAACwX,OAAOxX,IAAI,CAAX,CAAD,EAAgBivE,EAAhB,CAAT,GACA,CAACz3D,OAAOhZ,IAAI,CAAX,CAAD,EAAgBgZ,OAAOhZ,CAAP,CAAhB,CAHN;AAID,GAND;;AAQAy+C,QAAMqvC,IAAN,GAAa,YAAW;AACtB,WAAO8hB,WACF52F,MADE,CACK,CAACuyE,EAAD,EAAK9a,EAAL,CADL,EAEFh8D,KAFE,CAEIA,KAFJ,CAAP;AAGD,GAJD;;AAMA,SAAOu6F,yDAASA,CAACvwD,KAAV,CAAP;AACD,C;;;;;;;;;;;;AC7CD;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,IAAIkuD,OAAOD,+EAAwBA,CAACzR,0DAASA,CAAC,CAAC,GAAX,EAAgB,IAAhB,EAAsB,IAAtB,CAAzB,EAAsDA,0DAASA,CAAC,EAAV,EAAc,IAAd,EAAoB,GAApB,CAAtD,CAAX;;AAEA,IAAI2R,OAAOF,+EAAwBA,CAACzR,0DAASA,CAAC,GAAV,EAAe,IAAf,EAAqB,IAArB,CAAzB,EAAqDA,0DAASA,CAAC,EAAV,EAAc,IAAd,EAAoB,GAApB,CAArD,CAAX;;AAEP,IAAI4U,UAAU5U,0DAASA,EAAvB;;AAEe,yEAASh6F,CAAT,EAAY;AACzB,MAAIA,IAAI,CAAJ,IAASA,IAAI,CAAjB,EAAoBA,KAAKgc,KAAKuT,KAAL,CAAWvvB,CAAX,CAAL;AACpB,MAAI4rG,KAAK5vF,KAAKmf,GAAL,CAASn7B,IAAI,GAAb,CAAT;AACA4uG,UAAQtjD,CAAR,GAAY,MAAMtrD,CAAN,GAAU,GAAtB;AACA4uG,UAAQ7tG,CAAR,GAAY,MAAM,MAAM6qG,EAAxB;AACAgD,UAAQ5vG,CAAR,GAAY,MAAM,MAAM4sG,EAAxB;AACA,SAAOgD,UAAU,EAAjB;AACD,C;;;;;;;;;;;;AChBD;AAAA;AAAA;AAAA;;AAEe,SAASC,UAAT,CAAoBlsD,YAApB,EAAkC;AAC/C,MAAI2nC,KAAK,CAAT;AAAA,MACI9a,KAAK,CADT;AAAA,MAEIi+B,QAAQ,KAFZ;;AAIA,WAASjwD,KAAT,CAAe3xB,CAAf,EAAkB;AAChB,QAAI7rB,IAAI,CAAC6rB,IAAIy+D,EAAL,KAAY9a,KAAK8a,EAAjB,CAAR;AACA,WAAO3nC,aAAa8qD,QAAQzxF,KAAKxD,GAAL,CAAS,CAAT,EAAYwD,KAAK3D,GAAL,CAAS,CAAT,EAAYrY,CAAZ,CAAZ,CAAR,GAAsCA,CAAnD,CAAP;AACD;;AAEDw9C,QAAMzlC,MAAN,GAAe,UAAS0J,CAAT,EAAY;AACzB,WAAOtW,UAAU3H,MAAV,IAAoB8mF,KAAK,CAAC7oE,EAAE,CAAF,CAAN,EAAY+tD,KAAK,CAAC/tD,EAAE,CAAF,CAAlB,EAAwB+7B,KAA5C,IAAqD,CAAC8sC,EAAD,EAAK9a,EAAL,CAA5D;AACD,GAFD;;AAIAhyB,QAAMiwD,KAAN,GAAc,UAAShsF,CAAT,EAAY;AACxB,WAAOtW,UAAU3H,MAAV,IAAoBiqG,QAAQ,CAAC,CAAChsF,CAAV,EAAa+7B,KAAjC,IAA0CiwD,KAAjD;AACD,GAFD;;AAIAjwD,QAAMmF,YAAN,GAAqB,UAASlhC,CAAT,EAAY;AAC/B,WAAOtW,UAAU3H,MAAV,IAAoBm/C,eAAelhC,CAAf,EAAkB+7B,KAAtC,IAA+CmF,YAAtD;AACD,GAFD;;AAIAnF,QAAMqvC,IAAN,GAAa,YAAW;AACtB,WAAOgiB,WAAWlsD,YAAX,EAAyB5qC,MAAzB,CAAgC,CAACuyE,EAAD,EAAK9a,EAAL,CAAhC,EAA0Ci+B,KAA1C,CAAgDA,KAAhD,CAAP;AACD,GAFD;;AAIA,SAAOM,yDAASA,CAACvwD,KAAV,CAAP;AACD,C;;;;;;;;;;;;AC7BD;AAAA;AAAA;AAAA;AAAA;AACA;;AAEe,SAAS0sC,SAAT,GAAqB;AAClC,MAAInyE,SAAS,CAAC,GAAD,CAAb;AAAA,MACIvE,QAAQ,CAAC,CAAD,EAAI,CAAJ,CADZ;AAAA,MAEIjT,IAAI,CAFR;;AAIA,WAASi9C,KAAT,CAAe3xB,CAAf,EAAkB;AAChB,QAAIA,KAAKA,CAAT,EAAY,OAAOrY,MAAMi3E,uDAAMA,CAAC1yE,MAAP,EAAe8T,CAAf,EAAkB,CAAlB,EAAqBtrB,CAArB,CAAN,CAAP;AACb;;AAEDi9C,QAAMzlC,MAAN,GAAe,UAAS0J,CAAT,EAAY;AACzB,WAAOtW,UAAU3H,MAAV,IAAoBuU,SAASjU,4CAAKA,CAAC7E,IAAN,CAAWwiB,CAAX,CAAT,EAAwBlhB,IAAIyb,KAAK3D,GAAL,CAASN,OAAOvU,MAAhB,EAAwBgQ,MAAMhQ,MAAN,GAAe,CAAvC,CAA5B,EAAuEg6C,KAA3F,IAAoGzlC,OAAOjU,KAAP,EAA3G;AACD,GAFD;;AAIA05C,QAAMhqC,KAAN,GAAc,UAASiO,CAAT,EAAY;AACxB,WAAOtW,UAAU3H,MAAV,IAAoBgQ,QAAQ1P,4CAAKA,CAAC7E,IAAN,CAAWwiB,CAAX,CAAR,EAAuBlhB,IAAIyb,KAAK3D,GAAL,CAASN,OAAOvU,MAAhB,EAAwBgQ,MAAMhQ,MAAN,GAAe,CAAvC,CAA3B,EAAsEg6C,KAA1F,IAAmGhqC,MAAM1P,KAAN,EAA1G;AACD,GAFD;;AAIA05C,QAAMuK,YAAN,GAAqB,UAASnyB,CAAT,EAAY;AAC/B,QAAI72B,IAAIyU,MAAMvG,OAAN,CAAc2oB,CAAd,CAAR;AACA,WAAO,CAAC7d,OAAOhZ,IAAI,CAAX,CAAD,EAAgBgZ,OAAOhZ,CAAP,CAAhB,CAAP;AACD,GAHD;;AAKAy+C,QAAMqvC,IAAN,GAAa,YAAW;AACtB,WAAO3C,YACFnyE,MADE,CACKA,MADL,EAEFvE,KAFE,CAEIA,KAFJ,CAAP;AAGD,GAJD;;AAMA,SAAOgqC,KAAP;AACD,C;;;;;;;;;;;;AChCD;AAAA;AAAA;AAAA;AACA;;AAEe,yEAASzlC,MAAT,EAAiBoU,KAAjB,EAAwBo2E,SAAxB,EAAmC;AAChD,MAAI59E,QAAQ5M,OAAO,CAAP,CAAZ;AAAA,MACIozE,OAAOpzE,OAAOA,OAAOvU,MAAP,GAAgB,CAAvB,CADX;AAAA,MAEIwmD,OAAOwgC,yDAAQA,CAAC7lE,KAAT,EAAgBwmE,IAAhB,EAAsBh/D,SAAS,IAAT,GAAgB,EAAhB,GAAqBA,KAA3C,CAFX;AAAA,MAGI02E,SAHJ;AAIAN,cAAYD,iEAAeA,CAACC,aAAa,IAAb,GAAoB,IAApB,GAA2BA,SAA3C,CAAZ;AACA,UAAQA,UAAUh0F,IAAlB;AACE,SAAK,GAAL;AAAU;AACR,YAAIxO,QAAQic,KAAKxD,GAAL,CAASwD,KAAKmf,GAAL,CAASxW,KAAT,CAAT,EAA0B3I,KAAKmf,GAAL,CAASgwD,IAAT,CAA1B,CAAZ;AACA,YAAIoX,UAAUM,SAAV,IAAuB,IAAvB,IAA+B,CAAC9nF,MAAM8nF,YAAYiM,iEAAeA,CAAC9kD,IAAhB,EAAsBjqD,KAAtB,CAAlB,CAApC,EAAqFwiG,UAAUM,SAAV,GAAsBA,SAAtB;AACrF,eAAOpB,8DAAYA,CAACc,SAAb,EAAwBxiG,KAAxB,CAAP;AACD;AACD,SAAK,EAAL;AACA,SAAK,GAAL;AACA,SAAK,GAAL;AACA,SAAK,GAAL;AACA,SAAK,GAAL;AAAU;AACR,YAAIwiG,UAAUM,SAAV,IAAuB,IAAvB,IAA+B,CAAC9nF,MAAM8nF,YAAYkM,gEAAcA,CAAC/kD,IAAf,EAAqBhuC,KAAKxD,GAAL,CAASwD,KAAKmf,GAAL,CAASxW,KAAT,CAAT,EAA0B3I,KAAKmf,GAAL,CAASgwD,IAAT,CAA1B,CAArB,CAAlB,CAApC,EAAwHoX,UAAUM,SAAV,GAAsBA,aAAaN,UAAUh0F,IAAV,KAAmB,GAAhC,CAAtB;AACxH;AACD;AACD,SAAK,GAAL;AACA,SAAK,GAAL;AAAU;AACR,YAAIg0F,UAAUM,SAAV,IAAuB,IAAvB,IAA+B,CAAC9nF,MAAM8nF,YAAYmM,gEAAcA,CAAChlD,IAAf,CAAlB,CAApC,EAA6Eu4C,UAAUM,SAAV,GAAsBA,YAAY,CAACN,UAAUh0F,IAAV,KAAmB,GAApB,IAA2B,CAA7D;AAC7E;AACD;AAlBH;AAoBA,SAAO9M,wDAAMA,CAAC8gG,SAAP,CAAP;AACD,C;;;;;;;;;;;;AC9BD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI0M,iBAAiB,IAArB;AAAA,IACIC,iBAAiBD,iBAAiB,EADtC;AAAA,IAEIE,eAAeD,iBAAiB,EAFpC;AAAA,IAGIE,cAAcD,eAAe,EAHjC;AAAA,IAIIE,eAAeD,cAAc,CAJjC;AAAA,IAKIE,gBAAgBF,cAAc,EALlC;AAAA,IAMIG,eAAeH,cAAc,GANjC;;AAQA,SAASz8E,IAAT,CAAc3yB,CAAd,EAAiB;AACf,SAAO,IAAIsb,IAAJ,CAAStb,CAAT,CAAP;AACD;;AAED,SAAS4qF,MAAT,CAAgB5qF,CAAhB,EAAmB;AACjB,SAAOA,aAAasb,IAAb,GAAoB,CAACtb,CAArB,GAAyB,CAAC,IAAIsb,IAAJ,CAAS,CAACtb,CAAV,CAAjC;AACD;;AAEM,SAASwvG,QAAT,CAAkB15E,IAAlB,EAAwBL,KAAxB,EAA+Bg6E,IAA/B,EAAqCp6E,GAArC,EAA0C2vD,IAA1C,EAAgDD,MAAhD,EAAwDD,MAAxD,EAAgED,WAAhE,EAA6EpjF,MAA7E,EAAqF;AAC1F,MAAI+7C,QAAQkwD,2DAAUA,CAACP,+DAAX,EAA0BE,gEAA1B,CAAZ;AAAA,MACIrrD,SAASxE,MAAMwE,MADnB;AAAA,MAEIjqC,SAASylC,MAAMzlC,MAFnB;;AAIA,MAAI23F,oBAAoBjuG,OAAO,KAAP,CAAxB;AAAA,MACIkuG,eAAeluG,OAAO,KAAP,CADnB;AAAA,MAEImuG,eAAenuG,OAAO,OAAP,CAFnB;AAAA,MAGIouG,aAAapuG,OAAO,OAAP,CAHjB;AAAA,MAIIquG,YAAYruG,OAAO,OAAP,CAJhB;AAAA,MAKIsuG,aAAatuG,OAAO,OAAP,CALjB;AAAA,MAMIuuG,cAAcvuG,OAAO,IAAP,CANlB;AAAA,MAOIwuG,aAAaxuG,OAAO,IAAP,CAPjB;;AASA,MAAIyuG,gBAAgB,CAClB,CAACprB,MAAD,EAAU,CAAV,EAAkBmqB,cAAlB,CADkB,EAElB,CAACnqB,MAAD,EAAU,CAAV,EAAc,IAAImqB,cAAlB,CAFkB,EAGlB,CAACnqB,MAAD,EAAS,EAAT,EAAa,KAAKmqB,cAAlB,CAHkB,EAIlB,CAACnqB,MAAD,EAAS,EAAT,EAAa,KAAKmqB,cAAlB,CAJkB,EAKlB,CAAClqB,MAAD,EAAU,CAAV,EAAkBmqB,cAAlB,CALkB,EAMlB,CAACnqB,MAAD,EAAU,CAAV,EAAc,IAAImqB,cAAlB,CANkB,EAOlB,CAACnqB,MAAD,EAAS,EAAT,EAAa,KAAKmqB,cAAlB,CAPkB,EAQlB,CAACnqB,MAAD,EAAS,EAAT,EAAa,KAAKmqB,cAAlB,CARkB,EASlB,CAAGlqB,IAAH,EAAU,CAAV,EAAkBmqB,YAAlB,CATkB,EAUlB,CAAGnqB,IAAH,EAAU,CAAV,EAAc,IAAImqB,YAAlB,CAVkB,EAWlB,CAAGnqB,IAAH,EAAU,CAAV,EAAc,IAAImqB,YAAlB,CAXkB,EAYlB,CAAGnqB,IAAH,EAAS,EAAT,EAAa,KAAKmqB,YAAlB,CAZkB,EAalB,CAAI95E,GAAJ,EAAU,CAAV,EAAkB+5E,WAAlB,CAbkB,EAclB,CAAI/5E,GAAJ,EAAU,CAAV,EAAc,IAAI+5E,WAAlB,CAdkB,EAelB,CAAGK,IAAH,EAAU,CAAV,EAAkBJ,YAAlB,CAfkB,EAgBlB,CAAE55E,KAAF,EAAU,CAAV,EAAkB65E,aAAlB,CAhBkB,EAiBlB,CAAE75E,KAAF,EAAU,CAAV,EAAc,IAAI65E,aAAlB,CAjBkB,EAkBlB,CAAGx5E,IAAH,EAAU,CAAV,EAAkBy5E,YAAlB,CAlBkB,CAApB;;AAqBA,WAAStxD,UAAT,CAAoBtrB,IAApB,EAA0B;AACxB,WAAO,CAACmyD,OAAOnyD,IAAP,IAAeA,IAAf,GAAsB+8E,iBAAtB,GACF3qB,OAAOpyD,IAAP,IAAeA,IAAf,GAAsBg9E,YAAtB,GACA3qB,KAAKryD,IAAL,IAAaA,IAAb,GAAoBi9E,YAApB,GACAv6E,IAAI1C,IAAJ,IAAYA,IAAZ,GAAmBk9E,UAAnB,GACAp6E,MAAM9C,IAAN,IAAcA,IAAd,GAAsB88E,KAAK98E,IAAL,IAAaA,IAAb,GAAoBm9E,SAApB,GAAgCC,UAAtD,GACAj6E,KAAKnD,IAAL,IAAaA,IAAb,GAAoBq9E,WAApB,GACAC,UANC,EAMWt9E,IANX,CAAP;AAOD;;AAED,WAASg2B,YAAT,CAAsBW,QAAtB,EAAgC3kC,KAAhC,EAAuCwmE,IAAvC,EAA6CnhC,IAA7C,EAAmD;AACjD,QAAIV,YAAY,IAAhB,EAAsBA,WAAW,EAAX;;AAEtB;AACA;AACA;AACA,QAAI,OAAOA,QAAP,KAAoB,QAAxB,EAAkC;AAChC,UAAI1/C,SAASoS,KAAKmf,GAAL,CAASgwD,OAAOxmE,KAAhB,IAAyB2kC,QAAtC;AAAA,UACIvqD,IAAIoqF,yDAAQA,CAAC,UAASpqF,CAAT,EAAY;AAAE,eAAOA,EAAE,CAAF,CAAP;AAAc,OAArC,EAAuC+pD,KAAvC,CAA6ConD,aAA7C,EAA4DtmG,MAA5D,CADR;AAEA,UAAI7K,MAAMmxG,cAAc1sG,MAAxB,EAAgC;AAC9BwmD,eAAOwgC,yDAAQA,CAAC7lE,QAAQ4qF,YAAjB,EAA+BpkB,OAAOokB,YAAtC,EAAoDjmD,QAApD,CAAP;AACAA,mBAAWxzB,IAAX;AACD,OAHD,MAGO,IAAI/2B,CAAJ,EAAO;AACZA,YAAImxG,cAActmG,SAASsmG,cAAcnxG,IAAI,CAAlB,EAAqB,CAArB,CAAT,GAAmCmxG,cAAcnxG,CAAd,EAAiB,CAAjB,IAAsB6K,MAAzD,GAAkE7K,IAAI,CAAtE,GAA0EA,CAAxF,CAAJ;AACAirD,eAAOjrD,EAAE,CAAF,CAAP;AACAuqD,mBAAWvqD,EAAE,CAAF,CAAX;AACD,OAJM,MAIA;AACLirD,eAAOhuC,KAAKxD,GAAL,CAASgyE,yDAAQA,CAAC7lE,KAAT,EAAgBwmE,IAAhB,EAAsB7hC,QAAtB,CAAT,EAA0C,CAA1C,CAAP;AACAA,mBAAWu7B,WAAX;AACD;AACF;;AAED,WAAO76B,QAAQ,IAAR,GAAeV,QAAf,GAA0BA,SAAShpC,KAAT,CAAe0pC,IAAf,CAAjC;AACD;;AAEDxM,QAAMwE,MAAN,GAAe,UAASpsB,CAAT,EAAY;AACzB,WAAO,IAAIta,IAAJ,CAAS0mC,OAAOpsB,CAAP,CAAT,CAAP;AACD,GAFD;;AAIA4nB,QAAMzlC,MAAN,GAAe,UAAS0J,CAAT,EAAY;AACzB,WAAOtW,UAAU3H,MAAV,GAAmBuU,OAAO5V,0CAAGA,CAAClD,IAAJ,CAASwiB,CAAT,EAAYmpE,MAAZ,CAAP,CAAnB,GAAiD7yE,SAAS5V,GAAT,CAAawwB,IAAb,CAAxD;AACD,GAFD;;AAIA6qB,QAAMD,KAAN,GAAc,UAAS+L,QAAT,EAAmBU,IAAnB,EAAyB;AACrC,QAAI5qD,IAAI2Y,QAAR;AAAA,QACIyiF,KAAKp7F,EAAE,CAAF,CADT;AAAA,QAEIq7F,KAAKr7F,EAAEA,EAAEoE,MAAF,GAAW,CAAb,CAFT;AAAA,QAGI5D,IAAI66F,KAAKD,EAHb;AAAA,QAIIx6F,CAJJ;AAKA,QAAIJ,CAAJ,EAAOI,IAAIw6F,EAAJ,EAAQA,KAAKC,EAAb,EAAiBA,KAAKz6F,CAAtB;AACPA,QAAI2oD,aAAaW,QAAb,EAAuBkxC,EAAvB,EAA2BC,EAA3B,EAA+BzwC,IAA/B,CAAJ;AACAhqD,QAAIA,IAAIA,EAAEwT,KAAF,CAAQgnF,EAAR,EAAYC,KAAK,CAAjB,CAAJ,GAA0B,EAA9B,CARqC,CAQH;AAClC,WAAO76F,IAAII,EAAEgkB,OAAF,EAAJ,GAAkBhkB,CAAzB;AACD,GAVD;;AAYAw9C,QAAMS,UAAN,GAAmB,UAAS9xB,KAAT,EAAgBo2E,SAAhB,EAA2B;AAC5C,WAAOA,aAAa,IAAb,GAAoBtkD,UAApB,GAAiCx8C,OAAO8gG,SAAP,CAAxC;AACD,GAFD;;AAIA/kD,QAAMwF,IAAN,GAAa,UAASsG,QAAT,EAAmBU,IAAnB,EAAyB;AACpC,QAAI5qD,IAAI2Y,QAAR;AACA,WAAO,CAACuxC,WAAWX,aAAaW,QAAb,EAAuBlqD,EAAE,CAAF,CAAvB,EAA6BA,EAAEA,EAAEoE,MAAF,GAAW,CAAb,CAA7B,EAA8CwmD,IAA9C,CAAZ,IACDjyC,OAAOirC,qDAAIA,CAAC5jD,CAAL,EAAQkqD,QAAR,CAAP,CADC,GAED9L,KAFN;AAGD,GALD;;AAOAA,QAAMqvC,IAAN,GAAa,YAAW;AACtB,WAAOA,wDAAIA,CAACrvC,KAAL,EAAYgyD,SAAS15E,IAAT,EAAeL,KAAf,EAAsBg6E,IAAtB,EAA4Bp6E,GAA5B,EAAiC2vD,IAAjC,EAAuCD,MAAvC,EAA+CD,MAA/C,EAAuDD,WAAvD,EAAoEpjF,MAApE,CAAZ,CAAP;AACD,GAFD;;AAIA,SAAO+7C,KAAP;AACD;;AAEc,2EAAW;AACxB,SAAOgyD,SAASW,gDAAT,EAAmBC,iDAAnB,EAA8BC,gDAA9B,EAAwCC,+CAAxC,EAAiDC,gDAAjD,EAA2DC,kDAA3D,EAAuEC,kDAAvE,EAAmFC,uDAAnF,EAAoGC,yDAApG,EAAgH54F,MAAhH,CAAuH,CAAC,IAAIuD,IAAJ,CAAS,IAAT,EAAe,CAAf,EAAkB,CAAlB,CAAD,EAAuB,IAAIA,IAAJ,CAAS,IAAT,EAAe,CAAf,EAAkB,CAAlB,CAAvB,CAAvH,CAAP;AACD,C;;;;;;;;;;;;ACtID;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAEe,2EAAW;AACxB,SAAOk0F,sDAAQA,CAACoB,+CAAT,EAAkBC,gDAAlB,EAA4BC,+CAA5B,EAAqCC,8CAArC,EAA6CC,+CAA7C,EAAsDC,iDAAtD,EAAiEC,iDAAjE,EAA4EC,sDAA5E,EAA4FC,wDAA5F,EAAuGr5F,MAAvG,CAA8G,CAACuD,KAAK+1F,GAAL,CAAS,IAAT,EAAe,CAAf,EAAkB,CAAlB,CAAD,EAAuB/1F,KAAK+1F,GAAL,CAAS,IAAT,EAAe,CAAf,EAAkB,CAAlB,CAAvB,CAA9G,CAAP;AACD,C;;;;;;;;;;;;ACND;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEA,SAAS9F,IAAT,CAAc/3F,KAAd,EAAqB;AACnB,MAAIjT,IAAIiT,MAAMhQ,MAAd;AACA,SAAO,UAASxD,CAAT,EAAY;AACjB,WAAOwT,MAAMwI,KAAKxD,GAAL,CAAS,CAAT,EAAYwD,KAAK3D,GAAL,CAAS9X,IAAI,CAAb,EAAgByb,KAAKuT,KAAL,CAAWvvB,IAAIO,CAAf,CAAhB,CAAZ,CAAN,CAAP;AACD,GAFD;AAGD;;AAED,+DAAegrG,KAAK/F,uDAAMA,CAAC,kgDAAP,CAAL,CAAf;;AAEO,IAAIuG,QAAQR,KAAK/F,uDAAMA,CAAC,kgDAAP,CAAL,CAAZ;;AAEA,IAAIwG,UAAUT,KAAK/F,uDAAMA,CAAC,kgDAAP,CAAL,CAAd;;AAEA,IAAIyG,SAASV,KAAK/F,uDAAMA,CAAC,kgDAAP,CAAL,CAAb,C;;;;;;;;;;;;ACfP;AAAe,yEAAS35E,CAAT,EAAY;AACzB,SAAO,YAAW;AAChB,WAAOA,CAAP;AACD,GAFD;AAGD,C;;;;;;;;;;;;ACJD;AAAA;AAAA;AAAA;AACA;;AAEe,yEAASxsB,IAAT,EAAe;AAC5B,SAAOmW,uDAAMA,CAAC87F,wDAAOA,CAACjyG,IAAR,EAAcJ,IAAd,CAAmB6gF,SAASwe,eAA5B,CAAP,CAAP;AACD,C;;;;;;;;;;;;ACLD;AAAA;AAAA;AAAA;AACA;;AAEA,SAASiT,cAAT,CAAwBlyG,IAAxB,EAA8B;AAC5B,SAAO,YAAW;AAChB,QAAIygF,WAAW,KAAK0xB,aAApB;AAAA,QACIC,MAAM,KAAKC,YADf;AAEA,WAAOD,QAAQE,iDAAR,IAAiB7xB,SAASwe,eAAT,CAAyBoT,YAAzB,KAA0CC,iDAA3D,GACD7xB,SAAS1T,aAAT,CAAuB/sE,IAAvB,CADC,GAEDygF,SAASC,eAAT,CAAyB0xB,GAAzB,EAA8BpyG,IAA9B,CAFN;AAGD,GAND;AAOD;;AAED,SAASuyG,YAAT,CAAsBC,QAAtB,EAAgC;AAC9B,SAAO,YAAW;AAChB,WAAO,KAAKL,aAAL,CAAmBzxB,eAAnB,CAAmC8xB,SAASx6D,KAA5C,EAAmDw6D,SAASC,KAA5D,CAAP;AACD,GAFD;AAGD;;AAEc,yEAASzyG,IAAT,EAAe;AAC5B,MAAIwyG,WAAW/lC,0DAASA,CAACzsE,IAAV,CAAf;AACA,SAAO,CAACwyG,SAASC,KAAT,GACFF,YADE,GAEFL,cAFC,EAEeM,QAFf,CAAP;AAGD,C;;;;;;;;;;;;ACxBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AChBA;AAAA;AAAA,IAAIE,SAAS,CAAb;;AAEe,SAASD,KAAT,GAAiB;AAC9B,SAAO,IAAIE,KAAJ,EAAP;AACD;;AAED,SAASA,KAAT,GAAiB;AACf,OAAKvwF,CAAL,GAAS,MAAM,CAAC,EAAEswF,MAAH,EAAWt9E,QAAX,CAAoB,EAApB,CAAf;AACD;;AAEDu9E,MAAMpxG,SAAN,GAAkBkxG,MAAMlxG,SAAN,GAAkB;AAClCgK,eAAaonG,KADqB;AAElCryG,OAAK,aAAS+9B,IAAT,EAAe;AAClB,QAAIiV,KAAK,KAAKlxB,CAAd;AACA,WAAO,EAAEkxB,MAAMjV,IAAR,CAAP;AAAsB,UAAI,EAAEA,OAAOA,KAAK0vD,UAAd,CAAJ,EAA+B;AAArD,KACA,OAAO1vD,KAAKiV,EAAL,CAAP;AACD,GANiC;AAOlCvpB,OAAK,aAASsU,IAAT,EAAe39B,KAAf,EAAsB;AACzB,WAAO29B,KAAK,KAAKjc,CAAV,IAAe1hB,KAAtB;AACD,GATiC;AAUlCy0C,UAAQ,gBAAS9W,IAAT,EAAe;AACrB,WAAO,KAAKjc,CAAL,IAAUic,IAAV,IAAkB,OAAOA,KAAK,KAAKjc,CAAV,CAAhC;AACD,GAZiC;AAalCgT,YAAU,oBAAW;AACnB,WAAO,KAAKhT,CAAZ;AACD;AAfiC,CAApC,C;;;;;;;;;;;;ACVA;AAAA,IAAIwwF,UAAU,iBAASC,QAAT,EAAmB;AAC/B,SAAO,YAAW;AAChB,WAAO,KAAKC,OAAL,CAAaD,QAAb,CAAP;AACD,GAFD;AAGD,CAJD;;AAMA,IAAI,OAAOpyB,QAAP,KAAoB,WAAxB,EAAqC;AACnC,MAAItO,UAAUsO,SAASwe,eAAvB;AACA,MAAI,CAAC9sB,QAAQ2gC,OAAb,EAAsB;AACpB,QAAIC,gBAAgB5gC,QAAQ6gC,qBAAR,IACb7gC,QAAQ8gC,iBADK,IAEb9gC,QAAQ+gC,kBAFK,IAGb/gC,QAAQghC,gBAHf;AAIAP,cAAU,iBAASC,QAAT,EAAmB;AAC3B,aAAO,YAAW;AAChB,eAAOE,cAAcnzG,IAAd,CAAmB,IAAnB,EAAyBizG,QAAzB,CAAP;AACD,OAFD;AAGD,KAJD;AAKD;AACF;;AAEcD,sEAAf,E;;;;;;;;;;;;ACrBA;AAAA;AAAA;AAAA;AACA;;AAEe,yEAASv0E,IAAT,EAAe;AAC5B,MAAIsgC,QAAQga,4DAAWA,EAAvB;AACA,MAAIha,MAAM6/B,cAAV,EAA0B7/B,QAAQA,MAAM6/B,cAAN,CAAqB,CAArB,CAAR;AAC1B,SAAOG,sDAAKA,CAACtgE,IAAN,EAAYsgC,KAAZ,CAAP;AACD,C;;;;;;;;;;;;ACPD;AAAA;AAAA;;AAEe,yEAAS3+D,IAAT,EAAe;AAC5B,MAAIguF,SAAShuF,QAAQ,EAArB;AAAA,MAAyBN,IAAIsuF,OAAOpgF,OAAP,CAAe,GAAf,CAA7B;AACA,MAAIlO,KAAK,CAAL,IAAU,CAACsuF,SAAShuF,KAAKyE,KAAL,CAAW,CAAX,EAAc/E,CAAd,CAAV,MAAgC,OAA9C,EAAuDM,OAAOA,KAAKyE,KAAL,CAAW/E,IAAI,CAAf,CAAP;AACvD,SAAO0zG,mDAAUA,CAAC5xG,cAAX,CAA0BwsF,MAA1B,IAAoC,EAACh2C,OAAOo7D,mDAAUA,CAACplB,MAAX,CAAR,EAA4BykB,OAAOzyG,IAAnC,EAApC,GAA+EA,IAAtF;AACD,C;;;;;;;;;;;;ACND;AAAA;AAAO,IAAIsyG,QAAQ,8BAAZ;;AAEQ;AACbrxB,OAAK,4BADQ;AAEbqxB,SAAOA,KAFM;AAGbe,SAAO,8BAHM;AAIbC,OAAK,sCAJQ;AAKbC,SAAO;AALM,CAAf,E;;;;;;;;;;;;ACFA;AAAe,yEAASl1E,IAAT,EAAesgC,KAAf,EAAsB;AACnC,MAAIsiB,MAAM5iD,KAAKm1E,eAAL,IAAwBn1E,IAAlC;;AAEA,MAAI4iD,IAAIwyB,cAAR,EAAwB;AACtB,QAAI9U,QAAQ1d,IAAIwyB,cAAJ,EAAZ;AACA9U,UAAMnyE,CAAN,GAAUmyC,MAAMy/B,OAAhB,EAAyBO,MAAMpoE,CAAN,GAAUooC,MAAM0/B,OAAzC;AACAM,YAAQA,MAAM+U,eAAN,CAAsBr1E,KAAKs1E,YAAL,GAAoBC,OAApB,EAAtB,CAAR;AACA,WAAO,CAACjV,MAAMnyE,CAAP,EAAUmyE,MAAMpoE,CAAhB,CAAP;AACD;;AAED,MAAIy1E,OAAO3tE,KAAK21C,qBAAL,EAAX;AACA,SAAO,CAACrV,MAAMy/B,OAAN,GAAgB4N,KAAKxiD,IAArB,GAA4BnrB,KAAKw1E,UAAlC,EAA8Cl1C,MAAM0/B,OAAN,GAAgB2N,KAAKplE,GAArB,GAA2BvI,KAAKy1E,SAA9E,CAAP;AACD,C;;;;;;;;;;;;ACZD;AAAA;AAAA;;AAEe,yEAASjB,QAAT,EAAmB;AAChC,WAAO,OAAOA,QAAP,KAAoB,QAApB,GACD,IAAIkB,0DAAJ,CAAc,CAAC,CAACtzB,SAASuzB,aAAT,CAAuBnB,QAAvB,CAAD,CAAD,CAAd,EAAoD,CAACpyB,SAASwe,eAAV,CAApD,CADC,GAED,IAAI8U,0DAAJ,CAAc,CAAC,CAAClB,QAAD,CAAD,CAAd,EAA4B7zG,qDAA5B,CAFN;AAGD,C;;;;;;;;;;;;ACND;AAAA;AAAA;;AAEe,yEAAS6zG,QAAT,EAAmB;AAChC,WAAO,OAAOA,QAAP,KAAoB,QAApB,GACD,IAAIkB,0DAAJ,CAAc,CAACtzB,SAASwzB,gBAAT,CAA0BpB,QAA1B,CAAD,CAAd,EAAqD,CAACpyB,SAASwe,eAAV,CAArD,CADC,GAED,IAAI8U,0DAAJ,CAAc,CAAClB,YAAY,IAAZ,GAAmB,EAAnB,GAAwBA,QAAzB,CAAd,EAAkD7zG,qDAAlD,CAFN;AAGD,C;;;;;;;;;;;;ACND;AAAA;AAAA;;AAEe,yEAASgB,IAAT,EAAe;AAC5B,MAAIe,SAAS,OAAOf,IAAP,KAAgB,UAAhB,GAA6BA,IAA7B,GAAoCiyG,wDAAOA,CAACjyG,IAAR,CAAjD;AACA,SAAO,KAAKmW,MAAL,CAAY,YAAW;AAC5B,WAAO,KAAK0qE,WAAL,CAAiB9/E,OAAOoH,KAAP,CAAa,IAAb,EAAmB2D,SAAnB,CAAjB,CAAP;AACD,GAFM,CAAP;AAGD,C;;;;;;;;;;;;ACPD;AAAA;AAAA;;AAEA,SAASooG,UAAT,CAAoBl0G,IAApB,EAA0B;AACxB,SAAO,YAAW;AAChB,SAAKm0G,eAAL,CAAqBn0G,IAArB;AACD,GAFD;AAGD;;AAED,SAASo0G,YAAT,CAAsB5B,QAAtB,EAAgC;AAC9B,SAAO,YAAW;AAChB,SAAK6B,iBAAL,CAAuB7B,SAASx6D,KAAhC,EAAuCw6D,SAASC,KAAhD;AACD,GAFD;AAGD;;AAED,SAAS6B,YAAT,CAAsBt0G,IAAtB,EAA4BU,KAA5B,EAAmC;AACjC,SAAO,YAAW;AAChB,SAAKigF,YAAL,CAAkB3gF,IAAlB,EAAwBU,KAAxB;AACD,GAFD;AAGD;;AAED,SAAS6zG,cAAT,CAAwB/B,QAAxB,EAAkC9xG,KAAlC,EAAyC;AACvC,SAAO,YAAW;AAChB,SAAK8zG,cAAL,CAAoBhC,SAASx6D,KAA7B,EAAoCw6D,SAASC,KAA7C,EAAoD/xG,KAApD;AACD,GAFD;AAGD;;AAED,SAAS+zG,YAAT,CAAsBz0G,IAAtB,EAA4BU,KAA5B,EAAmC;AACjC,SAAO,YAAW;AAChB,QAAImgB,IAAIngB,MAAMyH,KAAN,CAAY,IAAZ,EAAkB2D,SAAlB,CAAR;AACA,QAAI+U,KAAK,IAAT,EAAe,KAAKszF,eAAL,CAAqBn0G,IAArB,EAAf,KACK,KAAK2gF,YAAL,CAAkB3gF,IAAlB,EAAwB6gB,CAAxB;AACN,GAJD;AAKD;;AAED,SAAS6zF,cAAT,CAAwBlC,QAAxB,EAAkC9xG,KAAlC,EAAyC;AACvC,SAAO,YAAW;AAChB,QAAImgB,IAAIngB,MAAMyH,KAAN,CAAY,IAAZ,EAAkB2D,SAAlB,CAAR;AACA,QAAI+U,KAAK,IAAT,EAAe,KAAKwzF,iBAAL,CAAuB7B,SAASx6D,KAAhC,EAAuCw6D,SAASC,KAAhD,EAAf,KACK,KAAK+B,cAAL,CAAoBhC,SAASx6D,KAA7B,EAAoCw6D,SAASC,KAA7C,EAAoD5xF,CAApD;AACN,GAJD;AAKD;;AAEc,yEAAS7gB,IAAT,EAAeU,KAAf,EAAsB;AACnC,MAAI8xG,WAAW/lC,0DAASA,CAACzsE,IAAV,CAAf;;AAEA,MAAI8L,UAAU3H,MAAV,GAAmB,CAAvB,EAA0B;AACxB,QAAIk6B,OAAO,KAAKA,IAAL,EAAX;AACA,WAAOm0E,SAASC,KAAT,GACDp0E,KAAKs2E,cAAL,CAAoBnC,SAASx6D,KAA7B,EAAoCw6D,SAASC,KAA7C,CADC,GAEDp0E,KAAKyvD,YAAL,CAAkB0kB,QAAlB,CAFN;AAGD;;AAED,SAAO,KAAKx9D,IAAL,CAAU,CAACt0C,SAAS,IAAT,GACX8xG,SAASC,KAAT,GAAiB2B,YAAjB,GAAgCF,UADrB,GACoC,OAAOxzG,KAAP,KAAiB,UAAjB,GAC/C8xG,SAASC,KAAT,GAAiBiC,cAAjB,GAAkCD,YADa,GAE/CjC,SAASC,KAAT,GAAiB8B,cAAjB,GAAkCD,YAHxB,EAGwC9B,QAHxC,EAGkD9xG,KAHlD,CAAV,CAAP;AAID,C;;;;;;;;;;;;ACxDD;AAAe,2EAAW;AACxB,MAAIuS,WAAWnH,UAAU,CAAV,CAAf;AACAA,YAAU,CAAV,IAAe,IAAf;AACAmH,WAAS9K,KAAT,CAAe,IAAf,EAAqB2D,SAArB;AACA,SAAO,IAAP;AACD,C;;;;;;;;;;;;ACLD;AAAA,SAAS8oG,UAAT,CAAoBhM,MAApB,EAA4B;AAC1B,SAAOA,OAAOrtF,IAAP,GAAc4D,KAAd,CAAoB,OAApB,CAAP;AACD;;AAED,SAAS01F,SAAT,CAAmBx2E,IAAnB,EAAyB;AACvB,SAAOA,KAAKw2E,SAAL,IAAkB,IAAIC,SAAJ,CAAcz2E,IAAd,CAAzB;AACD;;AAED,SAASy2E,SAAT,CAAmBz2E,IAAnB,EAAyB;AACvB,OAAK4B,KAAL,GAAa5B,IAAb;AACA,OAAK02E,MAAL,GAAcH,WAAWv2E,KAAKyvD,YAAL,CAAkB,OAAlB,KAA8B,EAAzC,CAAd;AACD;;AAEDgnB,UAAUvzG,SAAV,GAAsB;AACpBqX,OAAK,aAAS5Y,IAAT,EAAe;AAClB,QAAIN,IAAI,KAAKq1G,MAAL,CAAYnnG,OAAZ,CAAoB5N,IAApB,CAAR;AACA,QAAIN,IAAI,CAAR,EAAW;AACT,WAAKq1G,MAAL,CAAYrxG,IAAZ,CAAiB1D,IAAjB;AACA,WAAKigC,KAAL,CAAW0gD,YAAX,CAAwB,OAAxB,EAAiC,KAAKo0B,MAAL,CAAY9xG,IAAZ,CAAiB,GAAjB,CAAjC;AACD;AACF,GAPmB;AAQpBkyC,UAAQ,gBAASn1C,IAAT,EAAe;AACrB,QAAIN,IAAI,KAAKq1G,MAAL,CAAYnnG,OAAZ,CAAoB5N,IAApB,CAAR;AACA,QAAIN,KAAK,CAAT,EAAY;AACV,WAAKq1G,MAAL,CAAY9sG,MAAZ,CAAmBvI,CAAnB,EAAsB,CAAtB;AACA,WAAKugC,KAAL,CAAW0gD,YAAX,CAAwB,OAAxB,EAAiC,KAAKo0B,MAAL,CAAY9xG,IAAZ,CAAiB,GAAjB,CAAjC;AACD;AACF,GAdmB;AAepB+xG,YAAU,kBAASh1G,IAAT,EAAe;AACvB,WAAO,KAAK+0G,MAAL,CAAYnnG,OAAZ,CAAoB5N,IAApB,KAA6B,CAApC;AACD;AAjBmB,CAAtB;;AAoBA,SAASi1G,UAAT,CAAoB52E,IAApB,EAA0B62E,KAA1B,EAAiC;AAC/B,MAAI3vE,OAAOsvE,UAAUx2E,IAAV,CAAX;AAAA,MAA4B3+B,IAAI,CAAC,CAAjC;AAAA,MAAoCwB,IAAIg0G,MAAM/wG,MAA9C;AACA,SAAO,EAAEzE,CAAF,GAAMwB,CAAb;AAAgBqkC,SAAK3sB,GAAL,CAASs8F,MAAMx1G,CAAN,CAAT;AAAhB;AACD;;AAED,SAASy1G,aAAT,CAAuB92E,IAAvB,EAA6B62E,KAA7B,EAAoC;AAClC,MAAI3vE,OAAOsvE,UAAUx2E,IAAV,CAAX;AAAA,MAA4B3+B,IAAI,CAAC,CAAjC;AAAA,MAAoCwB,IAAIg0G,MAAM/wG,MAA9C;AACA,SAAO,EAAEzE,CAAF,GAAMwB,CAAb;AAAgBqkC,SAAK4P,MAAL,CAAY+/D,MAAMx1G,CAAN,CAAZ;AAAhB;AACD;;AAED,SAAS01G,WAAT,CAAqBF,KAArB,EAA4B;AAC1B,SAAO,YAAW;AAChBD,eAAW,IAAX,EAAiBC,KAAjB;AACD,GAFD;AAGD;;AAED,SAASG,YAAT,CAAsBH,KAAtB,EAA6B;AAC3B,SAAO,YAAW;AAChBC,kBAAc,IAAd,EAAoBD,KAApB;AACD,GAFD;AAGD;;AAED,SAASI,eAAT,CAAyBJ,KAAzB,EAAgCx0G,KAAhC,EAAuC;AACrC,SAAO,YAAW;AAChB,KAACA,MAAMyH,KAAN,CAAY,IAAZ,EAAkB2D,SAAlB,IAA+BmpG,UAA/B,GAA4CE,aAA7C,EAA4D,IAA5D,EAAkED,KAAlE;AACD,GAFD;AAGD;;AAEc,yEAASl1G,IAAT,EAAeU,KAAf,EAAsB;AACnC,MAAIw0G,QAAQN,WAAW50G,OAAO,EAAlB,CAAZ;;AAEA,MAAI8L,UAAU3H,MAAV,GAAmB,CAAvB,EAA0B;AACxB,QAAIohC,OAAOsvE,UAAU,KAAKx2E,IAAL,EAAV,CAAX;AAAA,QAAmC3+B,IAAI,CAAC,CAAxC;AAAA,QAA2CwB,IAAIg0G,MAAM/wG,MAArD;AACA,WAAO,EAAEzE,CAAF,GAAMwB,CAAb;AAAgB,UAAI,CAACqkC,KAAKyvE,QAAL,CAAcE,MAAMx1G,CAAN,CAAd,CAAL,EAA8B,OAAO,KAAP;AAA9C,KACA,OAAO,IAAP;AACD;;AAED,SAAO,KAAKs1C,IAAL,CAAU,CAAC,OAAOt0C,KAAP,KAAiB,UAAjB,GACZ40G,eADY,GACM50G,QAClB00G,WADkB,GAElBC,YAHW,EAGGH,KAHH,EAGUx0G,KAHV,CAAV,CAAP;AAID,C;;;;;;;;;;;;AC1ED;AAAA,SAAS60G,sBAAT,GAAkC;AAChC,SAAO,KAAKxnB,UAAL,CAAgBynB,YAAhB,CAA6B,KAAKn1B,SAAL,CAAe,KAAf,CAA7B,EAAoD,KAAKo1B,WAAzD,CAAP;AACD;;AAED,SAASC,mBAAT,GAA+B;AAC7B,SAAO,KAAK3nB,UAAL,CAAgBynB,YAAhB,CAA6B,KAAKn1B,SAAL,CAAe,IAAf,CAA7B,EAAmD,KAAKo1B,WAAxD,CAAP;AACD;;AAEc,yEAASE,IAAT,EAAe;AAC5B,SAAO,KAAKx/F,MAAL,CAAYw/F,OAAOD,mBAAP,GAA6BH,sBAAzC,CAAP;AACD,C;;;;;;;;;;;;ACVD;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAEA,IAAIK,YAAY,GAAhB,C,CAAqB;;AAErB,SAASC,SAAT,CAAmB7iF,MAAnB,EAA2BkuD,KAA3B,EAAkCjP,KAAlC,EAAyCtxC,MAAzC,EAAiDuU,IAAjD,EAAuDpuC,IAAvD,EAA6D;AAC3D,MAAIpH,IAAI,CAAR;AAAA,MACI2+B,IADJ;AAAA,MAEIy3E,cAAc50B,MAAM/8E,MAFxB;AAAA,MAGI4xG,aAAajvG,KAAK3C,MAHtB;;AAKA;AACA;AACA;AACA,SAAOzE,IAAIq2G,UAAX,EAAuB,EAAEr2G,CAAzB,EAA4B;AAC1B,QAAI2+B,OAAO6iD,MAAMxhF,CAAN,CAAX,EAAqB;AACnB2+B,WAAK23E,QAAL,GAAgBlvG,KAAKpH,CAAL,CAAhB;AACAihC,aAAOjhC,CAAP,IAAY2+B,IAAZ;AACD,KAHD,MAGO;AACL4zC,YAAMvyE,CAAN,IAAW,IAAIu2G,gDAAJ,CAAcjjF,MAAd,EAAsBlsB,KAAKpH,CAAL,CAAtB,CAAX;AACD;AACF;;AAED;AACA,SAAOA,IAAIo2G,WAAX,EAAwB,EAAEp2G,CAA1B,EAA6B;AAC3B,QAAI2+B,OAAO6iD,MAAMxhF,CAAN,CAAX,EAAqB;AACnBw1C,WAAKx1C,CAAL,IAAU2+B,IAAV;AACD;AACF;AACF;;AAED,SAAS63E,OAAT,CAAiBljF,MAAjB,EAAyBkuD,KAAzB,EAAgCjP,KAAhC,EAAuCtxC,MAAvC,EAA+CuU,IAA/C,EAAqDpuC,IAArD,EAA2D9F,GAA3D,EAAgE;AAC9D,MAAItB,CAAJ;AAAA,MACI2+B,IADJ;AAAA,MAEI83E,iBAAiB,EAFrB;AAAA,MAGIL,cAAc50B,MAAM/8E,MAHxB;AAAA,MAII4xG,aAAajvG,KAAK3C,MAJtB;AAAA,MAKIiyG,YAAY,IAAI3uG,KAAJ,CAAUquG,WAAV,CALhB;AAAA,MAMIruB,QANJ;;AAQA;AACA;AACA,OAAK/nF,IAAI,CAAT,EAAYA,IAAIo2G,WAAhB,EAA6B,EAAEp2G,CAA/B,EAAkC;AAChC,QAAI2+B,OAAO6iD,MAAMxhF,CAAN,CAAX,EAAqB;AACnB02G,gBAAU12G,CAAV,IAAe+nF,WAAWmuB,YAAY50G,IAAIpB,IAAJ,CAASy+B,IAAT,EAAeA,KAAK23E,QAApB,EAA8Bt2G,CAA9B,EAAiCwhF,KAAjC,CAAtC;AACA,UAAIuG,YAAY0uB,cAAhB,EAAgC;AAC9BjhE,aAAKx1C,CAAL,IAAU2+B,IAAV;AACD,OAFD,MAEO;AACL83E,uBAAe1uB,QAAf,IAA2BppD,IAA3B;AACD;AACF;AACF;;AAED;AACA;AACA;AACA,OAAK3+B,IAAI,CAAT,EAAYA,IAAIq2G,UAAhB,EAA4B,EAAEr2G,CAA9B,EAAiC;AAC/B+nF,eAAWmuB,YAAY50G,IAAIpB,IAAJ,CAASozB,MAAT,EAAiBlsB,KAAKpH,CAAL,CAAjB,EAA0BA,CAA1B,EAA6BoH,IAA7B,CAAvB;AACA,QAAIu3B,OAAO83E,eAAe1uB,QAAf,CAAX,EAAqC;AACnC9mD,aAAOjhC,CAAP,IAAY2+B,IAAZ;AACAA,WAAK23E,QAAL,GAAgBlvG,KAAKpH,CAAL,CAAhB;AACAy2G,qBAAe1uB,QAAf,IAA2B,IAA3B;AACD,KAJD,MAIO;AACLxV,YAAMvyE,CAAN,IAAW,IAAIu2G,gDAAJ,CAAcjjF,MAAd,EAAsBlsB,KAAKpH,CAAL,CAAtB,CAAX;AACD;AACF;;AAED;AACA,OAAKA,IAAI,CAAT,EAAYA,IAAIo2G,WAAhB,EAA6B,EAAEp2G,CAA/B,EAAkC;AAChC,QAAI,CAAC2+B,OAAO6iD,MAAMxhF,CAAN,CAAR,KAAsBy2G,eAAeC,UAAU12G,CAAV,CAAf,MAAiC2+B,IAA3D,EAAkE;AAChE6W,WAAKx1C,CAAL,IAAU2+B,IAAV;AACD;AACF;AACF;;AAEc,yEAAS39B,KAAT,EAAgBM,GAAhB,EAAqB;AAClC,MAAI,CAACN,KAAL,EAAY;AACVoG,WAAO,IAAIW,KAAJ,CAAU,KAAK8jE,IAAL,EAAV,CAAP,EAA+B/mE,IAAI,CAAC,CAApC;AACA,SAAKwwC,IAAL,CAAU,UAASj1C,CAAT,EAAY;AAAE+G,WAAK,EAAEtC,CAAP,IAAYzE,CAAZ;AAAgB,KAAxC;AACA,WAAO+G,IAAP;AACD;;AAED,MAAI7F,OAAOD,MAAMk1G,OAAN,GAAgBL,SAA3B;AAAA,MACIQ,UAAU,KAAKC,QADnB;AAAA,MAEIC,SAAS,KAAKC,OAFlB;;AAIA,MAAI,OAAO91G,KAAP,KAAiB,UAArB,EAAiCA,QAAQ2qF,yDAAQA,CAAC3qF,KAAT,CAAR;;AAEjC,OAAK,IAAIb,IAAI02G,OAAOpyG,MAAf,EAAuBw8B,SAAS,IAAIl5B,KAAJ,CAAU5H,CAAV,CAAhC,EAA8CoyE,QAAQ,IAAIxqE,KAAJ,CAAU5H,CAAV,CAAtD,EAAoEq1C,OAAO,IAAIztC,KAAJ,CAAU5H,CAAV,CAA3E,EAAyF2E,IAAI,CAAlG,EAAqGA,IAAI3E,CAAzG,EAA4G,EAAE2E,CAA9G,EAAiH;AAC/G,QAAIwuB,SAASqjF,QAAQ7xG,CAAR,CAAb;AAAA,QACI08E,QAAQq1B,OAAO/xG,CAAP,CADZ;AAAA,QAEIsxG,cAAc50B,MAAM/8E,MAFxB;AAAA,QAGI2C,OAAOpG,MAAMd,IAAN,CAAWozB,MAAX,EAAmBA,UAAUA,OAAOgjF,QAApC,EAA8CxxG,CAA9C,EAAiD6xG,OAAjD,CAHX;AAAA,QAIIN,aAAajvG,KAAK3C,MAJtB;AAAA,QAKIsyG,aAAaxkC,MAAMztE,CAAN,IAAW,IAAIiD,KAAJ,CAAUsuG,UAAV,CAL5B;AAAA,QAMIW,cAAc/1E,OAAOn8B,CAAP,IAAY,IAAIiD,KAAJ,CAAUsuG,UAAV,CAN9B;AAAA,QAOIY,YAAYzhE,KAAK1wC,CAAL,IAAU,IAAIiD,KAAJ,CAAUquG,WAAV,CAP1B;;AASA70G,SAAK+xB,MAAL,EAAakuD,KAAb,EAAoBu1B,UAApB,EAAgCC,WAAhC,EAA6CC,SAA7C,EAAwD7vG,IAAxD,EAA8D9F,GAA9D;;AAEA;AACA;AACA;AACA,SAAK,IAAIwpF,KAAK,CAAT,EAAYC,KAAK,CAAjB,EAAoBmsB,QAApB,EAA8B3sG,IAAnC,EAAyCugF,KAAKurB,UAA9C,EAA0D,EAAEvrB,EAA5D,EAAgE;AAC9D,UAAIosB,WAAWH,WAAWjsB,EAAX,CAAf,EAA+B;AAC7B,YAAIA,MAAMC,EAAV,EAAcA,KAAKD,KAAK,CAAV;AACd,eAAO,EAAEvgF,OAAOysG,YAAYjsB,EAAZ,CAAT,KAA6B,EAAEA,EAAF,GAAOsrB,UAA3C;AACAa,iBAASC,KAAT,GAAiB5sG,QAAQ,IAAzB;AACD;AACF;AACF;;AAED02B,WAAS,IAAIozE,gDAAJ,CAAcpzE,MAAd,EAAsB01E,OAAtB,CAAT;AACA11E,SAAOm2E,MAAP,GAAgB7kC,KAAhB;AACAtxC,SAAOo2E,KAAP,GAAe7hE,IAAf;AACA,SAAOvU,MAAP;AACD,C;;;;;;;;;;;;ACrHD;AAAe,yEAASjgC,KAAT,EAAgB;AAC7B,WAAOoL,UAAU3H,MAAV,GACD,KAAK7C,QAAL,CAAc,UAAd,EAA0BZ,KAA1B,CADC,GAED,KAAK29B,IAAL,GAAY23E,QAFlB;AAGD,C;;;;;;;;;;;;ACJD;AAAA;AAAA;;AAEA,SAASgB,aAAT,CAAuB34E,IAAvB,EAA6BnvB,IAA7B,EAAmCV,MAAnC,EAA2C;AACzC,MAAInP,SAASipG,uDAAWA,CAACjqE,IAAZ,CAAb;AAAA,MACIsgC,QAAQt/D,OAAO43G,WADnB;;AAGA,MAAI,OAAOt4C,KAAP,KAAiB,UAArB,EAAiC;AAC/BA,YAAQ,IAAIA,KAAJ,CAAUzvD,IAAV,EAAgBV,MAAhB,CAAR;AACD,GAFD,MAEO;AACLmwD,YAAQt/D,OAAOohF,QAAP,CAAgBy2B,WAAhB,CAA4B,OAA5B,CAAR;AACA,QAAI1oG,MAAJ,EAAYmwD,MAAMw4C,SAAN,CAAgBjoG,IAAhB,EAAsBV,OAAO4oG,OAA7B,EAAsC5oG,OAAO6oG,UAA7C,GAA0D14C,MAAM24C,MAAN,GAAe9oG,OAAO8oG,MAAhF,CAAZ,KACK34C,MAAMw4C,SAAN,CAAgBjoG,IAAhB,EAAsB,KAAtB,EAA6B,KAA7B;AACN;;AAEDmvB,OAAK24E,aAAL,CAAmBr4C,KAAnB;AACD;;AAED,SAAS44C,gBAAT,CAA0BroG,IAA1B,EAAgCV,MAAhC,EAAwC;AACtC,SAAO,YAAW;AAChB,WAAOwoG,cAAc,IAAd,EAAoB9nG,IAApB,EAA0BV,MAA1B,CAAP;AACD,GAFD;AAGD;;AAED,SAASgpG,gBAAT,CAA0BtoG,IAA1B,EAAgCV,MAAhC,EAAwC;AACtC,SAAO,YAAW;AAChB,WAAOwoG,cAAc,IAAd,EAAoB9nG,IAApB,EAA0BV,OAAOrG,KAAP,CAAa,IAAb,EAAmB2D,SAAnB,CAA1B,CAAP;AACD,GAFD;AAGD;;AAEc,yEAASoD,IAAT,EAAeV,MAAf,EAAuB;AACpC,SAAO,KAAKwmC,IAAL,CAAU,CAAC,OAAOxmC,MAAP,KAAkB,UAAlB,GACZgpG,gBADY,GAEZD,gBAFW,EAEOroG,IAFP,EAEaV,MAFb,CAAV,CAAP;AAGD,C;;;;;;;;;;;;ACjCD;AAAe,yEAASyE,QAAT,EAAmB;;AAEhC,OAAK,IAAIsjG,SAAS,KAAKC,OAAlB,EAA2BhyG,IAAI,CAA/B,EAAkC3E,IAAI02G,OAAOpyG,MAAlD,EAA0DK,IAAI3E,CAA9D,EAAiE,EAAE2E,CAAnE,EAAsE;AACpE,SAAK,IAAI08E,QAAQq1B,OAAO/xG,CAAP,CAAZ,EAAuB9E,IAAI,CAA3B,EAA8BwB,IAAIggF,MAAM/8E,MAAxC,EAAgDk6B,IAArD,EAA2D3+B,IAAIwB,CAA/D,EAAkE,EAAExB,CAApE,EAAuE;AACrE,UAAI2+B,OAAO6iD,MAAMxhF,CAAN,CAAX,EAAqBuT,SAASrT,IAAT,CAAcy+B,IAAd,EAAoBA,KAAK23E,QAAzB,EAAmCt2G,CAAnC,EAAsCwhF,KAAtC;AACtB;AACF;;AAED,SAAO,IAAP;AACD,C;;;;;;;;;;;;ACTD;AAAe,2EAAW;AACxB,SAAO,CAAC,KAAK7iD,IAAL,EAAR;AACD,C;;;;;;;;;;;;ACFD;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,+DAAe,YAAW;AACxB,SAAO,IAAI01E,gDAAJ,CAAc,KAAK+C,MAAL,IAAe,KAAKN,OAAL,CAAa1zG,GAAb,CAAiB20G,+CAAjB,CAA7B,EAAuD,KAAKnB,QAA5D,CAAP;AACD;;AAEM,SAASL,SAAT,CAAmBjjF,MAAnB,EAA2BhlB,KAA3B,EAAkC;AACvC,OAAKmkG,aAAL,GAAqBn/E,OAAOm/E,aAA5B;AACA,OAAKE,YAAL,GAAoBr/E,OAAOq/E,YAA3B;AACA,OAAKwE,KAAL,GAAa,IAAb;AACA,OAAKjoG,OAAL,GAAeokB,MAAf;AACA,OAAKgjF,QAAL,GAAgBhoG,KAAhB;AACD;;AAEDioG,UAAU10G,SAAV,GAAsB;AACpBgK,eAAa0qG,SADO;AAEpBp1B,eAAa,qBAASx+D,KAAT,EAAgB;AAAE,WAAO,KAAKzT,OAAL,CAAa4mG,YAAb,CAA0BnzF,KAA1B,EAAiC,KAAKw0F,KAAtC,CAAP;AAAsD,GAFjE;AAGpBrB,gBAAc,sBAASnzF,KAAT,EAAgBpY,IAAhB,EAAsB;AAAE,WAAO,KAAK2E,OAAL,CAAa4mG,YAAb,CAA0BnzF,KAA1B,EAAiCpY,IAAjC,CAAP;AAAgD,GAHlE;AAIpB+pG,iBAAe,uBAASnB,QAAT,EAAmB;AAAE,WAAO,KAAKjkG,OAAL,CAAaolG,aAAb,CAA2BnB,QAA3B,CAAP;AAA8C,GAJ9D;AAKpBoB,oBAAkB,0BAASpB,QAAT,EAAmB;AAAE,WAAO,KAAKjkG,OAAL,CAAaqlG,gBAAb,CAA8BpB,QAA9B,CAAP;AAAiD;AALpE,CAAtB,C;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AACA;;AAEe,2EAAW;AACxB,SAAO,IAAIkB,gDAAJ,CAAc,KAAKgD,KAAL,IAAc,KAAKP,OAAL,CAAa1zG,GAAb,CAAiB20G,+CAAjB,CAA5B,EAAsD,KAAKnB,QAA3D,CAAP;AACD,C;;;;;;;;;;;;ACLD;AAAA;AAAA;AAAA;AACA;;AAEe,yEAASj7F,KAAT,EAAgB;AAC7B,MAAI,OAAOA,KAAP,KAAiB,UAArB,EAAiCA,QAAQu3F,wDAAOA,CAACv3F,KAAR,CAAR;;AAEjC,OAAK,IAAIk7F,SAAS,KAAKC,OAAlB,EAA2B32G,IAAI02G,OAAOpyG,MAAtC,EAA8CuzG,YAAY,IAAIjwG,KAAJ,CAAU5H,CAAV,CAA1D,EAAwE2E,IAAI,CAAjF,EAAoFA,IAAI3E,CAAxF,EAA2F,EAAE2E,CAA7F,EAAgG;AAC9F,SAAK,IAAI08E,QAAQq1B,OAAO/xG,CAAP,CAAZ,EAAuBtD,IAAIggF,MAAM/8E,MAAjC,EAAyCwzG,WAAWD,UAAUlzG,CAAV,IAAe,EAAnE,EAAuE65B,IAAvE,EAA6E3+B,IAAI,CAAtF,EAAyFA,IAAIwB,CAA7F,EAAgG,EAAExB,CAAlG,EAAqG;AACnG,UAAI,CAAC2+B,OAAO6iD,MAAMxhF,CAAN,CAAR,KAAqB2b,MAAMzb,IAAN,CAAWy+B,IAAX,EAAiBA,KAAK23E,QAAtB,EAAgCt2G,CAAhC,EAAmCwhF,KAAnC,CAAzB,EAAoE;AAClEy2B,iBAASj0G,IAAT,CAAc26B,IAAd;AACD;AACF;AACF;;AAED,SAAO,IAAI01E,gDAAJ,CAAc2D,SAAd,EAAyB,KAAKpB,QAA9B,CAAP;AACD,C;;;;;;;;;;;;ACfD;AAAA,SAASsB,UAAT,GAAsB;AACpB,OAAKC,SAAL,GAAiB,EAAjB;AACD;;AAED,SAASC,YAAT,CAAsBp3G,KAAtB,EAA6B;AAC3B,SAAO,YAAW;AAChB,SAAKm3G,SAAL,GAAiBn3G,KAAjB;AACD,GAFD;AAGD;;AAED,SAASq3G,YAAT,CAAsBr3G,KAAtB,EAA6B;AAC3B,SAAO,YAAW;AAChB,QAAImgB,IAAIngB,MAAMyH,KAAN,CAAY,IAAZ,EAAkB2D,SAAlB,CAAR;AACA,SAAK+rG,SAAL,GAAiBh3F,KAAK,IAAL,GAAY,EAAZ,GAAiBA,CAAlC;AACD,GAHD;AAID;;AAEc,yEAASngB,KAAT,EAAgB;AAC7B,SAAOoL,UAAU3H,MAAV,GACD,KAAK6wC,IAAL,CAAUt0C,SAAS,IAAT,GACNk3G,UADM,GACO,CAAC,OAAOl3G,KAAP,KAAiB,UAAjB,GACdq3G,YADc,GAEdD,YAFa,EAECp3G,KAFD,CADjB,CADC,GAKD,KAAK29B,IAAL,GAAYw5E,SALlB;AAMD,C;;;;;;;;;;;;ACxBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,IAAI74G,OAAO,CAAC,IAAD,CAAX;;AAEA,SAAS+0G,SAAT,CAAmBwC,MAAnB,EAA2BF,OAA3B,EAAoC;AACzC,OAAKG,OAAL,GAAeD,MAAf;AACA,OAAKD,QAAL,GAAgBD,OAAhB;AACD;;AAED,SAASrkC,SAAT,GAAqB;AACnB,SAAO,IAAI+hC,SAAJ,CAAc,CAAC,CAACtzB,SAASwe,eAAV,CAAD,CAAd,EAA4CjgG,IAA5C,CAAP;AACD;;AAED+0G,UAAUxyG,SAAV,GAAsBywE,UAAUzwE,SAAV,GAAsB;AAC1CgK,eAAawoG,SAD6B;AAE1C59F,UAAQ6hG,+CAFkC;AAG1Cp4D,aAAWq4D,kDAH+B;AAI1Cr2F,UAAQs2F,+CAJkC;AAK1CpxG,QAAMqxG,6CALoC;AAM1ClmC,SAAOmmC,8CANmC;AAO1CljE,QAAMmjE,6CAPoC;AAQ1CzoF,SAAO0oF,8CARmC;AAS1C/rG,SAAOgsG,8CATmC;AAU1C5rG,QAAM6rG,6CAVoC;AAW1C54G,QAAM64G,6CAXoC;AAY1Ch4E,SAAOi4E,+CAZmC;AAa1Cr6E,QAAMs6E,8CAboC;AAc1CptC,QAAMqtC,8CAdoC;AAe1CpwC,SAAOqwC,+CAfmC;AAgB1C7jE,QAAM8jE,8CAhBoC;AAiB1CrkE,QAAMskE,8CAjBoC;AAkB1CnlE,SAAOolE,+CAlBmC;AAmB1C13G,YAAU23G,kDAnBgC;AAoB1C5kE,WAAS6kE,iDApBiC;AAqB1Cl1G,QAAMm1G,8CArBoC;AAsB1C91B,QAAM+1B,8CAtBoC;AAuB1ChK,SAAOiK,+CAvBmC;AAwB1Cz/B,SAAO0/B,+CAxBmC;AAyB1Ct4E,UAAQu4E,gDAzBkC;AA0B1C1rB,UAAQ2rB,gDA1BkC;AA2B1CrkE,UAAQskE,gDA3BkC;AA4B1CpoG,SAAOqoG,+CA5BmC;AA6B1C1rG,SAAO2rG,+CA7BmC;AA8B1C5mG,MAAI6mG,4CA9BsC;AA+B1C9yC,YAAU+yC,kDAAkBA;AA/Bc,CAA5C;;AAkCe7nC,wEAAf,E;;;;;;;;;;;;AC5EA;AAAA;AAAA;AAAA;AACA;;AAEA,SAAS8nC,YAAT,GAAwB;AACtB,SAAO,IAAP;AACD;;AAEc,yEAAS95G,IAAT,EAAe+5G,MAAf,EAAuB;AACpC,MAAIh5G,SAAS,OAAOf,IAAP,KAAgB,UAAhB,GAA6BA,IAA7B,GAAoCiyG,wDAAOA,CAACjyG,IAAR,CAAjD;AAAA,MACImW,SAAS4jG,UAAU,IAAV,GAAiBD,YAAjB,GAAgC,OAAOC,MAAP,KAAkB,UAAlB,GAA+BA,MAA/B,GAAwClH,yDAAQA,CAACkH,MAAT,CADrF;AAEA,SAAO,KAAK5jG,MAAL,CAAY,YAAW;AAC5B,WAAO,KAAKq/F,YAAL,CAAkBz0G,OAAOoH,KAAP,CAAa,IAAb,EAAmB2D,SAAnB,CAAlB,EAAiDqK,OAAOhO,KAAP,CAAa,IAAb,EAAmB2D,SAAnB,KAAiC,IAAlF,CAAP;AACD,GAFM,CAAP;AAGD,C;;;;;;;;;;;;ACbD;AAAA,SAAS8tE,KAAT,GAAiB;AACf,MAAI,KAAKogC,eAAT,EAA0B,KAAKjsB,UAAL,CAAgBynB,YAAhB,CAA6B,IAA7B,EAAmC,KAAKznB,UAAL,CAAgBksB,UAAnD;AAC3B;;AAEc,2EAAW;AACxB,SAAO,KAAKjlE,IAAL,CAAU4kC,KAAV,CAAP;AACD,C;;;;;;;;;;;;ACND;AAAA;AAAA;;AAEe,yEAAS5H,SAAT,EAAoB;;AAEjC,OAAK,IAAIkoC,UAAU,KAAK1D,OAAnB,EAA4B2D,UAAUnoC,UAAUwkC,OAAhD,EAAyD4D,KAAKF,QAAQ/1G,MAAtE,EAA8E21F,KAAKqgB,QAAQh2G,MAA3F,EAAmGtE,IAAI8c,KAAK3D,GAAL,CAASohG,EAAT,EAAatgB,EAAb,CAAvG,EAAyHugB,SAAS,IAAI5yG,KAAJ,CAAU2yG,EAAV,CAAlI,EAAiJ51G,IAAI,CAA1J,EAA6JA,IAAI3E,CAAjK,EAAoK,EAAE2E,CAAtK,EAAyK;AACvK,SAAK,IAAI81G,SAASJ,QAAQ11G,CAAR,CAAb,EAAyB+1G,SAASJ,QAAQ31G,CAAR,CAAlC,EAA8CtD,IAAIo5G,OAAOn2G,MAAzD,EAAiEyrB,QAAQyqF,OAAO71G,CAAP,IAAY,IAAIiD,KAAJ,CAAUvG,CAAV,CAArF,EAAmGm9B,IAAnG,EAAyG3+B,IAAI,CAAlH,EAAqHA,IAAIwB,CAAzH,EAA4H,EAAExB,CAA9H,EAAiI;AAC/H,UAAI2+B,OAAOi8E,OAAO56G,CAAP,KAAa66G,OAAO76G,CAAP,CAAxB,EAAmC;AACjCkwB,cAAMlwB,CAAN,IAAW2+B,IAAX;AACD;AACF;AACF;;AAED,SAAO75B,IAAI41G,EAAX,EAAe,EAAE51G,CAAjB,EAAoB;AAClB61G,WAAO71G,CAAP,IAAY01G,QAAQ11G,CAAR,CAAZ;AACD;;AAED,SAAO,IAAIuvG,gDAAJ,CAAcsG,MAAd,EAAsB,KAAK/D,QAA3B,CAAP;AACD,C;;;;;;;;;;;;ACjBD;AAAe,2EAAW;;AAExB,OAAK,IAAIC,SAAS,KAAKC,OAAlB,EAA2BhyG,IAAI,CAA/B,EAAkC3E,IAAI02G,OAAOpyG,MAAlD,EAA0DK,IAAI3E,CAA9D,EAAiE,EAAE2E,CAAnE,EAAsE;AACpE,SAAK,IAAI08E,QAAQq1B,OAAO/xG,CAAP,CAAZ,EAAuB9E,IAAI,CAA3B,EAA8BwB,IAAIggF,MAAM/8E,MAA7C,EAAqDzE,IAAIwB,CAAzD,EAA4D,EAAExB,CAA9D,EAAiE;AAC/D,UAAI2+B,OAAO6iD,MAAMxhF,CAAN,CAAX;AACA,UAAI2+B,IAAJ,EAAU,OAAOA,IAAP;AACX;AACF;;AAED,SAAO,IAAP;AACD,C;;;;;;;;;;;;ACVD;AAAe,2EAAW;AACxB,MAAIoC,QAAQ,IAAIh5B,KAAJ,CAAU,KAAK8jE,IAAL,EAAV,CAAZ;AAAA,MAAoC7rE,IAAI,CAAC,CAAzC;AACA,OAAKs1C,IAAL,CAAU,YAAW;AAAEvU,UAAM,EAAE/gC,CAAR,IAAa,IAAb;AAAoB,GAA3C;AACA,SAAO+gC,KAAP;AACD,C;;;;;;;;;;;;ACJD;AAAA;AAAA;AAAA,IAAI+5E,eAAe,EAAnB;;AAEO,IAAI77C,QAAQ,IAAZ;;AAEP,IAAI,OAAO8hB,QAAP,KAAoB,WAAxB,EAAqC;AACnC,MAAItO,UAAUsO,SAASwe,eAAvB;AACA,MAAI,EAAE,kBAAkB9sB,OAApB,CAAJ,EAAkC;AAChCqoC,mBAAe,EAACC,YAAY,WAAb,EAA0BC,YAAY,UAAtC,EAAf;AACD;AACF;;AAED,SAASC,qBAAT,CAA+BC,QAA/B,EAAyCxpG,KAAzC,EAAgD8vE,KAAhD,EAAuD;AACrD05B,aAAWC,gBAAgBD,QAAhB,EAA0BxpG,KAA1B,EAAiC8vE,KAAjC,CAAX;AACA,SAAO,UAASviB,KAAT,EAAgB;AACrB,QAAIm8C,UAAUn8C,MAAMo8C,aAApB;AACA,QAAI,CAACD,OAAD,IAAaA,YAAY,IAAZ,IAAoB,EAAEA,QAAQE,uBAAR,CAAgC,IAAhC,IAAwC,CAA1C,CAArC,EAAoF;AAClFJ,eAASh7G,IAAT,CAAc,IAAd,EAAoB++D,KAApB;AACD;AACF,GALD;AAMD;;AAED,SAASk8C,eAAT,CAAyBD,QAAzB,EAAmCxpG,KAAnC,EAA0C8vE,KAA1C,EAAiD;AAC/C,SAAO,UAAS+5B,MAAT,EAAiB;AACtB,QAAIC,SAASv8C,KAAb,CADsB,CACF;AACpBA,YAAQs8C,MAAR;AACA,QAAI;AACFL,eAASh7G,IAAT,CAAc,IAAd,EAAoB,KAAKo2G,QAAzB,EAAmC5kG,KAAnC,EAA0C8vE,KAA1C;AACD,KAFD,SAEU;AACRviB,cAAQu8C,MAAR;AACD;AACF,GARD;AASD;;AAED,SAAS7e,cAAT,CAAwBC,SAAxB,EAAmC;AACjC,SAAOA,UAAU/gF,IAAV,GAAiB4D,KAAjB,CAAuB,OAAvB,EAAgCrc,GAAhC,CAAoC,UAASnC,CAAT,EAAY;AACrD,QAAIX,OAAO,EAAX;AAAA,QAAeN,IAAIiB,EAAEiN,OAAF,CAAU,GAAV,CAAnB;AACA,QAAIlO,KAAK,CAAT,EAAYM,OAAOW,EAAE8D,KAAF,CAAQ/E,IAAI,CAAZ,CAAP,EAAuBiB,IAAIA,EAAE8D,KAAF,CAAQ,CAAR,EAAW/E,CAAX,CAA3B;AACZ,WAAO,EAACwP,MAAMvO,CAAP,EAAUX,MAAMA,IAAhB,EAAP;AACD,GAJM,CAAP;AAKD;;AAED,SAASm7G,QAAT,CAAkB3e,QAAlB,EAA4B;AAC1B,SAAO,YAAW;AAChB,QAAIzpF,KAAK,KAAKqoG,IAAd;AACA,QAAI,CAACroG,EAAL,EAAS;AACT,SAAK,IAAIvO,IAAI,CAAR,EAAW9E,IAAI,CAAC,CAAhB,EAAmBG,IAAIkT,GAAG5O,MAA1B,EAAkCjE,CAAvC,EAA0CsE,IAAI3E,CAA9C,EAAiD,EAAE2E,CAAnD,EAAsD;AACpD,UAAItE,IAAI6S,GAAGvO,CAAH,CAAJ,EAAW,CAAC,CAACg4F,SAASttF,IAAV,IAAkBhP,EAAEgP,IAAF,KAAWstF,SAASttF,IAAvC,KAAgDhP,EAAEF,IAAF,KAAWw8F,SAASx8F,IAAnF,EAAyF;AACvF,aAAKq7G,mBAAL,CAAyBn7G,EAAEgP,IAA3B,EAAiChP,EAAE06G,QAAnC,EAA6C16G,EAAEo7G,OAA/C;AACD,OAFD,MAEO;AACLvoG,WAAG,EAAErT,CAAL,IAAUQ,CAAV;AACD;AACF;AACD,QAAI,EAAER,CAAN,EAASqT,GAAG5O,MAAH,GAAYzE,CAAZ,CAAT,KACK,OAAO,KAAK07G,IAAZ;AACN,GAZD;AAaD;;AAED,SAASG,KAAT,CAAe/e,QAAf,EAAyB97F,KAAzB,EAAgC46G,OAAhC,EAAyC;AACvC,MAAIE,OAAOhB,aAAah5G,cAAb,CAA4Bg7F,SAASttF,IAArC,IAA6CyrG,qBAA7C,GAAqEE,eAAhF;AACA,SAAO,UAAS96G,CAAT,EAAYL,CAAZ,EAAewhF,KAAf,EAAsB;AAC3B,QAAInuE,KAAK,KAAKqoG,IAAd;AAAA,QAAoBl7G,CAApB;AAAA,QAAuB06G,WAAWY,KAAK96G,KAAL,EAAYhB,CAAZ,EAAewhF,KAAf,CAAlC;AACA,QAAInuE,EAAJ,EAAQ,KAAK,IAAIvO,IAAI,CAAR,EAAW3E,IAAIkT,GAAG5O,MAAvB,EAA+BK,IAAI3E,CAAnC,EAAsC,EAAE2E,CAAxC,EAA2C;AACjD,UAAI,CAACtE,IAAI6S,GAAGvO,CAAH,CAAL,EAAY0K,IAAZ,KAAqBstF,SAASttF,IAA9B,IAAsChP,EAAEF,IAAF,KAAWw8F,SAASx8F,IAA9D,EAAoE;AAClE,aAAKq7G,mBAAL,CAAyBn7G,EAAEgP,IAA3B,EAAiChP,EAAE06G,QAAnC,EAA6C16G,EAAEo7G,OAA/C;AACA,aAAKG,gBAAL,CAAsBv7G,EAAEgP,IAAxB,EAA8BhP,EAAE06G,QAAF,GAAaA,QAA3C,EAAqD16G,EAAEo7G,OAAF,GAAYA,OAAjE;AACAp7G,UAAEQ,KAAF,GAAUA,KAAV;AACA;AACD;AACF;AACD,SAAK+6G,gBAAL,CAAsBjf,SAASttF,IAA/B,EAAqC0rG,QAArC,EAA+CU,OAA/C;AACAp7G,QAAI,EAACgP,MAAMstF,SAASttF,IAAhB,EAAsBlP,MAAMw8F,SAASx8F,IAArC,EAA2CU,OAAOA,KAAlD,EAAyDk6G,UAAUA,QAAnE,EAA6EU,SAASA,OAAtF,EAAJ;AACA,QAAI,CAACvoG,EAAL,EAAS,KAAKqoG,IAAL,GAAY,CAACl7G,CAAD,CAAZ,CAAT,KACK6S,GAAGrP,IAAH,CAAQxD,CAAR;AACN,GAdD;AAeD;;AAEc,yEAASs8F,QAAT,EAAmB97F,KAAnB,EAA0B46G,OAA1B,EAAmC;AAChD,MAAIhf,YAAYD,eAAeG,WAAW,EAA1B,CAAhB;AAAA,MAA+C98F,CAA/C;AAAA,MAAkDwB,IAAIo7F,UAAUn4F,MAAhE;AAAA,MAAwExD,CAAxE;;AAEA,MAAImL,UAAU3H,MAAV,GAAmB,CAAvB,EAA0B;AACxB,QAAI4O,KAAK,KAAKsrB,IAAL,GAAY+8E,IAArB;AACA,QAAIroG,EAAJ,EAAQ,KAAK,IAAIvO,IAAI,CAAR,EAAW3E,IAAIkT,GAAG5O,MAAlB,EAA0BjE,CAA/B,EAAkCsE,IAAI3E,CAAtC,EAAyC,EAAE2E,CAA3C,EAA8C;AACpD,WAAK9E,IAAI,CAAJ,EAAOQ,IAAI6S,GAAGvO,CAAH,CAAhB,EAAuB9E,IAAIwB,CAA3B,EAA8B,EAAExB,CAAhC,EAAmC;AACjC,YAAI,CAACiB,IAAI27F,UAAU58F,CAAV,CAAL,EAAmBwP,IAAnB,KAA4BhP,EAAEgP,IAA9B,IAAsCvO,EAAEX,IAAF,KAAWE,EAAEF,IAAvD,EAA6D;AAC3D,iBAAOE,EAAEQ,KAAT;AACD;AACF;AACF;AACD;AACD;;AAEDqS,OAAKrS,QAAQ66G,KAAR,GAAgBJ,QAArB;AACA,MAAIG,WAAW,IAAf,EAAqBA,UAAU,KAAV;AACrB,OAAK57G,IAAI,CAAT,EAAYA,IAAIwB,CAAhB,EAAmB,EAAExB,CAArB;AAAwB,SAAKs1C,IAAL,CAAUjiC,GAAGupF,UAAU58F,CAAV,CAAH,EAAiBgB,KAAjB,EAAwB46G,OAAxB,CAAV;AAAxB,GACA,OAAO,IAAP;AACD;;AAEM,SAASzc,WAAT,CAAqBoc,MAArB,EAA6BL,QAA7B,EAAuCle,IAAvC,EAA6C3wF,IAA7C,EAAmD;AACxD,MAAImvG,SAASv8C,KAAb;AACAs8C,SAAOtiC,WAAP,GAAqBha,KAArB;AACAA,UAAQs8C,MAAR;AACA,MAAI;AACF,WAAOL,SAASzyG,KAAT,CAAeu0F,IAAf,EAAqB3wF,IAArB,CAAP;AACD,GAFD,SAEU;AACR4yD,YAAQu8C,MAAR;AACD;AACF,C;;;;;;;;;;;;AC1GD;AAAe,2EAAW;;AAExB,OAAK,IAAI3E,SAAS,KAAKC,OAAlB,EAA2BhyG,IAAI,CAAC,CAAhC,EAAmC3E,IAAI02G,OAAOpyG,MAAnD,EAA2D,EAAEK,CAAF,GAAM3E,CAAjE,GAAqE;AACnE,SAAK,IAAIqhF,QAAQq1B,OAAO/xG,CAAP,CAAZ,EAAuB9E,IAAIwhF,MAAM/8E,MAAN,GAAe,CAA1C,EAA6C8F,OAAOi3E,MAAMxhF,CAAN,CAApD,EAA8D2+B,IAAnE,EAAyE,EAAE3+B,CAAF,IAAO,CAAhF,GAAoF;AAClF,UAAI2+B,OAAO6iD,MAAMxhF,CAAN,CAAX,EAAqB;AACnB,YAAIuK,QAAQA,SAASo0B,KAAKo3E,WAA1B,EAAuCxrG,KAAK8jF,UAAL,CAAgBynB,YAAhB,CAA6Bn3E,IAA7B,EAAmCp0B,IAAnC;AACvCA,eAAOo0B,IAAP;AACD;AACF;AACF;;AAED,SAAO,IAAP;AACD,C;;;;;;;;;;;;ACZD;AAAA,SAASq9E,cAAT,CAAwB17G,IAAxB,EAA8B;AAC5B,SAAO,YAAW;AAChB,WAAO,KAAKA,IAAL,CAAP;AACD,GAFD;AAGD;;AAED,SAAS27G,gBAAT,CAA0B37G,IAA1B,EAAgCU,KAAhC,EAAuC;AACrC,SAAO,YAAW;AAChB,SAAKV,IAAL,IAAaU,KAAb;AACD,GAFD;AAGD;;AAED,SAASk7G,gBAAT,CAA0B57G,IAA1B,EAAgCU,KAAhC,EAAuC;AACrC,SAAO,YAAW;AAChB,QAAImgB,IAAIngB,MAAMyH,KAAN,CAAY,IAAZ,EAAkB2D,SAAlB,CAAR;AACA,QAAI+U,KAAK,IAAT,EAAe,OAAO,KAAK7gB,IAAL,CAAP,CAAf,KACK,KAAKA,IAAL,IAAa6gB,CAAb;AACN,GAJD;AAKD;;AAEc,yEAAS7gB,IAAT,EAAeU,KAAf,EAAsB;AACnC,SAAOoL,UAAU3H,MAAV,GAAmB,CAAnB,GACD,KAAK6wC,IAAL,CAAU,CAACt0C,SAAS,IAAT,GACPg7G,cADO,GACU,OAAOh7G,KAAP,KAAiB,UAAjB,GACjBk7G,gBADiB,GAEjBD,gBAHM,EAGY37G,IAHZ,EAGkBU,KAHlB,CAAV,CADC,GAKD,KAAK29B,IAAL,GAAYr+B,IAAZ,CALN;AAMD,C;;;;;;;;;;;;AC3BD;AAAA,SAASovG,KAAT,GAAiB;AACf,MAAI,KAAKqG,WAAT,EAAsB,KAAK1nB,UAAL,CAAgBlN,WAAhB,CAA4B,IAA5B;AACvB;;AAEc,2EAAW;AACxB,SAAO,KAAK7rC,IAAL,CAAUo6D,KAAV,CAAP;AACD,C;;;;;;;;;;;;ACND;AAAA,SAASj6D,MAAT,GAAkB;AAChB,MAAIniB,SAAS,KAAK+6D,UAAlB;AACA,MAAI/6D,MAAJ,EAAYA,OAAOF,WAAP,CAAmB,IAAnB;AACb;;AAEc,2EAAW;AACxB,SAAO,KAAKkiB,IAAL,CAAUG,MAAV,CAAP;AACD,C;;;;;;;;;;;;ACPD;AAAA;AAAA;AAAA;AACA;;AAEe,yEAASh/B,MAAT,EAAiB;AAC9B,MAAI,OAAOA,MAAP,KAAkB,UAAtB,EAAkCA,SAAS08F,yDAAQA,CAAC18F,MAAT,CAAT;;AAElC,OAAK,IAAIogG,SAAS,KAAKC,OAAlB,EAA2B32G,IAAI02G,OAAOpyG,MAAtC,EAA8CuzG,YAAY,IAAIjwG,KAAJ,CAAU5H,CAAV,CAA1D,EAAwE2E,IAAI,CAAjF,EAAoFA,IAAI3E,CAAxF,EAA2F,EAAE2E,CAA7F,EAAgG;AAC9F,SAAK,IAAI08E,QAAQq1B,OAAO/xG,CAAP,CAAZ,EAAuBtD,IAAIggF,MAAM/8E,MAAjC,EAAyCwzG,WAAWD,UAAUlzG,CAAV,IAAe,IAAIiD,KAAJ,CAAUvG,CAAV,CAAnE,EAAiFm9B,IAAjF,EAAuFw9E,OAAvF,EAAgGn8G,IAAI,CAAzG,EAA4GA,IAAIwB,CAAhH,EAAmH,EAAExB,CAArH,EAAwH;AACtH,UAAI,CAAC2+B,OAAO6iD,MAAMxhF,CAAN,CAAR,MAAsBm8G,UAAU1lG,OAAOvW,IAAP,CAAYy+B,IAAZ,EAAkBA,KAAK23E,QAAvB,EAAiCt2G,CAAjC,EAAoCwhF,KAApC,CAAhC,CAAJ,EAAiF;AAC/E,YAAI,cAAc7iD,IAAlB,EAAwBw9E,QAAQ7F,QAAR,GAAmB33E,KAAK23E,QAAxB;AACxB2B,iBAASj4G,CAAT,IAAcm8G,OAAd;AACD;AACF;AACF;;AAED,SAAO,IAAI9H,gDAAJ,CAAc2D,SAAd,EAAyB,KAAKpB,QAA9B,CAAP;AACD,C;;;;;;;;;;;;AChBD;AAAA;AAAA;AAAA;AACA;;AAEe,yEAASngG,MAAT,EAAiB;AAC9B,MAAI,OAAOA,MAAP,KAAkB,UAAtB,EAAkCA,SAAS2lG,4DAAWA,CAAC3lG,MAAZ,CAAT;;AAElC,OAAK,IAAIogG,SAAS,KAAKC,OAAlB,EAA2B32G,IAAI02G,OAAOpyG,MAAtC,EAA8CuzG,YAAY,EAA1D,EAA8DrB,UAAU,EAAxE,EAA4E7xG,IAAI,CAArF,EAAwFA,IAAI3E,CAA5F,EAA+F,EAAE2E,CAAjG,EAAoG;AAClG,SAAK,IAAI08E,QAAQq1B,OAAO/xG,CAAP,CAAZ,EAAuBtD,IAAIggF,MAAM/8E,MAAjC,EAAyCk6B,IAAzC,EAA+C3+B,IAAI,CAAxD,EAA2DA,IAAIwB,CAA/D,EAAkE,EAAExB,CAApE,EAAuE;AACrE,UAAI2+B,OAAO6iD,MAAMxhF,CAAN,CAAX,EAAqB;AACnBg4G,kBAAUh0G,IAAV,CAAeyS,OAAOvW,IAAP,CAAYy+B,IAAZ,EAAkBA,KAAK23E,QAAvB,EAAiCt2G,CAAjC,EAAoCwhF,KAApC,CAAf;AACAm1B,gBAAQ3yG,IAAR,CAAa26B,IAAb;AACD;AACF;AACF;;AAED,SAAO,IAAI01E,gDAAJ,CAAc2D,SAAd,EAAyBrB,OAAzB,CAAP;AACD,C;;;;;;;;;;;;AChBD;AAAe,2EAAW;AACxB,MAAI9qC,OAAO,CAAX;AACA,OAAKv2B,IAAL,CAAU,YAAW;AAAE,MAAEu2B,IAAF;AAAS,GAAhC;AACA,SAAOA,IAAP;AACD,C;;;;;;;;;;;;ACJD;AAAA;AAAA;;AAEe,yEAAS2e,OAAT,EAAkB;AAC/B,MAAI,CAACA,OAAL,EAAcA,UAAUH,SAAV;;AAEd,WAASgyB,WAAT,CAAqB51F,CAArB,EAAwBC,CAAxB,EAA2B;AACzB,WAAOD,KAAKC,CAAL,GAAS8jE,QAAQ/jE,EAAE6vF,QAAV,EAAoB5vF,EAAE4vF,QAAtB,CAAT,GAA2C,CAAC7vF,CAAD,GAAK,CAACC,CAAxD;AACD;;AAED,OAAK,IAAImwF,SAAS,KAAKC,OAAlB,EAA2B32G,IAAI02G,OAAOpyG,MAAtC,EAA8C63G,aAAa,IAAIv0G,KAAJ,CAAU5H,CAAV,CAA3D,EAAyE2E,IAAI,CAAlF,EAAqFA,IAAI3E,CAAzF,EAA4F,EAAE2E,CAA9F,EAAiG;AAC/F,SAAK,IAAI08E,QAAQq1B,OAAO/xG,CAAP,CAAZ,EAAuBtD,IAAIggF,MAAM/8E,MAAjC,EAAyC83G,YAAYD,WAAWx3G,CAAX,IAAgB,IAAIiD,KAAJ,CAAUvG,CAAV,CAArE,EAAmFm9B,IAAnF,EAAyF3+B,IAAI,CAAlG,EAAqGA,IAAIwB,CAAzG,EAA4G,EAAExB,CAA9G,EAAiH;AAC/G,UAAI2+B,OAAO6iD,MAAMxhF,CAAN,CAAX,EAAqB;AACnBu8G,kBAAUv8G,CAAV,IAAe2+B,IAAf;AACD;AACF;AACD49E,cAAUtvG,IAAV,CAAeovG,WAAf;AACD;;AAED,SAAO,IAAIhI,gDAAJ,CAAciI,UAAd,EAA0B,KAAK1F,QAA/B,EAAyC/pG,KAAzC,EAAP;AACD;;AAED,SAASw9E,SAAT,CAAmB5jE,CAAnB,EAAsBC,CAAtB,EAAyB;AACvB,SAAOD,IAAIC,CAAJ,GAAQ,CAAC,CAAT,GAAaD,IAAIC,CAAJ,GAAQ,CAAR,GAAYD,KAAKC,CAAL,GAAS,CAAT,GAAawjE,GAA7C;AACD,C;;;;;;;;;;;;ACvBD;AAAe,yEAASjpD,MAAT,EAAiB;AAC9B,SAAO,IAAIl5B,KAAJ,CAAUk5B,OAAOx8B,MAAjB,CAAP;AACD,C;;;;;;;;;;;;ACFD;AAAA;AAAA;AAAA;;AAEA,SAAS+3G,WAAT,CAAqBl8G,IAArB,EAA2B;AACzB,SAAO,YAAW;AAChB,SAAK4zC,KAAL,CAAWuoE,cAAX,CAA0Bn8G,IAA1B;AACD,GAFD;AAGD;;AAED,SAASo8G,aAAT,CAAuBp8G,IAAvB,EAA6BU,KAA7B,EAAoC+vC,QAApC,EAA8C;AAC5C,SAAO,YAAW;AAChB,SAAKmD,KAAL,CAAWyoE,WAAX,CAAuBr8G,IAAvB,EAA6BU,KAA7B,EAAoC+vC,QAApC;AACD,GAFD;AAGD;;AAED,SAAS6rE,aAAT,CAAuBt8G,IAAvB,EAA6BU,KAA7B,EAAoC+vC,QAApC,EAA8C;AAC5C,SAAO,YAAW;AAChB,QAAI5vB,IAAIngB,MAAMyH,KAAN,CAAY,IAAZ,EAAkB2D,SAAlB,CAAR;AACA,QAAI+U,KAAK,IAAT,EAAe,KAAK+yB,KAAL,CAAWuoE,cAAX,CAA0Bn8G,IAA1B,EAAf,KACK,KAAK4zC,KAAL,CAAWyoE,WAAX,CAAuBr8G,IAAvB,EAA6B6gB,CAA7B,EAAgC4vB,QAAhC;AACN,GAJD;AAKD;;AAEc,yEAASzwC,IAAT,EAAeU,KAAf,EAAsB+vC,QAAtB,EAAgC;AAC7C,SAAO3kC,UAAU3H,MAAV,GAAmB,CAAnB,GACD,KAAK6wC,IAAL,CAAU,CAACt0C,SAAS,IAAT,GACLw7G,WADK,GACS,OAAOx7G,KAAP,KAAiB,UAAjB,GACd47G,aADc,GAEdF,aAHI,EAGWp8G,IAHX,EAGiBU,KAHjB,EAGwB+vC,YAAY,IAAZ,GAAmB,EAAnB,GAAwBA,QAHhD,CAAV,CADC,GAKD8rE,WAAW,KAAKl+E,IAAL,EAAX,EAAwBr+B,IAAxB,CALN;AAMD;;AAEM,SAASu8G,UAAT,CAAoBl+E,IAApB,EAA0Br+B,IAA1B,EAAgC;AACrC,SAAOq+B,KAAKuV,KAAL,CAAW40D,gBAAX,CAA4BxoG,IAA5B,KACAsoG,uDAAWA,CAACjqE,IAAZ,EAAkBkqE,gBAAlB,CAAmClqE,IAAnC,EAAyC,IAAzC,EAA+CmqE,gBAA/C,CAAgExoG,IAAhE,CADP;AAED,C;;;;;;;;;;;;AClCD;AAAA,SAASw8G,UAAT,GAAsB;AACpB,OAAKC,WAAL,GAAmB,EAAnB;AACD;;AAED,SAASC,YAAT,CAAsBh8G,KAAtB,EAA6B;AAC3B,SAAO,YAAW;AAChB,SAAK+7G,WAAL,GAAmB/7G,KAAnB;AACD,GAFD;AAGD;;AAED,SAASi8G,YAAT,CAAsBj8G,KAAtB,EAA6B;AAC3B,SAAO,YAAW;AAChB,QAAImgB,IAAIngB,MAAMyH,KAAN,CAAY,IAAZ,EAAkB2D,SAAlB,CAAR;AACA,SAAK2wG,WAAL,GAAmB57F,KAAK,IAAL,GAAY,EAAZ,GAAiBA,CAApC;AACD,GAHD;AAID;;AAEc,yEAASngB,KAAT,EAAgB;AAC7B,SAAOoL,UAAU3H,MAAV,GACD,KAAK6wC,IAAL,CAAUt0C,SAAS,IAAT,GACN87G,UADM,GACO,CAAC,OAAO97G,KAAP,KAAiB,UAAjB,GACdi8G,YADc,GAEdD,YAFa,EAECh8G,KAFD,CADjB,CADC,GAKD,KAAK29B,IAAL,GAAYo+E,WALlB;AAMD,C;;;;;;;;;;;;ACxBD;AAAA,SAASG,IAAT,GAAgB,CAAE;;AAEH,yEAAS/J,QAAT,EAAmB;AAChC,SAAOA,YAAY,IAAZ,GAAmB+J,IAAnB,GAA0B,YAAW;AAC1C,WAAO,KAAK5I,aAAL,CAAmBnB,QAAnB,CAAP;AACD,GAFD;AAGD,C;;;;;;;;;;;;ACND;AAAA,SAASrqC,KAAT,GAAiB;AACf,SAAO,EAAP;AACD;;AAEc,yEAASqqC,QAAT,EAAmB;AAChC,SAAOA,YAAY,IAAZ,GAAmBrqC,KAAnB,GAA2B,YAAW;AAC3C,WAAO,KAAKyrC,gBAAL,CAAsBpB,QAAtB,CAAP;AACD,GAFD;AAGD,C;;;;;;;;;;;;ACRD;AAAA;AAAA;;AAEe,2EAAW;AACxB,MAAIgK,UAAUl+C,mDAAd;AAAA,MAAqBttC,MAArB;AACA,SAAOA,SAASwrF,QAAQlkC,WAAxB;AAAqCkkC,cAAUxrF,MAAV;AAArC,GACA,OAAOwrF,OAAP;AACD,C;;;;;;;;;;;;ACND;AAAA;AAAA;AAAA;AACA;;AAEe,yEAASx+E,IAAT,EAAegjC,OAAf,EAAwBo9B,UAAxB,EAAoC;AACjD,MAAI3yF,UAAU3H,MAAV,GAAmB,CAAvB,EAA0Bs6F,aAAap9B,OAAb,EAAsBA,UAAUsX,4DAAWA,GAAG6lB,cAA9C;;AAE1B,OAAK,IAAI9+F,IAAI,CAAR,EAAWwB,IAAImgE,UAAUA,QAAQl9D,MAAlB,GAA2B,CAA1C,EAA6Cu8D,KAAlD,EAAyDhhE,IAAIwB,CAA7D,EAAgE,EAAExB,CAAlE,EAAqE;AACnE,QAAI,CAACghE,QAAQW,QAAQ3hE,CAAR,CAAT,EAAqB++F,UAArB,KAAoCA,UAAxC,EAAoD;AAClD,aAAOE,sDAAKA,CAACtgE,IAAN,EAAYqiC,KAAZ,CAAP;AACD;AACF;;AAED,SAAO,IAAP;AACD,C;;;;;;;;;;;;ACbD;AAAA;AAAA;AAAA;AACA;;AAEe,yEAASriC,IAAT,EAAegjC,OAAf,EAAwB;AACrC,MAAIA,WAAW,IAAf,EAAqBA,UAAUsX,4DAAWA,GAAGtX,OAAxB;;AAErB,OAAK,IAAI3hE,IAAI,CAAR,EAAWwB,IAAImgE,UAAUA,QAAQl9D,MAAlB,GAA2B,CAA1C,EAA6C2tE,SAAS,IAAIrqE,KAAJ,CAAUvG,CAAV,CAA3D,EAAyExB,IAAIwB,CAA7E,EAAgF,EAAExB,CAAlF,EAAqF;AACnFoyE,WAAOpyE,CAAP,IAAYi/F,sDAAKA,CAACtgE,IAAN,EAAYgjC,QAAQ3hE,CAAR,CAAZ,CAAZ;AACD;;AAED,SAAOoyE,MAAP;AACD,C;;;;;;;;;;;;ACXD;AAAe,yEAASzzC,IAAT,EAAe;AAC5B,WAAQA,KAAK8zE,aAAL,IAAsB9zE,KAAK8zE,aAAL,CAAmB7J,WAA1C,IAAuD;AACtDjqE,SAAKoiD,QAAL,IAAiBpiD,IADlB,CACwB;AADxB,OAEAA,KAAKiqE,WAFZ,CAD4B,CAGH;AAC1B,C;;;;;;;;;;;;ACJD;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAEA,SAASwU,cAAT,CAAwB/8G,CAAxB,EAA2B;AACzB,SAAOA,EAAEg9G,WAAT;AACD;;AAED,SAASC,cAAT,CAAwBj9G,CAAxB,EAA2B;AACzB,SAAOA,EAAEk9G,WAAT;AACD;;AAED,SAASC,aAAT,CAAuBn9G,CAAvB,EAA0B;AACxB,SAAOA,EAAEo9G,UAAT;AACD;;AAED,SAASC,WAAT,CAAqBr9G,CAArB,EAAwB;AACtB,SAAOA,EAAEs9G,QAAT;AACD;;AAED,SAASC,WAAT,CAAqBv9G,CAArB,EAAwB;AACtB,SAAOA,KAAKA,EAAEw9G,QAAd,CADsB,CACE;AACzB;;AAED,SAASC,SAAT,CAAmBvyB,EAAnB,EAAuB2f,EAAvB,EAA2Bz6B,EAA3B,EAA+BC,EAA/B,EAAmCxN,EAAnC,EAAuCD,EAAvC,EAA2C86C,EAA3C,EAA+CC,EAA/C,EAAmD;AACjD,MAAIC,MAAMxtC,KAAK8a,EAAf;AAAA,MAAmB2yB,MAAMxtC,KAAKw6B,EAA9B;AAAA,MACIiT,MAAMJ,KAAK76C,EADf;AAAA,MACmBk7C,MAAMJ,KAAK/6C,EAD9B;AAAA,MAEIhiE,IAAI,CAACk9G,OAAOjT,KAAKjoC,EAAZ,IAAkBm7C,OAAO7yB,KAAKroB,EAAZ,CAAnB,KAAuCk7C,MAAMH,GAAN,GAAYE,MAAMD,GAAzD,CAFR;AAGA,SAAO,CAAC3yB,KAAKtqF,IAAIg9G,GAAV,EAAe/S,KAAKjqG,IAAIi9G,GAAxB,CAAP;AACD;;AAED;AACA;AACA,SAASG,cAAT,CAAwB9yB,EAAxB,EAA4B2f,EAA5B,EAAgCz6B,EAAhC,EAAoCC,EAApC,EAAwCy5B,EAAxC,EAA4CmU,EAA5C,EAAgDlS,EAAhD,EAAoD;AAClD,MAAIf,MAAM9f,KAAK9a,EAAf;AAAA,MACI66B,MAAMJ,KAAKx6B,EADf;AAAA,MAEIvgD,KAAK,CAACi8E,KAAKkS,EAAL,GAAU,CAACA,EAAZ,IAAkB5wF,kDAAIA,CAAC29E,MAAMA,GAAN,GAAYC,MAAMA,GAAvB,CAF3B;AAAA,MAGIiT,KAAKpuF,KAAKm7E,GAHd;AAAA,MAIIkT,KAAK,CAACruF,EAAD,GAAMk7E,GAJf;AAAA,MAKIoT,MAAMlzB,KAAKgzB,EALf;AAAA,MAMIG,MAAMxT,KAAKsT,EANf;AAAA,MAOIP,MAAMxtC,KAAK8tC,EAPf;AAAA,MAQIL,MAAMxtC,KAAK8tC,EARf;AAAA,MASIG,MAAM,CAACF,MAAMR,GAAP,IAAc,CATxB;AAAA,MAUIW,MAAM,CAACF,MAAMR,GAAP,IAAc,CAVxB;AAAA,MAWIn7C,KAAKk7C,MAAMQ,GAXf;AAAA,MAYIz7C,KAAKk7C,MAAMQ,GAZf;AAAA,MAaI1U,KAAKjnC,KAAKA,EAAL,GAAUC,KAAKA,EAbxB;AAAA,MAcIniE,IAAIspG,KAAKmU,EAdb;AAAA,MAeI/jB,IAAIkkB,MAAMP,GAAN,GAAYD,MAAMS,GAf1B;AAAA,MAgBIr+G,IAAI,CAAC2iE,KAAK,CAAL,GAAS,CAAC,CAAV,GAAc,CAAf,IAAoBt1C,kDAAIA,CAACjU,iDAAGA,CAAC,CAAJ,EAAO5Y,IAAIA,CAAJ,GAAQmpG,EAAR,GAAazP,IAAIA,CAAxB,CAAL,CAhB5B;AAAA,MAiBIskB,MAAM,CAACtkB,IAAIv3B,EAAJ,GAASD,KAAK1iE,CAAf,IAAoB2pG,EAjB9B;AAAA,MAkBI8U,MAAM,CAAC,CAACvkB,CAAD,GAAKx3B,EAAL,GAAUC,KAAK3iE,CAAhB,IAAqB2pG,EAlB/B;AAAA,MAmBI+U,MAAM,CAACxkB,IAAIv3B,EAAJ,GAASD,KAAK1iE,CAAf,IAAoB2pG,EAnB9B;AAAA,MAoBIgV,MAAM,CAAC,CAACzkB,CAAD,GAAKx3B,EAAL,GAAUC,KAAK3iE,CAAhB,IAAqB2pG,EApB/B;AAAA,MAqBIiV,MAAMJ,MAAMF,GArBhB;AAAA,MAsBIO,MAAMJ,MAAMF,GAtBhB;AAAA,MAuBIO,MAAMJ,MAAMJ,GAvBhB;AAAA,MAwBIS,MAAMJ,MAAMJ,GAxBhB;;AA0BA;AACA;AACA,MAAIK,MAAMA,GAAN,GAAYC,MAAMA,GAAlB,GAAwBC,MAAMA,GAAN,GAAYC,MAAMA,GAA9C,EAAmDP,MAAME,GAAN,EAAWD,MAAME,GAAjB;;AAEnD,SAAO;AACLK,QAAIR,GADC;AAELS,QAAIR,GAFC;AAGLzT,SAAK,CAACkT,EAHD;AAILjT,SAAK,CAACkT,EAJD;AAKLC,SAAKI,OAAO1U,KAAKtpG,CAAL,GAAS,CAAhB,CALA;AAML69G,SAAKI,OAAO3U,KAAKtpG,CAAL,GAAS,CAAhB;AANA,GAAP;AAQD;;AAEc,2EAAW;AACxB,MAAIw8G,cAAcD,cAAlB;AAAA,MACIG,cAAcD,cADlB;AAAA,MAEIiC,eAAe5zB,yDAAQA,CAAC,CAAT,CAFnB;AAAA,MAGI6zB,YAAY,IAHhB;AAAA,MAII/B,aAAaD,aAJjB;AAAA,MAKIG,WAAWD,WALf;AAAA,MAMIG,WAAWD,WANf;AAAA,MAOIztE,UAAU,IAPd;;AASA,WAAS87D,GAAT,GAAe;AACb,QAAIwT,MAAJ;AAAA,QACI5+G,CADJ;AAAA,QAEIqpG,KAAK,CAACmT,YAAY50G,KAAZ,CAAkB,IAAlB,EAAwB2D,SAAxB,CAFV;AAAA,QAGI+9F,KAAK,CAACoT,YAAY90G,KAAZ,CAAkB,IAAlB,EAAwB2D,SAAxB,CAHV;AAAA,QAII8/F,KAAKuR,WAAWh1G,KAAX,CAAiB,IAAjB,EAAuB2D,SAAvB,IAAoCi2F,4CAJ7C;AAAA,QAKIv4E,KAAK6zF,SAASl1G,KAAT,CAAe,IAAf,EAAqB2D,SAArB,IAAkCi2F,4CAL3C;AAAA,QAMIgK,KAAKjwE,iDAAGA,CAACtS,KAAKoiF,EAAT,CANT;AAAA,QAOIE,KAAKtiF,KAAKoiF,EAPd;;AASA,QAAI,CAAC/7D,OAAL,EAAcA,UAAUsvE,SAASr8F,oDAAIA,EAAvB;;AAEd;AACA,QAAI+mF,KAAKD,EAAT,EAAarpG,IAAIspG,EAAJ,EAAQA,KAAKD,EAAb,EAAiBA,KAAKrpG,CAAtB;;AAEb;AACA,QAAI,EAAEspG,KAAK/c,6CAAP,CAAJ,EAAqBj9C,QAAQy6D,MAAR,CAAe,CAAf,EAAkB,CAAlB;;AAErB;AAFA,SAGK,IAAIyB,KAAKjL,yCAAGA,GAAGhU,6CAAf,EAAwB;AAC3Bj9C,gBAAQy6D,MAAR,CAAeT,KAAK5kD,iDAAGA,CAAC2mD,EAAJ,CAApB,EAA6B/B,KAAK5qD,iDAAGA,CAAC2sD,EAAJ,CAAlC;AACA/7D,gBAAQ87D,GAAR,CAAY,CAAZ,EAAe,CAAf,EAAkB9B,EAAlB,EAAsB+B,EAAtB,EAA0BpiF,EAA1B,EAA8B,CAACsiF,EAA/B;AACA,YAAIlC,KAAK9c,6CAAT,EAAkB;AAChBj9C,kBAAQy6D,MAAR,CAAeV,KAAK3kD,iDAAGA,CAACz7B,EAAJ,CAApB,EAA6BogF,KAAK3qD,iDAAGA,CAACz1B,EAAJ,CAAlC;AACAqmB,kBAAQ87D,GAAR,CAAY,CAAZ,EAAe,CAAf,EAAkB/B,EAAlB,EAAsBpgF,EAAtB,EAA0BoiF,EAA1B,EAA8BE,EAA9B;AACD;AACF;;AAED;AATK,WAUA;AACH,cAAIsT,MAAMxT,EAAV;AAAA,cACIyT,MAAM71F,EADV;AAAA,cAEI81F,MAAM1T,EAFV;AAAA,cAGI2T,MAAM/1F,EAHV;AAAA,cAIIg2F,MAAMzT,EAJV;AAAA,cAKI0T,MAAM1T,EALV;AAAA,cAMI2T,KAAKnC,SAASp1G,KAAT,CAAe,IAAf,EAAqB2D,SAArB,IAAkC,CAN3C;AAAA,cAOI6zG,KAAMD,KAAK5yB,6CAAN,KAAmBoyB,YAAY,CAACA,UAAU/2G,KAAV,CAAgB,IAAhB,EAAsB2D,SAAtB,CAAb,GAAgDshB,kDAAIA,CAACw8E,KAAKA,EAAL,GAAUC,KAAKA,EAApB,CAAnE,CAPT;AAAA,cAQImU,KAAKhlG,iDAAGA,CAAC8iB,iDAAGA,CAAC+tE,KAAKD,EAAT,IAAe,CAAnB,EAAsB,CAACqV,aAAa92G,KAAb,CAAmB,IAAnB,EAAyB2D,SAAzB,CAAvB,CART;AAAA,cASI8zG,MAAM5B,EATV;AAAA,cAUI6B,MAAM7B,EAVV;AAAA,cAWI7iB,EAXJ;AAAA,cAYIC,EAZJ;;AAcA;AACA,cAAIukB,KAAK7yB,6CAAT,EAAkB;AAChB,gBAAIiS,KAAKmC,kDAAIA,CAACye,KAAK/V,EAAL,GAAU3qD,iDAAGA,CAACygE,EAAJ,CAAf,CAAT;AAAA,gBACIn3D,KAAK24C,kDAAIA,CAACye,KAAK9V,EAAL,GAAU5qD,iDAAGA,CAACygE,EAAJ,CAAf,CADT;AAEA,gBAAI,CAACF,OAAOzgB,KAAK,CAAb,IAAkBjS,6CAAtB,EAA+BiS,MAAO+M,KAAK,CAAL,GAAS,CAAC,CAAjB,EAAqBwT,OAAOvgB,EAA5B,EAAgCwgB,OAAOxgB,EAAvC,CAA/B,KACKygB,MAAM,CAAN,EAASF,MAAMC,MAAM,CAAC3T,KAAKpiF,EAAN,IAAY,CAAjC;AACL,gBAAI,CAACi2F,OAAOl3D,KAAK,CAAb,IAAkBukC,6CAAtB,EAA+BvkC,MAAOujD,KAAK,CAAL,GAAS,CAAC,CAAjB,EAAqBsT,OAAO72D,EAA5B,EAAgC82D,OAAO92D,EAAvC,CAA/B,KACKk3D,MAAM,CAAN,EAASL,MAAMC,MAAM,CAACzT,KAAKpiF,EAAN,IAAY,CAAjC;AACN;;AAED,cAAIuhF,MAAMlB,KAAK5kD,iDAAGA,CAACm6D,GAAJ,CAAf;AAAA,cACIpU,MAAMnB,KAAK5qD,iDAAGA,CAACmgE,GAAJ,CADf;AAAA,cAEIzB,MAAM/T,KAAK3kD,iDAAGA,CAACs6D,GAAJ,CAFf;AAAA,cAGI3B,MAAMhU,KAAK3qD,iDAAGA,CAACsgE,GAAJ,CAHf;;AAKA;AACA,cAAIvB,KAAKlxB,6CAAT,EAAkB;AAChB,gBAAIqxB,MAAMtU,KAAK5kD,iDAAGA,CAACo6D,GAAJ,CAAf;AAAA,gBACIjB,MAAMvU,KAAK5qD,iDAAGA,CAACogE,GAAJ,CADf;AAAA,gBAEIhB,MAAMzU,KAAK3kD,iDAAGA,CAACq6D,GAAJ,CAFf;AAAA,gBAGIhB,MAAM1U,KAAK3qD,iDAAGA,CAACqgE,GAAJ,CAHf;;AAKA;AACA,gBAAIvT,KAAKjK,wCAAT,EAAa;AACX,kBAAIge,KAAKN,MAAM1yB,6CAAN,GAAgB0wB,UAAUzS,GAAV,EAAeC,GAAf,EAAoBqT,GAApB,EAAyBC,GAAzB,EAA8BH,GAA9B,EAAmCC,GAAnC,EAAwCT,GAAxC,EAA6CC,GAA7C,CAAhB,GAAoE,CAACD,GAAD,EAAMC,GAAN,CAA7E;AAAA,kBACImC,KAAKhV,MAAM+U,GAAG,CAAH,CADf;AAAA,kBAEIE,KAAKhV,MAAM8U,GAAG,CAAH,CAFf;AAAA,kBAGIG,KAAK9B,MAAM2B,GAAG,CAAH,CAHf;AAAA,kBAIII,KAAK9B,MAAM0B,GAAG,CAAH,CAJf;AAAA,kBAKIK,KAAK,IAAIlhE,iDAAGA,CAACusD,kDAAIA,CAAC,CAACuU,KAAKE,EAAL,GAAUD,KAAKE,EAAhB,KAAuB9yF,kDAAIA,CAAC2yF,KAAKA,EAAL,GAAUC,KAAKA,EAApB,IAA0B5yF,kDAAIA,CAAC6yF,KAAKA,EAAL,GAAUC,KAAKA,EAApB,CAAjD,CAAL,IAAkF,CAAtF,CALb;AAAA,kBAMIE,KAAKhzF,kDAAIA,CAAC0yF,GAAG,CAAH,IAAQA,GAAG,CAAH,CAAR,GAAgBA,GAAG,CAAH,IAAQA,GAAG,CAAH,CAA7B,CANT;AAOAF,oBAAM5mG,iDAAGA,CAACglG,EAAJ,EAAQ,CAACpU,KAAKwW,EAAN,KAAaD,KAAK,CAAlB,CAAR,CAAN;AACAN,oBAAM7mG,iDAAGA,CAACglG,EAAJ,EAAQ,CAACnU,KAAKuW,EAAN,KAAaD,KAAK,CAAlB,CAAR,CAAN;AACD;AACF;;AAED;AACA,cAAI,EAAEV,MAAM3yB,6CAAR,CAAJ,EAAsBj9C,QAAQy6D,MAAR,CAAeS,GAAf,EAAoBC,GAApB;;AAEtB;AAFA,eAGK,IAAI6U,MAAM/yB,6CAAV,EAAmB;AACtBqO,mBAAK4iB,eAAeM,GAAf,EAAoBC,GAApB,EAAyBvT,GAAzB,EAA8BC,GAA9B,EAAmCnB,EAAnC,EAAuCgW,GAAvC,EAA4C/T,EAA5C,CAAL;AACA1Q,mBAAK2iB,eAAeI,GAAf,EAAoBC,GAApB,EAAyBT,GAAzB,EAA8BC,GAA9B,EAAmC/T,EAAnC,EAAuCgW,GAAvC,EAA4C/T,EAA5C,CAAL;;AAEAj8D,sBAAQy6D,MAAR,CAAenP,GAAG4jB,EAAH,GAAQ5jB,GAAG4P,GAA1B,EAA+B5P,GAAG6jB,EAAH,GAAQ7jB,GAAG6P,GAA1C;;AAEA;AACA,kBAAI6U,MAAM7B,EAAV,EAAcnuE,QAAQ87D,GAAR,CAAYxQ,GAAG4jB,EAAf,EAAmB5jB,GAAG6jB,EAAtB,EAA0Ba,GAA1B,EAA+BplB,mDAAKA,CAACU,GAAG6P,GAAT,EAAc7P,GAAG4P,GAAjB,CAA/B,EAAsDtQ,mDAAKA,CAACW,GAAG4P,GAAT,EAAc5P,GAAG2P,GAAjB,CAAtD,EAA6E,CAACe,EAA9E;;AAEd;AAFA,mBAGK;AACHj8D,0BAAQ87D,GAAR,CAAYxQ,GAAG4jB,EAAf,EAAmB5jB,GAAG6jB,EAAtB,EAA0Ba,GAA1B,EAA+BplB,mDAAKA,CAACU,GAAG6P,GAAT,EAAc7P,GAAG4P,GAAjB,CAA/B,EAAsDtQ,mDAAKA,CAACU,GAAGijB,GAAT,EAAcjjB,GAAGgjB,GAAjB,CAAtD,EAA6E,CAACrS,EAA9E;AACAj8D,0BAAQ87D,GAAR,CAAY,CAAZ,EAAe,CAAf,EAAkB9B,EAAlB,EAAsBpP,mDAAKA,CAACU,GAAG6jB,EAAH,GAAQ7jB,GAAGijB,GAAjB,EAAsBjjB,GAAG4jB,EAAH,GAAQ5jB,GAAGgjB,GAAjC,CAAtB,EAA6D1jB,mDAAKA,CAACW,GAAG4jB,EAAH,GAAQ5jB,GAAGgjB,GAAjB,EAAsBhjB,GAAG2jB,EAAH,GAAQ3jB,GAAG+iB,GAAjC,CAA7D,EAAoG,CAACrS,EAArG;AACAj8D,0BAAQ87D,GAAR,CAAYvQ,GAAG2jB,EAAf,EAAmB3jB,GAAG4jB,EAAtB,EAA0Ba,GAA1B,EAA+BplB,mDAAKA,CAACW,GAAGgjB,GAAT,EAAchjB,GAAG+iB,GAAjB,CAA/B,EAAsD1jB,mDAAKA,CAACW,GAAG4P,GAAT,EAAc5P,GAAG2P,GAAjB,CAAtD,EAA6E,CAACe,EAA9E;AACD;AACF;;AAED;AAjBK,iBAkBAj8D,QAAQy6D,MAAR,CAAeS,GAAf,EAAoBC,GAApB,GAA0Bn7D,QAAQ87D,GAAR,CAAY,CAAZ,EAAe,CAAf,EAAkB9B,EAAlB,EAAsBuV,GAAtB,EAA2BC,GAA3B,EAAgC,CAACvT,EAAjC,CAA1B;;AAEL;AACA;AACA,cAAI,EAAElC,KAAK9c,6CAAP,KAAmB,EAAE0yB,MAAM1yB,6CAAR,CAAvB,EAAyCj9C,QAAQ26D,MAAR,CAAemT,GAAf,EAAoBC,GAApB;;AAEzC;AAFA,eAGK,IAAIgC,MAAM9yB,6CAAV,EAAmB;AACtBqO,mBAAK4iB,eAAeJ,GAAf,EAAoBC,GAApB,EAAyBO,GAAzB,EAA8BC,GAA9B,EAAmCxU,EAAnC,EAAuC,CAACgW,GAAxC,EAA6C9T,EAA7C,CAAL;AACA1Q,mBAAK2iB,eAAehT,GAAf,EAAoBC,GAApB,EAAyBqT,GAAzB,EAA8BC,GAA9B,EAAmC1U,EAAnC,EAAuC,CAACgW,GAAxC,EAA6C9T,EAA7C,CAAL;;AAEAj8D,sBAAQ26D,MAAR,CAAerP,GAAG4jB,EAAH,GAAQ5jB,GAAG4P,GAA1B,EAA+B5P,GAAG6jB,EAAH,GAAQ7jB,GAAG6P,GAA1C;;AAEA;AACA,kBAAI4U,MAAM5B,EAAV,EAAcnuE,QAAQ87D,GAAR,CAAYxQ,GAAG4jB,EAAf,EAAmB5jB,GAAG6jB,EAAtB,EAA0BY,GAA1B,EAA+BnlB,mDAAKA,CAACU,GAAG6P,GAAT,EAAc7P,GAAG4P,GAAjB,CAA/B,EAAsDtQ,mDAAKA,CAACW,GAAG4P,GAAT,EAAc5P,GAAG2P,GAAjB,CAAtD,EAA6E,CAACe,EAA9E;;AAEd;AAFA,mBAGK;AACHj8D,0BAAQ87D,GAAR,CAAYxQ,GAAG4jB,EAAf,EAAmB5jB,GAAG6jB,EAAtB,EAA0BY,GAA1B,EAA+BnlB,mDAAKA,CAACU,GAAG6P,GAAT,EAAc7P,GAAG4P,GAAjB,CAA/B,EAAsDtQ,mDAAKA,CAACU,GAAGijB,GAAT,EAAcjjB,GAAGgjB,GAAjB,CAAtD,EAA6E,CAACrS,EAA9E;AACAj8D,0BAAQ87D,GAAR,CAAY,CAAZ,EAAe,CAAf,EAAkB/B,EAAlB,EAAsBnP,mDAAKA,CAACU,GAAG6jB,EAAH,GAAQ7jB,GAAGijB,GAAjB,EAAsBjjB,GAAG4jB,EAAH,GAAQ5jB,GAAGgjB,GAAjC,CAAtB,EAA6D1jB,mDAAKA,CAACW,GAAG4jB,EAAH,GAAQ5jB,GAAGgjB,GAAjB,EAAsBhjB,GAAG2jB,EAAH,GAAQ3jB,GAAG+iB,GAAjC,CAA7D,EAAoGrS,EAApG;AACAj8D,0BAAQ87D,GAAR,CAAYvQ,GAAG2jB,EAAf,EAAmB3jB,GAAG4jB,EAAtB,EAA0BY,GAA1B,EAA+BnlB,mDAAKA,CAACW,GAAGgjB,GAAT,EAAchjB,GAAG+iB,GAAjB,CAA/B,EAAsD1jB,mDAAKA,CAACW,GAAG4P,GAAT,EAAc5P,GAAG2P,GAAjB,CAAtD,EAA6E,CAACe,EAA9E;AACD;AACF;;AAED;AAjBK,iBAkBAj8D,QAAQ87D,GAAR,CAAY,CAAZ,EAAe,CAAf,EAAkB/B,EAAlB,EAAsB2V,GAAtB,EAA2BD,GAA3B,EAAgCxT,EAAhC;AACN;;AAEDj8D,YAAQ06D,SAAR;;AAEA,QAAI4U,MAAJ,EAAY,OAAOtvE,UAAU,IAAV,EAAgBsvE,SAAS,EAAT,IAAe,IAAtC;AACb;;AAEDxT,MAAI0U,QAAJ,GAAe,YAAW;AACxB,QAAI9/G,IAAI,CAAC,CAACw8G,YAAY50G,KAAZ,CAAkB,IAAlB,EAAwB2D,SAAxB,CAAD,GAAsC,CAACmxG,YAAY90G,KAAZ,CAAkB,IAAlB,EAAwB2D,SAAxB,CAAxC,IAA8E,CAAtF;AAAA,QACIqa,IAAI,CAAC,CAACg3F,WAAWh1G,KAAX,CAAiB,IAAjB,EAAuB2D,SAAvB,CAAD,GAAqC,CAACuxG,SAASl1G,KAAT,CAAe,IAAf,EAAqB2D,SAArB,CAAvC,IAA0E,CAA1E,GAA8Eg2F,wCAAEA,GAAG,CAD3F;AAEA,WAAO,CAAC78C,iDAAGA,CAAC9+B,CAAJ,IAAS5lB,CAAV,EAAa0+C,iDAAGA,CAAC94B,CAAJ,IAAS5lB,CAAtB,CAAP;AACD,GAJD;;AAMAorG,MAAIoR,WAAJ,GAAkB,UAAS36F,CAAT,EAAY;AAC5B,WAAOtW,UAAU3H,MAAV,IAAoB44G,cAAc,OAAO36F,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAACjpE,CAAV,CAA5C,EAA0DupF,GAA9E,IAAqFoR,WAA5F;AACD,GAFD;;AAIApR,MAAIsR,WAAJ,GAAkB,UAAS76F,CAAT,EAAY;AAC5B,WAAOtW,UAAU3H,MAAV,IAAoB84G,cAAc,OAAO76F,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAACjpE,CAAV,CAA5C,EAA0DupF,GAA9E,IAAqFsR,WAA5F;AACD,GAFD;;AAIAtR,MAAIsT,YAAJ,GAAmB,UAAS78F,CAAT,EAAY;AAC7B,WAAOtW,UAAU3H,MAAV,IAAoB86G,eAAe,OAAO78F,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAACjpE,CAAV,CAA7C,EAA2DupF,GAA/E,IAAsFsT,YAA7F;AACD,GAFD;;AAIAtT,MAAIuT,SAAJ,GAAgB,UAAS98F,CAAT,EAAY;AAC1B,WAAOtW,UAAU3H,MAAV,IAAoB+6G,YAAY98F,KAAK,IAAL,GAAY,IAAZ,GAAmB,OAAOA,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAACjpE,CAAV,CAA7D,EAA2EupF,GAA/F,IAAsGuT,SAA7G;AACD,GAFD;;AAIAvT,MAAIwR,UAAJ,GAAiB,UAAS/6F,CAAT,EAAY;AAC3B,WAAOtW,UAAU3H,MAAV,IAAoBg5G,aAAa,OAAO/6F,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAACjpE,CAAV,CAA3C,EAAyDupF,GAA7E,IAAoFwR,UAA3F;AACD,GAFD;;AAIAxR,MAAI0R,QAAJ,GAAe,UAASj7F,CAAT,EAAY;AACzB,WAAOtW,UAAU3H,MAAV,IAAoBk5G,WAAW,OAAOj7F,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAACjpE,CAAV,CAAzC,EAAuDupF,GAA3E,IAAkF0R,QAAzF;AACD,GAFD;;AAIA1R,MAAI4R,QAAJ,GAAe,UAASn7F,CAAT,EAAY;AACzB,WAAOtW,UAAU3H,MAAV,IAAoBo5G,WAAW,OAAOn7F,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAACjpE,CAAV,CAAzC,EAAuDupF,GAA3E,IAAkF4R,QAAzF;AACD,GAFD;;AAIA5R,MAAI97D,OAAJ,GAAc,UAASztB,CAAT,EAAY;AACxB,WAAOtW,UAAU3H,MAAV,IAAqB0rC,UAAUztB,KAAK,IAAL,GAAY,IAAZ,GAAmBA,CAA9B,EAAkCupF,GAAtD,IAA6D97D,OAApE;AACD,GAFD;;AAIA,SAAO87D,GAAP;AACD,C;;;;;;;;;;;;AClQD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;AAEe,2EAAW;AACxB,MAAI1gB,KAAKq1B,wCAAT;AAAA,MACInwC,KAAK,IADT;AAAA,MAEIy6B,KAAKvf,yDAAQA,CAAC,CAAT,CAFT;AAAA,MAGIjb,KAAKmwC,wCAHT;AAAA,MAIIC,UAAUn1B,yDAAQA,CAAC,IAAT,CAJd;AAAA,MAKIx7C,UAAU,IALd;AAAA,MAMI4wE,QAAQC,qDANZ;AAAA,MAOInS,SAAS,IAPb;;AASA,WAASoS,IAAT,CAAc75G,IAAd,EAAoB;AAClB,QAAIpH,CAAJ;AAAA,QACI8E,CADJ;AAAA,QAEI6oF,CAFJ;AAAA,QAGInsF,IAAI4F,KAAK3C,MAHb;AAAA,QAIIpE,CAJJ;AAAA,QAKI6gH,WAAW,KALf;AAAA,QAMIzB,MANJ;AAAA,QAOI0B,MAAM,IAAIp5G,KAAJ,CAAUvG,CAAV,CAPV;AAAA,QAQI4/G,MAAM,IAAIr5G,KAAJ,CAAUvG,CAAV,CARV;;AAUA,QAAI2uC,WAAW,IAAf,EAAqB0+D,SAASkS,MAAMtB,SAASr8F,oDAAIA,EAAnB,CAAT;;AAErB,SAAKpjB,IAAI,CAAT,EAAYA,KAAKwB,CAAjB,EAAoB,EAAExB,CAAtB,EAAyB;AACvB,UAAI,EAAEA,IAAIwB,CAAJ,IAASs/G,QAAQzgH,IAAI+G,KAAKpH,CAAL,CAAZ,EAAqBA,CAArB,EAAwBoH,IAAxB,CAAX,MAA8C85G,QAAlD,EAA4D;AAC1D,YAAIA,WAAW,CAACA,QAAhB,EAA0B;AACxBp8G,cAAI9E,CAAJ;AACA6uG,iBAAOwS,SAAP;AACAxS,iBAAOyS,SAAP;AACD,SAJD,MAIO;AACLzS,iBAAO0S,OAAP;AACA1S,iBAAOyS,SAAP;AACA,eAAK3zB,IAAI3tF,IAAI,CAAb,EAAgB2tF,KAAK7oF,CAArB,EAAwB,EAAE6oF,CAA1B,EAA6B;AAC3BkhB,mBAAO5P,KAAP,CAAakiB,IAAIxzB,CAAJ,CAAb,EAAqByzB,IAAIzzB,CAAJ,CAArB;AACD;AACDkhB,iBAAO0S,OAAP;AACA1S,iBAAO2S,OAAP;AACD;AACF;AACD,UAAIN,QAAJ,EAAc;AACZC,YAAInhH,CAAJ,IAAS,CAACurF,GAAGlrF,CAAH,EAAML,CAAN,EAASoH,IAAT,CAAV,EAA0Bg6G,IAAIphH,CAAJ,IAAS,CAACkrG,GAAG7qG,CAAH,EAAML,CAAN,EAASoH,IAAT,CAApC;AACAynG,eAAO5P,KAAP,CAAaxuB,KAAK,CAACA,GAAGpwE,CAAH,EAAML,CAAN,EAASoH,IAAT,CAAN,GAAuB+5G,IAAInhH,CAAJ,CAApC,EAA4C0wE,KAAK,CAACA,GAAGrwE,CAAH,EAAML,CAAN,EAASoH,IAAT,CAAN,GAAuBg6G,IAAIphH,CAAJ,CAAnE;AACD;AACF;;AAED,QAAIy/G,MAAJ,EAAY,OAAO5Q,SAAS,IAAT,EAAe4Q,SAAS,EAAT,IAAe,IAArC;AACb;;AAED,WAASgC,QAAT,GAAoB;AAClB,WAAOvzB,qDAAIA,GAAG4yB,OAAP,CAAeA,OAAf,EAAwBC,KAAxB,CAA8BA,KAA9B,EAAqC5wE,OAArC,CAA6CA,OAA7C,CAAP;AACD;;AAED8wE,OAAKn0F,CAAL,GAAS,UAASpK,CAAT,EAAY;AACnB,WAAOtW,UAAU3H,MAAV,IAAoB8mF,KAAK,OAAO7oE,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAACjpE,CAAV,CAAnC,EAAiD+tD,KAAK,IAAtD,EAA4DwwC,IAAhF,IAAwF11B,EAA/F;AACD,GAFD;;AAIA01B,OAAK11B,EAAL,GAAU,UAAS7oE,CAAT,EAAY;AACpB,WAAOtW,UAAU3H,MAAV,IAAoB8mF,KAAK,OAAO7oE,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAACjpE,CAAV,CAAnC,EAAiDu+F,IAArE,IAA6E11B,EAApF;AACD,GAFD;;AAIA01B,OAAKxwC,EAAL,GAAU,UAAS/tD,CAAT,EAAY;AACpB,WAAOtW,UAAU3H,MAAV,IAAoBgsE,KAAK/tD,KAAK,IAAL,GAAY,IAAZ,GAAmB,OAAOA,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAACjpE,CAAV,CAAtD,EAAoEu+F,IAAxF,IAAgGxwC,EAAvG;AACD,GAFD;;AAIAwwC,OAAKpqF,CAAL,GAAS,UAASnU,CAAT,EAAY;AACnB,WAAOtW,UAAU3H,MAAV,IAAoBymG,KAAK,OAAOxoF,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAACjpE,CAAV,CAAnC,EAAiDguD,KAAK,IAAtD,EAA4DuwC,IAAhF,IAAwF/V,EAA/F;AACD,GAFD;;AAIA+V,OAAK/V,EAAL,GAAU,UAASxoF,CAAT,EAAY;AACpB,WAAOtW,UAAU3H,MAAV,IAAoBymG,KAAK,OAAOxoF,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAACjpE,CAAV,CAAnC,EAAiDu+F,IAArE,IAA6E/V,EAApF;AACD,GAFD;;AAIA+V,OAAKvwC,EAAL,GAAU,UAAShuD,CAAT,EAAY;AACpB,WAAOtW,UAAU3H,MAAV,IAAoBisE,KAAKhuD,KAAK,IAAL,GAAY,IAAZ,GAAmB,OAAOA,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAACjpE,CAAV,CAAtD,EAAoEu+F,IAAxF,IAAgGvwC,EAAvG;AACD,GAFD;;AAIAuwC,OAAKS,MAAL,GACAT,KAAKU,MAAL,GAAc,YAAW;AACvB,WAAOF,WAAW30F,CAAX,CAAay+D,EAAb,EAAiB10D,CAAjB,CAAmBq0E,EAAnB,CAAP;AACD,GAHD;;AAKA+V,OAAKW,MAAL,GAAc,YAAW;AACvB,WAAOH,WAAW30F,CAAX,CAAay+D,EAAb,EAAiB10D,CAAjB,CAAmB65C,EAAnB,CAAP;AACD,GAFD;;AAIAuwC,OAAKY,MAAL,GAAc,YAAW;AACvB,WAAOJ,WAAW30F,CAAX,CAAa2jD,EAAb,EAAiB55C,CAAjB,CAAmBq0E,EAAnB,CAAP;AACD,GAFD;;AAIA+V,OAAKH,OAAL,GAAe,UAASp+F,CAAT,EAAY;AACzB,WAAOtW,UAAU3H,MAAV,IAAoBq8G,UAAU,OAAOp+F,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAAC,CAACjpE,CAAX,CAAxC,EAAuDu+F,IAA3E,IAAmFH,OAA1F;AACD,GAFD;;AAIAG,OAAKF,KAAL,GAAa,UAASr+F,CAAT,EAAY;AACvB,WAAOtW,UAAU3H,MAAV,IAAoBs8G,QAAQr+F,CAAR,EAAWytB,WAAW,IAAX,KAAoB0+D,SAASkS,MAAM5wE,OAAN,CAA7B,CAAX,EAAyD8wE,IAA7E,IAAqFF,KAA5F;AACD,GAFD;;AAIAE,OAAK9wE,OAAL,GAAe,UAASztB,CAAT,EAAY;AACzB,WAAOtW,UAAU3H,MAAV,IAAoBie,KAAK,IAAL,GAAYytB,UAAU0+D,SAAS,IAA/B,GAAsCA,SAASkS,MAAM5wE,UAAUztB,CAAhB,CAA/C,EAAmEu+F,IAAvF,IAA+F9wE,OAAtG;AACD,GAFD;;AAIA,SAAO8wE,IAAP;AACD,C;;;;;;;;;;;;AC5GD;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAEA,+DAAe,YAAW;AACxB,MAAIx6F,IAAIw6F,qDAAIA,GAAGF,KAAP,CAAae,+DAAb,CAAR;AAAA,MACI1hH,IAAIqmB,EAAEs6F,KADV;AAAA,MAEIx1B,KAAK9kE,EAAEi7F,MAFX;AAAA,MAGIjxC,KAAKhqD,EAAEo7F,MAHX;AAAA,MAII3W,KAAKzkF,EAAEk7F,MAJX;AAAA,MAKIjxC,KAAKjqD,EAAEm7F,MALX;;AAOAn7F,IAAE4+B,KAAF,GAAU5+B,EAAEqG,CAAZ,EAAe,OAAOrG,EAAEqG,CAAxB;AACArG,IAAEg3F,UAAF,GAAeh3F,EAAE8kE,EAAjB,EAAqB,OAAO9kE,EAAE8kE,EAA9B;AACA9kE,IAAEk3F,QAAF,GAAal3F,EAAEgqD,EAAf,EAAmB,OAAOhqD,EAAEgqD,EAA5B;AACAhqD,IAAEs7F,MAAF,GAAWt7F,EAAEoQ,CAAb,EAAgB,OAAOpQ,EAAEoQ,CAAzB;AACApQ,IAAE42F,WAAF,GAAgB52F,EAAEykF,EAAlB,EAAsB,OAAOzkF,EAAEykF,EAA/B;AACAzkF,IAAE82F,WAAF,GAAgB92F,EAAEiqD,EAAlB,EAAsB,OAAOjqD,EAAEiqD,EAA/B;AACAjqD,IAAEu7F,cAAF,GAAmB,YAAW;AAAE,WAAOC,8DAAUA,CAAC12B,IAAX,CAAP;AAA0B,GAA1D,EAA4D,OAAO9kE,EAAEi7F,MAArE;AACAj7F,IAAEy7F,YAAF,GAAiB,YAAW;AAAE,WAAOD,8DAAUA,CAACxxC,IAAX,CAAP;AAA0B,GAAxD,EAA0D,OAAOhqD,EAAEo7F,MAAnE;AACAp7F,IAAE07F,eAAF,GAAoB,YAAW;AAAE,WAAOF,8DAAUA,CAAC/W,IAAX,CAAP;AAA0B,GAA3D,EAA6D,OAAOzkF,EAAEk7F,MAAtE;AACAl7F,IAAE27F,eAAF,GAAoB,YAAW;AAAE,WAAOH,8DAAUA,CAACvxC,IAAX,CAAP;AAA0B,GAA3D,EAA6D,OAAOjqD,EAAEm7F,MAAtE;;AAEAn7F,IAAEs6F,KAAF,GAAU,UAASr+F,CAAT,EAAY;AACpB,WAAOtW,UAAU3H,MAAV,GAAmBrE,EAAEiiH,6DAAWA,CAAC3/F,CAAZ,CAAF,CAAnB,GAAuCtiB,IAAIkiH,MAAlD;AACD,GAFD;;AAIA,SAAO77F,CAAP;AACD,C;;;;;;;;;;;;AC5BD;AAAA;AAAO,IAAI1hB,QAAQgD,MAAMlG,SAAN,CAAgBkD,KAA5B,C;;;;;;;;;;;;ACAP;AAAe,yEAAS+nB,CAAT,EAAY;AACzB,SAAO,SAAS6+D,QAAT,GAAoB;AACzB,WAAO7+D,CAAP;AACD,GAFD;AAGD,C;;;;;;;;;;;;;;;;ACJM,SAASmyE,MAAT,CAAejC,IAAf,EAAqBlwE,CAArB,EAAwB+J,CAAxB,EAA2B;AAChCmmE,OAAKxZ,QAAL,CAAcwnB,aAAd,CACE,CAAC,IAAIhO,KAAKwN,GAAT,GAAexN,KAAK0N,GAArB,IAA4B,CAD9B,EAEE,CAAC,IAAI1N,KAAKyN,GAAT,GAAezN,KAAK2N,GAArB,IAA4B,CAF9B,EAGE,CAAC3N,KAAKwN,GAAL,GAAW,IAAIxN,KAAK0N,GAArB,IAA4B,CAH9B,EAIE,CAAC1N,KAAKyN,GAAL,GAAW,IAAIzN,KAAK2N,GAArB,IAA4B,CAJ9B,EAKE,CAAC3N,KAAKwN,GAAL,GAAW,IAAIxN,KAAK0N,GAApB,GAA0B59E,CAA3B,IAAgC,CALlC,EAME,CAACkwE,KAAKyN,GAAL,GAAW,IAAIzN,KAAK2N,GAApB,GAA0B9zE,CAA3B,IAAgC,CANlC;AAQD;;AAEM,SAAS0rF,KAAT,CAAepyE,OAAf,EAAwB;AAC7B,OAAKqzC,QAAL,GAAgBrzC,OAAhB;AACD;;AAEDoyE,MAAM1gH,SAAN,GAAkB;AAChBw/G,aAAW,qBAAW;AACpB,SAAKmB,KAAL,GAAa,CAAb;AACD,GAHe;AAIhBhB,WAAS,mBAAW;AAClB,SAAKgB,KAAL,GAAat4B,GAAb;AACD,GANe;AAOhBo3B,aAAW,qBAAW;AACpB,SAAK9W,GAAL,GAAW,KAAKE,GAAL,GACX,KAAKD,GAAL,GAAW,KAAKE,GAAL,GAAWzgB,GADtB;AAEA,SAAKu4B,MAAL,GAAc,CAAd;AACD,GAXe;AAYhBlB,WAAS,mBAAW;AAClB,YAAQ,KAAKkB,MAAb;AACE,WAAK,CAAL;AAAQxjB,eAAM,IAAN,EAAY,KAAKyL,GAAjB,EAAsB,KAAKC,GAA3B,EADV,CAC2C;AACzC,WAAK,CAAL;AAAQ,aAAKnnB,QAAL,CAAcsnB,MAAd,CAAqB,KAAKJ,GAA1B,EAA+B,KAAKC,GAApC,EAA0C;AAFpD;AAIA,QAAI,KAAK6X,KAAL,IAAe,KAAKA,KAAL,KAAe,CAAf,IAAoB,KAAKC,MAAL,KAAgB,CAAvD,EAA2D,KAAKj/B,QAAL,CAAcqnB,SAAd;AAC3D,SAAK2X,KAAL,GAAa,IAAI,KAAKA,KAAtB;AACD,GAnBe;AAoBhBvjB,SAAO,eAASnyE,CAAT,EAAY+J,CAAZ,EAAe;AACpB/J,QAAI,CAACA,CAAL,EAAQ+J,IAAI,CAACA,CAAb;AACA,YAAQ,KAAK4rF,MAAb;AACE,WAAK,CAAL;AAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB,KAAKD,KAAL,GAAa,KAAKh/B,QAAL,CAAcsnB,MAAd,CAAqBh+E,CAArB,EAAwB+J,CAAxB,CAAb,GAA0C,KAAK2sD,QAAL,CAAconB,MAAd,CAAqB99E,CAArB,EAAwB+J,CAAxB,CAA1C,CAAsE;AAC/F,WAAK,CAAL;AAAQ,aAAK4rF,MAAL,GAAc,CAAd,CAAiB;AACzB,WAAK,CAAL;AAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB,KAAKj/B,QAAL,CAAcsnB,MAAd,CAAqB,CAAC,IAAI,KAAKN,GAAT,GAAe,KAAKE,GAArB,IAA4B,CAAjD,EAAoD,CAAC,IAAI,KAAKD,GAAT,GAAe,KAAKE,GAArB,IAA4B,CAAhF,EAH3B,CAG+G;AAC7G;AAAS1L,eAAM,IAAN,EAAYnyE,CAAZ,EAAe+J,CAAf,EAAmB;AAJ9B;AAMA,SAAK2zE,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW59E,CAAhC;AACA,SAAK29E,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW9zE,CAAhC;AACD;AA9Be,CAAlB;;AAiCe,yEAASsZ,OAAT,EAAkB;AAC/B,SAAO,IAAIoyE,KAAJ,CAAUpyE,OAAV,CAAP;AACD,C;;;;;;;;;;;;AClDD;AAAA;AAAA;AAAA;AACA;;AAEA,SAASuyE,WAAT,CAAqBvyE,OAArB,EAA8B;AAC5B,OAAKqzC,QAAL,GAAgBrzC,OAAhB;AACD;;AAEDuyE,YAAY7gH,SAAZ,GAAwB;AACtBw/G,aAAW5kB,6CADW;AAEtB+kB,WAAS/kB,6CAFa;AAGtB6kB,aAAW,qBAAW;AACpB,SAAK9W,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAKiY,GAAL,GAAW,KAAKC,GAAL,GAAW,KAAKC,GAAL,GAC5C,KAAKpY,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAKmY,GAAL,GAAW,KAAKC,GAAL,GAAW,KAAKC,GAAL,GAAW94B,GADvD;AAEA,SAAKu4B,MAAL,GAAc,CAAd;AACD,GAPqB;AAQtBlB,WAAS,mBAAW;AAClB,YAAQ,KAAKkB,MAAb;AACE,WAAK,CAAL;AAAQ;AACN,eAAKj/B,QAAL,CAAconB,MAAd,CAAqB,KAAK+X,GAA1B,EAA+B,KAAKG,GAApC;AACA,eAAKt/B,QAAL,CAAcqnB,SAAd;AACA;AACD;AACD,WAAK,CAAL;AAAQ;AACN,eAAKrnB,QAAL,CAAconB,MAAd,CAAqB,CAAC,KAAK+X,GAAL,GAAW,IAAI,KAAKC,GAArB,IAA4B,CAAjD,EAAoD,CAAC,KAAKE,GAAL,GAAW,IAAI,KAAKC,GAArB,IAA4B,CAAhF;AACA,eAAKv/B,QAAL,CAAcsnB,MAAd,CAAqB,CAAC,KAAK8X,GAAL,GAAW,IAAI,KAAKD,GAArB,IAA4B,CAAjD,EAAoD,CAAC,KAAKI,GAAL,GAAW,IAAI,KAAKD,GAArB,IAA4B,CAAhF;AACA,eAAKt/B,QAAL,CAAcqnB,SAAd;AACA;AACD;AACD,WAAK,CAAL;AAAQ;AACN,eAAK5L,KAAL,CAAW,KAAK0jB,GAAhB,EAAqB,KAAKG,GAA1B;AACA,eAAK7jB,KAAL,CAAW,KAAK2jB,GAAhB,EAAqB,KAAKG,GAA1B;AACA,eAAK9jB,KAAL,CAAW,KAAK4jB,GAAhB,EAAqB,KAAKG,GAA1B;AACA;AACD;AAjBH;AAmBD,GA5BqB;AA6BtB/jB,SAAO,eAASnyE,CAAT,EAAY+J,CAAZ,EAAe;AACpB/J,QAAI,CAACA,CAAL,EAAQ+J,IAAI,CAACA,CAAb;AACA,YAAQ,KAAK4rF,MAAb;AACE,WAAK,CAAL;AAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB,KAAKE,GAAL,GAAW71F,CAAX,EAAc,KAAKg2F,GAAL,GAAWjsF,CAAzB,CAA4B;AACrD,WAAK,CAAL;AAAQ,aAAK4rF,MAAL,GAAc,CAAd,CAAiB,KAAKG,GAAL,GAAW91F,CAAX,EAAc,KAAKi2F,GAAL,GAAWlsF,CAAzB,CAA4B;AACrD,WAAK,CAAL;AAAQ,aAAK4rF,MAAL,GAAc,CAAd,CAAiB,KAAKI,GAAL,GAAW/1F,CAAX,EAAc,KAAKk2F,GAAL,GAAWnsF,CAAzB,CAA4B,KAAK2sD,QAAL,CAAconB,MAAd,CAAqB,CAAC,KAAKJ,GAAL,GAAW,IAAI,KAAKE,GAApB,GAA0B59E,CAA3B,IAAgC,CAArD,EAAwD,CAAC,KAAK29E,GAAL,GAAW,IAAI,KAAKE,GAApB,GAA0B9zE,CAA3B,IAAgC,CAAxF,EAA4F;AACjJ;AAASooE,6DAAM,IAAN,EAAYnyE,CAAZ,EAAe+J,CAAf,EAAmB;AAJ9B;AAMA,SAAK2zE,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW59E,CAAhC;AACA,SAAK29E,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW9zE,CAAhC;AACD;AAvCqB,CAAxB;;AA0Ce,yEAASsZ,OAAT,EAAkB;AAC/B,SAAO,IAAIuyE,WAAJ,CAAgBvyE,OAAhB,CAAP;AACD,C;;;;;;;;;;;;ACnDD;AAAA;AAAA;;AAEA,SAAS8yE,SAAT,CAAmB9yE,OAAnB,EAA4B;AAC1B,OAAKqzC,QAAL,GAAgBrzC,OAAhB;AACD;;AAED8yE,UAAUphH,SAAV,GAAsB;AACpBw/G,aAAW,qBAAW;AACpB,SAAKmB,KAAL,GAAa,CAAb;AACD,GAHmB;AAIpBhB,WAAS,mBAAW;AAClB,SAAKgB,KAAL,GAAat4B,GAAb;AACD,GANmB;AAOpBo3B,aAAW,qBAAW;AACpB,SAAK9W,GAAL,GAAW,KAAKE,GAAL,GACX,KAAKD,GAAL,GAAW,KAAKE,GAAL,GAAWzgB,GADtB;AAEA,SAAKu4B,MAAL,GAAc,CAAd;AACD,GAXmB;AAYpBlB,WAAS,mBAAW;AAClB,QAAI,KAAKiB,KAAL,IAAe,KAAKA,KAAL,KAAe,CAAf,IAAoB,KAAKC,MAAL,KAAgB,CAAvD,EAA2D,KAAKj/B,QAAL,CAAcqnB,SAAd;AAC3D,SAAK2X,KAAL,GAAa,IAAI,KAAKA,KAAtB;AACD,GAfmB;AAgBpBvjB,SAAO,eAASnyE,CAAT,EAAY+J,CAAZ,EAAe;AACpB/J,QAAI,CAACA,CAAL,EAAQ+J,IAAI,CAACA,CAAb;AACA,YAAQ,KAAK4rF,MAAb;AACE,WAAK,CAAL;AAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB;AACzB,WAAK,CAAL;AAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB;AACzB,WAAK,CAAL;AAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB,IAAIl3B,KAAK,CAAC,KAAKif,GAAL,GAAW,IAAI,KAAKE,GAApB,GAA0B59E,CAA3B,IAAgC,CAAzC;AAAA,YAA4Co+E,KAAK,CAAC,KAAKT,GAAL,GAAW,IAAI,KAAKE,GAApB,GAA0B9zE,CAA3B,IAAgC,CAAjF,CAAoF,KAAK2rF,KAAL,GAAa,KAAKh/B,QAAL,CAAcsnB,MAAd,CAAqBvf,EAArB,EAAyB2f,EAAzB,CAAb,GAA4C,KAAK1nB,QAAL,CAAconB,MAAd,CAAqBrf,EAArB,EAAyB2f,EAAzB,CAA5C,CAA0E;AACvL,WAAK,CAAL;AAAQ,aAAKuX,MAAL,GAAc,CAAd,CAJV,CAI2B;AACzB;AAASxjB,6DAAM,IAAN,EAAYnyE,CAAZ,EAAe+J,CAAf,EAAmB;AAL9B;AAOA,SAAK2zE,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW59E,CAAhC;AACA,SAAK29E,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW9zE,CAAhC;AACD;AA3BmB,CAAtB;;AA8Be,yEAASsZ,OAAT,EAAkB;AAC/B,SAAO,IAAI8yE,SAAJ,CAAc9yE,OAAd,CAAP;AACD,C;;;;;;;;;;;;ACtCD;AAAA;AAAA;;AAEA,SAAS+yE,MAAT,CAAgB/yE,OAAhB,EAAyBgzE,IAAzB,EAA+B;AAC7B,OAAKC,MAAL,GAAc,IAAIb,4CAAJ,CAAUpyE,OAAV,CAAd;AACA,OAAKkzE,KAAL,GAAaF,IAAb;AACD;;AAEDD,OAAOrhH,SAAP,GAAmB;AACjBy/G,aAAW,qBAAW;AACpB,SAAKgC,EAAL,GAAU,EAAV;AACA,SAAKC,EAAL,GAAU,EAAV;AACA,SAAKH,MAAL,CAAY9B,SAAZ;AACD,GALgB;AAMjBC,WAAS,mBAAW;AAClB,QAAIz0F,IAAI,KAAKw2F,EAAb;AAAA,QACIzsF,IAAI,KAAK0sF,EADb;AAAA,QAEIz+G,IAAIgoB,EAAEroB,MAAF,GAAW,CAFnB;;AAIA,QAAIK,IAAI,CAAR,EAAW;AACT,UAAIymF,KAAKz+D,EAAE,CAAF,CAAT;AAAA,UACIo+E,KAAKr0E,EAAE,CAAF,CADT;AAAA,UAEIksC,KAAKj2C,EAAEhoB,CAAF,IAAOymF,EAFhB;AAAA,UAGIvoB,KAAKnsC,EAAE/xB,CAAF,IAAOomG,EAHhB;AAAA,UAIIlrG,IAAI,CAAC,CAJT;AAAA,UAKIiB,CALJ;;AAOA,aAAO,EAAEjB,CAAF,IAAO8E,CAAd,EAAiB;AACf7D,YAAIjB,IAAI8E,CAAR;AACA,aAAKs+G,MAAL,CAAYnkB,KAAZ,CACE,KAAKokB,KAAL,GAAav2F,EAAE9sB,CAAF,CAAb,GAAoB,CAAC,IAAI,KAAKqjH,KAAV,KAAoB93B,KAAKtqF,IAAI8hE,EAA7B,CADtB,EAEE,KAAKsgD,KAAL,GAAaxsF,EAAE72B,CAAF,CAAb,GAAoB,CAAC,IAAI,KAAKqjH,KAAV,KAAoBnY,KAAKjqG,IAAI+hE,EAA7B,CAFtB;AAID;AACF;;AAED,SAAKsgD,EAAL,GAAU,KAAKC,EAAL,GAAU,IAApB;AACA,SAAKH,MAAL,CAAY7B,OAAZ;AACD,GA9BgB;AA+BjBtiB,SAAO,eAASnyE,CAAT,EAAY+J,CAAZ,EAAe;AACpB,SAAKysF,EAAL,CAAQt/G,IAAR,CAAa,CAAC8oB,CAAd;AACA,SAAKy2F,EAAL,CAAQv/G,IAAR,CAAa,CAAC6yB,CAAd;AACD;AAlCgB,CAAnB;;AAqCe,gEAAC,SAASkpE,MAAT,CAAgBojB,IAAhB,EAAsB;;AAEpC,WAASK,MAAT,CAAgBrzE,OAAhB,EAAyB;AACvB,WAAOgzE,SAAS,CAAT,GAAa,IAAIZ,4CAAJ,CAAUpyE,OAAV,CAAb,GAAkC,IAAI+yE,MAAJ,CAAW/yE,OAAX,EAAoBgzE,IAApB,CAAzC;AACD;;AAEDK,SAAOL,IAAP,GAAc,UAASA,IAAT,EAAe;AAC3B,WAAOpjB,OAAO,CAACojB,IAAR,CAAP;AACD,GAFD;;AAIA,SAAOK,MAAP;AACD,CAXc,EAWZ,IAXY,CAAf,E;;;;;;;;;;;;;;;;AC5CO,SAASvkB,MAAT,CAAejC,IAAf,EAAqBlwE,CAArB,EAAwB+J,CAAxB,EAA2B;AAChCmmE,OAAKxZ,QAAL,CAAcwnB,aAAd,CACEhO,KAAK0N,GAAL,GAAW1N,KAAKymB,EAAL,IAAWzmB,KAAK2lB,GAAL,GAAW3lB,KAAKwN,GAA3B,CADb,EAEExN,KAAK2N,GAAL,GAAW3N,KAAKymB,EAAL,IAAWzmB,KAAK8lB,GAAL,GAAW9lB,KAAKyN,GAA3B,CAFb,EAGEzN,KAAK2lB,GAAL,GAAW3lB,KAAKymB,EAAL,IAAWzmB,KAAK0N,GAAL,GAAW59E,CAAtB,CAHb,EAIEkwE,KAAK8lB,GAAL,GAAW9lB,KAAKymB,EAAL,IAAWzmB,KAAK2N,GAAL,GAAW9zE,CAAtB,CAJb,EAKEmmE,KAAK2lB,GALP,EAME3lB,KAAK8lB,GANP;AAQD;;AAEM,SAASY,QAAT,CAAkBvzE,OAAlB,EAA2BwzE,OAA3B,EAAoC;AACzC,OAAKngC,QAAL,GAAgBrzC,OAAhB;AACA,OAAKszE,EAAL,GAAU,CAAC,IAAIE,OAAL,IAAgB,CAA1B;AACD;;AAEDD,SAAS7hH,SAAT,GAAqB;AACnBw/G,aAAW,qBAAW;AACpB,SAAKmB,KAAL,GAAa,CAAb;AACD,GAHkB;AAInBhB,WAAS,mBAAW;AAClB,SAAKgB,KAAL,GAAat4B,GAAb;AACD,GANkB;AAOnBo3B,aAAW,qBAAW;AACpB,SAAK9W,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAKiY,GAAL,GACtB,KAAKlY,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAKmY,GAAL,GAAW54B,GADjC;AAEA,SAAKu4B,MAAL,GAAc,CAAd;AACD,GAXkB;AAYnBlB,WAAS,mBAAW;AAClB,YAAQ,KAAKkB,MAAb;AACE,WAAK,CAAL;AAAQ,aAAKj/B,QAAL,CAAcsnB,MAAd,CAAqB,KAAK6X,GAA1B,EAA+B,KAAKG,GAApC,EAA0C;AAClD,WAAK,CAAL;AAAQ7jB,eAAM,IAAN,EAAY,KAAKyL,GAAjB,EAAsB,KAAKC,GAA3B,EAAiC;AAF3C;AAIA,QAAI,KAAK6X,KAAL,IAAe,KAAKA,KAAL,KAAe,CAAf,IAAoB,KAAKC,MAAL,KAAgB,CAAvD,EAA2D,KAAKj/B,QAAL,CAAcqnB,SAAd;AAC3D,SAAK2X,KAAL,GAAa,IAAI,KAAKA,KAAtB;AACD,GAnBkB;AAoBnBvjB,SAAO,eAASnyE,CAAT,EAAY+J,CAAZ,EAAe;AACpB/J,QAAI,CAACA,CAAL,EAAQ+J,IAAI,CAACA,CAAb;AACA,YAAQ,KAAK4rF,MAAb;AACE,WAAK,CAAL;AAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB,KAAKD,KAAL,GAAa,KAAKh/B,QAAL,CAAcsnB,MAAd,CAAqBh+E,CAArB,EAAwB+J,CAAxB,CAAb,GAA0C,KAAK2sD,QAAL,CAAconB,MAAd,CAAqB99E,CAArB,EAAwB+J,CAAxB,CAA1C,CAAsE;AAC/F,WAAK,CAAL;AAAQ,aAAK4rF,MAAL,GAAc,CAAd,CAAiB,KAAK/X,GAAL,GAAW59E,CAAX,EAAc,KAAK69E,GAAL,GAAW9zE,CAAzB,CAA4B;AACrD,WAAK,CAAL;AAAQ,aAAK4rF,MAAL,GAAc,CAAd,CAHV,CAG2B;AACzB;AAASxjB,eAAM,IAAN,EAAYnyE,CAAZ,EAAe+J,CAAf,EAAmB;AAJ9B;AAMA,SAAK2zE,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW,KAAKiY,GAArC,EAA0C,KAAKA,GAAL,GAAW71F,CAArD;AACA,SAAK29E,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW,KAAKmY,GAArC,EAA0C,KAAKA,GAAL,GAAWjsF,CAArD;AACD;AA9BkB,CAArB;;AAiCe,gEAAC,SAASkpE,MAAT,CAAgB4jB,OAAhB,EAAyB;;AAEvC,WAASC,QAAT,CAAkBzzE,OAAlB,EAA2B;AACzB,WAAO,IAAIuzE,QAAJ,CAAavzE,OAAb,EAAsBwzE,OAAtB,CAAP;AACD;;AAEDC,WAASD,OAAT,GAAmB,UAASA,OAAT,EAAkB;AACnC,WAAO5jB,OAAO,CAAC4jB,OAAR,CAAP;AACD,GAFD;;AAIA,SAAOC,QAAP;AACD,CAXc,EAWZ,CAXY,CAAf,E;;;;;;;;;;;;ACjDA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,SAASC,cAAT,CAAwB1zE,OAAxB,EAAiCwzE,OAAjC,EAA0C;AAC/C,OAAKngC,QAAL,GAAgBrzC,OAAhB;AACA,OAAKszE,EAAL,GAAU,CAAC,IAAIE,OAAL,IAAgB,CAA1B;AACD;;AAEDE,eAAehiH,SAAf,GAA2B;AACzBw/G,aAAW5kB,6CADc;AAEzB+kB,WAAS/kB,6CAFgB;AAGzB6kB,aAAW,qBAAW;AACpB,SAAK9W,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAKiY,GAAL,GAAW,KAAKC,GAAL,GAAW,KAAKC,GAAL,GAAW,KAAKiB,GAAL,GACvD,KAAKrZ,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAKmY,GAAL,GAAW,KAAKC,GAAL,GAAW,KAAKC,GAAL,GAAW,KAAKe,GAAL,GAAW75B,GADlE;AAEA,SAAKu4B,MAAL,GAAc,CAAd;AACD,GAPwB;AAQzBlB,WAAS,mBAAW;AAClB,YAAQ,KAAKkB,MAAb;AACE,WAAK,CAAL;AAAQ;AACN,eAAKj/B,QAAL,CAAconB,MAAd,CAAqB,KAAKgY,GAA1B,EAA+B,KAAKG,GAApC;AACA,eAAKv/B,QAAL,CAAcqnB,SAAd;AACA;AACD;AACD,WAAK,CAAL;AAAQ;AACN,eAAKrnB,QAAL,CAAcsnB,MAAd,CAAqB,KAAK8X,GAA1B,EAA+B,KAAKG,GAApC;AACA,eAAKv/B,QAAL,CAAcqnB,SAAd;AACA;AACD;AACD,WAAK,CAAL;AAAQ;AACN,eAAK5L,KAAL,CAAW,KAAK2jB,GAAhB,EAAqB,KAAKG,GAA1B;AACA,eAAK9jB,KAAL,CAAW,KAAK4jB,GAAhB,EAAqB,KAAKG,GAA1B;AACA,eAAK/jB,KAAL,CAAW,KAAK6kB,GAAhB,EAAqB,KAAKC,GAA1B;AACA;AACD;AAhBH;AAkBD,GA3BwB;AA4BzB9kB,SAAO,eAASnyE,CAAT,EAAY+J,CAAZ,EAAe;AACpB/J,QAAI,CAACA,CAAL,EAAQ+J,IAAI,CAACA,CAAb;AACA,YAAQ,KAAK4rF,MAAb;AACE,WAAK,CAAL;AAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB,KAAKG,GAAL,GAAW91F,CAAX,EAAc,KAAKi2F,GAAL,GAAWlsF,CAAzB,CAA4B;AACrD,WAAK,CAAL;AAAQ,aAAK4rF,MAAL,GAAc,CAAd,CAAiB,KAAKj/B,QAAL,CAAconB,MAAd,CAAqB,KAAKiY,GAAL,GAAW/1F,CAAhC,EAAmC,KAAKk2F,GAAL,GAAWnsF,CAA9C,EAAkD;AAC3E,WAAK,CAAL;AAAQ,aAAK4rF,MAAL,GAAc,CAAd,CAAiB,KAAKqB,GAAL,GAAWh3F,CAAX,EAAc,KAAKi3F,GAAL,GAAWltF,CAAzB,CAA4B;AACrD;AAASooE,gEAAM,IAAN,EAAYnyE,CAAZ,EAAe+J,CAAf,EAAmB;AAJ9B;AAMA,SAAK2zE,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW,KAAKiY,GAArC,EAA0C,KAAKA,GAAL,GAAW71F,CAArD;AACA,SAAK29E,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW,KAAKmY,GAArC,EAA0C,KAAKA,GAAL,GAAWjsF,CAArD;AACD;AAtCwB,CAA3B;;AAyCe,gEAAC,SAASkpE,MAAT,CAAgB4jB,OAAhB,EAAyB;;AAEvC,WAASC,QAAT,CAAkBzzE,OAAlB,EAA2B;AACzB,WAAO,IAAI0zE,cAAJ,CAAmB1zE,OAAnB,EAA4BwzE,OAA5B,CAAP;AACD;;AAEDC,WAASD,OAAT,GAAmB,UAASA,OAAT,EAAkB;AACnC,WAAO5jB,OAAO,CAAC4jB,OAAR,CAAP;AACD,GAFD;;AAIA,SAAOC,QAAP;AACD,CAXc,EAWZ,CAXY,CAAf,E;;;;;;;;;;;;ACjDA;AAAA;AAAA;AAAA;;AAEO,SAASI,YAAT,CAAsB7zE,OAAtB,EAA+BwzE,OAA/B,EAAwC;AAC7C,OAAKngC,QAAL,GAAgBrzC,OAAhB;AACA,OAAKszE,EAAL,GAAU,CAAC,IAAIE,OAAL,IAAgB,CAA1B;AACD;;AAEDK,aAAaniH,SAAb,GAAyB;AACvBw/G,aAAW,qBAAW;AACpB,SAAKmB,KAAL,GAAa,CAAb;AACD,GAHsB;AAIvBhB,WAAS,mBAAW;AAClB,SAAKgB,KAAL,GAAat4B,GAAb;AACD,GANsB;AAOvBo3B,aAAW,qBAAW;AACpB,SAAK9W,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAKiY,GAAL,GACtB,KAAKlY,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAKmY,GAAL,GAAW54B,GADjC;AAEA,SAAKu4B,MAAL,GAAc,CAAd;AACD,GAXsB;AAYvBlB,WAAS,mBAAW;AAClB,QAAI,KAAKiB,KAAL,IAAe,KAAKA,KAAL,KAAe,CAAf,IAAoB,KAAKC,MAAL,KAAgB,CAAvD,EAA2D,KAAKj/B,QAAL,CAAcqnB,SAAd;AAC3D,SAAK2X,KAAL,GAAa,IAAI,KAAKA,KAAtB;AACD,GAfsB;AAgBvBvjB,SAAO,eAASnyE,CAAT,EAAY+J,CAAZ,EAAe;AACpB/J,QAAI,CAACA,CAAL,EAAQ+J,IAAI,CAACA,CAAb;AACA,YAAQ,KAAK4rF,MAAb;AACE,WAAK,CAAL;AAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB;AACzB,WAAK,CAAL;AAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB;AACzB,WAAK,CAAL;AAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB,KAAKD,KAAL,GAAa,KAAKh/B,QAAL,CAAcsnB,MAAd,CAAqB,KAAK6X,GAA1B,EAA+B,KAAKG,GAApC,CAAb,GAAwD,KAAKt/B,QAAL,CAAconB,MAAd,CAAqB,KAAK+X,GAA1B,EAA+B,KAAKG,GAApC,CAAxD,CAAkG;AAC3H,WAAK,CAAL;AAAQ,aAAKL,MAAL,GAAc,CAAd,CAJV,CAI2B;AACzB;AAASxjB,gEAAM,IAAN,EAAYnyE,CAAZ,EAAe+J,CAAf,EAAmB;AAL9B;AAOA,SAAK2zE,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW,KAAKiY,GAArC,EAA0C,KAAKA,GAAL,GAAW71F,CAArD;AACA,SAAK29E,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW,KAAKmY,GAArC,EAA0C,KAAKA,GAAL,GAAWjsF,CAArD;AACD;AA3BsB,CAAzB;;AA8Be,gEAAC,SAASkpE,MAAT,CAAgB4jB,OAAhB,EAAyB;;AAEvC,WAASC,QAAT,CAAkBzzE,OAAlB,EAA2B;AACzB,WAAO,IAAI6zE,YAAJ,CAAiB7zE,OAAjB,EAA0BwzE,OAA1B,CAAP;AACD;;AAEDC,WAASD,OAAT,GAAmB,UAASA,OAAT,EAAkB;AACnC,WAAO5jB,OAAO,CAAC4jB,OAAR,CAAP;AACD,GAFD;;AAIA,SAAOC,QAAP;AACD,CAXc,EAWZ,CAXY,CAAf,E;;;;;;;;;;;;;;;;;ACrCA;AACA;;AAEO,SAAS3kB,MAAT,CAAejC,IAAf,EAAqBlwE,CAArB,EAAwB+J,CAAxB,EAA2B;AAChC,MAAI45C,KAAKusB,KAAK0N,GAAd;AAAA,MACIh6B,KAAKssB,KAAK2N,GADd;AAAA,MAEIznC,KAAK85B,KAAK2lB,GAFd;AAAA,MAGI1/C,KAAK+5B,KAAK8lB,GAHd;;AAKA,MAAI9lB,KAAKinB,MAAL,GAAc72B,6CAAlB,EAA2B;AACzB,QAAI3mE,IAAI,IAAIu2E,KAAKknB,OAAT,GAAmB,IAAIlnB,KAAKinB,MAAT,GAAkBjnB,KAAKmnB,MAA1C,GAAmDnnB,KAAKonB,OAAhE;AAAA,QACI5iH,IAAI,IAAIw7F,KAAKinB,MAAT,IAAmBjnB,KAAKinB,MAAL,GAAcjnB,KAAKmnB,MAAtC,CADR;AAEA1zC,SAAK,CAACA,KAAKhqD,CAAL,GAASu2E,KAAKwN,GAAL,GAAWxN,KAAKonB,OAAzB,GAAmCpnB,KAAK2lB,GAAL,GAAW3lB,KAAKknB,OAApD,IAA+D1iH,CAApE;AACAkvE,SAAK,CAACA,KAAKjqD,CAAL,GAASu2E,KAAKyN,GAAL,GAAWzN,KAAKonB,OAAzB,GAAmCpnB,KAAK8lB,GAAL,GAAW9lB,KAAKknB,OAApD,IAA+D1iH,CAApE;AACD;;AAED,MAAIw7F,KAAKqnB,MAAL,GAAcj3B,6CAAlB,EAA2B;AACzB,QAAI1mE,IAAI,IAAIs2E,KAAKsnB,OAAT,GAAmB,IAAItnB,KAAKqnB,MAAT,GAAkBrnB,KAAKmnB,MAA1C,GAAmDnnB,KAAKonB,OAAhE;AAAA,QACIjkH,IAAI,IAAI68F,KAAKqnB,MAAT,IAAmBrnB,KAAKqnB,MAAL,GAAcrnB,KAAKmnB,MAAtC,CADR;AAEAjhD,SAAK,CAACA,KAAKx8C,CAAL,GAASs2E,KAAK0N,GAAL,GAAW1N,KAAKsnB,OAAzB,GAAmCx3F,IAAIkwE,KAAKonB,OAA7C,IAAwDjkH,CAA7D;AACA8iE,SAAK,CAACA,KAAKv8C,CAAL,GAASs2E,KAAK2N,GAAL,GAAW3N,KAAKsnB,OAAzB,GAAmCztF,IAAImmE,KAAKonB,OAA7C,IAAwDjkH,CAA7D;AACD;;AAED68F,OAAKxZ,QAAL,CAAcwnB,aAAd,CAA4Bv6B,EAA5B,EAAgCC,EAAhC,EAAoCxN,EAApC,EAAwCD,EAAxC,EAA4C+5B,KAAK2lB,GAAjD,EAAsD3lB,KAAK8lB,GAA3D;AACD;;AAED,SAASyB,UAAT,CAAoBp0E,OAApB,EAA6Bq0E,KAA7B,EAAoC;AAClC,OAAKhhC,QAAL,GAAgBrzC,OAAhB;AACA,OAAKs0E,MAAL,GAAcD,KAAd;AACD;;AAEDD,WAAW1iH,SAAX,GAAuB;AACrBw/G,aAAW,qBAAW;AACpB,SAAKmB,KAAL,GAAa,CAAb;AACD,GAHoB;AAIrBhB,WAAS,mBAAW;AAClB,SAAKgB,KAAL,GAAat4B,GAAb;AACD,GANoB;AAOrBo3B,aAAW,qBAAW;AACpB,SAAK9W,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAKiY,GAAL,GACtB,KAAKlY,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAKmY,GAAL,GAAW54B,GADjC;AAEA,SAAK+5B,MAAL,GAAc,KAAKE,MAAL,GAAc,KAAKE,MAAL,GAC5B,KAAKH,OAAL,GAAe,KAAKE,OAAL,GAAe,KAAKE,OAAL,GAC9B,KAAK7B,MAAL,GAAc,CAFd;AAGD,GAboB;AAcrBlB,WAAS,mBAAW;AAClB,YAAQ,KAAKkB,MAAb;AACE,WAAK,CAAL;AAAQ,aAAKj/B,QAAL,CAAcsnB,MAAd,CAAqB,KAAK6X,GAA1B,EAA+B,KAAKG,GAApC,EAA0C;AAClD,WAAK,CAAL;AAAQ,aAAK7jB,KAAL,CAAW,KAAK0jB,GAAhB,EAAqB,KAAKG,GAA1B,EAAgC;AAF1C;AAIA,QAAI,KAAKN,KAAL,IAAe,KAAKA,KAAL,KAAe,CAAf,IAAoB,KAAKC,MAAL,KAAgB,CAAvD,EAA2D,KAAKj/B,QAAL,CAAcqnB,SAAd;AAC3D,SAAK2X,KAAL,GAAa,IAAI,KAAKA,KAAtB;AACD,GArBoB;AAsBrBvjB,SAAO,eAASnyE,CAAT,EAAY+J,CAAZ,EAAe;AACpB/J,QAAI,CAACA,CAAL,EAAQ+J,IAAI,CAACA,CAAb;;AAEA,QAAI,KAAK4rF,MAAT,EAAiB;AACf,UAAIiC,MAAM,KAAK/B,GAAL,GAAW71F,CAArB;AAAA,UACI63F,MAAM,KAAK7B,GAAL,GAAWjsF,CADrB;AAEA,WAAKwtF,MAAL,GAAcpnG,KAAKyQ,IAAL,CAAU,KAAK42F,OAAL,GAAernG,KAAKuQ,GAAL,CAASk3F,MAAMA,GAAN,GAAYC,MAAMA,GAA3B,EAAgC,KAAKF,MAArC,CAAzB,CAAd;AACD;;AAED,YAAQ,KAAKhC,MAAb;AACE,WAAK,CAAL;AAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB,KAAKD,KAAL,GAAa,KAAKh/B,QAAL,CAAcsnB,MAAd,CAAqBh+E,CAArB,EAAwB+J,CAAxB,CAAb,GAA0C,KAAK2sD,QAAL,CAAconB,MAAd,CAAqB99E,CAArB,EAAwB+J,CAAxB,CAA1C,CAAsE;AAC/F,WAAK,CAAL;AAAQ,aAAK4rF,MAAL,GAAc,CAAd,CAAiB;AACzB,WAAK,CAAL;AAAQ,aAAKA,MAAL,GAAc,CAAd,CAHV,CAG2B;AACzB;AAASxjB,eAAM,IAAN,EAAYnyE,CAAZ,EAAe+J,CAAf,EAAmB;AAJ9B;;AAOA,SAAKotF,MAAL,GAAc,KAAKE,MAAnB,EAA2B,KAAKA,MAAL,GAAc,KAAKE,MAA9C;AACA,SAAKH,OAAL,GAAe,KAAKE,OAApB,EAA6B,KAAKA,OAAL,GAAe,KAAKE,OAAjD;AACA,SAAK9Z,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW,KAAKiY,GAArC,EAA0C,KAAKA,GAAL,GAAW71F,CAArD;AACA,SAAK29E,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW,KAAKmY,GAArC,EAA0C,KAAKA,GAAL,GAAWjsF,CAArD;AACD;AA1CoB,CAAvB;;AA6Ce,gEAAC,SAASkpE,MAAT,CAAgBykB,KAAhB,EAAuB;;AAErC,WAASI,UAAT,CAAoBz0E,OAApB,EAA6B;AAC3B,WAAOq0E,QAAQ,IAAID,UAAJ,CAAep0E,OAAf,EAAwBq0E,KAAxB,CAAR,GAAyC,IAAId,kDAAJ,CAAavzE,OAAb,EAAsB,CAAtB,CAAhD;AACD;;AAEDy0E,aAAWJ,KAAX,GAAmB,UAASA,KAAT,EAAgB;AACjC,WAAOzkB,OAAO,CAACykB,KAAR,CAAP;AACD,GAFD;;AAIA,SAAOI,UAAP;AACD,CAXc,EAWZ,GAXY,CAAf,E;;;;;;;;;;;;AC5EA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAEA,SAASC,gBAAT,CAA0B10E,OAA1B,EAAmCq0E,KAAnC,EAA0C;AACxC,OAAKhhC,QAAL,GAAgBrzC,OAAhB;AACA,OAAKs0E,MAAL,GAAcD,KAAd;AACD;;AAEDK,iBAAiBhjH,SAAjB,GAA6B;AAC3Bw/G,aAAW5kB,6CADgB;AAE3B+kB,WAAS/kB,6CAFkB;AAG3B6kB,aAAW,qBAAW;AACpB,SAAK9W,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAKiY,GAAL,GAAW,KAAKC,GAAL,GAAW,KAAKC,GAAL,GAAW,KAAKiB,GAAL,GACvD,KAAKrZ,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAKmY,GAAL,GAAW,KAAKC,GAAL,GAAW,KAAKC,GAAL,GAAW,KAAKe,GAAL,GAAW75B,GADlE;AAEA,SAAK+5B,MAAL,GAAc,KAAKE,MAAL,GAAc,KAAKE,MAAL,GAC5B,KAAKH,OAAL,GAAe,KAAKE,OAAL,GAAe,KAAKE,OAAL,GAC9B,KAAK7B,MAAL,GAAc,CAFd;AAGD,GAT0B;AAU3BlB,WAAS,mBAAW;AAClB,YAAQ,KAAKkB,MAAb;AACE,WAAK,CAAL;AAAQ;AACN,eAAKj/B,QAAL,CAAconB,MAAd,CAAqB,KAAKgY,GAA1B,EAA+B,KAAKG,GAApC;AACA,eAAKv/B,QAAL,CAAcqnB,SAAd;AACA;AACD;AACD,WAAK,CAAL;AAAQ;AACN,eAAKrnB,QAAL,CAAcsnB,MAAd,CAAqB,KAAK8X,GAA1B,EAA+B,KAAKG,GAApC;AACA,eAAKv/B,QAAL,CAAcqnB,SAAd;AACA;AACD;AACD,WAAK,CAAL;AAAQ;AACN,eAAK5L,KAAL,CAAW,KAAK2jB,GAAhB,EAAqB,KAAKG,GAA1B;AACA,eAAK9jB,KAAL,CAAW,KAAK4jB,GAAhB,EAAqB,KAAKG,GAA1B;AACA,eAAK/jB,KAAL,CAAW,KAAK6kB,GAAhB,EAAqB,KAAKC,GAA1B;AACA;AACD;AAhBH;AAkBD,GA7B0B;AA8B3B9kB,SAAO,eAASnyE,CAAT,EAAY+J,CAAZ,EAAe;AACpB/J,QAAI,CAACA,CAAL,EAAQ+J,IAAI,CAACA,CAAb;;AAEA,QAAI,KAAK4rF,MAAT,EAAiB;AACf,UAAIiC,MAAM,KAAK/B,GAAL,GAAW71F,CAArB;AAAA,UACI63F,MAAM,KAAK7B,GAAL,GAAWjsF,CADrB;AAEA,WAAKwtF,MAAL,GAAcpnG,KAAKyQ,IAAL,CAAU,KAAK42F,OAAL,GAAernG,KAAKuQ,GAAL,CAASk3F,MAAMA,GAAN,GAAYC,MAAMA,GAA3B,EAAgC,KAAKF,MAArC,CAAzB,CAAd;AACD;;AAED,YAAQ,KAAKhC,MAAb;AACE,WAAK,CAAL;AAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB,KAAKG,GAAL,GAAW91F,CAAX,EAAc,KAAKi2F,GAAL,GAAWlsF,CAAzB,CAA4B;AACrD,WAAK,CAAL;AAAQ,aAAK4rF,MAAL,GAAc,CAAd,CAAiB,KAAKj/B,QAAL,CAAconB,MAAd,CAAqB,KAAKiY,GAAL,GAAW/1F,CAAhC,EAAmC,KAAKk2F,GAAL,GAAWnsF,CAA9C,EAAkD;AAC3E,WAAK,CAAL;AAAQ,aAAK4rF,MAAL,GAAc,CAAd,CAAiB,KAAKqB,GAAL,GAAWh3F,CAAX,EAAc,KAAKi3F,GAAL,GAAWltF,CAAzB,CAA4B;AACrD;AAASooE,kEAAM,IAAN,EAAYnyE,CAAZ,EAAe+J,CAAf,EAAmB;AAJ9B;;AAOA,SAAKotF,MAAL,GAAc,KAAKE,MAAnB,EAA2B,KAAKA,MAAL,GAAc,KAAKE,MAA9C;AACA,SAAKH,OAAL,GAAe,KAAKE,OAApB,EAA6B,KAAKA,OAAL,GAAe,KAAKE,OAAjD;AACA,SAAK9Z,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW,KAAKiY,GAArC,EAA0C,KAAKA,GAAL,GAAW71F,CAArD;AACA,SAAK29E,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW,KAAKmY,GAArC,EAA0C,KAAKA,GAAL,GAAWjsF,CAArD;AACD;AAlD0B,CAA7B;;AAqDe,gEAAC,SAASkpE,MAAT,CAAgBykB,KAAhB,EAAuB;;AAErC,WAASI,UAAT,CAAoBz0E,OAApB,EAA6B;AAC3B,WAAOq0E,QAAQ,IAAIK,gBAAJ,CAAqB10E,OAArB,EAA8Bq0E,KAA9B,CAAR,GAA+C,IAAIX,8DAAJ,CAAmB1zE,OAAnB,EAA4B,CAA5B,CAAtD;AACD;;AAEDy0E,aAAWJ,KAAX,GAAmB,UAASA,KAAT,EAAgB;AACjC,WAAOzkB,OAAO,CAACykB,KAAR,CAAP;AACD,GAFD;;AAIA,SAAOI,UAAP;AACD,CAXc,EAWZ,GAXY,CAAf,E;;;;;;;;;;;;AC9DA;AAAA;AAAA;AAAA;AACA;;AAEA,SAASE,cAAT,CAAwB30E,OAAxB,EAAiCq0E,KAAjC,EAAwC;AACtC,OAAKhhC,QAAL,GAAgBrzC,OAAhB;AACA,OAAKs0E,MAAL,GAAcD,KAAd;AACD;;AAEDM,eAAejjH,SAAf,GAA2B;AACzBw/G,aAAW,qBAAW;AACpB,SAAKmB,KAAL,GAAa,CAAb;AACD,GAHwB;AAIzBhB,WAAS,mBAAW;AAClB,SAAKgB,KAAL,GAAat4B,GAAb;AACD,GANwB;AAOzBo3B,aAAW,qBAAW;AACpB,SAAK9W,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAKiY,GAAL,GACtB,KAAKlY,GAAL,GAAW,KAAKE,GAAL,GAAW,KAAKmY,GAAL,GAAW54B,GADjC;AAEA,SAAK+5B,MAAL,GAAc,KAAKE,MAAL,GAAc,KAAKE,MAAL,GAC5B,KAAKH,OAAL,GAAe,KAAKE,OAAL,GAAe,KAAKE,OAAL,GAC9B,KAAK7B,MAAL,GAAc,CAFd;AAGD,GAbwB;AAczBlB,WAAS,mBAAW;AAClB,QAAI,KAAKiB,KAAL,IAAe,KAAKA,KAAL,KAAe,CAAf,IAAoB,KAAKC,MAAL,KAAgB,CAAvD,EAA2D,KAAKj/B,QAAL,CAAcqnB,SAAd;AAC3D,SAAK2X,KAAL,GAAa,IAAI,KAAKA,KAAtB;AACD,GAjBwB;AAkBzBvjB,SAAO,eAASnyE,CAAT,EAAY+J,CAAZ,EAAe;AACpB/J,QAAI,CAACA,CAAL,EAAQ+J,IAAI,CAACA,CAAb;;AAEA,QAAI,KAAK4rF,MAAT,EAAiB;AACf,UAAIiC,MAAM,KAAK/B,GAAL,GAAW71F,CAArB;AAAA,UACI63F,MAAM,KAAK7B,GAAL,GAAWjsF,CADrB;AAEA,WAAKwtF,MAAL,GAAcpnG,KAAKyQ,IAAL,CAAU,KAAK42F,OAAL,GAAernG,KAAKuQ,GAAL,CAASk3F,MAAMA,GAAN,GAAYC,MAAMA,GAA3B,EAAgC,KAAKF,MAArC,CAAzB,CAAd;AACD;;AAED,YAAQ,KAAKhC,MAAb;AACE,WAAK,CAAL;AAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB;AACzB,WAAK,CAAL;AAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB;AACzB,WAAK,CAAL;AAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB,KAAKD,KAAL,GAAa,KAAKh/B,QAAL,CAAcsnB,MAAd,CAAqB,KAAK6X,GAA1B,EAA+B,KAAKG,GAApC,CAAb,GAAwD,KAAKt/B,QAAL,CAAconB,MAAd,CAAqB,KAAK+X,GAA1B,EAA+B,KAAKG,GAApC,CAAxD,CAAkG;AAC3H,WAAK,CAAL;AAAQ,aAAKL,MAAL,GAAc,CAAd,CAJV,CAI2B;AACzB;AAASxjB,kEAAM,IAAN,EAAYnyE,CAAZ,EAAe+J,CAAf,EAAmB;AAL9B;;AAQA,SAAKotF,MAAL,GAAc,KAAKE,MAAnB,EAA2B,KAAKA,MAAL,GAAc,KAAKE,MAA9C;AACA,SAAKH,OAAL,GAAe,KAAKE,OAApB,EAA6B,KAAKA,OAAL,GAAe,KAAKE,OAAjD;AACA,SAAK9Z,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW,KAAKiY,GAArC,EAA0C,KAAKA,GAAL,GAAW71F,CAArD;AACA,SAAK29E,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW,KAAKmY,GAArC,EAA0C,KAAKA,GAAL,GAAWjsF,CAArD;AACD;AAvCwB,CAA3B;;AA0Ce,gEAAC,SAASkpE,MAAT,CAAgBykB,KAAhB,EAAuB;;AAErC,WAASI,UAAT,CAAoBz0E,OAApB,EAA6B;AAC3B,WAAOq0E,QAAQ,IAAIM,cAAJ,CAAmB30E,OAAnB,EAA4Bq0E,KAA5B,CAAR,GAA6C,IAAIR,0DAAJ,CAAiB7zE,OAAjB,EAA0B,CAA1B,CAApD;AACD;;AAEDy0E,aAAWJ,KAAX,GAAmB,UAASA,KAAT,EAAgB;AACjC,WAAOzkB,OAAO,CAACykB,KAAR,CAAP;AACD,GAFD;;AAIA,SAAOI,UAAP;AACD,CAXc,EAWZ,GAXY,CAAf,E;;;;;;;;;;;;AClDA;AAAA,SAASG,MAAT,CAAgB50E,OAAhB,EAAyB;AACvB,OAAKqzC,QAAL,GAAgBrzC,OAAhB;AACD;;AAED40E,OAAOljH,SAAP,GAAmB;AACjBw/G,aAAW,qBAAW;AACpB,SAAKmB,KAAL,GAAa,CAAb;AACD,GAHgB;AAIjBhB,WAAS,mBAAW;AAClB,SAAKgB,KAAL,GAAat4B,GAAb;AACD,GANgB;AAOjBo3B,aAAW,qBAAW;AACpB,SAAKmB,MAAL,GAAc,CAAd;AACD,GATgB;AAUjBlB,WAAS,mBAAW;AAClB,QAAI,KAAKiB,KAAL,IAAe,KAAKA,KAAL,KAAe,CAAf,IAAoB,KAAKC,MAAL,KAAgB,CAAvD,EAA2D,KAAKj/B,QAAL,CAAcqnB,SAAd;AAC3D,SAAK2X,KAAL,GAAa,IAAI,KAAKA,KAAtB;AACD,GAbgB;AAcjBvjB,SAAO,eAASnyE,CAAT,EAAY+J,CAAZ,EAAe;AACpB/J,QAAI,CAACA,CAAL,EAAQ+J,IAAI,CAACA,CAAb;AACA,YAAQ,KAAK4rF,MAAb;AACE,WAAK,CAAL;AAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB,KAAKD,KAAL,GAAa,KAAKh/B,QAAL,CAAcsnB,MAAd,CAAqBh+E,CAArB,EAAwB+J,CAAxB,CAAb,GAA0C,KAAK2sD,QAAL,CAAconB,MAAd,CAAqB99E,CAArB,EAAwB+J,CAAxB,CAA1C,CAAsE;AAC/F,WAAK,CAAL;AAAQ,aAAK4rF,MAAL,GAAc,CAAd,CAFV,CAE2B;AACzB;AAAS,aAAKj/B,QAAL,CAAcsnB,MAAd,CAAqBh+E,CAArB,EAAwB+J,CAAxB,EAA4B;AAHvC;AAKD;AArBgB,CAAnB;;AAwBe,yEAASsZ,OAAT,EAAkB;AAC/B,SAAO,IAAI40E,MAAJ,CAAW50E,OAAX,CAAP;AACD,C;;;;;;;;;;;;AC9BD;AAAA;AAAA;;AAEA,SAAS60E,YAAT,CAAsB70E,OAAtB,EAA+B;AAC7B,OAAKqzC,QAAL,GAAgBrzC,OAAhB;AACD;;AAED60E,aAAanjH,SAAb,GAAyB;AACvBw/G,aAAW5kB,6CADY;AAEvB+kB,WAAS/kB,6CAFc;AAGvB6kB,aAAW,qBAAW;AACpB,SAAKmB,MAAL,GAAc,CAAd;AACD,GALsB;AAMvBlB,WAAS,mBAAW;AAClB,QAAI,KAAKkB,MAAT,EAAiB,KAAKj/B,QAAL,CAAcqnB,SAAd;AAClB,GARsB;AASvB5L,SAAO,eAASnyE,CAAT,EAAY+J,CAAZ,EAAe;AACpB/J,QAAI,CAACA,CAAL,EAAQ+J,IAAI,CAACA,CAAb;AACA,QAAI,KAAK4rF,MAAT,EAAiB,KAAKj/B,QAAL,CAAcsnB,MAAd,CAAqBh+E,CAArB,EAAwB+J,CAAxB,EAAjB,KACK,KAAK4rF,MAAL,GAAc,CAAd,EAAiB,KAAKj/B,QAAL,CAAconB,MAAd,CAAqB99E,CAArB,EAAwB+J,CAAxB,CAAjB;AACN;AAbsB,CAAzB;;AAgBe,yEAASsZ,OAAT,EAAkB;AAC/B,SAAO,IAAI60E,YAAJ,CAAiB70E,OAAjB,CAAP;AACD,C;;;;;;;;;;;;ACxBD;AAAA;AAAA;AAAA,SAASuzD,IAAT,CAAc52E,CAAd,EAAiB;AACf,SAAOA,IAAI,CAAJ,GAAQ,CAAC,CAAT,GAAa,CAApB;AACD;;AAED;AACA;AACA;AACA;AACA,SAASm4F,MAAT,CAAgBjoB,IAAhB,EAAsB95B,EAAtB,EAA0BD,EAA1B,EAA8B;AAC5B,MAAIiiD,KAAKloB,KAAK0N,GAAL,GAAW1N,KAAKwN,GAAzB;AAAA,MACI2a,KAAKjiD,KAAK85B,KAAK0N,GADnB;AAAA,MAEI0a,KAAK,CAACpoB,KAAK2N,GAAL,GAAW3N,KAAKyN,GAAjB,KAAyBya,MAAMC,KAAK,CAAL,IAAU,CAAC,CAA1C,CAFT;AAAA,MAGIv+E,KAAK,CAACq8B,KAAK+5B,KAAK2N,GAAX,KAAmBwa,MAAMD,KAAK,CAAL,IAAU,CAAC,CAApC,CAHT;AAAA,MAIInjH,IAAI,CAACqjH,KAAKD,EAAL,GAAUv+E,KAAKs+E,EAAhB,KAAuBA,KAAKC,EAA5B,CAJR;AAKA,SAAO,CAACzhB,KAAK0hB,EAAL,IAAW1hB,KAAK98D,EAAL,CAAZ,IAAwB3pB,KAAK3D,GAAL,CAAS2D,KAAKmf,GAAL,CAASgpF,EAAT,CAAT,EAAuBnoG,KAAKmf,GAAL,CAASwK,EAAT,CAAvB,EAAqC,MAAM3pB,KAAKmf,GAAL,CAASr6B,CAAT,CAA3C,CAAxB,IAAmF,CAA1F;AACD;;AAED;AACA,SAASsjH,MAAT,CAAgBroB,IAAhB,EAAsB/7F,CAAtB,EAAyB;AACvB,MAAIsrD,IAAIywC,KAAK0N,GAAL,GAAW1N,KAAKwN,GAAxB;AACA,SAAOj+C,IAAI,CAAC,KAAKywC,KAAK2N,GAAL,GAAW3N,KAAKyN,GAArB,IAA4Bl+C,CAA5B,GAAgCtrD,CAAjC,IAAsC,CAA1C,GAA8CA,CAArD;AACD;;AAED;AACA;AACA;AACA,SAASg+F,MAAT,CAAejC,IAAf,EAAqBvB,EAArB,EAAyBC,EAAzB,EAA6B;AAC3B,MAAInQ,KAAKyR,KAAKwN,GAAd;AAAA,MACIU,KAAKlO,KAAKyN,GADd;AAAA,MAEIh6B,KAAKusB,KAAK0N,GAFd;AAAA,MAGIh6B,KAAKssB,KAAK2N,GAHd;AAAA,MAII5nC,KAAK,CAAC0N,KAAK8a,EAAN,IAAY,CAJrB;AAKAyR,OAAKxZ,QAAL,CAAcwnB,aAAd,CAA4Bzf,KAAKxoB,EAAjC,EAAqCmoC,KAAKnoC,KAAK04B,EAA/C,EAAmDhrB,KAAK1N,EAAxD,EAA4D2N,KAAK3N,KAAK24B,EAAtE,EAA0EjrB,EAA1E,EAA8EC,EAA9E;AACD;;AAED,SAAS40C,SAAT,CAAmBn1E,OAAnB,EAA4B;AAC1B,OAAKqzC,QAAL,GAAgBrzC,OAAhB;AACD;;AAEDm1E,UAAUzjH,SAAV,GAAsB;AACpBw/G,aAAW,qBAAW;AACpB,SAAKmB,KAAL,GAAa,CAAb;AACD,GAHmB;AAIpBhB,WAAS,mBAAW;AAClB,SAAKgB,KAAL,GAAat4B,GAAb;AACD,GANmB;AAOpBo3B,aAAW,qBAAW;AACpB,SAAK9W,GAAL,GAAW,KAAKE,GAAL,GACX,KAAKD,GAAL,GAAW,KAAKE,GAAL,GACX,KAAK4a,GAAL,GAAWr7B,GAFX;AAGA,SAAKu4B,MAAL,GAAc,CAAd;AACD,GAZmB;AAapBlB,WAAS,mBAAW;AAClB,YAAQ,KAAKkB,MAAb;AACE,WAAK,CAAL;AAAQ,aAAKj/B,QAAL,CAAcsnB,MAAd,CAAqB,KAAKJ,GAA1B,EAA+B,KAAKC,GAApC,EAA0C;AAClD,WAAK,CAAL;AAAQ1L,eAAM,IAAN,EAAY,KAAKsmB,GAAjB,EAAsBF,OAAO,IAAP,EAAa,KAAKE,GAAlB,CAAtB,EAA+C;AAFzD;AAIA,QAAI,KAAK/C,KAAL,IAAe,KAAKA,KAAL,KAAe,CAAf,IAAoB,KAAKC,MAAL,KAAgB,CAAvD,EAA2D,KAAKj/B,QAAL,CAAcqnB,SAAd;AAC3D,SAAK2X,KAAL,GAAa,IAAI,KAAKA,KAAtB;AACD,GApBmB;AAqBpBvjB,SAAO,eAASnyE,CAAT,EAAY+J,CAAZ,EAAe;AACpB,QAAI6kE,KAAKxR,GAAT;;AAEAp9D,QAAI,CAACA,CAAL,EAAQ+J,IAAI,CAACA,CAAb;AACA,QAAI/J,MAAM,KAAK49E,GAAX,IAAkB7zE,MAAM,KAAK8zE,GAAjC,EAAsC,OAJlB,CAI0B;AAC9C,YAAQ,KAAK8X,MAAb;AACE,WAAK,CAAL;AAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB,KAAKD,KAAL,GAAa,KAAKh/B,QAAL,CAAcsnB,MAAd,CAAqBh+E,CAArB,EAAwB+J,CAAxB,CAAb,GAA0C,KAAK2sD,QAAL,CAAconB,MAAd,CAAqB99E,CAArB,EAAwB+J,CAAxB,CAA1C,CAAsE;AAC/F,WAAK,CAAL;AAAQ,aAAK4rF,MAAL,GAAc,CAAd,CAAiB;AACzB,WAAK,CAAL;AAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiBxjB,OAAM,IAAN,EAAYomB,OAAO,IAAP,EAAa3pB,KAAKupB,OAAO,IAAP,EAAan4F,CAAb,EAAgB+J,CAAhB,CAAlB,CAAZ,EAAmD6kE,EAAnD,EAAwD;AACjF;AAASuD,eAAM,IAAN,EAAY,KAAKsmB,GAAjB,EAAsB7pB,KAAKupB,OAAO,IAAP,EAAan4F,CAAb,EAAgB+J,CAAhB,CAA3B,EAAgD;AAJ3D;;AAOA,SAAK2zE,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW59E,CAAhC;AACA,SAAK29E,GAAL,GAAW,KAAKE,GAAhB,EAAqB,KAAKA,GAAL,GAAW9zE,CAAhC;AACA,SAAK0uF,GAAL,GAAW7pB,EAAX;AACD;AApCmB,CAAtB;;AAuCA,SAAS8pB,SAAT,CAAmBr1E,OAAnB,EAA4B;AAC1B,OAAKqzC,QAAL,GAAgB,IAAIiiC,cAAJ,CAAmBt1E,OAAnB,CAAhB;AACD;;AAED,CAACq1E,UAAU3jH,SAAV,GAAsBpB,OAAOY,MAAP,CAAcikH,UAAUzjH,SAAxB,CAAvB,EAA2Do9F,KAA3D,GAAmE,UAASnyE,CAAT,EAAY+J,CAAZ,EAAe;AAChFyuF,YAAUzjH,SAAV,CAAoBo9F,KAApB,CAA0B/+F,IAA1B,CAA+B,IAA/B,EAAqC22B,CAArC,EAAwC/J,CAAxC;AACD,CAFD;;AAIA,SAAS24F,cAAT,CAAwBt1E,OAAxB,EAAiC;AAC/B,OAAKqzC,QAAL,GAAgBrzC,OAAhB;AACD;;AAEDs1E,eAAe5jH,SAAf,GAA2B;AACzB+oG,UAAQ,gBAAS99E,CAAT,EAAY+J,CAAZ,EAAe;AAAE,SAAK2sD,QAAL,CAAconB,MAAd,CAAqB/zE,CAArB,EAAwB/J,CAAxB;AAA6B,GAD7B;AAEzB+9E,aAAW,qBAAW;AAAE,SAAKrnB,QAAL,CAAcqnB,SAAd;AAA4B,GAF3B;AAGzBC,UAAQ,gBAASh+E,CAAT,EAAY+J,CAAZ,EAAe;AAAE,SAAK2sD,QAAL,CAAcsnB,MAAd,CAAqBj0E,CAArB,EAAwB/J,CAAxB;AAA6B,GAH7B;AAIzBk+E,iBAAe,uBAASv6B,EAAT,EAAaC,EAAb,EAAiBxN,EAAjB,EAAqBD,EAArB,EAAyBn2C,CAAzB,EAA4B+J,CAA5B,EAA+B;AAAE,SAAK2sD,QAAL,CAAcwnB,aAAd,CAA4Bt6B,EAA5B,EAAgCD,EAAhC,EAAoCxN,EAApC,EAAwCC,EAAxC,EAA4CrsC,CAA5C,EAA+C/J,CAA/C;AAAoD;AAJ3E,CAA3B;;AAOO,SAAS44F,SAAT,CAAmBv1E,OAAnB,EAA4B;AACjC,SAAO,IAAIm1E,SAAJ,CAAcn1E,OAAd,CAAP;AACD;;AAEM,SAASw1E,SAAT,CAAmBx1E,OAAnB,EAA4B;AACjC,SAAO,IAAIq1E,SAAJ,CAAcr1E,OAAd,CAAP;AACD,C;;;;;;;;;;;;ACvGD;AAAA,SAASy1E,OAAT,CAAiBz1E,OAAjB,EAA0B;AACxB,OAAKqzC,QAAL,GAAgBrzC,OAAhB;AACD;;AAEDy1E,QAAQ/jH,SAAR,GAAoB;AAClBw/G,aAAW,qBAAW;AACpB,SAAKmB,KAAL,GAAa,CAAb;AACD,GAHiB;AAIlBhB,WAAS,mBAAW;AAClB,SAAKgB,KAAL,GAAat4B,GAAb;AACD,GANiB;AAOlBo3B,aAAW,qBAAW;AACpB,SAAKgC,EAAL,GAAU,EAAV;AACA,SAAKC,EAAL,GAAU,EAAV;AACD,GAViB;AAWlBhC,WAAS,mBAAW;AAClB,QAAIz0F,IAAI,KAAKw2F,EAAb;AAAA,QACIzsF,IAAI,KAAK0sF,EADb;AAAA,QAEI/hH,IAAIsrB,EAAEroB,MAFV;;AAIA,QAAIjD,CAAJ,EAAO;AACL,WAAKghH,KAAL,GAAa,KAAKh/B,QAAL,CAAcsnB,MAAd,CAAqBh+E,EAAE,CAAF,CAArB,EAA2B+J,EAAE,CAAF,CAA3B,CAAb,GAAgD,KAAK2sD,QAAL,CAAconB,MAAd,CAAqB99E,EAAE,CAAF,CAArB,EAA2B+J,EAAE,CAAF,CAA3B,CAAhD;AACA,UAAIr1B,MAAM,CAAV,EAAa;AACX,aAAKgiF,QAAL,CAAcsnB,MAAd,CAAqBh+E,EAAE,CAAF,CAArB,EAA2B+J,EAAE,CAAF,CAA3B;AACD,OAFD,MAEO;AACL,YAAIo3C,KAAK43C,cAAc/4F,CAAd,CAAT;AAAA,YACIg5F,KAAKD,cAAchvF,CAAd,CADT;AAEA,aAAK,IAAIi0D,KAAK,CAAT,EAAYC,KAAK,CAAtB,EAAyBA,KAAKvpF,CAA9B,EAAiC,EAAEspF,EAAF,EAAM,EAAEC,EAAzC,EAA6C;AAC3C,eAAKvH,QAAL,CAAcwnB,aAAd,CAA4B/8B,GAAG,CAAH,EAAM6c,EAAN,CAA5B,EAAuCg7B,GAAG,CAAH,EAAMh7B,EAAN,CAAvC,EAAkD7c,GAAG,CAAH,EAAM6c,EAAN,CAAlD,EAA6Dg7B,GAAG,CAAH,EAAMh7B,EAAN,CAA7D,EAAwEh+D,EAAEi+D,EAAF,CAAxE,EAA+El0D,EAAEk0D,EAAF,CAA/E;AACD;AACF;AACF;;AAED,QAAI,KAAKy3B,KAAL,IAAe,KAAKA,KAAL,KAAe,CAAf,IAAoBhhH,MAAM,CAA7C,EAAiD,KAAKgiF,QAAL,CAAcqnB,SAAd;AACjD,SAAK2X,KAAL,GAAa,IAAI,KAAKA,KAAtB;AACA,SAAKc,EAAL,GAAU,KAAKC,EAAL,GAAU,IAApB;AACD,GAhCiB;AAiClBtkB,SAAO,eAASnyE,CAAT,EAAY+J,CAAZ,EAAe;AACpB,SAAKysF,EAAL,CAAQt/G,IAAR,CAAa,CAAC8oB,CAAd;AACA,SAAKy2F,EAAL,CAAQv/G,IAAR,CAAa,CAAC6yB,CAAd;AACD;AApCiB,CAApB;;AAuCA;AACA,SAASgvF,aAAT,CAAuB/4F,CAAvB,EAA0B;AACxB,MAAI9sB,CAAJ;AAAA,MACIwB,IAAIsrB,EAAEroB,MAAF,GAAW,CADnB;AAAA,MAEItE,CAFJ;AAAA,MAGIsmB,IAAI,IAAI1e,KAAJ,CAAUvG,CAAV,CAHR;AAAA,MAIIklB,IAAI,IAAI3e,KAAJ,CAAUvG,CAAV,CAJR;AAAA,MAKIX,IAAI,IAAIkH,KAAJ,CAAUvG,CAAV,CALR;AAMAilB,IAAE,CAAF,IAAO,CAAP,EAAUC,EAAE,CAAF,IAAO,CAAjB,EAAoB7lB,EAAE,CAAF,IAAOisB,EAAE,CAAF,IAAO,IAAIA,EAAE,CAAF,CAAtC;AACA,OAAK9sB,IAAI,CAAT,EAAYA,IAAIwB,IAAI,CAApB,EAAuB,EAAExB,CAAzB;AAA4BymB,MAAEzmB,CAAF,IAAO,CAAP,EAAU0mB,EAAE1mB,CAAF,IAAO,CAAjB,EAAoBa,EAAEb,CAAF,IAAO,IAAI8sB,EAAE9sB,CAAF,CAAJ,GAAW,IAAI8sB,EAAE9sB,IAAI,CAAN,CAA1C;AAA5B,GACAymB,EAAEjlB,IAAI,CAAN,IAAW,CAAX,EAAcklB,EAAEllB,IAAI,CAAN,IAAW,CAAzB,EAA4BX,EAAEW,IAAI,CAAN,IAAW,IAAIsrB,EAAEtrB,IAAI,CAAN,CAAJ,GAAesrB,EAAEtrB,CAAF,CAAtD;AACA,OAAKxB,IAAI,CAAT,EAAYA,IAAIwB,CAAhB,EAAmB,EAAExB,CAArB;AAAwBG,QAAIsmB,EAAEzmB,CAAF,IAAO0mB,EAAE1mB,IAAI,CAAN,CAAX,EAAqB0mB,EAAE1mB,CAAF,KAAQG,CAA7B,EAAgCU,EAAEb,CAAF,KAAQG,IAAIU,EAAEb,IAAI,CAAN,CAA5C;AAAxB,GACAymB,EAAEjlB,IAAI,CAAN,IAAWX,EAAEW,IAAI,CAAN,IAAWklB,EAAEllB,IAAI,CAAN,CAAtB;AACA,OAAKxB,IAAIwB,IAAI,CAAb,EAAgBxB,KAAK,CAArB,EAAwB,EAAEA,CAA1B;AAA6BymB,MAAEzmB,CAAF,IAAO,CAACa,EAAEb,CAAF,IAAOymB,EAAEzmB,IAAI,CAAN,CAAR,IAAoB0mB,EAAE1mB,CAAF,CAA3B;AAA7B,GACA0mB,EAAEllB,IAAI,CAAN,IAAW,CAACsrB,EAAEtrB,CAAF,IAAOilB,EAAEjlB,IAAI,CAAN,CAAR,IAAoB,CAA/B;AACA,OAAKxB,IAAI,CAAT,EAAYA,IAAIwB,IAAI,CAApB,EAAuB,EAAExB,CAAzB;AAA4B0mB,MAAE1mB,CAAF,IAAO,IAAI8sB,EAAE9sB,IAAI,CAAN,CAAJ,GAAeymB,EAAEzmB,IAAI,CAAN,CAAtB;AAA5B,GACA,OAAO,CAACymB,CAAD,EAAIC,CAAJ,CAAP;AACD;;AAEc,yEAASypB,OAAT,EAAkB;AAC/B,SAAO,IAAIy1E,OAAJ,CAAYz1E,OAAZ,CAAP;AACD,C;;;;;;;;;;;;AChED;AAAA;AAAA;AAAA;AAAA;;AAEO,IAAI2xE,oBAAoBO,YAAYrB,+CAAZ,CAAxB;;AAEP,SAAS+E,MAAT,CAAgBhF,KAAhB,EAAuB;AACrB,OAAKuB,MAAL,GAAcvB,KAAd;AACD;;AAEDgF,OAAOlkH,SAAP,GAAmB;AACjBw/G,aAAW,qBAAW;AACpB,SAAKiB,MAAL,CAAYjB,SAAZ;AACD,GAHgB;AAIjBG,WAAS,mBAAW;AAClB,SAAKc,MAAL,CAAYd,OAAZ;AACD,GANgB;AAOjBF,aAAW,qBAAW;AACpB,SAAKgB,MAAL,CAAYhB,SAAZ;AACD,GATgB;AAUjBC,WAAS,mBAAW;AAClB,SAAKe,MAAL,CAAYf,OAAZ;AACD,GAZgB;AAajBtiB,SAAO,eAASx4E,CAAT,EAAY5lB,CAAZ,EAAe;AACpB,SAAKyhH,MAAL,CAAYrjB,KAAZ,CAAkBp+F,IAAIoc,KAAKsiC,GAAL,CAAS94B,CAAT,CAAtB,EAAmC5lB,IAAI,CAACoc,KAAKsoC,GAAL,CAAS9+B,CAAT,CAAxC;AACD;AAfgB,CAAnB;;AAkBe,SAAS47F,WAAT,CAAqBtB,KAArB,EAA4B;;AAEzC,WAASiF,MAAT,CAAgB71E,OAAhB,EAAyB;AACvB,WAAO,IAAI41E,MAAJ,CAAWhF,MAAM5wE,OAAN,CAAX,CAAP;AACD;;AAED61E,SAAO1D,MAAP,GAAgBvB,KAAhB;;AAEA,SAAOiF,MAAP;AACD,C;;;;;;;;;;;;ACnCD;AAAA;AAAA;AAAA,SAASC,IAAT,CAAc91E,OAAd,EAAuBlvC,CAAvB,EAA0B;AACxB,OAAKuiF,QAAL,GAAgBrzC,OAAhB;AACA,OAAK+1E,EAAL,GAAUjlH,CAAV;AACD;;AAEDglH,KAAKpkH,SAAL,GAAiB;AACfw/G,aAAW,qBAAW;AACpB,SAAKmB,KAAL,GAAa,CAAb;AACD,GAHc;AAIfhB,WAAS,mBAAW;AAClB,SAAKgB,KAAL,GAAat4B,GAAb;AACD,GANc;AAOfo3B,aAAW,qBAAW;AACpB,SAAKgC,EAAL,GAAU,KAAKC,EAAL,GAAUr5B,GAApB;AACA,SAAKu4B,MAAL,GAAc,CAAd;AACD,GAVc;AAWflB,WAAS,mBAAW;AAClB,QAAI,IAAI,KAAK2E,EAAT,IAAe,KAAKA,EAAL,GAAU,CAAzB,IAA8B,KAAKzD,MAAL,KAAgB,CAAlD,EAAqD,KAAKj/B,QAAL,CAAcsnB,MAAd,CAAqB,KAAKwY,EAA1B,EAA8B,KAAKC,EAAnC;AACrD,QAAI,KAAKf,KAAL,IAAe,KAAKA,KAAL,KAAe,CAAf,IAAoB,KAAKC,MAAL,KAAgB,CAAvD,EAA2D,KAAKj/B,QAAL,CAAcqnB,SAAd;AAC3D,QAAI,KAAK2X,KAAL,IAAc,CAAlB,EAAqB,KAAK0D,EAAL,GAAU,IAAI,KAAKA,EAAnB,EAAuB,KAAK1D,KAAL,GAAa,IAAI,KAAKA,KAA7C;AACtB,GAfc;AAgBfvjB,SAAO,eAASnyE,CAAT,EAAY+J,CAAZ,EAAe;AACpB/J,QAAI,CAACA,CAAL,EAAQ+J,IAAI,CAACA,CAAb;AACA,YAAQ,KAAK4rF,MAAb;AACE,WAAK,CAAL;AAAQ,aAAKA,MAAL,GAAc,CAAd,CAAiB,KAAKD,KAAL,GAAa,KAAKh/B,QAAL,CAAcsnB,MAAd,CAAqBh+E,CAArB,EAAwB+J,CAAxB,CAAb,GAA0C,KAAK2sD,QAAL,CAAconB,MAAd,CAAqB99E,CAArB,EAAwB+J,CAAxB,CAA1C,CAAsE;AAC/F,WAAK,CAAL;AAAQ,aAAK4rF,MAAL,GAAc,CAAd,CAFV,CAE2B;AACzB;AAAS;AACP,cAAI,KAAKyD,EAAL,IAAW,CAAf,EAAkB;AAChB,iBAAK1iC,QAAL,CAAcsnB,MAAd,CAAqB,KAAKwY,EAA1B,EAA8BzsF,CAA9B;AACA,iBAAK2sD,QAAL,CAAcsnB,MAAd,CAAqBh+E,CAArB,EAAwB+J,CAAxB;AACD,WAHD,MAGO;AACL,gBAAI45C,KAAK,KAAK6yC,EAAL,IAAW,IAAI,KAAK4C,EAApB,IAA0Bp5F,IAAI,KAAKo5F,EAA5C;AACA,iBAAK1iC,QAAL,CAAcsnB,MAAd,CAAqBr6B,EAArB,EAAyB,KAAK8yC,EAA9B;AACA,iBAAK//B,QAAL,CAAcsnB,MAAd,CAAqBr6B,EAArB,EAAyB55C,CAAzB;AACD;AACD;AACD;AAbH;AAeA,SAAKysF,EAAL,GAAUx2F,CAAV,EAAa,KAAKy2F,EAAL,GAAU1sF,CAAvB;AACD;AAlCc,CAAjB;;AAqCe,yEAASsZ,OAAT,EAAkB;AAC/B,SAAO,IAAI81E,IAAJ,CAAS91E,OAAT,EAAkB,GAAlB,CAAP;AACD;;AAEM,SAASg2E,UAAT,CAAoBh2E,OAApB,EAA6B;AAClC,SAAO,IAAI81E,IAAJ,CAAS91E,OAAT,EAAkB,CAAlB,CAAP;AACD;;AAEM,SAASi2E,SAAT,CAAmBj2E,OAAnB,EAA4B;AACjC,SAAO,IAAI81E,IAAJ,CAAS91E,OAAT,EAAkB,CAAlB,CAAP;AACD,C;;;;;;;;;;;;ACpDD;AAAe,yEAAS1pB,CAAT,EAAYC,CAAZ,EAAe;AAC5B,SAAOA,IAAID,CAAJ,GAAQ,CAAC,CAAT,GAAaC,IAAID,CAAJ,GAAQ,CAAR,GAAYC,KAAKD,CAAL,GAAS,CAAT,GAAayjE,GAA7C;AACD,C;;;;;;;;;;;;ACFD;AAAe,yEAAS7pF,CAAT,EAAY;AACzB,SAAOA,CAAP;AACD,C;;;;;;;;;;;;ACFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;CAC2E;CACA;AAC3E;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC3CA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA,+DAAe,YAAW;AACxB,MAAIysB,IAAI8zF,wCAAR;AAAA,MACI/pF,IAAIgqF,wCADR;AAAA,MAEIC,UAAUn1B,yDAAQA,CAAC,IAAT,CAFd;AAAA,MAGIx7C,UAAU,IAHd;AAAA,MAII4wE,QAAQC,qDAJZ;AAAA,MAKInS,SAAS,IALb;;AAOA,WAAS3gB,IAAT,CAAc9mF,IAAd,EAAoB;AAClB,QAAIpH,CAAJ;AAAA,QACIwB,IAAI4F,KAAK3C,MADb;AAAA,QAEIpE,CAFJ;AAAA,QAGI6gH,WAAW,KAHf;AAAA,QAIIzB,MAJJ;;AAMA,QAAItvE,WAAW,IAAf,EAAqB0+D,SAASkS,MAAMtB,SAASr8F,oDAAIA,EAAnB,CAAT;;AAErB,SAAKpjB,IAAI,CAAT,EAAYA,KAAKwB,CAAjB,EAAoB,EAAExB,CAAtB,EAAyB;AACvB,UAAI,EAAEA,IAAIwB,CAAJ,IAASs/G,QAAQzgH,IAAI+G,KAAKpH,CAAL,CAAZ,EAAqBA,CAArB,EAAwBoH,IAAxB,CAAX,MAA8C85G,QAAlD,EAA4D;AAC1D,YAAIA,WAAW,CAACA,QAAhB,EAA0BrS,OAAOyS,SAAP,GAA1B,KACKzS,OAAO0S,OAAP;AACN;AACD,UAAIL,QAAJ,EAAcrS,OAAO5P,KAAP,CAAa,CAACnyE,EAAEzsB,CAAF,EAAKL,CAAL,EAAQoH,IAAR,CAAd,EAA6B,CAACyvB,EAAEx2B,CAAF,EAAKL,CAAL,EAAQoH,IAAR,CAA9B;AACf;;AAED,QAAIq4G,MAAJ,EAAY,OAAO5Q,SAAS,IAAT,EAAe4Q,SAAS,EAAT,IAAe,IAArC;AACb;;AAEDvxB,OAAKphE,CAAL,GAAS,UAASpK,CAAT,EAAY;AACnB,WAAOtW,UAAU3H,MAAV,IAAoBqoB,IAAI,OAAOpK,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAACjpE,CAAV,CAAlC,EAAgDwrE,IAApE,IAA4EphE,CAAnF;AACD,GAFD;;AAIAohE,OAAKr3D,CAAL,GAAS,UAASnU,CAAT,EAAY;AACnB,WAAOtW,UAAU3H,MAAV,IAAoBoyB,IAAI,OAAOnU,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAACjpE,CAAV,CAAlC,EAAgDwrE,IAApE,IAA4Er3D,CAAnF;AACD,GAFD;;AAIAq3D,OAAK4yB,OAAL,GAAe,UAASp+F,CAAT,EAAY;AACzB,WAAOtW,UAAU3H,MAAV,IAAoBq8G,UAAU,OAAOp+F,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAAC,CAACjpE,CAAX,CAAxC,EAAuDwrE,IAA3E,IAAmF4yB,OAA1F;AACD,GAFD;;AAIA5yB,OAAK6yB,KAAL,GAAa,UAASr+F,CAAT,EAAY;AACvB,WAAOtW,UAAU3H,MAAV,IAAoBs8G,QAAQr+F,CAAR,EAAWytB,WAAW,IAAX,KAAoB0+D,SAASkS,MAAM5wE,OAAN,CAA7B,CAAX,EAAyD+9C,IAA7E,IAAqF6yB,KAA5F;AACD,GAFD;;AAIA7yB,OAAK/9C,OAAL,GAAe,UAASztB,CAAT,EAAY;AACzB,WAAOtW,UAAU3H,MAAV,IAAoBie,KAAK,IAAL,GAAYytB,UAAU0+D,SAAS,IAA/B,GAAsCA,SAASkS,MAAM5wE,UAAUztB,CAAhB,CAA/C,EAAmEwrE,IAAvF,IAA+F/9C,OAAtG;AACD,GAFD;;AAIA,SAAO+9C,IAAP;AACD,C;;;;;;;;;;;;ACtDD;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,SAAS+zB,UAAT,CAAoBhiH,CAApB,EAAuB;AAC5B,MAAIG,IAAIH,EAAE8gH,KAAV;;AAEA9gH,IAAEolD,KAAF,GAAUplD,EAAE6sB,CAAZ,EAAe,OAAO7sB,EAAE6sB,CAAxB;AACA7sB,IAAE8hH,MAAF,GAAW9hH,EAAE42B,CAAb,EAAgB,OAAO52B,EAAE42B,CAAzB;;AAEA52B,IAAE8gH,KAAF,GAAU,UAASr+F,CAAT,EAAY;AACpB,WAAOtW,UAAU3H,MAAV,GAAmBrE,EAAEiiH,6DAAWA,CAAC3/F,CAAZ,CAAF,CAAnB,GAAuCtiB,IAAIkiH,MAAlD;AACD,GAFD;;AAIA,SAAOriH,CAAP;AACD;;AAEc,2EAAW;AACxB,SAAOgiH,WAAW/zB,qDAAIA,GAAG6yB,KAAP,CAAae,+DAAb,CAAX,CAAP;AACD,C;;;;;;;;;;;;AClBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;AAEA,SAASuE,UAAT,CAAoBhmH,CAApB,EAAuB;AACrB,SAAOA,EAAEsxB,MAAT;AACD;;AAED,SAAS20F,UAAT,CAAoBjmH,CAApB,EAAuB;AACrB,SAAOA,EAAEwK,MAAT;AACD;;AAED,SAAS07G,IAAT,CAAcxF,KAAd,EAAqB;AACnB,MAAIpvF,SAAS00F,UAAb;AAAA,MACIx7G,SAASy7G,UADb;AAAA,MAEIx5F,IAAI8zF,wCAFR;AAAA,MAGI/pF,IAAIgqF,wCAHR;AAAA,MAII1wE,UAAU,IAJd;;AAMA,WAASo2E,IAAT,GAAgB;AACd,QAAI9G,MAAJ;AAAA,QAAY+G,OAAOzhH,4CAAKA,CAAC7E,IAAN,CAAWkM,SAAX,CAAnB;AAAA,QAA0CpK,IAAI2vB,OAAOlpB,KAAP,CAAa,IAAb,EAAmB+9G,IAAnB,CAA9C;AAAA,QAAwEvlH,IAAI4J,OAAOpC,KAAP,CAAa,IAAb,EAAmB+9G,IAAnB,CAA5E;AACA,QAAI,CAACr2E,OAAL,EAAcA,UAAUsvE,SAASr8F,oDAAIA,EAAvB;AACd29F,UAAM5wE,OAAN,EAAe,CAACrjB,EAAErkB,KAAF,CAAQ,IAAR,GAAe+9G,KAAK,CAAL,IAAUxkH,CAAV,EAAawkH,IAA5B,EAAhB,EAAoD,CAAC3vF,EAAEpuB,KAAF,CAAQ,IAAR,EAAc+9G,IAAd,CAArD,EAA0E,CAAC15F,EAAErkB,KAAF,CAAQ,IAAR,GAAe+9G,KAAK,CAAL,IAAUvlH,CAAV,EAAaulH,IAA5B,EAA3E,EAA+G,CAAC3vF,EAAEpuB,KAAF,CAAQ,IAAR,EAAc+9G,IAAd,CAAhH;AACA,QAAI/G,MAAJ,EAAY,OAAOtvE,UAAU,IAAV,EAAgBsvE,SAAS,EAAT,IAAe,IAAtC;AACb;;AAED8G,OAAK50F,MAAL,GAAc,UAASjP,CAAT,EAAY;AACxB,WAAOtW,UAAU3H,MAAV,IAAoBktB,SAASjP,CAAT,EAAY6jG,IAAhC,IAAwC50F,MAA/C;AACD,GAFD;;AAIA40F,OAAK17G,MAAL,GAAc,UAAS6X,CAAT,EAAY;AACxB,WAAOtW,UAAU3H,MAAV,IAAoBoG,SAAS6X,CAAT,EAAY6jG,IAAhC,IAAwC17G,MAA/C;AACD,GAFD;;AAIA07G,OAAKz5F,CAAL,GAAS,UAASpK,CAAT,EAAY;AACnB,WAAOtW,UAAU3H,MAAV,IAAoBqoB,IAAI,OAAOpK,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAACjpE,CAAV,CAAlC,EAAgD6jG,IAApE,IAA4Ez5F,CAAnF;AACD,GAFD;;AAIAy5F,OAAK1vF,CAAL,GAAS,UAASnU,CAAT,EAAY;AACnB,WAAOtW,UAAU3H,MAAV,IAAoBoyB,IAAI,OAAOnU,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAACjpE,CAAV,CAAlC,EAAgD6jG,IAApE,IAA4E1vF,CAAnF;AACD,GAFD;;AAIA0vF,OAAKp2E,OAAL,GAAe,UAASztB,CAAT,EAAY;AACzB,WAAOtW,UAAU3H,MAAV,IAAqB0rC,UAAUztB,KAAK,IAAL,GAAY,IAAZ,GAAmBA,CAA9B,EAAkC6jG,IAAtD,IAA8Dp2E,OAArE;AACD,GAFD;;AAIA,SAAOo2E,IAAP;AACD;;AAED,SAASE,eAAT,CAAyBt2E,OAAzB,EAAkCo7C,EAAlC,EAAsC2f,EAAtC,EAA0Cz6B,EAA1C,EAA8CC,EAA9C,EAAkD;AAChDvgC,UAAQy6D,MAAR,CAAerf,EAAf,EAAmB2f,EAAnB;AACA/6D,UAAQ66D,aAAR,CAAsBzf,KAAK,CAACA,KAAK9a,EAAN,IAAY,CAAvC,EAA0Cy6B,EAA1C,EAA8C3f,EAA9C,EAAkD7a,EAAlD,EAAsDD,EAAtD,EAA0DC,EAA1D;AACD;;AAED,SAASg2C,aAAT,CAAuBv2E,OAAvB,EAAgCo7C,EAAhC,EAAoC2f,EAApC,EAAwCz6B,EAAxC,EAA4CC,EAA5C,EAAgD;AAC9CvgC,UAAQy6D,MAAR,CAAerf,EAAf,EAAmB2f,EAAnB;AACA/6D,UAAQ66D,aAAR,CAAsBzf,EAAtB,EAA0B2f,KAAK,CAACA,KAAKx6B,EAAN,IAAY,CAA3C,EAA8CD,EAA9C,EAAkDy6B,EAAlD,EAAsDz6B,EAAtD,EAA0DC,EAA1D;AACD;;AAED,SAAS2xC,WAAT,CAAqBlyE,OAArB,EAA8Bo7C,EAA9B,EAAkC2f,EAAlC,EAAsCz6B,EAAtC,EAA0CC,EAA1C,EAA8C;AAC5C,MAAI2uB,KAAKsnB,4DAAWA,CAACp7B,EAAZ,EAAgB2f,EAAhB,CAAT;AAAA,MACIriD,KAAK89D,4DAAWA,CAACp7B,EAAZ,EAAgB2f,KAAK,CAACA,KAAKx6B,EAAN,IAAY,CAAjC,CADT;AAAA,MAEI5nB,KAAK69D,4DAAWA,CAACl2C,EAAZ,EAAgBy6B,EAAhB,CAFT;AAAA,MAGI0b,KAAKD,4DAAWA,CAACl2C,EAAZ,EAAgBC,EAAhB,CAHT;AAIAvgC,UAAQy6D,MAAR,CAAevL,GAAG,CAAH,CAAf,EAAsBA,GAAG,CAAH,CAAtB;AACAlvD,UAAQ66D,aAAR,CAAsBniD,GAAG,CAAH,CAAtB,EAA6BA,GAAG,CAAH,CAA7B,EAAoCC,GAAG,CAAH,CAApC,EAA2CA,GAAG,CAAH,CAA3C,EAAkD89D,GAAG,CAAH,CAAlD,EAAyDA,GAAG,CAAH,CAAzD;AACD;;AAEM,SAASC,cAAT,GAA0B;AAC/B,SAAON,KAAKE,eAAL,CAAP;AACD;;AAEM,SAASK,YAAT,GAAwB;AAC7B,SAAOP,KAAKG,aAAL,CAAP;AACD;;AAEM,SAASK,UAAT,GAAsB;AAC3B,MAAI9mH,IAAIsmH,KAAKlE,WAAL,CAAR;AACApiH,IAAEolD,KAAF,GAAUplD,EAAE6sB,CAAZ,EAAe,OAAO7sB,EAAE6sB,CAAxB;AACA7sB,IAAE8hH,MAAF,GAAW9hH,EAAE42B,CAAb,EAAgB,OAAO52B,EAAE42B,CAAzB;AACA,SAAO52B,CAAP;AACD,C;;;;;;;;;;;;ACnFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,IAAIm8B,MAAMnf,KAAKmf,GAAf;AACA,IAAI2+D,QAAQ99E,KAAK89E,KAAjB;AACA,IAAIx1C,MAAMtoC,KAAKsoC,GAAf;AACA,IAAI9rC,MAAMwD,KAAKxD,GAAf;AACA,IAAIH,MAAM2D,KAAK3D,GAAf;AACA,IAAIimC,MAAMtiC,KAAKsiC,GAAf;AACA,IAAI7xB,OAAOzQ,KAAKyQ,IAAhB;;AAEA,IAAI0/D,UAAU,KAAd;AACA,IAAIgV,KAAKnlF,KAAKqoC,EAAd;AACA,IAAI+8C,SAASD,KAAK,CAAlB;AACA,IAAIhB,MAAM,IAAIgB,EAAd;;AAEA,SAAS0J,IAAT,CAAch/E,CAAd,EAAiB;AACtB,SAAOA,IAAI,CAAJ,GAAQ,CAAR,GAAYA,IAAI,CAAC,CAAL,GAASs1E,EAAT,GAAcnlF,KAAK6uF,IAAL,CAAUh/E,CAAV,CAAjC;AACD;;AAEM,SAAS00E,IAAT,CAAc10E,CAAd,EAAiB;AACtB,SAAOA,KAAK,CAAL,GAASu1E,MAAT,GAAkBv1E,KAAK,CAAC,CAAN,GAAU,CAACu1E,MAAX,GAAoBplF,KAAKukF,IAAL,CAAU10E,CAAV,CAA7C;AACD,C;;;;;;;;;;;;ACnBD;AAAe,2EAAW,CAAE,C;;;;;;;;;;;;ACA5B;AAAe,yEAASk6F,MAAT,EAAiBn6G,KAAjB,EAAwB;AACrC,MAAI,EAAE,CAACrL,IAAIwlH,OAAOviH,MAAZ,IAAsB,CAAxB,CAAJ,EAAgC;AAChC,OAAK,IAAIzE,CAAJ,EAAO8E,IAAI,CAAX,EAAczE,CAAd,EAAiB2iE,EAAjB,EAAqBikD,EAArB,EAAyBC,EAAzB,EAA6B1lH,CAA7B,EAAgCrB,IAAI6mH,OAAOn6G,MAAM,CAAN,CAAP,EAAiBpI,MAA1D,EAAkEK,IAAI3E,CAAtE,EAAyE,EAAE2E,CAA3E,EAA8E;AAC5E,SAAKmiH,KAAKC,KAAK,CAAV,EAAalnH,IAAI,CAAtB,EAAyBA,IAAIwB,CAA7B,EAAgC,EAAExB,CAAlC,EAAqC;AACnC,UAAI,CAACgjE,KAAK,CAAC3iE,IAAI2mH,OAAOn6G,MAAM7M,CAAN,CAAP,EAAiB8E,CAAjB,CAAL,EAA0B,CAA1B,IAA+BzE,EAAE,CAAF,CAArC,KAA8C,CAAlD,EAAqD;AACnDA,UAAE,CAAF,IAAO4mH,EAAP,EAAW5mH,EAAE,CAAF,IAAO4mH,MAAMjkD,EAAxB;AACD,OAFD,MAEO,IAAIA,KAAK,CAAT,EAAY;AACjB3iE,UAAE,CAAF,IAAO6mH,EAAP,EAAW7mH,EAAE,CAAF,IAAO6mH,MAAMlkD,EAAxB;AACD,OAFM,MAEA;AACL3iE,UAAE,CAAF,IAAO4mH,EAAP;AACD;AACF;AACF;AACF,C;;;;;;;;;;;;ACbD;AAAA;AAAA;;AAEe,yEAASD,MAAT,EAAiBn6G,KAAjB,EAAwB;AACrC,MAAI,EAAE,CAACrL,IAAIwlH,OAAOviH,MAAZ,IAAsB,CAAxB,CAAJ,EAAgC;AAChC,OAAK,IAAIzE,CAAJ,EAAOwB,CAAP,EAAUsD,IAAI,CAAd,EAAiB3E,IAAI6mH,OAAO,CAAP,EAAUviH,MAA/B,EAAuCoyB,CAA5C,EAA+C/xB,IAAI3E,CAAnD,EAAsD,EAAE2E,CAAxD,EAA2D;AACzD,SAAK+xB,IAAI72B,IAAI,CAAb,EAAgBA,IAAIwB,CAApB,EAAuB,EAAExB,CAAzB;AAA4B62B,WAAKmwF,OAAOhnH,CAAP,EAAU8E,CAAV,EAAa,CAAb,KAAmB,CAAxB;AAA5B,KACA,IAAI+xB,CAAJ,EAAO,KAAK72B,IAAI,CAAT,EAAYA,IAAIwB,CAAhB,EAAmB,EAAExB,CAArB;AAAwBgnH,aAAOhnH,CAAP,EAAU8E,CAAV,EAAa,CAAb,KAAmB+xB,CAAnB;AAAxB;AACR;AACDqmF,uDAAIA,CAAC8J,MAAL,EAAan6G,KAAb;AACD,C;;;;;;;;;;;;ACTD;AAAe,yEAASm6G,MAAT,EAAiBn6G,KAAjB,EAAwB;AACrC,MAAI,EAAE,CAACrL,IAAIwlH,OAAOviH,MAAZ,IAAsB,CAAxB,CAAJ,EAAgC;AAChC,OAAK,IAAIzE,IAAI,CAAR,EAAW8E,CAAX,EAAcsgH,EAAd,EAAkBx+E,KAAKogF,OAAOn6G,MAAM,CAAN,CAAP,CAAvB,EAAyCrL,CAAzC,EAA4CrB,IAAIymC,GAAGniC,MAAxD,EAAgEzE,IAAIwB,CAApE,EAAuE,EAAExB,CAAzE,EAA4E;AAC1EolH,SAAKx+E,EAAL,EAASA,KAAKogF,OAAOn6G,MAAM7M,CAAN,CAAP,CAAd;AACA,SAAK8E,IAAI,CAAT,EAAYA,IAAI3E,CAAhB,EAAmB,EAAE2E,CAArB,EAAwB;AACtB8hC,SAAG9hC,CAAH,EAAM,CAAN,KAAY8hC,GAAG9hC,CAAH,EAAM,CAAN,IAAWkX,MAAMopG,GAAGtgH,CAAH,EAAM,CAAN,CAAN,IAAkBsgH,GAAGtgH,CAAH,EAAM,CAAN,CAAlB,GAA6BsgH,GAAGtgH,CAAH,EAAM,CAAN,CAApD;AACD;AACF;AACF,C;;;;;;;;;;;;ACRD;AAAA;AAAA;;AAEe,yEAASkiH,MAAT,EAAiBn6G,KAAjB,EAAwB;AACrC,MAAI,EAAE,CAACrL,IAAIwlH,OAAOviH,MAAZ,IAAsB,CAAxB,CAAJ,EAAgC;AAChC,OAAK,IAAIK,IAAI,CAAR,EAAWsgH,KAAK4B,OAAOn6G,MAAM,CAAN,CAAP,CAAhB,EAAkCrL,CAAlC,EAAqCrB,IAAIilH,GAAG3gH,MAAjD,EAAyDK,IAAI3E,CAA7D,EAAgE,EAAE2E,CAAlE,EAAqE;AACnE,SAAK,IAAI9E,IAAI,CAAR,EAAW62B,IAAI,CAApB,EAAuB72B,IAAIwB,CAA3B,EAA8B,EAAExB,CAAhC;AAAmC62B,WAAKmwF,OAAOhnH,CAAP,EAAU8E,CAAV,EAAa,CAAb,KAAmB,CAAxB;AAAnC,KACAsgH,GAAGtgH,CAAH,EAAM,CAAN,KAAYsgH,GAAGtgH,CAAH,EAAM,CAAN,IAAW,CAAC+xB,CAAD,GAAK,CAA5B;AACD;AACDqmF,uDAAIA,CAAC8J,MAAL,EAAan6G,KAAb;AACD,C;;;;;;;;;;;;ACTD;AAAA;AAAA;;AAEe,yEAASm6G,MAAT,EAAiBn6G,KAAjB,EAAwB;AACrC,MAAI,EAAE,CAACrL,IAAIwlH,OAAOviH,MAAZ,IAAsB,CAAxB,KAA8B,EAAE,CAACtE,IAAI,CAACilH,KAAK4B,OAAOn6G,MAAM,CAAN,CAAP,CAAN,EAAwBpI,MAA7B,IAAuC,CAAzC,CAAlC,EAA+E;AAC/E,OAAK,IAAIoyB,IAAI,CAAR,EAAW/xB,IAAI,CAAf,EAAkBsgH,EAAlB,EAAsBjlH,CAAtB,EAAyBqB,CAA9B,EAAiCsD,IAAI3E,CAArC,EAAwC,EAAE2E,CAA1C,EAA6C;AAC3C,SAAK,IAAI9E,IAAI,CAAR,EAAW4mC,KAAK,CAAhB,EAAmBC,KAAK,CAA7B,EAAgC7mC,IAAIwB,CAApC,EAAuC,EAAExB,CAAzC,EAA4C;AAC1C,UAAImnH,KAAKH,OAAOn6G,MAAM7M,CAAN,CAAP,CAAT;AAAA,UACIonH,OAAOD,GAAGriH,CAAH,EAAM,CAAN,KAAY,CADvB;AAAA,UAEIuiH,OAAOF,GAAGriH,IAAI,CAAP,EAAU,CAAV,KAAgB,CAF3B;AAAA,UAGIwiH,KAAK,CAACF,OAAOC,IAAR,IAAgB,CAHzB;AAIA,WAAK,IAAI15B,IAAI,CAAb,EAAgBA,IAAI3tF,CAApB,EAAuB,EAAE2tF,CAAzB,EAA4B;AAC1B,YAAI45B,KAAKP,OAAOn6G,MAAM8gF,CAAN,CAAP,CAAT;AAAA,YACI65B,OAAOD,GAAGziH,CAAH,EAAM,CAAN,KAAY,CADvB;AAAA,YAEI2iH,OAAOF,GAAGziH,IAAI,CAAP,EAAU,CAAV,KAAgB,CAF3B;AAGAwiH,cAAME,OAAOC,IAAb;AACD;AACD7gF,YAAMwgF,IAAN,EAAYvgF,MAAMygF,KAAKF,IAAvB;AACD;AACDhC,OAAGtgH,IAAI,CAAP,EAAU,CAAV,KAAgBsgH,GAAGtgH,IAAI,CAAP,EAAU,CAAV,IAAe+xB,CAA/B;AACA,QAAI+P,EAAJ,EAAQ/P,KAAKgQ,KAAKD,EAAV;AACT;AACDw+E,KAAGtgH,IAAI,CAAP,EAAU,CAAV,KAAgBsgH,GAAGtgH,IAAI,CAAP,EAAU,CAAV,IAAe+xB,CAA/B;AACAqmF,uDAAIA,CAAC8J,MAAL,EAAan6G,KAAb;AACD,C;;;;;;;;;;;;ACvBD;AAAA;AAAA;AAAA;;AAEe,yEAASm6G,MAAT,EAAiB;AAC9B,MAAIU,OAAOV,OAAO5jH,GAAP,CAAWopB,GAAX,CAAX;AACA,SAAO0wF,qDAAIA,CAAC8J,MAAL,EAAa/5G,IAAb,CAAkB,UAASwZ,CAAT,EAAYC,CAAZ,EAAe;AAAE,WAAOghG,KAAKjhG,CAAL,IAAUihG,KAAKhhG,CAAL,CAAjB;AAA2B,GAA9D,CAAP;AACD;;AAEM,SAAS8F,GAAT,CAAaw6F,MAAb,EAAqB;AAC1B,MAAIhlH,IAAI,CAAR;AAAA,MAAWhC,IAAI,CAAC,CAAhB;AAAA,MAAmBwB,IAAIwlH,OAAOviH,MAA9B;AAAA,MAAsC0c,CAAtC;AACA,SAAO,EAAEnhB,CAAF,GAAMwB,CAAb;AAAgB,QAAI2f,IAAI,CAAC6lG,OAAOhnH,CAAP,EAAU,CAAV,CAAT,EAAuBgC,KAAKmf,CAAL;AAAvC,GACA,OAAOnf,CAAP;AACD,C;;;;;;;;;;;;ACXD;AAAA;AAAA;;AAEe,yEAASglH,MAAT,EAAiB;AAC9B,SAAO38B,0DAASA,CAAC28B,MAAV,EAAkB/hG,OAAlB,EAAP;AACD,C;;;;;;;;;;;;ACJD;AAAA;AAAA;AAAA;AACA;;AAEe,yEAAS+hG,MAAT,EAAiB;AAC9B,MAAIxlH,IAAIwlH,OAAOviH,MAAf;AAAA,MACIzE,CADJ;AAAA,MAEI8E,CAFJ;AAAA,MAGI4iH,OAAOV,OAAO5jH,GAAP,CAAWopB,8CAAX,CAHX;AAAA,MAII3f,QAAQqwG,qDAAIA,CAAC8J,MAAL,EAAa/5G,IAAb,CAAkB,UAASwZ,CAAT,EAAYC,CAAZ,EAAe;AAAE,WAAOghG,KAAKhhG,CAAL,IAAUghG,KAAKjhG,CAAL,CAAjB;AAA2B,GAA9D,CAJZ;AAAA,MAKIygB,MAAM,CALV;AAAA,MAMIE,SAAS,CANb;AAAA,MAOIugF,OAAO,EAPX;AAAA,MAQIC,UAAU,EARd;;AAUA,OAAK5nH,IAAI,CAAT,EAAYA,IAAIwB,CAAhB,EAAmB,EAAExB,CAArB,EAAwB;AACtB8E,QAAI+H,MAAM7M,CAAN,CAAJ;AACA,QAAIknC,MAAME,MAAV,EAAkB;AAChBF,aAAOwgF,KAAK5iH,CAAL,CAAP;AACA6iH,WAAK3jH,IAAL,CAAUc,CAAV;AACD,KAHD,MAGO;AACLsiC,gBAAUsgF,KAAK5iH,CAAL,CAAV;AACA8iH,cAAQ5jH,IAAR,CAAac,CAAb;AACD;AACF;;AAED,SAAO8iH,QAAQ3iG,OAAR,GAAkB/f,MAAlB,CAAyByiH,IAAzB,CAAP;AACD,C;;;;;;;;;;;;AC1BD;AAAe,yEAASX,MAAT,EAAiB;AAC9B,MAAIxlH,IAAIwlH,OAAOviH,MAAf;AAAA,MAAuBjE,IAAI,IAAIuH,KAAJ,CAAUvG,CAAV,CAA3B;AACA,SAAO,EAAEA,CAAF,IAAO,CAAd;AAAiBhB,MAAEgB,CAAF,IAAOA,CAAP;AAAjB,GACA,OAAOhB,CAAP;AACD,C;;;;;;;;;;;;ACJD;AAAA;AAAA;;AAEe,yEAASwmH,MAAT,EAAiB;AAC9B,SAAO9J,qDAAIA,CAAC8J,MAAL,EAAa/hG,OAAb,EAAP;AACD,C;;;;;;;;;;;;ACJD;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEe,2EAAW;AACxB,MAAIjkB,QAAQy/B,iDAAZ;AAAA,MACI+tD,aAAaq5B,mDADjB;AAAA,MAEI56G,OAAO,IAFX;AAAA,MAGIwwG,aAAa9xB,yDAAQA,CAAC,CAAT,CAHjB;AAAA,MAIIgyB,WAAWhyB,yDAAQA,CAACyV,yCAAT,CAJf;AAAA,MAKIyc,WAAWlyB,yDAAQA,CAAC,CAAT,CALf;;AAOA,WAASm8B,GAAT,CAAa1gH,IAAb,EAAmB;AACjB,QAAIpH,CAAJ;AAAA,QACIwB,IAAI4F,KAAK3C,MADb;AAAA,QAEIK,CAFJ;AAAA,QAGI6oF,CAHJ;AAAA,QAIInhE,MAAM,CAJV;AAAA,QAKI9a,QAAQ,IAAI3J,KAAJ,CAAUvG,CAAV,CALZ;AAAA,QAMIumH,OAAO,IAAIhgH,KAAJ,CAAUvG,CAAV,CANX;AAAA,QAOI0qG,KAAK,CAACuR,WAAWh1G,KAAX,CAAiB,IAAjB,EAAuB2D,SAAvB,CAPV;AAAA,QAQIigG,KAAKpvF,KAAK3D,GAAL,CAAS8nF,yCAAT,EAAcnkF,KAAKxD,GAAL,CAAS,CAAC2nF,yCAAV,EAAeuc,SAASl1G,KAAT,CAAe,IAAf,EAAqB2D,SAArB,IAAkC8/F,EAAjD,CAAd,CART;AAAA,QASIpiF,EATJ;AAAA,QAUI/nB,IAAIkb,KAAK3D,GAAL,CAAS2D,KAAKmf,GAAL,CAASiwE,EAAT,IAAe7qG,CAAxB,EAA2Bq8G,SAASp1G,KAAT,CAAe,IAAf,EAAqB2D,SAArB,CAA3B,CAVR;AAAA,QAWI47G,KAAKjmH,KAAKsqG,KAAK,CAAL,GAAS,CAAC,CAAV,GAAc,CAAnB,CAXT;AAAA,QAYIlrF,CAZJ;;AAcA,SAAKnhB,IAAI,CAAT,EAAYA,IAAIwB,CAAhB,EAAmB,EAAExB,CAArB,EAAwB;AACtB,UAAI,CAACmhB,IAAI4mG,KAAKr2G,MAAM1R,CAAN,IAAWA,CAAhB,IAAqB,CAACgB,MAAMoG,KAAKpH,CAAL,CAAN,EAAeA,CAAf,EAAkBoH,IAAlB,CAA3B,IAAsD,CAA1D,EAA6D;AAC3DolB,eAAOrL,CAAP;AACD;AACF;;AAED;AACA,QAAIqtE,cAAc,IAAlB,EAAwB98E,MAAMzE,IAAN,CAAW,UAASjN,CAAT,EAAY8E,CAAZ,EAAe;AAAE,aAAO0pF,WAAWu5B,KAAK/nH,CAAL,CAAX,EAAoB+nH,KAAKjjH,CAAL,CAApB,CAAP;AAAsC,KAAlE,EAAxB,KACK,IAAImI,QAAQ,IAAZ,EAAkByE,MAAMzE,IAAN,CAAW,UAASjN,CAAT,EAAY8E,CAAZ,EAAe;AAAE,aAAOmI,KAAK7F,KAAKpH,CAAL,CAAL,EAAcoH,KAAKtC,CAAL,CAAd,CAAP;AAAgC,KAA5D;;AAEvB;AACA,SAAK9E,IAAI,CAAJ,EAAO2tF,IAAInhE,MAAM,CAAC6/E,KAAK7qG,IAAIwmH,EAAV,IAAgBx7F,GAAtB,GAA4B,CAA5C,EAA+CxsB,IAAIwB,CAAnD,EAAsD,EAAExB,CAAF,EAAKksG,KAAKpiF,EAAhE,EAAoE;AAClEhlB,UAAI4M,MAAM1R,CAAN,CAAJ,EAAcmhB,IAAI4mG,KAAKjjH,CAAL,CAAlB,EAA2BglB,KAAKoiF,MAAM/qF,IAAI,CAAJ,GAAQA,IAAIwsE,CAAZ,GAAgB,CAAtB,IAA2Bq6B,EAA3D,EAA+DD,KAAKjjH,CAAL,IAAU;AACvEsC,cAAMA,KAAKtC,CAAL,CADiE;AAEvE4M,eAAO1R,CAFgE;AAGvEgB,eAAOmgB,CAHgE;AAIvEs8F,oBAAYvR,EAJ2D;AAKvEyR,kBAAU7zF,EAL6D;AAMvE+zF,kBAAU97G;AAN6D,OAAzE;AAQD;;AAED,WAAOgmH,IAAP;AACD;;AAEDD,MAAI9mH,KAAJ,GAAY,UAAS0hB,CAAT,EAAY;AACtB,WAAOtW,UAAU3H,MAAV,IAAoBzD,QAAQ,OAAO0hB,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAACjpE,CAAV,CAAtC,EAAoDolG,GAAxE,IAA+E9mH,KAAtF;AACD,GAFD;;AAIA8mH,MAAIt5B,UAAJ,GAAiB,UAAS9rE,CAAT,EAAY;AAC3B,WAAOtW,UAAU3H,MAAV,IAAoB+pF,aAAa9rE,CAAb,EAAgBzV,OAAO,IAAvB,EAA6B66G,GAAjD,IAAwDt5B,UAA/D;AACD,GAFD;;AAIAs5B,MAAI76G,IAAJ,GAAW,UAASyV,CAAT,EAAY;AACrB,WAAOtW,UAAU3H,MAAV,IAAoBwI,OAAOyV,CAAP,EAAU8rE,aAAa,IAAvB,EAA6Bs5B,GAAjD,IAAwD76G,IAA/D;AACD,GAFD;;AAIA66G,MAAIrK,UAAJ,GAAiB,UAAS/6F,CAAT,EAAY;AAC3B,WAAOtW,UAAU3H,MAAV,IAAoBg5G,aAAa,OAAO/6F,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAACjpE,CAAV,CAA3C,EAAyDolG,GAA7E,IAAoFrK,UAA3F;AACD,GAFD;;AAIAqK,MAAInK,QAAJ,GAAe,UAASj7F,CAAT,EAAY;AACzB,WAAOtW,UAAU3H,MAAV,IAAoBk5G,WAAW,OAAOj7F,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAACjpE,CAAV,CAAzC,EAAuDolG,GAA3E,IAAkFnK,QAAzF;AACD,GAFD;;AAIAmK,MAAIjK,QAAJ,GAAe,UAASn7F,CAAT,EAAY;AACzB,WAAOtW,UAAU3H,MAAV,IAAoBo5G,WAAW,OAAOn7F,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAACjpE,CAAV,CAAzC,EAAuDolG,GAA3E,IAAkFjK,QAAzF;AACD,GAFD;;AAIA,SAAOiK,GAAP;AACD,C;;;;;;;;;;;;AC9ED;AAAA;AAAA;AAAO,SAASh7F,CAAT,CAAW/qB,CAAX,EAAc;AACnB,SAAOA,EAAE,CAAF,CAAP;AACD;;AAEM,SAAS80B,CAAT,CAAW90B,CAAX,EAAc;AACnB,SAAOA,EAAE,CAAF,CAAP;AACD,C;;;;;;;;;;;;ACND;AAAe,yEAAS+qB,CAAT,EAAY+J,CAAZ,EAAe;AAC5B,SAAO,CAAC,CAACA,IAAI,CAACA,CAAN,IAAW5Z,KAAKsoC,GAAL,CAASz4B,KAAK7P,KAAKqoC,EAAL,GAAU,CAAxB,CAAZ,EAAwCzuB,IAAI5Z,KAAKsiC,GAAL,CAASzyB,CAAT,CAA5C,CAAP;AACD,C;;;;;;;;;;;;ACFD;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA,SAASm7F,UAAT,CAAoB5nH,CAApB,EAAuBiB,GAAvB,EAA4B;AAC1B,SAAOjB,EAAEiB,GAAF,CAAP;AACD;;AAEc,2EAAW;AACxB,MAAI4H,OAAOyiF,yDAAQA,CAAC,EAAT,CAAX;AAAA,MACI9+E,QAAQq7G,mDADZ;AAAA,MAEI/+D,SAASg/D,oDAFb;AAAA,MAGInnH,QAAQinH,UAHZ;;AAKA,WAASnoC,KAAT,CAAe14E,IAAf,EAAqB;AACnB,QAAIghH,KAAKl/G,KAAKT,KAAL,CAAW,IAAX,EAAiB2D,SAAjB,CAAT;AAAA,QACIpM,CADJ;AAAA,QAEIG,IAAIiH,KAAK3C,MAFb;AAAA,QAGIjD,IAAI4mH,GAAG3jH,MAHX;AAAA,QAII4jH,KAAK,IAAItgH,KAAJ,CAAUvG,CAAV,CAJT;AAAA,QAKI8mH,EALJ;;AAOA,SAAKtoH,IAAI,CAAT,EAAYA,IAAIwB,CAAhB,EAAmB,EAAExB,CAArB,EAAwB;AACtB,WAAK,IAAIuoH,KAAKH,GAAGpoH,CAAH,CAAT,EAAgBmnH,KAAKkB,GAAGroH,CAAH,IAAQ,IAAI+H,KAAJ,CAAU5H,CAAV,CAA7B,EAA2C2E,IAAI,CAA/C,EAAkD0jH,GAAvD,EAA4D1jH,IAAI3E,CAAhE,EAAmE,EAAE2E,CAArE,EAAwE;AACtEqiH,WAAGriH,CAAH,IAAQ0jH,MAAM,CAAC,CAAD,EAAI,CAACxnH,MAAMoG,KAAKtC,CAAL,CAAN,EAAeyjH,EAAf,EAAmBzjH,CAAnB,EAAsBsC,IAAtB,CAAL,CAAd;AACAohH,YAAIphH,IAAJ,GAAWA,KAAKtC,CAAL,CAAX;AACD;AACDqiH,SAAG7lH,GAAH,GAASinH,EAAT;AACD;;AAED,SAAKvoH,IAAI,CAAJ,EAAOsoH,KAAKz7G,MAAMw7G,EAAN,CAAjB,EAA4BroH,IAAIwB,CAAhC,EAAmC,EAAExB,CAArC,EAAwC;AACtCqoH,SAAGC,GAAGtoH,CAAH,CAAH,EAAU0R,KAAV,GAAkB1R,CAAlB;AACD;;AAEDmpD,WAAOk/D,EAAP,EAAWC,EAAX;AACA,WAAOD,EAAP;AACD;;AAEDvoC,QAAM52E,IAAN,GAAa,UAASwZ,CAAT,EAAY;AACvB,WAAOtW,UAAU3H,MAAV,IAAoByE,OAAO,OAAOwZ,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC5mF,4CAAKA,CAAC7E,IAAN,CAAWwiB,CAAX,CAAT,CAArC,EAA8Do9D,KAAlF,IAA2F52E,IAAlG;AACD,GAFD;;AAIA42E,QAAM9+E,KAAN,GAAc,UAAS0hB,CAAT,EAAY;AACxB,WAAOtW,UAAU3H,MAAV,IAAoBzD,QAAQ,OAAO0hB,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAACjpE,CAAV,CAAtC,EAAoDo9D,KAAxE,IAAiF9+E,KAAxF;AACD,GAFD;;AAIA8+E,QAAMjzE,KAAN,GAAc,UAAS6V,CAAT,EAAY;AACxB,WAAOtW,UAAU3H,MAAV,IAAoBoI,QAAQ6V,KAAK,IAAL,GAAYwlG,mDAAZ,GAAwB,OAAOxlG,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC5mF,4CAAKA,CAAC7E,IAAN,CAAWwiB,CAAX,CAAT,CAA9D,EAAuFo9D,KAA3G,IAAoHjzE,KAA3H;AACD,GAFD;;AAIAizE,QAAM32B,MAAN,GAAe,UAASzmC,CAAT,EAAY;AACzB,WAAOtW,UAAU3H,MAAV,IAAoB0kD,SAASzmC,KAAK,IAAL,GAAYylG,oDAAZ,GAAyBzlG,CAAlC,EAAqCo9D,KAAzD,IAAkE32B,MAAzE;AACD,GAFD;;AAIA,SAAO22B,KAAP;AACD,C;;;;;;;;;;;;ACxDD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,IAAI2oC,UAAU,CACnBC,sDADmB,EAEnBC,qDAFmB,EAGnBC,uDAHmB,EAInBC,sDAJmB,EAKnBC,oDALmB,EAMnBC,wDANmB,EAOnBC,mDAPmB,CAAd;;AAUQ,2EAAW;AACxB,MAAIx5G,OAAOm8E,yDAAQA,CAAC+8B,sDAAT,CAAX;AAAA,MACI78C,OAAO8f,yDAAQA,CAAC,EAAT,CADX;AAAA,MAEIx7C,UAAU,IAFd;;AAIA,WAASwzD,MAAT,GAAkB;AAChB,QAAI8b,MAAJ;AACA,QAAI,CAACtvE,OAAL,EAAcA,UAAUsvE,SAASr8F,oDAAIA,EAAvB;AACd5T,SAAK/G,KAAL,CAAW,IAAX,EAAiB2D,SAAjB,EAA4Bk9E,IAA5B,CAAiCn5C,OAAjC,EAA0C,CAAC07B,KAAKpjE,KAAL,CAAW,IAAX,EAAiB2D,SAAjB,CAA3C;AACA,QAAIqzG,MAAJ,EAAY,OAAOtvE,UAAU,IAAV,EAAgBsvE,SAAS,EAAT,IAAe,IAAtC;AACb;;AAED9b,SAAOn0F,IAAP,GAAc,UAASkT,CAAT,EAAY;AACxB,WAAOtW,UAAU3H,MAAV,IAAoB+K,OAAO,OAAOkT,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAACjpE,CAAT,CAArC,EAAkDihF,MAAtE,IAAgFn0F,IAAvF;AACD,GAFD;;AAIAm0F,SAAO93B,IAAP,GAAc,UAASnpD,CAAT,EAAY;AACxB,WAAOtW,UAAU3H,MAAV,IAAoBonE,OAAO,OAAOnpD,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAACjpE,CAAV,CAArC,EAAmDihF,MAAvE,IAAiF93B,IAAxF;AACD,GAFD;;AAIA83B,SAAOxzD,OAAP,GAAiB,UAASztB,CAAT,EAAY;AAC3B,WAAOtW,UAAU3H,MAAV,IAAoB0rC,UAAUztB,KAAK,IAAL,GAAY,IAAZ,GAAmBA,CAA7B,EAAgCihF,MAApD,IAA8DxzD,OAArE;AACD,GAFD;;AAIA,SAAOwzD,MAAP;AACD,C;;;;;;;;;;;;AC7CD;AAAA;AAAA;;AAEe;AACbra,QAAM,cAASn5C,OAAT,EAAkB07B,IAAlB,EAAwB;AAC5B,QAAIhrE,IAAIoc,KAAKyQ,IAAL,CAAUm+C,OAAOu2B,wCAAjB,CAAR;AACAjyD,YAAQy6D,MAAR,CAAe/pG,CAAf,EAAkB,CAAlB;AACAsvC,YAAQ87D,GAAR,CAAY,CAAZ,EAAe,CAAf,EAAkBprG,CAAlB,EAAqB,CAArB,EAAwBugG,yCAAxB;AACD;AALY,CAAf,E;;;;;;;;;;;;ACFA;AAAe;AACb9X,QAAM,cAASn5C,OAAT,EAAkB07B,IAAlB,EAAwB;AAC5B,QAAIhrE,IAAIoc,KAAKyQ,IAAL,CAAUm+C,OAAO,CAAjB,IAAsB,CAA9B;AACA17B,YAAQy6D,MAAR,CAAe,CAAC,CAAD,GAAK/pG,CAApB,EAAuB,CAACA,CAAxB;AACAsvC,YAAQ26D,MAAR,CAAe,CAACjqG,CAAhB,EAAmB,CAACA,CAApB;AACAsvC,YAAQ26D,MAAR,CAAe,CAACjqG,CAAhB,EAAmB,CAAC,CAAD,GAAKA,CAAxB;AACAsvC,YAAQ26D,MAAR,CAAejqG,CAAf,EAAkB,CAAC,CAAD,GAAKA,CAAvB;AACAsvC,YAAQ26D,MAAR,CAAejqG,CAAf,EAAkB,CAACA,CAAnB;AACAsvC,YAAQ26D,MAAR,CAAe,IAAIjqG,CAAnB,EAAsB,CAACA,CAAvB;AACAsvC,YAAQ26D,MAAR,CAAe,IAAIjqG,CAAnB,EAAsBA,CAAtB;AACAsvC,YAAQ26D,MAAR,CAAejqG,CAAf,EAAkBA,CAAlB;AACAsvC,YAAQ26D,MAAR,CAAejqG,CAAf,EAAkB,IAAIA,CAAtB;AACAsvC,YAAQ26D,MAAR,CAAe,CAACjqG,CAAhB,EAAmB,IAAIA,CAAvB;AACAsvC,YAAQ26D,MAAR,CAAe,CAACjqG,CAAhB,EAAmBA,CAAnB;AACAsvC,YAAQ26D,MAAR,CAAe,CAAC,CAAD,GAAKjqG,CAApB,EAAuBA,CAAvB;AACAsvC,YAAQ06D,SAAR;AACD;AAhBY,CAAf,E;;;;;;;;;;;;ACAA;AAAA,IAAIoe,QAAQhsG,KAAKyQ,IAAL,CAAU,IAAI,CAAd,CAAZ;AAAA,IACIw7F,UAAUD,QAAQ,CADtB;;AAGe;AACb3/B,QAAM,cAASn5C,OAAT,EAAkB07B,IAAlB,EAAwB;AAC5B,QAAIh1C,IAAI5Z,KAAKyQ,IAAL,CAAUm+C,OAAOq9C,OAAjB,CAAR;AAAA,QACIp8F,IAAI+J,IAAIoyF,KADZ;AAEA94E,YAAQy6D,MAAR,CAAe,CAAf,EAAkB,CAAC/zE,CAAnB;AACAsZ,YAAQ26D,MAAR,CAAeh+E,CAAf,EAAkB,CAAlB;AACAqjB,YAAQ26D,MAAR,CAAe,CAAf,EAAkBj0E,CAAlB;AACAsZ,YAAQ26D,MAAR,CAAe,CAACh+E,CAAhB,EAAmB,CAAnB;AACAqjB,YAAQ06D,SAAR;AACD;AATY,CAAf,E;;;;;;;;;;;;ACHA;AAAe;AACbvhB,QAAM,cAASn5C,OAAT,EAAkB07B,IAAlB,EAAwB;AAC5B,QAAI0gC,IAAItvF,KAAKyQ,IAAL,CAAUm+C,IAAV,CAAR;AAAA,QACI/+C,IAAI,CAACy/E,CAAD,GAAK,CADb;AAEAp8D,YAAQm8D,IAAR,CAAax/E,CAAb,EAAgBA,CAAhB,EAAmBy/E,CAAnB,EAAsBA,CAAtB;AACD;AALY,CAAf,E;;;;;;;;;;;;ACAA;AAAA;AAAA;;AAEA,IAAI4c,KAAK,sBAAT;AAAA,IACIC,KAAKnsG,KAAKsiC,GAAL,CAAS6iD,wCAAEA,GAAG,EAAd,IAAoBnlF,KAAKsiC,GAAL,CAAS,IAAI6iD,wCAAJ,GAAS,EAAlB,CAD7B;AAAA,IAEIinB,KAAKpsG,KAAKsiC,GAAL,CAAS6hD,yCAAGA,GAAG,EAAf,IAAqBgoB,EAF9B;AAAA,IAGIE,KAAK,CAACrsG,KAAKsoC,GAAL,CAAS67C,yCAAGA,GAAG,EAAf,CAAD,GAAsBgoB,EAH/B;;AAKe;AACb9/B,UAAM,cAASn5C,OAAT,EAAkB07B,IAAlB,EAAwB;AAC5B,YAAIhrE,IAAIoc,KAAKyQ,IAAL,CAAUm+C,OAAOs9C,EAAjB,CAAR;AAAA,YACIr8F,IAAIu8F,KAAKxoH,CADb;AAAA,YAEIg2B,IAAIyyF,KAAKzoH,CAFb;AAGAsvC,gBAAQy6D,MAAR,CAAe,CAAf,EAAkB,CAAC/pG,CAAnB;AACAsvC,gBAAQ26D,MAAR,CAAeh+E,CAAf,EAAkB+J,CAAlB;AACA,aAAK,IAAI72B,IAAI,CAAb,EAAgBA,IAAI,CAApB,EAAuB,EAAEA,CAAzB,EAA4B;AAC1B,gBAAIymB,IAAI26E,yCAAGA,GAAGphG,CAAN,GAAU,CAAlB;AAAA,gBACII,IAAI6c,KAAKsoC,GAAL,CAAS9+B,CAAT,CADR;AAAA,gBAEIzkB,IAAIib,KAAKsiC,GAAL,CAAS94B,CAAT,CAFR;AAGA0pB,oBAAQ26D,MAAR,CAAe9oG,IAAInB,CAAnB,EAAsB,CAACT,CAAD,GAAKS,CAA3B;AACAsvC,oBAAQ26D,MAAR,CAAe1qG,IAAI0sB,CAAJ,GAAQ9qB,IAAI60B,CAA3B,EAA8B70B,IAAI8qB,CAAJ,GAAQ1sB,IAAIy2B,CAA1C;AACD;AACDsZ,gBAAQ06D,SAAR;AACD;AAfY,CAAf,E;;;;;;;;;;;;ACPA;AAAA,IAAI0e,QAAQtsG,KAAKyQ,IAAL,CAAU,CAAV,CAAZ;;AAEe;AACb47D,QAAM,cAASn5C,OAAT,EAAkB07B,IAAlB,EAAwB;AAC5B,QAAIh1C,IAAI,CAAC5Z,KAAKyQ,IAAL,CAAUm+C,QAAQ09C,QAAQ,CAAhB,CAAV,CAAT;AACAp5E,YAAQy6D,MAAR,CAAe,CAAf,EAAkB/zE,IAAI,CAAtB;AACAsZ,YAAQ26D,MAAR,CAAe,CAACye,KAAD,GAAS1yF,CAAxB,EAA2B,CAACA,CAA5B;AACAsZ,YAAQ26D,MAAR,CAAeye,QAAQ1yF,CAAvB,EAA0B,CAACA,CAA3B;AACAsZ,YAAQ06D,SAAR;AACD;AAPY,CAAf,E;;;;;;;;;;;;ACFA;AAAA,IAAIzqG,IAAI,CAAC,GAAT;AAAA,IACI4B,IAAIib,KAAKyQ,IAAL,CAAU,CAAV,IAAe,CADvB;AAAA,IAEIigE,IAAI,IAAI1wE,KAAKyQ,IAAL,CAAU,EAAV,CAFZ;AAAA,IAGIjH,IAAI,CAACknE,IAAI,CAAJ,GAAQ,CAAT,IAAc,CAHtB;;AAKe;AACbrE,UAAM,cAASn5C,OAAT,EAAkB07B,IAAlB,EAAwB;AAC5B,YAAIhrE,IAAIoc,KAAKyQ,IAAL,CAAUm+C,OAAOplD,CAAjB,CAAR;AAAA,YACI8kE,KAAK1qF,IAAI,CADb;AAAA,YAEIqqG,KAAKrqG,IAAI8sF,CAFb;AAAA,YAGIld,KAAK8a,EAHT;AAAA,YAII7a,KAAK7vE,IAAI8sF,CAAJ,GAAQ9sF,CAJjB;AAAA,YAKIqiE,KAAK,CAACuN,EALV;AAAA,YAMIxN,KAAKyN,EANT;AAOAvgC,gBAAQy6D,MAAR,CAAerf,EAAf,EAAmB2f,EAAnB;AACA/6D,gBAAQ26D,MAAR,CAAer6B,EAAf,EAAmBC,EAAnB;AACAvgC,gBAAQ26D,MAAR,CAAe5nC,EAAf,EAAmBD,EAAnB;AACA9yB,gBAAQ26D,MAAR,CAAe1qG,IAAImrF,EAAJ,GAASvpF,IAAIkpG,EAA5B,EAAgClpG,IAAIupF,EAAJ,GAASnrF,IAAI8qG,EAA7C;AACA/6D,gBAAQ26D,MAAR,CAAe1qG,IAAIqwE,EAAJ,GAASzuE,IAAI0uE,EAA5B,EAAgC1uE,IAAIyuE,EAAJ,GAASrwE,IAAIswE,EAA7C;AACAvgC,gBAAQ26D,MAAR,CAAe1qG,IAAI8iE,EAAJ,GAASlhE,IAAIihE,EAA5B,EAAgCjhE,IAAIkhE,EAAJ,GAAS9iE,IAAI6iE,EAA7C;AACA9yB,gBAAQ26D,MAAR,CAAe1qG,IAAImrF,EAAJ,GAASvpF,IAAIkpG,EAA5B,EAAgC9qG,IAAI8qG,EAAJ,GAASlpG,IAAIupF,EAA7C;AACAp7C,gBAAQ26D,MAAR,CAAe1qG,IAAIqwE,EAAJ,GAASzuE,IAAI0uE,EAA5B,EAAgCtwE,IAAIswE,EAAJ,GAAS1uE,IAAIyuE,EAA7C;AACAtgC,gBAAQ26D,MAAR,CAAe1qG,IAAI8iE,EAAJ,GAASlhE,IAAIihE,EAA5B,EAAgC7iE,IAAI6iE,EAAJ,GAASjhE,IAAIkhE,EAA7C;AACA/yB,gBAAQ06D,SAAR;AACD;AAnBY,CAAf,E;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEA,IAAIpI,MAAJ;AACO,IAAImP,UAAJ;AACA,IAAI4X,SAAJ;AACA,IAAInX,SAAJ;AACA,IAAIoX,QAAJ;;AAEP9mB,cAAc;AACZ+mB,YAAU,QADE;AAEZ91F,QAAM,YAFM;AAGZw2B,QAAM,cAHM;AAIZu/D,WAAS,CAAC,IAAD,EAAO,IAAP,CAJG;AAKZC,QAAM,CAAC,QAAD,EAAW,QAAX,EAAqB,SAArB,EAAgC,WAAhC,EAA6C,UAA7C,EAAyD,QAAzD,EAAmE,UAAnE,CALM;AAMZC,aAAW,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,CANC;AAOZC,UAAQ,CAAC,SAAD,EAAY,UAAZ,EAAwB,OAAxB,EAAiC,OAAjC,EAA0C,KAA1C,EAAiD,MAAjD,EAAyD,MAAzD,EAAiE,QAAjE,EAA2E,WAA3E,EAAwF,SAAxF,EAAmG,UAAnG,EAA+G,UAA/G,CAPI;AAQZC,eAAa,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,EAAkD,KAAlD,EAAyD,KAAzD,EAAgE,KAAhE,EAAuE,KAAvE,EAA8E,KAA9E;AARD,CAAd;;AAWe,SAASpnB,aAAT,CAAuBtH,UAAvB,EAAmC;AAChDoH,WAASO,uDAAYA,CAAC3H,UAAb,CAAT;AACAuW,eAAanP,OAAO//F,MAApB;AACA8mH,cAAY/mB,OAAOjgG,KAAnB;AACA6vG,cAAY5P,OAAO4P,SAAnB;AACAoX,aAAWhnB,OAAOgnB,QAAlB;AACA,SAAOhnB,MAAP;AACD,C;;;;;;;;;;;;AC1BD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;;AAEO,IAAIunB,eAAe,uBAAnB;;AAEP,SAASC,eAAT,CAAyBr2F,IAAzB,EAA+B;AAC7B,WAAOA,KAAKs2F,WAAL,EAAP;AACD;;AAED,IAAIC,YAAY5tG,KAAK1a,SAAL,CAAeqoH,WAAf,GACVD,eADU,GAEV5X,gEAASA,CAAC2X,YAAV,CAFN;;AAIeG,wEAAf,E;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;AACA;;AAEA,SAASC,cAAT,CAAwBlhB,MAAxB,EAAgC;AAC9B,MAAIt1E,OAAO,IAAIrX,IAAJ,CAAS2sF,MAAT,CAAX;AACA,SAAOltF,MAAM4X,IAAN,IAAc,IAAd,GAAqBA,IAA5B;AACD;;AAED,IAAIy2F,WAAW,CAAC,IAAI9tG,IAAJ,CAAS,0BAAT,CAAD,GACT6tG,cADS,GAETX,+DAAQA,CAACO,uDAAT,CAFN;;AAIeK,uEAAf,E;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;;AAaA,SAASC,SAAT,CAAmBjqH,CAAnB,EAAsB;AACpB,MAAI,KAAKA,EAAEw2B,CAAP,IAAYx2B,EAAEw2B,CAAF,GAAM,GAAtB,EAA2B;AACzB,QAAIjD,OAAO,IAAIrX,IAAJ,CAAS,CAAC,CAAV,EAAalc,EAAEF,CAAf,EAAkBE,EAAEA,CAApB,EAAuBA,EAAEk1B,CAAzB,EAA4Bl1B,EAAEw1B,CAA9B,EAAiCx1B,EAAE21B,CAAnC,EAAsC31B,EAAEkqH,CAAxC,CAAX;AACA32F,SAAK42F,WAAL,CAAiBnqH,EAAEw2B,CAAnB;AACA,WAAOjD,IAAP;AACD;AACD,SAAO,IAAIrX,IAAJ,CAASlc,EAAEw2B,CAAX,EAAcx2B,EAAEF,CAAhB,EAAmBE,EAAEA,CAArB,EAAwBA,EAAEk1B,CAA1B,EAA6Bl1B,EAAEw1B,CAA/B,EAAkCx1B,EAAE21B,CAApC,EAAuC31B,EAAEkqH,CAAzC,CAAP;AACD;;AAED,SAASE,OAAT,CAAiBpqH,CAAjB,EAAoB;AAClB,MAAI,KAAKA,EAAEw2B,CAAP,IAAYx2B,EAAEw2B,CAAF,GAAM,GAAtB,EAA2B;AACzB,QAAIjD,OAAO,IAAIrX,IAAJ,CAASA,KAAK+1F,GAAL,CAAS,CAAC,CAAV,EAAajyG,EAAEF,CAAf,EAAkBE,EAAEA,CAApB,EAAuBA,EAAEk1B,CAAzB,EAA4Bl1B,EAAEw1B,CAA9B,EAAiCx1B,EAAE21B,CAAnC,EAAsC31B,EAAEkqH,CAAxC,CAAT,CAAX;AACA32F,SAAK82F,cAAL,CAAoBrqH,EAAEw2B,CAAtB;AACA,WAAOjD,IAAP;AACD;AACD,SAAO,IAAIrX,IAAJ,CAASA,KAAK+1F,GAAL,CAASjyG,EAAEw2B,CAAX,EAAcx2B,EAAEF,CAAhB,EAAmBE,EAAEA,CAArB,EAAwBA,EAAEk1B,CAA1B,EAA6Bl1B,EAAEw1B,CAA/B,EAAkCx1B,EAAE21B,CAApC,EAAuC31B,EAAEkqH,CAAzC,CAAT,CAAP;AACD;;AAED,SAASI,OAAT,CAAiB9zF,CAAjB,EAAoB;AAClB,SAAO,EAACA,GAAGA,CAAJ,EAAO12B,GAAG,CAAV,EAAaE,GAAG,CAAhB,EAAmBk1B,GAAG,CAAtB,EAAyBM,GAAG,CAA5B,EAA+BG,GAAG,CAAlC,EAAqCu0F,GAAG,CAAxC,EAAP;AACD;;AAEc,SAASvnB,YAAT,CAAsBP,MAAtB,EAA8B;AAC3C,MAAImoB,kBAAkBnoB,OAAOinB,QAA7B;AAAA,MACImB,cAAcpoB,OAAO7uE,IADzB;AAAA,MAEIk3F,cAAcroB,OAAOr4C,IAFzB;AAAA,MAGI2gE,iBAAiBtoB,OAAOknB,OAH5B;AAAA,MAIIqB,kBAAkBvoB,OAAOmnB,IAJ7B;AAAA,MAKIqB,uBAAuBxoB,OAAOonB,SALlC;AAAA,MAMIqB,gBAAgBzoB,OAAOqnB,MAN3B;AAAA,MAOIqB,qBAAqB1oB,OAAOsnB,WAPhC;;AASA,MAAIqB,WAAWC,SAASN,cAAT,CAAf;AAAA,MACIO,eAAeC,aAAaR,cAAb,CADnB;AAAA,MAEIS,YAAYH,SAASL,eAAT,CAFhB;AAAA,MAGIS,gBAAgBF,aAAaP,eAAb,CAHpB;AAAA,MAIIU,iBAAiBL,SAASJ,oBAAT,CAJrB;AAAA,MAKIU,qBAAqBJ,aAAaN,oBAAb,CALzB;AAAA,MAMIW,UAAUP,SAASH,aAAT,CANd;AAAA,MAOIW,cAAcN,aAAaL,aAAb,CAPlB;AAAA,MAQIY,eAAeT,SAASF,kBAAT,CARnB;AAAA,MASIY,mBAAmBR,aAAaJ,kBAAb,CATvB;;AAWA,MAAIa,UAAU;AACZ,SAAKC,kBADO;AAEZ,SAAKC,aAFO;AAGZ,SAAKC,gBAHO;AAIZ,SAAKlb,WAJO;AAKZ,SAAK,IALO;AAMZ,SAAKmb,gBANO;AAOZ,SAAKA,gBAPO;AAQZ,SAAKC,kBARO;AASZ,SAAKC,YATO;AAUZ,SAAKC,YAVO;AAWZ,SAAKC,eAXO;AAYZ,SAAKC,kBAZO;AAaZ,SAAKC,iBAbO;AAcZ,SAAKC,aAdO;AAeZ,SAAKC,YAfO;AAgBZ,SAAKC,mBAhBO;AAiBZ,SAAKC,0BAjBO;AAkBZ,SAAKC,aAlBO;AAmBZ,SAAKC,yBAnBO;AAoBZ,SAAKC,sBApBO;AAqBZ,SAAKC,mBArBO;AAsBZ,SAAKC,yBAtBO;AAuBZ,SAAKC,sBAvBO;AAwBZ,SAAK,IAxBO;AAyBZ,SAAK,IAzBO;AA0BZ,SAAKlc,UA1BO;AA2BZ,SAAKmc,cA3BO;AA4BZ,SAAKC,UA5BO;AA6BZ,SAAKC;AA7BO,GAAd;;AAgCA,MAAIC,aAAa;AACf,SAAKC,qBADU;AAEf,SAAKC,gBAFU;AAGf,SAAKC,mBAHU;AAIf,SAAKC,cAJU;AAKf,SAAK,IALU;AAMf,SAAKC,mBANU;AAOf,SAAKA,mBAPU;AAQf,SAAKC,qBARU;AASf,SAAKC,eATU;AAUf,SAAKC,eAVU;AAWf,SAAKC,kBAXU;AAYf,SAAKC,qBAZU;AAaf,SAAKC,oBAbU;AAcf,SAAKC,gBAdU;AAef,SAAKC,eAfU;AAgBf,SAAKxB,mBAhBU;AAiBf,SAAKC,0BAjBU;AAkBf,SAAKwB,gBAlBU;AAmBf,SAAKC,4BAnBU;AAoBf,SAAKC,yBApBU;AAqBf,SAAKC,sBArBU;AAsBf,SAAKC,4BAtBU;AAuBf,SAAKC,yBAvBU;AAwBf,SAAK,IAxBU;AAyBf,SAAK,IAzBU;AA0Bf,SAAKC,aA1BU;AA2Bf,SAAKC,iBA3BU;AA4Bf,SAAKC,aA5BU;AA6Bf,SAAKvB;AA7BU,GAAjB;;AAgCA,MAAIwB,SAAS;AACX,SAAKC,iBADM;AAEX,SAAKC,YAFM;AAGX,SAAKC,eAHM;AAIX,SAAKC,UAJM;AAKX,SAAKC,mBALM;AAMX,SAAKC,eANM;AAOX,SAAKA,eAPM;AAQX,SAAKC,iBARM;AASX,SAAKC,WATM;AAUX,SAAKA,WAVM;AAWX,SAAKC,cAXM;AAYX,SAAKC,iBAZM;AAaX,SAAKC,gBAbM;AAcX,SAAKC,YAdM;AAeX,SAAKC,WAfM;AAgBX,SAAKC,kBAhBM;AAiBX,SAAKC,yBAjBM;AAkBX,SAAKC,YAlBM;AAmBX,SAAKC,wBAnBM;AAoBX,SAAKC,qBApBM;AAqBX,SAAKC,kBArBM;AAsBX,SAAKC,wBAtBM;AAuBX,SAAKC,qBAvBM;AAwBX,SAAKC,eAxBM;AAyBX,SAAKC,eAzBM;AA0BX,SAAKC,SA1BM;AA2BX,SAAKC,aA3BM;AA4BX,SAAKC,SA5BM;AA6BX,SAAKC;AA7BM,GAAb;;AAgCA;AACA1E,UAAQl/F,CAAR,GAAYy3E,UAAUsmB,WAAV,EAAuBmB,OAAvB,CAAZ;AACAA,UAAQ2E,CAAR,GAAYpsB,UAAUumB,WAAV,EAAuBkB,OAAvB,CAAZ;AACAA,UAAQ5rH,CAAR,GAAYmkG,UAAUqmB,eAAV,EAA2BoB,OAA3B,CAAZ;AACAwB,aAAW1gG,CAAX,GAAey3E,UAAUsmB,WAAV,EAAuB2C,UAAvB,CAAf;AACAA,aAAWmD,CAAX,GAAepsB,UAAUumB,WAAV,EAAuB0C,UAAvB,CAAf;AACAA,aAAWptH,CAAX,GAAemkG,UAAUqmB,eAAV,EAA2B4C,UAA3B,CAAf;;AAEA,WAASjpB,SAAT,CAAmBf,SAAnB,EAA8BwoB,OAA9B,EAAuC;AACrC,WAAO,UAASp4F,IAAT,EAAe;AACpB,UAAIs1E,SAAS,EAAb;AAAA,UACIlpG,IAAI,CAAC,CADT;AAAA,UAEI8E,IAAI,CAFR;AAAA,UAGItD,IAAIgiG,UAAU/+F,MAHlB;AAAA,UAIIrE,CAJJ;AAAA,UAKIyzB,GALJ;AAAA,UAMInxB,MANJ;;AAQA,UAAI,EAAEkxB,gBAAgBrX,IAAlB,CAAJ,EAA6BqX,OAAO,IAAIrX,IAAJ,CAAS,CAACqX,IAAV,CAAP;;AAE7B,aAAO,EAAE5zB,CAAF,GAAMwB,CAAb,EAAgB;AACd,YAAIgiG,UAAUn/F,UAAV,CAAqBrE,CAArB,MAA4B,EAAhC,EAAoC;AAClCkpG,iBAAOllG,IAAP,CAAYw/F,UAAUz+F,KAAV,CAAgBD,CAAhB,EAAmB9E,CAAnB,CAAZ;AACA,cAAI,CAAC6zB,MAAM+8F,KAAKxwH,IAAIojG,UAAU7rC,MAAV,CAAiB,EAAE33D,CAAnB,CAAT,CAAP,KAA2C,IAA/C,EAAqDI,IAAIojG,UAAU7rC,MAAV,CAAiB,EAAE33D,CAAnB,CAAJ,CAArD,KACK6zB,MAAMzzB,MAAM,GAAN,GAAY,GAAZ,GAAkB,GAAxB;AACL,cAAIsC,SAASspH,QAAQ5rH,CAAR,CAAb,EAAyBA,IAAIsC,OAAOkxB,IAAP,EAAaC,GAAb,CAAJ;AACzBq1E,iBAAOllG,IAAP,CAAY5D,CAAZ;AACA0E,cAAI9E,IAAI,CAAR;AACD;AACF;;AAEDkpG,aAAOllG,IAAP,CAAYw/F,UAAUz+F,KAAV,CAAgBD,CAAhB,EAAmB9E,CAAnB,CAAZ;AACA,aAAOkpG,OAAO3lG,IAAP,CAAY,EAAZ,CAAP;AACD,KAxBD;AAyBD;;AAED,WAASstH,QAAT,CAAkBrtB,SAAlB,EAA6BstB,OAA7B,EAAsC;AACpC,WAAO,UAAS5nB,MAAT,EAAiB;AACtB,UAAI7oG,IAAIsqH,QAAQ,IAAR,CAAR;AAAA,UACI3qH,IAAI+wH,eAAe1wH,CAAf,EAAkBmjG,SAAlB,EAA6B0F,UAAU,EAAvC,EAA2C,CAA3C,CADR;AAAA,UAEIwH,IAFJ;AAAA,UAEUp6E,GAFV;AAGA,UAAIt2B,KAAKkpG,OAAOzkG,MAAhB,EAAwB,OAAO,IAAP;;AAExB;AACA,UAAI,OAAOpE,CAAX,EAAc,OAAO,IAAIkc,IAAJ,CAASlc,EAAE2wH,CAAX,CAAP;;AAEd;AACA,UAAI,OAAO3wH,CAAX,EAAcA,EAAEk1B,CAAF,GAAMl1B,EAAEk1B,CAAF,GAAM,EAAN,GAAWl1B,EAAE0B,CAAF,GAAM,EAAvB;;AAEd;AACA,UAAI,OAAO1B,CAAX,EAAc;AACZ,YAAIA,EAAE4wH,CAAF,GAAM,CAAN,IAAW5wH,EAAE4wH,CAAF,GAAM,EAArB,EAAyB,OAAO,IAAP;AACzB,YAAI,EAAE,OAAO5wH,CAAT,CAAJ,EAAiBA,EAAEksG,CAAF,GAAM,CAAN;AACjB,YAAI,OAAOlsG,CAAX,EAAc;AACZqwG,iBAAO+Z,QAAQE,QAAQtqH,EAAEw2B,CAAV,CAAR,CAAP,EAA8BP,MAAMo6E,KAAKwgB,SAAL,EAApC;AACAxgB,iBAAOp6E,MAAM,CAAN,IAAWA,QAAQ,CAAnB,GAAuB66F,iDAASA,CAACz7E,IAAV,CAAeg7D,IAAf,CAAvB,GAA8CygB,yDAASA,CAACzgB,IAAV,CAArD;AACAA,iBAAOsB,8CAAMA,CAAC7oD,MAAP,CAAcunD,IAAd,EAAoB,CAACrwG,EAAE4wH,CAAF,GAAM,CAAP,IAAY,CAAhC,CAAP;AACA5wH,YAAEw2B,CAAF,GAAM65E,KAAK0gB,cAAL,EAAN;AACA/wH,YAAEF,CAAF,GAAMuwG,KAAK2gB,WAAL,EAAN;AACAhxH,YAAEA,CAAF,GAAMqwG,KAAK4gB,UAAL,KAAoB,CAACjxH,EAAEksG,CAAF,GAAM,CAAP,IAAY,CAAtC;AACD,SAPD,MAOO;AACLmE,iBAAOogB,QAAQnG,QAAQtqH,EAAEw2B,CAAV,CAAR,CAAP,EAA8BP,MAAMo6E,KAAKn6E,MAAL,EAApC;AACAm6E,iBAAOp6E,MAAM,CAAN,IAAWA,QAAQ,CAAnB,GAAuBi7F,kDAAUA,CAAC77E,IAAX,CAAgBg7D,IAAhB,CAAvB,GAA+C6gB,0DAAUA,CAAC7gB,IAAX,CAAtD;AACAA,iBAAOa,+CAAOA,CAACpoD,MAAR,CAAeunD,IAAf,EAAqB,CAACrwG,EAAE4wH,CAAF,GAAM,CAAP,IAAY,CAAjC,CAAP;AACA5wH,YAAEw2B,CAAF,GAAM65E,KAAK15E,WAAL,EAAN;AACA32B,YAAEF,CAAF,GAAMuwG,KAAK/5E,QAAL,EAAN;AACAt2B,YAAEA,CAAF,GAAMqwG,KAAKj6E,OAAL,KAAiB,CAACp2B,EAAEksG,CAAF,GAAM,CAAP,IAAY,CAAnC;AACD;AACF,OAlBD,MAkBO,IAAI,OAAOlsG,CAAP,IAAY,OAAOA,CAAvB,EAA0B;AAC/B,YAAI,EAAE,OAAOA,CAAT,CAAJ,EAAiBA,EAAEksG,CAAF,GAAM,OAAOlsG,CAAP,GAAWA,EAAEgqG,CAAF,GAAM,CAAjB,GAAqB,OAAOhqG,CAAP,GAAW,CAAX,GAAe,CAA1C;AACjBi2B,cAAM,OAAOj2B,CAAP,GAAWoqH,QAAQE,QAAQtqH,EAAEw2B,CAAV,CAAR,EAAsBq6F,SAAtB,EAAX,GAA+CJ,QAAQnG,QAAQtqH,EAAEw2B,CAAV,CAAR,EAAsBN,MAAtB,EAArD;AACAl2B,UAAEF,CAAF,GAAM,CAAN;AACAE,UAAEA,CAAF,GAAM,OAAOA,CAAP,GAAW,CAACA,EAAEksG,CAAF,GAAM,CAAP,IAAY,CAAZ,GAAgBlsG,EAAEmxH,CAAF,GAAM,CAAtB,GAA0B,CAACl7F,MAAM,CAAP,IAAY,CAAjD,GAAqDj2B,EAAEksG,CAAF,GAAMlsG,EAAEoxH,CAAF,GAAM,CAAZ,GAAgB,CAACn7F,MAAM,CAAP,IAAY,CAAvF;AACD;;AAED;AACA;AACA,UAAI,OAAOj2B,CAAX,EAAc;AACZA,UAAEk1B,CAAF,IAAOl1B,EAAEqxH,CAAF,GAAM,GAAN,GAAY,CAAnB;AACArxH,UAAEw1B,CAAF,IAAOx1B,EAAEqxH,CAAF,GAAM,GAAb;AACA,eAAOjH,QAAQpqH,CAAR,CAAP;AACD;;AAED;AACA,aAAOywH,QAAQzwH,CAAR,CAAP;AACD,KAhDD;AAiDD;;AAED,WAAS0wH,cAAT,CAAwB1wH,CAAxB,EAA2BmjG,SAA3B,EAAsC0F,MAAtC,EAA8CpkG,CAA9C,EAAiD;AAC/C,QAAI9E,IAAI,CAAR;AAAA,QACIwB,IAAIgiG,UAAU/+F,MADlB;AAAA,QAEItE,IAAI+oG,OAAOzkG,MAFf;AAAA,QAGIrE,CAHJ;AAAA,QAIIoC,KAJJ;;AAMA,WAAOxC,IAAIwB,CAAX,EAAc;AACZ,UAAIsD,KAAK3E,CAAT,EAAY,OAAO,CAAC,CAAR;AACZC,UAAIojG,UAAUn/F,UAAV,CAAqBrE,GAArB,CAAJ;AACA,UAAII,MAAM,EAAV,EAAc;AACZA,YAAIojG,UAAU7rC,MAAV,CAAiB33D,GAAjB,CAAJ;AACAwC,gBAAQusH,OAAO3uH,KAAKwwH,IAAL,GAAYptB,UAAU7rC,MAAV,CAAiB33D,GAAjB,CAAZ,GAAoCI,CAA3C,CAAR;AACA,YAAI,CAACoC,KAAD,IAAW,CAACsC,IAAItC,MAAMnC,CAAN,EAAS6oG,MAAT,EAAiBpkG,CAAjB,CAAL,IAA4B,CAA3C,EAA+C,OAAO,CAAC,CAAR;AAChD,OAJD,MAIO,IAAI1E,KAAK8oG,OAAO7kG,UAAP,CAAkBS,GAAlB,CAAT,EAAiC;AACtC,eAAO,CAAC,CAAR;AACD;AACF;;AAED,WAAOA,CAAP;AACD;;AAED,WAAS8qH,WAAT,CAAqBvvH,CAArB,EAAwB6oG,MAAxB,EAAgClpG,CAAhC,EAAmC;AACjC,QAAIwB,IAAI4pH,SAAS5xB,IAAT,CAAc0P,OAAOnkG,KAAP,CAAa/E,CAAb,CAAd,CAAR;AACA,WAAOwB,KAAKnB,EAAE0B,CAAF,GAAMupH,aAAa9pH,EAAE,CAAF,EAAKwpB,WAAL,EAAb,CAAN,EAAwChrB,IAAIwB,EAAE,CAAF,EAAKiD,MAAtD,IAAgE,CAAC,CAAxE;AACD;;AAED,WAASuqH,iBAAT,CAA2B3uH,CAA3B,EAA8B6oG,MAA9B,EAAsClpG,CAAtC,EAAyC;AACvC,QAAIwB,IAAIkqH,eAAelyB,IAAf,CAAoB0P,OAAOnkG,KAAP,CAAa/E,CAAb,CAApB,CAAR;AACA,WAAOwB,KAAKnB,EAAEksG,CAAF,GAAMof,mBAAmBnqH,EAAE,CAAF,EAAKwpB,WAAL,EAAnB,CAAN,EAA8ChrB,IAAIwB,EAAE,CAAF,EAAKiD,MAA5D,IAAsE,CAAC,CAA9E;AACD;;AAED,WAASwqH,YAAT,CAAsB5uH,CAAtB,EAAyB6oG,MAAzB,EAAiClpG,CAAjC,EAAoC;AAClC,QAAIwB,IAAIgqH,UAAUhyB,IAAV,CAAe0P,OAAOnkG,KAAP,CAAa/E,CAAb,CAAf,CAAR;AACA,WAAOwB,KAAKnB,EAAEksG,CAAF,GAAMkf,cAAcjqH,EAAE,CAAF,EAAKwpB,WAAL,EAAd,CAAN,EAAyChrB,IAAIwB,EAAE,CAAF,EAAKiD,MAAvD,IAAiE,CAAC,CAAzE;AACD;;AAED,WAASyqH,eAAT,CAAyB7uH,CAAzB,EAA4B6oG,MAA5B,EAAoClpG,CAApC,EAAuC;AACrC,QAAIwB,IAAIsqH,aAAatyB,IAAb,CAAkB0P,OAAOnkG,KAAP,CAAa/E,CAAb,CAAlB,CAAR;AACA,WAAOwB,KAAKnB,EAAEF,CAAF,GAAM4rH,iBAAiBvqH,EAAE,CAAF,EAAKwpB,WAAL,EAAjB,CAAN,EAA4ChrB,IAAIwB,EAAE,CAAF,EAAKiD,MAA1D,IAAoE,CAAC,CAA5E;AACD;;AAED,WAAS0qH,UAAT,CAAoB9uH,CAApB,EAAuB6oG,MAAvB,EAA+BlpG,CAA/B,EAAkC;AAChC,QAAIwB,IAAIoqH,QAAQpyB,IAAR,CAAa0P,OAAOnkG,KAAP,CAAa/E,CAAb,CAAb,CAAR;AACA,WAAOwB,KAAKnB,EAAEF,CAAF,GAAM0rH,YAAYrqH,EAAE,CAAF,EAAKwpB,WAAL,EAAZ,CAAN,EAAuChrB,IAAIwB,EAAE,CAAF,EAAKiD,MAArD,IAA+D,CAAC,CAAvE;AACD;;AAED,WAAS2qH,mBAAT,CAA6B/uH,CAA7B,EAAgC6oG,MAAhC,EAAwClpG,CAAxC,EAA2C;AACzC,WAAO+wH,eAAe1wH,CAAf,EAAkBuqH,eAAlB,EAAmC1hB,MAAnC,EAA2ClpG,CAA3C,CAAP;AACD;;AAED,WAASqwH,eAAT,CAAyBhwH,CAAzB,EAA4B6oG,MAA5B,EAAoClpG,CAApC,EAAuC;AACrC,WAAO+wH,eAAe1wH,CAAf,EAAkBwqH,WAAlB,EAA+B3hB,MAA/B,EAAuClpG,CAAvC,CAAP;AACD;;AAED,WAASswH,eAAT,CAAyBjwH,CAAzB,EAA4B6oG,MAA5B,EAAoClpG,CAApC,EAAuC;AACrC,WAAO+wH,eAAe1wH,CAAf,EAAkByqH,WAAlB,EAA+B5hB,MAA/B,EAAuClpG,CAAvC,CAAP;AACD;;AAED,WAASisH,kBAAT,CAA4B5rH,CAA5B,EAA+B;AAC7B,WAAO4qH,qBAAqB5qH,EAAEk2B,MAAF,EAArB,CAAP;AACD;;AAED,WAAS21F,aAAT,CAAuB7rH,CAAvB,EAA0B;AACxB,WAAO2qH,gBAAgB3qH,EAAEk2B,MAAF,EAAhB,CAAP;AACD;;AAED,WAAS41F,gBAAT,CAA0B9rH,CAA1B,EAA6B;AAC3B,WAAO8qH,mBAAmB9qH,EAAEs2B,QAAF,EAAnB,CAAP;AACD;;AAED,WAASs6E,WAAT,CAAqB5wG,CAArB,EAAwB;AACtB,WAAO6qH,cAAc7qH,EAAEs2B,QAAF,EAAd,CAAP;AACD;;AAED,WAASi2F,YAAT,CAAsBvsH,CAAtB,EAAyB;AACvB,WAAO0qH,eAAe,EAAE1qH,EAAEo1B,QAAF,MAAgB,EAAlB,CAAf,CAAP;AACD;;AAED,WAASg4F,qBAAT,CAA+BptH,CAA/B,EAAkC;AAChC,WAAO4qH,qBAAqB5qH,EAAE6wH,SAAF,EAArB,CAAP;AACD;;AAED,WAASxD,gBAAT,CAA0BrtH,CAA1B,EAA6B;AAC3B,WAAO2qH,gBAAgB3qH,EAAE6wH,SAAF,EAAhB,CAAP;AACD;;AAED,WAASvD,mBAAT,CAA6BttH,CAA7B,EAAgC;AAC9B,WAAO8qH,mBAAmB9qH,EAAEgxH,WAAF,EAAnB,CAAP;AACD;;AAED,WAASzD,cAAT,CAAwBvtH,CAAxB,EAA2B;AACzB,WAAO6qH,cAAc7qH,EAAEgxH,WAAF,EAAd,CAAP;AACD;;AAED,WAAShD,eAAT,CAAyBhuH,CAAzB,EAA4B;AAC1B,WAAO0qH,eAAe,EAAE1qH,EAAEsxH,WAAF,MAAmB,EAArB,CAAf,CAAP;AACD;;AAED,SAAO;AACLjvH,YAAQ,gBAAS8gG,SAAT,EAAoB;AAC1B,UAAI//F,IAAI8gG,UAAUf,aAAa,EAAvB,EAA2BwoB,OAA3B,CAAR;AACAvoH,QAAEiyB,QAAF,GAAa,YAAW;AAAE,eAAO8tE,SAAP;AAAmB,OAA7C;AACA,aAAO//F,CAAP;AACD,KALI;AAMLjB,WAAO,eAASghG,SAAT,EAAoB;AACzB,UAAIzhG,IAAI8uH,SAASrtB,aAAa,EAAtB,EAA0B8mB,SAA1B,CAAR;AACAvoH,QAAE2zB,QAAF,GAAa,YAAW;AAAE,eAAO8tE,SAAP;AAAmB,OAA7C;AACA,aAAOzhG,CAAP;AACD,KAVI;AAWLswG,eAAW,mBAAS7O,SAAT,EAAoB;AAC7B,UAAI//F,IAAI8gG,UAAUf,aAAa,EAAvB,EAA2BgqB,UAA3B,CAAR;AACA/pH,QAAEiyB,QAAF,GAAa,YAAW;AAAE,eAAO8tE,SAAP;AAAmB,OAA7C;AACA,aAAO//F,CAAP;AACD,KAfI;AAgBLgmH,cAAU,kBAASjmB,SAAT,EAAoB;AAC5B,UAAIzhG,IAAI8uH,SAASrtB,SAAT,EAAoBinB,OAApB,CAAR;AACA1oH,QAAE2zB,QAAF,GAAa,YAAW;AAAE,eAAO8tE,SAAP;AAAmB,OAA7C;AACA,aAAOzhG,CAAP;AACD;AApBI,GAAP;AAsBD;;AAED,IAAI6uH,OAAO,EAAC,KAAK,EAAN,EAAU,KAAK,GAAf,EAAoB,KAAK,GAAzB,EAAX;AAAA,IACIgB,WAAW,SADf;AAAA,IAC0B;AACtBC,YAAY,IAFhB;AAAA,IAGIC,YAAY,qBAHhB;;AAKA,SAASj+F,GAAT,CAAa7yB,KAAb,EAAoB27E,IAApB,EAA0BxwC,KAA1B,EAAiC;AAC/B,MAAIu3D,OAAO1iG,QAAQ,CAAR,GAAY,GAAZ,GAAkB,EAA7B;AAAA,MACIkoG,SAAS,CAACxF,OAAO,CAAC1iG,KAAR,GAAgBA,KAAjB,IAA0B,EADvC;AAAA,MAEIyD,SAASykG,OAAOzkG,MAFpB;AAGA,SAAOi/F,QAAQj/F,SAAS0nC,KAAT,GAAiB,IAAIpkC,KAAJ,CAAUokC,QAAQ1nC,MAAR,GAAiB,CAA3B,EAA8BlB,IAA9B,CAAmCo5E,IAAnC,IAA2CusB,MAA5D,GAAqEA,MAA7E,CAAP;AACD;;AAED,SAAS6oB,OAAT,CAAiB/vH,CAAjB,EAAoB;AAClB,SAAOA,EAAEgD,OAAF,CAAU8sH,SAAV,EAAqB,MAArB,CAAP;AACD;;AAED,SAASzG,QAAT,CAAkB7V,KAAlB,EAAyB;AACvB,SAAO,IAAIrxG,MAAJ,CAAW,SAASqxG,MAAMpyG,GAAN,CAAU2uH,OAAV,EAAmBxuH,IAAnB,CAAwB,GAAxB,CAAT,GAAwC,GAAnD,EAAwD,GAAxD,CAAP;AACD;;AAED,SAASgoH,YAAT,CAAsB/V,KAAtB,EAA6B;AAC3B,MAAIpyG,MAAM,EAAV;AAAA,MAAcpD,IAAI,CAAC,CAAnB;AAAA,MAAsBwB,IAAIg0G,MAAM/wG,MAAhC;AACA,SAAO,EAAEzE,CAAF,GAAMwB,CAAb;AAAgB4B,QAAIoyG,MAAMx1G,CAAN,EAASgrB,WAAT,EAAJ,IAA8BhrB,CAA9B;AAAhB,GACA,OAAOoD,GAAP;AACD;;AAED,SAAS+sH,wBAAT,CAAkC9vH,CAAlC,EAAqC6oG,MAArC,EAA6ClpG,CAA7C,EAAgD;AAC9C,MAAIwB,IAAIowH,SAASp4B,IAAT,CAAc0P,OAAOnkG,KAAP,CAAa/E,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;AACA,SAAOwB,KAAKnB,EAAEksG,CAAF,GAAM,CAAC/qG,EAAE,CAAF,CAAP,EAAaxB,IAAIwB,EAAE,CAAF,EAAKiD,MAA3B,IAAqC,CAAC,CAA7C;AACD;;AAED,SAASurH,wBAAT,CAAkC3vH,CAAlC,EAAqC6oG,MAArC,EAA6ClpG,CAA7C,EAAgD;AAC9C,MAAIwB,IAAIowH,SAASp4B,IAAT,CAAc0P,OAAOnkG,KAAP,CAAa/E,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;AACA,SAAOwB,KAAKnB,EAAEgqG,CAAF,GAAM,CAAC7oG,EAAE,CAAF,CAAP,EAAaxB,IAAIwB,EAAE,CAAF,EAAKiD,MAA3B,IAAqC,CAAC,CAA7C;AACD;;AAED,SAASwrH,qBAAT,CAA+B5vH,CAA/B,EAAkC6oG,MAAlC,EAA0ClpG,CAA1C,EAA6C;AAC3C,MAAIwB,IAAIowH,SAASp4B,IAAT,CAAc0P,OAAOnkG,KAAP,CAAa/E,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;AACA,SAAOwB,KAAKnB,EAAEoxH,CAAF,GAAM,CAACjwH,EAAE,CAAF,CAAP,EAAaxB,IAAIwB,EAAE,CAAF,EAAKiD,MAA3B,IAAqC,CAAC,CAA7C;AACD;;AAED,SAASyrH,kBAAT,CAA4B7vH,CAA5B,EAA+B6oG,MAA/B,EAAuClpG,CAAvC,EAA0C;AACxC,MAAIwB,IAAIowH,SAASp4B,IAAT,CAAc0P,OAAOnkG,KAAP,CAAa/E,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;AACA,SAAOwB,KAAKnB,EAAE4wH,CAAF,GAAM,CAACzvH,EAAE,CAAF,CAAP,EAAaxB,IAAIwB,EAAE,CAAF,EAAKiD,MAA3B,IAAqC,CAAC,CAA7C;AACD;;AAED,SAAS2rH,qBAAT,CAA+B/vH,CAA/B,EAAkC6oG,MAAlC,EAA0ClpG,CAA1C,EAA6C;AAC3C,MAAIwB,IAAIowH,SAASp4B,IAAT,CAAc0P,OAAOnkG,KAAP,CAAa/E,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;AACA,SAAOwB,KAAKnB,EAAEmxH,CAAF,GAAM,CAAChwH,EAAE,CAAF,CAAP,EAAaxB,IAAIwB,EAAE,CAAF,EAAKiD,MAA3B,IAAqC,CAAC,CAA7C;AACD;;AAED,SAAS+rH,aAAT,CAAuBnwH,CAAvB,EAA0B6oG,MAA1B,EAAkClpG,CAAlC,EAAqC;AACnC,MAAIwB,IAAIowH,SAASp4B,IAAT,CAAc0P,OAAOnkG,KAAP,CAAa/E,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;AACA,SAAOwB,KAAKnB,EAAEw2B,CAAF,GAAM,CAACr1B,EAAE,CAAF,CAAP,EAAaxB,IAAIwB,EAAE,CAAF,EAAKiD,MAA3B,IAAqC,CAAC,CAA7C;AACD;;AAED,SAAS8rH,SAAT,CAAmBlwH,CAAnB,EAAsB6oG,MAAtB,EAA8BlpG,CAA9B,EAAiC;AAC/B,MAAIwB,IAAIowH,SAASp4B,IAAT,CAAc0P,OAAOnkG,KAAP,CAAa/E,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;AACA,SAAOwB,KAAKnB,EAAEw2B,CAAF,GAAM,CAACr1B,EAAE,CAAF,CAAD,IAAS,CAACA,EAAE,CAAF,CAAD,GAAQ,EAAR,GAAa,IAAb,GAAoB,IAA7B,CAAN,EAA0CxB,IAAIwB,EAAE,CAAF,EAAKiD,MAAxD,IAAkE,CAAC,CAA1E;AACD;;AAED,SAASgsH,SAAT,CAAmBpwH,CAAnB,EAAsB6oG,MAAtB,EAA8BlpG,CAA9B,EAAiC;AAC/B,MAAIwB,IAAI,+BAA+Bg4F,IAA/B,CAAoC0P,OAAOnkG,KAAP,CAAa/E,CAAb,EAAgBA,IAAI,CAApB,CAApC,CAAR;AACA,SAAOwB,KAAKnB,EAAEqxH,CAAF,GAAMlwH,EAAE,CAAF,IAAO,CAAP,GAAW,EAAEA,EAAE,CAAF,KAAQA,EAAE,CAAF,KAAQ,IAAhB,CAAF,CAAjB,EAA2CxB,IAAIwB,EAAE,CAAF,EAAKiD,MAAzD,IAAmE,CAAC,CAA3E;AACD;;AAED,SAASirH,gBAAT,CAA0BrvH,CAA1B,EAA6B6oG,MAA7B,EAAqClpG,CAArC,EAAwC;AACtC,MAAIwB,IAAIowH,SAASp4B,IAAT,CAAc0P,OAAOnkG,KAAP,CAAa/E,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;AACA,SAAOwB,KAAKnB,EAAEF,CAAF,GAAMqB,EAAE,CAAF,IAAO,CAAb,EAAgBxB,IAAIwB,EAAE,CAAF,EAAKiD,MAA9B,IAAwC,CAAC,CAAhD;AACD;;AAED,SAAS4qH,eAAT,CAAyBhvH,CAAzB,EAA4B6oG,MAA5B,EAAoClpG,CAApC,EAAuC;AACrC,MAAIwB,IAAIowH,SAASp4B,IAAT,CAAc0P,OAAOnkG,KAAP,CAAa/E,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;AACA,SAAOwB,KAAKnB,EAAEA,CAAF,GAAM,CAACmB,EAAE,CAAF,CAAP,EAAaxB,IAAIwB,EAAE,CAAF,EAAKiD,MAA3B,IAAqC,CAAC,CAA7C;AACD;;AAED,SAAS+qH,cAAT,CAAwBnvH,CAAxB,EAA2B6oG,MAA3B,EAAmClpG,CAAnC,EAAsC;AACpC,MAAIwB,IAAIowH,SAASp4B,IAAT,CAAc0P,OAAOnkG,KAAP,CAAa/E,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;AACA,SAAOwB,KAAKnB,EAAEF,CAAF,GAAM,CAAN,EAASE,EAAEA,CAAF,GAAM,CAACmB,EAAE,CAAF,CAAhB,EAAsBxB,IAAIwB,EAAE,CAAF,EAAKiD,MAApC,IAA8C,CAAC,CAAtD;AACD;;AAED,SAAS8qH,WAAT,CAAqBlvH,CAArB,EAAwB6oG,MAAxB,EAAgClpG,CAAhC,EAAmC;AACjC,MAAIwB,IAAIowH,SAASp4B,IAAT,CAAc0P,OAAOnkG,KAAP,CAAa/E,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;AACA,SAAOwB,KAAKnB,EAAEk1B,CAAF,GAAM,CAAC/zB,EAAE,CAAF,CAAP,EAAaxB,IAAIwB,EAAE,CAAF,EAAKiD,MAA3B,IAAqC,CAAC,CAA7C;AACD;;AAED,SAASkrH,YAAT,CAAsBtvH,CAAtB,EAAyB6oG,MAAzB,EAAiClpG,CAAjC,EAAoC;AAClC,MAAIwB,IAAIowH,SAASp4B,IAAT,CAAc0P,OAAOnkG,KAAP,CAAa/E,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;AACA,SAAOwB,KAAKnB,EAAEw1B,CAAF,GAAM,CAACr0B,EAAE,CAAF,CAAP,EAAaxB,IAAIwB,EAAE,CAAF,EAAKiD,MAA3B,IAAqC,CAAC,CAA7C;AACD;;AAED,SAASsrH,YAAT,CAAsB1vH,CAAtB,EAAyB6oG,MAAzB,EAAiClpG,CAAjC,EAAoC;AAClC,MAAIwB,IAAIowH,SAASp4B,IAAT,CAAc0P,OAAOnkG,KAAP,CAAa/E,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;AACA,SAAOwB,KAAKnB,EAAE21B,CAAF,GAAM,CAACx0B,EAAE,CAAF,CAAP,EAAaxB,IAAIwB,EAAE,CAAF,EAAKiD,MAA3B,IAAqC,CAAC,CAA7C;AACD;;AAED,SAASgrH,iBAAT,CAA2BpvH,CAA3B,EAA8B6oG,MAA9B,EAAsClpG,CAAtC,EAAyC;AACvC,MAAIwB,IAAIowH,SAASp4B,IAAT,CAAc0P,OAAOnkG,KAAP,CAAa/E,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;AACA,SAAOwB,KAAKnB,EAAEkqH,CAAF,GAAM,CAAC/oH,EAAE,CAAF,CAAP,EAAaxB,IAAIwB,EAAE,CAAF,EAAKiD,MAA3B,IAAqC,CAAC,CAA7C;AACD;;AAED,SAAS6qH,iBAAT,CAA2BjvH,CAA3B,EAA8B6oG,MAA9B,EAAsClpG,CAAtC,EAAyC;AACvC,MAAIwB,IAAIowH,SAASp4B,IAAT,CAAc0P,OAAOnkG,KAAP,CAAa/E,CAAb,EAAgBA,IAAI,CAApB,CAAd,CAAR;AACA,SAAOwB,KAAKnB,EAAEkqH,CAAF,GAAMttG,KAAKuT,KAAL,CAAWhvB,EAAE,CAAF,IAAO,IAAlB,CAAN,EAA+BxB,IAAIwB,EAAE,CAAF,EAAKiD,MAA7C,IAAuD,CAAC,CAA/D;AACD;;AAED,SAASisH,mBAAT,CAA6BrwH,CAA7B,EAAgC6oG,MAAhC,EAAwClpG,CAAxC,EAA2C;AACzC,MAAIwB,IAAIqwH,UAAUr4B,IAAV,CAAe0P,OAAOnkG,KAAP,CAAa/E,CAAb,EAAgBA,IAAI,CAApB,CAAf,CAAR;AACA,SAAOwB,IAAIxB,IAAIwB,EAAE,CAAF,EAAKiD,MAAb,GAAsB,CAAC,CAA9B;AACD;;AAED,SAASorH,kBAAT,CAA4BxvH,CAA5B,EAA+B6oG,MAA/B,EAAuClpG,CAAvC,EAA0C;AACxC,MAAIwB,IAAIowH,SAASp4B,IAAT,CAAc0P,OAAOnkG,KAAP,CAAa/E,CAAb,CAAd,CAAR;AACA,SAAOwB,KAAKnB,EAAE2wH,CAAF,GAAM,CAACxvH,EAAE,CAAF,CAAP,EAAaxB,IAAIwB,EAAE,CAAF,EAAKiD,MAA3B,IAAqC,CAAC,CAA7C;AACD;;AAED,SAASqrH,yBAAT,CAAmCzvH,CAAnC,EAAsC6oG,MAAtC,EAA8ClpG,CAA9C,EAAiD;AAC/C,MAAIwB,IAAIowH,SAASp4B,IAAT,CAAc0P,OAAOnkG,KAAP,CAAa/E,CAAb,CAAd,CAAR;AACA,SAAOwB,KAAKnB,EAAE2wH,CAAF,GAAO,CAACxvH,EAAE,CAAF,CAAF,GAAU,IAAhB,EAAsBxB,IAAIwB,EAAE,CAAF,EAAKiD,MAApC,IAA8C,CAAC,CAAtD;AACD;;AAED,SAAS2nH,gBAAT,CAA0B/rH,CAA1B,EAA6B0B,CAA7B,EAAgC;AAC9B,SAAO8xB,IAAIxzB,EAAEo2B,OAAF,EAAJ,EAAiB10B,CAAjB,EAAoB,CAApB,CAAP;AACD;;AAED,SAASuqH,YAAT,CAAsBjsH,CAAtB,EAAyB0B,CAAzB,EAA4B;AAC1B,SAAO8xB,IAAIxzB,EAAEo1B,QAAF,EAAJ,EAAkB1zB,CAAlB,EAAqB,CAArB,CAAP;AACD;;AAED,SAASwqH,YAAT,CAAsBlsH,CAAtB,EAAyB0B,CAAzB,EAA4B;AAC1B,SAAO8xB,IAAIxzB,EAAEo1B,QAAF,KAAe,EAAf,IAAqB,EAAzB,EAA6B1zB,CAA7B,EAAgC,CAAhC,CAAP;AACD;;AAED,SAASyqH,eAAT,CAAyBnsH,CAAzB,EAA4B0B,CAA5B,EAA+B;AAC7B,SAAO8xB,IAAI,IAAI09E,+CAAOA,CAACnkF,KAAR,CAAcgkF,wDAAQA,CAAC/wG,CAAT,CAAd,EAA2BA,CAA3B,CAAR,EAAuC0B,CAAvC,EAA0C,CAA1C,CAAP;AACD;;AAED,SAAS0qH,kBAAT,CAA4BpsH,CAA5B,EAA+B0B,CAA/B,EAAkC;AAChC,SAAO8xB,IAAIxzB,EAAEg2B,eAAF,EAAJ,EAAyBt0B,CAAzB,EAA4B,CAA5B,CAAP;AACD;;AAED,SAASsqH,kBAAT,CAA4BhsH,CAA5B,EAA+B0B,CAA/B,EAAkC;AAChC,SAAO0qH,mBAAmBpsH,CAAnB,EAAsB0B,CAAtB,IAA2B,KAAlC;AACD;;AAED,SAAS2qH,iBAAT,CAA2BrsH,CAA3B,EAA8B0B,CAA9B,EAAiC;AAC/B,SAAO8xB,IAAIxzB,EAAEs2B,QAAF,KAAe,CAAnB,EAAsB50B,CAAtB,EAAyB,CAAzB,CAAP;AACD;;AAED,SAAS4qH,aAAT,CAAuBtsH,CAAvB,EAA0B0B,CAA1B,EAA6B;AAC3B,SAAO8xB,IAAIxzB,EAAE01B,UAAF,EAAJ,EAAoBh0B,CAApB,EAAuB,CAAvB,CAAP;AACD;;AAED,SAASgrH,aAAT,CAAuB1sH,CAAvB,EAA0B0B,CAA1B,EAA6B;AAC3B,SAAO8xB,IAAIxzB,EAAE61B,UAAF,EAAJ,EAAoBn0B,CAApB,EAAuB,CAAvB,CAAP;AACD;;AAED,SAASirH,yBAAT,CAAmC3sH,CAAnC,EAAsC;AACpC,MAAIi2B,MAAMj2B,EAAEk2B,MAAF,EAAV;AACA,SAAOD,QAAQ,CAAR,GAAY,CAAZ,GAAgBA,GAAvB;AACD;;AAED,SAAS22F,sBAAT,CAAgC5sH,CAAhC,EAAmC0B,CAAnC,EAAsC;AACpC,SAAO8xB,IAAIm+F,kDAAUA,CAAC5kG,KAAX,CAAiBgkF,wDAAQA,CAAC/wG,CAAT,CAAjB,EAA8BA,CAA9B,CAAJ,EAAsC0B,CAAtC,EAAyC,CAAzC,CAAP;AACD;;AAED,SAASmrH,mBAAT,CAA6B7sH,CAA7B,EAAgC0B,CAAhC,EAAmC;AACjC,MAAIu0B,MAAMj2B,EAAEk2B,MAAF,EAAV;AACAl2B,MAAKi2B,OAAO,CAAP,IAAYA,QAAQ,CAArB,GAA0B27F,4DAAYA,CAAC5xH,CAAb,CAA1B,GAA4C4xH,oDAAYA,CAACv8E,IAAb,CAAkBr1C,CAAlB,CAAhD;AACA,SAAOwzB,IAAIo+F,oDAAYA,CAAC7kG,KAAb,CAAmBgkF,wDAAQA,CAAC/wG,CAAT,CAAnB,EAAgCA,CAAhC,KAAsC+wG,wDAAQA,CAAC/wG,CAAT,EAAYk2B,MAAZ,OAAyB,CAA/D,CAAJ,EAAuEx0B,CAAvE,EAA0E,CAA1E,CAAP;AACD;;AAED,SAASorH,yBAAT,CAAmC9sH,CAAnC,EAAsC;AACpC,SAAOA,EAAEk2B,MAAF,EAAP;AACD;;AAED,SAAS62F,sBAAT,CAAgC/sH,CAAhC,EAAmC0B,CAAnC,EAAsC;AACpC,SAAO8xB,IAAI09F,kDAAUA,CAACnkG,KAAX,CAAiBgkF,wDAAQA,CAAC/wG,CAAT,CAAjB,EAA8BA,CAA9B,CAAJ,EAAsC0B,CAAtC,EAAyC,CAAzC,CAAP;AACD;;AAED,SAASmvG,UAAT,CAAoB7wG,CAApB,EAAuB0B,CAAvB,EAA0B;AACxB,SAAO8xB,IAAIxzB,EAAE22B,WAAF,KAAkB,GAAtB,EAA2Bj1B,CAA3B,EAA8B,CAA9B,CAAP;AACD;;AAED,SAASsrH,cAAT,CAAwBhtH,CAAxB,EAA2B0B,CAA3B,EAA8B;AAC5B,SAAO8xB,IAAIxzB,EAAE22B,WAAF,KAAkB,KAAtB,EAA6Bj1B,CAA7B,EAAgC,CAAhC,CAAP;AACD;;AAED,SAASurH,UAAT,CAAoBjtH,CAApB,EAAuB;AACrB,MAAI67F,IAAI77F,EAAE6xH,iBAAF,EAAR;AACA,SAAO,CAACh2B,IAAI,CAAJ,GAAQ,GAAR,IAAeA,KAAK,CAAC,CAAN,EAAS,GAAxB,CAAD,IACDroE,IAAIqoE,IAAI,EAAJ,GAAS,CAAb,EAAgB,GAAhB,EAAqB,CAArB,CADC,GAEDroE,IAAIqoE,IAAI,EAAR,EAAY,GAAZ,EAAiB,CAAjB,CAFN;AAGD;;AAED,SAAS2xB,mBAAT,CAA6BxtH,CAA7B,EAAgC0B,CAAhC,EAAmC;AACjC,SAAO8xB,IAAIxzB,EAAEixH,UAAF,EAAJ,EAAoBvvH,CAApB,EAAuB,CAAvB,CAAP;AACD;;AAED,SAASgsH,eAAT,CAAyB1tH,CAAzB,EAA4B0B,CAA5B,EAA+B;AAC7B,SAAO8xB,IAAIxzB,EAAEsxH,WAAF,EAAJ,EAAqB5vH,CAArB,EAAwB,CAAxB,CAAP;AACD;;AAED,SAASisH,eAAT,CAAyB3tH,CAAzB,EAA4B0B,CAA5B,EAA+B;AAC7B,SAAO8xB,IAAIxzB,EAAEsxH,WAAF,KAAkB,EAAlB,IAAwB,EAA5B,EAAgC5vH,CAAhC,EAAmC,CAAnC,CAAP;AACD;;AAED,SAASksH,kBAAT,CAA4B5tH,CAA5B,EAA+B0B,CAA/B,EAAkC;AAChC,SAAO8xB,IAAI,IAAIm+E,8CAAMA,CAAC5kF,KAAP,CAAaykF,uDAAOA,CAACxxG,CAAR,CAAb,EAAyBA,CAAzB,CAAR,EAAqC0B,CAArC,EAAwC,CAAxC,CAAP;AACD;;AAED,SAASmsH,qBAAT,CAA+B7tH,CAA/B,EAAkC0B,CAAlC,EAAqC;AACnC,SAAO8xB,IAAIxzB,EAAE8xH,kBAAF,EAAJ,EAA4BpwH,CAA5B,EAA+B,CAA/B,CAAP;AACD;;AAED,SAAS+rH,qBAAT,CAA+BztH,CAA/B,EAAkC0B,CAAlC,EAAqC;AACnC,SAAOmsH,sBAAsB7tH,CAAtB,EAAyB0B,CAAzB,IAA8B,KAArC;AACD;;AAED,SAASosH,oBAAT,CAA8B9tH,CAA9B,EAAiC0B,CAAjC,EAAoC;AAClC,SAAO8xB,IAAIxzB,EAAEgxH,WAAF,KAAkB,CAAtB,EAAyBtvH,CAAzB,EAA4B,CAA5B,CAAP;AACD;;AAED,SAASqsH,gBAAT,CAA0B/tH,CAA1B,EAA6B0B,CAA7B,EAAgC;AAC9B,SAAO8xB,IAAIxzB,EAAE+xH,aAAF,EAAJ,EAAuBrwH,CAAvB,EAA0B,CAA1B,CAAP;AACD;;AAED,SAASusH,gBAAT,CAA0BjuH,CAA1B,EAA6B0B,CAA7B,EAAgC;AAC9B,SAAO8xB,IAAIxzB,EAAEgyH,aAAF,EAAJ,EAAuBtwH,CAAvB,EAA0B,CAA1B,CAAP;AACD;;AAED,SAASwsH,4BAAT,CAAsCluH,CAAtC,EAAyC;AACvC,MAAIiyH,MAAMjyH,EAAE6wH,SAAF,EAAV;AACA,SAAOoB,QAAQ,CAAR,GAAY,CAAZ,GAAgBA,GAAvB;AACD;;AAED,SAAS9D,yBAAT,CAAmCnuH,CAAnC,EAAsC0B,CAAtC,EAAyC;AACvC,SAAO8xB,IAAI0+F,iDAASA,CAACnlG,KAAV,CAAgBykF,uDAAOA,CAACxxG,CAAR,CAAhB,EAA4BA,CAA5B,CAAJ,EAAoC0B,CAApC,EAAuC,CAAvC,CAAP;AACD;;AAED,SAAS0sH,sBAAT,CAAgCpuH,CAAhC,EAAmC0B,CAAnC,EAAsC;AACpC,MAAIu0B,MAAMj2B,EAAE6wH,SAAF,EAAV;AACA7wH,MAAKi2B,OAAO,CAAP,IAAYA,QAAQ,CAArB,GAA0Bk8F,2DAAWA,CAACnyH,CAAZ,CAA1B,GAA2CmyH,mDAAWA,CAAC98E,IAAZ,CAAiBr1C,CAAjB,CAA/C;AACA,SAAOwzB,IAAI2+F,mDAAWA,CAACplG,KAAZ,CAAkBykF,uDAAOA,CAACxxG,CAAR,CAAlB,EAA8BA,CAA9B,KAAoCwxG,uDAAOA,CAACxxG,CAAR,EAAW6wH,SAAX,OAA2B,CAA/D,CAAJ,EAAuEnvH,CAAvE,EAA0E,CAA1E,CAAP;AACD;;AAED,SAAS2sH,4BAAT,CAAsCruH,CAAtC,EAAyC;AACvC,SAAOA,EAAE6wH,SAAF,EAAP;AACD;;AAED,SAASvC,yBAAT,CAAmCtuH,CAAnC,EAAsC0B,CAAtC,EAAyC;AACvC,SAAO8xB,IAAIs9F,iDAASA,CAAC/jG,KAAV,CAAgBykF,uDAAOA,CAACxxG,CAAR,CAAhB,EAA4BA,CAA5B,CAAJ,EAAoC0B,CAApC,EAAuC,CAAvC,CAAP;AACD;;AAED,SAAS6sH,aAAT,CAAuBvuH,CAAvB,EAA0B0B,CAA1B,EAA6B;AAC3B,SAAO8xB,IAAIxzB,EAAE+wH,cAAF,KAAqB,GAAzB,EAA8BrvH,CAA9B,EAAiC,CAAjC,CAAP;AACD;;AAED,SAAS8sH,iBAAT,CAA2BxuH,CAA3B,EAA8B0B,CAA9B,EAAiC;AAC/B,SAAO8xB,IAAIxzB,EAAE+wH,cAAF,KAAqB,KAAzB,EAAgCrvH,CAAhC,EAAmC,CAAnC,CAAP;AACD;;AAED,SAAS+sH,aAAT,GAAyB;AACvB,SAAO,OAAP;AACD;;AAED,SAASvB,oBAAT,GAAgC;AAC9B,SAAO,GAAP;AACD;;AAED,SAASV,mBAAT,CAA6BxsH,CAA7B,EAAgC;AAC9B,SAAO,CAACA,CAAR;AACD;;AAED,SAASysH,0BAAT,CAAoCzsH,CAApC,EAAuC;AACrC,SAAO4c,KAAKuT,KAAL,CAAW,CAACnwB,CAAD,GAAK,IAAhB,CAAP;AACD,C;;;;;;;;;;;;AC/nBD;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,IAAIi2B,MAAMi0B,yDAAQA,CAAC,UAAS32B,IAAT,EAAe;AAChCA,OAAK6+F,QAAL,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB;AACD,CAFS,EAEP,UAAS7+F,IAAT,EAAeq3B,IAAf,EAAqB;AACtBr3B,OAAK8+F,OAAL,CAAa9+F,KAAK6C,OAAL,KAAiBw0B,IAA9B;AACD,CAJS,EAIP,UAASrlC,KAAT,EAAgB2L,GAAhB,EAAqB;AACtB,SAAO,CAACA,MAAM3L,KAAN,GAAc,CAAC2L,IAAI2gG,iBAAJ,KAA0BtsG,MAAMssG,iBAAN,EAA3B,IAAwD/hB,wDAAvE,IAAyFE,qDAAhG;AACD,CANS,EAMP,UAASz8E,IAAT,EAAe;AAChB,SAAOA,KAAK6C,OAAL,KAAiB,CAAxB;AACD,CARS,CAAV;;AAUeH,kEAAf;AACO,IAAIszF,OAAOtzF,IAAI7hB,KAAf,C;;;;;;;;;;;;ACdP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,IAAIy7F,iBAAiB,GAArB;AACA,IAAIC,iBAAiB,GAArB;AACA,IAAIC,eAAe,IAAnB;AACA,IAAIC,cAAc,KAAlB;AACA,IAAIC,eAAe,MAAnB,C;;;;;;;;;;;;ACJP;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,IAAIrqB,OAAO17B,yDAAQA,CAAC,UAAS32B,IAAT,EAAe;AACjC,MAAIu1B,SAASv1B,KAAKs+F,iBAAL,KAA2B/hB,wDAA3B,GAA4CC,sDAAzD;AACA,MAAIjnD,SAAS,CAAb,EAAgBA,UAAUinD,sDAAV;AAChBx8E,OAAKgyE,OAAL,CAAa3oF,KAAKuT,KAAL,CAAW,CAAC,CAACoD,IAAD,GAAQu1B,MAAT,IAAmBinD,sDAA9B,IAA8CA,sDAA9C,GAA6DjnD,MAA1E;AACD,CAJU,EAIR,UAASv1B,IAAT,EAAeq3B,IAAf,EAAqB;AACtBr3B,OAAKgyE,OAAL,CAAa,CAAChyE,IAAD,GAAQq3B,OAAOmlD,sDAA5B;AACD,CANU,EAMR,UAASxqF,KAAT,EAAgB2L,GAAhB,EAAqB;AACtB,SAAO,CAACA,MAAM3L,KAAP,IAAgBwqF,sDAAvB;AACD,CARU,EAQR,UAASx8E,IAAT,EAAe;AAChB,SAAOA,KAAK6B,QAAL,EAAP;AACD,CAVU,CAAX;;AAYewwD,mEAAf;AACO,IAAItwD,QAAQswD,KAAKxxE,KAAjB,C;;;;;;;;;;;;AChBP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAIA;;AAOA;;AAOA;;AAKA;;AAKA;;AAKA;;AAmBA;;AAKA;;AAKA;;AAKA;;AAKA;;AAKA;;AAmBA;;;;;;;;;;;;;;AChGA;AAAA;AAAA,IAAIgnF,KAAK,IAAIl/E,IAAJ,EAAT;AAAA,IACIm/E,KAAK,IAAIn/E,IAAJ,EADT;;AAGe,SAASo2G,WAAT,CAAqBC,MAArB,EAA6BC,OAA7B,EAAsCzlG,KAAtC,EAA6C5kB,KAA7C,EAAoD;;AAEjE,WAAS+hD,QAAT,CAAkB32B,IAAlB,EAAwB;AACtB,WAAOg/F,OAAOh/F,OAAO,IAAIrX,IAAJ,CAAS,CAACqX,IAAV,CAAd,GAAgCA,IAAvC;AACD;;AAED22B,WAAS/5B,KAAT,GAAiB+5B,QAAjB;;AAEAA,WAAS7U,IAAT,GAAgB,UAAS9hB,IAAT,EAAe;AAC7B,WAAOg/F,OAAOh/F,OAAO,IAAIrX,IAAJ,CAASqX,OAAO,CAAhB,CAAd,GAAmCi/F,QAAQj/F,IAAR,EAAc,CAAd,CAAnC,EAAqDg/F,OAAOh/F,IAAP,CAArD,EAAmEA,IAA1E;AACD,GAFD;;AAIA22B,WAASxuB,KAAT,GAAiB,UAASnI,IAAT,EAAe;AAC9B,QAAI46E,KAAKjkD,SAAS32B,IAAT,CAAT;AAAA,QACIq2E,KAAK1/C,SAAS7U,IAAT,CAAc9hB,IAAd,CADT;AAEA,WAAOA,OAAO46E,EAAP,GAAYvE,KAAKr2E,IAAjB,GAAwB46E,EAAxB,GAA6BvE,EAApC;AACD,GAJD;;AAMA1/C,WAASpB,MAAT,GAAkB,UAASv1B,IAAT,EAAeq3B,IAAf,EAAqB;AACrC,WAAO4nE,QAAQj/F,OAAO,IAAIrX,IAAJ,CAAS,CAACqX,IAAV,CAAf,EAAgCq3B,QAAQ,IAAR,GAAe,CAAf,GAAmBhuC,KAAKuT,KAAL,CAAWy6B,IAAX,CAAnD,GAAsEr3B,IAA7E;AACD,GAFD;;AAIA22B,WAAS91C,KAAT,GAAiB,UAASmR,KAAT,EAAgBwmE,IAAhB,EAAsBnhC,IAAtB,EAA4B;AAC3C,QAAIx2C,QAAQ,EAAZ;AAAA,QAAgByiG,QAAhB;AACAtxF,YAAQ2kC,SAAS7U,IAAT,CAAc9vB,KAAd,CAAR;AACAqlC,WAAOA,QAAQ,IAAR,GAAe,CAAf,GAAmBhuC,KAAKuT,KAAL,CAAWy6B,IAAX,CAA1B;AACA,QAAI,EAAErlC,QAAQwmE,IAAV,KAAmB,EAAEnhC,OAAO,CAAT,CAAvB,EAAoC,OAAOx2C,KAAP,CAJO,CAIO;AAClD;AAAGA,YAAMzQ,IAAN,CAAWkzG,WAAW,IAAI36F,IAAJ,CAAS,CAACqJ,KAAV,CAAtB,GAAyCitG,QAAQjtG,KAAR,EAAeqlC,IAAf,CAAzC,EAA+D2nE,OAAOhtG,KAAP,CAA/D;AAAH,aACOsxF,WAAWtxF,KAAX,IAAoBA,QAAQwmE,IADnC;AAEA,WAAO33E,KAAP;AACD,GARD;;AAUA81C,WAASroC,MAAT,GAAkB,UAAS9c,IAAT,EAAe;AAC/B,WAAOutH,YAAY,UAAS/+F,IAAT,EAAe;AAChC,UAAIA,QAAQA,IAAZ,EAAkB,OAAOg/F,OAAOh/F,IAAP,GAAc,CAACxuB,KAAKwuB,IAAL,CAAtB;AAAkCA,aAAKgyE,OAAL,CAAahyE,OAAO,CAApB;AAAlC;AACnB,KAFM,EAEJ,UAASA,IAAT,EAAeq3B,IAAf,EAAqB;AACtB,UAAIr3B,QAAQA,IAAZ,EAAkB;AAChB,YAAIq3B,OAAO,CAAX,EAAc,OAAO,EAAEA,IAAF,IAAU,CAAjB,EAAoB;AAChC,iBAAO4nE,QAAQj/F,IAAR,EAAc,CAAC,CAAf,GAAmB,CAACxuB,KAAKwuB,IAAL,CAA3B,EAAuC,CAAE,CADT,CACU;AAC3C,SAFD,MAEO,OAAO,EAAEq3B,IAAF,IAAU,CAAjB,EAAoB;AACzB,iBAAO4nE,QAAQj/F,IAAR,EAAc,CAAC,CAAf,GAAmB,CAACxuB,KAAKwuB,IAAL,CAA3B,EAAuC,CAAE,CADhB,CACiB;AAC3C;AACF;AACF,KAVM,CAAP;AAWD,GAZD;;AAcA,MAAIxG,KAAJ,EAAW;AACTm9B,aAASn9B,KAAT,GAAiB,UAASxH,KAAT,EAAgB2L,GAAhB,EAAqB;AACpCkqE,SAAGmK,OAAH,CAAW,CAAChgF,KAAZ,GAAoB81E,GAAGkK,OAAH,CAAW,CAACr0E,GAAZ,CAApB;AACAqhG,aAAOn3B,EAAP,GAAYm3B,OAAOl3B,EAAP,CAAZ;AACA,aAAOz+E,KAAKuT,KAAL,CAAWpD,MAAMquE,EAAN,EAAUC,EAAV,CAAX,CAAP;AACD,KAJD;;AAMAnxC,aAAShpC,KAAT,GAAiB,UAAS0pC,IAAT,EAAe;AAC9BA,aAAOhuC,KAAKuT,KAAL,CAAWy6B,IAAX,CAAP;AACA,aAAO,CAACp2B,SAASo2B,IAAT,CAAD,IAAmB,EAAEA,OAAO,CAAT,CAAnB,GAAiC,IAAjC,GACD,EAAEA,OAAO,CAAT,IAAcV,QAAd,GACAA,SAASroC,MAAT,CAAgB1Z,QACZ,UAASnI,CAAT,EAAY;AAAE,eAAOmI,MAAMnI,CAAN,IAAW4qD,IAAX,KAAoB,CAA3B;AAA+B,OADjC,GAEZ,UAAS5qD,CAAT,EAAY;AAAE,eAAOkqD,SAASn9B,KAAT,CAAe,CAAf,EAAkB/sB,CAAlB,IAAuB4qD,IAAvB,KAAgC,CAAvC;AAA2C,OAF7D,CAFN;AAKD,KAPD;AAQD;;AAED,SAAOV,QAAP;AACD,C;;;;;;;;;;;;ACnED;AAAA;AAAA;AAAA;;AAEA,IAAIu7B,cAAcv7B,yDAAQA,CAAC,YAAW;AACpC;AACD,CAFiB,EAEf,UAAS32B,IAAT,EAAeq3B,IAAf,EAAqB;AACtBr3B,OAAKgyE,OAAL,CAAa,CAAChyE,IAAD,GAAQq3B,IAArB;AACD,CAJiB,EAIf,UAASrlC,KAAT,EAAgB2L,GAAhB,EAAqB;AACtB,SAAOA,MAAM3L,KAAb;AACD,CANiB,CAAlB;;AAQA;AACAkgE,YAAYvkE,KAAZ,GAAoB,UAASosE,CAAT,EAAY;AAC9BA,MAAI1wE,KAAKuT,KAAL,CAAWm9D,CAAX,CAAJ;AACA,MAAI,CAAC94D,SAAS84D,CAAT,CAAD,IAAgB,EAAEA,IAAI,CAAN,CAApB,EAA8B,OAAO,IAAP;AAC9B,MAAI,EAAEA,IAAI,CAAN,CAAJ,EAAc,OAAO7H,WAAP;AACd,SAAOv7B,yDAAQA,CAAC,UAAS32B,IAAT,EAAe;AAC7BA,SAAKgyE,OAAL,CAAa3oF,KAAKuT,KAAL,CAAWoD,OAAO+5D,CAAlB,IAAuBA,CAApC;AACD,GAFM,EAEJ,UAAS/5D,IAAT,EAAeq3B,IAAf,EAAqB;AACtBr3B,SAAKgyE,OAAL,CAAa,CAAChyE,IAAD,GAAQq3B,OAAO0iC,CAA5B;AACD,GAJM,EAIJ,UAAS/nE,KAAT,EAAgB2L,GAAhB,EAAqB;AACtB,WAAO,CAACA,MAAM3L,KAAP,IAAgB+nE,CAAvB;AACD,GANM,CAAP;AAOD,CAXD;;AAae7H,0EAAf;AACO,IAAIgtC,eAAehtC,YAAYrxE,KAA/B,C;;;;;;;;;;;;ACzBP;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,IAAIuxE,SAASz7B,yDAAQA,CAAC,UAAS32B,IAAT,EAAe;AACnCA,OAAKgyE,OAAL,CAAa3oF,KAAKuT,KAAL,CAAWoD,OAAOu8E,wDAAlB,IAAoCA,wDAAjD;AACD,CAFY,EAEV,UAASv8E,IAAT,EAAeq3B,IAAf,EAAqB;AACtBr3B,OAAKgyE,OAAL,CAAa,CAAChyE,IAAD,GAAQq3B,OAAOklD,wDAA5B;AACD,CAJY,EAIV,UAASvqF,KAAT,EAAgB2L,GAAhB,EAAqB;AACtB,SAAO,CAACA,MAAM3L,KAAP,IAAgBuqF,wDAAvB;AACD,CANY,EAMV,UAASv8E,IAAT,EAAe;AAChB,SAAOA,KAAKmC,UAAL,EAAP;AACD,CARY,CAAb;;AAUA,+DAAeiwD,MAAf;AACO,IAAI+sC,UAAU/sC,OAAOvxE,KAArB,C;;;;;;;;;;;;ACdP;AAAA;AAAA;AAAA;;AAEA,IAAIiiB,QAAQ6zB,yDAAQA,CAAC,UAAS32B,IAAT,EAAe;AAClCA,OAAK8+F,OAAL,CAAa,CAAb;AACA9+F,OAAK6+F,QAAL,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB;AACD,CAHW,EAGT,UAAS7+F,IAAT,EAAeq3B,IAAf,EAAqB;AACtBr3B,OAAKo/F,QAAL,CAAcp/F,KAAK+C,QAAL,KAAkBs0B,IAAhC;AACD,CALW,EAKT,UAASrlC,KAAT,EAAgB2L,GAAhB,EAAqB;AACtB,SAAOA,IAAIoF,QAAJ,KAAiB/Q,MAAM+Q,QAAN,EAAjB,GAAoC,CAACpF,IAAIyF,WAAJ,KAAoBpR,MAAMoR,WAAN,EAArB,IAA4C,EAAvF;AACD,CAPW,EAOT,UAASpD,IAAT,EAAe;AAChB,SAAOA,KAAK+C,QAAL,EAAP;AACD,CATW,CAAZ;;AAWeD,oEAAf;AACO,IAAIozF,SAASpzF,MAAMjiB,KAAnB,C;;;;;;;;;;;;ACdP;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,IAAIsxE,SAASx7B,yDAAQA,CAAC,UAAS32B,IAAT,EAAe;AACnCA,OAAKgyE,OAAL,CAAa3oF,KAAKuT,KAAL,CAAWoD,OAAOs8E,wDAAlB,IAAoCA,wDAAjD;AACD,CAFY,EAEV,UAASt8E,IAAT,EAAeq3B,IAAf,EAAqB;AACtBr3B,OAAKgyE,OAAL,CAAa,CAAChyE,IAAD,GAAQq3B,OAAOilD,wDAA5B;AACD,CAJY,EAIV,UAAStqF,KAAT,EAAgB2L,GAAhB,EAAqB;AACtB,SAAO,CAACA,MAAM3L,KAAP,IAAgBsqF,wDAAvB;AACD,CANY,EAMV,UAASt8E,IAAT,EAAe;AAChB,SAAOA,KAAKy+F,aAAL,EAAP;AACD,CARY,CAAb;;AAUA,+DAAetsC,MAAf;AACO,IAAI9vD,UAAU8vD,OAAOtxE,KAArB,C;;;;;;;;;;;;ACdP;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,IAAIu9F,SAASznD,yDAAQA,CAAC,UAAS32B,IAAT,EAAe;AACnCA,OAAKq/F,WAAL,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B;AACD,CAFY,EAEV,UAASr/F,IAAT,EAAeq3B,IAAf,EAAqB;AACtBr3B,OAAKs/F,UAAL,CAAgBt/F,KAAK09F,UAAL,KAAoBrmE,IAApC;AACD,CAJY,EAIV,UAASrlC,KAAT,EAAgB2L,GAAhB,EAAqB;AACtB,SAAO,CAACA,MAAM3L,KAAP,IAAgByqF,qDAAvB;AACD,CANY,EAMV,UAASz8E,IAAT,EAAe;AAChB,SAAOA,KAAK09F,UAAL,KAAoB,CAA3B;AACD,CARY,CAAb;;AAUA,+DAAetf,MAAf;AACO,IAAImhB,UAAUnhB,OAAOv9F,KAArB,C;;;;;;;;;;;;ACdP;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,IAAIw9F,UAAU1nD,yDAAQA,CAAC,UAAS32B,IAAT,EAAe;AACpCA,OAAKw/F,aAAL,CAAmB,CAAnB,EAAsB,CAAtB,EAAyB,CAAzB;AACD,CAFa,EAEX,UAASx/F,IAAT,EAAeq3B,IAAf,EAAqB;AACtBr3B,OAAKgyE,OAAL,CAAa,CAAChyE,IAAD,GAAQq3B,OAAOmlD,sDAA5B;AACD,CAJa,EAIX,UAASxqF,KAAT,EAAgB2L,GAAhB,EAAqB;AACtB,SAAO,CAACA,MAAM3L,KAAP,IAAgBwqF,sDAAvB;AACD,CANa,EAMX,UAASx8E,IAAT,EAAe;AAChB,SAAOA,KAAK+9F,WAAL,EAAP;AACD,CARa,CAAd;;AAUe1f,sEAAf;AACO,IAAIohB,WAAWphB,QAAQx9F,KAAvB,C;;;;;;;;;;;;ACdP;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,IAAIy9F,YAAY3nD,yDAAQA,CAAC,UAAS32B,IAAT,EAAe;AACtCA,OAAK0/F,aAAL,CAAmB,CAAnB,EAAsB,CAAtB;AACD,CAFe,EAEb,UAAS1/F,IAAT,EAAeq3B,IAAf,EAAqB;AACtBr3B,OAAKgyE,OAAL,CAAa,CAAChyE,IAAD,GAAQq3B,OAAOklD,wDAA5B;AACD,CAJe,EAIb,UAASvqF,KAAT,EAAgB2L,GAAhB,EAAqB;AACtB,SAAO,CAACA,MAAM3L,KAAP,IAAgBuqF,wDAAvB;AACD,CANe,EAMb,UAASv8E,IAAT,EAAe;AAChB,SAAOA,KAAKw+F,aAAL,EAAP;AACD,CARe,CAAhB;;AAUelgB,wEAAf;AACO,IAAIqhB,aAAarhB,UAAUz9F,KAA3B,C;;;;;;;;;;;;ACdP;AAAA;AAAA;AAAA;;AAEA,IAAIq9F,WAAWvnD,yDAAQA,CAAC,UAAS32B,IAAT,EAAe;AACrCA,OAAKs/F,UAAL,CAAgB,CAAhB;AACAt/F,OAAKq/F,WAAL,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B;AACD,CAHc,EAGZ,UAASr/F,IAAT,EAAeq3B,IAAf,EAAqB;AACtBr3B,OAAK4/F,WAAL,CAAiB5/F,KAAKy9F,WAAL,KAAqBpmE,IAAtC;AACD,CALc,EAKZ,UAASrlC,KAAT,EAAgB2L,GAAhB,EAAqB;AACtB,SAAOA,IAAI8/F,WAAJ,KAAoBzrG,MAAMyrG,WAAN,EAApB,GAA0C,CAAC9/F,IAAI6/F,cAAJ,KAAuBxrG,MAAMwrG,cAAN,EAAxB,IAAkD,EAAnG;AACD,CAPc,EAOZ,UAASx9F,IAAT,EAAe;AAChB,SAAOA,KAAKy9F,WAAL,EAAP;AACD,CATc,CAAf;;AAWevf,uEAAf;AACO,IAAI2hB,YAAY3hB,SAASr9F,KAAzB,C;;;;;;;;;;;;ACdP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,SAASi/G,UAAT,CAAoB1zH,CAApB,EAAuB;AACrB,SAAOuqD,yDAAQA,CAAC,UAAS32B,IAAT,EAAe;AAC7BA,SAAKs/F,UAAL,CAAgBt/F,KAAK09F,UAAL,KAAoB,CAAC19F,KAAKs9F,SAAL,KAAmB,CAAnB,GAAuBlxH,CAAxB,IAA6B,CAAjE;AACA4zB,SAAKq/F,WAAL,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B;AACD,GAHM,EAGJ,UAASr/F,IAAT,EAAeq3B,IAAf,EAAqB;AACtBr3B,SAAKs/F,UAAL,CAAgBt/F,KAAK09F,UAAL,KAAoBrmE,OAAO,CAA3C;AACD,GALM,EAKJ,UAASrlC,KAAT,EAAgB2L,GAAhB,EAAqB;AACtB,WAAO,CAACA,MAAM3L,KAAP,IAAgB0qF,sDAAvB;AACD,GAPM,CAAP;AAQD;;AAEM,IAAIiiB,YAAYmB,WAAW,CAAX,CAAhB;AACA,IAAIvC,YAAYuC,WAAW,CAAX,CAAhB;AACA,IAAIC,aAAaD,WAAW,CAAX,CAAjB;AACA,IAAIE,eAAeF,WAAW,CAAX,CAAnB;AACA,IAAIlB,cAAckB,WAAW,CAAX,CAAlB;AACA,IAAIG,YAAYH,WAAW,CAAX,CAAhB;AACA,IAAII,cAAcJ,WAAW,CAAX,CAAlB;;AAEA,IAAIK,aAAaxB,UAAU99G,KAA3B;AACA,IAAIu/G,aAAa7C,UAAU18G,KAA3B;AACA,IAAIw/G,cAAcN,WAAWl/G,KAA7B;AACA,IAAIy/G,gBAAgBN,aAAan/G,KAAjC;AACA,IAAI0/G,eAAe3B,YAAY/9G,KAA/B;AACA,IAAI2/G,aAAaP,UAAUp/G,KAA3B;AACA,IAAI4/G,eAAeP,YAAYr/G,KAA/B,C;;;;;;;;;;;;AC5BP;AAAA;AAAA;AAAA;;AAEA,IAAIo9F,UAAUtnD,yDAAQA,CAAC,UAAS32B,IAAT,EAAe;AACpCA,OAAK4/F,WAAL,CAAiB,CAAjB,EAAoB,CAApB;AACA5/F,OAAKq/F,WAAL,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B;AACD,CAHa,EAGX,UAASr/F,IAAT,EAAeq3B,IAAf,EAAqB;AACtBr3B,OAAK82F,cAAL,CAAoB92F,KAAKw9F,cAAL,KAAwBnmE,IAA5C;AACD,CALa,EAKX,UAASrlC,KAAT,EAAgB2L,GAAhB,EAAqB;AACtB,SAAOA,IAAI6/F,cAAJ,KAAuBxrG,MAAMwrG,cAAN,EAA9B;AACD,CAPa,EAOX,UAASx9F,IAAT,EAAe;AAChB,SAAOA,KAAKw9F,cAAL,EAAP;AACD,CATa,CAAd;;AAWA;AACAvf,QAAQtwF,KAAR,GAAgB,UAASosE,CAAT,EAAY;AAC1B,SAAO,CAAC94D,SAAS84D,IAAI1wE,KAAKuT,KAAL,CAAWm9D,CAAX,CAAb,CAAD,IAAgC,EAAEA,IAAI,CAAN,CAAhC,GAA2C,IAA3C,GAAkDpjC,yDAAQA,CAAC,UAAS32B,IAAT,EAAe;AAC/EA,SAAK82F,cAAL,CAAoBztG,KAAKuT,KAAL,CAAWoD,KAAKw9F,cAAL,KAAwBzjC,CAAnC,IAAwCA,CAA5D;AACA/5D,SAAK4/F,WAAL,CAAiB,CAAjB,EAAoB,CAApB;AACA5/F,SAAKq/F,WAAL,CAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,CAA1B;AACD,GAJwD,EAItD,UAASr/F,IAAT,EAAeq3B,IAAf,EAAqB;AACtBr3B,SAAK82F,cAAL,CAAoB92F,KAAKw9F,cAAL,KAAwBnmE,OAAO0iC,CAAnD;AACD,GANwD,CAAzD;AAOD,CARD;;AAUekkB,sEAAf;AACO,IAAIyiB,WAAWziB,QAAQp9F,KAAvB,C;;;;;;;;;;;;ACzBP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,SAAS8/G,OAAT,CAAiBv0H,CAAjB,EAAoB;AAClB,SAAOuqD,yDAAQA,CAAC,UAAS32B,IAAT,EAAe;AAC7BA,SAAK8+F,OAAL,CAAa9+F,KAAK6C,OAAL,KAAiB,CAAC7C,KAAK2C,MAAL,KAAgB,CAAhB,GAAoBv2B,CAArB,IAA0B,CAAxD;AACA4zB,SAAK6+F,QAAL,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB;AACD,GAHM,EAGJ,UAAS7+F,IAAT,EAAeq3B,IAAf,EAAqB;AACtBr3B,SAAK8+F,OAAL,CAAa9+F,KAAK6C,OAAL,KAAiBw0B,OAAO,CAArC;AACD,GALM,EAKJ,UAASrlC,KAAT,EAAgB2L,GAAhB,EAAqB;AACtB,WAAO,CAACA,MAAM3L,KAAN,GAAc,CAAC2L,IAAI2gG,iBAAJ,KAA0BtsG,MAAMssG,iBAAN,EAA3B,IAAwD/hB,wDAAvE,IAAyFG,sDAAhG;AACD,GAPM,CAAP;AAQD;;AAEM,IAAIkkB,SAASD,QAAQ,CAAR,CAAb;AACA,IAAIE,SAASF,QAAQ,CAAR,CAAb;AACA,IAAIG,UAAUH,QAAQ,CAAR,CAAd;AACA,IAAII,YAAYJ,QAAQ,CAAR,CAAhB;AACA,IAAIK,WAAWL,QAAQ,CAAR,CAAf;AACA,IAAIM,SAASN,QAAQ,CAAR,CAAb;AACA,IAAIO,WAAWP,QAAQ,CAAR,CAAf;;AAEA,IAAIQ,UAAUP,OAAO//G,KAArB;AACA,IAAIugH,UAAUP,OAAOhgH,KAArB;AACA,IAAIwgH,WAAWP,QAAQjgH,KAAvB;AACA,IAAIygH,aAAaP,UAAUlgH,KAA3B;AACA,IAAI0gH,YAAYP,SAASngH,KAAzB;AACA,IAAI2gH,UAAUP,OAAOpgH,KAArB;AACA,IAAI4gH,YAAYP,SAASrgH,KAAzB,C;;;;;;;;;;;;AC5BP;AAAA;AAAA;AAAA;;AAEA,IAAIsiB,OAAOwzB,yDAAQA,CAAC,UAAS32B,IAAT,EAAe;AACjCA,OAAKo/F,QAAL,CAAc,CAAd,EAAiB,CAAjB;AACAp/F,OAAK6+F,QAAL,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB;AACD,CAHU,EAGR,UAAS7+F,IAAT,EAAeq3B,IAAf,EAAqB;AACtBr3B,OAAK42F,WAAL,CAAiB52F,KAAKoD,WAAL,KAAqBi0B,IAAtC;AACD,CALU,EAKR,UAASrlC,KAAT,EAAgB2L,GAAhB,EAAqB;AACtB,SAAOA,IAAIyF,WAAJ,KAAoBpR,MAAMoR,WAAN,EAA3B;AACD,CAPU,EAOR,UAASpD,IAAT,EAAe;AAChB,SAAOA,KAAKoD,WAAL,EAAP;AACD,CATU,CAAX;;AAWA;AACAD,KAAKxV,KAAL,GAAa,UAASosE,CAAT,EAAY;AACvB,SAAO,CAAC94D,SAAS84D,IAAI1wE,KAAKuT,KAAL,CAAWm9D,CAAX,CAAb,CAAD,IAAgC,EAAEA,IAAI,CAAN,CAAhC,GAA2C,IAA3C,GAAkDpjC,yDAAQA,CAAC,UAAS32B,IAAT,EAAe;AAC/EA,SAAK42F,WAAL,CAAiBvtG,KAAKuT,KAAL,CAAWoD,KAAKoD,WAAL,KAAqB22D,CAAhC,IAAqCA,CAAtD;AACA/5D,SAAKo/F,QAAL,CAAc,CAAd,EAAiB,CAAjB;AACAp/F,SAAK6+F,QAAL,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB;AACD,GAJwD,EAItD,UAAS7+F,IAAT,EAAeq3B,IAAf,EAAqB;AACtBr3B,SAAK42F,WAAL,CAAiB52F,KAAKoD,WAAL,KAAqBi0B,OAAO0iC,CAA7C;AACD,GANwD,CAAzD;AAOD,CARD;;AAUe52D,mEAAf;AACO,IAAIu+F,QAAQv+F,KAAKtiB,KAAjB,C;;;;;;;;;;;;ACzBP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAMA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;;AAEe,yEAASlB,QAAT,EAAmBgiH,KAAnB,EAA0BnrE,IAA1B,EAAgC;AAC7C,MAAInpD,IAAI,IAAIu0H,4CAAJ,EAAR;AAAA,MAAmBC,QAAQF,KAA3B;AACA,MAAIA,SAAS,IAAb,EAAmB,OAAOt0H,EAAEy0H,OAAF,CAAUniH,QAAV,EAAoBgiH,KAApB,EAA2BnrE,IAA3B,GAAkCnpD,CAAzC;AACnBs0H,UAAQ,CAACA,KAAT,EAAgBnrE,OAAOA,QAAQ,IAAR,GAAeurE,kDAAGA,EAAlB,GAAuB,CAACvrE,IAA/C;AACAnpD,IAAEy0H,OAAF,CAAU,SAAS3nC,IAAT,CAAc6nC,OAAd,EAAuB;AAC/BA,eAAWH,KAAX;AACAx0H,MAAEy0H,OAAF,CAAU3nC,IAAV,EAAgB0nC,SAASF,KAAzB,EAAgCnrE,IAAhC;AACA72C,aAASqiH,OAAT;AACD,GAJD,EAIGL,KAJH,EAIUnrE,IAJV;AAKA,SAAOnpD,CAAP;AACD,C;;;;;;;;;;;;ACZD;AAAA;AAAA;;AAEe,yEAASsS,QAAT,EAAmBgiH,KAAnB,EAA0BnrE,IAA1B,EAAgC;AAC7C,MAAInpD,IAAI,IAAIu0H,4CAAJ,EAAR;AACAD,UAAQA,SAAS,IAAT,GAAgB,CAAhB,GAAoB,CAACA,KAA7B;AACAt0H,IAAEy0H,OAAF,CAAU,UAASE,OAAT,EAAkB;AAC1B30H,MAAEmrF,IAAF;AACA74E,aAASqiH,UAAUL,KAAnB;AACD,GAHD,EAGGA,KAHH,EAGUnrE,IAHV;AAIA,SAAOnpD,CAAP;AACD,C;;;;;;;;;;;;;;;;;;;ACVD,IAAI40H,QAAQ,CAAZ;AAAA,IAAe;AACXC,UAAU,CADd;AAAA,IACiB;AACbvrE,WAAW,CAFf;AAAA,IAEkB;AACdwrE,YAAY,IAHhB;AAAA,IAGsB;AAClBC,QAJJ;AAAA,IAKIC,QALJ;AAAA,IAMIC,YAAY,CANhB;AAAA,IAOIC,WAAW,CAPf;AAAA,IAQIC,YAAY,CARhB;AAAA,IASIC,QAAQ,QAAOC,WAAP,yCAAOA,WAAP,OAAuB,QAAvB,IAAmCA,YAAYX,GAA/C,GAAqDW,WAArD,GAAmE/5G,IAT/E;AAAA,IAUIg6G,WAAW,QAAO52H,MAAP,yCAAOA,MAAP,OAAkB,QAAlB,IAA8BA,OAAOglC,qBAArC,GAA6DhlC,OAAOglC,qBAAP,CAA6BpjC,IAA7B,CAAkC5B,MAAlC,CAA7D,GAAyG,UAAS8D,CAAT,EAAY;AAAEuhC,aAAWvhC,CAAX,EAAc,EAAd;AAAoB,CAV1J;;AAYO,SAASkyH,GAAT,GAAe;AACpB,SAAOQ,aAAaI,SAASC,QAAT,GAAoBL,WAAWE,MAAMV,GAAN,KAAcS,SAA1D,CAAP;AACD;;AAED,SAASI,QAAT,GAAoB;AAClBL,aAAW,CAAX;AACD;;AAEM,SAASX,KAAT,GAAiB;AACtB,OAAKiB,KAAL,GACA,KAAKC,KAAL,GACA,KAAKvf,KAAL,GAAa,IAFb;AAGD;;AAEDqe,MAAM3zH,SAAN,GAAkB80H,MAAM90H,SAAN,GAAkB;AAClCgK,eAAa2pH,KADqB;AAElCE,WAAS,iBAASniH,QAAT,EAAmBgiH,KAAnB,EAA0BnrE,IAA1B,EAAgC;AACvC,QAAI,OAAO72C,QAAP,KAAoB,UAAxB,EAAoC,MAAM,IAAI7I,SAAJ,CAAc,4BAAd,CAAN;AACpC0/C,WAAO,CAACA,QAAQ,IAAR,GAAeurE,KAAf,GAAuB,CAACvrE,IAAzB,KAAkCmrE,SAAS,IAAT,GAAgB,CAAhB,GAAoB,CAACA,KAAvD,CAAP;AACA,QAAI,CAAC,KAAKpe,KAAN,IAAe8e,aAAa,IAAhC,EAAsC;AACpC,UAAIA,QAAJ,EAAcA,SAAS9e,KAAT,GAAiB,IAAjB,CAAd,KACK6e,WAAW,IAAX;AACLC,iBAAW,IAAX;AACD;AACD,SAAKQ,KAAL,GAAaljH,QAAb;AACA,SAAKmjH,KAAL,GAAatsE,IAAb;AACAwsE;AACD,GAbiC;AAclCxqC,QAAM,gBAAW;AACf,QAAI,KAAKqqC,KAAT,EAAgB;AACd,WAAKA,KAAL,GAAa,IAAb;AACA,WAAKC,KAAL,GAAazpG,QAAb;AACA2pG;AACD;AACF;AApBiC,CAApC;;AAuBO,SAASD,KAAT,CAAepjH,QAAf,EAAyBgiH,KAAzB,EAAgCnrE,IAAhC,EAAsC;AAC3C,MAAInpD,IAAI,IAAIu0H,KAAJ,EAAR;AACAv0H,IAAEy0H,OAAF,CAAUniH,QAAV,EAAoBgiH,KAApB,EAA2BnrE,IAA3B;AACA,SAAOnpD,CAAP;AACD;;AAEM,SAAS41H,UAAT,GAAsB;AAC3BlB,QAD2B,CACpB;AACP,IAAEE,KAAF,CAF2B,CAElB;AACT,MAAI50H,IAAI+0H,QAAR;AAAA,MAAkBpoH,CAAlB;AACA,SAAO3M,CAAP,EAAU;AACR,QAAI,CAAC2M,IAAIuoH,WAAWl1H,EAAEy1H,KAAlB,KAA4B,CAAhC,EAAmCz1H,EAAEw1H,KAAF,CAAQv2H,IAAR,CAAa,IAAb,EAAmB0N,CAAnB;AACnC3M,QAAIA,EAAEk2G,KAAN;AACD;AACD,IAAE0e,KAAF;AACD;;AAED,SAASiB,IAAT,GAAgB;AACdX,aAAW,CAACD,YAAYG,MAAMV,GAAN,EAAb,IAA4BS,SAAvC;AACAP,UAAQC,UAAU,CAAlB;AACA,MAAI;AACFe;AACD,GAFD,SAEU;AACRhB,YAAQ,CAAR;AACAkB;AACAZ,eAAW,CAAX;AACD;AACF;;AAED,SAASa,IAAT,GAAgB;AACd,MAAIrB,MAAMU,MAAMV,GAAN,EAAV;AAAA,MAAuBJ,QAAQI,MAAMO,SAArC;AACA,MAAIX,QAAQQ,SAAZ,EAAuBK,aAAab,KAAb,EAAoBW,YAAYP,GAAhC;AACxB;;AAED,SAASoB,GAAT,GAAe;AACb,MAAIt7B,EAAJ;AAAA,MAAQC,KAAKs6B,QAAb;AAAA,MAAuBr6B,EAAvB;AAAA,MAA2BvxC,OAAOn9B,QAAlC;AACA,SAAOyuE,EAAP,EAAW;AACT,QAAIA,GAAG+6B,KAAP,EAAc;AACZ,UAAIrsE,OAAOsxC,GAAGg7B,KAAd,EAAqBtsE,OAAOsxC,GAAGg7B,KAAV;AACrBj7B,WAAKC,EAAL,EAASA,KAAKA,GAAGyb,KAAjB;AACD,KAHD,MAGO;AACLxb,WAAKD,GAAGyb,KAAR,EAAezb,GAAGyb,KAAH,GAAW,IAA1B;AACAzb,WAAKD,KAAKA,GAAG0b,KAAH,GAAWxb,EAAhB,GAAqBq6B,WAAWr6B,EAArC;AACD;AACF;AACDs6B,aAAWx6B,EAAX;AACAm7B,QAAMxsE,IAAN;AACD;;AAED,SAASwsE,KAAT,CAAexsE,IAAf,EAAqB;AACnB,MAAIyrE,KAAJ,EAAW,OADQ,CACA;AACnB,MAAIC,OAAJ,EAAaA,UAAU92B,aAAa82B,OAAb,CAAV;AACb,MAAIP,QAAQnrE,OAAO+rE,QAAnB,CAHmB,CAGU;AAC7B,MAAIZ,QAAQ,EAAZ,EAAgB;AACd,QAAInrE,OAAOn9B,QAAX,EAAqB6oG,UAAU9wF,WAAW8xF,IAAX,EAAiB1sE,OAAOisE,MAAMV,GAAN,EAAP,GAAqBS,SAAtC,CAAV;AACrB,QAAI7rE,QAAJ,EAAcA,WAAW0sE,cAAc1sE,QAAd,CAAX;AACf,GAHD,MAGO;AACL,QAAI,CAACA,QAAL,EAAe2rE,YAAYG,MAAMV,GAAN,EAAZ,EAAyBprE,WAAW2sE,YAAYF,IAAZ,EAAkBjB,SAAlB,CAApC;AACfF,YAAQ,CAAR,EAAWU,SAASO,IAAT,CAAX;AACD;AACF,C;;;;;;;;;;;;AC7GD;AAAA;AAAA;AAAA;AACA;;AAEA,IAAIx3H,OAAO,CAAC,IAAD,CAAX;;AAEe,yEAASq/B,IAAT,EAAer+B,IAAf,EAAqB;AAClC,MAAI62H,YAAYx4F,KAAKy4F,YAArB;AAAA,MACIC,QADJ;AAAA,MAEIr3H,CAFJ;;AAIA,MAAIm3H,SAAJ,EAAe;AACb72H,WAAOA,QAAQ,IAAR,GAAe,IAAf,GAAsBA,OAAO,EAApC;AACA,SAAKN,CAAL,IAAUm3H,SAAV,EAAqB;AACnB,UAAI,CAACE,WAAWF,UAAUn3H,CAAV,CAAZ,EAA0Bs3H,KAA1B,GAAkCC,8DAAlC,IAA+CF,SAAS/2H,IAAT,KAAkBA,IAArE,EAA2E;AACzE,eAAO,IAAIk3H,4DAAJ,CAAe,CAAC,CAAC74F,IAAD,CAAD,CAAf,EAAyBr/B,IAAzB,EAA+BgB,IAA/B,EAAqC,CAACN,CAAtC,CAAP;AACD;AACF;AACF;;AAED,SAAO,IAAP;AACD,C;;;;;;;;;;;;ACpBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;;ACFA;AAAA;AAAA;;AAEe,yEAAS2+B,IAAT,EAAer+B,IAAf,EAAqB;AAClC,MAAI62H,YAAYx4F,KAAKy4F,YAArB;AAAA,MACIC,QADJ;AAAA,MAEI75B,MAFJ;AAAA,MAGI10B,QAAQ,IAHZ;AAAA,MAII9oE,CAJJ;;AAMA,MAAI,CAACm3H,SAAL,EAAgB;;AAEhB72H,SAAOA,QAAQ,IAAR,GAAe,IAAf,GAAsBA,OAAO,EAApC;;AAEA,OAAKN,CAAL,IAAUm3H,SAAV,EAAqB;AACnB,QAAI,CAACE,WAAWF,UAAUn3H,CAAV,CAAZ,EAA0BM,IAA1B,KAAmCA,IAAvC,EAA6C;AAAEwoE,cAAQ,KAAR,CAAe;AAAW;AACzE00B,aAAS65B,SAASC,KAAT,GAAiBG,6DAAjB,IAA6BJ,SAASC,KAAT,GAAiBI,2DAAvD;AACAL,aAASC,KAAT,GAAiBK,0DAAjB;AACAN,aAASV,KAAT,CAAevqC,IAAf;AACA,QAAIoR,MAAJ,EAAY65B,SAAShkH,EAAT,CAAYnT,IAAZ,CAAiB,WAAjB,EAA8By+B,IAA9B,EAAoCA,KAAK23E,QAAzC,EAAmD+gB,SAAS3lH,KAA5D,EAAmE2lH,SAAS71C,KAA5E;AACZ,WAAO21C,UAAUn3H,CAAV,CAAP;AACD;;AAED,MAAI8oE,KAAJ,EAAW,OAAOnqC,KAAKy4F,YAAZ;AACZ,C;;;;;;;;;;;;ACvBD;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAEA9kD,sDAASA,CAACzwE,SAAV,CAAoB+1H,SAApB,GAAgCC,kDAAhC;AACAvlD,sDAASA,CAACzwE,SAAV,CAAoB89C,UAApB,GAAiCm4E,mDAAjC,C;;;;;;;;;;;;ACLA;AAAA;AAAA;;AAEe,yEAASx3H,IAAT,EAAe;AAC5B,SAAO,KAAKg1C,IAAL,CAAU,YAAW;AAC1BsiF,8DAASA,CAAC,IAAV,EAAgBt3H,IAAhB;AACD,GAFM,CAAP;AAGD,C;;;;;;;;;;;;ACND;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA,IAAIy3H,gBAAgB;AAClB3tE,QAAM,IADY,EACN;AACZmrE,SAAO,CAFW;AAGlB31E,YAAU,GAHQ;AAIlBo4E,QAAMC,sDAAcA;AAJF,CAApB;;AAOA,SAASC,OAAT,CAAiBv5F,IAAjB,EAAuBiV,EAAvB,EAA2B;AACzB,MAAIukF,MAAJ;AACA,SAAO,EAAEA,SAASx5F,KAAKy4F,YAAhB,KAAiC,EAAEe,SAASA,OAAOvkF,EAAP,CAAX,CAAxC,EAAgE;AAC9D,QAAI,EAAEjV,OAAOA,KAAK0vD,UAAd,CAAJ,EAA+B;AAC7B,aAAO0pC,cAAc3tE,IAAd,GAAqBurE,oDAAGA,EAAxB,EAA4BoC,aAAnC;AACD;AACF;AACD,SAAOI,MAAP;AACD;;AAEc,yEAAS73H,IAAT,EAAe;AAC5B,MAAIszC,EAAJ,EACIukF,MADJ;;AAGA,MAAI73H,gBAAgBk3H,4DAApB,EAAgC;AAC9B5jF,SAAKtzC,KAAKunD,GAAV,EAAevnD,OAAOA,KAAK83H,KAA3B;AACD,GAFD,MAEO;AACLxkF,SAAKykF,+DAAKA,EAAV,EAAc,CAACF,SAASJ,aAAV,EAAyB3tE,IAAzB,GAAgCurE,oDAAGA,EAAjD,EAAqDr1H,OAAOA,QAAQ,IAAR,GAAe,IAAf,GAAsBA,OAAO,EAAzF;AACD;;AAED,OAAK,IAAIu2G,SAAS,KAAKC,OAAlB,EAA2B32G,IAAI02G,OAAOpyG,MAAtC,EAA8CK,IAAI,CAAvD,EAA0DA,IAAI3E,CAA9D,EAAiE,EAAE2E,CAAnE,EAAsE;AACpE,SAAK,IAAI08E,QAAQq1B,OAAO/xG,CAAP,CAAZ,EAAuBtD,IAAIggF,MAAM/8E,MAAjC,EAAyCk6B,IAAzC,EAA+C3+B,IAAI,CAAxD,EAA2DA,IAAIwB,CAA/D,EAAkE,EAAExB,CAApE,EAAuE;AACrE,UAAI2+B,OAAO6iD,MAAMxhF,CAAN,CAAX,EAAqB;AACnBq3H,4EAAQA,CAAC14F,IAAT,EAAer+B,IAAf,EAAqBszC,EAArB,EAAyB5zC,CAAzB,EAA4BwhF,KAA5B,EAAmC22C,UAAUD,QAAQv5F,IAAR,EAAciV,EAAd,CAA7C;AACD;AACF;AACF;;AAED,SAAO,IAAI4jF,4DAAJ,CAAe3gB,MAAf,EAAuB,KAAKD,QAA5B,EAAsCt2G,IAAtC,EAA4CszC,EAA5C,CAAP;AACD,C;;;;;;;;;;;;ACzCD;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA,SAAS4gE,UAAT,CAAoBl0G,IAApB,EAA0B;AACxB,SAAO,YAAW;AAChB,SAAKm0G,eAAL,CAAqBn0G,IAArB;AACD,GAFD;AAGD;;AAED,SAASo0G,YAAT,CAAsB5B,QAAtB,EAAgC;AAC9B,SAAO,YAAW;AAChB,SAAK6B,iBAAL,CAAuB7B,SAASx6D,KAAhC,EAAuCw6D,SAASC,KAAhD;AACD,GAFD;AAGD;;AAED,SAAS6B,YAAT,CAAsBt0G,IAAtB,EAA4B6lG,WAA5B,EAAyCha,MAAzC,EAAiD;AAC/C,MAAImsC,OAAJ,EACIC,YADJ;AAEA,SAAO,YAAW;AAChB,QAAIvtC,SAAS,KAAKoD,YAAL,CAAkB9tF,IAAlB,CAAb;AACA,WAAO0qF,WAAWmB,MAAX,GAAoB,IAApB,GACDnB,WAAWstC,OAAX,GAAqBC,YAArB,GACAA,eAAepyB,YAAYmyB,UAAUttC,MAAtB,EAA8BmB,MAA9B,CAFrB;AAGD,GALD;AAMD;;AAED,SAAS0oB,cAAT,CAAwB/B,QAAxB,EAAkC3M,WAAlC,EAA+Cha,MAA/C,EAAuD;AACrD,MAAImsC,OAAJ,EACIC,YADJ;AAEA,SAAO,YAAW;AAChB,QAAIvtC,SAAS,KAAKiqB,cAAL,CAAoBnC,SAASx6D,KAA7B,EAAoCw6D,SAASC,KAA7C,CAAb;AACA,WAAO/nB,WAAWmB,MAAX,GAAoB,IAApB,GACDnB,WAAWstC,OAAX,GAAqBC,YAArB,GACAA,eAAepyB,YAAYmyB,UAAUttC,MAAtB,EAA8BmB,MAA9B,CAFrB;AAGD,GALD;AAMD;;AAED,SAAS4oB,YAAT,CAAsBz0G,IAAtB,EAA4B6lG,WAA5B,EAAyCnlG,KAAzC,EAAgD;AAC9C,MAAIs3H,OAAJ,EACIE,OADJ,EAEID,YAFJ;AAGA,SAAO,YAAW;AAChB,QAAIvtC,MAAJ;AAAA,QAAYmB,SAASnrF,MAAM,IAAN,CAArB;AACA,QAAImrF,UAAU,IAAd,EAAoB,OAAO,KAAK,KAAKsoB,eAAL,CAAqBn0G,IAArB,CAAZ;AACpB0qF,aAAS,KAAKoD,YAAL,CAAkB9tF,IAAlB,CAAT;AACA,WAAO0qF,WAAWmB,MAAX,GAAoB,IAApB,GACDnB,WAAWstC,OAAX,IAAsBnsC,WAAWqsC,OAAjC,GAA2CD,YAA3C,GACAA,eAAepyB,YAAYmyB,UAAUttC,MAAtB,EAA8BwtC,UAAUrsC,MAAxC,CAFrB;AAGD,GAPD;AAQD;;AAED,SAAS6oB,cAAT,CAAwBlC,QAAxB,EAAkC3M,WAAlC,EAA+CnlG,KAA/C,EAAsD;AACpD,MAAIs3H,OAAJ,EACIE,OADJ,EAEID,YAFJ;AAGA,SAAO,YAAW;AAChB,QAAIvtC,MAAJ;AAAA,QAAYmB,SAASnrF,MAAM,IAAN,CAArB;AACA,QAAImrF,UAAU,IAAd,EAAoB,OAAO,KAAK,KAAKwoB,iBAAL,CAAuB7B,SAASx6D,KAAhC,EAAuCw6D,SAASC,KAAhD,CAAZ;AACpB/nB,aAAS,KAAKiqB,cAAL,CAAoBnC,SAASx6D,KAA7B,EAAoCw6D,SAASC,KAA7C,CAAT;AACA,WAAO/nB,WAAWmB,MAAX,GAAoB,IAApB,GACDnB,WAAWstC,OAAX,IAAsBnsC,WAAWqsC,OAAjC,GAA2CD,YAA3C,GACAA,eAAepyB,YAAYmyB,UAAUttC,MAAtB,EAA8BwtC,UAAUrsC,MAAxC,CAFrB;AAGD,GAPD;AAQD;;AAEc,yEAAS7rF,IAAT,EAAeU,KAAf,EAAsB;AACnC,MAAI8xG,WAAW/lC,8DAASA,CAACzsE,IAAV,CAAf;AAAA,MAAgCN,IAAI8yG,aAAa,WAAb,GAA2BnL,sEAA3B,GAAkDxB,oDAAtF;AACA,SAAO,KAAKsyB,SAAL,CAAen4H,IAAf,EAAqB,OAAOU,KAAP,KAAiB,UAAjB,GACtB,CAAC8xG,SAASC,KAAT,GAAiBiC,cAAjB,GAAkCD,YAAnC,EAAiDjC,QAAjD,EAA2D9yG,CAA3D,EAA8D04H,yDAAUA,CAAC,IAAX,EAAiB,UAAUp4H,IAA3B,EAAiCU,KAAjC,CAA9D,CADsB,GAEtBA,SAAS,IAAT,GAAgB,CAAC8xG,SAASC,KAAT,GAAiB2B,YAAjB,GAAgCF,UAAjC,EAA6C1B,QAA7C,CAAhB,GACA,CAACA,SAASC,KAAT,GAAiB8B,cAAjB,GAAkCD,YAAnC,EAAiD9B,QAAjD,EAA2D9yG,CAA3D,EAA8DgB,QAAQ,EAAtE,CAHC,CAAP;AAID,C;;;;;;;;;;;;ACzED;AAAA;AAAA;;AAEA,SAAS23H,WAAT,CAAqB7lB,QAArB,EAA+B9xG,KAA/B,EAAsC;AACpC,WAAS43H,KAAT,GAAiB;AACf,QAAIj6F,OAAO,IAAX;AAAA,QAAiB3+B,IAAIgB,MAAMyH,KAAN,CAAYk2B,IAAZ,EAAkBvyB,SAAlB,CAArB;AACA,WAAOpM,KAAK,UAASiB,CAAT,EAAY;AACtB09B,WAAKm2E,cAAL,CAAoBhC,SAASx6D,KAA7B,EAAoCw6D,SAASC,KAA7C,EAAoD/yG,EAAEiB,CAAF,CAApD;AACD,KAFD;AAGD;AACD23H,QAAMz7F,MAAN,GAAen8B,KAAf;AACA,SAAO43H,KAAP;AACD;;AAED,SAASH,SAAT,CAAmBn4H,IAAnB,EAAyBU,KAAzB,EAAgC;AAC9B,WAAS43H,KAAT,GAAiB;AACf,QAAIj6F,OAAO,IAAX;AAAA,QAAiB3+B,IAAIgB,MAAMyH,KAAN,CAAYk2B,IAAZ,EAAkBvyB,SAAlB,CAArB;AACA,WAAOpM,KAAK,UAASiB,CAAT,EAAY;AACtB09B,WAAKsiD,YAAL,CAAkB3gF,IAAlB,EAAwBN,EAAEiB,CAAF,CAAxB;AACD,KAFD;AAGD;AACD23H,QAAMz7F,MAAN,GAAen8B,KAAf;AACA,SAAO43H,KAAP;AACD;;AAEc,yEAASt4H,IAAT,EAAeU,KAAf,EAAsB;AACnC,MAAIM,MAAM,UAAUhB,IAApB;AACA,MAAI8L,UAAU3H,MAAV,GAAmB,CAAvB,EAA0B,OAAO,CAACnD,MAAM,KAAKs3H,KAAL,CAAWt3H,GAAX,CAAP,KAA2BA,IAAI67B,MAAtC;AAC1B,MAAIn8B,SAAS,IAAb,EAAmB,OAAO,KAAK43H,KAAL,CAAWt3H,GAAX,EAAgB,IAAhB,CAAP;AACnB,MAAI,OAAON,KAAP,KAAiB,UAArB,EAAiC,MAAM,IAAI2G,KAAJ,EAAN;AACjC,MAAImrG,WAAW/lC,8DAASA,CAACzsE,IAAV,CAAf;AACA,SAAO,KAAKs4H,KAAL,CAAWt3H,GAAX,EAAgB,CAACwxG,SAASC,KAAT,GAAiB4lB,WAAjB,GAA+BF,SAAhC,EAA2C3lB,QAA3C,EAAqD9xG,KAArD,CAAhB,CAAP;AACD,C;;;;;;;;;;;;AC/BD;AAAA;AAAA;;AAEA,SAAS63H,aAAT,CAAuBjlF,EAAvB,EAA2B5yC,KAA3B,EAAkC;AAChC,SAAO,YAAW;AAChB83H,0DAAIA,CAAC,IAAL,EAAWllF,EAAX,EAAe2hF,KAAf,GAAuB,CAACv0H,MAAMyH,KAAN,CAAY,IAAZ,EAAkB2D,SAAlB,CAAxB;AACD,GAFD;AAGD;;AAED,SAAS2sH,aAAT,CAAuBnlF,EAAvB,EAA2B5yC,KAA3B,EAAkC;AAChC,SAAOA,QAAQ,CAACA,KAAT,EAAgB,YAAW;AAChC83H,0DAAIA,CAAC,IAAL,EAAWllF,EAAX,EAAe2hF,KAAf,GAAuBv0H,KAAvB;AACD,GAFD;AAGD;;AAEc,yEAASA,KAAT,EAAgB;AAC7B,MAAI4yC,KAAK,KAAKiU,GAAd;;AAEA,SAAOz7C,UAAU3H,MAAV,GACD,KAAK6wC,IAAL,CAAU,CAAC,OAAOt0C,KAAP,KAAiB,UAAjB,GACP63H,aADO,GAEPE,aAFM,EAESnlF,EAFT,EAEa5yC,KAFb,CAAV,CADC,GAIDJ,qDAAGA,CAAC,KAAK+9B,IAAL,EAAJ,EAAiBiV,EAAjB,EAAqB2hF,KAJ3B;AAKD,C;;;;;;;;;;;;ACtBD;AAAA;AAAA;;AAEA,SAASyD,gBAAT,CAA0BplF,EAA1B,EAA8B5yC,KAA9B,EAAqC;AACnC,SAAO,YAAW;AAChBqpB,yDAAGA,CAAC,IAAJ,EAAUupB,EAAV,EAAcgM,QAAd,GAAyB,CAAC5+C,MAAMyH,KAAN,CAAY,IAAZ,EAAkB2D,SAAlB,CAA1B;AACD,GAFD;AAGD;;AAED,SAAS6sH,gBAAT,CAA0BrlF,EAA1B,EAA8B5yC,KAA9B,EAAqC;AACnC,SAAOA,QAAQ,CAACA,KAAT,EAAgB,YAAW;AAChCqpB,yDAAGA,CAAC,IAAJ,EAAUupB,EAAV,EAAcgM,QAAd,GAAyB5+C,KAAzB;AACD,GAFD;AAGD;;AAEc,yEAASA,KAAT,EAAgB;AAC7B,MAAI4yC,KAAK,KAAKiU,GAAd;;AAEA,SAAOz7C,UAAU3H,MAAV,GACD,KAAK6wC,IAAL,CAAU,CAAC,OAAOt0C,KAAP,KAAiB,UAAjB,GACPg4H,gBADO,GAEPC,gBAFM,EAEYrlF,EAFZ,EAEgB5yC,KAFhB,CAAV,CADC,GAIDJ,qDAAGA,CAAC,KAAK+9B,IAAL,EAAJ,EAAiBiV,EAAjB,EAAqBgM,QAJ3B;AAKD,C;;;;;;;;;;;;ACtBD;AAAA;AAAA;;AAEA,SAASs5E,YAAT,CAAsBtlF,EAAtB,EAA0B5yC,KAA1B,EAAiC;AAC/B,MAAI,OAAOA,KAAP,KAAiB,UAArB,EAAiC,MAAM,IAAI2G,KAAJ,EAAN;AACjC,SAAO,YAAW;AAChB0iB,yDAAGA,CAAC,IAAJ,EAAUupB,EAAV,EAAcokF,IAAd,GAAqBh3H,KAArB;AACD,GAFD;AAGD;;AAEc,yEAASA,KAAT,EAAgB;AAC7B,MAAI4yC,KAAK,KAAKiU,GAAd;;AAEA,SAAOz7C,UAAU3H,MAAV,GACD,KAAK6wC,IAAL,CAAU4jF,aAAatlF,EAAb,EAAiB5yC,KAAjB,CAAV,CADC,GAEDJ,qDAAGA,CAAC,KAAK+9B,IAAL,EAAJ,EAAiBiV,EAAjB,EAAqBokF,IAF3B;AAGD,C;;;;;;;;;;;;ACfD;AAAA;AAAA;AAAA;AACA;;AAEe,yEAASr8G,KAAT,EAAgB;AAC7B,MAAI,OAAOA,KAAP,KAAiB,UAArB,EAAiCA,QAAQu3F,4DAAOA,CAACv3F,KAAR,CAAR;;AAEjC,OAAK,IAAIk7F,SAAS,KAAKC,OAAlB,EAA2B32G,IAAI02G,OAAOpyG,MAAtC,EAA8CuzG,YAAY,IAAIjwG,KAAJ,CAAU5H,CAAV,CAA1D,EAAwE2E,IAAI,CAAjF,EAAoFA,IAAI3E,CAAxF,EAA2F,EAAE2E,CAA7F,EAAgG;AAC9F,SAAK,IAAI08E,QAAQq1B,OAAO/xG,CAAP,CAAZ,EAAuBtD,IAAIggF,MAAM/8E,MAAjC,EAAyCwzG,WAAWD,UAAUlzG,CAAV,IAAe,EAAnE,EAAuE65B,IAAvE,EAA6E3+B,IAAI,CAAtF,EAAyFA,IAAIwB,CAA7F,EAAgG,EAAExB,CAAlG,EAAqG;AACnG,UAAI,CAAC2+B,OAAO6iD,MAAMxhF,CAAN,CAAR,KAAqB2b,MAAMzb,IAAN,CAAWy+B,IAAX,EAAiBA,KAAK23E,QAAtB,EAAgCt2G,CAAhC,EAAmCwhF,KAAnC,CAAzB,EAAoE;AAClEy2B,iBAASj0G,IAAT,CAAc26B,IAAd;AACD;AACF;AACF;;AAED,SAAO,IAAI64F,iDAAJ,CAAexf,SAAf,EAA0B,KAAKpB,QAA/B,EAAyC,KAAKwhB,KAA9C,EAAqD,KAAKvwE,GAA1D,CAAP;AACD,C;;;;;;;;;;;;ACfD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIjU,KAAK,CAAT;;AAEO,SAAS4jF,UAAT,CAAoB3gB,MAApB,EAA4BF,OAA5B,EAAqCr2G,IAArC,EAA2CszC,EAA3C,EAA+C;AACpD,OAAKkjE,OAAL,GAAeD,MAAf;AACA,OAAKD,QAAL,GAAgBD,OAAhB;AACA,OAAKyhB,KAAL,GAAa93H,IAAb;AACA,OAAKunD,GAAL,GAAWjU,EAAX;AACD;;AAEc,SAAS+L,UAAT,CAAoBr/C,IAApB,EAA0B;AACvC,SAAOgyE,8DAASA,GAAG3yB,UAAZ,CAAuBr/C,IAAvB,CAAP;AACD;;AAEM,SAAS+3H,KAAT,GAAiB;AACtB,SAAO,EAAEzkF,EAAT;AACD;;AAED,IAAIulF,sBAAsB7mD,sDAASA,CAACzwE,SAApC;;AAEA21H,WAAW31H,SAAX,GAAuB89C,WAAW99C,SAAX,GAAuB;AAC5CgK,eAAa2rH,UAD+B;AAE5C/gH,UAAQ2iH,gDAFoC;AAG5Cl5E,aAAWm5E,mDAHiC;AAI5Cn3G,UAAQo3G,+CAJoC;AAK5CppG,SAAOqpG,8CALqC;AAM5CjnD,aAAWknD,mDANiC;AAO5C75E,cAAY85E,oDAPgC;AAQ5Cv5H,QAAMi5H,oBAAoBj5H,IARkB;AAS5C6gC,SAAOo4F,oBAAoBp4F,KATiB;AAU5CpC,QAAMw6F,oBAAoBx6F,IAVkB;AAW5CktC,QAAMstD,oBAAoBttD,IAXkB;AAY5C/C,SAAOqwD,oBAAoBrwD,KAZiB;AAa5CxzB,QAAM6jF,oBAAoB7jF,IAbkB;AAc5CjiC,MAAIqmH,2CAdwC;AAe5C3kF,QAAM4kF,6CAfsC;AAgB5ClB,aAAWmB,kDAhBiC;AAiB5C1lF,SAAO2lF,+CAjBqC;AAkB5CC,cAAYC,oDAlBgC;AAmB5Cz1H,QAAM01H,8CAnBsC;AAoB5CvkF,UAAQwkF,+CApBoC;AAqB5CrB,SAAOsB,+CArBqC;AAsB5C3E,SAAO4E,8CAtBqC;AAuB5Cv6E,YAAUw6E,iDAvBkC;AAwB5CpC,QAAMqC,6CAAeA;AAxBuB,CAA9C,C;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AACA;;AAEe,yEAAS5zG,CAAT,EAAYC,CAAZ,EAAe;AAC5B,QAAItmB,CAAJ;AACA,WAAO,CAAC,OAAOsmB,CAAP,KAAa,QAAb,GAAwB4zG,gEAAxB,GACF5zG,aAAastB,8CAAb,GAAqBumF,6DAArB,GACA,CAACn6H,IAAI4zC,sDAAKA,CAACttB,CAAN,CAAL,KAAkBA,IAAItmB,CAAJ,EAAOm6H,6DAAzB,IACAC,gEAHC,EAGkB/zG,CAHlB,EAGqBC,CAHrB,CAAP;AAID,C;;;;;;;;;;;;ACTD;AAAA;AAAA;;AAEe,yEAASi5B,UAAT,EAAqB;AAClC,MAAIA,WAAWkI,GAAX,KAAmB,KAAKA,GAA5B,EAAiC,MAAM,IAAIlgD,KAAJ,EAAN;;AAEjC,OAAK,IAAI6yG,UAAU,KAAK1D,OAAnB,EAA4B2D,UAAU96D,WAAWm3D,OAAjD,EAA0D4D,KAAKF,QAAQ/1G,MAAvE,EAA+E21F,KAAKqgB,QAAQh2G,MAA5F,EAAoGtE,IAAI8c,KAAK3D,GAAL,CAASohG,EAAT,EAAatgB,EAAb,CAAxG,EAA0HugB,SAAS,IAAI5yG,KAAJ,CAAU2yG,EAAV,CAAnI,EAAkJ51G,IAAI,CAA3J,EAA8JA,IAAI3E,CAAlK,EAAqK,EAAE2E,CAAvK,EAA0K;AACxK,SAAK,IAAI81G,SAASJ,QAAQ11G,CAAR,CAAb,EAAyB+1G,SAASJ,QAAQ31G,CAAR,CAAlC,EAA8CtD,IAAIo5G,OAAOn2G,MAAzD,EAAiEyrB,QAAQyqF,OAAO71G,CAAP,IAAY,IAAIiD,KAAJ,CAAUvG,CAAV,CAArF,EAAmGm9B,IAAnG,EAAyG3+B,IAAI,CAAlH,EAAqHA,IAAIwB,CAAzH,EAA4H,EAAExB,CAA9H,EAAiI;AAC/H,UAAI2+B,OAAOi8E,OAAO56G,CAAP,KAAa66G,OAAO76G,CAAP,CAAxB,EAAmC;AACjCkwB,cAAMlwB,CAAN,IAAW2+B,IAAX;AACD;AACF;AACF;;AAED,SAAO75B,IAAI41G,EAAX,EAAe,EAAE51G,CAAjB,EAAoB;AAClB61G,WAAO71G,CAAP,IAAY01G,QAAQ11G,CAAR,CAAZ;AACD;;AAED,SAAO,IAAI0yH,iDAAJ,CAAe7c,MAAf,EAAuB,KAAK/D,QAA5B,EAAsC,KAAKwhB,KAA3C,EAAkD,KAAKvwE,GAAvD,CAAP;AACD,C;;;;;;;;;;;;AClBD;AAAA;AAAA;;AAEA,SAASjiC,KAAT,CAAetlB,IAAf,EAAqB;AACnB,SAAO,CAACA,OAAO,EAAR,EAAYub,IAAZ,GAAmB4D,KAAnB,CAAyB,OAAzB,EAAkC8B,KAAlC,CAAwC,UAAStgB,CAAT,EAAY;AACzD,QAAIjB,IAAIiB,EAAEiN,OAAF,CAAU,GAAV,CAAR;AACA,QAAIlO,KAAK,CAAT,EAAYiB,IAAIA,EAAE8D,KAAF,CAAQ,CAAR,EAAW/E,CAAX,CAAJ;AACZ,WAAO,CAACiB,CAAD,IAAMA,MAAM,OAAnB;AACD,GAJM,CAAP;AAKD;;AAED,SAASw5H,UAAT,CAAoB7mF,EAApB,EAAwBtzC,IAAxB,EAA8B46G,QAA9B,EAAwC;AACtC,MAAIwf,GAAJ;AAAA,MAASC,GAAT;AAAA,MAAcC,MAAMh1G,MAAMtlB,IAAN,IAAcw4H,8CAAd,GAAqBzuG,6CAAzC;AACA,SAAO,YAAW;AAChB,QAAIgtG,WAAWuD,IAAI,IAAJ,EAAUhnF,EAAV,CAAf;AAAA,QACIvgC,KAAKgkH,SAAShkH,EADlB;;AAGA;AACA;AACA;AACA,QAAIA,OAAOqnH,GAAX,EAAgB,CAACC,MAAM,CAACD,MAAMrnH,EAAP,EAAWy6E,IAAX,EAAP,EAA0Bz6E,EAA1B,CAA6B/S,IAA7B,EAAmC46G,QAAnC;;AAEhBmc,aAAShkH,EAAT,GAAcsnH,GAAd;AACD,GAVD;AAWD;;AAEc,yEAASr6H,IAAT,EAAe46G,QAAf,EAAyB;AACtC,MAAItnE,KAAK,KAAKiU,GAAd;;AAEA,SAAOz7C,UAAU3H,MAAV,GAAmB,CAAnB,GACD7D,qDAAGA,CAAC,KAAK+9B,IAAL,EAAJ,EAAiBiV,EAAjB,EAAqBvgC,EAArB,CAAwBA,EAAxB,CAA2B/S,IAA3B,CADC,GAED,KAAKg1C,IAAL,CAAUmlF,WAAW7mF,EAAX,EAAetzC,IAAf,EAAqB46G,QAArB,CAAV,CAFN;AAGD,C;;;;;;;;;;;;AC/BD;AAAA,SAAS2f,cAAT,CAAwBjnF,EAAxB,EAA4B;AAC1B,SAAO,YAAW;AAChB,QAAItgB,SAAS,KAAK+6D,UAAlB;AACA,SAAK,IAAIruF,CAAT,IAAc,KAAKo3H,YAAnB;AAAiC,UAAI,CAACp3H,CAAD,KAAO4zC,EAAX,EAAe;AAAhD,KACA,IAAItgB,MAAJ,EAAYA,OAAOF,WAAP,CAAmB,IAAnB;AACb,GAJD;AAKD;;AAEc,2EAAW;AACxB,SAAO,KAAK/f,EAAL,CAAQ,YAAR,EAAsBwnH,eAAe,KAAKhzE,GAApB,CAAtB,CAAP;AACD,C;;;;;;;;;;;;ACVD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,IAAIizE,UAAU1zD,4DAAQA,CAAC,OAAT,EAAkB,KAAlB,EAAyB,WAAzB,CAAd;AACA,IAAI2zD,aAAa,EAAjB;;AAEO,IAAIC,UAAU,CAAd;AACA,IAAIzD,YAAY,CAAhB;AACA,IAAIE,WAAW,CAAf;AACA,IAAIwD,UAAU,CAAd;AACA,IAAIC,UAAU,CAAd;AACA,IAAIxD,SAAS,CAAb;AACA,IAAIC,QAAQ,CAAZ;;AAEQ,yEAASh5F,IAAT,EAAer+B,IAAf,EAAqBszC,EAArB,EAAyBliC,KAAzB,EAAgC8vE,KAAhC,EAAuC22C,MAAvC,EAA+C;AAC5D,MAAIhB,YAAYx4F,KAAKy4F,YAArB;AACA,MAAI,CAACD,SAAL,EAAgBx4F,KAAKy4F,YAAL,GAAoB,EAApB,CAAhB,KACK,IAAIxjF,MAAMujF,SAAV,EAAqB;AAC1B91H,SAAOs9B,IAAP,EAAaiV,EAAb,EAAiB;AACftzC,UAAMA,IADS;AAEfoR,WAAOA,KAFQ,EAED;AACd8vE,WAAOA,KAHQ,EAGD;AACdnuE,QAAIynH,OAJW;AAKflC,WAAOmC,UALQ;AAMf3wE,UAAM+tE,OAAO/tE,IANE;AAOfmrE,WAAO4C,OAAO5C,KAPC;AAQf31E,cAAUu4E,OAAOv4E,QARF;AASfo4E,UAAMG,OAAOH,IATE;AAUfrB,WAAO,IAVQ;AAWfW,WAAO0D;AAXQ,GAAjB;AAaD;;AAEM,SAASlC,IAAT,CAAcn6F,IAAd,EAAoBiV,EAApB,EAAwB;AAC7B,MAAIyjF,WAAWz2H,IAAI+9B,IAAJ,EAAUiV,EAAV,CAAf;AACA,MAAIyjF,SAASC,KAAT,GAAiB0D,OAArB,EAA8B,MAAM,IAAIrzH,KAAJ,CAAU,6BAAV,CAAN;AAC9B,SAAO0vH,QAAP;AACD;;AAEM,SAAShtG,GAAT,CAAasU,IAAb,EAAmBiV,EAAnB,EAAuB;AAC5B,MAAIyjF,WAAWz2H,IAAI+9B,IAAJ,EAAUiV,EAAV,CAAf;AACA,MAAIyjF,SAASC,KAAT,GAAiBG,QAArB,EAA+B,MAAM,IAAI9vH,KAAJ,CAAU,2BAAV,CAAN;AAC/B,SAAO0vH,QAAP;AACD;;AAEM,SAASz2H,GAAT,CAAa+9B,IAAb,EAAmBiV,EAAnB,EAAuB;AAC5B,MAAIyjF,WAAW14F,KAAKy4F,YAApB;AACA,MAAI,CAACC,QAAD,IAAa,EAAEA,WAAWA,SAASzjF,EAAT,CAAb,CAAjB,EAA6C,MAAM,IAAIjsC,KAAJ,CAAU,sBAAV,CAAN;AAC7C,SAAO0vH,QAAP;AACD;;AAED,SAASh2H,MAAT,CAAgBs9B,IAAhB,EAAsBiV,EAAtB,EAA0BpoC,IAA1B,EAAgC;AAC9B,MAAI2rH,YAAYx4F,KAAKy4F,YAArB;AAAA,MACIwB,KADJ;;AAGA;AACA;AACAzB,YAAUvjF,EAAV,IAAgBpoC,IAAhB;AACAA,OAAKmrH,KAAL,GAAaA,sDAAKA,CAACU,QAAN,EAAgB,CAAhB,EAAmB7rH,KAAK4+C,IAAxB,CAAb;;AAEA,WAASitE,QAAT,CAAkBzB,OAAlB,EAA2B;AACzBpqH,SAAK8rH,KAAL,GAAaC,SAAb;AACA/rH,SAAKmrH,KAAL,CAAWjB,OAAX,CAAmB9vG,KAAnB,EAA0Bpa,KAAK+pH,KAA/B,EAAsC/pH,KAAK4+C,IAA3C;;AAEA;AACA,QAAI5+C,KAAK+pH,KAAL,IAAcK,OAAlB,EAA2BhwG,MAAMgwG,UAAUpqH,KAAK+pH,KAArB;AAC5B;;AAED,WAAS3vG,KAAT,CAAegwG,OAAf,EAAwB;AACtB,QAAI51H,CAAJ,EAAO8E,CAAP,EAAUtD,CAAV,EAAahB,CAAb;;AAEA;AACA,QAAIgL,KAAK8rH,KAAL,KAAeC,SAAnB,EAA8B,OAAOnrC,MAAP;;AAE9B,SAAKpsF,CAAL,IAAUm3H,SAAV,EAAqB;AACnB32H,UAAI22H,UAAUn3H,CAAV,CAAJ;AACA,UAAIQ,EAAEF,IAAF,KAAWkL,KAAKlL,IAApB,EAA0B;;AAE1B;AACA;AACA;AACA,UAAIE,EAAE82H,KAAF,KAAY2D,OAAhB,EAAyB,OAAOnF,wDAAOA,CAAClwG,KAAR,CAAP;;AAEzB;AACA;AACA,UAAIplB,EAAE82H,KAAF,KAAY4D,OAAhB,EAAyB;AACvB16H,UAAE82H,KAAF,GAAUK,KAAV;AACAn3H,UAAEm2H,KAAF,CAAQvqC,IAAR;AACA5rF,UAAE6S,EAAF,CAAKnT,IAAL,CAAU,WAAV,EAAuBy+B,IAAvB,EAA6BA,KAAK23E,QAAlC,EAA4C91G,EAAEkR,KAA9C,EAAqDlR,EAAEghF,KAAvD;AACA,eAAO21C,UAAUn3H,CAAV,CAAP;AACD;;AAED;AACA;AACA;AATA,WAUK,IAAI,CAACA,CAAD,GAAK4zC,EAAT,EAAa;AAChBpzC,YAAE82H,KAAF,GAAUK,KAAV;AACAn3H,YAAEm2H,KAAF,CAAQvqC,IAAR;AACA,iBAAO+qC,UAAUn3H,CAAV,CAAP;AACD;AACF;;AAED;AACA;AACA;AACA;AACA81H,4DAAOA,CAAC,YAAW;AACjB,UAAItqH,KAAK8rH,KAAL,KAAe2D,OAAnB,EAA4B;AAC1BzvH,aAAK8rH,KAAL,GAAa4D,OAAb;AACA1vH,aAAKmrH,KAAL,CAAWjB,OAAX,CAAmB3nC,IAAnB,EAAyBviF,KAAK+pH,KAA9B,EAAqC/pH,KAAK4+C,IAA1C;AACA2jC,aAAK6nC,OAAL;AACD;AACF,KAND;;AAQA;AACA;AACApqH,SAAK8rH,KAAL,GAAaG,QAAb;AACAjsH,SAAK6H,EAAL,CAAQnT,IAAR,CAAa,OAAb,EAAsBy+B,IAAtB,EAA4BA,KAAK23E,QAAjC,EAA2C9qG,KAAKkG,KAAhD,EAAuDlG,KAAKg2E,KAA5D;AACA,QAAIh2E,KAAK8rH,KAAL,KAAeG,QAAnB,EAA6B,OAlDP,CAkDe;AACrCjsH,SAAK8rH,KAAL,GAAa2D,OAAb;;AAEA;AACArC,YAAQ,IAAI7wH,KAAJ,CAAUvG,IAAIgK,KAAKotH,KAAL,CAAWn0H,MAAzB,CAAR;AACA,SAAKzE,IAAI,CAAJ,EAAO8E,IAAI,CAAC,CAAjB,EAAoB9E,IAAIwB,CAAxB,EAA2B,EAAExB,CAA7B,EAAgC;AAC9B,UAAIQ,IAAIgL,KAAKotH,KAAL,CAAW54H,CAAX,EAAcgB,KAAd,CAAoBd,IAApB,CAAyBy+B,IAAzB,EAA+BA,KAAK23E,QAApC,EAA8C9qG,KAAKkG,KAAnD,EAA0DlG,KAAKg2E,KAA/D,CAAR,EAA+E;AAC7Eo3C,cAAM,EAAE9zH,CAAR,IAAatE,CAAb;AACD;AACF;AACDo4H,UAAMn0H,MAAN,GAAeK,IAAI,CAAnB;AACD;;AAED,WAASipF,IAAT,CAAc6nC,OAAd,EAAuB;AACrB,QAAI30H,IAAI20H,UAAUpqH,KAAKo0C,QAAf,GAA0Bp0C,KAAKwsH,IAAL,CAAU93H,IAAV,CAAe,IAAf,EAAqB01H,UAAUpqH,KAAKo0C,QAApC,CAA1B,IAA2Ep0C,KAAKmrH,KAAL,CAAWjB,OAAX,CAAmBtpC,IAAnB,GAA0B5gF,KAAK8rH,KAAL,GAAaI,MAAvC,EAA+C,CAA1H,CAAR;AAAA,QACI13H,IAAI,CAAC,CADT;AAAA,QAEIwB,IAAIo3H,MAAMn0H,MAFd;;AAIA,WAAO,EAAEzE,CAAF,GAAMwB,CAAb,EAAgB;AACdo3H,YAAM54H,CAAN,EAASE,IAAT,CAAc,IAAd,EAAoBe,CAApB;AACD;;AAED;AACA,QAAIuK,KAAK8rH,KAAL,KAAeI,MAAnB,EAA2B;AACzBlsH,WAAK6H,EAAL,CAAQnT,IAAR,CAAa,KAAb,EAAoBy+B,IAApB,EAA0BA,KAAK23E,QAA/B,EAAyC9qG,KAAKkG,KAA9C,EAAqDlG,KAAKg2E,KAA1D;AACA4K;AACD;AACF;;AAED,WAASA,IAAT,GAAgB;AACd5gF,SAAK8rH,KAAL,GAAaK,KAAb;AACAnsH,SAAKmrH,KAAL,CAAWvqC,IAAX;AACA,WAAO+qC,UAAUvjF,EAAV,CAAP;AACA,SAAK,IAAI5zC,CAAT,IAAcm3H,SAAd;AAAyB;AAAzB,KAJc,CAImB;AACjC,WAAOx4F,KAAKy4F,YAAZ;AACD;AACF,C;;;;;;;;;;;;AC1JD;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAEe,yEAAS3gH,MAAT,EAAiB;AAC9B,MAAInW,OAAO,KAAK83H,KAAhB;AAAA,MACIxkF,KAAK,KAAKiU,GADd;;AAGA,MAAI,OAAOpxC,MAAP,KAAkB,UAAtB,EAAkCA,SAAS08F,6DAAQA,CAAC18F,MAAT,CAAT;;AAElC,OAAK,IAAIogG,SAAS,KAAKC,OAAlB,EAA2B32G,IAAI02G,OAAOpyG,MAAtC,EAA8CuzG,YAAY,IAAIjwG,KAAJ,CAAU5H,CAAV,CAA1D,EAAwE2E,IAAI,CAAjF,EAAoFA,IAAI3E,CAAxF,EAA2F,EAAE2E,CAA7F,EAAgG;AAC9F,SAAK,IAAI08E,QAAQq1B,OAAO/xG,CAAP,CAAZ,EAAuBtD,IAAIggF,MAAM/8E,MAAjC,EAAyCwzG,WAAWD,UAAUlzG,CAAV,IAAe,IAAIiD,KAAJ,CAAUvG,CAAV,CAAnE,EAAiFm9B,IAAjF,EAAuFw9E,OAAvF,EAAgGn8G,IAAI,CAAzG,EAA4GA,IAAIwB,CAAhH,EAAmH,EAAExB,CAArH,EAAwH;AACtH,UAAI,CAAC2+B,OAAO6iD,MAAMxhF,CAAN,CAAR,MAAsBm8G,UAAU1lG,OAAOvW,IAAP,CAAYy+B,IAAZ,EAAkBA,KAAK23E,QAAvB,EAAiCt2G,CAAjC,EAAoCwhF,KAApC,CAAhC,CAAJ,EAAiF;AAC/E,YAAI,cAAc7iD,IAAlB,EAAwBw9E,QAAQ7F,QAAR,GAAmB33E,KAAK23E,QAAxB;AACxB2B,iBAASj4G,CAAT,IAAcm8G,OAAd;AACAkb,iEAAQA,CAACpf,SAASj4G,CAAT,CAAT,EAAsBM,IAAtB,EAA4BszC,EAA5B,EAAgC5zC,CAAhC,EAAmCi4G,QAAnC,EAA6Cr3G,qDAAGA,CAAC+9B,IAAJ,EAAUiV,EAAV,CAA7C;AACD;AACF;AACF;;AAED,SAAO,IAAI4jF,iDAAJ,CAAexf,SAAf,EAA0B,KAAKpB,QAA/B,EAAyCt2G,IAAzC,EAA+CszC,EAA/C,CAAP;AACD,C;;;;;;;;;;;;ACrBD;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAEe,yEAASn9B,MAAT,EAAiB;AAC9B,MAAInW,OAAO,KAAK83H,KAAhB;AAAA,MACIxkF,KAAK,KAAKiU,GADd;;AAGA,MAAI,OAAOpxC,MAAP,KAAkB,UAAtB,EAAkCA,SAAS2lG,gEAAWA,CAAC3lG,MAAZ,CAAT;;AAElC,OAAK,IAAIogG,SAAS,KAAKC,OAAlB,EAA2B32G,IAAI02G,OAAOpyG,MAAtC,EAA8CuzG,YAAY,EAA1D,EAA8DrB,UAAU,EAAxE,EAA4E7xG,IAAI,CAArF,EAAwFA,IAAI3E,CAA5F,EAA+F,EAAE2E,CAAjG,EAAoG;AAClG,SAAK,IAAI08E,QAAQq1B,OAAO/xG,CAAP,CAAZ,EAAuBtD,IAAIggF,MAAM/8E,MAAjC,EAAyCk6B,IAAzC,EAA+C3+B,IAAI,CAAxD,EAA2DA,IAAIwB,CAA/D,EAAkE,EAAExB,CAApE,EAAuE;AACrE,UAAI2+B,OAAO6iD,MAAMxhF,CAAN,CAAX,EAAqB;AACnB,aAAK,IAAI0jB,WAAWjN,OAAOvW,IAAP,CAAYy+B,IAAZ,EAAkBA,KAAK23E,QAAvB,EAAiCt2G,CAAjC,EAAoCwhF,KAApC,CAAf,EAA2D7+D,KAA3D,EAAkEu1G,UAAUt3H,qDAAGA,CAAC+9B,IAAJ,EAAUiV,EAAV,CAA5E,EAA2F+5C,IAAI,CAA/F,EAAkG1tF,IAAIyjB,SAASjf,MAApH,EAA4HkpF,IAAI1tF,CAAhI,EAAmI,EAAE0tF,CAArI,EAAwI;AACtI,cAAIhrE,QAAQe,SAASiqE,CAAT,CAAZ,EAAyB;AACvB0pC,qEAAQA,CAAC10G,KAAT,EAAgBriB,IAAhB,EAAsBszC,EAAtB,EAA0B+5C,CAA1B,EAA6BjqE,QAA7B,EAAuCw0G,OAAvC;AACD;AACF;AACDlgB,kBAAUh0G,IAAV,CAAe0f,QAAf;AACAizF,gBAAQ3yG,IAAR,CAAa26B,IAAb;AACD;AACF;AACF;;AAED,SAAO,IAAI64F,iDAAJ,CAAexf,SAAf,EAA0BrB,OAA1B,EAAmCr2G,IAAnC,EAAyCszC,EAAzC,CAAP;AACD,C;;;;;;;;;;;;ACzBD;AAAA;AAAA;;AAEA,IAAIygE,YAAY/hC,sDAASA,CAACzwE,SAAV,CAAoBgK,WAApC;;AAEe,2EAAW;AACxB,SAAO,IAAIwoG,SAAJ,CAAc,KAAKyC,OAAnB,EAA4B,KAAKF,QAAjC,CAAP;AACD,C;;;;;;;;;;;;ACND;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA,SAAS4F,WAAT,CAAqBl8G,IAArB,EAA2B6lG,WAA3B,EAAwC;AACtC,QAAImyB,OAAJ,EACIE,OADJ,EAEID,YAFJ;AAGA,WAAO,YAAW;AAChB,YAAIvtC,SAAS92C,0DAAKA,CAAC,IAAN,EAAY5zC,IAAZ,CAAb;AAAA,YACI6rF,UAAU,KAAKj4C,KAAL,CAAWuoE,cAAX,CAA0Bn8G,IAA1B,GAAiC4zC,0DAAKA,CAAC,IAAN,EAAY5zC,IAAZ,CAA3C,CADJ;AAEA,eAAO0qF,WAAWmB,MAAX,GAAoB,IAApB,GACDnB,WAAWstC,OAAX,IAAsBnsC,WAAWqsC,OAAjC,GAA2CD,YAA3C,GACAA,eAAepyB,YAAYmyB,UAAUttC,MAAtB,EAA8BwtC,UAAUrsC,MAAxC,CAFrB;AAGD,KAND;AAOD;;AAED,SAASgvC,cAAT,CAAwB76H,IAAxB,EAA8B;AAC5B,WAAO,YAAW;AAChB,aAAK4zC,KAAL,CAAWuoE,cAAX,CAA0Bn8G,IAA1B;AACD,KAFD;AAGD;;AAED,SAASo8G,aAAT,CAAuBp8G,IAAvB,EAA6B6lG,WAA7B,EAA0Cha,MAA1C,EAAkD;AAChD,QAAImsC,OAAJ,EACIC,YADJ;AAEA,WAAO,YAAW;AAChB,YAAIvtC,SAAS92C,0DAAKA,CAAC,IAAN,EAAY5zC,IAAZ,CAAb;AACA,eAAO0qF,WAAWmB,MAAX,GAAoB,IAApB,GACDnB,WAAWstC,OAAX,GAAqBC,YAArB,GACAA,eAAepyB,YAAYmyB,UAAUttC,MAAtB,EAA8BmB,MAA9B,CAFrB;AAGD,KALD;AAMD;;AAED,SAASywB,aAAT,CAAuBt8G,IAAvB,EAA6B6lG,WAA7B,EAA0CnlG,KAA1C,EAAiD;AAC/C,QAAIs3H,OAAJ,EACIE,OADJ,EAEID,YAFJ;AAGA,WAAO,YAAW;AAChB,YAAIvtC,SAAS92C,0DAAKA,CAAC,IAAN,EAAY5zC,IAAZ,CAAb;AAAA,YACI6rF,SAASnrF,MAAM,IAAN,CADb;AAEA,YAAImrF,UAAU,IAAd,EAAoBA,UAAU,KAAKj4C,KAAL,CAAWuoE,cAAX,CAA0Bn8G,IAA1B,GAAiC4zC,0DAAKA,CAAC,IAAN,EAAY5zC,IAAZ,CAA3C;AACpB,eAAO0qF,WAAWmB,MAAX,GAAoB,IAApB,GACDnB,WAAWstC,OAAX,IAAsBnsC,WAAWqsC,OAAjC,GAA2CD,YAA3C,GACAA,eAAepyB,YAAYmyB,UAAUttC,MAAtB,EAA8BwtC,UAAUrsC,MAAxC,CAFrB;AAGD,KAPD;AAQD;;AAEc,yEAAS7rF,IAAT,EAAeU,KAAf,EAAsB+vC,QAAtB,EAAgC;AAC7C,QAAI/wC,IAAI,CAACM,QAAQ,EAAT,MAAiB,WAAjB,GAA+BqnG,sEAA/B,GAAsDxB,oDAA9D;AACA,WAAOnlG,SAAS,IAAT,GAAgB,KACd84H,UADc,CACHx5H,IADG,EACGk8G,YAAYl8G,IAAZ,EAAkBN,CAAlB,CADH,EAEdqT,EAFc,CAEX,eAAe/S,IAFJ,EAEU66H,eAAe76H,IAAf,CAFV,CAAhB,GAGD,KAAKw5H,UAAL,CAAgBx5H,IAAhB,EAAsB,OAAOU,KAAP,KAAiB,UAAjB,GAClB47G,cAAct8G,IAAd,EAAoBN,CAApB,EAAuB04H,yDAAUA,CAAC,IAAX,EAAiB,WAAWp4H,IAA5B,EAAkCU,KAAlC,CAAvB,CADkB,GAElB07G,cAAcp8G,IAAd,EAAoBN,CAApB,EAAuBgB,QAAQ,EAA/B,CAFJ,EAEwC+vC,QAFxC,CAHN;AAMD,C;;;;;;;;;;;;ACzDD;AAAA,SAAS+oF,UAAT,CAAoBx5H,IAApB,EAA0BU,KAA1B,EAAiC+vC,QAAjC,EAA2C;AACzC,WAAS6nF,KAAT,GAAiB;AACf,QAAIj6F,OAAO,IAAX;AAAA,QAAiB3+B,IAAIgB,MAAMyH,KAAN,CAAYk2B,IAAZ,EAAkBvyB,SAAlB,CAArB;AACA,WAAOpM,KAAK,UAASiB,CAAT,EAAY;AACtB09B,WAAKuV,KAAL,CAAWyoE,WAAX,CAAuBr8G,IAAvB,EAA6BN,EAAEiB,CAAF,CAA7B,EAAmC8vC,QAAnC;AACD,KAFD;AAGD;AACD6nF,QAAMz7F,MAAN,GAAen8B,KAAf;AACA,SAAO43H,KAAP;AACD;;AAEc,yEAASt4H,IAAT,EAAeU,KAAf,EAAsB+vC,QAAtB,EAAgC;AAC7C,MAAIzvC,MAAM,YAAYhB,QAAQ,EAApB,CAAV;AACA,MAAI8L,UAAU3H,MAAV,GAAmB,CAAvB,EAA0B,OAAO,CAACnD,MAAM,KAAKs3H,KAAL,CAAWt3H,GAAX,CAAP,KAA2BA,IAAI67B,MAAtC;AAC1B,MAAIn8B,SAAS,IAAb,EAAmB,OAAO,KAAK43H,KAAL,CAAWt3H,GAAX,EAAgB,IAAhB,CAAP;AACnB,MAAI,OAAON,KAAP,KAAiB,UAArB,EAAiC,MAAM,IAAI2G,KAAJ,EAAN;AACjC,SAAO,KAAKixH,KAAL,CAAWt3H,GAAX,EAAgBw4H,WAAWx5H,IAAX,EAAiBU,KAAjB,EAAwB+vC,YAAY,IAAZ,GAAmB,EAAnB,GAAwBA,QAAhD,CAAhB,CAAP;AACD,C;;;;;;;;;;;;ACjBD;AAAA;AAAA;;AAEA,SAASisE,YAAT,CAAsBh8G,KAAtB,EAA6B;AAC3B,SAAO,YAAW;AAChB,SAAK+7G,WAAL,GAAmB/7G,KAAnB;AACD,GAFD;AAGD;;AAED,SAASi8G,YAAT,CAAsBj8G,KAAtB,EAA6B;AAC3B,SAAO,YAAW;AAChB,QAAImrF,SAASnrF,MAAM,IAAN,CAAb;AACA,SAAK+7G,WAAL,GAAmB5wB,UAAU,IAAV,GAAiB,EAAjB,GAAsBA,MAAzC;AACD,GAHD;AAID;;AAEc,yEAASnrF,KAAT,EAAgB;AAC7B,SAAO,KAAK43H,KAAL,CAAW,MAAX,EAAmB,OAAO53H,KAAP,KAAiB,UAAjB,GACpBi8G,aAAayb,yDAAUA,CAAC,IAAX,EAAiB,MAAjB,EAAyB13H,KAAzB,CAAb,CADoB,GAEpBg8G,aAAah8G,SAAS,IAAT,GAAgB,EAAhB,GAAqBA,QAAQ,EAA1C,CAFC,CAAP;AAGD,C;;;;;;;;;;;;ACnBD;AAAA;AAAA;AAAA;AACA;;AAEA,+DAAe,YAAW;AACxB,MAAIV,OAAO,KAAK83H,KAAhB;AAAA,MACIgD,MAAM,KAAKvzE,GADf;AAAA,MAEIwzE,MAAMhD,oDAAKA,EAFf;;AAIA,OAAK,IAAIxhB,SAAS,KAAKC,OAAlB,EAA2B32G,IAAI02G,OAAOpyG,MAAtC,EAA8CK,IAAI,CAAvD,EAA0DA,IAAI3E,CAA9D,EAAiE,EAAE2E,CAAnE,EAAsE;AACpE,SAAK,IAAI08E,QAAQq1B,OAAO/xG,CAAP,CAAZ,EAAuBtD,IAAIggF,MAAM/8E,MAAjC,EAAyCk6B,IAAzC,EAA+C3+B,IAAI,CAAxD,EAA2DA,IAAIwB,CAA/D,EAAkE,EAAExB,CAApE,EAAuE;AACrE,UAAI2+B,OAAO6iD,MAAMxhF,CAAN,CAAX,EAAqB;AACnB,YAAIk4H,UAAUt3H,qDAAGA,CAAC+9B,IAAJ,EAAUy8F,GAAV,CAAd;AACA/D,iEAAQA,CAAC14F,IAAT,EAAer+B,IAAf,EAAqB+6H,GAArB,EAA0Br7H,CAA1B,EAA6BwhF,KAA7B,EAAoC;AAClCp3B,gBAAM8tE,QAAQ9tE,IAAR,GAAe8tE,QAAQ3C,KAAvB,GAA+B2C,QAAQt4E,QADX;AAElC21E,iBAAO,CAF2B;AAGlC31E,oBAAUs4E,QAAQt4E,QAHgB;AAIlCo4E,gBAAME,QAAQF;AAJoB,SAApC;AAMD;AACF;AACF;;AAED,SAAO,IAAIR,iDAAJ,CAAe3gB,MAAf,EAAuB,KAAKD,QAA5B,EAAsCt2G,IAAtC,EAA4C+6H,GAA5C,CAAP;AACD,C;;;;;;;;;;;;ACvBD;AAAA;AAAA;AAAA;;AAEA,SAASC,WAAT,CAAqB1nF,EAArB,EAAyBtzC,IAAzB,EAA+B;AAC7B,MAAIi7H,MAAJ,EAAYC,MAAZ;AACA,SAAO,YAAW;AAChB,QAAInE,WAAWhtG,qDAAGA,CAAC,IAAJ,EAAUupB,EAAV,CAAf;AAAA,QACIglF,QAAQvB,SAASuB,KADrB;;AAGA;AACA;AACA;AACA,QAAIA,UAAU2C,MAAd,EAAsB;AACpBC,eAASD,SAAS3C,KAAlB;AACA,WAAK,IAAI54H,IAAI,CAAR,EAAWwB,IAAIg6H,OAAO/2H,MAA3B,EAAmCzE,IAAIwB,CAAvC,EAA0C,EAAExB,CAA5C,EAA+C;AAC7C,YAAIw7H,OAAOx7H,CAAP,EAAUM,IAAV,KAAmBA,IAAvB,EAA6B;AAC3Bk7H,mBAASA,OAAOz2H,KAAP,EAAT;AACAy2H,iBAAOjzH,MAAP,CAAcvI,CAAd,EAAiB,CAAjB;AACA;AACD;AACF;AACF;;AAEDq3H,aAASuB,KAAT,GAAiB4C,MAAjB;AACD,GAnBD;AAoBD;;AAED,SAASC,aAAT,CAAuB7nF,EAAvB,EAA2BtzC,IAA3B,EAAiCU,KAAjC,EAAwC;AACtC,MAAIu6H,MAAJ,EAAYC,MAAZ;AACA,MAAI,OAAOx6H,KAAP,KAAiB,UAArB,EAAiC,MAAM,IAAI2G,KAAJ,EAAN;AACjC,SAAO,YAAW;AAChB,QAAI0vH,WAAWhtG,qDAAGA,CAAC,IAAJ,EAAUupB,EAAV,CAAf;AAAA,QACIglF,QAAQvB,SAASuB,KADrB;;AAGA;AACA;AACA;AACA,QAAIA,UAAU2C,MAAd,EAAsB;AACpBC,eAAS,CAACD,SAAS3C,KAAV,EAAiB7zH,KAAjB,EAAT;AACA,WAAK,IAAI9D,IAAI,EAACX,MAAMA,IAAP,EAAaU,OAAOA,KAApB,EAAR,EAAoChB,IAAI,CAAxC,EAA2CwB,IAAIg6H,OAAO/2H,MAA3D,EAAmEzE,IAAIwB,CAAvE,EAA0E,EAAExB,CAA5E,EAA+E;AAC7E,YAAIw7H,OAAOx7H,CAAP,EAAUM,IAAV,KAAmBA,IAAvB,EAA6B;AAC3Bk7H,iBAAOx7H,CAAP,IAAYiB,CAAZ;AACA;AACD;AACF;AACD,UAAIjB,MAAMwB,CAAV,EAAag6H,OAAOx3H,IAAP,CAAY/C,CAAZ;AACd;;AAEDo2H,aAASuB,KAAT,GAAiB4C,MAAjB;AACD,GAnBD;AAoBD;;AAEc,yEAASl7H,IAAT,EAAeU,KAAf,EAAsB;AACnC,MAAI4yC,KAAK,KAAKiU,GAAd;;AAEAvnD,UAAQ,EAAR;;AAEA,MAAI8L,UAAU3H,MAAV,GAAmB,CAAvB,EAA0B;AACxB,QAAIm0H,QAAQh4H,qDAAGA,CAAC,KAAK+9B,IAAL,EAAJ,EAAiBiV,EAAjB,EAAqBglF,KAAjC;AACA,SAAK,IAAI54H,IAAI,CAAR,EAAWwB,IAAIo3H,MAAMn0H,MAArB,EAA6BxD,CAAlC,EAAqCjB,IAAIwB,CAAzC,EAA4C,EAAExB,CAA9C,EAAiD;AAC/C,UAAI,CAACiB,IAAI23H,MAAM54H,CAAN,CAAL,EAAeM,IAAf,KAAwBA,IAA5B,EAAkC;AAChC,eAAOW,EAAED,KAAT;AACD;AACF;AACD,WAAO,IAAP;AACD;;AAED,SAAO,KAAKs0C,IAAL,CAAU,CAACt0C,SAAS,IAAT,GAAgBs6H,WAAhB,GAA8BG,aAA/B,EAA8C7nF,EAA9C,EAAkDtzC,IAAlD,EAAwDU,KAAxD,CAAV,CAAP;AACD;;AAEM,SAAS03H,UAAT,CAAoB/4E,UAApB,EAAgCr/C,IAAhC,EAAsCU,KAAtC,EAA6C;AAClD,MAAI4yC,KAAK+L,WAAWkI,GAApB;;AAEAlI,aAAWrK,IAAX,CAAgB,YAAW;AACzB,QAAI+hF,WAAWhtG,qDAAGA,CAAC,IAAJ,EAAUupB,EAAV,CAAf;AACA,KAACyjF,SAASr2H,KAAT,KAAmBq2H,SAASr2H,KAAT,GAAiB,EAApC,CAAD,EAA0CV,IAA1C,IAAkDU,MAAMyH,KAAN,CAAY,IAAZ,EAAkB2D,SAAlB,CAAlD;AACD,GAHD;;AAKA,SAAO,UAASuyB,IAAT,EAAe;AACpB,WAAO/9B,qDAAGA,CAAC+9B,IAAJ,EAAUiV,EAAV,EAAc5yC,KAAd,CAAoBV,IAApB,CAAP;AACD,GAFD;AAGD,C;;;;;;;;;;;;AChFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;AAEA,IAAIo7H,YAAY,EAAhB;;AAEA,SAASC,KAAT,GAAiB;AACfC,oEAAYA,CAAC,IAAb;AACA,OAAK98F,IAAL,GACA,KAAK+8F,IAAL,GACA,KAAKnT,MAAL,GAAc,IAFd;AAGD;;AAED,SAASoT,WAAT,CAAqBD,IAArB,EAA2B;AACzB,MAAIE,QAAQL,UAAUzwG,GAAV,MAAmB,IAAI0wG,KAAJ,EAA/B;AACAI,QAAMF,IAAN,GAAaA,IAAb;AACA,SAAOE,KAAP;AACD;;AAED,SAASC,WAAT,CAAqBD,KAArB,EAA4B;AAC1BE,8DAAYA,CAACF,KAAb;AACAG,kDAAOA,CAACzmF,MAAR,CAAesmF,KAAf;AACAL,YAAU13H,IAAV,CAAe+3H,KAAf;AACAH,oEAAYA,CAACG,KAAb;AACD;;AAEM,SAASI,WAAT,CAAqBJ,KAArB,EAA4B;AACjC,MAAIrT,SAASqT,MAAMrT,MAAnB;AAAA,MACI57F,IAAI47F,OAAO57F,CADf;AAAA,MAEI+J,IAAI6xF,OAAOpJ,EAFf;AAAA,MAGI8c,SAAS,CAACtvG,CAAD,EAAI+J,CAAJ,CAHb;AAAA,MAIIqgF,WAAW6kB,MAAMnmG,CAJrB;AAAA,MAKIrrB,OAAOwxH,MAAMv3H,CALjB;AAAA,MAMI63H,eAAe,CAACN,KAAD,CANnB;;AAQAC,cAAYD,KAAZ;;AAEA,MAAIO,OAAOplB,QAAX;AACA,SAAOolB,KAAK5T,MAAL,IACAzrG,KAAKmf,GAAL,CAAStP,IAAIwvG,KAAK5T,MAAL,CAAY57F,CAAzB,IAA8BsgE,gDAD9B,IAEAnwE,KAAKmf,GAAL,CAASvF,IAAIylG,KAAK5T,MAAL,CAAYpJ,EAAzB,IAA+BlyB,gDAFtC,EAE+C;AAC7C8pB,eAAWolB,KAAK1mG,CAAhB;AACAymG,iBAAa71G,OAAb,CAAqB81G,IAArB;AACAN,gBAAYM,IAAZ;AACAA,WAAOplB,QAAP;AACD;;AAEDmlB,eAAa71G,OAAb,CAAqB81G,IAArB;AACAL,8DAAYA,CAACK,IAAb;;AAEA,MAAIC,OAAOhyH,IAAX;AACA,SAAOgyH,KAAK7T,MAAL,IACAzrG,KAAKmf,GAAL,CAAStP,IAAIyvG,KAAK7T,MAAL,CAAY57F,CAAzB,IAA8BsgE,gDAD9B,IAEAnwE,KAAKmf,GAAL,CAASvF,IAAI0lG,KAAK7T,MAAL,CAAYpJ,EAAzB,IAA+BlyB,gDAFtC,EAE+C;AAC7C7iF,WAAOgyH,KAAK/3H,CAAZ;AACA63H,iBAAar4H,IAAb,CAAkBu4H,IAAlB;AACAP,gBAAYO,IAAZ;AACAA,WAAOhyH,IAAP;AACD;;AAED8xH,eAAar4H,IAAb,CAAkBu4H,IAAlB;AACAN,8DAAYA,CAACM,IAAb;;AAEA,MAAIC,QAAQH,aAAa53H,MAAzB;AAAA,MACIg4H,IADJ;AAEA,OAAKA,OAAO,CAAZ,EAAeA,OAAOD,KAAtB,EAA6B,EAAEC,IAA/B,EAAqC;AACnCF,WAAOF,aAAaI,IAAb,CAAP;AACAH,WAAOD,aAAaI,OAAO,CAApB,CAAP;AACAC,4DAAUA,CAACH,KAAKz9F,IAAhB,EAAsBw9F,KAAKT,IAA3B,EAAiCU,KAAKV,IAAtC,EAA4CO,MAA5C;AACD;;AAEDE,SAAOD,aAAa,CAAb,CAAP;AACAE,SAAOF,aAAaG,QAAQ,CAArB,CAAP;AACAD,OAAKz9F,IAAL,GAAY69F,wDAAUA,CAACL,KAAKT,IAAhB,EAAsBU,KAAKV,IAA3B,EAAiC,IAAjC,EAAuCO,MAAvC,CAAZ;;AAEAQ,8DAAYA,CAACN,IAAb;AACAM,8DAAYA,CAACL,IAAb;AACD;;AAEM,SAASM,QAAT,CAAkBhB,IAAlB,EAAwB;AAC7B,MAAI/uG,IAAI+uG,KAAK,CAAL,CAAR;AAAA,MACIiB,YAAYjB,KAAK,CAAL,CADhB;AAAA,MAEIS,IAFJ;AAAA,MAGIC,IAHJ;AAAA,MAIIQ,GAJJ;AAAA,MAKIC,GALJ;AAAA,MAMIr+F,OAAOu9F,gDAAOA,CAACx5G,CANnB;;AAQA,SAAOic,IAAP,EAAa;AACXo+F,UAAME,eAAet+F,IAAf,EAAqBm+F,SAArB,IAAkChwG,CAAxC;AACA,QAAIiwG,MAAM3vC,gDAAV,EAAmBzuD,OAAOA,KAAK4rF,CAAZ,CAAnB,KAAuC;AACrCyS,YAAMlwG,IAAIowG,gBAAgBv+F,IAAhB,EAAsBm+F,SAAtB,CAAV;AACA,UAAIE,MAAM5vC,gDAAV,EAAmB;AACjB,YAAI,CAACzuD,KAAKw+F,CAAV,EAAa;AACXb,iBAAO39F,IAAP;AACA;AACD;AACDA,eAAOA,KAAKw+F,CAAZ;AACD,OAND,MAMO;AACL,YAAIJ,MAAM,CAAC3vC,gDAAX,EAAoB;AAClBkvC,iBAAO39F,KAAK/I,CAAZ;AACA2mG,iBAAO59F,IAAP;AACD,SAHD,MAGO,IAAIq+F,MAAM,CAAC5vC,gDAAX,EAAoB;AACzBkvC,iBAAO39F,IAAP;AACA49F,iBAAO59F,KAAKn6B,CAAZ;AACD,SAHM,MAGA;AACL83H,iBAAOC,OAAO59F,IAAd;AACD;AACD;AACD;AACF;AACF;;AAEDy+F,0DAAUA,CAACvB,IAAX;AACA,MAAIwB,SAASvB,YAAYD,IAAZ,CAAb;AACAK,kDAAOA,CAAC/tC,MAAR,CAAemuC,IAAf,EAAqBe,MAArB;;AAEA,MAAI,CAACf,IAAD,IAAS,CAACC,IAAd,EAAoB;;AAEpB,MAAID,SAASC,IAAb,EAAmB;AACjBN,gEAAYA,CAACK,IAAb;AACAC,WAAOT,YAAYQ,KAAKT,IAAjB,CAAP;AACAK,oDAAOA,CAAC/tC,MAAR,CAAekvC,MAAf,EAAuBd,IAAvB;AACAc,WAAOv+F,IAAP,GAAcy9F,KAAKz9F,IAAL,GAAY69F,wDAAUA,CAACL,KAAKT,IAAhB,EAAsBwB,OAAOxB,IAA7B,CAA1B;AACAe,gEAAYA,CAACN,IAAb;AACAM,gEAAYA,CAACL,IAAb;AACA;AACD;;AAED,MAAI,CAACA,IAAL,EAAW;AAAE;AACXc,WAAOv+F,IAAP,GAAc69F,wDAAUA,CAACL,KAAKT,IAAhB,EAAsBwB,OAAOxB,IAA7B,CAAd;AACA;AACD;;AAED;AACAI,8DAAYA,CAACK,IAAb;AACAL,8DAAYA,CAACM,IAAb;;AAEA,MAAIe,QAAQhB,KAAKT,IAAjB;AAAA,MACIxb,KAAKid,MAAM,CAAN,CADT;AAAA,MAEIhd,KAAKgd,MAAM,CAAN,CAFT;AAAA,MAGI/c,KAAKsb,KAAK,CAAL,IAAUxb,EAHnB;AAAA,MAIIG,KAAKqb,KAAK,CAAL,IAAUvb,EAJnB;AAAA,MAKIid,QAAQhB,KAAKV,IALjB;AAAA,MAMIxc,KAAKke,MAAM,CAAN,IAAWld,EANpB;AAAA,MAOIf,KAAKie,MAAM,CAAN,IAAWjd,EAPpB;AAAA,MAQIjgH,IAAI,KAAKkgH,KAAKjB,EAAL,GAAUkB,KAAKnB,EAApB,CARR;AAAA,MASIme,KAAKjd,KAAKA,EAAL,GAAUC,KAAKA,EATxB;AAAA,MAUIid,KAAKpe,KAAKA,EAAL,GAAUC,KAAKA,EAVxB;AAAA,MAWI8c,SAAS,CAAC,CAAC9c,KAAKke,EAAL,GAAUhd,KAAKid,EAAhB,IAAsBp9H,CAAtB,GAA0BggH,EAA3B,EAA+B,CAACE,KAAKkd,EAAL,GAAUpe,KAAKme,EAAhB,IAAsBn9H,CAAtB,GAA0BigH,EAAzD,CAXb;;AAaAoc,0DAAUA,CAACH,KAAKz9F,IAAhB,EAAsBw+F,KAAtB,EAA6BC,KAA7B,EAAoCnB,MAApC;AACAiB,SAAOv+F,IAAP,GAAc69F,wDAAUA,CAACW,KAAX,EAAkBzB,IAAlB,EAAwB,IAAxB,EAA8BO,MAA9B,CAAd;AACAG,OAAKz9F,IAAL,GAAY69F,wDAAUA,CAACd,IAAX,EAAiB0B,KAAjB,EAAwB,IAAxB,EAA8BnB,MAA9B,CAAZ;AACAQ,8DAAYA,CAACN,IAAb;AACAM,8DAAYA,CAACL,IAAb;AACD;;AAED,SAASU,cAAT,CAAwBhxB,GAAxB,EAA6B6wB,SAA7B,EAAwC;AACtC,MAAIjB,OAAO5vB,IAAI4vB,IAAf;AAAA,MACI6B,QAAQ7B,KAAK,CAAL,CADZ;AAAA,MAEI8B,QAAQ9B,KAAK,CAAL,CAFZ;AAAA,MAGI+B,OAAOD,QAAQb,SAHnB;;AAKA,MAAI,CAACc,IAAL,EAAW,OAAOF,KAAP;;AAEX,MAAIpB,OAAOrwB,IAAIr2E,CAAf;AACA,MAAI,CAAC0mG,IAAL,EAAW,OAAO,CAACrvG,QAAR;;AAEX4uG,SAAOS,KAAKT,IAAZ;AACA,MAAIgC,QAAQhC,KAAK,CAAL,CAAZ;AAAA,MACIiC,QAAQjC,KAAK,CAAL,CADZ;AAAA,MAEIkC,QAAQD,QAAQhB,SAFpB;;AAIA,MAAI,CAACiB,KAAL,EAAY,OAAOF,KAAP;;AAEZ,MAAIG,KAAKH,QAAQH,KAAjB;AAAA,MACIO,OAAO,IAAIL,IAAJ,GAAW,IAAIG,KAD1B;AAAA,MAEIr3G,IAAIs3G,KAAKD,KAFb;;AAIA,MAAIE,IAAJ,EAAU,OAAO,CAAC,CAACv3G,CAAD,GAAKzJ,KAAKyQ,IAAL,CAAUhH,IAAIA,CAAJ,GAAQ,IAAIu3G,IAAJ,IAAYD,KAAKA,EAAL,IAAW,CAAC,CAAD,GAAKD,KAAhB,IAAyBD,KAAzB,GAAiCC,QAAQ,CAAzC,GAA6CJ,KAA7C,GAAqDC,OAAO,CAAxE,CAAlB,CAAN,IAAuGK,IAAvG,GAA8GP,KAArH;;AAEV,SAAO,CAACA,QAAQG,KAAT,IAAkB,CAAzB;AACD;;AAED,SAASX,eAAT,CAAyBjxB,GAAzB,EAA8B6wB,SAA9B,EAAyC;AACvC,MAAIP,OAAOtwB,IAAIznG,CAAf;AACA,MAAI+3H,IAAJ,EAAU,OAAOU,eAAeV,IAAf,EAAqBO,SAArB,CAAP;AACV,MAAIjB,OAAO5vB,IAAI4vB,IAAf;AACA,SAAOA,KAAK,CAAL,MAAYiB,SAAZ,GAAwBjB,KAAK,CAAL,CAAxB,GAAkC5uG,QAAzC;AACD,C;;;;;;;;;;;;AChMD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEO,SAASmwG,UAAT,CAAoBvB,IAApB,EAA0B;AAC/B,SAAOpoF,8CAAKA,CAACooF,KAAKnqH,KAAX,IAAoB;AACzBmqH,UAAMA,IADmB;AAEzBqC,eAAW;AAFc,GAA3B;AAID;;AAED,SAASC,iBAAT,CAA2BnpF,IAA3B,EAAiClW,IAAjC,EAAuC;AACrC,MAAI+8F,OAAO7mF,KAAK6mF,IAAhB;AAAA,MACIuC,KAAKt/F,KAAKgrB,IADd;AAAA,MAEIu0E,KAAKv/F,KAAKirB,KAFd;AAGA,MAAI8xE,SAASwC,EAAb,EAAiBA,KAAKD,EAAL,EAASA,KAAKvC,IAAd;AACjB,MAAIwC,EAAJ,EAAQ,OAAOphH,KAAK89E,KAAL,CAAWsjC,GAAG,CAAH,IAAQD,GAAG,CAAH,CAAnB,EAA0BC,GAAG,CAAH,IAAQD,GAAG,CAAH,CAAlC,CAAP;AACR,MAAIvC,SAASuC,EAAb,EAAiBA,KAAKt/F,KAAK,CAAL,CAAL,EAAcu/F,KAAKv/F,KAAK,CAAL,CAAnB,CAAjB,KACKs/F,KAAKt/F,KAAK,CAAL,CAAL,EAAcu/F,KAAKv/F,KAAK,CAAL,CAAnB;AACL,SAAO7hB,KAAK89E,KAAL,CAAWqjC,GAAG,CAAH,IAAQC,GAAG,CAAH,CAAnB,EAA0BA,GAAG,CAAH,IAAQD,GAAG,CAAH,CAAlC,CAAP;AACD;;AAEM,SAASE,iBAAT,CAA2BtpF,IAA3B,EAAiClW,IAAjC,EAAuC;AAC5C,SAAOA,KAAK,EAAEA,KAAKgrB,IAAL,KAAc9U,KAAK6mF,IAArB,CAAL,CAAP;AACD;;AAEM,SAAS0C,eAAT,CAAyBvpF,IAAzB,EAA+BlW,IAA/B,EAAqC;AAC1C,SAAOA,KAAK,EAAEA,KAAKgrB,IAAL,KAAc9U,KAAK6mF,IAArB,CAAL,CAAP;AACD;;AAEM,SAAS2C,iBAAT,GAA6B;AAClC,OAAK,IAAIx+H,IAAI,CAAR,EAAWwB,IAAIiyC,8CAAKA,CAAChvC,MAArB,EAA6BuwC,IAA7B,EAAmCkpF,SAAnC,EAA8Cp5H,CAA9C,EAAiD3E,CAAtD,EAAyDH,IAAIwB,CAA7D,EAAgE,EAAExB,CAAlE,EAAqE;AACnE,QAAI,CAACg1C,OAAOvB,8CAAKA,CAACzzC,CAAN,CAAR,MAAsBG,IAAI,CAAC+9H,YAAYlpF,KAAKkpF,SAAlB,EAA6Bz5H,MAAvD,CAAJ,EAAoE;AAClE,UAAIiN,QAAQ,IAAI3J,KAAJ,CAAU5H,CAAV,CAAZ;AAAA,UACI8pF,QAAQ,IAAIliF,KAAJ,CAAU5H,CAAV,CADZ;AAEA,WAAK2E,IAAI,CAAT,EAAYA,IAAI3E,CAAhB,EAAmB,EAAE2E,CAArB;AAAwB4M,cAAM5M,CAAN,IAAWA,CAAX,EAAcmlF,MAAMnlF,CAAN,IAAWq5H,kBAAkBnpF,IAAlB,EAAwB3X,8CAAKA,CAAC6gG,UAAUp5H,CAAV,CAAN,CAAxB,CAAzB;AAAxB,OACA4M,MAAMzE,IAAN,CAAW,UAASjN,CAAT,EAAY8E,CAAZ,EAAe;AAAE,eAAOmlF,MAAMnlF,CAAN,IAAWmlF,MAAMjqF,CAAN,CAAlB;AAA6B,OAAzD;AACA,WAAK8E,IAAI,CAAT,EAAYA,IAAI3E,CAAhB,EAAmB,EAAE2E,CAArB;AAAwBmlF,cAAMnlF,CAAN,IAAWo5H,UAAUxsH,MAAM5M,CAAN,CAAV,CAAX;AAAxB,OACA,KAAKA,IAAI,CAAT,EAAYA,IAAI3E,CAAhB,EAAmB,EAAE2E,CAArB;AAAwBo5H,kBAAUp5H,CAAV,IAAemlF,MAAMnlF,CAAN,CAAf;AAAxB;AACD;AACF;AACF;;AAEM,SAAS25H,SAAT,CAAmBlzC,EAAnB,EAAuB2f,EAAvB,EAA2Bz6B,EAA3B,EAA+BC,EAA/B,EAAmC;AACxC,MAAIguD,SAASjrF,8CAAKA,CAAChvC,MAAnB;AAAA,MACIk6H,KADJ;AAAA,MAEI3pF,IAFJ;AAAA,MAGI6mF,IAHJ;AAAA,MAII+C,SAJJ;AAAA,MAKIV,SALJ;AAAA,MAMIW,UANJ;AAAA,MAOIj5G,KAPJ;AAAA,MAQIk5G,MARJ;AAAA,MASIC,MATJ;AAAA,MAUIxtG,GAVJ;AAAA,MAWIytG,IAXJ;AAAA,MAYIC,IAZJ;AAAA,MAaIC,QAAQ,IAbZ;;AAeA,OAAKP,QAAQ,CAAb,EAAgBA,QAAQD,MAAxB,EAAgC,EAAEC,KAAlC,EAAyC;AACvC,QAAI3pF,OAAOvB,8CAAKA,CAACkrF,KAAN,CAAX,EAAyB;AACvB9C,aAAO7mF,KAAK6mF,IAAZ;AACAqC,kBAAYlpF,KAAKkpF,SAAjB;AACAU,kBAAYV,UAAUz5H,MAAtB;;AAEA;AACA,aAAOm6H,WAAP,EAAoB;AAClB,YAAI,CAACvhG,8CAAKA,CAAC6gG,UAAUU,SAAV,CAAN,CAAL,EAAkC;AAChCV,oBAAU31H,MAAV,CAAiBq2H,SAAjB,EAA4B,CAA5B;AACD;AACF;;AAED;AACAA,kBAAY,CAAZ,EAAeC,aAAaX,UAAUz5H,MAAtC;AACA,aAAOm6H,YAAYC,UAAnB,EAA+B;AAC7BttG,cAAMgtG,gBAAgBvpF,IAAhB,EAAsB3X,8CAAKA,CAAC6gG,UAAUU,SAAV,CAAN,CAAtB,CAAN,EAA0DI,OAAOztG,IAAI,CAAJ,CAAjE,EAAyE0tG,OAAO1tG,IAAI,CAAJ,CAAhF;AACA3L,gBAAQ04G,kBAAkBtpF,IAAlB,EAAwB3X,8CAAKA,CAAC6gG,UAAU,EAAEU,SAAF,GAAcC,UAAxB,CAAN,CAAxB,CAAR,EAA6EC,SAASl5G,MAAM,CAAN,CAAtF,EAAgGm5G,SAASn5G,MAAM,CAAN,CAAzG;AACA,YAAI3I,KAAKmf,GAAL,CAAS4iG,OAAOF,MAAhB,IAA0B1xC,gDAA1B,IAAqCnwE,KAAKmf,GAAL,CAAS6iG,OAAOF,MAAhB,IAA0B3xC,gDAAnE,EAA4E;AAC1E8wC,oBAAU31H,MAAV,CAAiBq2H,SAAjB,EAA4B,CAA5B,EAA+BvhG,8CAAKA,CAACr5B,IAAN,CAAWm7H,8DAAgBA,CAACtD,IAAjB,EAAuBtqG,GAAvB,EACtCtU,KAAKmf,GAAL,CAAS4iG,OAAOzzC,EAAhB,IAAsB6B,gDAAtB,IAAiC1c,KAAKuuD,IAAL,GAAY7xC,gDAA7C,GAAuD,CAAC7B,EAAD,EAAKtuE,KAAKmf,GAAL,CAAS0iG,SAASvzC,EAAlB,IAAwB6B,gDAAxB,GAAkC2xC,MAAlC,GAA2CruD,EAAhD,CAAvD,GACEzzD,KAAKmf,GAAL,CAAS6iG,OAAOvuD,EAAhB,IAAsB0c,gDAAtB,IAAiC3c,KAAKuuD,IAAL,GAAY5xC,gDAA7C,GAAuD,CAACnwE,KAAKmf,GAAL,CAAS2iG,SAASruD,EAAlB,IAAwB0c,gDAAxB,GAAkC0xC,MAAlC,GAA2CruD,EAA5C,EAAgDC,EAAhD,CAAvD,GACAzzD,KAAKmf,GAAL,CAAS4iG,OAAOvuD,EAAhB,IAAsB2c,gDAAtB,IAAiC6xC,OAAO/zB,EAAP,GAAY9d,gDAA7C,GAAuD,CAAC3c,EAAD,EAAKxzD,KAAKmf,GAAL,CAAS0iG,SAASruD,EAAlB,IAAwB2c,gDAAxB,GAAkC2xC,MAAlC,GAA2C7zB,EAAhD,CAAvD,GACAjuF,KAAKmf,GAAL,CAAS6iG,OAAO/zB,EAAhB,IAAsB9d,gDAAtB,IAAiC4xC,OAAOzzC,EAAP,GAAY6B,gDAA7C,GAAuD,CAACnwE,KAAKmf,GAAL,CAAS2iG,SAAS7zB,EAAlB,IAAwB9d,gDAAxB,GAAkC0xC,MAAlC,GAA2CvzC,EAA5C,EAAgD2f,EAAhD,CAAvD,GACA,IALoC,CAAX,IAKhB,CALf;AAMA,YAAE2zB,UAAF;AACD;AACF;;AAED,UAAIA,UAAJ,EAAgBK,QAAQ,KAAR;AACjB;AACF;;AAED;AACA;AACA,MAAIA,KAAJ,EAAW;AACT,QAAIn8D,EAAJ;AAAA,QAAQC,EAAR;AAAA,QAAYgnC,EAAZ;AAAA,QAAgBo1B,KAAKnyG,QAArB;;AAEA,SAAK0xG,QAAQ,CAAR,EAAWO,QAAQ,IAAxB,EAA8BP,QAAQD,MAAtC,EAA8C,EAAEC,KAAhD,EAAuD;AACrD,UAAI3pF,OAAOvB,8CAAKA,CAACkrF,KAAN,CAAX,EAAyB;AACvB9C,eAAO7mF,KAAK6mF,IAAZ;AACA94D,aAAK84D,KAAK,CAAL,IAAUtwC,EAAf;AACAvoB,aAAK64D,KAAK,CAAL,IAAU3wB,EAAf;AACAlB,aAAKjnC,KAAKA,EAAL,GAAUC,KAAKA,EAApB;AACA,YAAIgnC,KAAKo1B,EAAT,EAAaA,KAAKp1B,EAAL,EAASk1B,QAAQlqF,IAAjB;AACd;AACF;;AAED,QAAIkqF,KAAJ,EAAW;AACT,UAAIG,MAAM,CAAC9zC,EAAD,EAAK2f,EAAL,CAAV;AAAA,UAAoBo0B,MAAM,CAAC/zC,EAAD,EAAK7a,EAAL,CAA1B;AAAA,UAAoC6uD,MAAM,CAAC9uD,EAAD,EAAKC,EAAL,CAA1C;AAAA,UAAoD8uD,MAAM,CAAC/uD,EAAD,EAAKy6B,EAAL,CAA1D;AACAg0B,YAAMhB,SAAN,CAAgBl6H,IAAhB,CACEq5B,8CAAKA,CAACr5B,IAAN,CAAWm7H,8DAAgBA,CAACtD,OAAOqD,MAAMrD,IAA9B,EAAoCwD,GAApC,EAAyCC,GAAzC,CAAX,IAA4D,CAD9D,EAEEjiG,8CAAKA,CAACr5B,IAAN,CAAWm7H,8DAAgBA,CAACtD,IAAjB,EAAuByD,GAAvB,EAA4BC,GAA5B,CAAX,IAA+C,CAFjD,EAGEliG,8CAAKA,CAACr5B,IAAN,CAAWm7H,8DAAgBA,CAACtD,IAAjB,EAAuB0D,GAAvB,EAA4BC,GAA5B,CAAX,IAA+C,CAHjD,EAIEniG,8CAAKA,CAACr5B,IAAN,CAAWm7H,8DAAgBA,CAACtD,IAAjB,EAAuB2D,GAAvB,EAA4BH,GAA5B,CAAX,IAA+C,CAJjD;AAMD;AACF;;AAED;AACA,OAAKV,QAAQ,CAAb,EAAgBA,QAAQD,MAAxB,EAAgC,EAAEC,KAAlC,EAAyC;AACvC,QAAI3pF,OAAOvB,8CAAKA,CAACkrF,KAAN,CAAX,EAAyB;AACvB,UAAI,CAAC3pF,KAAKkpF,SAAL,CAAez5H,MAApB,EAA4B;AAC1B,eAAOgvC,8CAAKA,CAACkrF,KAAN,CAAP;AACD;AACF;AACF;AACF,C;;;;;;;;;;;;AC7HD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA,IAAIc,aAAa,EAAjB;;AAEO,IAAIC,WAAJ;;AAEP,SAASC,MAAT,GAAkB;AAChB/D,oEAAYA,CAAC,IAAb;AACA,OAAK9uG,CAAL,GACA,KAAK+J,CAAL,GACA,KAAKo1E,GAAL,GACA,KAAK4vB,IAAL,GACA,KAAKvc,EAAL,GAAU,IAJV;AAKD;;AAEM,SAASsd,YAAT,CAAsB3wB,GAAtB,EAA2B;AAChC,MAAIqwB,OAAOrwB,IAAIr2E,CAAf;AAAA,MACI2mG,OAAOtwB,IAAIznG,CADf;;AAGA,MAAI,CAAC83H,IAAD,IAAS,CAACC,IAAd,EAAoB;;AAEpB,MAAIe,QAAQhB,KAAKT,IAAjB;AAAA,MACI+D,QAAQ3zB,IAAI4vB,IADhB;AAAA,MAEI0B,QAAQhB,KAAKV,IAFjB;;AAIA,MAAIyB,UAAUC,KAAd,EAAqB;;AAErB,MAAIhd,KAAKqf,MAAM,CAAN,CAAT;AAAA,MACIpf,KAAKof,MAAM,CAAN,CADT;AAAA,MAEIvf,KAAKid,MAAM,CAAN,IAAW/c,EAFpB;AAAA,MAGID,KAAKgd,MAAM,CAAN,IAAW9c,EAHpB;AAAA,MAIInB,KAAKke,MAAM,CAAN,IAAWhd,EAJpB;AAAA,MAKIjB,KAAKie,MAAM,CAAN,IAAW/c,EALpB;;AAOA,MAAIngH,IAAI,KAAKggH,KAAKf,EAAL,GAAUgB,KAAKjB,EAApB,CAAR;AACA,MAAIh/G,KAAK,CAACkpG,iDAAV,EAAoB;;AAEpB,MAAIs2B,KAAKxf,KAAKA,EAAL,GAAUC,KAAKA,EAAxB;AAAA,MACImd,KAAKpe,KAAKA,EAAL,GAAUC,KAAKA,EADxB;AAAA,MAEIxyF,IAAI,CAACwyF,KAAKugB,EAAL,GAAUvf,KAAKmd,EAAhB,IAAsBp9H,CAF9B;AAAA,MAGIw2B,IAAI,CAACwpF,KAAKod,EAAL,GAAUpe,KAAKwgB,EAAhB,IAAsBx/H,CAH9B;;AAKA,MAAIqoH,SAAS+W,WAAWx0G,GAAX,MAAoB,IAAI00G,MAAJ,EAAjC;AACAjX,SAAOzc,GAAP,GAAaA,GAAb;AACAyc,SAAOmT,IAAP,GAAc+D,KAAd;AACAlX,SAAO57F,CAAP,GAAWA,IAAIyzF,EAAf;AACAmI,SAAO7xF,CAAP,GAAW,CAAC6xF,OAAOpJ,EAAP,GAAYzoF,IAAI2pF,EAAjB,IAAuBvjG,KAAKyQ,IAAL,CAAUZ,IAAIA,CAAJ,GAAQ+J,IAAIA,CAAtB,CAAlC,CA/BgC,CA+B4B;;AAE5Do1E,MAAIyc,MAAJ,GAAaA,MAAb;;AAEA,MAAIrO,SAAS,IAAb;AAAA,MACI17E,OAAOmhG,gDAAOA,CAACp9G,CADnB;;AAGA,SAAOic,IAAP,EAAa;AACX,QAAI+pF,OAAO7xF,CAAP,GAAW8H,KAAK9H,CAAhB,IAAsB6xF,OAAO7xF,CAAP,KAAa8H,KAAK9H,CAAlB,IAAuB6xF,OAAO57F,CAAP,IAAY6R,KAAK7R,CAAlE,EAAsE;AACpE,UAAI6R,KAAK4rF,CAAT,EAAY5rF,OAAOA,KAAK4rF,CAAZ,CAAZ,KACK;AAAElQ,iBAAS17E,KAAK/I,CAAd,CAAiB;AAAQ;AACjC,KAHD,MAGO;AACL,UAAI+I,KAAKw+F,CAAT,EAAYx+F,OAAOA,KAAKw+F,CAAZ,CAAZ,KACK;AAAE9iB,iBAAS17E,IAAT,CAAe;AAAQ;AAC/B;AACF;;AAEDmhG,kDAAOA,CAAC3xC,MAAR,CAAeksB,MAAf,EAAuBqO,MAAvB;AACA,MAAI,CAACrO,MAAL,EAAaqlB,cAAchX,MAAd;AACd;;AAEM,SAASuT,YAAT,CAAsBhwB,GAAtB,EAA2B;AAChC,MAAIyc,SAASzc,IAAIyc,MAAjB;AACA,MAAIA,MAAJ,EAAY;AACV,QAAI,CAACA,OAAO9yF,CAAZ,EAAe8pG,cAAchX,OAAOlkH,CAArB;AACfs7H,oDAAOA,CAACrqF,MAAR,CAAeizE,MAAf;AACA+W,eAAWz7H,IAAX,CAAgB0kH,MAAhB;AACAkT,sEAAYA,CAAClT,MAAb;AACAzc,QAAIyc,MAAJ,GAAa,IAAb;AACD;AACF,C;;;;;;;;;;;;AC7ED;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;AAEO,IAAIt7B,UAAU,IAAd;AACA,IAAImc,WAAW,KAAf;AACA,IAAI2yB,OAAJ;AACA,IAAIzoF,KAAJ;AACA,IAAIqsF,OAAJ;AACA,IAAIziG,KAAJ;;AAEP,SAAS0iG,YAAT,CAAsBt5G,CAAtB,EAAyBC,CAAzB,EAA4BtmB,CAA5B,EAA+B;AAC7B,SAAO,CAACqmB,EAAE,CAAF,IAAOrmB,EAAE,CAAF,CAAR,KAAiBsmB,EAAE,CAAF,IAAOD,EAAE,CAAF,CAAxB,IAAgC,CAACA,EAAE,CAAF,IAAOC,EAAE,CAAF,CAAR,KAAiBtmB,EAAE,CAAF,IAAOqmB,EAAE,CAAF,CAAxB,CAAvC;AACD;;AAED,SAASu5G,aAAT,CAAuBv5G,CAAvB,EAA0BC,CAA1B,EAA6B;AAC3B,SAAOA,EAAE,CAAF,IAAOD,EAAE,CAAF,CAAP,IACAC,EAAE,CAAF,IAAOD,EAAE,CAAF,CADd;AAED;;AAEc,SAASw5G,OAAT,CAAiBC,KAAjB,EAAwBn3E,MAAxB,EAAgC;AAC7C,MAAI8yE,OAAOqE,MAAMjzH,IAAN,CAAW+yH,aAAX,EAA0B/0G,GAA1B,EAAX;AAAA,MACI6B,CADJ;AAAA,MAEI+J,CAFJ;AAAA,MAGI6xF,MAHJ;;AAKArrF,UAAQ,EAAR;AACAoW,UAAQ,IAAI1rC,KAAJ,CAAUm4H,MAAMz7H,MAAhB,CAAR;AACAy3H,YAAU,IAAIiE,qDAAJ,EAAV;AACAL,YAAU,IAAIK,qDAAJ,EAAV;;AAEA,SAAO,IAAP,EAAa;AACXzX,aAASgX,mDAAT;AACA,QAAI7D,SAAS,CAACnT,MAAD,IAAWmT,KAAK,CAAL,IAAUnT,OAAO7xF,CAA5B,IAAkCglG,KAAK,CAAL,MAAYnT,OAAO7xF,CAAnB,IAAwBglG,KAAK,CAAL,IAAUnT,OAAO57F,CAApF,CAAJ,EAA6F;AAC3F,UAAI+uG,KAAK,CAAL,MAAY/uG,CAAZ,IAAiB+uG,KAAK,CAAL,MAAYhlG,CAAjC,EAAoC;AAClCgmG,+DAAQA,CAAChB,IAAT;AACA/uG,YAAI+uG,KAAK,CAAL,CAAJ,EAAahlG,IAAIglG,KAAK,CAAL,CAAjB;AACD;AACDA,aAAOqE,MAAMj1G,GAAN,EAAP;AACD,KAND,MAMO,IAAIy9F,MAAJ,EAAY;AACjByT,gEAAWA,CAACzT,OAAOzc,GAAnB;AACD,KAFM,MAEA;AACL;AACD;AACF;;AAEDuyB,iEAAiBA;;AAEjB,MAAIz1E,MAAJ,EAAY;AACV,QAAIwiC,KAAK,CAACxiC,OAAO,CAAP,EAAU,CAAV,CAAV;AAAA,QACImiD,KAAK,CAACniD,OAAO,CAAP,EAAU,CAAV,CADV;AAAA,QAEI0nB,KAAK,CAAC1nB,OAAO,CAAP,EAAU,CAAV,CAFV;AAAA,QAGI2nB,KAAK,CAAC3nB,OAAO,CAAP,EAAU,CAAV,CAHV;AAIAq3E,2DAASA,CAAC70C,EAAV,EAAc2f,EAAd,EAAkBz6B,EAAlB,EAAsBC,EAAtB;AACA+tD,2DAASA,CAAClzC,EAAV,EAAc2f,EAAd,EAAkBz6B,EAAlB,EAAsBC,EAAtB;AACD;;AAED,OAAKrzC,KAAL,GAAaA,KAAb;AACA,OAAKoW,KAAL,GAAaA,KAAb;;AAEAyoF,YACA4D,UACAziG,QACAoW,QAAQ,IAHR;AAID;;AAEDwsF,QAAQp+H,SAAR,GAAoB;AAClBgK,eAAao0H,OADK;;AAGlBI,YAAU,oBAAW;AACnB,QAAIhjG,QAAQ,KAAKA,KAAjB;;AAEA,WAAO,KAAKoW,KAAL,CAAWrwC,GAAX,CAAe,UAAS4xC,IAAT,EAAe;AACnC,UAAIsrF,UAAUtrF,KAAKkpF,SAAL,CAAe96H,GAAf,CAAmB,UAASpD,CAAT,EAAY;AAAE,eAAOs+H,+DAAiBA,CAACtpF,IAAlB,EAAwB3X,MAAMr9B,CAAN,CAAxB,CAAP;AAA2C,OAA5E,CAAd;AACAsgI,cAAQl5H,IAAR,GAAe4tC,KAAK6mF,IAAL,CAAUz0H,IAAzB;AACA,aAAOk5H,OAAP;AACD,KAJM,CAAP;AAKD,GAXiB;;AAalBC,aAAW,qBAAW;AACpB,QAAIA,YAAY,EAAhB;AAAA,QACIljG,QAAQ,KAAKA,KADjB;;AAGA,SAAKoW,KAAL,CAAW3vC,OAAX,CAAmB,UAASkxC,IAAT,EAAeh1C,CAAf,EAAkB;AACnC,UAAI,EAAEG,IAAI,CAAC+9H,YAAYlpF,KAAKkpF,SAAlB,EAA6Bz5H,MAAnC,CAAJ,EAAgD;AAChD,UAAIo3H,OAAO7mF,KAAK6mF,IAAhB;AAAA,UACIqC,SADJ;AAAA,UAEIp5H,IAAI,CAAC,CAFT;AAAA,UAGI3E,CAHJ;AAAA,UAIIilH,EAJJ;AAAA,UAKIob,KAAKnjG,MAAM6gG,UAAU/9H,IAAI,CAAd,CAAN,CALT;AAAA,UAMIymC,KAAK45F,GAAG12E,IAAH,KAAY+xE,IAAZ,GAAmB2E,GAAGz2E,KAAtB,GAA8By2E,GAAG12E,IAN1C;;AAQA,aAAO,EAAEhlD,CAAF,GAAM3E,CAAb,EAAgB;AACdilH,aAAKx+E,EAAL;AACA45F,aAAKnjG,MAAM6gG,UAAUp5H,CAAV,CAAN,CAAL;AACA8hC,aAAK45F,GAAG12E,IAAH,KAAY+xE,IAAZ,GAAmB2E,GAAGz2E,KAAtB,GAA8By2E,GAAG12E,IAAtC;AACA,YAAIs7D,MAAMx+E,EAAN,IAAY5mC,IAAIolH,GAAG1zG,KAAnB,IAA4B1R,IAAI4mC,GAAGl1B,KAAnC,IAA4CquH,aAAalE,IAAb,EAAmBzW,EAAnB,EAAuBx+E,EAAvB,IAA6B,CAA7E,EAAgF;AAC9E25F,oBAAUv8H,IAAV,CAAe,CAAC63H,KAAKz0H,IAAN,EAAYg+G,GAAGh+G,IAAf,EAAqBw/B,GAAGx/B,IAAxB,CAAf;AACD;AACF;AACF,KAlBD;;AAoBA,WAAOm5H,SAAP;AACD,GAtCiB;;AAwClBE,SAAO,iBAAW;AAChB,WAAO,KAAKpjG,KAAL,CAAWnb,MAAX,CAAkB,UAAS4c,IAAT,EAAe;AACtC,aAAOA,KAAKirB,KAAZ;AACD,KAFM,EAEJ3mD,GAFI,CAEA,UAAS07B,IAAT,EAAe;AACpB,aAAO;AACLnN,gBAAQmN,KAAKgrB,IAAL,CAAU1iD,IADb;AAELyD,gBAAQi0B,KAAKirB,KAAL,CAAW3iD;AAFd,OAAP;AAID,KAPM,CAAP;AAQD,GAjDiB;;AAmDlB6M,QAAM,cAAS6Y,CAAT,EAAY+J,CAAZ,EAAekrF,MAAf,EAAuB;AAC3B,QAAI/kB,OAAO,IAAX;AAAA,QAAiBlS,EAAjB;AAAA,QAAqBC,KAAKiS,KAAK0jC,MAAL,IAAe,CAAzC;AAAA,QAA4Cl/H,IAAIw7F,KAAKvpD,KAAL,CAAWhvC,MAA3D;AAAA,QAAmEuwC,IAAnE;;AAEA;AACA,WAAO,EAAEA,OAAOgoD,KAAKvpD,KAAL,CAAWs3C,EAAX,CAAT,CAAP;AAAiC,UAAI,EAAEA,EAAF,IAAQvpF,CAAZ,EAAe,OAAO,IAAP;AAAhD,KACA,IAAIuhE,KAAKj2C,IAAIkoB,KAAK6mF,IAAL,CAAU,CAAV,CAAb;AAAA,QAA2B74D,KAAKnsC,IAAIme,KAAK6mF,IAAL,CAAU,CAAV,CAApC;AAAA,QAAkD7xB,KAAKjnC,KAAKA,EAAL,GAAUC,KAAKA,EAAtE;;AAEA;AACA,OAAG;AACDhuB,aAAOgoD,KAAKvpD,KAAL,CAAWq3C,KAAKC,EAAhB,CAAP,EAA4BA,KAAK,IAAjC;AACA/1C,WAAKkpF,SAAL,CAAep6H,OAAf,CAAuB,UAAS8J,CAAT,EAAY;AACjC,YAAIkxB,OAAOk+D,KAAK3/D,KAAL,CAAWzvB,CAAX,CAAX;AAAA,YAA0BuT,IAAI2d,KAAKgrB,IAAnC;AACA,YAAI,CAAC3oC,MAAM6zB,KAAK6mF,IAAX,IAAmB,CAAC16G,CAArB,KAA2B,EAAEA,IAAI2d,KAAKirB,KAAX,CAA/B,EAAkD;AAClD,YAAI42E,KAAK7zG,IAAI3L,EAAE,CAAF,CAAb;AAAA,YAAmBy/G,KAAK/pG,IAAI1V,EAAE,CAAF,CAA5B;AAAA,YAAkCynC,KAAK+3E,KAAKA,EAAL,GAAUC,KAAKA,EAAtD;AACA,YAAIh4E,KAAKohD,EAAT,EAAaA,KAAKphD,EAAL,EAASmiC,KAAK5pE,EAAEzP,KAAhB;AACd,OALD;AAMD,KARD,QAQSq5E,OAAO,IARhB;;AAUAiS,SAAK0jC,MAAL,GAAc51C,EAAd;;AAEA,WAAOi3B,UAAU,IAAV,IAAkB/X,MAAM+X,SAASA,MAAjC,GAA0C/sE,KAAK6mF,IAA/C,GAAsD,IAA7D;AACD;AAxEiB,CAApB,C;;;;;;;;;;;;ACpEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEO,SAASc,UAAT,CAAoB7yE,IAApB,EAA0BC,KAA1B,EAAiCo7C,EAAjC,EAAqCx8C,EAArC,EAAyC;AAC9C,MAAI7pB,OAAO,CAAC,IAAD,EAAO,IAAP,CAAX;AAAA,MACIptB,QAAQ2rB,8CAAKA,CAACr5B,IAAN,CAAW86B,IAAX,IAAmB,CAD/B;AAEAA,OAAKgrB,IAAL,GAAYA,IAAZ;AACAhrB,OAAKirB,KAAL,GAAaA,KAAb;AACA,MAAIo7C,EAAJ,EAAQu3B,WAAW59F,IAAX,EAAiBgrB,IAAjB,EAAuBC,KAAvB,EAA8Bo7C,EAA9B;AACR,MAAIx8C,EAAJ,EAAQ+zE,WAAW59F,IAAX,EAAiBirB,KAAjB,EAAwBD,IAAxB,EAA8BnB,EAA9B;AACRlV,gDAAKA,CAACqW,KAAKp4C,KAAX,EAAkBwsH,SAAlB,CAA4Bl6H,IAA5B,CAAiC0N,KAAjC;AACA+hC,gDAAKA,CAACsW,MAAMr4C,KAAZ,EAAmBwsH,SAAnB,CAA6Bl6H,IAA7B,CAAkC0N,KAAlC;AACA,SAAOotB,IAAP;AACD;;AAEM,SAASqgG,gBAAT,CAA0Br1E,IAA1B,EAAgCq7C,EAAhC,EAAoCx8C,EAApC,EAAwC;AAC7C,MAAI7pB,OAAO,CAACqmE,EAAD,EAAKx8C,EAAL,CAAX;AACA7pB,OAAKgrB,IAAL,GAAYA,IAAZ;AACA,SAAOhrB,IAAP;AACD;;AAEM,SAAS49F,UAAT,CAAoB59F,IAApB,EAA0BgrB,IAA1B,EAAgCC,KAAhC,EAAuCqyE,MAAvC,EAA+C;AACpD,MAAI,CAACt9F,KAAK,CAAL,CAAD,IAAY,CAACA,KAAK,CAAL,CAAjB,EAA0B;AACxBA,SAAK,CAAL,IAAUs9F,MAAV;AACAt9F,SAAKgrB,IAAL,GAAYA,IAAZ;AACAhrB,SAAKirB,KAAL,GAAaA,KAAb;AACD,GAJD,MAIO,IAAIjrB,KAAKgrB,IAAL,KAAcC,KAAlB,EAAyB;AAC9BjrB,SAAK,CAAL,IAAUs9F,MAAV;AACD,GAFM,MAEA;AACLt9F,SAAK,CAAL,IAAUs9F,MAAV;AACD;AACF;;AAED;AACA,SAASyE,QAAT,CAAkB/hG,IAAlB,EAAwBysD,EAAxB,EAA4B2f,EAA5B,EAAgCz6B,EAAhC,EAAoCC,EAApC,EAAwC;AACtC,MAAIjqD,IAAIqY,KAAK,CAAL,CAAR;AAAA,MACIpY,IAAIoY,KAAK,CAAL,CADR;AAAA,MAEIuhF,KAAK55F,EAAE,CAAF,CAFT;AAAA,MAGI65F,KAAK75F,EAAE,CAAF,CAHT;AAAA,MAII85F,KAAK75F,EAAE,CAAF,CAJT;AAAA,MAKI85F,KAAK95F,EAAE,CAAF,CALT;AAAA,MAMI+0E,KAAK,CANT;AAAA,MAOIC,KAAK,CAPT;AAAA,MAQI34B,KAAKw9C,KAAKF,EARd;AAAA,MASIr9C,KAAKw9C,KAAKF,EATd;AAAA,MAUIz/G,CAVJ;;AAYAA,MAAI0qF,KAAK80B,EAAT;AACA,MAAI,CAACt9C,EAAD,IAAOliE,IAAI,CAAf,EAAkB;AAClBA,OAAKkiE,EAAL;AACA,MAAIA,KAAK,CAAT,EAAY;AACV,QAAIliE,IAAI46F,EAAR,EAAY;AACZ,QAAI56F,IAAI66F,EAAR,EAAYA,KAAK76F,CAAL;AACb,GAHD,MAGO,IAAIkiE,KAAK,CAAT,EAAY;AACjB,QAAIliE,IAAI66F,EAAR,EAAY;AACZ,QAAI76F,IAAI46F,EAAR,EAAYA,KAAK56F,CAAL;AACb;;AAEDA,MAAI4vE,KAAK4vC,EAAT;AACA,MAAI,CAACt9C,EAAD,IAAOliE,IAAI,CAAf,EAAkB;AAClBA,OAAKkiE,EAAL;AACA,MAAIA,KAAK,CAAT,EAAY;AACV,QAAIliE,IAAI66F,EAAR,EAAY;AACZ,QAAI76F,IAAI46F,EAAR,EAAYA,KAAK56F,CAAL;AACb,GAHD,MAGO,IAAIkiE,KAAK,CAAT,EAAY;AACjB,QAAIliE,IAAI46F,EAAR,EAAY;AACZ,QAAI56F,IAAI66F,EAAR,EAAYA,KAAK76F,CAAL;AACb;;AAEDA,MAAIqqG,KAAKoV,EAAT;AACA,MAAI,CAACt9C,EAAD,IAAOniE,IAAI,CAAf,EAAkB;AAClBA,OAAKmiE,EAAL;AACA,MAAIA,KAAK,CAAT,EAAY;AACV,QAAIniE,IAAI46F,EAAR,EAAY;AACZ,QAAI56F,IAAI66F,EAAR,EAAYA,KAAK76F,CAAL;AACb,GAHD,MAGO,IAAImiE,KAAK,CAAT,EAAY;AACjB,QAAIniE,IAAI66F,EAAR,EAAY;AACZ,QAAI76F,IAAI46F,EAAR,EAAYA,KAAK56F,CAAL;AACb;;AAEDA,MAAI6vE,KAAK4vC,EAAT;AACA,MAAI,CAACt9C,EAAD,IAAOniE,IAAI,CAAf,EAAkB;AAClBA,OAAKmiE,EAAL;AACA,MAAIA,KAAK,CAAT,EAAY;AACV,QAAIniE,IAAI66F,EAAR,EAAY;AACZ,QAAI76F,IAAI46F,EAAR,EAAYA,KAAK56F,CAAL;AACb,GAHD,MAGO,IAAImiE,KAAK,CAAT,EAAY;AACjB,QAAIniE,IAAI46F,EAAR,EAAY;AACZ,QAAI56F,IAAI66F,EAAR,EAAYA,KAAK76F,CAAL;AACb;;AAED,MAAI,EAAE46F,KAAK,CAAP,KAAa,EAAEC,KAAK,CAAP,CAAjB,EAA4B,OAAO,IAAP,CAzDU,CAyDG;;AAEzC,MAAID,KAAK,CAAT,EAAY38D,KAAK,CAAL,IAAU,CAACuhF,KAAK5kB,KAAK14B,EAAX,EAAeu9C,KAAK7kB,KAAKz4B,EAAzB,CAAV;AACZ,MAAI04B,KAAK,CAAT,EAAY58D,KAAK,CAAL,IAAU,CAACuhF,KAAK3kB,KAAK34B,EAAX,EAAeu9C,KAAK5kB,KAAK14B,EAAzB,CAAV;AACZ,SAAO,IAAP;AACD;;AAED,SAAS89D,WAAT,CAAqBhiG,IAArB,EAA2BysD,EAA3B,EAA+B2f,EAA/B,EAAmCz6B,EAAnC,EAAuCC,EAAvC,EAA2C;AACzC,MAAI/nB,KAAK7pB,KAAK,CAAL,CAAT;AACA,MAAI6pB,EAAJ,EAAQ,OAAO,IAAP;;AAER,MAAIw8C,KAAKrmE,KAAK,CAAL,CAAT;AAAA,MACIgrB,OAAOhrB,KAAKgrB,IADhB;AAAA,MAEIC,QAAQjrB,KAAKirB,KAFjB;AAAA,MAGIg3E,KAAKj3E,KAAK,CAAL,CAHT;AAAA,MAIIk3E,KAAKl3E,KAAK,CAAL,CAJT;AAAA,MAKIm3E,KAAKl3E,MAAM,CAAN,CALT;AAAA,MAMIm3E,KAAKn3E,MAAM,CAAN,CANT;AAAA,MAOIo3E,KAAK,CAACJ,KAAKE,EAAN,IAAY,CAPrB;AAAA,MAQIG,KAAK,CAACJ,KAAKE,EAAN,IAAY,CARrB;AAAA,MASIG,EATJ;AAAA,MAUIC,EAVJ;;AAYA,MAAIJ,OAAOF,EAAX,EAAe;AACb,QAAIG,KAAK51C,EAAL,IAAW41C,MAAM1wD,EAArB,EAAyB;AACzB,QAAIswD,KAAKE,EAAT,EAAa;AACX,UAAI,CAAC97B,EAAL,EAASA,KAAK,CAACg8B,EAAD,EAAKj2B,EAAL,CAAL,CAAT,KACK,IAAI/F,GAAG,CAAH,KAASz0B,EAAb,EAAiB;AACtB/nB,WAAK,CAACw4E,EAAD,EAAKzwD,EAAL,CAAL;AACD,KAJD,MAIO;AACL,UAAI,CAACy0B,EAAL,EAASA,KAAK,CAACg8B,EAAD,EAAKzwD,EAAL,CAAL,CAAT,KACK,IAAIy0B,GAAG,CAAH,IAAQ+F,EAAZ,EAAgB;AACrBviD,WAAK,CAACw4E,EAAD,EAAKj2B,EAAL,CAAL;AACD;AACF,GAXD,MAWO;AACLm2B,SAAK,CAACN,KAAKE,EAAN,KAAaC,KAAKF,EAAlB,CAAL;AACAM,SAAKF,KAAKC,KAAKF,EAAf;AACA,QAAIE,KAAK,CAAC,CAAN,IAAWA,KAAK,CAApB,EAAuB;AACrB,UAAIN,KAAKE,EAAT,EAAa;AACX,YAAI,CAAC97B,EAAL,EAASA,KAAK,CAAC,CAAC+F,KAAKo2B,EAAN,IAAYD,EAAb,EAAiBn2B,EAAjB,CAAL,CAAT,KACK,IAAI/F,GAAG,CAAH,KAASz0B,EAAb,EAAiB;AACtB/nB,aAAK,CAAC,CAAC+nB,KAAK4wD,EAAN,IAAYD,EAAb,EAAiB3wD,EAAjB,CAAL;AACD,OAJD,MAIO;AACL,YAAI,CAACy0B,EAAL,EAASA,KAAK,CAAC,CAACz0B,KAAK4wD,EAAN,IAAYD,EAAb,EAAiB3wD,EAAjB,CAAL,CAAT,KACK,IAAIy0B,GAAG,CAAH,IAAQ+F,EAAZ,EAAgB;AACrBviD,aAAK,CAAC,CAACuiD,KAAKo2B,EAAN,IAAYD,EAAb,EAAiBn2B,EAAjB,CAAL;AACD;AACF,KAVD,MAUO;AACL,UAAI81B,KAAKE,EAAT,EAAa;AACX,YAAI,CAAC/7B,EAAL,EAASA,KAAK,CAAC5Z,EAAD,EAAK81C,KAAK91C,EAAL,GAAU+1C,EAAf,CAAL,CAAT,KACK,IAAIn8B,GAAG,CAAH,KAAS10B,EAAb,EAAiB;AACtB9nB,aAAK,CAAC8nB,EAAD,EAAK4wD,KAAK5wD,EAAL,GAAU6wD,EAAf,CAAL;AACD,OAJD,MAIO;AACL,YAAI,CAACn8B,EAAL,EAASA,KAAK,CAAC10B,EAAD,EAAK4wD,KAAK5wD,EAAL,GAAU6wD,EAAf,CAAL,CAAT,KACK,IAAIn8B,GAAG,CAAH,IAAQ5Z,EAAZ,EAAgB;AACrB5iC,aAAK,CAAC4iC,EAAD,EAAK81C,KAAK91C,EAAL,GAAU+1C,EAAf,CAAL;AACD;AACF;AACF;;AAEDxiG,OAAK,CAAL,IAAUqmE,EAAV;AACArmE,OAAK,CAAL,IAAU6pB,EAAV;AACA,SAAO,IAAP;AACD;;AAEM,SAASy3E,SAAT,CAAmB70C,EAAnB,EAAuB2f,EAAvB,EAA2Bz6B,EAA3B,EAA+BC,EAA/B,EAAmC;AACxC,MAAI1wE,IAAIq9B,8CAAKA,CAAC54B,MAAd;AAAA,MACIq6B,IADJ;;AAGA,SAAO9+B,GAAP,EAAY;AACV,QAAI,CAAC8gI,YAAYhiG,OAAOzB,8CAAKA,CAACr9B,CAAN,CAAnB,EAA6BurF,EAA7B,EAAiC2f,EAAjC,EAAqCz6B,EAArC,EAAyCC,EAAzC,CAAD,IACG,CAACmwD,SAAS/hG,IAAT,EAAeysD,EAAf,EAAmB2f,EAAnB,EAAuBz6B,EAAvB,EAA2BC,EAA3B,CADJ,IAEG,EAAEzzD,KAAKmf,GAAL,CAAS0C,KAAK,CAAL,EAAQ,CAAR,IAAaA,KAAK,CAAL,EAAQ,CAAR,CAAtB,IAAoCsuD,gDAApC,IACEnwE,KAAKmf,GAAL,CAAS0C,KAAK,CAAL,EAAQ,CAAR,IAAaA,KAAK,CAAL,EAAQ,CAAR,CAAtB,IAAoCsuD,gDADxC,CAFP,EAGyD;AACvD,aAAO/vD,8CAAKA,CAACr9B,CAAN,CAAP;AACD;AACF;AACF,C;;;;;;;;;;;;ACvKD;AAAA;AAAA,SAASmgI,YAAT,GAAwB;AACtB,OAAKz9G,CAAL,GAAS,IAAT,CADsB,CACP;AAChB;;AAEM,SAASk5G,YAAT,CAAsBj9F,IAAtB,EAA4B;AACjCA,OAAK8yF,CAAL,GAAS;AACT9yF,OAAK27D,CAAL,GAAS;AACT37D,OAAK4rF,CAAL,GAAS;AACT5rF,OAAKw+F,CAAL,GAAS;AACTx+F,OAAK/I,CAAL,GAAS;AACT+I,OAAKn6B,CAAL,GAAS,IALT,CADiC,CAMlB;AAChB;;AAED27H,aAAat+H,SAAb,GAAyB;AACvBgK,eAAas0H,YADU;;AAGvBhyC,UAAQ,gBAASozC,KAAT,EAAgB5iG,IAAhB,EAAsB;AAC5B,QAAIrL,MAAJ,EAAYkuG,OAAZ,EAAqBC,KAArB;;AAEA,QAAIF,KAAJ,EAAW;AACT5iG,WAAK/I,CAAL,GAAS2rG,KAAT;AACA5iG,WAAKn6B,CAAL,GAAS+8H,MAAM/8H,CAAf;AACA,UAAI+8H,MAAM/8H,CAAV,EAAa+8H,MAAM/8H,CAAN,CAAQoxB,CAAR,GAAY+I,IAAZ;AACb4iG,YAAM/8H,CAAN,GAAUm6B,IAAV;AACA,UAAI4iG,MAAMpE,CAAV,EAAa;AACXoE,gBAAQA,MAAMpE,CAAd;AACA,eAAOoE,MAAMhX,CAAb;AAAgBgX,kBAAQA,MAAMhX,CAAd;AAAhB,SACAgX,MAAMhX,CAAN,GAAU5rF,IAAV;AACD,OAJD,MAIO;AACL4iG,cAAMpE,CAAN,GAAUx+F,IAAV;AACD;AACDrL,eAASiuG,KAAT;AACD,KAbD,MAaO,IAAI,KAAK7+G,CAAT,EAAY;AACjB6+G,cAAQG,cAAc,KAAKh/G,CAAnB,CAAR;AACAic,WAAK/I,CAAL,GAAS,IAAT;AACA+I,WAAKn6B,CAAL,GAAS+8H,KAAT;AACAA,YAAM3rG,CAAN,GAAU2rG,MAAMhX,CAAN,GAAU5rF,IAApB;AACArL,eAASiuG,KAAT;AACD,KANM,MAMA;AACL5iG,WAAK/I,CAAL,GAAS+I,KAAKn6B,CAAL,GAAS,IAAlB;AACA,WAAKke,CAAL,GAASic,IAAT;AACArL,eAAS,IAAT;AACD;AACDqL,SAAK4rF,CAAL,GAAS5rF,KAAKw+F,CAAL,GAAS,IAAlB;AACAx+F,SAAK8yF,CAAL,GAASn+F,MAAT;AACAqL,SAAK27D,CAAL,GAAS,IAAT;;AAEAinC,YAAQ5iG,IAAR;AACA,WAAOrL,UAAUA,OAAOgnE,CAAxB,EAA2B;AACzBknC,gBAAUluG,OAAOm+F,CAAjB;AACA,UAAIn+F,WAAWkuG,QAAQjX,CAAvB,EAA0B;AACxBkX,gBAAQD,QAAQrE,CAAhB;AACA,YAAIsE,SAASA,MAAMnnC,CAAnB,EAAsB;AACpBhnE,iBAAOgnE,CAAP,GAAWmnC,MAAMnnC,CAAN,GAAU,KAArB;AACAknC,kBAAQlnC,CAAR,GAAY,IAAZ;AACAinC,kBAAQC,OAAR;AACD,SAJD,MAIO;AACL,cAAID,UAAUjuG,OAAO6pG,CAArB,EAAwB;AACtBwE,+BAAmB,IAAnB,EAAyBruG,MAAzB;AACAiuG,oBAAQjuG,MAAR;AACAA,qBAASiuG,MAAM9P,CAAf;AACD;AACDn+F,iBAAOgnE,CAAP,GAAW,KAAX;AACAknC,kBAAQlnC,CAAR,GAAY,IAAZ;AACAsnC,8BAAoB,IAApB,EAA0BJ,OAA1B;AACD;AACF,OAhBD,MAgBO;AACLC,gBAAQD,QAAQjX,CAAhB;AACA,YAAIkX,SAASA,MAAMnnC,CAAnB,EAAsB;AACpBhnE,iBAAOgnE,CAAP,GAAWmnC,MAAMnnC,CAAN,GAAU,KAArB;AACAknC,kBAAQlnC,CAAR,GAAY,IAAZ;AACAinC,kBAAQC,OAAR;AACD,SAJD,MAIO;AACL,cAAID,UAAUjuG,OAAOi3F,CAArB,EAAwB;AACtBqX,gCAAoB,IAApB,EAA0BtuG,MAA1B;AACAiuG,oBAAQjuG,MAAR;AACAA,qBAASiuG,MAAM9P,CAAf;AACD;AACDn+F,iBAAOgnE,CAAP,GAAW,KAAX;AACAknC,kBAAQlnC,CAAR,GAAY,IAAZ;AACAqnC,6BAAmB,IAAnB,EAAyBH,OAAzB;AACD;AACF;AACDluG,eAASiuG,MAAM9P,CAAf;AACD;AACD,SAAK/uG,CAAL,CAAO43E,CAAP,GAAW,KAAX;AACD,GAzEsB;;AA2EvB7kD,UAAQ,gBAAS9W,IAAT,EAAe;AACrB,QAAIA,KAAKn6B,CAAT,EAAYm6B,KAAKn6B,CAAL,CAAOoxB,CAAP,GAAW+I,KAAK/I,CAAhB;AACZ,QAAI+I,KAAK/I,CAAT,EAAY+I,KAAK/I,CAAL,CAAOpxB,CAAP,GAAWm6B,KAAKn6B,CAAhB;AACZm6B,SAAKn6B,CAAL,GAASm6B,KAAK/I,CAAL,GAAS,IAAlB;;AAEA,QAAItC,SAASqL,KAAK8yF,CAAlB;AAAA,QACIp+F,OADJ;AAAA,QAEIy2B,OAAOnrB,KAAK4rF,CAFhB;AAAA,QAGIxgE,QAAQprB,KAAKw+F,CAHjB;AAAA,QAII5yH,IAJJ;AAAA,QAKIotF,GALJ;;AAOA,QAAI,CAAC7tC,IAAL,EAAWv/C,OAAOw/C,KAAP,CAAX,KACK,IAAI,CAACA,KAAL,EAAYx/C,OAAOu/C,IAAP,CAAZ,KACAv/C,OAAOm3H,cAAc33E,KAAd,CAAP;;AAEL,QAAIz2B,MAAJ,EAAY;AACV,UAAIA,OAAOi3F,CAAP,KAAa5rF,IAAjB,EAAuBrL,OAAOi3F,CAAP,GAAWhgH,IAAX,CAAvB,KACK+oB,OAAO6pG,CAAP,GAAW5yH,IAAX;AACN,KAHD,MAGO;AACL,WAAKmY,CAAL,GAASnY,IAAT;AACD;;AAED,QAAIu/C,QAAQC,KAAZ,EAAmB;AACjB4tC,YAAMptF,KAAK+vF,CAAX;AACA/vF,WAAK+vF,CAAL,GAAS37D,KAAK27D,CAAd;AACA/vF,WAAKggH,CAAL,GAASzgE,IAAT;AACAA,WAAK2nE,CAAL,GAASlnH,IAAT;AACA,UAAIA,SAASw/C,KAAb,EAAoB;AAClBz2B,iBAAS/oB,KAAKknH,CAAd;AACAlnH,aAAKknH,CAAL,GAAS9yF,KAAK8yF,CAAd;AACA9yF,eAAOp0B,KAAK4yH,CAAZ;AACA7pG,eAAOi3F,CAAP,GAAW5rF,IAAX;AACAp0B,aAAK4yH,CAAL,GAASpzE,KAAT;AACAA,cAAM0nE,CAAN,GAAUlnH,IAAV;AACD,OAPD,MAOO;AACLA,aAAKknH,CAAL,GAASn+F,MAAT;AACAA,iBAAS/oB,IAAT;AACAo0B,eAAOp0B,KAAK4yH,CAAZ;AACD;AACF,KAjBD,MAiBO;AACLxlC,YAAMh5D,KAAK27D,CAAX;AACA37D,aAAOp0B,IAAP;AACD;;AAED,QAAIo0B,IAAJ,EAAUA,KAAK8yF,CAAL,GAASn+F,MAAT;AACV,QAAIqkE,GAAJ,EAAS;AACT,QAAIh5D,QAAQA,KAAK27D,CAAjB,EAAoB;AAAE37D,WAAK27D,CAAL,GAAS,KAAT,CAAgB;AAAS;;AAE/C,OAAG;AACD,UAAI37D,SAAS,KAAKjc,CAAlB,EAAqB;AACrB,UAAIic,SAASrL,OAAOi3F,CAApB,EAAuB;AACrBl3F,kBAAUC,OAAO6pG,CAAjB;AACA,YAAI9pG,QAAQinE,CAAZ,EAAe;AACbjnE,kBAAQinE,CAAR,GAAY,KAAZ;AACAhnE,iBAAOgnE,CAAP,GAAW,IAAX;AACAqnC,6BAAmB,IAAnB,EAAyBruG,MAAzB;AACAD,oBAAUC,OAAO6pG,CAAjB;AACD;AACD,YAAK9pG,QAAQk3F,CAAR,IAAal3F,QAAQk3F,CAAR,CAAUjwB,CAAxB,IACIjnE,QAAQ8pG,CAAR,IAAa9pG,QAAQ8pG,CAAR,CAAU7iC,CAD/B,EACmC;AACjC,cAAI,CAACjnE,QAAQ8pG,CAAT,IAAc,CAAC9pG,QAAQ8pG,CAAR,CAAU7iC,CAA7B,EAAgC;AAC9BjnE,oBAAQk3F,CAAR,CAAUjwB,CAAV,GAAc,KAAd;AACAjnE,oBAAQinE,CAAR,GAAY,IAAZ;AACAsnC,gCAAoB,IAApB,EAA0BvuG,OAA1B;AACAA,sBAAUC,OAAO6pG,CAAjB;AACD;AACD9pG,kBAAQinE,CAAR,GAAYhnE,OAAOgnE,CAAnB;AACAhnE,iBAAOgnE,CAAP,GAAWjnE,QAAQ8pG,CAAR,CAAU7iC,CAAV,GAAc,KAAzB;AACAqnC,6BAAmB,IAAnB,EAAyBruG,MAAzB;AACAqL,iBAAO,KAAKjc,CAAZ;AACA;AACD;AACF,OAtBD,MAsBO;AACL2Q,kBAAUC,OAAOi3F,CAAjB;AACA,YAAIl3F,QAAQinE,CAAZ,EAAe;AACbjnE,kBAAQinE,CAAR,GAAY,KAAZ;AACAhnE,iBAAOgnE,CAAP,GAAW,IAAX;AACAsnC,8BAAoB,IAApB,EAA0BtuG,MAA1B;AACAD,oBAAUC,OAAOi3F,CAAjB;AACD;AACD,YAAKl3F,QAAQk3F,CAAR,IAAal3F,QAAQk3F,CAAR,CAAUjwB,CAAxB,IACEjnE,QAAQ8pG,CAAR,IAAa9pG,QAAQ8pG,CAAR,CAAU7iC,CAD7B,EACiC;AAC/B,cAAI,CAACjnE,QAAQk3F,CAAT,IAAc,CAACl3F,QAAQk3F,CAAR,CAAUjwB,CAA7B,EAAgC;AAC9BjnE,oBAAQ8pG,CAAR,CAAU7iC,CAAV,GAAc,KAAd;AACAjnE,oBAAQinE,CAAR,GAAY,IAAZ;AACAqnC,+BAAmB,IAAnB,EAAyBtuG,OAAzB;AACAA,sBAAUC,OAAOi3F,CAAjB;AACD;AACDl3F,kBAAQinE,CAAR,GAAYhnE,OAAOgnE,CAAnB;AACAhnE,iBAAOgnE,CAAP,GAAWjnE,QAAQk3F,CAAR,CAAUjwB,CAAV,GAAc,KAAzB;AACAsnC,8BAAoB,IAApB,EAA0BtuG,MAA1B;AACAqL,iBAAO,KAAKjc,CAAZ;AACA;AACD;AACF;AACD2Q,cAAQinE,CAAR,GAAY,IAAZ;AACA37D,aAAOrL,MAAP;AACAA,eAASA,OAAOm+F,CAAhB;AACD,KAlDD,QAkDS,CAAC9yF,KAAK27D,CAlDf;;AAoDA,QAAI37D,IAAJ,EAAUA,KAAK27D,CAAL,GAAS,KAAT;AACX;AAjLsB,CAAzB;;AAoLA,SAASqnC,kBAAT,CAA4B9pF,IAA5B,EAAkClZ,IAAlC,EAAwC;AACtC,MAAI58B,IAAI48B,IAAR;AAAA,MACI0oE,IAAI1oE,KAAKw+F,CADb;AAAA,MAEI7pG,SAASvxB,EAAE0vH,CAFf;;AAIA,MAAIn+F,MAAJ,EAAY;AACV,QAAIA,OAAOi3F,CAAP,KAAaxoH,CAAjB,EAAoBuxB,OAAOi3F,CAAP,GAAWljB,CAAX,CAApB,KACK/zE,OAAO6pG,CAAP,GAAW91B,CAAX;AACN,GAHD,MAGO;AACLxvD,SAAKn1B,CAAL,GAAS2kF,CAAT;AACD;;AAEDA,IAAEoqB,CAAF,GAAMn+F,MAAN;AACAvxB,IAAE0vH,CAAF,GAAMpqB,CAAN;AACAtlG,IAAEo7H,CAAF,GAAM91B,EAAEkjB,CAAR;AACA,MAAIxoH,EAAEo7H,CAAN,EAASp7H,EAAEo7H,CAAF,CAAI1L,CAAJ,GAAQ1vH,CAAR;AACTslG,IAAEkjB,CAAF,GAAMxoH,CAAN;AACD;;AAED,SAAS6/H,mBAAT,CAA6B/pF,IAA7B,EAAmClZ,IAAnC,EAAyC;AACvC,MAAI58B,IAAI48B,IAAR;AAAA,MACI0oE,IAAI1oE,KAAK4rF,CADb;AAAA,MAEIj3F,SAASvxB,EAAE0vH,CAFf;;AAIA,MAAIn+F,MAAJ,EAAY;AACV,QAAIA,OAAOi3F,CAAP,KAAaxoH,CAAjB,EAAoBuxB,OAAOi3F,CAAP,GAAWljB,CAAX,CAApB,KACK/zE,OAAO6pG,CAAP,GAAW91B,CAAX;AACN,GAHD,MAGO;AACLxvD,SAAKn1B,CAAL,GAAS2kF,CAAT;AACD;;AAEDA,IAAEoqB,CAAF,GAAMn+F,MAAN;AACAvxB,IAAE0vH,CAAF,GAAMpqB,CAAN;AACAtlG,IAAEwoH,CAAF,GAAMljB,EAAE81B,CAAR;AACA,MAAIp7H,EAAEwoH,CAAN,EAASxoH,EAAEwoH,CAAF,CAAIkH,CAAJ,GAAQ1vH,CAAR;AACTslG,IAAE81B,CAAF,GAAMp7H,CAAN;AACD;;AAED,SAAS2/H,aAAT,CAAuB/iG,IAAvB,EAA6B;AAC3B,SAAOA,KAAK4rF,CAAZ;AAAe5rF,WAAOA,KAAK4rF,CAAZ;AAAf,GACA,OAAO5rF,IAAP;AACD;;AAEcwhG,2EAAf,E;;;;;;;;;;;;AC5OA;AAAe,yEAASrzG,CAAT,EAAY;AACzB,SAAO,YAAW;AAChB,WAAOA,CAAP;AACD,GAFD;AAGD,C;;;;;;;;;;;;ACJD;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAO,SAASA,CAAT,CAAWzsB,CAAX,EAAc;AACnB,SAAOA,EAAE,CAAF,CAAP;AACD;;AAEM,SAASw2B,CAAT,CAAWx2B,CAAX,EAAc;AACnB,SAAOA,EAAE,CAAF,CAAP;AACD,C;;;;;;;;;;;;ACND;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAEe,2EAAW;AACxB,MAAIysB,IAAI8zF,wCAAR;AAAA,MACI/pF,IAAIgqF,wCADR;AAAA,MAEI93D,SAAS,IAFb;;AAIA,WAAS84E,OAAT,CAAiBz6H,IAAjB,EAAuB;AACrB,WAAO,IAAI64H,gDAAJ,CAAY74H,KAAKhE,GAAL,CAAS,UAAS/C,CAAT,EAAYL,CAAZ,EAAe;AACzC,UAAIgC,IAAI,CAACib,KAAK8e,KAAL,CAAWjP,EAAEzsB,CAAF,EAAKL,CAAL,EAAQoH,IAAR,IAAgBgmF,gDAA3B,IAAsCA,gDAAvC,EAAgDnwE,KAAK8e,KAAL,CAAWlF,EAAEx2B,CAAF,EAAKL,CAAL,EAAQoH,IAAR,IAAgBgmF,gDAA3B,IAAsCA,gDAAtF,CAAR;AACAprF,QAAE0P,KAAF,GAAU1R,CAAV;AACAgC,QAAEoF,IAAF,GAAS/G,CAAT;AACA,aAAO2B,CAAP;AACD,KALkB,CAAZ,EAKH+mD,MALG,CAAP;AAMD;;AAED84E,UAAQxB,QAAR,GAAmB,UAASj5H,IAAT,EAAe;AAChC,WAAOy6H,QAAQz6H,IAAR,EAAci5H,QAAd,EAAP;AACD,GAFD;;AAIAwB,UAAQpB,KAAR,GAAgB,UAASr5H,IAAT,EAAe;AAC7B,WAAOy6H,QAAQz6H,IAAR,EAAcq5H,KAAd,EAAP;AACD,GAFD;;AAIAoB,UAAQtB,SAAR,GAAoB,UAASn5H,IAAT,EAAe;AACjC,WAAOy6H,QAAQz6H,IAAR,EAAcm5H,SAAd,EAAP;AACD,GAFD;;AAIAsB,UAAQ/0G,CAAR,GAAY,UAASpK,CAAT,EAAY;AACtB,WAAOtW,UAAU3H,MAAV,IAAoBqoB,IAAI,OAAOpK,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAACjpE,CAAV,CAAlC,EAAgDm/G,OAApE,IAA+E/0G,CAAtF;AACD,GAFD;;AAIA+0G,UAAQhrG,CAAR,GAAY,UAASnU,CAAT,EAAY;AACtB,WAAOtW,UAAU3H,MAAV,IAAoBoyB,IAAI,OAAOnU,CAAP,KAAa,UAAb,GAA0BA,CAA1B,GAA8BipE,yDAAQA,CAAC,CAACjpE,CAAV,CAAlC,EAAgDm/G,OAApE,IAA+EhrG,CAAtF;AACD,GAFD;;AAIAgrG,UAAQ94E,MAAR,GAAiB,UAASrmC,CAAT,EAAY;AAC3B,WAAOtW,UAAU3H,MAAV,IAAoBskD,SAASrmC,KAAK,IAAL,GAAY,IAAZ,GAAmB,CAAC,CAAC,CAACA,EAAE,CAAF,EAAK,CAAL,CAAF,EAAW,CAACA,EAAE,CAAF,EAAK,CAAL,CAAZ,CAAD,EAAuB,CAAC,CAACA,EAAE,CAAF,EAAK,CAAL,CAAF,EAAW,CAACA,EAAE,CAAF,EAAK,CAAL,CAAZ,CAAvB,CAA5B,EAA0Em/G,OAA9F,IAAyG94E,UAAU,CAAC,CAACA,OAAO,CAAP,EAAU,CAAV,CAAD,EAAeA,OAAO,CAAP,EAAU,CAAV,CAAf,CAAD,EAA+B,CAACA,OAAO,CAAP,EAAU,CAAV,CAAD,EAAeA,OAAO,CAAP,EAAU,CAAV,CAAf,CAA/B,CAA1H;AACD,GAFD;;AAIA84E,UAAQh2D,IAAR,GAAe,UAASnpD,CAAT,EAAY;AACzB,WAAOtW,UAAU3H,MAAV,IAAoBskD,SAASrmC,KAAK,IAAL,GAAY,IAAZ,GAAmB,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,EAAS,CAAC,CAACA,EAAE,CAAF,CAAF,EAAQ,CAACA,EAAE,CAAF,CAAT,CAAT,CAA5B,EAAsDm/G,OAA1E,IAAqF94E,UAAU,CAACA,OAAO,CAAP,EAAU,CAAV,IAAeA,OAAO,CAAP,EAAU,CAAV,CAAhB,EAA8BA,OAAO,CAAP,EAAU,CAAV,IAAeA,OAAO,CAAP,EAAU,CAAV,CAA7C,CAAtG;AACD,GAFD;;AAIA,SAAO84E,OAAP;AACD,C;;;;;;;;;;;;AC/CY;;;;AAEbphI,OAAOC,cAAP,CAAsBlB,OAAtB,EAA+B,YAA/B,EAA6C;AACzCwB,WAAO;AADkC,CAA7C;;AAIA,SAAS8gI,sBAAT,CAAgC7nG,GAAhC,EAAqC;AAAE,WAAOA,OAAOA,IAAI94B,UAAX,GAAwB84B,GAAxB,GAA8B,EAAE,WAAWA,GAAb,EAArC;AAA0D;;AAEjG,IAAI8nG,OAAOC,mBAAOA,CAAC,oFAAR,CAAX;;AAEA,IAAIC,QAAQH,uBAAuBC,IAAvB,CAAZ;;AAEA,IAAIG,oBAAoBF,mBAAOA,CAAC,gHAAR,CAAxB;;AAEA,IAAIG,qBAAqBL,uBAAuBI,iBAAvB,CAAzB;;AAEA,IAAIE,QAAQH,MAAM,SAAN,EAAiBnJ,IAAjB,CAAsB,OAAOn5H,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC+I,SAA/D,CAAZ;AAAA,IACI25H,MAAMD,MAAM39F,GAAN,CAAUs8C,QADpB;AAAA,IAEIlrD,IAAIusG,MAAM39F,GAAN,CAAUxnB,IAFlB;AAAA,IAGIxD,MAAMoc,EAAEpc,GAHZ;AAAA,IAIIsiB,QAAQlG,EAAEkG,KAJd;AAAA,IAKIumG,QAAQ,EALZ;AAAA,IAMIC,mBAAmB,EAAE,KAAK,QAAP,EANvB;AAAA,IAOIC,kBAAkBJ,MAAMK,kBAAN,EAPtB;AAAA,IAQIC,sBAAsBF,gBAAgBG,QAAhB,GAA2B,CAA3B,GAA+B,GARzD;;AAUA;;;;;;;;;;;;;;;;;;;;AAoBA,SAASC,iBAAT,CAA2BhvF,EAA3B,EAA+Bi/B,SAA/B,EAA0CgwD,WAA1C,EAAuDx7H,OAAvD,EAAgE;AAC5D,QAAIy7H,OAAJ;AAAA,QACIliG,IADJ;AAAA,QAEInnB,GAFJ;AAAA,QAGIspH,YAHJ;AAAA,QAIIC,gBAAgB,KAJpB;AAAA,QAKItvG,QAAQkvG,kBAAkBlvG,KAL9B;;AAOA,QAAI,OAAOkgB,EAAP,KAAc,WAAd,IAA6B,QAAOA,EAAP,yCAAOA,EAAP,OAAc,QAA/C,EAAyD;AACrD;AACH;;AAED,QAAImvF,eAAervG,MAAMkgB,EAAN,CAAnB,EAA8B;AAC1BmvF,qBAAat7G,OAAb;AACH;;AAEDiM,UAAMkgB,EAAN,IAAY,IAAZ;AACAvsC,cAAUA,WAAW,EAArB;AACAA,YAAQ47H,aAAR,GAAwBpuG,SAASpb,MAAMpS,QAAQ47H,aAAvB,IAAwCxpH,GAAxC,GAA8C2oH,MAAMc,oBAA5E;;AAEA,QAAI,OAAOrwD,SAAP,KAAqB,QAAzB,EAAmC;AAC/BA,oBAAYwvD,IAAIc,cAAJ,CAAmBtwD,SAAnB,CAAZ;AACH;;AAEDiwD,cAAUV,MAAMgB,eAAN,CAAsBvwD,SAAtB,CAAV;AACAiwD,YAAQ3qB,SAAR,GAAoBiqB,MAAMiB,UAA1B;;AAEA,QAAIb,gBAAgBc,UAAhB,IAA8B,CAACd,gBAAgBe,IAAjB,IAAyB,CAACT,QAAQ95C,YAAlC,IAAkD,CAAC85C,QAAQ75C,WAA7F,EAA0G;AACtG+5C,wBAAgB,IAAhB;AACH;;AAEDF,YAAQ3qB,SAAR,GAAoB,EAApB;AACA,SAAKv3E,IAAL,IAAawhG,MAAMoB,oBAAnB,EAAyC;AACrCV,gBAAQ5uF,KAAR,CAActT,IAAd,IAAsBwhG,MAAMoB,oBAAN,CAA2B5iG,IAA3B,CAAtB;AACH;;AAED,SAAKgT,EAAL,GAAUA,EAAV;AACA,SAAKwgC,eAAL,GAAuB0uD,OAAvB;;AAEA,SAAKZ,iBAAL,GAAyB,IAAIC,mBAAmB,SAAnB,CAAJ,CAAkCW,OAAlC,EAA2CE,aAA3C,EAA0D,EAA1D,CAAzB;AACA,SAAKS,eAAL,GAAuB,CAACZ,WAAxB;AACA,SAAKa,KAAL,GAAa,IAAb;AACA,SAAKxvF,KAAL,GAAa,EAAb;AACA,SAAK7sC,OAAL,GAAeA,OAAf;;AAEA,SAAK85C,QAAL;AACH;;AAED;;;;;;;;;;AAUAyhF,kBAAkBngF,WAAlB,GAAgC,UAAUN,UAAV,EAAsB;AAClDA,iBAAaA,cAAc,EAA3B;;AAEA,QAAI,CAACA,WAAW79C,IAAhB,EAAsB;AAClB69C,mBAAW79C,IAAX,GAAkB,EAAlB;AACH,KAFD,MAEO,IAAI,OAAO69C,WAAW79C,IAAlB,KAA2B,QAA/B,EAAyC;AAC5C69C,mBAAW79C,IAAX,GAAkB69C,WAAW79C,IAAX,CAAgBoxB,QAAhB,EAAlB;AACH;;AAEDysB,eAAW/B,KAAX,GAAmB+B,WAAW79C,IAAX,CAAgBmb,KAAhB,CAAsB,kBAAtB,CAAnB;AACA,WAAO0iC,UAAP;AACH,CAXD;;AAaA;AACAygF,kBAAkBlvG,KAAlB,GAA0B,EAA1B;;AAEA;AACA;AACAkvG,kBAAkB/gI,SAAlB,CAA4B8hI,oBAA5B,GAAmD,UAAUr/H,IAAV,EAAgBs/H,mBAAhB,EAAqCn/H,MAArC,EAA6C;AAC5F,QAAI,CAAC,KAAKi/H,KAAV,EAAiB;AACb,eAAO,KAAP;AACH;;AAED,QAAI73D,IAAJ;AAAA,QACIg4D,KADJ;AAAA,QAEIC,EAFJ;AAAA,QAGIC,GAHJ;AAAA,QAIIC,WAJJ;AAAA,QAKIC,oBALJ;AAAA,QAMIC,wBAAwB,KAAK78H,OAAL,CAAa47H,aANzC;AAAA,QAOIpwD,YAAY,KAAKqV,UAPrB;AAAA,QAQIh0C,QAAQ,KAAKA,KAAL,IAAc,EAR1B;AAAA,QASIiwF,QAAQ,KAAKC,cAAL,KAAwB,KAAKA,cAAL,GAAsB,EAA9C,CATZ;AAAA,QAUIC,mBAAmB,KAAKC,iBAAL,KAA2B,KAAKA,iBAAL,GAAyB,EAApD,CAVvB;AAAA,QAWIC,YAAYjgI,QAAQ4vC,MAAMswF,QAAN,IAAkBlC,KAA1B,KAAoCpuF,MAAMuwF,UAAN,IAAoBnC,KAAxD,KAAkEpuF,MAAMwwF,UAAN,IAAoBpC,KAAtF,KAAgGpuF,MAAMywF,SAAN,IAAmBrC,KAAnH,CAXhB;AAAA,QAYIsC,gBAAgBtgI,OAAO,MAAP,IAAiB4vC,MAAMswF,QAAN,IAAkBlC,KAAnC,KAA6CpuF,MAAMuwF,UAAN,IAAoBnC,KAAjE,KAA2EpuF,MAAMwwF,UAAN,IAAoBpC,KAA/F,KAAyGpuF,MAAMywF,SAAN,IAAmBrC,KAA5H,CAZpB;;AAcAC,qBAAiBj+H,IAAjB,MAA2BA,OAAOi+H,iBAAiBj+H,IAAjB,CAAlC;;AAEA,QAAI,CAACs/H,mBAAL,EAA0B;AACtBK,+BAAuB,CAAvB;AACH,KAFD,MAEO;AACH,YAAI,CAACA,uBAAuBE,MAAMS,aAAN,CAAxB,MAAkDl8H,SAAtD,EAAiE;AAC7DmqE,sBAAUslC,SAAV,GAAsB7zG,KAAKugI,MAAL,GAAcvgI,KAAKugI,MAAL,CAAYpgI,MAAZ,CAAd,GAAoCsD,MAAMtD,SAAS,CAAf,EAAkBlB,IAAlB,CAAuBe,IAAvB,CAA1D,CAD6D,CAC2B;AACxFw/H,iBAAKjxD,UAAUoW,WAAf;;AAEApW,sBAAUslC,SAAV,GAAsB7zG,IAAtB;AACAy/H,kBAAMlxD,UAAUoW,WAAhB;;AAEAg7C,mCAAuBE,MAAMS,aAAN,IAAuB,CAACd,KAAKr/H,SAASs/H,GAAf,KAAuBt/H,SAAS,CAAhC,CAA9C;AACA4/H,6BAAiBrgI,IAAjB,CAAsB4gI,aAAtB;AACA,gBAAIP,iBAAiB5/H,MAAjB,GAA0By/H,qBAA9B,EAAqD;AACjD,uBAAOC,MAAME,iBAAiBjqG,KAAjB,EAAN,CAAP;AACH;AACJ;AACJ;;AAED,QAAI4pG,cAAcG,MAAMI,SAAN,CAAlB,EAAoC;AAChCV,gBAAQG,YAAYvkH,KAAZ,CAAkB,GAAlB,CAAR;AACA,eAAO;AACH0sB,mBAAOpwB,WAAW8nH,MAAM,CAAN,CAAX,EAAqB,EAArB,CADJ;AAEHz3F,oBAAQrwB,WAAW8nH,MAAM,CAAN,CAAX,EAAqB,EAArB;AAFL,SAAP;AAIH;;AAEDhxD,cAAUslC,SAAV,GAAsB7zG,IAAtB;;AAEAunE,WAAO;AACHz/B,gBAAQymC,UAAUmW,YADf;AAEH78C,eAAO0mC,UAAUoW,WAAV,GAAwBg7C;AAF5B,KAAP;;AAKAE,UAAMI,SAAN,IAAmB14D,KAAK1/B,KAAL,GAAa,GAAb,GAAmB0/B,KAAKz/B,MAA3C;AACAi4F,qBAAiBrgI,IAAjB,CAAsBugI,SAAtB;AACA,QAAIF,iBAAiB5/H,MAAjB,GAA0By/H,qBAA9B,EAAqD;AACjD,eAAOC,MAAME,iBAAiBjqG,KAAjB,EAAN,CAAP;AACH;;AAED,WAAOyxC,IAAP;AACH,CA7DD;;AA+DA;AACA+2D,kBAAkB/gI,SAAlB,CAA4BijI,WAA5B,GAA0C,YAAY;AAClD,QAAIC,UAAU,KAAKC,aAAnB;AAAA,QACInyD,YAAY,KAAKqV,UADrB;AAAA,QAEI+8C,UAAUF,QAAQE,OAFtB;;AAIA,QAAIA,OAAJ,EAAa;AACT,eAAO,UAAUr8H,GAAV,EAAe;AAClB,gBAAIs8H,IAAJ,EAAU/4F,KAAV;;AAEA84F,oBAAQloB,WAAR,GAAsBn0G,GAAtB;AACAs8H,mBAAOD,QAAQlxD,OAAR,EAAP;AACA5nC,oBAAQ+4F,KAAK/4F,KAAL,GAAau2F,mBAArB;AACA,gBAAIv2F,QAAQ,CAAZ,EAAe;AACXA,wBAAQ+4F,KAAK/4F,KAAb;AACH;;AAED,mBAAOA,KAAP;AACH,SAXD;AAYH,KAbD,MAaO;AACH,eAAO,UAAUvjC,GAAV,EAAe;AAClBiqE,sBAAUslC,SAAV,GAAsBvvG,GAAtB;AACA,mBAAOiqE,UAAUoW,WAAjB;AACH,SAHD;AAIH;AACJ,CAxBD;;AA0BA;;;;;;;;;;;;;AAaA25C,kBAAkB/gI,SAAlB,CAA4Bs/C,QAA5B,GAAuC,UAAUjN,KAAV,EAAiB;AACpD,QAAI,CAAC,KAAKwvF,KAAV,EAAiB;AACb,eAAO,IAAP;AACH;;AAED,QAAIyB,KAAJ;;AAEA,QAAIjxF,UAAU,KAAKA,KAAf,IAAwB,CAAC,KAAKkxF,YAAlC,EAAgD;AAC5C;AACH;;AAED,QAAI,CAAClxF,KAAL,EAAY;AACRA,gBAAQ,KAAKA,KAAb;AACH;;AAEDkuF,UAAMiD,aAAN,CAAoBnxF,KAApB;AACA,SAAKA,KAAL,GAAaA,KAAb;;AAEA,SAAK8wF,aAAL,GAAqBG,QAAQ,KAAKjD,iBAAL,CAAuBthI,GAAvB,CAA2BszC,KAA3B,CAA7B;;AAEA,QAAI,KAAK8wF,aAAT,EAAwB;AACpB,aAAK98C,UAAL,GAAkBi9C,MAAMxmG,IAAxB;AACA,aAAK6kD,QAAL,GAAgB2hD,MAAMh1F,OAAtB;AACA,aAAKm1F,MAAL,GAAcH,MAAMI,SAApB;AACA,aAAKC,WAAL,GAAmBL,MAAMM,UAAzB;AACA,aAAKL,YAAL,GAAoB,KAApB;AACH,KAND,MAMO;AACH,aAAKA,YAAL,GAAoB,IAApB;AACH;;AAED,WAAO,IAAP;AACH,CA/BD;;AAiCA;;;;;;;AAOAxC,kBAAkB/gI,SAAlB,CAA4B0gD,qBAA5B,GAAoD,UAAUsgF,WAAV,EAAuB;AACvE,QAAI,CAAC,KAAKa,KAAV,EAAiB;AACb,eAAO,IAAP;AACH;AACD,SAAKD,eAAL,GAAuB,CAACZ,WAAxB;AACA,WAAO,IAAP;AACH,CAND;;AAQA;;;;;;;;;;;;;;;;;;;;;;AAsBAD,kBAAkB/gI,SAAlB,CAA4B2gD,YAA5B,GAA2C,UAAUl+C,IAAV,EAAgBw4C,QAAhB,EAA0B+8B,SAA1B,EAAqCx3B,MAArC,EAA6C;AACpF,QAAI,CAAC,KAAKqhF,KAAV,EAAiB;AACb,eAAO,KAAP;AACH;;AAED,QAAIp/H,SAASoE,SAAT,IAAsBpE,SAAS,IAAnC,EAAyC;AACrCA,eAAO,EAAP;AACH,KAFD,MAEO,IAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;AACjCA,eAAOA,KAAKoxB,QAAL,EAAP;AACH;;AAED,QAAIrS,GAAJ;AAAA,QACIqiH,OADJ;AAAA,QAEIC,OAFJ;AAAA,QAGIC,OAHJ;AAAA,QAIIC,eAJJ;AAAA,QAKIC,QALJ;AAAA,QAMIC,QANJ;AAAA,QAOIC,SAPJ;AAAA,QAQIC,YARJ;AAAA,QASIC,WATJ;AAAA,QAUIC,QAVJ;AAAA,QAWIC,QAXJ;AAAA,QAYIC,WAZJ;AAAA,QAaIC,UAbJ;AAAA,QAcIC,oBAdJ;AAAA,QAeIC,OAfJ;AAAA,QAgBI15G,CAhBJ;AAAA,QAiBI+J,CAjBJ;AAAA,QAkBI4vG,QAlBJ;AAAA,QAmBIt4H,IAnBJ;AAAA,QAoBIu4H,GApBJ;AAAA,QAqBIC,kBArBJ;AAAA,QAsBIC,eAtBJ;AAAA,QAuBIC,MAvBJ;AAAA,QAwBIC,eAxBJ;AAAA,QAyBIC,0BAzBJ;AAAA,QA0BIC,aAAa,KA1BjB;AAAA,QA2BIC,cAAc,CA3BlB;AAAA,QA4BIC,WAAW,CAAC,CA5BhB;AAAA,QA6BIC,YAAY,CAAC,CA7BjB;AAAA,QA8BIC,kBAAkB,CAAC,CA9BvB;AAAA,QA+BIC,WAAW,CA/Bf;AAAA,QAgCIC,YAAY,CAhChB;AAAA,QAiCIC,aAAa,EAjCjB;AAAA,QAkCIvnI,IAAI,CAlCR;AAAA,QAmCIwnI,cAAc,KAAK/D,eAAL,GAAuB,EAAvB,GAA4B,KAnC9C;AAAA,QAoCIgC,aAAa,KAAKD,WApCtB;AAAA,QAqCIr1F,UAAU,KAAKqzC,QArCnB;AAAA,QAsCI3Q,YAAY,KAAKqV,UAtCrB;AAAA,QAuCIi9C,QAAQ,KAAKH,aAvCjB;AAAA,QAwCIyC,gBAAgBtC,MAAMsC,aAxC1B;AAAA,QAyCIC,WAAWvC,MAAMuC,QAzCrB;AAAA,QA0CIC,eAAe,EA1CnB;AAAA,QA2CIC,YAAY,CAAC,CA3CjB;AAAA,QA4CIC,aAAa,CAAC,CA5ClB;AAAA,QA6CIC,gBAAgB,CAAC,CA7CrB;AAAA,QA8CIC,WAAW,SAASA,QAAT,CAAkBn/H,GAAlB,EAAuB;AAClCA,cAAMA,IAAI5D,OAAJ,CAAY,QAAZ,EAAsB,EAAtB,CAAN;AACA,YAAIgjI,KAAK,IAAT;AAAA,YACIhoI,IAAI4I,IAAInE,MADZ;AAEA,eAAOujI,GAAG5iI,IAAH,CAAQwD,IAAI+uD,MAAJ,CAAW33D,KAAK,CAAhB,CAAR,CAAP,EAAoC,CAAC,0BAA2B;AAChE,eAAO4I,IAAI7D,KAAJ,CAAU,CAAV,EAAa/E,IAAI,CAAjB,CAAP;AACH,KApDD;AAAA,QAqDIioI,aAAa;AACb3jI,cAAMA,IADO;AAEbw4C,kBAAUA,QAFG;AAGb+8B,mBAAWA,SAHE;AAIb1tC,eAAO,IAJM;AAKbC,gBAAQ,IALK;AAMb87F,sBAAc,IAND;AAOb7nF,uBAAe,IAPF;AAQb8nF,iBAAS7jI,IARI;AASb8jI,qBAAa;AATA,KArDjB;;AAiEAhC,eAAW,KAAKtB,WAAL,EAAX;;AAEA;AACA;AACA;AACA,QAAIjrD,cAAc4rD,UAAlB,EAA8B;AAC1B5rD,qBAAa,GAAb;AACH;;AAED,QAAIhH,SAAJ,EAAe;AACX,YAAI,CAAC2vD,gBAAgBQ,aAArB,EAAoC;AAChCgE,yBAAa5E,MAAMiG,WAAN,CAAkBjjI,IAAlB,CAAuBd,IAAvB,CAAb;AACA,gBAAI,CAAC0iI,UAAL,EAAiB;AACb;AACA;AACA;AACApB,0BAAUthI,KAAKU,OAAL,CAAao9H,MAAMkG,SAAnB,EAA8B,UAAU3sH,KAAV,EAAiB;AACrD,2BAAOA,UAAU,MAAV,GAAmB,GAAnB,GAAyB,GAAhC;AACH,iBAFS,CAAV;AAGA4qH,uCAAuB,KAAKnnF,UAAL,CAAgBwmF,OAAhB,EAAyB,IAAzB,CAAvB;;AAEAqC,2BAAWC,YAAX,GAA0BnC,WAAWQ,qBAAqBp6F,KAA1D;AACA87F,2BAAW5nF,aAAX,GAA2B2lF,YAAYO,qBAAqBn6F,MAA5D;AACH,aAXD,MAWO;AACHymC,0BAAUslC,SAAV,GAAsB7zG,IAAtB;AACA2jI,2BAAWC,YAAX,GAA0BnC,WAAWlzD,UAAUoW,WAA/C;AACAg/C,2BAAW5nF,aAAX,GAA2B2lF,YAAYnzD,UAAUmW,YAAjD;AACH;;AAED,gBAAIg9C,aAAansD,SAAb,IAA0BksD,YAAYjpF,QAA1C,EAAoD;AAChDmrF,2BAAW97F,KAAX,GAAmB87F,WAAWC,YAAX,GAA0BnC,QAA7C;AACAkC,2BAAW77F,MAAX,GAAoB67F,WAAW5nF,aAAX,GAA2B2lF,SAA/C;AACA,uBAAOiC,UAAP;AACH;;AAED,gBAAIxC,aAAa5rD,SAAjB,EAA4B;AACxBouD,2BAAW3jI,IAAX,GAAkB,EAAlB;AACA2jI,2BAAW97F,KAAX,GAAmB87F,WAAWC,YAAX,GAA0B,CAA7C;AACAD,2BAAW77F,MAAX,GAAoB67F,WAAW5nF,aAAX,GAA2B,CAA/C;AACA,uBAAO4nF,UAAP;AACH;AACJ;;AAED;AACA3jI,eAAOyjI,SAASzjI,IAAT,EAAeU,OAAf,CAAuB,QAAvB,EAAiC,GAAjC,CAAP;AACA6gI,0BAAkB,KAAKpC,eAAL,GAAuB3mF,QAAvB,GAAkCA,WAAW2qF,aAA/D;;AAEA,YAAI,CAACT,UAAL,EAAiB;AACbO,yBAAajjI,KAAKmb,KAAL,CAAW,EAAX,CAAb;AACA4D,kBAAMkkH,WAAW9iI,MAAjB;AACAihI,sBAAU,EAAV,EAAcC,UAAU,EAAxB;AACAQ,uBAAWoB,WAAW,CAAX,CAAX;;AAEA,gBAAI,KAAKjC,MAAL,CAAYa,QAAZ,CAAJ,EAA2B;AACvBM,2BAAW,KAAKnB,MAAL,CAAYa,QAAZ,EAAsBh6F,KAAjC;AACH,aAFD,MAEO;AACHs6F,2BAAWL,SAASD,QAAT,CAAX;AACA,qBAAKb,MAAL,CAAYa,QAAZ,IAAwB,EAAEh6F,OAAOs6F,QAAT,EAAxB;AACH;;AAED,gBAAIZ,kBAAkBY,QAAtB,EAAgC;AAC5Bd,0BAAUrhI,KAAKikI,MAAL,CAAY,CAAZ,EAAenG,MAAMoG,oBAAN,CAA2BlkI,IAA3B,EAAiCuhI,eAAjC,EAAkD,IAAlD,CAAf,EAAwEpmH,KAAxE,CAA8E,EAA9E,CAAV;AACAzf,oBAAI2lI,QAAQlhI,MAAZ;AACH,aAHD,MAGO,IAAIgiI,WAAW3pF,QAAf,EAAyB;AAC5BmrF,2BAAW3jI,IAAX,GAAkB,EAAlB;AACA2jI,2BAAW97F,KAAX,GAAmB87F,WAAWC,YAAX,GAA0BD,WAAW77F,MAAX,GAAoB67F,WAAW5nF,aAAX,GAA2B,CAA5F;AACA,uBAAO4nF,UAAP;AACH,aAJM,MAIA,IAAIT,WAAJ,EAAiB;AACpB3B,kCAAkB/oF,WAAW,IAAI4qF,QAAjC;AACA,oBAAI7B,kBAAkBY,QAAtB,EAAgC;AAC5Be,kCAAc,IAAd;AACH,iBAFD,MAEO;AACH3B,sCAAkB/oF,WAAW4qF,QAA7B;AACA,wBAAI7B,kBAAkBY,QAAtB,EAAgC;AAC5Be,sCAAc,GAAd;AACH,qBAFD,MAEO;AACH3B,0CAAkB,CAAlB;AACA2B,sCAAc,EAAd;AACH;AACJ;AACJ;;AAEDH,uBAAWjB,SAAST,QAAQpiI,IAAR,CAAa,EAAb,CAAT,CAAX;AACA+jI,wBAAY,KAAK9B,WAAjB;;AAEA,gBAAInjF,MAAJ,EAAY;AACR,uBAAOriD,IAAIqjB,GAAX,EAAgBrjB,KAAK,CAArB,EAAwB;AACpBmmI,+BAAWR,QAAQ3lI,CAAR,IAAaunI,WAAWvnI,CAAX,CAAxB;AACA,wBAAI,KAAKslI,MAAL,CAAYa,QAAZ,CAAJ,EAA2B;AACvBM,mCAAW,KAAKnB,MAAL,CAAYa,QAAZ,EAAsBh6F,KAAjC;AACH,qBAFD,MAEO;AACH,4BAAI,CAACo6F,oBAAD,IAAyB,EAAEE,WAAWF,qBAAqBkC,SAArB,CAA+BtC,QAA/B,CAAb,CAA7B,EAAqF;AACjFM,uCAAWL,SAASD,QAAT,CAAX;AACH;AACD,6BAAKb,MAAL,CAAYa,QAAZ,IAAwB;AACpBh6F,mCAAOs6F;AADa,yBAAxB;AAGH;AACDY,gCAAYZ,QAAZ;AACA,wBAAIY,WAAWxB,eAAf,EAAgC;AAC5B,4BAAI,CAACH,OAAL,EAAc;AACVA,sCAAUC,QAAQ5gI,KAAR,CAAc,CAAd,EAAiB,CAAC,CAAlB,EAAqBxB,IAArB,CAA0B,EAA1B,CAAV;AACH;AACD,4BAAI8jI,WAAWvqF,QAAf,EAAyB;AACrBmrF,uCAAW3jI,IAAX,GAAkByjI,SAASrC,OAAT,IAAoB8B,WAAtC;AACAS,uCAAWS,QAAX,GAAsBT,WAAWE,OAAjC;AACAF,uCAAW97F,KAAX,GAAmBi6F,SAAS6B,WAAW3jI,IAApB,CAAnB;AACA2jI,uCAAW77F,MAAX,GAAoB,KAAKo5F,WAAzB;AACA,mCAAOyC,UAAP;AACH;AACJ;AACJ;;AAEDA,2BAAW3jI,IAAX,GAAkBqhI,QAAQpiI,IAAR,CAAa,EAAb,CAAlB;AACA0kI,2BAAW97F,KAAX,GAAmBk7F,QAAnB;AACAY,2BAAW77F,MAAX,GAAoB,KAAKo5F,WAAzB;AACA,uBAAOyC,UAAP;AACH,aAhCD,MAgCO;AACH,uBAAOjoI,IAAIqjB,GAAX,EAAgBrjB,KAAK,CAArB,EAAwB;AACpBmmI,+BAAWR,QAAQ3lI,CAAR,IAAaunI,WAAWvnI,CAAX,CAAxB;AACA,wBAAImmI,aAAa,GAAb,IAAoB,CAACh2F,OAAzB,EAAkC;AAC9Bg2F,mCAAW,QAAX;AACH;;AAED,wBAAI,KAAKb,MAAL,CAAYa,QAAZ,CAAJ,EAA2B;AACvBM,mCAAW,KAAKnB,MAAL,CAAYa,QAAZ,EAAsBh6F,KAAjC;AACH,qBAFD,MAEO;AACH,4BAAI,CAACo6F,oBAAD,IAAyB,EAAEE,WAAWF,qBAAqBkC,SAArB,CAA+BtC,QAA/B,CAAb,CAA7B,EAAqF;AACjFM,uCAAWL,SAASD,QAAT,CAAX;AACH;AACD,6BAAKb,MAAL,CAAYa,QAAZ,IAAwB;AACpBh6F,mCAAOs6F;AADa,yBAAxB;AAGH;AACDY,gCAAYZ,QAAZ;;AAEA,wBAAIY,WAAWxB,eAAf,EAAgC;AAC5B,4BAAI,CAACH,OAAL,EAAc;AACVA,sCAAUC,QAAQ5gI,KAAR,CAAc,CAAd,EAAiB,CAAC,CAAlB,EAAqBxB,IAArB,CAA0B,EAA1B,CAAV;AACH;AACD,4BAAI8jI,WAAWvqF,QAAf,EAAyB;AACrB;AACAqqF,wCAAY7iI,KAAKikI,MAAL,CAAY,CAAZ,EAAe5C,QAAQlhI,MAAvB,EAA+BunD,WAA/B,CAA2C,GAA3C,CAAZ;AACAk7E,uCAAW5iI,KAAKikI,MAAL,CAAY,CAAZ,EAAe5C,QAAQlhI,MAAvB,EAA+BunD,WAA/B,CAA2C,GAA3C,CAAX;AACA,gCAAIm7E,YAAYC,eAAhB,EAAiC;AAC7BC,2CAAWjB,SAAST,QAAQ5gI,KAAR,CAAcqiI,kBAAkB,CAAhC,EAAmCD,SAAnC,EAA8C5jI,IAA9C,CAAmD,EAAnD,CAAT,CAAX;AACAoiI,wCAAQp9H,MAAR,CAAe4+H,SAAf,EAA0B,CAA1B,EAA6B,OAA7B;AACAC,kDAAkBD,SAAlB;AACAlB,+CAAekB,YAAY,CAA3B;AACH,6BALD,MAKO,IAAID,WAAWE,eAAf,EAAgC;AACnC,oCAAIF,aAAavB,QAAQlhI,MAAR,GAAiB,CAAlC,EAAqC;AACjC4iI,+CAAWjB,SAAST,QAAQ5gI,KAAR,CAAcqiI,kBAAkB,CAAhC,EAAmCD,SAAnC,EAA8C5jI,IAA9C,CAAmD,EAAnD,CAAT,CAAX;AACAoiI,4CAAQp9H,MAAR,CAAe2+H,QAAf,EAAyB,CAAzB,EAA4B,QAA5B;AACH,iCAHD,MAGO;AACHG,+CAAWjB,SAAST,QAAQ5gI,KAAR,CAAcqiI,kBAAkB,CAAhC,EAAmCD,SAAnC,EAA8C5jI,IAA9C,CAAmD,EAAnD,CAAT,CAAX;AACAoiI,4CAAQp9H,MAAR,CAAe2+H,QAAf,EAAyB,CAAzB,EAA4B,QAA5B;AACH;AACDE,kDAAkBF,QAAlB;AACAjB,+CAAeiB,WAAW,CAA1B;AACH,6BAVM,MAUA;AACHvB,wCAAQp9H,MAAR,CAAeo9H,QAAQlhI,MAAR,GAAiB,CAAhC,EAAmC,CAAnC,EAAsC,UAAU8iI,WAAWvnI,CAAX,CAAhD;AACA8nI,gDAAgBnC,QAAQlhI,MAAR,GAAiB,CAAjC;AACA4iI,2CAAWjB,SAAST,QAAQ5gI,KAAR,CAAcqiI,kBAAkB,CAAhC,EAAmCU,gBAAgB,CAAnD,EAAsDvkI,IAAtD,CAA2D,EAA3D,CAAT,CAAX;AACA6jI,kDAAkBU,aAAlB;AACA7B,+CAAejmI,CAAf;AACH;AACDsnI,yCAAa,KAAK9B,WAAlB;AACA,gCAAI8B,YAAYztD,SAAhB,EAA2B;AACvBouD,2CAAW3jI,IAAX,GAAkByjI,SAASrC,OAAT,IAAoB8B,WAAtC;AACAS,2CAAWS,QAAX,GAAsBT,WAAWE,OAAjC;AACA;AACAF,2CAAW97F,KAAX,GAAmB2Q,QAAnB;AACAmrF,2CAAW77F,MAAX,GAAoBk7F,YAAY,KAAK9B,WAArC;AACA,uCAAOyC,UAAP;AACH,6BAPD,MAOO;AACHhB,8CAAcxtH,IAAIwtH,WAAJ,EAAiBI,QAAjB,CAAd;AACA3B,0CAAU,IAAV;AACAQ,8CAAc9D,MAAMoG,oBAAN,CAA2BlkI,KAAKikI,MAAL,CAAYtC,YAAZ,CAA3B,EAAsDJ,eAAtD,EAAuE,IAAvE,CAAd;AACAwB,2CAAWjB,SAAS9hI,KAAKikI,MAAL,CAAYtC,YAAZ,EAA0BC,eAAe,CAAzC,CAAT,CAAX;AACA,oCAAIP,QAAQlhI,MAAR,GAAiBwhI,eAAeC,WAApC,EAAiD;AAC7CP,8CAAUA,QAAQzgI,MAAR,CAAeZ,KAAKikI,MAAL,CAAY5C,QAAQlhI,MAApB,EAA4BwhI,eAAeC,WAAf,GAA6BP,QAAQlhI,MAAjE,EAAyEgb,KAAzE,CAA+E,EAA/E,CAAf,CAAV;AACAzf,wCAAI2lI,QAAQlhI,MAAR,GAAiB,CAArB;AACH;AACJ;AACJ;AACJ;AACJ;;AAEDwiI,8BAAcxtH,IAAIwtH,WAAJ,EAAiBI,QAAjB,CAAd;;AAEAY,2BAAW3jI,IAAX,GAAkBqhI,QAAQpiI,IAAR,CAAa,EAAb,CAAlB;AACA0kI,2BAAW97F,KAAX,GAAmB86F,WAAnB;AACAgB,2BAAW77F,MAAX,GAAoBk7F,SAApB;AACA,uBAAOW,UAAP;AACH;AACJ,SApJD,MAoJO;AACHnC,uBAAWxhI,KAAKU,OAAL,CAAao9H,MAAMuG,gBAAnB,EAAqC,IAArC,CAAX;AACArkI,mBAAOA,KAAKU,OAAL,CAAao9H,MAAMuG,gBAAnB,EAAqCvG,MAAMwG,oBAA3C,CAAP;AACAtkI,mBAAOA,KAAKU,OAAL,CAAa,gBAAb,EAA+B,kBAAkB,CAACo9H,MAAMyG,gBAAP,EAAyB,GAAzB,EAA8BzG,MAAM0G,kBAApC,EAAwDvlI,IAAxD,CAA6D,EAA7D,CAAlB,GAAqF,aAApH,CAAP;;AAEAsvE,sBAAUslC,SAAV,GAAsB7zG,IAAtB;;AAEAkiI,sBAAU3zD,UAAU2vD,gBAAgBuG,eAA1B,EAA2CvG,gBAAgBwG,mBAA3D,CAAV;;AAEA,iBAAKl8G,IAAI,CAAJ,EAAO+J,IAAI2vG,QAAQ/hI,MAAxB,EAAgCqoB,IAAI+J,CAApC,EAAuC/J,KAAK,CAA5C,EAA+C;AAC3C3e,uBAAOq4H,QAAQ15G,CAAR,CAAP;AACA;AACA,oBAAI01G,gBAAgByG,cAAhB,IAAkC7G,MAAM8G,YAAN,CAAmB9jI,IAAnB,CAAwB+I,KAAKilC,SAA7B,CAAtC,EAA+E;AAC3EszF,0BAAMv4H,KAAKgqG,SAAX;AACA,wBAAIuuB,QAAQ,EAAZ,EAAgB;AACZ,4BAAIA,QAAQ,GAAZ,EAAiB;AACbmB,yCAAaF,aAAaljI,MAA1B;AACH,yBAFD,MAEO,IAAIiiI,QAAQ,GAAZ,EAAiB;AACpBkB,wCAAYD,aAAaljI,MAAzB;AACH;;AAEDkjI,qCAAa3jI,IAAb,CAAkB;AACdmlI,sCAAUtB,UADI;AAEduB,qCAASxB,SAFK;AAGdz5H,kCAAMA;AAHQ,yBAAlB;AAKAo5H,mCAAWvjI,IAAX,CAAgB0iI,GAAhB;AACH;AACJ;AACJ;;AAED1mI,gBAAI,CAAJ;AACAqjB,kBAAMskH,aAAaljI,MAAnB;AACAgiI,uBAAWkB,aAAa,CAAb,EAAgBx5H,IAAhB,CAAqB86E,WAAhC;;AAEA,gBAAIw9C,WAAW3pF,QAAf,EAAyB;AACrBmrF,2BAAW3jI,IAAX,GAAkB,EAAlB;AACA2jI,2BAAW97F,KAAX,GAAmB87F,WAAWC,YAAX,GAA0BD,WAAW77F,MAAX,GAAoB67F,WAAW5nF,aAAX,GAA2B,CAA5F;;AAEA,uBAAO4nF,UAAP;AACH,aALD,MAKO,IAAIxB,WAAWZ,eAAX,IAA8B,CAAC,KAAKpC,eAAxC,EAAyD;;AAE5DoC,kCAAkB/oF,WAAW,IAAI4qF,QAAjC;AACA,oBAAI7B,kBAAkBY,QAAtB,EAAgC;AAC5Be,kCAAc,IAAd;AACH,iBAFD,MAEO;AACH3B,sCAAkB/oF,WAAW4qF,QAA7B;AACA,wBAAI7B,kBAAkBY,QAAtB,EAAgC;AAC5Be,sCAAc,GAAd;AACH,qBAFD,MAEO;AACH3B,0CAAkB,CAAlB;AACA2B,sCAAc,EAAd;AACH;AACJ;AACJ;;AAEDnB,0BAAcsB,aAAa,CAAb,EAAgBx5H,IAAhB,CAAqBsmE,UAAnC;AACA6xD,yBAAaqB,aAAa,CAAb,EAAgBx5H,IAAhB,CAAqBumE,SAAlC;;AAEA,gBAAIryB,MAAJ,EAAY;AACR,uBAAOriD,IAAIqjB,GAAX,EAAgBrjB,KAAK,CAArB,EAAwB;AACpBmO,2BAAOw5H,aAAa3nI,CAAb,EAAgBmO,IAAvB;AACAw4H,yCAAqBx4H,KAAKsmE,UAAL,GAAkB4xD,WAAlB,GAAgCl4H,KAAK86E,WAA1D;;AAEA,wBAAI09C,qBAAqBd,eAAzB,EAA0C;AACtC,4BAAI,CAACkB,0BAAL,EAAiC;AAC7BA,yDAA6B/mI,CAA7B;AACH;AACD,4BAAI6yE,UAAUoW,WAAV,GAAwBnsC,QAA5B,EAAsC;AAClCgqF,8CAAkB9mI,CAAlB;AACAA,gCAAIqjB,GAAJ;AACH;AACJ;AACJ;AACJ,aAfD,MAeO;AACH,uBAAOrjB,IAAIqjB,GAAX,EAAgBrjB,KAAK,CAArB,EAAwB;AACpBmO,2BAAOw5H,aAAa3nI,CAAb,EAAgBmO,IAAvB;AACAy4H,sCAAkBz4H,KAAK66E,YAAL,IAAqB76E,KAAKumE,SAAL,GAAiB4xD,UAAtC,CAAlB;AACAK,yCAAqBx4H,KAAKsmE,UAAL,GAAkB4xD,WAAlB,GAAgCl4H,KAAK86E,WAA1D;;AAEA49C,6BAAS,IAAT;;AAEA,wBAAIF,qBAAqBd,eAAzB,EAA0C;AACtC,4BAAI,CAACkB,0BAAL,EAAiC;AAC7BA,yDAA6B/mI,CAA7B;AACH;;AAED,4BAAI2mI,qBAAqB7pF,QAAzB,EAAmC;AAC/BqqF,wCAAYQ,aAAa3nI,CAAb,EAAgBmpI,QAA5B;AACAjC,uCAAWS,aAAa3nI,CAAb,EAAgBopI,OAA3B;AACA,gCAAIjC,YAAYC,eAAhB,EAAiC;AAC7BO,6CAAaR,SAAb,EAAwBh5H,IAAxB,CAA6BgqG,SAA7B,GAAyC,OAAzC;AACAivB,kDAAkBD,SAAlB;AACH,6BAHD,MAGO,IAAID,WAAWE,eAAf,EAAgC;AACnC,oCAAIF,aAAalnI,CAAjB,EAAoB;AAChB;AACA2nI,iDAAaT,QAAb,EAAuB/4H,IAAvB,CAA4BgqG,SAA5B,GAAwC,QAAxC;AACH,iCAHD,MAGO;AACHwvB,iDAAaT,QAAb,EAAuB/4H,IAAvB,CAA4BgqG,SAA5B,GAAwC,QAAxC;AACH;AACDivB,kDAAkBF,QAAlB;AACH,6BARM,MAQA;AACH/4H,qCAAKkgF,UAAL,CAAgBynB,YAAhB,CAA6B+wB,SAASxE,IAAIh1D,aAAJ,CAAkB,IAAlB,CAAtC,EAA+Dl/D,IAA/D;AACH;;AAED;AACA,gCAAIA,KAAK66E,YAAL,GAAoB76E,KAAKumE,SAAzB,GAAqCmF,SAAzC,EAAoD;AAChD;AACA,oCAAIgtD,MAAJ,EAAY;AACRA,2CAAOx4C,UAAP,CAAkBj7D,WAAlB,CAA8ByzG,MAA9B;AACH,iCAFD,MAEO,IAAIO,oBAAoBF,QAAxB,EAAkC;AACrCS,iDAAaT,QAAb,EAAuB/4H,IAAvB,CAA4BgqG,SAA5B,GAAwC,GAAxC;AACH,iCAFM,MAEA;AACHwvB,iDAAaR,SAAb,EAAwBh5H,IAAxB,CAA6BgqG,SAA7B,GAAyC,GAAzC;AACH;AACD2uB,kDAAkB9mI,CAAlB;AACA;AACAA,oCAAIqjB,GAAJ;AACH,6BAZD,MAYO;AACH0jH,6DAA6B,IAA7B;AACH;AACJ;AACJ,qBAxCD,MAwCO;AACH;AACA,4BAAIH,kBAAkB/sD,SAAtB,EAAiC;AAC7BitD,8CAAkB9mI,CAAlB;AACAA,gCAAIqjB,GAAJ;AACH;AACJ;AACJ;AACJ;;AAED,gBAAIyjH,kBAAkBzjH,GAAtB,EAA2B;AACvB;AACA4kH,2BAAWG,WAAX,GAAyB,IAAzB;;AAEA;AACArB,6CAA6BA,6BAA6BA,0BAA7B,GAA0DD,eAAvF;;AAEA,qBAAK9mI,IAAIqjB,MAAM,CAAf,EAAkBrjB,KAAK+mI,0BAAvB,EAAmD/mI,KAAK,CAAxD,EAA2D;AACvDmO,2BAAOw5H,aAAa3nI,CAAb,EAAgBmO,IAAvB;AACA;AACAA,yBAAKkgF,UAAL,CAAgBj7D,WAAhB,CAA4BjlB,IAA5B;AACH;;AAED,uBAAOnO,KAAK,CAAZ,EAAeA,KAAK,CAApB,EAAuB;AACnBmO,2BAAOw5H,aAAa3nI,CAAb,EAAgBmO,IAAvB;AACA,wBAAIi0H,MAAMiH,cAAN,CAAqBjkI,IAArB,CAA0B+I,KAAKilC,SAA/B,CAAJ,EAA+C;AAC3C;AACAjlC,6BAAKkgF,UAAL,CAAgBj7D,WAAhB,CAA4BjlB,IAA5B;AACH,qBAHD,MAGO;AACHnO,4BAAI,CAAJ;AACH;AACJ;AACJ;;AAED;AACAioI,uBAAW3jI,IAAX,GAAkBuuE,UAAUslC,SAAV,CAAoBnzG,OAApB,CAA4Bo9H,MAAMkH,eAAlC,EAAmD,IAAnD,EAAyDtkI,OAAzD,CAAiE,UAAjE,EAA6E,GAA7E,CAAlB;AACA,gBAAIijI,WAAWG,WAAf,EAA4B;AACxBH,2BAAW3jI,IAAX,IAAmBkjI,WAAnB;AACAS,2BAAWS,QAAX,GAAsB5C,QAAtB;AACH;AACJ;;AAEDmC,mBAAW77F,MAAX,GAAoBymC,UAAUmW,YAA9B;AACAi/C,mBAAW97F,KAAX,GAAmB0mC,UAAUoW,WAA7B;;AAEA,eAAOg/C,UAAP;AACH,KAlWD,MAkWO;AACHA,mBAAWl7C,KAAX,GAAmB,IAAIplF,KAAJ,CAAU,mBAAV,CAAnB;AACA,eAAOsgI,UAAP;AACH;AACJ,CA3bD;;AA6bA;;;;;;;;;;;;;;;;AAgBArF,kBAAkB/gI,SAAlB,CAA4Bu9C,UAA5B,GAAyC,UAAU96C,IAAV,EAAgBilI,uBAAhB,EAAyC;AAC9E,QAAI,CAAC,KAAK7F,KAAV,EAAiB;AACb,eAAO,KAAP;AACH;;AAED,QAAI8F,OAAJ;AAAA,QACIC,MADJ;AAAA,QAEIC,KAFJ;AAAA,QAGI1pI,CAHJ;AAAA,QAIIC,CAJJ;AAAA,QAKI0pI,iBAAiB,CALrB;AAAA,QAMIv9F,SAAS,CANb;AAAA,QAOIw9F,gBAAgB,EAPpB;;AASA,QAAI,CAACL,uBAAL,EAA8B;AAC1B,eAAO,KAAK5F,oBAAL,CAA0Br/H,IAA1B,CAAP;AACH;;AAED;AACAklI,cAAUllI,KAAKmb,KAAL,CAAW,EAAX,CAAV;AACA,SAAKzf,IAAI,CAAJ,EAAOC,IAAIupI,QAAQ/kI,MAAxB,EAAgCzE,IAAIC,CAApC,EAAuCD,GAAvC,EAA4C;AACxCypI,iBAASD,QAAQxpI,CAAR,CAAT;AACA0pI,gBAAQ,KAAK/F,oBAAL,CAA0B8F,MAA1B,EAAkC,IAAlC,EAAwCD,QAAQ/kI,MAAhD,CAAR;AACA2nC,iBAAS3yB,IAAI2yB,MAAJ,EAAYs9F,MAAMt9F,MAAlB,CAAT;AACAu9F,0BAAkBD,MAAMv9F,KAAxB;AACAy9F,sBAAcH,MAAd,IAAwBC,MAAMv9F,KAA9B;AACH;;AAED,WAAO;AACHA,eAAOpQ,MAAM4tG,cAAN,CADJ;AAEHv9F,gBAAQA,MAFL;AAGHq8F,mBAAWmB;AAHR,KAAP;AAKH,CAjCD;;AAmCA;;;AAGAhH,kBAAkB/gI,SAAlB,CAA4B4lB,OAA5B,GAAsC,YAAY;AAC9C,QAAI,CAAC,KAAKi8G,KAAV,EAAiB;AACb,eAAO,IAAP;AACH;;AAED,SAAKxB,iBAAL,IAA0B,KAAKA,iBAAL,CAAuBz6G,OAAjD,IAA4D,KAAKy6G,iBAAL,CAAuBz6G,OAAvB,EAA5D;;AAEA,WAAO,KAAKygE,UAAZ;AACA,WAAO,KAAK1E,QAAZ;AACA,WAAO,KAAK8hD,MAAZ;AACA,WAAO,KAAKpD,iBAAZ;AACA,WAAO,KAAK8C,aAAZ;AACA,WAAO,KAAKpxF,EAAZ;AACA,WAAO,KAAKM,KAAZ;AACA,WAAO,KAAKkgC,eAAZ;AACA,WAAO,KAAKqvD,eAAZ;;AAEA,WAAO,IAAP;AACH,CAlBD;;AAoBAjkI,QAAQ,SAAR,IAAqBojI,iBAArB;AACAnjI,OAAOD,OAAP,GAAiBA,QAAQ,SAAR,CAAjB,C;;;;;;;;;;;;AC/yBa;;AAEb,SAASsiI,sBAAT,CAAgC7nG,GAAhC,EAAqC;AAAE,WAAOA,OAAOA,IAAI94B,UAAX,GAAwB84B,GAAxB,GAA8B,EAAE,WAAWA,GAAb,EAArC;AAA0D;;AAEjG,IAAI8nG,OAAOC,mBAAOA,CAAC,oFAAR,CAAX;;AAEA,IAAIC,QAAQH,uBAAuBC,IAAvB,CAAZ;;AAEA,IAAIK,QAAQH,MAAM,SAAN,EAAiBnJ,IAAjB,CAAsB,OAAOn5H,MAAP,KAAkB,WAAlB,GAAgCA,MAAhC,GAAyC+I,SAA/D,CAAZ;AAAA,IACI25H,MAAMD,MAAM39F,GAAN,CAAUs8C,QADpB;AAAA,IAEIyhD,kBAAkBJ,MAAMK,kBAAN,EAFtB;AAAA,IAGIC,sBAAsBF,gBAAgBG,QAAhB,GAA2B,CAA3B,GAA+B,GAHzD;;AAKA,SAASkH,gBAAT,CAA0Bz1D,eAA1B,EAA2C4uD,aAA3C,EAA0D8G,aAA1D,EAAyE;AACrE,QAAIvoD,GAAJ;;AAEAuoD,oBAAgBA,gBAAgB,CAAhB,GAAoBA,aAApB,GAAoC,CAApD;AACAA,oBAAgBA,gBAAgB,EAAhB,GAAqBA,aAArB,GAAqC,EAArD;;AAEA,SAAKA,aAAL,GAAqBA,aAArB;AACA,SAAK58G,KAAL,GAAa,IAAb;AACA,SAAKC,IAAL,GAAY,IAAZ;AACA,SAAK48G,UAAL,GAAkB,EAAlB;AACA,SAAKtlI,MAAL,GAAc,CAAd;AACA,SAAKulI,QAAL,GAAgB51D,eAAhB;;AAEA,QAAI4uD,aAAJ,EAAmB;AACfzhD,cAAM8gD,IAAIrhD,eAAJ,CAAoB,4BAApB,EAAkD,KAAlD,CAAN;AACAO,YAAIuzB,cAAJ,CAAmB,4BAAnB,EAAiD,OAAjD,EAA0D,8BAA1D;AACAvzB,YAAIuzB,cAAJ,CAAmB,4BAAnB,EAAiD,QAAjD,EAA2D,GAA3D;AACAvzB,YAAIuzB,cAAJ,CAAmB,4BAAnB,EAAiD,OAAjD,EAA0D,GAA1D;AACA,aAAKm1B,OAAL,GAAe1oD,GAAf;AACA,aAAKyoD,QAAL,CAAc7oD,WAAd,CAA0BI,GAA1B;AACH;AACJ;;AAEDsoD,iBAAiBhoI,SAAjB,CAA2BjB,GAA3B,GAAiC,UAAUszC,KAAV,EAAiB;AAC9C,QAAIhY,IAAJ;AAAA,QACI56B,GADJ;AAAA,QAEI4oI,YAFJ;AAAA,QAGIH,aAAa,KAAKA,UAHtB;AAAA,QAII1mH,MAAM,KAAK5e,MAJf;AAAA,QAKIgV,MAAM,KAAKqwH,aALf;AAAA,QAMIK,SAAS,EANb;;AAQA,SAAK7oI,GAAL,IAAY8gI,MAAMgI,cAAlB,EAAkC;AAC9B,YAAIl2F,MAAM5yC,GAAN,MAAeoH,SAAnB,EAA8B;AAC1ByhI,sBAAU/H,MAAMgI,cAAN,CAAqB9oI,GAArB,IAA4B,GAA5B,GAAkC4yC,MAAM5yC,GAAN,CAAlC,GAA+C,GAAzD;AACH;AACJ;;AAED,QAAI,CAAC6oI,MAAL,EAAa;AACT,eAAO,KAAP;AACH;;AAED,QAAID,eAAeH,WAAWI,MAAX,CAAnB,EAAuC;AACnC,YAAI,KAAKj9G,KAAL,KAAeg9G,YAAnB,EAAiC;AAC7BA,yBAAaG,IAAb,KAAsBH,aAAaG,IAAb,CAAkB9/H,IAAlB,GAAyB2/H,aAAa3/H,IAA5D;AACA2/H,yBAAa3/H,IAAb,KAAsB2/H,aAAa3/H,IAAb,CAAkB8/H,IAAlB,GAAyBH,aAAaG,IAA5D;AACAH,yBAAa3/H,IAAb,GAAoB,KAAK2iB,KAAzB;AACAg9G,yBAAa3/H,IAAb,CAAkB8/H,IAAlB,GAAyBH,YAAzB;AACA,iBAAK/8G,IAAL,KAAc+8G,YAAd,KAA+B,KAAK/8G,IAAL,GAAY+8G,aAAaG,IAAxD;AACAH,yBAAaG,IAAb,GAAoB,IAApB;AACA,iBAAKn9G,KAAL,GAAag9G,YAAb;AACH;AACJ,KAVD,MAUO;AACH,YAAI7mH,OAAO5J,GAAX,EAAgB;AACZyiB,mBAAO7Y,MAAM5J,GAAN,GAAY,CAAnB;AACA;AACA,mBAAOyiB,MAAP,EAAe;AACX,qBAAKouG,eAAL,CAAqB,KAAKn9G,IAA1B;AACH;AACJ;AACD+8G,uBAAe,KAAKK,YAAL,CAAkBJ,MAAlB,CAAf;AACH;;AAED,WAAOD,YAAP;AACH,CAzCD;;AA2CAL,iBAAiBhoI,SAAjB,CAA2B0oI,YAA3B,GAA0C,UAAUJ,MAAV,EAAkB;AACxD,QAAIxrG,IAAJ,EAAUk0C,SAAV;;AAEA,SAAKk3D,UAAL,CAAgBI,MAAhB,IAA0Bt3D,YAAY;AAClCtoE,cAAM,IAD4B;AAElC8/H,cAAM,IAF4B;AAGlC1rG,cAAM,IAH4B;AAIlC8oG,uBAAe,CAJmB;AAKlChC,oBAAY,CALsB;AAMlCiC,kBAAU,CANwB;AAOlC8C,sBAAc,CAPoB;AAQlCL,gBAAQA,MAR0B;AASlC5E,mBAAW;AATuB,KAAtC;;AAYA;AACA;AACA1yD,cAAUtoE,IAAV,GAAiB,KAAK2iB,KAAtB;AACA2lD,cAAUtoE,IAAV,KAAmBsoE,UAAUtoE,IAAV,CAAe8/H,IAAf,GAAsBx3D,SAAzC;AACA,SAAK3lD,KAAL,GAAa2lD,SAAb;AACA,QAAI,CAAC,KAAK1lD,IAAV,EAAgB;AACZ,aAAKA,IAAL,GAAY0lD,SAAZ;AACH;AACD,SAAKpuE,MAAL,IAAe,CAAf;;AAEAk6B,WAAOk0C,UAAUl0C,IAAV,GAAiB0jG,IAAIh1D,aAAJ,CAAkB,KAAlB,CAAxB;AACA,SAAK28D,QAAL,CAAc7oD,WAAd,CAA0BxiD,IAA1B;;AAEA,QAAI6jG,gBAAgBe,IAAhB,IAAwB,CAACf,gBAAgBiI,MAA7C,EAAqD;AACjD9rG,aAAKuV,KAAL,CAAW+sC,YAAX,CAAwB,SAAxB,EAAmCkpD,MAAnC;AACH,KAFD,MAEO;AACHxrG,aAAKsiD,YAAL,CAAkB,OAAlB,EAA2BkpD,MAA3B;AACH;;AAEDxrG,SAAKsiD,YAAL,CAAkB,aAAlB,EAAiC,MAAjC;AACAtiD,SAAKsiD,YAAL,CAAkB,MAAlB,EAA0B,cAA1B;AACAtiD,SAAKuV,KAAL,CAAW6vC,OAAX,GAAqB,cAArB;;AAEAplD,SAAKw5E,SAAL,GAAiBiqB,MAAMiB,UAAvB,CAtCwD,CAsCrB;AACnCxwD,cAAU4yD,UAAV,GAAuB9mG,KAAKqqD,YAA5B;AACAnW,cAAU23D,YAAV,GAAyB7rG,KAAKsqD,WAAL,GAAmB,CAA5C;;AAEA,QAAIu5C,gBAAgBQ,aAApB,EAAmC;AAC/BrkG,eAAOk0C,UAAUoyD,OAAV,GAAoB5C,IAAIrhD,eAAJ,CAAoB,4BAApB,EAAkD,MAAlD,CAA3B;AACAriD,aAAKsiD,YAAL,CAAkB,OAAlB,EAA2BkpD,MAA3B;AACA,aAAKF,OAAL,CAAa9oD,WAAb,CAAyBxiD,IAAzB;;AAEAA,aAAKo+E,WAAL,GAAmBqlB,MAAMiB,UAAzB,CAL+B,CAKM;AACrCxwD,kBAAU4yD,UAAV,GAAuB9mG,KAAKo1C,OAAL,GAAe3nC,MAAtC;AACAymC,kBAAU23D,YAAV,GAAyB,CAAC7rG,KAAKo1C,OAAL,GAAe5nC,KAAf,GAAuBu2F,mBAAxB,IAA+C,CAAxE;;AAEA/jG,aAAKo+E,WAAL,GAAmB,KAAnB;AACAlqC,kBAAU40D,aAAV,GAA0B9oG,KAAKo1C,OAAL,GAAe5nC,KAAf,GAAuBu2F,mBAAjD;AACA/jG,aAAKo+E,WAAL,GAAmB,GAAnB;AACAlqC,kBAAU60D,QAAV,GAAqB/oG,KAAKo1C,OAAL,GAAe5nC,KAAf,GAAuBu2F,mBAA5C;AACH,KAbD,MAaO;AACH/jG,aAAKw5E,SAAL,GAAiB,KAAjB;AACAtlC,kBAAU40D,aAAV,GAA0B9oG,KAAKsqD,WAA/B;AACAtqD,aAAKw5E,SAAL,GAAiB,GAAjB;AACAtlC,kBAAU60D,QAAV,GAAqB/oG,KAAKsqD,WAA1B;AACAtqD,aAAKw5E,SAAL,GAAiB,EAAjB;AACH;;AAED,WAAOtlC,SAAP;AACH,CAhED;;AAkEAg3D,iBAAiBhoI,SAAjB,CAA2ByoI,eAA3B,GAA6C,UAAUI,IAAV,EAAgB;AACzD,QAAIP,SAASO,KAAKP,MAAlB;;AAEA,QAAI,CAACA,MAAD,IAAW,CAAC,KAAK1lI,MAAjB,IAA2B,CAACimI,IAAhC,EAAsC;AAClC;AACH;AACD,SAAKjmI,MAAL,IAAe,CAAf;;AAEAimI,SAAKL,IAAL,KAAcK,KAAKL,IAAL,CAAU9/H,IAAV,GAAiBmgI,KAAKngI,IAApC;AACAmgI,SAAKngI,IAAL,KAAcmgI,KAAKngI,IAAL,CAAU8/H,IAAV,GAAiBK,KAAKL,IAApC;AACA,SAAKn9G,KAAL,KAAew9G,IAAf,KAAwB,KAAKx9G,KAAL,GAAaw9G,KAAKngI,IAA1C;AACA,SAAK4iB,IAAL,KAAcu9G,IAAd,KAAuB,KAAKv9G,IAAL,GAAYu9G,KAAKL,IAAxC;;AAEAK,SAAK/rG,IAAL,CAAU0vD,UAAV,CAAqBj7D,WAArB,CAAiCs3G,KAAK/rG,IAAtC;;AAEA,WAAO,KAAKorG,UAAL,CAAgBI,MAAhB,CAAP;AACH,CAhBD;;AAkBAN,iBAAiBhoI,SAAjB,CAA2B4lB,OAA3B,GAAqC,YAAY;AAC7C,QAAInmB,GAAJ;AAAA,QACIyoI,aAAa,KAAKA,UADtB;;AAGA,SAAKD,aAAL,GAAqB,IAArB;AACA,SAAKxoI,GAAL,IAAYyoI,UAAZ,EAAwB;AACpB,aAAKO,eAAL,CAAqBP,WAAWzoI,GAAX,CAArB;AACH;;AAED,SAAK0oI,QAAL,CAAc37C,UAAd,CAAyBj7D,WAAzB,CAAqC,KAAK42G,QAA1C;;AAEA,SAAKA,QAAL,GAAgB,IAAhB;AACA,SAAK98G,KAAL,GAAa,IAAb;AACA,SAAKC,IAAL,GAAY,IAAZ;AACH,CAdD;;AAgBA1tB,OAAOD,OAAP,GAAiBqqI,gBAAjB,C;;;;;;;;;;;;ACnLa;;AAEbppI,OAAOC,cAAP,CAAsBlB,OAAtB,EAA+B,YAA/B,EAA6C;AAC5CwB,QAAO;AADqC,CAA7C;AAGA,IAAI2pI,MAAM;AACT7R,OAAM,SAASA,IAAT,CAAcr0F,GAAd,EAAmB;AACxB,MAAI49F,MAAM59F,IAAIs8C,QAAd;AAAA,MACI6pD,MAAMnmG,IAAIomG,SADd;AAAA,MAEIC,YAAYF,IAAIE,SAFpB;AAAA,MAGIC,MAAM,KAHV;AAAA,MAIIr1F,OAAOz4B,KAAKy4B,IAJhB;AAAA,MAKIllB,QAAQvT,KAAKuT,KALjB;AAAA,MAMIw6G,yBAAyB,CAN7B;AAAA,MAOIC,eAAe,0BAPnB;AAAA,MAQIC,iBAAiBD,eAAe,WARpC;AAAA,MASIpC,mBAAmBoC,eAAe,KATtC;AAAA,MAUInC,qBAAqBmC,eAAe,IAVxC;;AAYAN,QAAM;AACLlmG,QAAKA,GADA;;AAGLymG,mBAAgBA,cAHX;;AAKLrC,qBAAkBA,gBALb;;AAOLC,uBAAoBA,kBAPf;;AASL5F,yBAAsB,GATjB;;AAWLgG,iBAAc,IAAI/kI,MAAJ,CAAW,OAAO0kI,gBAAP,GAA0B,IAArC,CAXT;;AAaLQ,mBAAgB,IAAIllI,MAAJ,CAAW,OAAO2kI,kBAAP,GAA4B,IAAvC,CAbX;;AAeLH,qBAAkB,0CAfb;;AAiBLC,yBAAsB,oBAAoBC,gBAApB,GAAuC,aAjBxD;;AAmBLS,oBAAiB,IAAInlI,MAAJ,CAAW,oBAAoB0kI,gBAApB,GAAuC,iCAAlD,EAAqF,IAArF,CAnBZ;;AAqBLR,gBAAa,IAAIlkI,MAAJ,CAAW,kBAAX,EAA+B,GAA/B,CArBR;;AAuBLmkI,cAAW,YAvBN;;AAyBL6C,mBAAgB,UAzBX;;AA2BL9H,eAAY,KA3BP;;AA6BL;AACAG,yBAAsB;AACrBzhE,cAAU,UADW;AAErB76B,SAAK,SAFgB;AAGrBkkG,gBAAY,QAHS;AAIrBvpF,aAAS,KAJY;AAKrB1V,WAAO,KALc;AAMrBC,YAAQ,KANa;AAOrBi/F,cAAU;AAPW,IA9BjB;;AAwCL;AACAjB,mBAAgB;AACfkB,UAAM,MADS;AAEf7G,gBAAY,aAFG;AAGf,mBAAe,aAHA;AAIfC,gBAAY,aAJG;AAKf,mBAAe,aALA;AAMfF,cAAU,WANK;AAOf,iBAAa,WAPE;AAQfiB,gBAAY,aARG;AASf,mBAAe,aATA;AAUfd,eAAW,YAVI;AAWf,kBAAc;AAXC,IAzCX;;AAuDL;AACAlC,uBAAoB,SAASA,kBAAT,GAA8B;AACjD,QAAIsG,eAAJ,EAAqBC,mBAArB,EAA0CC,cAA1C;;AAEA,QAAI5G,IAAIkJ,sBAAR,EAAgC;AAC/BxC,uBAAkB,wBAAlB;AACAC,2BAAsBH,gBAAtB;AACAI,sBAAiB,IAAjB;AACA,KAJD,MAIO;AACNF,uBAAkB,sBAAlB;AACAC,2BAAsB,MAAtB;AACAC,sBAAiB,KAAjB;AACA;;AAED,WAAO;AACN1F,WAAM,QAAQn+H,IAAR,CAAa0lI,SAAb,KAA2B,CAACrmG,IAAI+mG,KADhC;AAENf,aAAQgB,QAAQhnG,IAAIinG,QAAJ,IAAgBrJ,IAAIsJ,cAAJ,CAAmBC,UAAnB,CAA8B,mDAA9B,EAAmF,KAAnF,CAAxB,CAFF;AAGNtI,iBAAY,IAAIn/H,MAAJ,CAAW,WAAX,EAAwBiB,IAAxB,CAA6B0lI,SAA7B,CAHN;AAINnI,eAAU,IAAIx+H,MAAJ,CAAW,eAAX,EAA4BiB,IAA5B,CAAiC0lI,SAAjC,CAJJ;AAKN/B,sBAAiBA,eALX;AAMNC,0BAAqBA,mBANf;AAONC,qBAAgBA;AAPV,KAAP;AASA,IA9EI;;AAgFL;;;;;;;AAOA7F,oBAAiB,SAASA,eAAT,CAAyByI,eAAzB,EAA0C;AAC1D,QAAIr4F,IAAJ,EAAUq/B,SAAV;;AAEA,QAAIg5D,oBAAoBA,gBAAgB5iD,WAAhB,IAA+B4iD,gBAAgB7iD,YAAnE,CAAJ,EAAsF;AACrF,SAAI6iD,gBAAgB1qD,WAApB,EAAiC;AAChC0qD,sBAAgB1qD,WAAhB,CAA4BtO,YAAYwvD,IAAIh1D,aAAJ,CAAkB09D,GAAlB,CAAxC;AACAl4D,gBAAUz/B,SAAV,GAAsB83F,cAAtB;AACAr4D,gBAAUoO,YAAV,CAAuB,aAAvB,EAAsC,MAAtC;AACApO,gBAAUoO,YAAV,CAAuB,MAAvB,EAA+B,cAA/B;AACA,aAAOpO,SAAP;AACA;AACD,KARD,MAQO;AACNr/B,YAAO6uF,IAAIyJ,oBAAJ,CAAyB,MAAzB,EAAiC,CAAjC,CAAP;;AAEA,SAAIt4F,QAAQA,KAAK2tC,WAAjB,EAA8B;AAC7BtO,kBAAYwvD,IAAIh1D,aAAJ,CAAkB09D,GAAlB,CAAZ;AACAl4D,gBAAUz/B,SAAV,GAAsB83F,cAAtB;AACAr4D,gBAAUoO,YAAV,CAAuB,aAAvB,EAAsC,MAAtC;AACApO,gBAAUoO,YAAV,CAAuB,MAAvB,EAA+B,cAA/B;AACA+pD,gCAA0B,CAA1B;AACAx3F,WAAK2tC,WAAL,CAAiBtO,SAAjB;AACA,aAAOA,SAAP;AACA;AACD;AACD,IA/GI;;AAiHL;AACA21D,yBAAsB,SAASA,oBAAT,CAA8BlkI,IAA9B,EAAoCw4C,QAApC,EAA8CivF,EAA9C,EAAkD;AACvE,QAAI,CAACznI,IAAD,IAAS,CAACA,KAAKG,MAAnB,EAA2B;AAC1B,YAAO,CAAP;AACA;;AAED,QAAImS,UAAJ;AAAA,QACIwvH,WAAW2F,GAAGjH,WAAH,EADf;AAAA,QAEIkH,UAAU,CAFd;AAAA,QAGIC,YAAY,CAHhB;AAAA,QAIIlG,WAAWK,SAAS9hI,IAAT,CAJf;AAAA,QAKI4nI,WAAWnG,WAAWzhI,KAAKG,MAL/B;;AAOAmS,iBAAakmC,QAAb;AACAkvF,cAAUt2F,KAAKoH,WAAWovF,QAAhB,CAAV;;AAEA,QAAInG,WAAWjpF,QAAf,EAAyB;AACxB,YAAOx4C,KAAKG,MAAL,GAAc,CAArB;AACA;;AAED,QAAIunI,UAAU1nI,KAAKG,MAAnB,EAA2B;AAC1BmS,kBAAakmC,WAAWipF,QAAxB;AACAiG,eAAU1nI,KAAKG,MAAf;AACA;;AAED,WAAOmS,aAAa,CAApB,EAAuB;AACtBA,kBAAakmC,WAAWspF,SAAS9hI,KAAKikI,MAAL,CAAY,CAAZ,EAAeyD,OAAf,CAAT,CAAxB;AACAC,iBAAYz7G,MAAM5Z,aAAas1H,QAAnB,CAAZ;AACA,SAAID,SAAJ,EAAe;AACdD,iBAAWC,SAAX;AACA,MAFD,MAEO;AACN,aAAOD,OAAP;AACA;AACD;;AAED,WAAOp1H,aAAa,CAApB,EAAuB;AACtBA,kBAAakmC,WAAWspF,SAAS9hI,KAAKikI,MAAL,CAAY,CAAZ,EAAeyD,OAAf,CAAT,CAAxB;AACAC,iBAAYz7G,MAAM5Z,aAAas1H,QAAnB,CAAZ;AACA,SAAID,SAAJ,EAAe;AACdD,iBAAWC,SAAX;AACA,MAFD,MAEO;AACN,aAAOD,OAAP;AACA;AACD;AACD,WAAOA,OAAP;AACA,IA9JI;;AAgKL;;;;;;;;AAQA3G,kBAAe,SAASA,aAAT,CAAuB8G,QAAvB,EAAiC;AAC/C,QAAIC,QAAQD,SAAS3H,QAAT,GAAoB2H,SAAS3H,QAAT,IAAqB,MAArD;AACA2H,aAAS1G,UAAT,GAAsB0G,SAAS1G,UAAT,IAAuB0G,SAAS,aAAT,CAAvB,IAAkDr3G,SAASs3G,KAAT,EAAgB,EAAhB,IAAsB,GAAtB,GAA4B,IAApG;AACA,WAAOD,QAAP;AACA;AA5KI,GAAN;;AA+KA,SAAOxB,GAAP;AACA;AA9LQ,CAAV;;AAiMAnrI,QAAQ,SAAR,IAAqBmrI,GAArB;AACAlrI,OAAOD,OAAP,GAAiBA,QAAQ,SAAR,CAAjB,C;;;;;;;;;;;;;;;;;;ACvMA;AACA;;;;;;;IAMM6sI,U;AACN;;;;AAII,wBAAe;AAAA;;AACX,SAAKxkF,GAAL,GAAWnsB,0DAAWA,EAAtB;AACH;AACD;;;;;;;;;;;;AAUA;;;;;;;yBAOMp6B,G,EAAKN,K,EAAO;AACd,WAAKM,GAAL,IAAYN,KAAZ;AACH;;AAED;;;;;;;;;6BAMU;AACN;AACH;;;wBAvBS;AACN,aAAO,KAAK6mD,GAAZ;AACH;;;;;;AAwBUwkF,yEAAf,E;;;;;;;;;;;;AC/CA;AAAA;AAAA;AAAA;AACA;;;;;;;AAOe,SAASC,UAAT,GAAgC;AAAA,MAAXllI,IAAW,uEAAJ,EAAI;;AAC3C,SAAO,IAAIitG,kDAAJ,CAAcjtG,IAAd,CAAP;AACH,C;;;;;;;;;;;;ACVD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;;ACDA;;;;;IAKMitG,S;AACF;;;;;AAKA,yBAAe;AAAA;;AACX,aAAK3yB,KAAL,GAAa,EAAb;AACA;AACA,aAAK6qD,MAAL,GAAc,EAAd;;AAEA,aAAKC,KAAL,GAAa,EAAb;AACA;AACA;AACA;AACA;AACA;AACA,aAAKC,UAAL,GAAkB,EAAlB;AACA;AACA,aAAKC,SAAL,GAAiB,EAAjB;AACH;AACD;;;;;;;;;;qCAMc;AAAA;;AACV,mBAAOjsI,OAAOyI,IAAP,CAAY,KAAKqjI,MAAjB,EAAyBnpI,GAAzB,CAA6B;AAAA,uBAAK,MAAKmpI,MAAL,CAAY3+H,CAAZ,CAAL;AAAA,aAA7B,CAAP;AACH;;AAED;;;;;;;;;;;6BAQM++H,O,EAASC,Q,EAAU;AAAA;;AACrB,gBAAIA,QAAJ,EAAc;AACV,qBAAKlrD,KAAL,GAAa,EAAb;AACA,qBAAKmrD,SAAL,GAAiBD,QAAjB;AACA,oBAAME,UAAU,EAAhB;;AAEAH,wBAAQ7oI,OAAR,CAAgB,YAAe;AAC3B,wBAAM4N,QAAQk7H,oCAAd;AACAE,4BAAQp7H,KAAR;AACH,iBAHD;AAIA;AACA,oBAAMq7H,YAAY,EAAlB;;AAEAtsI,uBAAOyI,IAAP,CAAY,KAAKqjI,MAAjB,EAAyBzoI,OAAzB,CAAiC,UAAC8vC,EAAD,EAAQ;AACrC,wBAAI,CAACk5F,QAAQl5F,EAAR,CAAL,EAAkB;AACdm5F,kCAAU/oI,IAAV,CAAe4vC,EAAf;AACH;AACJ,iBAJD;;AAMAnzC,uBAAOyI,IAAP,CAAY4jI,OAAZ,EAAqBhpI,OAArB,CAA6B,UAAC8vC,EAAD,EAAQ;AACjC,wBAAI,CAAC,OAAK24F,MAAL,CAAY34F,EAAZ,CAAL,EAAsB;AAClB,+BAAK64F,UAAL,CAAgBzoI,IAAhB,CAAqB8oI,QAAQl5F,EAAR,CAArB;AACH,qBAFD,MAEO;AACH,+BAAK24F,MAAL,CAAY34F,EAAZ,IAAkBk5F,QAAQl5F,EAAR,CAAlB;AACA,+BAAK8tC,KAAL,CAAW19E,IAAX,CAAgB8oI,QAAQl5F,EAAR,CAAhB;AACH;AACJ,iBAPD;AAQA;AACAm5F,0BAAUjpI,OAAV,CAAkB,UAAC8vC,EAAD,EAAQ;AACtB,wBAAMo5F,SAAS,OAAKT,MAAL,CAAY34F,EAAZ,CAAf;AACA,2BAAK84F,SAAL,CAAe1oI,IAAf,CAAoBgpI,MAApB;AACA;AACA,2BAAO,OAAKT,MAAL,CAAY34F,EAAZ,CAAP;AACH,iBALD;AAMA;;AAEA,uBAAO,IAAP;AACH;AACD;AACA,gBAAI+4F,QAAQloI,MAAR,GAAiB,KAAKi9E,KAAL,CAAWj9E,MAAhC,EAAwC;AACpC,oBAAMwoI,WAAW,KAAKvrD,KAAL,CAAWj9E,MAA5B;AACA,qBAAK,IAAIzE,IAAIitI,QAAb,EAAuBjtI,IAAI2sI,QAAQloI,MAAnC,EAA2CzE,KAAK,CAAhD,EAAmD;AAC/C,yBAAKysI,UAAL,CAAgBzoI,IAAhB,CAAqB2oI,QAAQ3sI,CAAR,CAArB;AACH;AACJ,aALD,MAKO;AACH;AACA,oBAAMs2C,OAAOq2F,QAAQloI,MAArB;AACA,qBAAK,IAAIzE,KAAIs2C,IAAb,EAAmBt2C,KAAI,KAAK0hF,KAAL,CAAWj9E,MAAlC,EAA0CzE,MAAK,CAA/C,EAAkD;AAC9C,wBAAMgtI,SAAS,KAAKtrD,KAAL,CAAW1hF,EAAX,CAAf;AACA,2BAAO,KAAKusI,MAAL,CAAYS,OAAOp5F,EAAnB,CAAP;AACA,yBAAK84F,SAAL,CAAe1oI,IAAf,CAAoBgpI,MAApB;AACH;AACD,qBAAKtrD,KAAL,GAAa,KAAKA,KAAL,CAAW38E,KAAX,CAAiBuxC,IAAjB,EAAuB,KAAKorC,KAAL,CAAWj9E,MAAlC,CAAb;AACH;AACD,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;;+BAQQ8O,Q,EAAU;AAAA;;AACd,uBAAS,KAAKi5H,KAAd,WAA2B1oI,OAA3B,CAAmC,YAAe;AAC9C,oBAAMsD,uDAAN;AACA,oBAAMwsC,KAAK,OAAKi5F,SAAL,GAAiB,OAAKA,SAAL,yBAAjB,GAA8CzlI,KAAKwsC,EAAL,sDAAzD;AACA,uBAAK24F,MAAL,CAAY34F,EAAZ,IAAkBrgC,oCAAlB;AACH,aAJD;AAKA,iBAAKi5H,KAAL,GAAa,EAAb;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;gCAOS;AACL,iBAAKA,KAAL,GAAa,OAAb;AACA,mBAAO,IAAP;AACA;AACH;;AAED;;;;;;;;;;;;6BASMlrI,G,EAAKN,K,EAAO;AACd,iBAAK0gF,KAAL,CAAW59E,OAAX,CAAmB;AAAA,uBAAQkF,KAAK+rC,IAAL,CAAUzzC,GAAV,EAAeN,KAAf,CAAR;AAAA,aAAnB;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;8BAOOsxE,S,EAAW;AAAA;;AACdA,sBAAUoP,KAAV,CAAgB59E,OAAhB,CAAwB,YAAe;AAAA,kDAAXgL,MAAW;AAAXA,0BAAW;AAAA;;AACnC,oBAAM8kC,KAAK,OAAKi5F,SAAL,GAAiB,OAAKA,SAAL,eAAkB/9H,MAAlB,CAAjB,GAA8CA,OAAO,CAAP,EAAU8kC,EAAV,IAAgB9kC,OAAO,CAAP,CAAzE;AACA,uBAAKy9H,MAAL,CAAY34F,EAAZ,IAAkB9kC,OAAO,CAAP,CAAlB;AACA,uBAAK4yE,KAAL,CAAW19E,IAAX,CAAgB8K,OAAO,CAAP,CAAhB;AACH,aAJD;AAKA;AACA,iBAAK29H,UAAL,GAAkB,EAAlB;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;+BAMQ;AACJ,iBAAKD,KAAL,GAAa,MAAb;AACA;AACA;AACA;AACA,mBAAO,IAAP;AACH;;;6BAEK34H,E,EAAI;AAAA;;AACNpT,mBAAOyI,IAAP,CAAY,KAAKqjI,MAAjB,EAAyBzoI,OAAzB,CAAiC,UAAC8J,CAAD,EAAO;AACpCiG,mBAAG,OAAK04H,MAAL,CAAY3+H,CAAZ,CAAH;AACH,aAFD;AAGA,mBAAO,IAAP;AACH;;;4BAEIiG,E,EAAI;AAAA;;AACLpT,mBAAOyI,IAAP,CAAY,KAAKqjI,MAAjB,EAAyBzoI,OAAzB,CAAiC,YAAe;AAAA,mDAAXgL,MAAW;AAAXA,0BAAW;AAAA;;AAC5C,uBAAKy9H,MAAL,CAAYz9H,OAAO,CAAP,CAAZ,IAAyB+E,qBAAG,OAAK04H,MAAL,CAAYz9H,OAAO,CAAP,CAAZ,CAAH,SAA8BA,MAA9B,EAAzB;AACH,aAFD;AAGA,mBAAO,IAAP;AACH;;AAED;;;;;;;;iCAKU;AACN;AACA,gBAAM1H,OAAO,WAAS,KAAKolI,KAAd,UAAb;;AAEAplI,iBAAKtD,OAAL,CAAa;AAAA,uBAAQkF,KAAKysC,MAAL,EAAR;AAAA,aAAb;AACA,gBAAI,KAAK+2F,KAAL,KAAe,EAAnB,EAAuB;AACnB,qBAAKl3F,IAAL,CAAU;AAAA,2BAAK1nC,EAAE6nC,MAAF,EAAL;AAAA,iBAAV;AACH;AACD,uBAAS,KAAK+2F,KAAd,aAA6B,EAA7B;AACA,iBAAKA,KAAL,GAAa,EAAb;AACH;;;;;;AAGUn4B,wEAAf,E;;;;;;;;;;;;AClNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AAMA;AA2BA;AACA;AACA;AAOA;AASA;AAKA;AACA;AACA;;AAEA,IAAM64B,cAAcvtI,OAAOutI,WAA3B;;AAEA,IAAMvpG,iBAAiB,SAAjBA,cAAiB,CAAC1J,GAAD,EAAS;AAC5B,QAAIp1B,cAAJ;AACA,QAAI,QAAOo1B,GAAP,yCAAOA,GAAP,OAAe,QAAnB,EAA6B;AACzB,YAAIA,QAAQ,IAAZ,EAAkB;AAAE,mBAAO,KAAP;AAAe;AACnCp1B,gBAAQpE,OAAOoB,SAAP,CAAiB6zB,QAAjB,CAA0Bx1B,IAA1B,CAA+B+5B,GAA/B,CAAR;AACA,YAAIp1B,UAAU,iBAAd,EAAiC;AAC7B,mBAAO,CAACo1B,IAAIpuB,WAAJ,CAAgB6pB,QAAhB,GAA2B/Z,KAA3B,CAAiC,qBAAjC,KAA2D,EAA5D,EAAgE,CAAhE,MAAuE,QAA9E;AACH;AACJ;AACD,WAAO,KAAP;AACH,CAVD;;AAYA;;;;AAIA,IACI+f,cAAc,SAAdA,WAAc;AAAA,mBAAY,IAAInf,IAAJ,GAAWD,OAAX,EAAZ,GAAmCW,KAAK8e,KAAL,CAAW9e,KAAK+e,MAAL,KAAgB,KAA3B,CAAnC;AAAA,CADlB;;AAGA;;;;;AAKA,IAAMrqB,QAAQ,SAARA,KAAQ,CAACnR,CAAD,EAAO;AACjB,QAAMquG,SAAS,EAAf;AACA,QAAI1tF,UAAJ;AACA,SAAK,IAAM7f,GAAX,IAAkBd,CAAlB,EAAqB;AACjB,YAAI,GAAGsB,cAAH,CAAkB5B,IAAlB,CAAuBM,CAAvB,EAA0Bc,GAA1B,CAAJ,EAAoC;AAChC6f,gBAAI3gB,EAAEc,GAAF,CAAJ;AACAutG,mBAAOvtG,GAAP,IAAcqiC,eAAexiB,CAAf,IAAoBxP,MAAMwP,CAAN,CAApB,GAA+BA,CAA7C;AACH;AACJ;AACD,WAAO0tF,MAAP;AACH,CAVD;;AAYA;;;;;;AAMA,IAAMs+B,iBAAiB,SAAjBA,cAAiB,CAACjkI,IAAD,EAAO+wB,GAAP,EAAe;AAClC,QAAMmzG,kBAAkB,EAAxB;AACAlkI,SAAKpF,OAAL,CAAa,UAACxC,GAAD,EAAS;AAClB,YAAIA,OAAO24B,GAAX,EAAgB;AACZ;AACH;AACDmzG,wBAAgBppI,IAAhB,CAAqB1C,GAArB;AACH,KALD;AAMA,WAAO8rI,eAAP;AACH,CATD;;AAWA,IAAM7hG,aAAa;AACfC,aAAS,iBAACtiC,IAAD,EAAO+wB,GAAP,EAAe;AACpB,YAAI,QAAOA,GAAP,yCAAOA,GAAP,OAAe,QAAnB,EAA6B;AACzB,mBAAOtyB,MAAM,+BAAN,CAAP;AACH;;AAED,YAAMylI,kBAAkBD,eAAejkI,IAAf,EAAqB+wB,GAArB,CAAxB;AACA,YAAImzG,gBAAgB3oI,MAApB,EAA4B;AACxB,mBAAOkD,uCAAqCylI,gBAAgB7pI,IAAhB,CAAqB,IAArB,CAArC,CAAP;AACH;AACD,eAAO02B,GAAP;AACH,KAXc;;AAaf,8BAA2BozG,UAAU,kBAACl/H,IAAD,EAAU;AAC3C,YAAI,EAAEA,gBAAgB++H,WAAlB,CAAJ,EAAoC;AAChC,mBAAOvlI,MAAM,sBAAN,CAAP;AACH;AACD,eAAOwG,IAAP;AACH;AAlBc,CAAnB;;AAqBA;;;;;;AAMA,IAAMm/H,SAAS,SAATA,MAAS,CAAClmI,IAAD,EAAOoB,KAAP;AAAA,WAAiByU,KAAKxD,GAAL,gCAAYrS,KAAK8a,MAAL,CAAY;AAAA,eAAK,CAAClG,MAAM3b,EAAEmI,KAAF,CAAN,CAAN;AAAA,KAAZ,EAAmCpF,GAAnC,CAAuC;AAAA,eAAK/C,EAAEmI,KAAF,CAAL;AAAA,KAAvC,CAAZ,EAAjB;AAAA,CAAf;;AAEA;;;;;;AAMA,IAAM+kI,SAAS,SAATA,MAAS,CAACnmI,IAAD,EAAOoB,KAAP;AAAA,WAAiByU,KAAK3D,GAAL,gCAAYlS,KAAK8a,MAAL,CAAY;AAAA,eAAK,CAAClG,MAAM3b,EAAEmI,KAAF,CAAN,CAAN;AAAA,KAAZ,EAAmCpF,GAAnC,CAAuC;AAAA,eAAK/C,EAAEmI,KAAF,CAAL;AAAA,KAAvC,CAAZ,EAAjB;AAAA,CAAf;;AAEA;;;;;;;;AAQA,IAAMglI,oBAAoB,SAApBA,iBAAoB,CAACpmI,IAAD,EAAO6B,MAAP,EAAe2uE,SAAf,EAA6B;AAAA;;AACnD,QAAI5+D,eAAJ;AACA,QAAIy0H,eAAJ;AACArmI,WAAOA,KAAK,CAAL,aAAmBW,KAAnB,GAA2BX,IAA3B,GAAkC,CAACA,IAAD,CAAzC;AACA,YAAQwwE,SAAR;AACA,aAAK9iE,0DAAgBA,CAACC,WAAtB;AACIiE,qBAAS,YAAG9T,MAAH,gCAAakC,KAAKhE,GAAL,CAAS;AAAA,uBAAO0E,IAAI1E,GAAJ,CAAQ;AAAA,2BAAK/C,EAAE4I,OAAO,CAAP,CAAF,CAAL;AAAA,iBAAR,EAA2BiZ,MAA3B,CAAkC;AAAA,2BAAK7hB,MAAMqI,SAAX;AAAA,iBAAlC,CAAP;AAAA,aAAT,CAAb,EAAT;AACA;AACJ;AACI+kI,qBAASrmI,KAAKhE,GAAL,CAAS,UAAC0E,GAAD,EAAS;AACvB,oBAAM4lI,WAAWH,OAAOzlI,GAAP,EAAYmB,OAAO,CAAP,CAAZ,CAAjB;AACA,oBAAM0kI,YAAYJ,OAAOzlI,GAAP,EAAYmB,OAAO,CAAP,CAAZ,CAAlB;AACA,oBAAM2kI,WAAWN,OAAOxlI,GAAP,EAAYmB,OAAO,CAAP,CAAZ,CAAjB;AACA,oBAAM4kI,YAAYP,OAAOxlI,GAAP,EAAYmB,OAAO,CAAP,CAAZ,CAAlB;AACA,uBAAO,CAACgU,KAAK3D,GAAL,CAASo0H,QAAT,EAAmBC,SAAnB,CAAD,EAAgC1wH,KAAKxD,GAAL,CAASm0H,QAAT,EAAmBC,SAAnB,CAAhC,CAAP;AACH,aANQ,CAAT;AAOA70H,qBAAS,CAACiE,KAAK3D,GAAL,gCAAYm0H,OAAOrqI,GAAP,CAAW;AAAA,uBAAK/C,EAAE,CAAF,CAAL;AAAA,aAAX,CAAZ,EAAD,EAAqC4c,KAAKxD,GAAL,gCAAYg0H,OAAOrqI,GAAP,CAAW;AAAA,uBAAK/C,EAAE,CAAF,CAAL;AAAA,aAAX,CAAZ,EAArC,CAAT;AACA;AAbJ;AAeA,WAAO2Y,MAAP;AACH,CApBD;;AAsBA;;;;;;AAMA,IAAM80H,cAAc,SAAdA,WAAc,CAACC,OAAD,EAAUn2D,SAAV,EAAwB;AACxC,QAAI5+D,eAAJ;AACA+0H,cAAUA,QAAQ7rH,MAAR,CAAe;AAAA,eAAOqmC,OAAOA,IAAI9jD,MAAlB;AAAA,KAAf,CAAV;AACA,QAAImzE,cAAc9iE,0DAAgBA,CAACC,WAAnC,EAAgD;AAAA;;AAC5CiE,iBAASA,SAAS,aAAG9T,MAAH,iCAAa6oI,OAAb,EAAlB;AACH,KAFD,MAEO;AACH/0H,iBAAS,CAACiE,KAAK3D,GAAL,gCAAYy0H,QAAQ3qI,GAAR,CAAY;AAAA,mBAAK/C,EAAE,CAAF,CAAL;AAAA,SAAZ,CAAZ,EAAD,EAAsC4c,KAAKxD,GAAL,gCAAYs0H,QAAQ3qI,GAAR,CAAY;AAAA,mBAAK/C,EAAE,CAAF,CAAL;AAAA,SAAZ,CAAZ,EAAtC,CAAT;AACH;;AAED,WAAO2Y,MAAP;AACH,CAVD;;AAYA,IAAMg1H,YAAY;AACdtlB,YAAQulB,qDADM;AAEdtlB,WAAOulB,oDAFO;AAGdtlB,aAASulB,sDAHK;AAIdtlB,YAAQulB,qDAJM;AAKdtlB,UAAMulB,mDALQ;AAMdrlB,SAAKslB,kDANS;AAOdvlB,cAAUwlB,uDAAcA;AAPV,CAAlB;;AAUA,IAAMC,UAAU;AACZC,WAAOC,iDADK;AAEZC,YAAQC,kDAFI;AAGZrnF,YAAQsnF,kDAHI;AAIZC,aAASC,mDAJG;AAKZC,UAAMC,gDALM;AAMZC,UAAMC,gDANM;AAOZzmB,YAAQ0mB,kDAAUA;AAPN,CAAhB;;AAUA;;;;;;;AAOA,IAAMC,kBAAkB,SAAlBA,eAAkB,CAACj9D,MAAD,EAASk9D,YAAT,EAAuBC,QAAvB,EAAoC;AACxD,QAAIC,qBAAJ;AACA,QAAIvwC,cAAJ;AACA,QAAM57E,MAAM+uD,OAAO3tE,MAAnB;AACA,QAAIgrI,cAAcF,aAAa,KAAb,GAAqB,CAACtiH,QAAtB,GAAiCA,QAAnD;AACA,QAAI1R,YAAJ;;AAEA,SAAK,IAAIvb,IAAI,CAAb,EAAgBA,IAAIqjB,GAApB,EAAyBrjB,GAAzB,EAA8B;AAC1Bi/F,gBAAQ7sB,OAAOpyE,CAAP,CAAR;AACAub,cAAM0jF,MAAMqwC,YAAN,CAAN;AACA,YAAIC,aAAa,KAAb,GAAqBh0H,MAAMk0H,WAA3B,GAAyCl0H,MAAMk0H,WAAnD,EAAgE;AAC5DA,0BAAcl0H,GAAd;AACAi0H,2BAAevwC,KAAf;AACH;AACJ;;AAED,WAAOuwC,YAAP;AACH,CAjBD;;AAmBA;;;;;;AAMA,IAAME,cAAc,SAAdA,WAAc,CAACt9D,MAAD,EAASk9D,YAAT;AAAA,WAA0BD,gBAAgBj9D,MAAhB,EAAwBk9D,YAAxB,EAAsC,KAAtC,CAA1B;AAAA,CAApB;;AAEA;;;;;;AAMA,IAAMK,cAAc,SAAdA,WAAc,CAACv9D,MAAD,EAASk9D,YAAT;AAAA,WAA0BD,gBAAgBj9D,MAAhB,EAAwBk9D,YAAxB,EAAsC,KAAtC,CAA1B;AAAA,CAApB;;AAEA;;;;;;;AAOA,0BAA0B,IAAMlpD,oBAAoB,SAApBA,iBAAoB,CAACt+E,GAAD,EAAM9G,KAAN,EAAa6sG,IAAb,EAAsB;AACtE,QAAIC,MAAM,CAAV;AACA,QAAMC,SAASjmG,IAAIrD,MAAnB;AACA,QAAIupG,OAAOD,SAAS,CAApB;;AAEA,QAAIr5F,YAAJ;AACA,QAAIu1F,WAAJ;AACA,QAAID,WAAJ;;AAEA,WAAO8D,MAAME,IAAb,EAAmB;AACft5F,cAAMuI,KAAKuT,KAAL,CAAW,CAACs9E,MAAME,IAAP,IAAe,CAA1B,CAAN;AACA/D,aAAKhtF,KAAKmf,GAAL,CAASt0B,IAAI4M,GAAJ,IAAW1T,KAApB,CAAL;AACAgpG,aAAK/sF,KAAKmf,GAAL,CAASt0B,IAAI4M,MAAM,CAAV,IAAe1T,KAAxB,CAAL;;AAEA,YAAIgpG,MAAMC,EAAV,EAAc;AACV6D,kBAAMp5F,MAAM,CAAZ;AACH,SAFD,MAEO;AACHs5F,mBAAOt5F,GAAP;AACH;AACJ;;AAED,QAAI,CAACm5F,IAAL,EAAW;AACP,eAAOG,IAAP;AACH;;AAED,QAAMC,UAAUnmG,IAAIkmG,IAAJ,CAAhB;AACA,QAAIC,YAAYjtG,KAAhB,EAAuB;AACnB,eAAOgtG,IAAP;AACH,KAFD,MAEO,IAAIC,UAAUjtG,KAAd,EAAqB;AACxB,YAAIgtG,SAAS,CAAb,EAAgB;AAAE,mBAAOA,IAAP;AAAc;AAChC,eAAOH,SAAS,MAAT,GAAkBG,OAAO,CAAzB,GAA6BA,IAApC;AACH;AACD,QAAIA,SAASlmG,IAAIrD,MAAJ,GAAa,CAA1B,EAA6B;AAAE,eAAOupG,IAAP;AAAc;AAC7C,WAAOH,SAAS,MAAT,GAAkBG,IAAlB,GAAyBA,OAAO,CAAvC;AACH,CAlCyB;;AAoC1B;;;;AAIA,IAAM4hC,YAAY,SAAZA,SAAY;AAAA,WAAMjwI,MAAN;AAAA,CAAlB;;AAEA;;;;AAIA,IAAM+kC,eAAgB;AAAA,WAAMC,qBAAN;AAAA,CAAD,EAArB;;AAEA,IAAMkrG,kBAAmB;AAAA,WAAMC,oBAAN;AAAA,CAAD,EAAxB;;AAEA;;;;;AAKA,IAAMC,kBAAkB,SAAlBA,eAAkB,CAACzrI,IAAD,EAAU;AAC9BA,WAAOA,KAAK0mB,WAAL,EAAP;;AAEA,WAAO1mB,KAAKU,OAAL,CAAa,QAAb,EAAuB;AAAA,eAAOgrI,IAAIr4E,MAAJ,CAAW,CAAX,EAAcC,WAAd,KAA8Bo4E,IAAIzH,MAAJ,CAAW,CAAX,CAArC;AAAA,KAAvB,CAAP;AACH,CAJD;;AAMA;;;;;AAKA,IAAMtsG,SAAS,SAATA,MAAS;AAAA,wCAAY,IAAIljB,GAAJ,CAAQjR,GAAR,CAAZ;AAAA,CAAf;;AAEA;;;;;;AAMA,0BAA2B,IAAM6zB,aAAa,SAAbA,UAAa,CAAC7zB,GAAD,EAAM4J,KAAN,EAAgB;AAC1D,QAAIwqB,aAAJ;AACA,QAAIC,mBAAJ;AACA,QAAIzqB,UAAUhJ,SAAd,EAAyB;AACrByzB,qBAAaF,OAAOn0B,IAAI1E,GAAJ,CAAQ;AAAA,mBAAK/C,EAAEqR,KAAF,CAAL;AAAA,SAAR,CAAP,CAAb;AACH,KAFD,MAEO;AACHyqB,qBAAaF,OAAOn0B,GAAP,CAAb;AACH;AACD,QAAIq0B,WAAW13B,MAAX,GAAoB,CAAxB,EAA2B;AACvBy3B,eAAOjf,KAAKmf,GAAL,CAASD,WAAW,CAAX,IAAgBA,WAAW,CAAX,CAAzB,CAAP;AACA,aAAK,IAAIn8B,IAAI,CAAR,EAAWqjB,MAAM8Y,WAAW13B,MAAjC,EAAyCzE,IAAIqjB,GAA7C,EAAkDrjB,GAAlD,EAAuD;AACnDk8B,mBAAOjf,KAAK3D,GAAL,CAAS4iB,IAAT,EAAejf,KAAKmf,GAAL,CAASD,WAAWn8B,CAAX,IAAgBm8B,WAAWn8B,IAAI,CAAf,CAAzB,CAAf,CAAP;AACH;AACJ,KALD,MAKO;AACHk8B,eAAOC,WAAW,CAAX,CAAP;AACH;;AAED,WAAOD,IAAP;AACH,CAlB0B;;AAoB3B;;;;;;;AAOA,0BAA0B,IAAM02C,wBAAwB,SAAxBA,qBAAwB,CAACq9D,GAAD,EAAMr8F,EAAN,EAAU06C,MAAV,EAAqB;AACzE2hD,UAAMA,IAAIjrI,OAAJ,CAAY,MAAZ,EAAoB,EAApB,CAAN;AACA,WAAO,CAAIspF,MAAJ,SAAc2hD,GAAd,EAAwB3hD,MAAxB,SAAkC2hD,GAAlC,SAAyCr8F,EAAzC,CAAP;AACH,CAHyB;;AAK1B;;;;;;;;;AASA,0BAA2B,IAAMs8F,eAAe,SAAfA,YAAe,CAAC12G,KAAD,EAAQx4B,KAAR,EAAkB;AAC9D,QAAI,OAAOw4B,KAAP,KAAiB,WAAjB,IAAiC,QAAOA,KAAP,yCAAOA,KAAP,OAAiB,QAAjB,IAA6B,CAACA,KAAnE,EAA2E;AACvE,eAAOx4B,KAAP;AACH;AACD,WAAOw4B,KAAP;AACH,CAL0B;;AAO3B;;;;;;;AAOA,IAAM22G,qBAAqB,SAArBA,kBAAqB,CAACzsG,KAAD,EAAW;AAClC,QAAM0sG,kBAAkB,EAAxB;AACA,QAAMC,UAAU,EAAhB;AACA,QAAMnnI,OAAOzI,OAAOyI,IAAP,CAAYw6B,KAAZ,CAAb;AACA;;;;;;;AAOA,QAAM4sG,QAAQ,SAARA,KAAQ,CAAChwI,IAAD,EAAU;AACpB,YAAI8vI,gBAAgB3rI,MAAhB,KAA2ByE,KAAKzE,MAApC,EAA4C;AACxC,mBAAO,IAAP;AACH;AACD4rI,gBAAQ/vI,IAAR,IAAgB,IAAhB;AACA,YAAM+8B,QAAQqG,MAAMpjC,IAAN,CAAd;AACA,aAAK,IAAIsN,IAAI,CAAb,EAAgBA,IAAIyvB,MAAM54B,MAA1B,EAAkCmJ,GAAlC,EAAuC;AACnC,gBAAM6wB,MAAMpB,MAAMzvB,CAAN,CAAZ;AACA,gBAAI,CAACyiI,QAAQ5xG,GAAR,CAAL,EAAmB;AACf6xG,sBAAM7xG,GAAN;AACH;AACJ;;AAED2xG,wBAAgBpsI,IAAhB,CAAqB1D,IAArB;AACA,eAAO,KAAP;AACH,KAfD;;AAiBA,SAAK,IAAIN,IAAI,CAAb,EAAgBA,IAAIkJ,KAAKzE,MAAzB,EAAiCzE,GAAjC,EAAsC;AAClC,YAAIswI,MAAMpnI,KAAKlJ,CAAL,CAAN,EAAeA,CAAf,CAAJ,EAAuB;AAC1B;;AAED,WAAOowI,eAAP;AACH,CAjCD;;AAmCA;;;;;;AAMA,IAAMG,iBAAiB,SAAjBA,cAAiB,CAACt2G,GAAD,EAAMpmB,EAAN,EAAa;AAChC,SAAK,IAAMvS,GAAX,IAAkB24B,GAAlB,EAAuB;AACnB,YAAIx5B,OAAOqB,cAAP,CAAsB5B,IAAtB,CAA2B+5B,GAA3B,EAAgC34B,GAAhC,CAAJ,EAA0C;AACtCuS,eAAGvS,GAAH,EAAQ24B,GAAR;AACH;AACJ;AACJ,CAND;;AAQA;;;;;AAKA;IAAiCu2G,O;AAC7B;;;;AAIA,qBAAappI,IAAb,EAAmB;AAAA;;AACf,aAAKqpI,QAAL,GAAgB5O,0DAAOA,GAAG/0G,CAAV,CAAY;AAAA,mBAAKzsB,EAAEysB,CAAP;AAAA,SAAZ,EAAsB+J,CAAtB,CAAwB;AAAA,mBAAKx2B,EAAEw2B,CAAP;AAAA,SAAxB,CAAhB;AACA,aAAKzvB,IAAL,CAAUA,IAAV;AACH;;AAED;;;;;;;;;6BAKMA,K,EAAM;AACR,gBAAIA,KAAJ,EAAU;AACN,qBAAKspI,UAAL,GAAkB,KAAKD,QAAL,CAAcrpI,KAAd,CAAlB;AACH;AACD,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;6BAOM0lB,C,EAAG+J,C,EAAGkrF,M,EAAQ;AAChB,mBAAO,KAAK2uB,UAAL,CAAgBz8H,IAAhB,CAAqB6Y,CAArB,EAAwB+J,CAAxB,EAA2BkrF,MAA3B,CAAP;AACH;;;;;;AAGL,IAAM4uB,yBAAyB,SAAzBA,sBAAyB,CAACC,YAAD,EAAe/8H,EAAf,EAAmBs8B,OAAnB,EAA+B;AAC1D,QAAI7uC,MAAMsvI,aAAatvI,GAAvB;AACA,QAAMyrE,YAAY6jE,aAAa7jE,SAA/B;AACA,QAAIA,SAAJ,EAAe;AACX,SAAC58B,QAAQ0gG,UAAR,CAAmB9jE,SAAnB,CAAD,KAAmC58B,QAAQ0gG,UAAR,CAAmB9jE,SAAnB,IAAgC,EAAnE;AACA,YAAI,CAACzrE,GAAL,EAAU;AACNA,kBAAMb,OAAOyI,IAAP,CAAYinC,QAAQ0gG,UAAR,CAAmB9jE,SAAnB,CAAZ,EAA2CtoE,MAAjD;AACH;AACD0rC,gBAAQ0gG,UAAR,CAAmB9jE,SAAnB,EAA8BzrE,GAA9B,IAAqCuS,EAArC;AACH,KAND,MAMO;AACHvS,cAAMb,OAAOyI,IAAP,CAAYinC,QAAQ0gG,UAApB,EAAgCpsI,MAAtC;AACA0rC,gBAAQ0gG,UAAR,CAAmBvvI,GAAnB,IAA0BuS,EAA1B;AACH;AACJ,CAbD;;AAeA;;;;;;;AAOA,IAAM+3D,aAAa,SAAbA,UAAa,CAAC3xC,GAAD,EAAoB;AAAA,sCAAXhxB,MAAW;AAAXA,cAAW;AAAA;;AACnC,QAAIgxB,QAAQvxB,SAAR,IAAqBuxB,QAAQ,IAAjC,EAAuC;AACnC,eAAOA,GAAP;AACH;AACD,QAAI/hB,SAAS+hB,GAAb;AACA,SAAK,IAAIj6B,IAAI,CAAR,EAAWqjB,MAAMpa,OAAOxE,MAA7B,EAAqCzE,IAAIqjB,GAAzC,EAA8CrjB,GAA9C,EAAmD;AAC/CkY,iBAASA,OAAOjP,OAAOjJ,CAAP,CAAP,CAAT;AACA,YAAIkY,WAAWxP,SAAX,IAAwBwP,WAAW,IAAvC,EAA6C;AACzC;AACH;AACJ;AACD,WAAOA,MAAP;AACH,CAZD;;AAcA;;;;AAIA;;;;;;IAKM44H,K;AACF;;;;;AAKA,mBAAaniI,MAAb,EAAqB;AAAA;;AACjB;AACA,aAAKyE,KAAL,GAAaivB,+CAAKA,CAAChhC,MAAN,CAAasN,MAAb,CAAb;AACA,aAAKkiI,UAAL,GAAkB,EAAlB;AACH;;AAED;;;;;;;;;;;oCAOa;AACT,mBAAO,KAAKz9H,KAAL,CAAW7D,SAAX,EAAP;AACH;;AAED;;;;;;;;;;+BAOQwhI,Q,EAAU/vI,K,EAAO;AACrB;AACA,iBAAKoS,KAAL,CAAWwtB,IAAX,CAAgBmwG,QAAhB,EAA0B/vI,KAA1B;AACH;;AAED;;;;;;;;AAQA;;;+CAAkDgwI,S,EAAWC,Q,EAAU/tG,W,EAAgC;AAAA,gBAAnB0tG,YAAmB,uEAAJ,EAAI;;AACnG,gBAAI9lI,QAAQkmI,SAAZ;AACA,gBAAI,CAACjpI,MAAMC,OAAN,CAAcgpI,SAAd,CAAL,EAA+B;AAC3BlmI,wBAAQ,CAACkmI,SAAD,CAAR;AACH;AACD,gBAAMn9H,KAAK,KAAKT,KAAL,CAAW7I,IAAX,CAAgBO,KAAhB,EAAuBmmI,QAAvB,EAAiC/tG,WAAjC,CAAX;AACAytG,mCAAuBC,YAAvB,EAAqC/8H,EAArC,EAAyC,IAAzC;AACA,mBAAO,IAAP;AACH;AACD;;;;;;;;AAQA;;;kDAAsDm9H,S,EAAWC,Q,EAAU/tG,W,EAAgC;AAAA,gBAAnB0tG,YAAmB,uEAAJ,EAAI;;AACvG,gBAAI9lI,QAAQkmI,SAAZ;AACA,gBAAI,CAACjpI,MAAMC,OAAN,CAAcgpI,SAAd,CAAL,EAA+B;AAC3BlmI,wBAAQ,CAACkmI,SAAD,CAAR;AACH;AACD,gBAAMn9H,KAAK,KAAKT,KAAL,CAAWC,EAAX,CAAcvI,KAAd,EAAqBmmI,QAArB,EAA+B/tG,WAA/B,CAAX;AACAytG,mCAAuBC,YAAvB,EAAqC/8H,EAArC,EAAyC,IAAzC;AACA,mBAAO,IAAP;AACH;AACD;;;;;;;;;;;4BAQKk9H,Q,EAAU;AACX,mBAAO,KAAK39H,KAAL,CAAWwtB,IAAX,CAAgBmwG,QAAhB,CAAP;AACH;;AAED;;;;;;;;;;;iCAQUA,Q,EAAUE,Q,EAAU;AAC1B,mBAAO,KAAK79H,KAAL,CAAWuvB,cAAX,CAA0BouG,QAA1B,EAAoCE,QAApC,CAAP;AACH;;;+BAEOF,Q,EAAU/vI,K,EAAO;AACrB,iBAAKoS,KAAL,CAAWkuB,MAAX,CAAkByvG,QAAlB,EAA4B/vI,KAA5B;AACA,mBAAO,IAAP;AACH;;;yCAEiB;AACdP,mBAAOygB,MAAP,CAAc,KAAK2vH,UAAnB,EAA+B/sI,OAA/B,CAAuC;AAAA,uBAAM+P,IAAN;AAAA,aAAvC;AACA,mBAAO,IAAP;AACH;;;sCAE+B;AAAA,gBAAnB+8H,YAAmB,uEAAJ,EAAI;AAAA,gBACpB7jE,SADoB,GACD6jE,YADC,CACpB7jE,SADoB;AAAA,gBACTzrE,GADS,GACDsvI,YADC,CACTtvI,GADS;;AAE5B,gBAAMg8B,YAAY,KAAKuzG,UAAL,CAAgB9jE,SAAhB,CAAlB;AACA,gBAAIzrE,GAAJ,EAAS;AACL,oBAAMuS,KAAK+3D,WAAWtuC,SAAX,EAAsBh8B,GAAtB,CAAX;AACAuS,sBAAMA,IAAN;AACH,aAHD,MAGO;AACHpT,uBAAOygB,MAAP,CAAcoc,SAAd,EAAyBx5B,OAAzB,CAAiC;AAAA,2BAAM+P,IAAN;AAAA,iBAAjC;AACA,qBAAKg9H,UAAL,CAAgB9jE,SAAhB,IAA6B,EAA7B;AACH;AACD,mBAAO,IAAP;AACH;;;;;;AAGL;;;;;;;;AAMA,IAAMmkE,eAAe,SAAfA,YAAe,CAAC31H,GAAD,EAAS;AAC1B,QAAMzT,MAAMyT,IAAIma,QAAJ,GAAe/Z,KAAf,CAAqB,aAArB,CAAZ;AACA,QAAI,CAAC7T,GAAL,EAAU;AACN;AACA,eAAO,IAAP;AACH;;AAED,WAAOgtB,SAAShtB,IAAI,CAAJ,CAAT,EAAiB,EAAjB,CAAP;AACH,CARD;;AAUA;;;;;;;;;;;;;;;;;;;AAmBA,IAAMqpI,aAAa,SAAbA,UAAa,CAACC,MAAD,EAAS/pI,OAAT,EAAkB+L,KAAlB,EAA+C;AAAA,QAAtBw9H,YAAsB,uEAAP,EAAO;;AAC9D,QAAIhoD,aAAJ;AACA,QAAMl1D,QAAQtgB,SAASA,iBAAiBivB,+CAA1B,GAAkCjvB,KAAlC,GAA0CivB,+CAAKA,CAAChhC,MAAN,CAAa,EAAb,CAAxD;;AAEA,SAAK,IAAMu/B,IAAX,IAAmBv5B,OAAnB,EAA4B;AACxB,YAAI,GAAGvF,cAAH,CAAkB5B,IAAlB,CAAuBmH,OAAvB,EAAgCu5B,IAAhC,CAAJ,EAA2C;AACvCgoD,mBAAOvhF,QAAQu5B,IAAR,CAAP;AACA,gBAAIywG,sBAAJ;AACA,gBAAItkE,YAAY6jE,aAAa7jE,SAA7B;AACA,gBAAMukE,eAAeV,aAAaU,YAAb,KAA8B5oI,SAA9B,GAA0CkoI,aAAaU,YAAvD,GAAsE1wG,IAA3F;AACA,gBAAImsC,SAAJ,EAAe;AACX,oBAAI6jE,aAAaU,YAAb,KAA8B5oI,SAAlC,EAA6C;AACzCqkE,gCAAeA,SAAf,SAA4BnsC,IAA5B;AACAywG,oCAAmBtkE,SAAnB,SAAgCukE,YAAhC;AACH,iBAHD,MAGO;AACHD,oCAAmBtkE,SAAnB,SAAgCnsC,IAAhC;AACH;AACJ,aAPD,MAOO;AACHywG,gCAAgBzwG,IAAhB;AACH;AACD,gBAAI,CAAClN,MAAMkN,IAAN,MAAcywG,aAAd,CAAL,EAAqC;AACjC,oBAAItkE,SAAJ,EAAe;AACXr5C,0BAAM4N,MAAN,CAAayrC,SAAb,sBACKukE,YADL,EACoB1oD,KAAK5nF,KADzB;AAGH,iBAJD,MAIO;AACH0yB,0BAAM4N,MAAN,qBAAgB+vG,aAAhB,EAAgCzoD,KAAK5nF,KAArC;AACH;AACJ;AACDowI,mBAAOxwG,IAAP,IAAgB,UAACuP,OAAD,EAAUlwB,IAAV,EAAgBsxH,MAAhB;AAAA,uBAA2B,YAAe;AAAA,uDAAXziI,MAAW;AAAXA,8BAAW;AAAA;;AACtD,wBAAIyM,YAAJ;AACA,wBAAIi2H,kBAAJ;AACA,wBAAMC,YAAY3iI,OAAOrK,MAAzB;AACA,wBAAMitI,UAAUh+G,MAAMkN,IAAN,CAAW2wG,MAAX,CAAhB;AACA,wBAAIE,SAAJ,EAAe;AACX;AACA,4BAAME,eAAe1xH,QAAQA,KAAK0xH,YAAlC;AACAp2H,8BAAMzM,MAAN;AACA,4BAAMoS,SAAS,EAAf;AACA,4BAAIjB,IAAJ,EAAU;AACN,iCAAK,IAAIjgB,IAAI,CAAb,EAAgBA,IAAIyxI,SAApB,EAA+BzxI,GAA/B,EAAoC;AAChCub,sCAAMzM,OAAO9O,CAAP,CAAN;AACA,oCAAMw8C,eAAev8B,KAAKu8B,YAAL,KAAsBm1F,eAAe1xH,KAAKu8B,YAAL,CAAkBx8C,CAAlB,CAAf,GACvCigB,KAAKu8B,YADY,CAArB;AAEA,oCAAMo1F,YAAY3xH,KAAK2xH,SAAL,KAAmBD,eAAe1xH,KAAK2xH,SAAL,CAAe5xI,CAAf,CAAf,GAAmCigB,KAAK2xH,SAA3D,CAAlB;AACA,oCAAIp1F,gBAAgB,OAAOA,YAAP,KAAwB,UAA5C,EAAwD;AACpD;AACAjhC,0CAAMihC,aAAajhC,GAAb,EAAkBm2H,OAAlB,EAA2BN,MAA3B,CAAN;AACH;;AAED,oCAAIQ,SAAJ,EAAe;AACX;AACA,wCAAI,OAAOA,SAAP,KAAqB,UAAzB,EAAqC;AACjC,4CAAIC,eAAe5xH,KAAK4xH,YAAxB;AACA,4CAAIA,gBAAgBF,YAApB,EAAkC;AAC9BE,2DAAeA,aAAa7xI,CAAb,CAAf;AACH;AACD,4CAAI6xI,YAAJ,EAAkB;AACdL,wDAAYK,YAAZ;AACH,yCAFD,MAEO;AACHL,wDAAY,IAAZ;AACH;;AAED,4CAAII,UAAUr2H,GAAV,MAAmBi2H,SAAvB,EAAkC;AAC9BtwH,mDAAOld,IAAP,CAAYuX,GAAZ;AACH;AACJ,qCAdD,MAcO,IAAI,OAAOq2H,SAAP,KAAqB,QAAzB,EAAmC;AACtC,4CAAIA,cAAc,aAAlB,EAAiC;AAC7B,gDAAMC,gBAAeF,eAAe1xH,KAAK4xH,YAAL,CAAkB7xI,CAAlB,CAAf,GAAsCigB,KAAK4xH,YAAhE;AACA,gDAAIt2H,OAAQA,IAAI1P,WAAJ,CAAgBvL,IAAhB,KAAyBuxI,aAArC,EAAoD;AAChD3wH,uDAAOld,IAAP,CAAYuX,GAAZ;AACH;AACJ;AACJ,qCAPM,MAOA;AACH;AACA2F,+CAAOld,IAAP,CAAYuX,GAAZ;AACH;AACJ,iCA3BD,MA2BO;AACH2F,2CAAOld,IAAP,CAAYuX,GAAZ;AACH;AACJ;AACD,gCAAMu2H,SAAS7xH,KAAK6xH,MAApB;AACA,gCAAMC,YAAY5hG,QAAQvP,IAAR,CAAa2wG,MAAb,CAAlB;AACAO,sCAAUA,OAAO5wH,OAAO,CAAP,CAAP,EAAkBkwH,MAAlB,CAAV;AACA,gCAAIO,YAAJ,EAAkB;AACdI,0CAAUjuI,OAAV,CAAkB,UAAC9C,KAAD,EAAQhB,CAAR,EAAc;AAC5B,wCAAIkhB,OAAOlhB,CAAP,MAAc0I,SAAlB,EAA6B;AACzBwY,+CAAOlhB,CAAP,IAAYgB,KAAZ;AACH;AACJ,iCAJD;AAKH;AACDkgB,mCAAOzc,MAAP,IAAiB0rC,QAAQvP,IAAR,CAAa2wG,MAAb,EAAqBI,eAAezwH,MAAf,GAAwBA,OAAO,CAAP,CAA7C,CAAjB;AACH,yBArDD,MAqDO;AACHivB,oCAAQvP,IAAR,CAAa2wG,MAAb,EAAqBI,eAAep2H,GAAf,GAAqBA,IAAI,CAAJ,CAA1C;AACH;AACD,+BAAO61H,MAAP;AACH;AACL;AACI,2BAAOjhG,QAAQvP,IAAR,CAAa2wG,MAAb,CAAP;AACH,iBAtEe;AAAA,aAAD,CAsEZ79G,KAtEY,EAsELk1D,KAAK3oE,IAtEA,EAsEMoxH,aAtEN,CAAf;AAuEH;AACJ;;AAED,WAAO,CAACD,MAAD,EAAS19G,KAAT,CAAP;AACH,CAxGD;;AA0GA;;;;;;AAMA,IAAM4pB,wBAAwB,SAAxBA,qBAAwB,CAACnN,OAAD,EAAUrlC,KAAV,EAAoB;AAC9CrK,WAAOwtB,OAAP,CAAenjB,KAAf,EAAsBhH,OAAtB,CAA8B,UAACkuI,QAAD,EAAc;AACxC,YAAMpxG,OAAOoxG,SAAS,CAAT,CAAb;AACA,YAAMC,cAAcD,SAAS,CAAT,EAAYC,WAAhC;AACA,YAAMt9G,SAASq9G,SAAS,CAAT,EAAY9B,YAA3B;AACA,YAAM1zF,eAAew1F,SAAS,CAAT,EAAYx1F,YAAjC;AACA,YAAM36C,YAAYsuC,QAAQtkC,WAAR,CAAoBhK,SAAtC;AACA,YAAI,CAAEpB,OAAOqB,cAAP,CAAsB5B,IAAtB,CAA2B2B,SAA3B,EAAsC++B,IAAtC,CAAN,EAAoD;AAChD,gBAAIjM,MAAJ,EAAY;AACRwb,8BAAYvP,IAAZ,IAAsBjM,MAAtB;AACH;AACDwb,oBAAQvP,IAAR,IAAgB,YAAe;AAC3B,oBAAI,UAAOn8B,MAAX,EAAmB;AACf,wBAAIzD,wDAAJ;AACA,wBAAIw7C,YAAJ,EAAkB;AACdx7C,gCAAQw7C,aAAarM,OAAb,mDAAR;AACH;AACD,wBAAI8hG,eAAe,CAACA,YAAYjxI,KAAZ,CAApB,EAAwC;AACpC,+BAAOmvC,cAAYvP,IAAZ,CAAP;AACH;AACDuP,kCAAYvP,IAAZ,IAAsB5/B,KAAtB;AACA,2BAAOmvC,OAAP;AACH,iBAAC,OAAOA,cAAYvP,IAAZ,CAAP;AACL,aAZD;AAaH;AACJ,KAxBD;AAyBH,CA1BD;;AA4BA;;;;;;AAMA,IAAMsxG,cAAc,SAAdA,WAAc,CAACpqI,GAAD,EAAM84B,IAAN;AAAA,WAAe94B,IAAIiG,MAAJ,CAAW,UAAC0nH,KAAD,EAAQtnH,IAAR,EAAiB;AAC3DsnH,iBAAS70F,OAAOzyB,KAAKyyB,IAAL,CAAP,GAAoBzyB,IAA7B;AACA,eAAOsnH,KAAP;AACH,KAHkC,EAGhC,CAHgC,CAAf;AAAA,CAApB;;AAKA;;;;;;;AAOA,IAAM0c,cAAc,SAAdA,WAAc,CAAC91G,IAAD,EAAOp0B,IAAP,EAAgB;AAChC,QAAIo0B,KAAK53B,MAAL,KAAgBwD,KAAKxD,MAAzB,EAAiC;AAAE,eAAO,KAAP;AAAe;AAClD,SAAK,IAAIzE,IAAIq8B,KAAK53B,MAAlB,EAA0BzE,KAAK,CAA/B,EAAkCA,GAAlC,EAAuC;AACnC,YAAIq8B,KAAKr8B,CAAL,MAAYiI,KAAKjI,CAAL,CAAhB,EAAyB;AAAE,mBAAO,KAAP;AAAe;AAC7C;;AAED,WAAO,IAAP;AACH,CAPD;;AASA;AACA;;;;;;AAMA,IAAMoyI,UAAU,SAAVA,OAAU;AAAA,WAAQ,UAACC,MAAD,EAASC,MAAT,EAAoB;AACxC,YAAI9iI,SAAS,OAAb,EAAsB;AAClB,gBAAI,CAAC6iI,MAAL,EAAa;AACT,uBAAO,KAAP;AACH;AACD,mBAAOF,YAAYE,MAAZ,EAAoBC,MAApB,CAAP;AACH,SALD,MAKO,IAAI9iI,SAAS,QAAb,EAAuB;AAC1B,mBAAO/O,OAAO8xI,EAAP,CAAUF,MAAV,EAAkBC,MAAlB,CAAP;AACH,SAAC,OAAOD,WAAWC,MAAlB;AACL,KATe;AAAA,CAAhB;;AAWA;;;;;;;;AAQA,IAAME,2BAA2B,SAA3BA,wBAA2B,CAACC,gBAAD,EAAmBC,mBAAnB,EAAwCC,gBAAxC;AAAA,WAC7BA,iBAAiB7uI,OAAjB,CAAyB;AAAA,eAAQ2uI,iBAAiBp/H,EAAjB,CAAoBrK,IAApB,EAA0B;AAAA;AAAA,gBAAIspI,MAAJ;;AAAA,mBAAgBI,oBAAoB1pI,IAApB,EAA0BspI,MAA1B,CAAhB;AAAA,SAA1B,CAAR;AAAA,KAAzB,CAD6B;AAAA,CAAjC;;AAGA;;;;;AAKA,IAAMM,aAAa,SAAbA,UAAa;AAAA,WAAQzkI,gBAAgB++H,WAAxB;AAAA,CAAnB;;AAEA,IAAM1vF,YAAY;AACdC,oBAAgB;AADF,CAAlB;;AAIA;;;;;;AAMA,IAAMnS,iBAAiB,SAAjBA,cAAiB,CAAC3Z,MAAD,EAASkhH,IAAT,EAAkB;AACrC,SAAK,IAAMjyG,IAAX,IAAmBiyG,IAAnB,EAAyB;AACrB,YAAIlvG,eAAehS,OAAOiP,IAAP,CAAf,KAAgC+C,eAAekvG,KAAKjyG,IAAL,CAAf,CAApC,EAAgE;AAC5D0K,2BAAe3Z,OAAOiP,IAAP,CAAf,EAA6BiyG,KAAKjyG,IAAL,CAA7B;AACH,SAFD,MAEO,IAAIiyG,KAAKjyG,IAAL,aAAsBngC,MAAtB,IAAgCoyI,KAAKjyG,IAAL,EAAW/0B,WAAX,KAA2BpL,MAA/D,EAAuE;AAC1EkxB,mBAAOiP,IAAP,IAAe,EAAf;AACA0K,2BAAe3Z,OAAOiP,IAAP,CAAf,EAA6BiyG,KAAKjyG,IAAL,CAA7B;AACH,SAHM,MAGA;AACHjP,mBAAOiP,IAAP,IAAeiyG,KAAKjyG,IAAL,CAAf;AACH;AACJ;AACD,WAAOjP,MAAP;AACH,CAZD;;AAcA,IAAMmhH,mBAAmB,SAAnBA,gBAAmB,CAAC1rI,IAAD,EAAO2rI,QAAP,EAAoB;AACzC,QAAMC,oBAAoB,SAApBA,iBAAoB,CAAU34B,MAAV,EAAkBknB,KAAlB,EAAyB0R,OAAzB,EAAkC;AACxD,eAAO54B,SAAS,CAACknB,QAAQlnB,MAAT,IAAmB44B,OAAnC;AACH,KAFD;AAGA,QAAMtG,UAAU,EAAhB;AACA,QAAMuG,eAAgB,CAAC9rI,KAAK3C,MAAL,GAAc,CAAf,KAAqBsuI,WAAW,CAAhC,CAAtB;AACApG,YAAQ,CAAR,IAAavlI,KAAK,CAAL,CAAb,CANyC,CAMnB;AACtB,SAAK,IAAIpH,IAAI,CAAb,EAAgBA,IAAI+yI,WAAW,CAA/B,EAAkC/yI,GAAlC,EAAuC;AACnC,YAAMmzI,MAAMnzI,IAAIkzI,YAAhB;AACA,YAAM74B,SAAUp9F,KAAKuT,KAAL,CAAW2iH,GAAX,CAAD,CAAkBx9D,OAAlB,EAAf;AACA,YAAM4rD,QAAStkH,KAAKy4B,IAAL,CAAUy9F,GAAV,CAAD,CAAiBx9D,OAAjB,EAAd;AACA,YAAMs9D,UAAUE,MAAM94B,MAAtB;AACAsyB,gBAAQ3sI,CAAR,IAAagzI,kBAAkB5rI,KAAKizG,MAAL,CAAlB,EAAgCjzG,KAAKm6H,KAAL,CAAhC,EAA6C0R,OAA7C,CAAb;AACH;AACDtG,YAAQoG,WAAW,CAAnB,IAAwB3rI,KAAKA,KAAK3C,MAAL,GAAc,CAAnB,CAAxB,CAdyC,CAcM;AAC/C,WAAOkoI,OAAP;AACH,CAhBD;;AAkBA;;;;;AAKA,IAAMpvG,YAAY,SAAZA,SAAY,CAAC1pB,EAAD,EAAQ;AACtBmxB,eAAW,YAAM;AACbnxB;AACH,KAFD,EAEG,CAFH;AAGH,CAJD;;AAMA;;;;;AAKA,IAAM2rC,gBAAgB,SAAhBA,aAAgB;AAAA,WAAS6F,QAAQpoC,KAAKqoC,EAAb,GAAkB,GAA3B;AAAA,CAAtB;;AAEA;;;;;;AAMA,IAAM8tF,mBAAmB,SAAnBA,gBAAmB,GAAM;AAC3B;AACH,CAFD;;AAIA;;;;AAIA,IAAMxvF,eAAe,SAAfA,YAAe;AAAA,WAAMuiD,0DAAN;AAAA,CAArB;;AAEA;;;;AAIA,IAAMpwC,qBAAqB,SAArBA,kBAAqB;AAAA,WAAMukE,gEAAN;AAAA,CAA3B;;AAEA;;;;AAIA,IAAM+Y,oBAAoB,SAApBA,iBAAoB;AAAA,WAAM9Y,6DAAN;AAAA,CAA1B;;AAEA;;;;AAIA,IAAMlkE,kBAAkB,SAAlBA,eAAkB;AAAA,WAAMi9E,iEAAN;AAAA,CAAxB;;AAEA,IAAMC,kBAAkB,SAAlBA,eAAkB;AAAA,WAAO;AAC3Bv/F,6DAD2B;AAE3BiZ,yDAF2B;AAG3BitC,yDAAGA;AAHwB,KAAP;AAAA,CAAxB;;AAMA;;;;AAIA,IAAM9jC,wBAAwB,SAAxBA,qBAAwB;AAAA,WAAM8vC,wDAAN;AAAA,CAA9B;;AAEA,SAASstC,OAAT,CAAkBzxI,CAAlB,EAAqBslG,CAArB,EAAwBpmG,CAAxB,EAA2B;AACvB,QAAIA,IAAI,CAAR,EAAWA,KAAK,CAAL;AACX,QAAIA,IAAI,CAAR,EAAWA,KAAK,CAAL;AACX,QAAIA,IAAI,IAAI,CAAZ,EAAe,OAAOc,IAAI,CAACslG,IAAItlG,CAAL,IAAU,CAAV,GAAcd,CAAzB;AACf,QAAIA,IAAI,IAAI,CAAZ,EAAe,OAAOomG,CAAP;AACf,QAAIpmG,IAAI,IAAI,CAAZ,EAAe,OAAOc,IAAI,CAACslG,IAAItlG,CAAL,KAAW,IAAI,CAAJ,GAAQd,CAAnB,IAAwB,CAAnC;AACf,WAAOc,CAAP;AACH;;AAEC;;;;;;;;;;;AAWF,IAAM0xI,WAAW,SAAXA,QAAW,CAAClnF,CAAD,EAAIvqD,CAAJ,EAAO/B,CAAP,EAAoB;AAAA,QAAVwmB,CAAU,uEAAN,CAAM;;AACjC,QAAI5lB,UAAJ;AACA,QAAI+4F,UAAJ;AACA,QAAIlzE,UAAJ;;AAEA,QAAI1kB,MAAM,CAAV,EAAa;AACTnB,YAAI+4F,IAAIlzE,IAAIzmB,CAAZ,CADS,CACM;AAClB,KAFD,MAEO;AACH,YAAMonG,IAAIpnG,IAAI,GAAJ,GAAUA,KAAK,IAAI+B,CAAT,CAAV,GAAwB/B,IAAI+B,CAAJ,GAAQ/B,IAAI+B,CAA9C;AACA,YAAMD,IAAI,IAAI9B,CAAJ,GAAQonG,CAAlB;;AAEAxmG,YAAI2yI,QAAQzxI,CAAR,EAAWslG,CAAX,EAAc96C,IAAI,IAAI,CAAtB,CAAJ;AACAqtC,YAAI45C,QAAQzxI,CAAR,EAAWslG,CAAX,EAAc96C,CAAd,CAAJ;AACA7lC,YAAI8sH,QAAQzxI,CAAR,EAAWslG,CAAX,EAAc96C,IAAI,IAAI,CAAtB,CAAJ;AACH;;AAED,WAAO,CAAC1rD,IAAI,GAAL,EAAU+4F,IAAI,GAAd,EAAmBlzE,IAAI,GAAvB,EAA4BD,CAA5B,CAAP;AACH,CAjBD;;AAmBE;;;;;;;;;;;AAWF,IAAMwlC,WAAW,SAAXA,QAAW,CAACprD,CAAD,EAAI+4F,CAAJ,EAAOlzE,CAAP,EAAoB;AAAA,QAAVD,CAAU,uEAAN,CAAM;;AACjC5lB,QAAI,CAACA,CAAL,CAAQ+4F,IAAI,CAACA,CAAL,CAAQlzE,IAAI,CAACA,CAAL,CAAQD,IAAI,CAACA,CAAL;AACxB5lB,SAAK,GAAL,CAAU+4F,KAAK,GAAL,CAAUlzE,KAAK,GAAL;AACpB,QAAMjN,MAAMwD,KAAKxD,GAAL,CAAS5Y,CAAT,EAAY+4F,CAAZ,EAAelzE,CAAf,CAAZ;AACA,QAAMpN,MAAM2D,KAAK3D,GAAL,CAASzY,CAAT,EAAY+4F,CAAZ,EAAelzE,CAAf,CAAZ;AACA,QAAI6lC,UAAJ;AACA,QAAIvqD,UAAJ;AACA,QAAM/B,IAAI,CAACwZ,MAAMH,GAAP,IAAc,CAAxB;;AAEA,QAAIG,QAAQH,GAAZ,EAAiB;AACbizC,YAAIvqD,IAAI,CAAR,CADa,CACF;AACd,KAFD,MAEO;AACH,YAAM3B,IAAIoZ,MAAMH,GAAhB;AACAtX,YAAI/B,IAAI,GAAJ,GAAUI,KAAK,IAAIoZ,GAAJ,GAAUH,GAAf,CAAV,GAAgCjZ,KAAKoZ,MAAMH,GAAX,CAApC;AACA,gBAAQG,GAAR;AACA,iBAAK5Y,CAAL;AAAQ0rD,oBAAI,CAACqtC,IAAIlzE,CAAL,IAAUrmB,CAAV,IAAeu5F,IAAIlzE,CAAJ,GAAQ,CAAR,GAAY,CAA3B,CAAJ,CAAmC;AAC3C,iBAAKkzE,CAAL;AAAQrtC,oBAAI,CAAC7lC,IAAI7lB,CAAL,IAAUR,CAAV,GAAc,CAAlB,CAAqB;AAC7B,iBAAKqmB,CAAL;AAAQ6lC,oBAAI,CAAC1rD,IAAI+4F,CAAL,IAAUv5F,CAAV,GAAc,CAAlB,CAAqB;AAC7B;AAAS;AAJT;AAMAksD,aAAK,CAAL;AACH;AACD,WAAO,CAACA,CAAD,EAAIvqD,CAAJ,EAAO/B,CAAP,EAAUwmB,CAAV,CAAP;AACH,CAvBD;;AAyBE;;;;;;;;;;;AAWF,IAAMitH,WAAW,SAAXA,QAAW,CAACnnF,CAAD,EAAIvqD,CAAJ,EAAOmf,CAAP,EAAoB;AAAA,QAAVsF,CAAU,uEAAN,CAAM;;AACjC,QAAI5lB,UAAJ;AACA,QAAI+4F,UAAJ;AACA,QAAIlzE,UAAJ;;AAEA,QAAM1mB,IAAIid,KAAKuT,KAAL,CAAW+7B,IAAI,CAAf,CAAV;AACA,QAAM9oD,IAAI8oD,IAAI,CAAJ,GAAQvsD,CAAlB;AACA,QAAM+B,IAAIof,KAAK,IAAInf,CAAT,CAAV;AACA,QAAMqlG,IAAIlmF,KAAK,IAAI1d,IAAIzB,CAAb,CAAV;AACA,QAAMf,IAAIkgB,KAAK,IAAI,CAAC,IAAI1d,CAAL,IAAUzB,CAAnB,CAAV;;AAEA,YAAQhC,IAAI,CAAZ;AACA,aAAK,CAAL;AAAQa,gBAAIsgB,CAAJ,CAAOy4E,IAAI34F,CAAJ,CAAOylB,IAAI3kB,CAAJ,CAAO;AAC7B,aAAK,CAAL;AAAQlB,gBAAIwmG,CAAJ,CAAOzN,IAAIz4E,CAAJ,CAAOuF,IAAI3kB,CAAJ,CAAO;AAC7B,aAAK,CAAL;AAAQlB,gBAAIkB,CAAJ,CAAO63F,IAAIz4E,CAAJ,CAAOuF,IAAIzlB,CAAJ,CAAO;AAC7B,aAAK,CAAL;AAAQJ,gBAAIkB,CAAJ,CAAO63F,IAAIyN,CAAJ,CAAO3gF,IAAIvF,CAAJ,CAAO;AAC7B,aAAK,CAAL;AAAQtgB,gBAAII,CAAJ,CAAO24F,IAAI73F,CAAJ,CAAO2kB,IAAIvF,CAAJ,CAAO;AAC7B,aAAK,CAAL;AAAQtgB,gBAAIsgB,CAAJ,CAAOy4E,IAAI73F,CAAJ,CAAO2kB,IAAI2gF,CAAJ,CAAO;AAC7B;AAAS;AAPT;;AAUA,WAAO,CAACxmG,IAAI,GAAL,EAAU+4F,IAAI,GAAd,EAAmBlzE,IAAI,GAAvB,EAA4BD,CAA5B,CAAP;AACH,CAtBD;;AAwBA,IAAM0xC,WAAW,SAAXA,QAAW,CAACnL,GAAD,EAAS;AACtB,QAAM6hC,SAAS,4CAA4C2K,IAA5C,CAAiDxsC,GAAjD,CAAf;;AAEA,QAAMnsD,IAAIi0B,SAAS+5D,OAAO,CAAP,CAAT,EAAoB,EAApB,CAAV;AACA,QAAM+K,IAAI9kE,SAAS+5D,OAAO,CAAP,CAAT,EAAoB,EAApB,CAAV;AACA,QAAMnoE,IAAIoO,SAAS+5D,OAAO,CAAP,CAAT,EAAoB,EAApB,CAAV;AACA,QAAMpoE,IAAIooE,OAAO,CAAP,IAAY/5D,SAAS+5D,OAAO,CAAP,CAAT,EAAoB,EAApB,CAAZ,GAAsC,CAAhD;AACA,WAAO5iC,SAASprD,CAAT,EAAY+4F,CAAZ,EAAelzE,CAAf,EAAkBD,CAAlB,CAAP;AACH,CARD;;AAUA,IAAMsxC,cAAc,SAAdA,WAAc,CAAC7lB,GAAD,EAAS;AACzB,QAAMyhG,WAAW,wCAAjB;AACA,QAAMC,WAAW,yCAAjB;;AAEA;AACC;AACD,QAAMC,YAAY,gHAAlB;AACC;AACD,QAAMC,YAAY,qGAAlB;AACA,QAAMC,WAAW,wBAAjB;;AAEA,QAAIJ,SAASvuI,IAAT,CAAc8sC,GAAd,KAAsB2hG,UAAUzuI,IAAV,CAAe8sC,GAAf,CAA1B,EAA+C;AAC3C,eAAO,KAAP;AACH,KAFD,MAEO,IAAI0hG,SAASxuI,IAAT,CAAc8sC,GAAd,KAAsB4hG,UAAU1uI,IAAV,CAAe8sC,GAAf,CAA1B,EAA+C;AAClD,eAAO,KAAP;AACH,KAFM,MAEA,IAAI6hG,SAAS3uI,IAAT,CAAc8sC,GAAd,CAAJ,EAAwB;AAC3B,eAAO,KAAP;AACH,KAAC,OAAOA,GAAP;AACL,CAlBD;;AAoBA;;;;;;;AAOA,IAAM10B,yBAAyB,SAAzBA,sBAAyB,CAACpK,KAAD,EAAQM,SAAR,EAAmBya,QAAnB,EAAgC;AAAA,6BAClCza,UAAU/G,OAAV,EADkC;AAAA,QACnDvF,IADmD,sBACnDA,IADmD;AAAA,QAC7CqG,MAD6C,sBAC7CA,MAD6C;;AAE3D,QAAIiU,sBAAJ;AACA,QAAIjU,OAAOhJ,MAAX,EAAmB;AACf,YAAMuvI,WAAW5gI,MAAM/B,eAAN,EAAjB;AACAqQ,wBAAgBtO,MAAMqD,MAAN,CAAa,UAACxN,MAAD,EAAY;AACrC,gBAAMoY,UAAUja,KAAKka,IAAL,CAAU;AAAA,uBAAO7T,OAAO8T,KAAP,CAAa,UAACC,SAAD,EAAYvT,GAAZ,EAAoB;AAC9D,wBAAI,CAACkgB,QAAD,KAAc,EAAE3M,UAAUlhB,IAAV,IAAkB0zI,QAApB,KACVA,SAASxyH,UAAUlhB,IAAnB,EAAyB8gB,GAAzB,CAA6B5R,IAA7B,KAAsC0F,mDAASA,CAACC,OADpD,CAAJ,EACkE;AAC9D,+BAAO,IAAP;AACH;AACD,2BAAOzR,IAAIuK,GAAJ,MAAahF,OAAOuY,UAAUlhB,IAAjB,EAAuBmhB,OAAvB,EAApB;AACH,iBANgC,CAAP;AAAA,aAAV,CAAhB;AAOA,mBAAOJ,OAAP;AACH,SATe,EASb;AACCzS,uBAAW;AADZ,SATa,CAAhB;AAYH,KAdD,MAcO;AACH8S,wBAAgBhO,SAAhB;AACH;;AAED,WAAOgO,aAAP;AACH,CAtBD;;AAwBA,IAAMw2D,+BAA+B,SAA/BA,4BAA+B,CAAC9kE,KAAD,EAAQb,WAAR,EAAwB;AACzD,QAAI9E,SAAS,EAAb;AACA,QAAIrG,aAAJ;AACA,QAAM4sI,WAAW5gI,MAAM/B,eAAN,EAAjB;AACA,QAAIkB,YAAY9N,MAAhB,EAAwB;AAAA;AACpB,gBAAMwE,SAASsJ,YAAY,CAAZ,CAAf;AACA,gBAAM8Q,MAAMpa,OAAOxE,MAAnB;AACA,iBAAK,IAAIzE,IAAI,CAAb,EAAgBA,IAAIqjB,GAApB,EAAyBrjB,GAAzB,EAA8B;AAC1B,oBAAMwI,QAAQS,OAAOjJ,CAAP,CAAd;AACA,oBAAM0mF,WAAWstD,SAASxrI,KAAT,KAAmB/H,OAAO4H,MAAP,CAAc,EAAd,EAAkB2rI,SAASxrI,KAAT,EAAgB4Y,GAAlC,CAApC;AACA,oBAAIslE,QAAJ,EAAc;AACVj5E,2BAAOzJ,IAAP,CAAYvD,OAAO4H,MAAP,CAAcq+E,QAAd,CAAZ;AACH;AACJ;;AAEDt/E,mBAAO,EAAP;AACA,gBAAMkB,SAASiK,YAAY,CAAZ,CAAf;;AAZoB,uCAaXvS,EAbW;AAchB,oBAAMi0I,OAAO1hI,YAAYvS,EAAZ,CAAb;AACA,oBAAMs2C,OAAO,EAAb;AACA29F,qBAAKnwI,OAAL,CAAa,UAACsmB,QAAD,EAAWqiB,IAAX,EAAoB;AAC7B6J,yBAAKhuC,OAAOmkC,IAAP,CAAL,IAAqBriB,QAArB;AACH,iBAFD;AAGAhjB,qBAAKpD,IAAL,CAAUsyC,IAAV;AAnBgB;;AAapB,iBAAK,IAAIt2C,KAAI,CAAb,EAAgBA,KAAIuS,YAAY9N,MAAhC,EAAwCzE,MAAK,CAA7C,EAAgD;AAAA,sBAAvCA,EAAuC;AAO/C;AApBmB;AAqBvB,KArBD,MAqBO;AACHoH,eAAO,EAAP;AACAqG,iBAAS,EAAT;AACH;;AAED,WAAO,IAAI2F,MAAMvH,WAAV,CAAsBzE,IAAtB,EAA4BqG,MAA5B,CAAP;AACH,CA/BD;;AAiCA;;;;;;;AAOA,IAAMwqE,wBAAwB,SAAxBA,qBAAwB,CAACl3D,SAAD,EAAYb,QAAZ,EAAsBhf,IAAtB,EAA+B;AACzD,QAAIgf,aAAa,IAAjB,EAAuB;AACnB,eAAO,IAAP;AACH;AACD,QAAMg0H,YAAYzzI,OAAOyI,IAAP,CAAYgX,QAAZ,CAAlB;AACA,QAAMi0H,QAAQ,SAARA,KAAQ;AAAA,eAAUD,UAAU3yH,KAAV,CAAgB,UAAC/Y,KAAD,EAAW;AAC/C,gBAAM+S,MAAMtS,OAAOT,KAAP,EAAcxH,KAA1B;AACA,gBAAMyT,QAAQyL,SAAS1X,KAAT,EAAgB,CAAhB,aAA8BT,KAA9B,GAAsCmY,SAAS1X,KAAT,EAAgB,CAAhB,CAAtC,GAA2D0X,SAAS1X,KAAT,CAAzE;AACA,gBAAI,OAAOiM,MAAM,CAAN,CAAP,KAAoB,QAAxB,EAAkC;AAC9B,uBAAOA,MAAMR,IAAN,CAAW;AAAA,2BAAK5T,MAAMkb,GAAX;AAAA,iBAAX,MAA+B7S,SAAtC;AACH;AACD,mBAAO+L,QAAQ8G,OAAO9G,MAAM,CAAN,CAAP,IAAmB8G,OAAO9G,MAAM,CAAN,CAAlC,GAA6C,IAApD;AACH,SAPuB,CAAV;AAAA,KAAd;;AASA,WAAOsM,UAAUtK,MAAV,CAAiB09H,KAAjB,EAAwB;AAC3BvlI,mBAAW,KADgB;AAE3B1N;AAF2B,KAAxB,CAAP;AAIH,CAlBD;;AAoBA;;;;;;;AAOA,IAAM6nE,8BAA8B,SAA9BA,2BAA8B,CAAChoD,SAAD,EAAYxO,WAAZ,EAAyBrR,IAAzB,EAAkC;AAClE,QAAI07D,0BAAJ;AACA,QAAIrqD,uBAAuBxK,KAA3B,EAAkC;AAC9B,YAAMqJ,eAAe2P,UAAU1P,eAAV,EAArB;;AAEA,YAAMk9D,UAAUh8D,YAAYxN,KAAZ,CAAkB,CAAlB,EAAqBwN,YAAY9N,MAAjC,CAAhB;AACA,YAAI8N,uBAAuBpP,QAA3B,EAAqC;AACjCy5D,gCAAoBrqD,YAAYwO,SAAZ,EAAuB,EAAvB,EAA2B,KAA3B,CAApB;AACH,SAFD,MAEO,IAAIxO,uBAAuBxK,KAAvB,IAAgCwK,YAAY,CAAZ,EAAe9N,MAAnD,EAA2D;AAC9D,gBAAM2vI,iBAAiB7hI,YAAY,CAAZ,EAAe2P,MAAf,CAAsB;AAAA,uBAAK7hB,KAAK+Q,YAAV;AAAA,aAAtB,CAAvB;AACAwrD,gCAAoB77C,UAAUtK,MAAV,CAAiB,UAACxN,MAAD,EAAY;AAC7C,oBAAIoY,UAAU,IAAd;AACA+yH,+BAAetwI,OAAf,CAAuB,UAAC0d,SAAD,EAAYvT,GAAZ,EAAoB;AACvC,wBAAMjN,QAAQiI,OAAOuY,SAAP,EAAkBC,OAAlB,EAAd;AACA,wBAAM/P,QAAQ68D,QAAQ39D,SAAR,CAAkB;AAAA,+BAAKvQ,EAAE4N,GAAF,MAAWjN,KAAhB;AAAA,qBAAlB,CAAd;AACAqgB,8BAAUA,WAAW3P,UAAU,CAAC,CAAhC;AACH,iBAJD;AAKA,uBAAO2P,OAAP;AACH,aARmB,EAQjB;AACCzS,2BAAW,KADZ;AAEC1N;AAFD,aARiB,CAApB;AAYH;AACJ,KArBD,MAqBO;AACH07D,4BAAoBqb,sBAAsBl3D,SAAtB,EAAiCxO,WAAjC,EAA8CrR,IAA9C,CAApB;AACH;AACD,WAAO07D,iBAAP;AACH,CA3BD;;AA6BA;;;;;;AAMA,IAAMy3E,oBAAoB,SAApBA,iBAAoB,CAAClkG,OAAD,EAAUmkG,WAAV,EAAqC;AAAA,uCAAXxlI,MAAW;AAAXA,cAAW;AAAA;;AAC3D,QAAMylI,kBAAkBD,8BAAYnkG,OAAZ,SAAwBrhC,MAAxB,EAAxB;AACA,SAAK,IAAMxN,GAAX,IAAkBizI,eAAlB,EAAmC;AAC/B,YAAI,GAAGzyI,cAAH,CAAkB5B,IAAlB,CAAuBq0I,eAAvB,EAAwCjzI,GAAxC,CAAJ,EAAkD;AAC9C,gBAAMyrE,YAAYj+D,OAAO,CAAP,CAAlB;AACA,gBAAM0lI,kBAAkB1lI,OAAO,CAAP,CAAxB;AACA,gBAAI1N,KAAK,IAAT;AACA,gBAAI2rE,aAAaynE,eAAjB,EAAkC;AAC9BpzI,qBAAQ2rE,UAAUgmC,KAAlB,SAA2ByhC,gBAAgBlD,YAA3C;AACH;AACD,gBAAM9oE,SAAS+rE,gBAAgBjzI,GAAhB,CAAf;AACA,gBAAMmzI,WAAWjsE,OAAOh5D,IAAxB;AACA,gBAAM1E,QAAQ09D,OAAO19D,KAArB;AACA,gBAAM4pI,aAAalsE,OAAO0yC,QAA1B;AACA/qE,oBAAQzc,KAAR,GAAgB+gH,QAAhB,EAA0B3pI,KAA1B,EAAiC4pI,UAAjC,EAA6C,KAA7C,EAAoD;AAChD3nE,2BAAW3rE;AADqC,aAApD;AAGH;AACJ;AACJ,CAnBD;;AAqBA,IAAMsxE,eAAe,SAAfA,YAAe;AAAA,WAAS,CAAC12D,MAAMhb,KAAN,CAAD,IAAiBA,UAAU,CAACisB,QAA5B,IAAwCjsB,UAAUisB,QAA3D;AAAA,CAArB;AACA;;;;;;AAMA,IAAM0nH,aAAa,SAAbA,UAAa,CAAC/rI,GAAD,EAAS;AACxB,QAAMgsI,cAAc;AAChB,aAAK,OADW;AAEhB,aAAK,MAFW;AAGhB,aAAK,MAHW;AAIhB,aAAK,QAJW;AAKhB,aAAK,QALW;AAMhB,aAAK;AANW,KAApB;AAQA,QAAMC,cAAc,WAApB;AACA,WAAO,MAAIjsI,GAAJ,EAAW5D,OAAX,CAAmB6vI,WAAnB,EAAgC;AAAA,eAASD,YAAYj5H,KAAZ,CAAT;AAAA,KAAhC,CAAP;AACH,CAXD;;AAaA;;;;;AAKA,IAAMm5H,iBAAiB,SAAjBA,cAAiB;AAAA,WAAOhtI,IAAI,CAAJ,EAAO1E,GAAP,CAAW,UAAC8uC,GAAD,EAAMlyC,CAAN;AAAA,eAAY8H,IAAI1E,GAAJ,CAAQ;AAAA,mBAAOM,IAAI1D,CAAJ,CAAP;AAAA,SAAR,CAAZ;AAAA,KAAX,CAAP;AAAA,CAAvB;AACA,IAAM0hC,UAAU,SAAVA,OAAU;AAAA,WAAQ55B,eAAeC,KAAf,GAAuBD,GAAvB,GAA6B,CAACA,GAAD,CAArC;AAAA,CAAhB;AACA,IAAMitI,eAAe,SAAfA,YAAe,CAAC9E,GAAD,EAAM+E,WAAN,EAAmBvqE,KAAnB,EAA6B;AAC9C,QAAI,CAACwlE,GAAL,EAAU;AACN,eAAO,KAAP;AACH;AACD,QAAMpuI,YAAYouI,IAAIpuI,SAAtB;AACA,QAAIA,qBAAqBmzI,WAAzB,EAAsC;AAClCvqE,gBAAQ,IAAR;AACH,KAFD,MAEO;AACHA,gBAAQsqE,aAAalzI,SAAb,EAAwBmzI,WAAxB,EAAqCvqE,KAArC,CAAR;AACH;AACD,WAAOA,KAAP;AACH,CAXD;;AAaA;;;;;AAKA,IAAMwqE,eAAe,SAAfA,YAAe,CAACntH,GAAD,EAAMC,GAAN,EAAc;AAC/B,QAAMmtH,WAAWptH,IAAInb,OAAJ,EAAjB;AACA,QAAMwoI,WAAWptH,IAAIpb,OAAJ,EAAjB;AACA,QAAMyoI,QAAQF,SAAS9tI,IAAvB;AACA,QAAMiuI,QAAQF,SAAS/tI,IAAvB;AACA,QAAMkuI,UAAUJ,SAASznI,MAAzB;AACA,QAAM8nI,UAAUJ,SAAS1nI,MAAzB;AACA,QAAM+nI,UAAU,EAAhB;AACA,QAAMC,UAAU,EAAhB;AACA,QAAMC,eAAe,EAArB;AACA,SAAK,IAAI11I,IAAI,CAAb,EAAgBA,IAAIo1I,MAAM3wI,MAA1B,EAAkCzE,GAAlC,EAAuC;AAAA,qCAC1B2oB,EAD0B;AAE/B,gBAAMgtH,OAAOP,MAAMp1I,CAAN,CAAb;AACA,gBAAM41I,OAAOP,MAAM1sH,EAAN,CAAb;AACA,gBAAMktH,aAAaF,KAAKzzH,MAAL,CAAY,UAAC7hB,CAAD,EAAI4N,GAAJ;AAAA,uBAAYqnI,QAAQrnI,GAAR,EAAauB,IAAb,KAAsB0F,mDAASA,CAACb,SAA5C;AAAA,aAAZ,CAAnB;AACA,gBAAMyhI,aAAaF,KAAK1zH,MAAL,CAAY,UAAC7hB,CAAD,EAAI4N,GAAJ;AAAA,uBAAYsnI,QAAQtnI,GAAR,EAAauB,IAAb,KAAsB0F,mDAASA,CAACb,SAA5C;AAAA,aAAZ,CAAnB;AACA,gBAAM0hI,aAAaF,WAAWt0H,KAAX,CAAiB;AAAA,uBAASu0H,WAAW5nI,OAAX,CAAmBlN,KAAnB,MAA8B,CAAC,CAAxC;AAAA,aAAjB,CAAnB;AACA,gBAAI+0I,UAAJ,EAAgB;AACZ,oBAAMz0I,MAAMu0I,WAAWtyI,IAAX,EAAZ;AACA,iBAACmyI,aAAap0I,GAAb,CAAD,KAAuBo0I,aAAap0I,GAAb,IAAoB,EAA3C;AACAq0I,qBAAK7xI,OAAL,CAAa,UAAC9C,KAAD,EAAQiN,GAAR,EAAgB;AACzBynI,iCAAap0I,GAAb,EAAkBg0I,QAAQrnI,GAAR,EAAa3N,IAA/B,IAAuCU,KAAvC;AACH,iBAFD;AAGA40I,qBAAK9xI,OAAL,CAAa,UAAC9C,KAAD,EAAQiN,GAAR,EAAgB;AACzBynI,iCAAap0I,GAAb,EAAkBi0I,QAAQtnI,GAAR,EAAa3N,IAA/B,IAAuCU,KAAvC;AACH,iBAFD;AAGH,aATD,MASO;AACH,oBAAMg1I,SAASH,WAAWtyI,IAAX,EAAf;AACA,oBAAM0yI,SAASH,WAAWvyI,IAAX,EAAf;AACA,oBAAI,CAACmyI,aAAaM,MAAb,CAAD,IAAyB,CAACN,aAAaO,MAAb,CAA9B,EAAoD;AAChD,qBAACT,QAAQQ,MAAR,CAAD,KAAqBR,QAAQQ,MAAR,IAAkB,EAAvC;AACA,qBAACP,QAAQQ,MAAR,CAAD,KAAqBR,QAAQQ,MAAR,IAAkB,EAAvC;AACAN,yBAAK7xI,OAAL,CAAa,UAAC9C,KAAD,EAAQiN,GAAR,EAAgB;AACzBunI,gCAAQQ,MAAR,EAAgBV,QAAQrnI,GAAR,EAAa3N,IAA7B,IAAqCU,KAArC;AACH,qBAFD;AAGA40I,yBAAK9xI,OAAL,CAAa,UAAC9C,KAAD,EAAQiN,GAAR,EAAgB;AACzBwnI,gCAAQQ,MAAR,EAAgBV,QAAQtnI,GAAR,EAAa3N,IAA7B,IAAqCU,KAArC;AACH,qBAFD;AAGH;AACJ;AA7B8B;;AACnC,aAAK,IAAI2nB,KAAK,CAAd,EAAiBA,KAAK0sH,MAAM5wI,MAA5B,EAAoCkkB,IAApC,EAA0C;AAAA,mBAAjCA,EAAiC;AA6BzC;AACJ;;AAED,QAAMutH,4CAAmBZ,OAAnB,sBAA+BC,QAAQrzH,MAAR,CAAe;AAAA,eAAMozH,QAAQ1kI,SAAR,CAAkB;AAAA,mBAAMg2B,GAAGtmC,IAAH,KAAYumC,GAAGvmC,IAArB;AAAA,SAAlB,MAAiD,CAAC,CAAxD;AAAA,KAAf,CAA/B,EAAN;AACA,QAAM8G,oCAAW3G,OAAOygB,MAAP,CAAcs0H,OAAd,CAAX,sBAAsC/0I,OAAOygB,MAAP,CAAcu0H,OAAd,CAAtC,sBAAiEh1I,OAAOygB,MAAP,CAAcw0H,YAAd,CAAjE,EAAN;AACA,WAAO,CAACtuI,IAAD,EAAO8uI,YAAP,CAAP;AACH,CA9CD;;AAgDA,IAAM/6E,YAAY,SAAZA,SAAY;AAAA,WAAQwoC,uDAAMA,GAAGn0F,IAAT,CAAcw+H,UAAUx+H,IAAV,CAAd,CAAR;AAAA,CAAlB;;AAEA,IAAM2mI,gEACDC,+DADC,EACyBC,uDADzB,iCAEDD,oEAFC,EAE8BE,4DAF9B,iCAGDF,qEAHC,EAG+BG,6DAH/B,gBAAN;AAKA,IAAMC,mEACDJ,qEADC,EAC+BK,6DAD/B,kCAEDL,gEAFC,EAE0BM,wDAF1B,kCAGDN,kEAHC,EAG4BO,0DAH5B,kCAIDP,kEAJC,EAI4BQ,0DAJ5B,iBAAN;;AAOA;AACA,IAAM92D,QAAQ,SAARA,KAAQ;AAAA,WAAU+2D,sDAAOA,GAAG3tI,IAAV,CAAe4F,OAAO5F,IAAtB,EAA4BigD,MAA5B,CAAmCqtF,aAAa1nI,OAAOq6C,MAApB,CAAnC,EACPt8C,KADO,CACDspI,YAAYrnI,OAAOjC,KAAnB,CADC,EAC0BiC,OAAO1H,IADjC,CAAV;AAAA,CAAd;;AAGA;;;;;;;AAOA,IAAM0vI,iBAAiB,SAAjBA,cAAiB,CAAChoI,MAAD,EAAY;AAC/B,QAAMwoC,SAASb,0DAAIA,EAAnB;AACA3nC,WAAO5F,IAAP,CAAYpF,OAAZ,CAAoB;AAAA,eAAOwzC,OAAOh2C,GAAP,CAAW;AAAA,mBAAKjB,EAAEiB,GAAF,CAAL;AAAA,SAAX,CAAP;AAAA,KAApB;AACA,WAAOg2C,OAAOrpB,OAAP,CAAenf,OAAO1H,IAAtB,CAAP;AACH,CAJD;;AAMA,IAAM2vI,oBAAoB;AACtB/1B,qEADsB;AAEtBg2B,2EAFsB;AAGtBC,6EAHsB;AAItBC,iEAJsB;AAKtBC,6EALsB;AAMtB/wB,eAAW4wB,uDANW;AAOtBpyB,gBAAYuyB,wDAPU;AAQtBlsF,UAAMisF,kDARgB;AAStB/wB,gBAAY8wB,wDATU;AAUtB1vF,YAAQy5D,oDAAWA;AAVG,CAA1B;;AAaA,IAAMtqE,UAAU;AACZ+hB,8DADY;AAEZE,gEAFY;AAGZC,4DAHY;AAIZF,kEAJY;AAKZw1B,uDALY;AAMZ+yB,uDANY;AAOZ6G,qDAPY;AAQZ7b,qDARY;AASZx1D,4DAAIA;AATQ,CAAhB;;AAYA,IAAM2gG,SAAS;AACXn1F,UAAMgY,kDAASA;AADJ,CAAf;;AAIA,IAAMtV,kBAAkB,SAAlBA,eAAkB,CAACytB,MAAD,EAAY;AAChCA,aAASA,OAAOnlE,IAAP,CAAY,UAACwZ,CAAD,EAAIC,CAAJ;AAAA,eAAUD,IAAIC,CAAd;AAAA,KAAZ,CAAT;AACA,QAAI1J,UAAUo1D,OAAO,CAAP,IAAYA,OAAO,CAAP,CAA1B;AACA,SAAK,IAAIpyE,IAAI,CAAb,EAAgBA,IAAIoyE,OAAO3tE,MAA3B,EAAmCzE,GAAnC,EAAwC;AACpCgd,kBAAUC,KAAK3D,GAAL,CAAS0D,OAAT,EAAkBo1D,OAAOpyE,CAAP,IAAYoyE,OAAOpyE,IAAI,CAAX,CAA9B,CAAV;AACH;;AAED,WAAOgd,OAAP;AACH,CARD;;AAUA,IAAMglH,UAAU,SAAVA,OAAU,CAACqV,UAAD,EAAaC,aAAb;AAAA,WAAgC;AAC5CC,oBAAY,oBAAC7jH,KAAD,EAAW;AACnB,gBAAM8jH,eAAe9jH,MAAM2jH,UAAN,CAArB;AACA,gBAAMI,SAASH,cAAcvyI,KAAd,CAAoB,CAApB,EAAuBuyI,cAAc7yI,MAAd,GAAuB,CAA9C,CAAf;AACA,gBAAMoP,KAAKyjI,cAAcA,cAAc7yI,MAAd,GAAuB,CAArC,CAAX,CAHmB,CAGiC;;AAEpD,gBAAMizI,OAAOD,OAAOr0I,GAAP,CAAW;AAAA,uBAAOo0I,aAAa5uI,GAAb,CAAP;AAAA,aAAX,CAAb;AACA,mBAAO;AACHiL,oBAAIA,uCAAM6jI,IAAN,EADD;AAEHD;AAFG,aAAP;AAIH;AAX2C,KAAhC;AAAA,CAAhB;;AAcA,IAAME,gBAAgBh4I,OAAOglC,qBAAP,IAAgChlC,OAAOilC,2BAAvC,IAClBjlC,OAAOklC,wBADW,IACiBllC,OAAOmlC,sBADxB,IACkDnlC,OAAOolC,uBADzD,IAElB,UAAUxxB,QAAV,EAAoB;AAChByxB,eAAWzxB,QAAX,EAAqB,EAArB;AACH,CAJL;;;;;;;;;;;;;;ACz7CA;AAAA,IAAMqkI,cAAc;AAChBC,gBAAY,WADI;AAEhBC,mBAAe;AAFC,CAApB;;AAKeF,0EAAf,E;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,IAAMG,wBAAwB,WAA9B;AACA,IAAMjrE,uBAAuB,aAA7B;AACA,IAAMkrE,wBAAwB,cAA9B;AACA,IAAMC,yBAAyB,YAA/B;AACA,IAAMC,yBAAyB,WAA/B;AACA,IAAMC,wBAAwB,aAA9B;AACA,IAAMC,yBAAyB,cAA/B;AACA,IAAMC,0BAA0B,YAAhC,C;;;;;;;;;;;;ACPP;AAAA,IAAMC,iBAAiB;AACnBzyI,YAAQ;AADW,CAAvB;;AAIeyyI,6EAAf,E;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,IAAMC,kBAAkB,WAAxB;AACA,IAAMC,mBAAmB,YAAzB;AACA,IAAMC,aAAa,MAAnB;AACA,IAAMC,mBAAmB,WAAzB;AACA,IAAMC,cAAc,MAApB;AACA,IAAMC,gBAAgB,QAAtB;AACA,IAAMC,gBAAgB,QAAtB,C;;;;;;;;;;;;ACNP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;AAEA;;AAKA;;AAEA;;AAKA;;AAyEA;;AAqBA;;AAEA;;AAEA;;;;;;;;;;;;;;AClHA;AAAA,IAAMC,SAAS,CACX,aADW,EAEX,cAFW,EAGX,SAHW,EAIX,YAJW,EAKX,OALW,EAMX,cANW,EAOX,SAPW,CAAf;;AAUA,IAAMC,eAAe,CACjB,QADiB,EAEjB,MAFiB,EAGjB,OAHiB,EAIjB,MAJiB,EAKjB,eALiB,EAMjB,QANiB,EAOjB,SAPiB,CAArB;;AAUA,IAAMC,aAAa,EAAnB;;AAEAD,aAAaj1I,OAAb,CAAqB,UAACm1I,WAAD,EAAiB;AAClCH,WAAOh1I,OAAP,CAAe,UAACm7D,KAAD,EAAW;AACtB+5E,mBAAWh1I,IAAX,CAAmBi1I,WAAnB,SAAkCh6E,KAAlC;AACH,KAFD;AAGH,CAJD;;AAMe+5E,yEAAf,E;;;;;;;;;;;;AC5BA;AAAA;AAAA;;AAEeE,yHAAf,E;;;;;;;;;;;;;;;;;;ACFA;;AAEA;;;;;;;;AAQA,IAAM56G,WAAW,SAAXA,QAAW;AAAA,WAAa;AAAA,eAAgB66G,UAAUC,YAAV,CAAhB;AAAA,KAAb;AAAA,CAAjB;;AAEA;;;;;;;AAOA,IAAMC,SAAS,SAATA,MAAS,CAAC1nH,MAAD,EAAS/vB,QAAT;AAAA,WAAsBnB,OAAOoB,SAAP,CAAiBC,cAAjB,CAAgC5B,IAAhC,CAAqCyxB,MAArC,EAA6C/vB,QAA7C,CAAtB;AAAA,CAAf;;AAEA;;;;;;;;;IAQqBs3I,gB;;AAEjB;;;;AAIA,gCAAe;AAAA;;AACX,aAAKI,UAAL,GAAkBN,mDAAlB;AACA,aAAKO,SAAL,GAAiB,IAAIrvH,GAAJ,EAAjB;AACA,aAAKsvH,UAAL,GAAkB,EAAlB;AACA,aAAKC,WAAL,GAAmB,EAAnB;AACA,aAAKC,qBAAL,GAA6B,EAA7B;AACA,aAAKC,KAAL;AACH;;AAED;;;;;;;;;gCAKS;AACL,iBAAKH,UAAL,GAAkB,KAAKF,UAAL,CAAgBvrI,MAAhB,CAAuB,UAACC,GAAD,EAAM1N,IAAN,EAAe;AACpD0N,oBAAI1N,IAAJ,IAAYg+B,QAAZ;AACA,uBAAOtwB,GAAP;AACH,aAHiB,EAGf,EAHe,CAAlB;AAIA,iBAAK4rI,gBAAL;AACH;;AAED;;;;;;;;;;;iCAQUtmI,S,EAAW;AACjB,mBAAO,KAAKimI,SAAL,CAAe34I,GAAf,CAAmB0S,SAAnB,CAAP;AACH;;AAED;;;;;;;;;;6CAOsBA,S,EAAW;AAAA;;AAC7B,mBAAO,IAAIitE,OAAJ,CAAY,UAACjyD,OAAD,EAAa;AAC5B,sBAAKkrH,UAAL,CAAgBlmI,SAAhB,IAA6B,MAAKkmI,UAAL,CAAgBlmI,SAAhB,EAA2Bgb,OAA3B,CAA7B;AACH,aAFM,CAAP;AAGH;;AAED;;;;;;;;;2CAMoB;AAAA;;AAChB,iBAAKgrH,UAAL,CAAgBx1I,OAAhB,CAAwB,UAACwP,SAAD,EAAe;AACnC,uBAAKimI,SAAL,CAAelvH,GAAf,CAAmB/W,SAAnB,EAA8B,OAAKumI,oBAAL,CAA0BvmI,SAA1B,CAA9B;AACH,aAFD;AAGH;;AAED;;;;;;;;;;;;;;wCAWiBA,S,EAAW8lI,Y,EAAc;AACtC,iBAAKI,UAAL,CAAgBlmI,SAAhB,EAA2B8lI,YAA3B;AACH;;AAED;;;;;;;;;;;;+BASQA,Y,EAAc;AAClB;AACA;AACA,gBAAMH,cAAcG,aAAa78E,UAAb,IAA2B68E,aAAaU,MAAb,CAAoBjuI,WAApB,CAAgC0wD,UAAhC,EAA/C;AACA68E,yBAAa78E,UAAb,GAA0B08E,WAA1B;AACA,iBAAKc,yBAAL;AACA,iBAAKC,OAAL,CAAaf,WAAb,EAA0BG,YAA1B;AACH;;AAED;;;;;;;;;;;;;;gCAWSH,W,EAAaG,Y,EAAc;AAChC,gBAAMa,QAAQb,aAAa50H,MAA3B;AACA,gBAAMlR,YAAe2lI,WAAf,SAA8BgB,KAApC;;AAEA;AACA,iBAAKC,eAAL,CAAqB5mI,SAArB,EAAgC8lI,YAAhC;;AAEA;AACA,gBAAMe,UAAU,KAAKC,QAAL,CAAc9mI,SAAd,CAAhB;;AAEA,gBAAI,KAAKmmI,WAAL,CAAiBR,WAAjB,CAAJ,EAAmC;AAC/B,oBAAI,KAAKQ,WAAL,CAAiBR,WAAjB,EAA8BgB,KAA9B,CAAJ,EAA0C;AACtC;AACA,yBAAKI,sBAAL,CAA4BpB,WAA5B,EAAyCgB,KAAzC,EAAgDE,OAAhD;AACH,iBAHD,MAGO;AACH;AACA,yBAAKG,aAAL,CAAmBrB,WAAnB,EAAgCgB,KAAhC,EAAuCE,OAAvC;AACH;AACJ,aARD,MAQO;AACH,qBAAKG,aAAL,CAAmBrB,WAAnB,EAAgCgB,KAAhC,EAAuCE,OAAvC;AACH;AACJ;;AAED;;;;;;;;;;;+CAQwBlB,W,EAAagB,K,EAAOE,O,EAAS;AACjD,gBAAM7mI,YAAe2lI,WAAf,SAA8BgB,KAApC;AACA,iBAAKR,WAAL,CAAiBR,WAAjB,EAA8BgB,KAA9B,EAAqCE,OAArC;AACA,iBAAKI,mBAAL,CAAyBjnI,SAAzB;AACH;;AAED;;;;;;;;;oDAM6B;AAAA;;AACzB,gBAAMylI,eAAet4I,OAAOyI,IAAP,CAAY,KAAKwwI,qBAAjB,CAArB;AACAX,yBAAaj1I,OAAb,CAAqB,UAACm1I,WAAD,EAAiB;AAClC,oBAAMuB,SAAS/5I,OAAOyI,IAAP,CAAY,OAAKwwI,qBAAL,CAA2BT,WAA3B,CAAZ,CAAf;AACAuB,uBAAO12I,OAAP,CAAe,UAACm2I,KAAD,EAAW;AACtB,wBAAI,OAAKR,WAAL,CAAiBR,WAAjB,CAAJ,EAAmC;AAC/B,4BAAI,OAAKQ,WAAL,CAAiBR,WAAjB,EAA8BgB,KAA9B,CAAJ,EAA0C;AACtC;AACA,gCAAME,UAAU,OAAKT,qBAAL,CAA2BT,WAA3B,EAAwCgB,KAAxC,CAAhB;AACA;AACA,mCAAKI,sBAAL,CAA4BpB,WAA5B,EAAyCgB,KAAzC,EAAgDE,OAAhD;AACA;AACA,mCAAO,OAAKT,qBAAL,CAA2BT,WAA3B,EAAwCgB,KAAxC,CAAP;AACH;AACJ;AACJ,iBAXD;AAYH,aAdD;AAeH;;AAED;;;;;;;;;;;sCAQehB,W,EAAagB,K,EAAOE,O,EAAS;AACxC,gBAAI,CAACd,OAAO,KAAKK,qBAAZ,EAAmCT,WAAnC,CAAL,EAAsD;AAClD,qBAAKS,qBAAL,CAA2BT,WAA3B,IAA0C,EAA1C;AACH;;AAED,gBAAI,CAACI,OAAO,KAAKK,qBAAL,CAA2BT,WAA3B,CAAP,EAAgDgB,KAAhD,CAAL,EAA6D;AACzD,qBAAKP,qBAAL,CAA2BT,WAA3B,EAAwCgB,KAAxC,IAAiD,EAAjD;AACH;AACD,iBAAKP,qBAAL,CAA2BT,WAA3B,EAAwCgB,KAAxC,IAAiDE,OAAjD;AACH;;AAED;;;;;;;;;mCAM2B;AAAA,gBAAjBM,UAAiB,uEAAJ,EAAI;;AACvB,iBAAKhB,WAAL,GAAmBgB,UAAnB;AACA;AACA;AACA,iBAAKV,yBAAL;AACH;;AAED;;;;;;;;;4CAMqBzmI,S,EAAW;AAAA;;AAC5B0xB,uBAAW,YAAM;AACb,uBAAKw0G,UAAL,CAAgBlmI,SAAhB,IAA6BgrB,QAA7B;AACA,uBAAKi7G,SAAL,CAAelvH,GAAf,CAAmB/W,SAAnB,EAA8B,OAAKumI,oBAAL,CAA0BvmI,SAA1B,CAA9B;AACH,aAHD,EAGG,CAHH;AAIH;;;;;;AAtNgB4lI,+E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7BrB;AACA;AACA;AACA;AACA;;;;;;;AAOA,IAAM/jG,gBAAgB,SAAhBA,aAAgB;AAAA,WAAW1+B,2DAAMA,CAACg8D,OAAP,CAAX;AAAA,CAAtB;;AAEA;;;;;;;;AAQA,IAAMl/B,cAAc,SAAdA,WAAc,CAACjgB,MAAD,EAASw/C,QAAT,EAAmB1rE,IAAnB,EAAyB+rG,QAAzB,EAA6D;AAAA,QAA1BpgC,SAA0B,uEAAd,EAAc;AAAA,QAAV2nE,KAAU;;AAC7E,QAAKpnH,kBAAkB45G,WAAlB,IAAiC55G,kBAAkBqnH,UAAxD,EAAqE;AACjErnH,iBAAS6hB,cAAc7hB,MAAd,CAAT;AACH;;AAED,QAAMsnH,cAAcznC,WAAWA,SAAS,CAAT,CAAX,GAAyB,IAA7C;AACA,QAAI0nC,eAAe,IAAnB;AACA,QAAIC,iBAAiB,IAArB;AACA,QAAIroE,UAAU,IAAd;AACA,QAAIsoE,WAAW,IAAf;AACA,QAAIC,WAAW,IAAf;AACA,QAAI94H,eAAJ;AACA,QAAI04H,WAAJ,EAAiB;AACb,YAAIA,gBAAgB,GAApB,EAAyB;AACrBC,2BAAe,IAAf;AACAC,6BAAiB3nC,QAAjB;AACH,SAHD,MAGO;AACH0nC,2BAAe,OAAf;AACAC,6BAAiB3nC,SAAS,CAAT,MAAgB,GAAhB,GAAsBA,QAAtB,SAAqCA,QAAtD;AACH;AACJ,KARD,MAQO;AACH2nC,yBAAiBhoE,QAAjB;AACA5wD,iBAAS,IAAT;AACH;AACDuwD,cAAUn/C,OAAO4sB,SAAP,CAAiB46F,cAAjB,CAAV;;AAEA54H,eAAWuwD,UAAUA,QAAQvwD,MAAR,CAAe,YAAY;AAC5C,eAAO,KAAKmsE,UAAL,KAAoB/6D,OAAOqL,IAAP,EAA3B;AACH,KAFoB,CAArB;AAGA8zC,cAAUA,QAAQrrE,IAAR,CAAaA,IAAb,EAAmBszI,KAAnB,CAAV;;AAEAK,eAAWtoE,QAAQF,KAAR,GACcjxC,MADd,CACqBwxC,YAAY,KADjC,CAAX;AAEAC,cAAUR,KAAV,IAAmBwoE,SAASzlG,IAAT,CAAc,YAAqB;AAAA,0CAARxmC,MAAQ;AAARA,kBAAQ;AAAA;;AAClDikE,kBAAUR,KAAV,mBAAgBp9B,cAAc,IAAd,CAAhB,SAAwCrmC,MAAxC;AACH,KAFkB,CAAnB;;AAIAksI,eAAWD,SAAS7qH,KAAT,CAAeuiD,OAAf,CAAX;AACAM,cAAU9xC,MAAV,IAAoB+5G,SAAS1lG,IAAT,CAAc,YAAqB;AAAA,2CAARxmC,MAAQ;AAARA,kBAAQ;AAAA;;AACnDikE,kBAAU9xC,MAAV,mBAAiBkU,cAAc,IAAd,CAAjB,SAAyCrmC,MAAzC;AACH,KAFmB,CAApB;AAGA,QAAI+rI,iBAAiB,OAArB,EAA8B;AAC1BG,iBAASrmG,OAAT,CAAiBimG,gBAAgB,GAAhB,GAAsBznC,SAASr8E,SAAT,CAAmB,CAAnB,EAAsBq8E,SAAS1uG,MAA/B,CAAtB,GAA+D0uG,QAAhF,EAA0F,IAA1F;AACH,KAFD,MAEO,IAAI0nC,iBAAiB,IAArB,EAA2B;AAC9BG,iBAASjmG,IAAT,CAAc,IAAd,EAAoBo+D,SAASr8E,SAAT,CAAmB,CAAnB,EAAsBq8E,SAAS1uG,MAA/B,CAApB;AACH;AACD,QAAMw2I,UAAUxoE,QAAQj9B,IAAR,EAAhB;;AAEA,QAAIu9B,UAAUv9B,IAAd,EAAoB;AAChBylG,gBAAQ3lG,IAAR,CAAa,YAAqB;AAAA,+CAARxmC,MAAQ;AAARA,sBAAQ;AAAA;;AAC9BikE,sBAAUv9B,IAAV,mBAAeL,cAAc,IAAd,CAAf,SAAuCrmC,MAAvC;AACH,SAFD;AAGH,KAJD,MAIO;AACHmsI,gBAAQxlG,MAAR;AACH;AACD,WAAOulG,QAAP;AACH,CAxDD;;AA0DA;;;;;;AAMA,IAAMt+D,aAAa,SAAbA,UAAa,CAACvuE,IAAD,EAAOg+H,QAAP,EAAoB;AACnC1rI,WAAOwtB,OAAP,CAAek+G,QAAf,EAAyBroI,OAAzB,CAAiC,UAACzD,CAAD,EAAO;AACpC8N,aAAK+lC,KAAL,CAAW7zC,EAAE,CAAF,CAAX,EAAiBA,EAAE,CAAF,CAAjB;AACH,KAFD,EAEG,KAFH;AAGA,WAAO8N,IAAP;AACH,CALD;;AAOA;;;;;AAKA,IAAM+sI,gBAAgB,SAAhBA,aAAgB,CAACC,QAAD,EAAWC,QAAX,EAAwB;AAC1CD,aAASh6D,WAAT,CAAqBi6D,QAArB;AACH,CAFD;;AAIA;;;;;AAKA,IAAMC,kBAAkB,SAAlBA,eAAkB,CAAC5oE,OAAD,EAAUD,KAAV,EAAoB;AACxC,SAAK,IAAMlxE,GAAX,IAAkBkxE,KAAlB,EAAyB;AACrB,YAAI,GAAG1wE,cAAH,CAAkB5B,IAAlB,CAAuBsyE,KAAvB,EAA8BlxE,GAA9B,CAAJ,EAAwC;AACpCmxE,oBAAQ19B,IAAR,CAAazzC,GAAb,EAAkBkxE,MAAMlxE,GAAN,CAAlB;AACH;AACJ;AACJ,CAND;;AAQA;;;;;;;AAOA,IAAM2iF,WAAW,SAAXA,QAAW,CAACxR,OAAD,EAAUD,KAAV,EAAiBp/B,SAAjB,EAA+B;AAC5C,QAAI,EAAEq/B,mBAAmBH,sDAArB,CAAJ,EAAqC;AACjCG,kBAAUt9B,cAAcs9B,OAAd,CAAV;AACH;AACDr/B,kBAAc1qC,SAAd,GAA0B+pE,QAAQvyB,SAAR,OAAsB9M,SAAtB,EAAmCkC,IAAnC,CAAwC,YAAY;AAC1E+lG,wBAAgB5kI,2DAAMA,CAAC,IAAP,CAAhB,EAA8B+7D,KAA9B;AACH,KAFyB,CAA1B,GAEK6oE,gBAAgB5oE,OAAhB,EAAyBD,KAAzB,CAFL;AAGA,WAAOC,OAAP;AACH,CARD;;AAUA;;;;;;;;AAQA,IAAM8V,WAAW,SAAXA,QAAW,CAAC9V,OAAD,EAAUr/B,SAAV,EAAqB+/D,QAArB,EAA+BnvF,QAA/B,EAA4C;AACzDvN,+DAAMA,CAACg8D,OAAP,EAAgBvyB,SAAhB,CAA0BizD,QAA1B,EAAoC79D,IAApC,CAAyC,UAAUluC,IAAV,EAAgB;AACrD,YAAM+G,OAAOsI,2DAAMA,CAAC,IAAP,CAAb;AACAuN,mBAAWA,SAAS5c,IAAT,KAAkB+G,KAAKwmC,OAAL,CAAavB,SAAb,EAAwB,IAAxB,CAA7B,GACQjlC,KAAKwmC,OAAL,CAAavB,SAAb,EAAwB,IAAxB,CADR;AAEH,KAJD;AAKH,CAND;;AAQA;;;;;;;;AAQA,IAAMkoG,cAAc,SAAdA,WAAc,CAAC7oE,OAAD,EAAUr/B,SAAV,EAAqB+/D,QAArB,EAA+BnvF,QAA/B,EAA4C;AAC5DvN,+DAAMA,CAACg8D,OAAP,EAAgBvyB,SAAhB,CAA0BizD,QAA1B,EAAoC79D,IAApC,CAAyC,UAAUluC,IAAV,EAAgB;AACrD,YAAM+G,OAAOsI,2DAAMA,CAAC,IAAP,CAAb;AACAuN,mBAAWA,SAAS5c,IAAT,KAAkB+G,KAAKwmC,OAAL,CAAavB,SAAb,EAAwB,KAAxB,CAA7B,GACQjlC,KAAKwmC,OAAL,CAAavB,SAAb,EAAwB,KAAxB,CADR;AAEH,KAJD;AAKH,CAND;;AAQA;;;;;;AAMA,IAAM0wC,YAAY,SAAZA,SAAY,CAACrR,OAAD,EAAU8oE,MAAV,EAAqB;AACnC,QAAI,EAAE9oE,mBAAmBH,sDAArB,CAAJ,EAAqC;AACjCG,kBAAUt9B,cAAcs9B,OAAd,CAAV;AACH;AACD,SAAK,IAAMnxE,GAAX,IAAkBi6I,MAAlB,EAA0B;AACtB,YAAI,GAAGz5I,cAAH,CAAkB5B,IAAlB,CAAuBq7I,MAAvB,EAA+Bj6I,GAA/B,CAAJ,EAAyC;AACrCmxE,oBAAQv+B,KAAR,CAAc5yC,GAAd,EAAmBi6I,OAAOj6I,GAAP,CAAnB;AACH;AACJ;AACD,WAAOmxE,OAAP;AACH,CAVD;;AAYA;;;;;;;;;AASA,IAAM+oE,iBAAiB,SAAjBA,cAAiB,CAAC1sI,MAAD,EAAY;AAC/B,QAAM+jE,YAAYp8D,2DAAMA,CAAC3H,OAAO+jE,SAAd,CAAlB;AACA,QAAIzrE,aAAJ;AACA,QAAIq0I,YAAJ;;AAEAr0I,WAAO0H,OAAO1H,IAAd;AACA,QAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;AAC1BA,eAAOW,MAAMX,IAAN,EAAYu1E,IAAZ,GAAmBv5E,GAAnB,CAAuB,UAAC/C,CAAD,EAAIL,CAAJ;AAAA,mBAAUA,CAAV;AAAA,SAAvB,CAAP;AACH;AACDy7I,UAAM5oE,UAAU3yB,SAAV,CAAoBpxC,OAAOqkG,QAA3B,EAAqC/rG,IAArC,CAA0CA,IAA1C,CAAN;;AAEAq0I,UAAM5oE,UAAU3yB,SAAV,CAAoBpxC,OAAOqkG,QAA3B,EAAqCjxF,MAArC,CAA4C,YAAY;AAC1D,eAAO,KAAKmsE,UAAL,KAAoBxb,UAAUl0C,IAAV,EAA3B;AACH,KAFK,EAEHv3B,IAFG,CAEE0H,OAAO1H,IAFT,CAAN;;AAIA,QAAMs0I,iBAAiBD,IAAIlpE,KAAJ,GAAYjxC,MAAZ,CAAmBxyB,OAAOwyB,MAA1B,EAAkCpR,KAAlC,CAAwCurH,GAAxC,EAA6CnmG,IAA7C,CAAkD,UAAUj1C,CAAV,EAAaL,CAAb,EAAgB;AACrF8O,eAAOwmC,IAAP,CAAYj1C,CAAZ,EAAeoW,2DAAMA,CAAC,IAAP,CAAf,EAA6BzW,CAA7B;AACH,KAFsB,CAAvB;;AAIA07I,mBAAe3mG,IAAf,CAAoB,OAApB,EAA6BjmC,OAAOskC,SAAP,IAAoB,EAAjD;AACAqoG,QAAIjmG,IAAJ,GAAWC,MAAX;AACH,CArBD;;AAuBA;;;;;;;AAOA,IAAMkmG,cAAc,SAAdA,WAAc,CAAC9oE,SAAD,EAAY5nC,WAAZ,EAAyB2I,EAAzB,EAAgC;AAChD,QAAMgoG,kBAAkBroG,YAAY98B,2DAAMA,CAACo8D,SAAP,CAAZ,EAA+B,UAA/B,EAA2C,CAAC,CAAD,CAA3C,QAAoDj/B,EAApD,CAAxB;AACA,QAAMioG,eAAetoG,YAAYqoG,eAAZ,EAA6B,MAA7B,EAAqC,CAAC,CAAD,CAArC,CAArB;AACAC,iBAAa9mG,IAAb,CAAkB,GAAlB,EAAuB9J,YAAYne,CAAnC,EACiBioB,IADjB,CACsB,GADtB,EAC2B9J,YAAYne,CADvC,EAEiBioB,IAFjB,CAEsB,OAFtB,EAE+B9J,YAAYkB,KAF3C,EAGiB4I,IAHjB,CAGsB,QAHtB,EAGgC9J,YAAYmB,MAH5C;AAIAwvG,oBAAgB7mG,IAAhB,CAAqB,WAArB,YAA0CnB,EAA1C;AACH,CARD;;AAUA;;;;;;AAMA,IAAM23F,yBAAyB,SAAzBA,sBAAyB,CAAC5sG,IAAD,EAAOyU,SAAP;AAAA,WAAqB38B,2DAAMA,CAACkoB,IAAP,EAAauhB,SAAb,CAAuB9M,SAAvB,EAAkCrS,KAAlC,EAArB;AAAA,CAA/B;;AAEA;;;;;;AAMA,IAAMi4C,cAAc,SAAdA,WAAc,CAACvG,OAAD,EAAUxT,KAAV,EAAoB;AACpC,QAAM68E,qBAAqBrpE,QAAQ6B,qBAAR,EAA3B;AACA,WAAO;AACHxnD,WAAGmyC,MAAMnyC,CAAN,GAAUgvH,mBAAmBhvH,CAD7B;AAEH+J,WAAGooC,MAAMpoC,CAAN,GAAUilH,mBAAmBjlH;AAF7B,KAAP;AAIH,CAND;;AAQA,IAAM4qC,iBAAiB,SAAjBA,cAAiB,GAAe;AAClC,QAAMD,MAAMu6E,wDAAWA,4BAAvB;AACA,WAAO;AACHjvH,WAAG00C,IAAI,CAAJ,CADA;AAEH3qC,WAAG2qC,IAAI,CAAJ;AAFA,KAAP;AAIH,CAND;;AAQA;;;;;AAKA,IAAM6L,gBAAgB,SAAhBA,aAAgB,CAAC2uE,GAAD,EAAM97G,KAAN;AAAA,WAAgBzpB,2DAAMA,CAACypB,KAAP,EAAcoB,MAAd,CAAqB06G,GAArB,EAA0Br9G,IAA1B,EAAhB;AAAA,CAAtB;;AAEA;;;;AAIA,IAAMugC,WAAW,SAAXA,QAAW;AAAA,WAAM+8E,kDAAN;AAAA,CAAjB;;AAEA;;;;AAIA,IAAM96E,YAAY,SAAZA,SAAY;AAAA,WAAM+6E,4CAAN;AAAA,CAAlB;;AAEA,IAAM9zF,wBAAwB,SAAxBA,qBAAwB,CAACo5B,KAAD,EAAQ26D,GAAR,EAAgB;AAC1C,QAAIC,eAAJ;AACA,QAAMC,WAAW,GAAjB;AACA,QAAMC,iBAAiB;AACnB,wBAAgB;AADG,KAAvB;AAGA,QAAMlpG,YAAY,OAAO+oG,GAAP,KAAe,QAAf,GAA0BA,GAA1B,GAAiCA,eAAep0I,KAAf,GAAuBo0I,IAAI54I,IAAJ,CAAS,GAAT,CAAvB,GAAuCmF,SAA1F;;AAEA,QAAI84E,MAAM7iD,IAAN,cAAwBuuG,WAA5B,EAAyC;AACrCkP,iBAAS56D,MAAMlgD,MAAN,CAAa,KAAb,EAAoBqiD,IAApB,CAAyB04D,QAAzB,CAAT;AACH,KAFD,MAEO;AACHD,iBAAS56D,MAAMlgD,MAAN,CAAa,MAAb,EAAqBh9B,IAArB,CAA0B+3I,QAA1B,CAAT;AACH;;AAED,QAAIjpG,SAAJ,EAAe;AACXgpG,eAAOrnG,IAAP,CAAY,OAAZ,EAAqB3B,SAArB;AACH,KAFD,MAEO,IAAI,QAAO+oG,GAAP,yCAAOA,GAAP,OAAe,QAAnB,EAA6B;AAChC,eAAOA,IAAI,cAAJ,CAAP;AACA7wG,4EAAcA,CAACgxG,cAAf,EAA+BH,GAA/B;AACH;;AAEDC,WAAOloG,KAAP,CAAaooG,cAAb;;AAEA,QAAMC,gBAAgB58I,OAAOkpG,gBAAP,CAAwBuzC,OAAOz9G,IAAP,EAAxB,CAAtB;AACA,QAAM69G,qBAAqB;AACvBhY,kBAAU+X,cAAc/X,QADD;AAEvBC,oBAAY8X,cAAc9X,UAFH;AAGvBC,oBAAY6X,cAAc7X,UAHH;AAIvBC,mBAAW4X,cAAc5X;AAJF,KAA3B;;AAOAyX,WAAO3mG,MAAP;;AAEA,WAAO+mG,kBAAP;AACH,CAlCD;;AAoCA,IAAM9zE,WAAW,SAAXA,QAAW;AAAA,WAAM,kBAAkBqY,SAASwe,eAAjC;AAAA,CAAjB;;;;;;;;;;;;;;AC3TA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;;AAEA,IAAMk9C,gBAAgB,SAAhBA,aAAgB,CAACC,qBAAD,EAA2B;AAC7C,QAAMC,UAAUD,sBAAsBt5I,GAAtB,CAA0B;AAAA,eAAQw5I,KAAKC,KAAL,EAAR;AAAA,KAA1B,CAAhB;AACA,WAAO;AACH99E,oBAAY;AACR,iBAAK,WAAC+9E,kBAAD,EAAwB;AACzB,oBAAMC,oBAAoBD,mBAAmBhlE,YAA7C;AACA,uBAAOilE,oBAAoBJ,QAAQzuI,OAAR,CAAgB6uI,iBAAhB,MAAuC,CAAC,CAA5D,GAAgE,IAAvE;AACH;AAJO;AADT,KAAP;AAQH,CAVD;;AAYA;;;;;;;;;;;;;IAYMC,W;AACF,2BAAe;AAAA;;AACX,aAAKC,sBAAL,GAA8B,EAA9B;AACH;;AAED;;;;;;;;;;;;+BAQoB;AAAA,8CAAZC,UAAY;AAAZA,0BAAY;AAAA;;AAChB,iBAAKD,sBAAL,GAA8BC,UAA9B;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gDAmCyB14H,M,EAAQ;AAC7B,gBAAM24H,WAAW,KAAKF,sBAAtB;;AAEAE,qBAASr5I,OAAT,CAAiB,UAACs5I,MAAD,EAAY;AACzBA,uBAAOC,IAAP,CAAY,gBAAZ,EAA8B78D,IAA9B,CAAmC,UAACn0E,IAAD,EAAU;AACzC,wBAAMo/B,SAASp/B,KAAKytI,MAAL,CAAYb,WAAZ,GAA0BqE,WAA1B,CAAsCC,cAAtC,GAAuDv8I,KAAtE;AACAyqC,2BAAO6J,IAAP,CAAY;AAAA,+BAAQN,KAAKvzB,OAAL,GAAe46C,QAAf,GAA0BuJ,uBAA1B,CAAkDphD,MAAlD,CAAR;AAAA,qBAAZ;AACH,iBAHD;AAIH,aALD;AAMA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qDAoCwC;AAAA,+CAAT2/C,OAAS;AAATA,uBAAS;AAAA;;AACpC,gBAAMg5E,WAAW,KAAKF,sBAAtB;;AAEAE,qBAASr5I,OAAT,CAAiB,UAACs5I,MAAD,EAAY;AACzBA,uBAAOC,IAAP,CAAY,gBAAZ,EAA8B78D,IAA9B,CAAmC,YAAM;AACrC,wBAAM/0C,SAAS2xG,OAAOnE,WAAP,GAAqBqE,WAArB,CAAiCC,cAAjC,GAAkDv8I,KAAjE;AACAyqC,2BAAO6J,IAAP,CAAY;AAAA;;AAAA,+BAAQ,8BAAK7zB,OAAL,GAAe46C,QAAf,IAA0BmJ,0BAA1B,8BAAwDrB,OAAxD,CAAR;AAAA,qBAAZ;AACH,iBAHD;AAIH,aALD;AAMA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uDA8BgC/gE,G,EAAK;AACjC,gBAAM+5I,WAAW,KAAKF,sBAAtB;;AAEAE,qBAASr5I,OAAT,CAAiB,UAACs5I,MAAD,EAAY;AACzBA,uBAAOC,IAAP,CAAY,gBAAZ,EAA8B78D,IAA9B,CAAmC,UAACn0E,IAAD,EAAU;AACzC,wBAAMo/B,SAASp/B,KAAKytI,MAAL,CAAYb,WAAZ,GAA0BqE,WAA1B,CAAsCC,cAAtC,GAAuDv8I,KAAtE;AACAyqC,2BAAO6J,IAAP,CAAY;AAAA,+BAAQN,KAAKvzB,OAAL,GAAe46C,QAAf,GAA0BqJ,8BAA1B,CAAyDtiE,GAAzD,CAAR;AAAA,qBAAZ;AACH,iBAHD;AAIH,aALD;AAMA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;;;;;;;;;;;;wDAkBiCA,G,EAAK;AAClC,gBAAM+5I,WAAW,KAAKF,sBAAtB;;AAEAE,qBAASr5I,OAAT,CAAiB,UAACs5I,MAAD,EAAY;AACzBA,uBAAOC,IAAP,CAAY,gBAAZ,EAA8B78D,IAA9B,CAAmC,UAACn0E,IAAD,EAAU;AACzC,wBAAMo/B,SAASp/B,KAAKytI,MAAL,CAAYb,WAAZ,GAA0BqE,WAA1B,CAAsCC,cAAtC,GAAuDv8I,KAAtE;AACAyqC,2BAAO6J,IAAP,CAAY;AAAA,+BAAQN,KAAKvzB,OAAL,GAAe46C,QAAf,GAA0BmhF,+BAA1B,CAA0Dp6I,GAA1D,CAAR;AAAA,qBAAZ;AACH,iBAHD;AAIH,aALD;AAMA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uCA4BgBA,G,EAAK;AACjB,gBAAM+5I,WAAW,KAAKF,sBAAtB;;AAEAE,qBAASr5I,OAAT,CAAiB,UAACs5I,MAAD,EAAY;AACzBA,uBAAOC,IAAP,CAAY,gBAAZ,EAA8B78D,IAA9B,CAAmC,YAAM;AACrC,wBAAM/0C,SAAS2xG,OAAOnE,WAAP,GAAqBqE,WAArB,CAAiCC,cAAjC,GAAkDv8I,KAAjE;AACAyqC,2BAAO6J,IAAP,CAAY;AAAA,+BAAQN,KAAKvzB,OAAL,GAAe46C,QAAf,GAA0BkJ,cAA1B,CAAyCniE,GAAzC,CAAR;AAAA,qBAAZ;AACH,iBAHD;AAIH,aALD;AAMA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;8CAsBqC;AAAA,+CAAbghE,WAAa;AAAbA,2BAAa;AAAA;;AACjC,gBAAMs4E,wBAAwB,KAAKO,sBAAnC;;AAEAP,kCAAsB54I,OAAtB,CAA8B,UAACs5I,MAAD,EAAY;AACtCA,uBAAOC,IAAP,CAAY,gBAAZ,EAA8B78D,IAA9B,CAAmC,UAACn0E,IAAD,EAAU;AACzC,wBAAMo/B,SAASp/B,KAAKytI,MAAL,CAAYb,WAAZ,GAA0BqE,WAA1B,CAAsCC,cAAtC,GAAuDv8I,KAAtE;AACAyqC,2BAAO6J,IAAP,CAAY;AAAA,+BAAQN,KAAKvzB,OAAL,GAAe46C,QAAf,GAA0BoJ,mBAA1B,CAA8CrB,WAA9C,CAAR;AAAA,qBAAZ;AACH,iBAHD;AAIH,aALD;;AAOA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;;;;;;;8CAa8B;AAAA,+CAANq5E,IAAM;AAANA,oBAAM;AAAA;;AAC1B,gBAAMf,wBAAwB,KAAKO,sBAAnC;;AAEAP,kCAAsB54I,OAAtB,CAA8B,UAACs5I,MAAD,EAAY;AACtCA,uBAAOC,IAAP,CAAY,gBAAZ,EAA8B78D,IAA9B,CAAmC,UAACn0E,IAAD,EAAU;AACzC,wBAAMo/B,SAASp/B,KAAKytI,MAAL,CAAYb,WAAZ,GAA0BqE,WAA1B,CAAsCC,cAAtC,GAAuDv8I,KAAtE;AACAyqC,2BAAO6J,IAAP,CAAY,UAACN,IAAD,EAAU;AAClByoG,6BAAK35I,OAAL,CAAa;AAAA,mCAAOkxC,KAAKvzB,OAAL,GAAe46C,QAAf,GAA0BqhF,mBAA1B,CAA8CniI,IAAI,CAAJ,CAA9C,EAAsDA,IAAI,CAAJ,CAAtD,CAAP;AAAA,yBAAb;AACH,qBAFD;AAGH,iBALD;AAMH,aAPD;;AASA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;;;;;;;+CAa+B;AAAA,+CAANkiI,IAAM;AAANA,oBAAM;AAAA;;AAC3B,gBAAMf,wBAAwB,KAAKO,sBAAnC;;AAEAP,kCAAsB54I,OAAtB,CAA8B,UAACs5I,MAAD,EAAY;AACtCA,uBAAOC,IAAP,CAAY,gBAAZ,EAA8B78D,IAA9B,CAAmC,UAACn0E,IAAD,EAAU;AACzC,wBAAMo/B,SAASp/B,KAAKytI,MAAL,CAAYb,WAAZ,GAA0BqE,WAA1B,CAAsCC,cAAtC,GAAuDv8I,KAAtE;AACAyqC,2BAAO6J,IAAP,CAAY,UAACN,IAAD,EAAU;AAClByoG,6BAAK35I,OAAL,CAAa;AAAA,mCAAOkxC,KAAKvzB,OAAL,GAAe46C,QAAf,GAA0BshF,oBAA1B,CAA+CpiI,IAAI,CAAJ,CAA/C,EAAuDA,IAAI,CAAJ,CAAvD,CAAP;AAAA,yBAAb;AACH,qBAFD;AAGH,iBALD;AAMH,aAPD;;AASA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;mDA0CuC;AAAA,gBAAbqiI,MAAa,uEAAJ,EAAI;;AACnC,gBAAMlB,wBAAwB,KAAKO,sBAAnC;AACA,gBAAMY,eAAevyG,iEAAcA,CAACA,iEAAcA,CAAC,EAAf,EAAmBmxG,cAAcC,qBAAd,CAAnB,CAAf,EAAyEkB,MAAzE,CAArB;;AAEAlB,kCAAsB54I,OAAtB,CAA8B,UAACs5I,MAAD,EAAY;AACtCA,uBAAO/gF,QAAP,GAAkByhF,sBAAlB,CAAyCD,YAAzC;AACH,aAFD;;AAIA,mBAAO,IAAP;AACH;;;;;;AAGE,IAAME,cAAe;AAAA,WAAM,IAAIf,WAAJ,EAAN;AAAA,CAAD,EAApB,C;;;;;;;;;;;;AC5YP;AAAA;AAAO,IAAMgB,oBAAoB;AAC7BC,SAAK;AACDz8D,eAAO,EADN;AAED08D,eAAO,EAFN;AAGD7yE,gBAAQ,EAHP;AAID+xE,gBAAQ;AAJP,KADwB;AAO7BrqC,WAAO;AACHqqC,gBAAQ,EADL;AAEH57D,eAAO,EAFJ;AAGH08D,eAAO,EAHJ;AAIH7yE,gBAAQ;AAJL;AAPsB,CAA1B,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;IAgBqB8yE,M;;;AAEjB;;;;;;;;AAQA,oBAAaC,kBAAb,EAAiC;AAAA;;AAAA;;AAG7B,cAAKC,WAAL,GAAmB59I,OAAO4H,MAAP,CAAc,EAAd,EAAkBhB,gDAAlB,EAA2Bi3I,2DAA3B,CAAnB;AACA,cAAKC,SAAL,GAAiB,EAAjB;AACA,cAAKC,YAAL,GAAoB,EAApB;AACA,cAAKC,YAAL,GAAoB,EAApB;AACA,cAAKC,MAAL,GAAc,IAAd;AACA,cAAKC,gBAAL,GAAwB,IAAxB;AACA,cAAKC,gBAAL,GAAwB,IAAIr+D,OAAJ,CAAY,UAACjyD,OAAD,EAAa;AAC7C,kBAAKqwH,gBAAL,GAAwBrwH,OAAxB;AACH,SAFuB,CAAxB;AAGA,cAAKkwH,YAAL,CAAkB7xG,MAAlB,GAA2B,IAAIwF,2DAAJ,EAA3B;AACA,cAAK0sG,MAAL,GAAc,IAAI/N,gDAAJ,CAAUkN,4DAAV,CAAd;AACA;AACA,YAAMjxE,YAAYF,2DAAgBA,CAACurE,sBAAnC;;AAf6B,0BAgBXjH,6DAAUA,QAAO9pI,gDAAjB,EAA0B,MAAKw3I,MAAL,CAAYzrI,KAAtC,EAA6C;AAC3D25D;AAD2D,SAA7C,CAhBW;AAAA;AAAA,YAgBpBr5C,KAhBoB;;AAmB7By9G,qEAAUA,QAAOmN,2DAAjB,EAA+B5qH,KAA/B,EAAsC;AAClCq5C;AADkC,SAAtC;AAGAokE,qEAAUA,QAAO2N,4DAAjB,EAAgCprH,KAAhC,EAAuC;AACnCq5C;AADmC,SAAvC;AAGA,cAAK9pC,YAAL,CAAkBxiC,OAAO4H,MAAP,CAAc,EAAd,EAAkB+1I,kBAAlB,EAAsC,MAAKhzG,aAA3C,CAAlB;AACA,cAAKixB,QAAL,CAAc,IAAI0iF,iDAAJ,OAAd;AACA,cAAKlC,KAAL,aAAqBnhH,8DAAWA,EAAhC;AACA,cAAK4hD,KAAL,CAAW,EAAX,EAAe,EAAf;AACA,cAAK0hE,QAAL,CAAc,EAAd,EAAkB,EAAlB;AACA,cAAKC,MAAL,CAAY,EAAZ;AACA,cAAKjrG,KAAL,CAAW,EAAX;AACA,cAAK0iC,KAAL,CAAW,EAAX;AACA,cAAK7K,IAAL,CAAU,EAAV;AACAqzE,4EAAmBA;AAlCU;AAmChC;;AAED;;;;;;;;;;;;iCAQmB;AACf,gBAAI,UAAOz6I,MAAX,EAAmB;AACf,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKw0I,WAAL,GAAmBtsG,MAA1B;AACH;;AAED;;;;;;;;;;;;;;;;;;;sCAgBwB;AACpB,gBAAI,UAAOloC,MAAX,EAAmB;AACf,uBAAO,IAAP;AACH;AACD,mBAAO,KAAK+5I,YAAZ;AACH;;;+BAEO;AACJ,mBAAO,KAAKI,gBAAZ;AACH;;AAED;;;;;;;;;;;;;;;;;gCAckB;AACd,gBAAI,UAAOn6I,MAAX,EAAmB;AACf,oBAAM64I,cAAc,KAAKrE,WAAL,GAAmBqE,WAAvC;AACA,qBAAKoB,MAAL;AACApB,+BAAeA,YAAYT,KAAZ,CAAkB,KAAKA,KAAL,EAAlB,CAAf;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAK6B,MAAZ;AACH;;AAED;;;;;;;;;;;;;;AA+BA;;;;;;;;;mCASuB;AACnB,gBAAI,UAASj6I,MAAb,EAAqB;AACjB,qBAAKo9E,SAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,SAAZ;AACH;;AAED;;;;;;;;;mCAMqB;AAAA,8CAAR/yE,MAAQ;AAARA,sBAAQ;AAAA;;AACjB,gBAAIA,OAAOrK,MAAX,EAAmB;AACf,oBAAMy4I,aAAaz8I,OAAO4H,MAAP,CAAc,EAAd,EAAkByG,OAAO,CAAP,EAAUouI,UAA5B,CAAnB;AACA,oBAAMiC,uBAAuB1+I,OAAO4H,MAAP,CAAc,EAAd,EAAkByG,OAAO,CAAP,EAAUqwI,oBAA5B,CAA7B;;AAEA,qBAAKZ,SAAL,GAAiB,EAAErB,sBAAF,EAAciC,0CAAd,EAAjB;AACA,oBAAMC,mBAAmBC,2DAAUA,CAAC,IAAX,CAAzB;AACA;AACA,qBAAKb,YAAL,CAAkBlB,WAAlB,GAAgC8B,iBAAiB,CAAjB,CAAhC;AACAE,iFAAgBA,CAAC,IAAjB;AACA,qBAAKrG,WAAL,GAAmBqE,WAAnB,CAA+BT,KAA/B,CAAqC,KAAKA,KAAL,EAArC,EAAmDnpH,KAAnD,CAAyD,KAAKmrH,MAA9D;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKN,SAAZ;AACH;;AAED;;;;;;uCAGwB;AACpB,gBAAI,UAAM95I,MAAV,EAAkB;AACd,qBAAK2mC,aAAL;AACA,uBAAO,IAAP;AACH;AACD;AACA,mBAAO,KAAKA,aAAZ;AACH;;AAED;;;;;;;;;;kCAOWqvG,U,EAAY;AACnB,gBAAM8E,mBAAmB,KAAKt8G,YAAL,GAAoBs8G,gBAA7C;AACA,gBAAI9E,UAAJ,EAAgB;AACZ8E,iCAAiB1iH,QAAjB,CAA0B49G,UAA1B;AACA,uBAAO,IAAP;AACH;AACD,mBAAO8E,gBAAP;AACH;;AAED;;;;;;;;;iCAMmB;AACf,gBAAI,UAAO96I,MAAX,EAAmB;AACf,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKw0I,WAAL,GAAmBgG,MAA1B;AACH;;AAED;;;;;;;;;;;;;;;;;;;6BAgBM3rI,S,EAAW;AACb,gBAAMisI,mBAAmB,KAAKt8G,YAAL,GAAoBs8G,gBAA7C;AACA,mBAAOA,iBAAiBnF,QAAjB,CAA0B9mI,SAA1B,CAAP;AACH;;AAED;;;;;;;;iCAKU;AAAA;;AACN,gBAAM4sB,QAAQ,KAAKA,KAAL,EAAd;AACA,gBAAMs/G,WAAW,KAAKvG,WAAL,GAAmBqE,WAApC;AACA,gBAAMiC,mBAAmB,KAAKt8G,YAAL,GAAoBs8G,gBAA7C;AACA;;AAJM,oCAK4CE,sEAAgBA,CAAC,IAAjB,EAAuBv/G,KAAvB,CAL5C;AAAA,gBAKEg9G,UALF,qBAKEA,UALF;AAAA,gBAKc/jG,YALd,qBAKcA,YALd;AAAA,gBAK4BlO,WAL5B,qBAK4BA,WAL5B;;AAONs0G,6BAAiBG,MAAjB,CAAwB,EAAE5F,QAAQ,IAAV,EAAgBt1H,QAAQ,YAAxB,EAAxB;AACA;AACAm7H,+EAAaA,CAAC,KAAKhzG,MAAL,EAAd,EAA6BuwG,UAA7B,EAAyC/jG,YAAzC,EAAuDlO,WAAvD;AACA;AACA20G,8EAAgBA,CAAC,IAAjB,EAAuB1C,UAAvB,EAAmC/jG,YAAnC,EAAiDlO,WAAjD;AACA;AACAs0G,6BAAiBG,MAAjB,CAAwB,EAAE5F,QAAQ,IAAV,EAAgBt1H,QAAQ,OAAxB,EAAxB;AACA,gBAAMq7H,WAAW,EAAjB;AACAL,qBAASjC,cAAT,GAA0Bv8I,KAA1B,CAAgCs0C,IAAhC,CAAqC,UAACmkC,EAAD,EAAQ;AACzComE,yBAAS77I,IAAT,CAAcy1E,GAAGh4D,OAAH,GAAajX,IAAb,EAAd;AACH,aAFD;AAGA+1E,oBAAQu/D,GAAR,CAAYD,QAAZ,EAAsBr/D,IAAtB,CAA2B,YAAM;AAC7B,uBAAKm+D,gBAAL;AACH,aAFD;AAGH;;AAED;;;;;;;;;;;;;;;;;;gCAeS;AACL,mBAAO,KAAK1F,WAAL,GAAmBqE,WAAnB,CAA+ByC,OAA/B,CAAuC,GAAvC,CAAP;AACH;;AAED;;;;;;;;;;;;;;;;;gCAcS;AACL,mBAAO,KAAK9G,WAAL,GAAmBqE,WAAnB,CAA+ByC,OAA/B,CAAuC,GAAvC,CAAP;AACH;;AAED;;;;;;;;;;;;;;;;yCAakB;AACd,gBAAMzC,cAAc,KAAKrE,WAAL,GAAmBqE,WAAvC;AACA,mBAAOA,YAAYyC,OAAZ,CAAoBC,kDAApB,CAAP;AACH;;;gCAEiB;AACd,gBAAI,UAAOv7I,MAAX,EAAmB;AACf,oBAAIzD,wDAAJ;AACA,oBAAI,8DAAqB,QAAzB,EAAmC;AAC/BA,4BAAQm0C,gEAAaA,mDAAYxW,IAAzB,EAAR;AACH;AACD,qBAAKmpB,MAAL,GAAc9mD,KAAd;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAK8mD,MAAZ;AACH;;;qCAxNoBm4F,e,EAAiBC,Q,EAAU9B,kB,EAAoB;AAChE,gBAAM9yI,WAAW,IAAI6yI,MAAJ,CAAWC,kBAAX,CAAjB;;AAEA,iBAAK,IAAM98I,GAAX,IAAkB2+I,eAAlB,EAAmC;AAC/B30I,yBAAShK,GAAT,EAAc2+I,gBAAgB3+I,GAAhB,CAAd;AACH;AACD;AACAgK,qBAASohE,QAAT,CAAkBwzE,QAAlB;AACA,mBAAO50I,QAAP;AACH;;AAED;;;;;;;;;;qCAOqB;AACjB,mBAAO,QAAP;AACH;;;;EA9I+B60I,4D;;AAAfhC,qE;;;;;;;;;;;;;;;;;AC5BrB;;AAEA;;;;;;AAMO,IAAMiC,oBAAoB,SAApBA,iBAAoB,CAACjwG,OAAD,EAAa;AAAA;;AAC1C,QAAMkwG,eAAelwG,QAAQxhC,MAAR,GAAiBswI,MAAtC;AACA,QAAMqB,cAAcnwG,QAAQmtC,KAAR,GAAgB,CAAhB,CAApB;AACA,QAAMijE,iBAAiBpwG,QAAQ6uG,QAAR,GAAmB,CAAnB,CAAvB;AACA,QAAMwB,mEACEx2G,8CADF,SACSA,8CADT,EACiB,CAACy2G,gDAAD,EAAQC,oDAAR,EAAmBC,gDAAnB,CADjB,kCAEEx2G,iDAFF,SAEYA,iDAFZ,EAEuB,CAACw2G,gDAAD,EAAQD,oDAAR,EAAmBD,gDAAnB,CAFvB,kCAGEz2G,8CAHF,SAGSG,iDAHT,EAGoB,CAACs2G,gDAAD,EAAQE,gDAAR,EAAeD,oDAAf,CAHpB,kCAIEv2G,iDAJF,SAIYH,8CAJZ,EAIoB,CAAC02G,oDAAD,EAAYC,gDAAZ,EAAmBF,gDAAnB,CAJpB,iBAAN;AAMA,QAAMG,gBAAgB,CAClB,CAACC,iDAAD,EAASC,iDAAT,CADkB,EAElB,CAACA,iDAAD,EAASD,iDAAT,CAFkB,CAAtB;AAIA,QAAME,gBAAgBT,YAAYv+E,QAAZ,IAAwB/3B,8CAA9C;AACA,QAAMg3G,mBAAmBT,eAAex+E,QAAf,IAA2B/3B,8CAApD;;AAEA,WAAO;AACHryB,iBAAS6oI,aAAgBO,aAAhB,SAAiCC,gBAAjC,CADN;AAEHC,iBAASZ,aAAat+E,QAAb,KAA0B93B,+CAA1B,IAAkCo2G,aAAat+E,QAAb,KAA0B/3B,8CAA5D,GACT42G,cAAc,CAAd,CADS,GACUA,cAAc,CAAd;AAHhB,KAAP;AAKH,CAtBM,C;;;;;;;;;;;;ACRP;AAAA;AAAA;AAAO,IAAMM,eAAe;AACxBn/E,cAAU,KADc;AAExB0W,WAAO,MAFiB;AAGxB52B,aAAS,CAHe;AAIxBs/F,cAAU;AAJc,CAArB;;AAOA,IAAMC,mBAAmB;AAC5Br/E,cAAU,KADkB;AAE5B0W,WAAO,MAFqB;AAG5B52B,aAAS,EAHmB;AAI5Bs/F,cAAU;AAJkB,CAAzB,C;;;;;;;;;;;;;;;;;;;;;ACPP;;AAMA;;AAEA,IAAME,4BAA2B,SAA3BA,yBAA2B,CAAC/vG,WAAD,EAAc+qB,QAAd,EAA2B;AAAA;;AACxD,QAAMilF,YAAY,SAAZA,SAAY;AAAA,eAAS94I,MAAMgH,IAAN,OAAiB0F,oDAASA,CAACC,OAApC;AAAA,KAAlB;AACA,QAAMioI,SAAS/gF,SAASlsB,OAAxB;AACA,QAAMmtG,cAAcF,OAAOnE,WAAP,GAAqBqE,WAAzC;AACA,QAAMt0E,UAAU,YAAG9jE,MAAH,gCAAao4I,YAAYiE,oBAAZ,CAAiC,GAAjC,CAAb,EAAhB;AACA,QAAMt4E,UAAU,aAAG/jE,MAAH,iCAAao4I,YAAYiE,oBAAZ,CAAiC,GAAjC,CAAb,EAAhB;AACA,QAAMC,SAASx4E,QAAQznD,KAAR,CAAc;AAAA,eAAS/Y,MAAMgH,IAAN,OAAiB0F,oDAASA,CAACb,SAApC;AAAA,KAAd,CAAf;AACA,QAAMotI,WAAWnE,YAAYh/G,QAAZ,GAAuBtxB,YAAvB,EAAjB;AACA,QAAM00I,YAAYD,SAASC,SAA3B;AACA,QAAMC,YAAYF,SAASE,SAA3B;AACArwG,gBAAYgE,IAAZ,CAAiB,UAACN,IAAD,EAAU;AACvB,YAAM4sG,eAAe5sG,KAAKvzB,OAAL,GAAe46C,QAAf,EAArB;AACA,YAAI,EAAE2M,QAAQznD,KAAR,CAAc+/H,SAAd,KAA4Br4E,QAAQ1nD,KAAR,CAAc+/H,SAAd,CAA9B,CAAJ,EAA6D;AACzD,gBAAMO,cAAc7sG,KAAKvzB,OAAL,GAAeqgI,aAAf,GAA+B,CAA/B,CAApB;AACA,gBAAMC,gBAAgBF,YAAY3/H,MAAZ,CAAmB;AAAA,uBAAKy/H,UAAU/wI,SAAV,CAAoB;AAAA,2BAAKuQ,EAAE6gI,MAAF,CAAS3hJ,CAAT,CAAL;AAAA,iBAApB,MAA0C,CAAC,CAAhD;AAAA,aAAnB,CAAtB;AACA,gBAAM4hJ,gBAAgBJ,YAAY3/H,MAAZ,CAAmB;AAAA,uBAAKw/H,UAAU9wI,SAAV,CAAoB;AAAA,2BAAKuQ,EAAE6gI,MAAF,CAAS3hJ,CAAT,CAAL;AAAA,iBAApB,MAA0C,CAAC,CAAhD;AAAA,aAAnB,CAAtB;AACA,gBAAI6hJ,mBAAJ;AACA,gBAAIV,MAAJ,EAAY;AACRU,6BAAaH,cAAc3+I,GAAd,CAAkB;AAAA,gCAAQ/C,CAAR;AAAA,iBAAlB,CAAb;AACH,aAFD,MAEO;AACH6hJ,6BAAaD,cAAc7+I,GAAd,CAAkB;AAAA,gCAAQ/C,CAAR;AAAA,iBAAlB,CAAb;AACH;;AAEDuhJ,yBAAaO,aAAb,CAA2B,GAA3B,EAAgCD,UAAhC,EAA4C,IAA5C;AACH;AACJ,KAfD;AAgBH,CA1BD;;AA4BA,IAAME,iCAAgC;AAClCrjF,gBAAY;AACR,aAAK,WAAC+9E,kBAAD,EAAqB3sG,OAArB,EAAiC;AAClC,gBAAMkyG,yBAAyBvF,mBAAmBhlE,YAAlD;AACA,gBAAMC,cAAc5nC,QAAQmyG,WAAR,EAApB;AACA,mBAAOD,yBAAyBtqE,gBAAgBsqE,sBAAzC,GAAkE,IAAzE;AACH;AALO,KADsB;AAQlCj+E,iBAAa;AACTjC,iBAAS,iBAAC26E,kBAAD,EAAqB3sG,OAArB,EAAiC;AACtC,gBAAMoyG,kBAAkBzF,mBAAmB0F,UAA3C;AACA,gBAAMzF,oBAAoBD,mBAAmBhlE,YAA7C;AACA,gBAAM2qE,SAAStyG,QAAQyD,EAAR,EAAf;AACA,gBAAMmkC,cAAc5nC,QAAQmyG,WAAR,EAApB;AACA,gBAAIvF,iBAAJ,EAAuB;AACnB,uBAAOA,sBAAsBhlE,WAAtB,GAAoC,IAApC,GAA2C0qE,WAAWF,eAA7D;AACH;AACD,mBAAO,IAAP;AACH;AAVQ;AARqB,CAAtC;;AAsBA;;;;;;;;;;;;;;;IAcqBxD,a;AACjB,2BAAa5uG,OAAb,EAAsB;AAAA;;AAClB,aAAKA,OAAL,GAAeA,OAAf;AACA,aAAKuyG,kBAAL,GAA0B,KAAK72I,WAAL,CAAiBw1I,wBAAjB,EAA1B;AACA,aAAKvD,sBAAL,CAA4B,KAAKjyI,WAAL,CAAiBu2I,6BAAjB,EAA5B;AACH;;;;4CAU6B;AAC1B,gBAAI,UAAO39I,MAAX,EAAmB;AACf,qBAAKi+I,kBAAL,GAA0B,sDAAa,KAAK72I,WAAL,CAAiBw1I,wBAAjB,EAAvC;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKqB,kBAAZ;AACH;;;iDAEkC;AAAA;;AAC/B,gBAAI,UAAOj+I,MAAX,EAAmB;AACf,qBAAKk+I,uBAAL,GAA+Br3G,iEAAcA,CAACA,iEAAcA,CAAC,EAAf,EAC1C,KAAKz/B,WAAL,CAAiBu2I,6BAAjB,EAD0C,CAAf,EACwB,sDAAa,EADrC,CAA/B;AAEA,oBAAMjyG,UAAU,KAAKA,OAArB;AACA,qBAAKA,OAAL,CAAaktG,IAAb,CAAkB,gBAAlB,EAAoC78D,IAApC,CAAyC,YAAM;AAC3CoiE,0FAAsBA,CAAC,CAAC,MAAKF,kBAAN,CAAvB,EAAkD,KAAlD;AACA,wBAAM5E,yBAAyB,MAAK6E,uBAApC;AACA,wBAAM5jF,aAAa++E,uBAAuB/+E,UAA1C;AACA,wBAAMqF,cAAc05E,uBAAuB15E,WAA3C;AACA,wBAAMk5E,cAAcntG,QAAQ8oG,WAAR,GAAsBqE,WAA1C;AACA,wBAAMhsG,cAAcgsG,YAAYrE,WAAZ,GAA0B5tG,QAA1B,CAAmCrqC,KAAvD;AACAswC,gCAAYgE,IAAZ,CAAiB,UAACN,IAAD,EAAU;AACvB,4BAAM4sG,eAAe5sG,KAAKvzB,OAAL,GAAe46C,QAAf,EAArB;AACA,6BAAK,IAAM/6D,GAAX,IAAkBy9D,UAAlB,EAA8B;AAC1B6iF,yCAAaiB,iCAAb,CAA+CvhJ,GAA/C,EAAoDy9D,WAAWz9D,GAAX,CAApD;AACH;AACD,6BAAK,IAAMA,IAAX,IAAkB8iE,WAAlB,EAA+B;AAC3Bw9E,yCAAakB,kCAAb,CAAgDxhJ,IAAhD,EAAqD8iE,YAAY9iE,IAAZ,CAArD;AACH;AACJ,qBARD;AASH,iBAhBD;AAiBA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKqhJ,uBAAZ;AACH;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0CA2CmB37E,S,EAAWn0D,O,EAAS;AACnC,gBAAMglE,cAAcp3E,OAAO4H,MAAP,CAAcwK,OAAd,CAApB;AACA,gBAAMqN,WAAW23D,YAAY33D,QAA7B;AACA,gBAAM9Y,OAAO,KAAK+oC,OAAL,CAAa/oC,IAAb,EAAb;;AAEAywE,wBAAYrzD,MAAZ,GAAqBwiD,SAArB;AACA,gBAAM5zD,QAAQ21D,8EAA2BA,CAAC3hE,IAA5B,EAAkC8Y,QAAlC,CAAd;AACA9Y,iBAAKkL,SAAL,CAAec,KAAf,EAAsBykE,WAAtB,EAAmC;AAC/BjlE,0BAAU,KAAKu9B,OAAL,CAAa0sG,KAAb;AADqB,aAAnC;AAGA,mBAAO,IAAP;AACH;;;mDAjGkC;AAC/B,mBAAOwE,yBAAP;AACH;;;wDAEuC;AACpC,mBAAOe,8BAAP;AACH;;;;;;AAbgBrD,4E;;;;;;;;;;;;ACxErB;AAAA;AAAA;;AAEeA,sHAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AAEA;;AAEA;;;;;;;;AAQO,IAAMM,aAAa,SAAbA,UAAa,CAAClvG,OAAD,EAAa;AACnC,QAAM4yG,MAAM5yG,QAAQouG,SAAR,CAAkBrB,UAA9B;;AAEA,WAAO,CAAC,IAAI6F,IAAIC,WAAR,CAAoB7yG,QAAQouG,SAA5B,EAAuCpuG,QAAQlN,YAAR,EAAvC,CAAD,CAAP;AACH,CAJM;;AAMP;;;;;AAKO,IAAMggH,gBAAgB,SAAhBA,aAAgB,CAAC9yG,OAAD,EAAa;AACtC,QAAMovG,mBAAmBpvG,QAAQlN,YAAR,GAAuBs8G,gBAAhD;AACAA,qBAAiBG,MAAjB,CAAwB,EAAE5F,QAAQ3pG,OAAV,EAAmB3rB,QAAQ,cAA3B,EAAxB;AACA,QAAM84H,cAAcntG,QAAQ8oG,WAAR,GAAsBqE,WAA1C;;AAEA,QAAM4F,aAAa/yG,QAAQkuG,WAA3B;AACA,SAAK,IAAM/8I,GAAX,IAAkB4hJ,UAAlB,EAA8B;AAC1B,YAAMliJ,QAAQmvC,QAAQ7uC,GAAR,GAAd;AACA,YAAIN,UAAU,IAAd,EAAoB;AAChBs8I,wBAAYh8I,GAAZ,KAAoBg8I,YAAYh8I,GAAZ,EAAiBN,KAAjB,CAApB;AACH;AACJ;AACDs8I,gBAAY6F,cAAZ;AACAhzG,YAAQsuG,YAAR,GAAuB,EAAvB;AACAc,qBAAiBG,MAAjB,CAAwB,EAAE5F,QAAQ3pG,OAAV,EAAmB3rB,QAAQ,aAA3B,EAAxB;AACA+6H,qBAAiBG,MAAjB,CAAwB,EAAE5F,QAAQ3pG,OAAV,EAAmB3rB,QAAQ,SAA3B,EAAxB;AACH,CAhBM;;AAkBP,IAAM4+H,kBAAkB,SAAlBA,eAAkB,CAACt4I,KAAD,EAAQgE,MAAR,EAAmB;AACvC,QAAI6R,UAAU;AAAA,eAAM,KAAN;AAAA,KAAd;AACA,WAAO,CAAC7V,MAAMyW,KAAN,CAAY,UAAC8hI,MAAD,EAASrjJ,CAAT,EAAe;AAC/B,gBAAQqjJ,MAAR;AACA,iBAAKC,+CAAL;AACA,iBAAKC,kDAAL;AACA,iBAAKC,iDAAL;AACI7iI,0BAAUyxH,0DAAOA,CAAC,OAAR,CAAV;AACA;;AAEJ,iBAAKr5E,gDAAL;AACA,iBAAKC,+CAAL;AACA,iBAAK7vB,gDAAL;AACA,iBAAKs6G,+CAAL;AACA,iBAAK5tE,iDAAL;AACIl1D,0BAAUyxH,0DAAOA,CAAC,QAAR,CAAV;AACA;AACJ;AACIzxH,0BAAU;AAAA,2BAAM,IAAN;AAAA,iBAAV;AACA;AAhBJ;AAkBA,YAAM0xH,SAASvjI,OAAO9O,CAAP,EAAU,CAAV,CAAf;AACA,YAAMsyI,SAASxjI,OAAO9O,CAAP,EAAU,CAAV,CAAf;;AAEA,eAAO2gB,QAAQ0xH,MAAR,EAAgBC,MAAhB,CAAP;AACH,KAvBO,CAAR;AAwBH,CA1BD;;AA4BA,IAAMoR,gBAAgB,SAAhBA,aAAgB,CAAC54I,KAAD,EAAQgE,MAAR;AAAA,WAAmBhE,MAAMyW,KAAN,CAAY,UAAC8hI,MAAD,EAASrjJ,CAAT,EAAe;AAChE,YAAMub,MAAMzM,OAAO9O,CAAP,EAAU,CAAV,CAAZ;AACA,gBAAQqjJ,MAAR;AACA,iBAAKC,+CAAL;AACA,iBAAKC,kDAAL;AACI,uBAAOhoI,QAAQ,IAAf;;AAEJ,iBAAKkoI,+CAAL;AACI,uBAAOloI,OAAO,CAACA,IAAI+W,OAAJ,EAAf;;AAEJ;AACI,uBAAO,IAAP;;AATJ;AAYH,KAdwC,CAAnB;AAAA,CAAtB;;AAgBO,IAAM4sH,sBAAsB,SAAtBA,mBAAsB,CAAC/uG,OAAD,EAAa;AAC5C,QAAMzc,QAAQyc,QAAQ0uG,MAAtB;;AAEA,QAAMqE,aAAaziJ,OAAOyI,IAAP,CAAYinC,QAAQkuG,WAApB,CAAnB;AACA,QAAMvzI,qCAAYo4I,UAAZ,sBAA2BziJ,OAAOyI,IAAP,CAAY41I,4DAAZ,CAA3B,EAAN;AACA,QAAM6E,iBAAiB,6BAAIT,UAAJ,sBAAmBziJ,OAAOyI,IAAP,CAAY41I,4DAAZ,CAAnB,GAA+C17I,GAA/C,CAAmD;AAAA,eACnEypE,2DAAgBA,CAACurE,sBADkD,SACxBx3G,IADwB;AAAA,KAAnD,CAAvB;AAEAlN,UAAMkwH,sBAAN,CAA6BD,cAA7B,EAA6C,YAAe;AAAA,0CAAX70I,MAAW;AAAXA,kBAAW;AAAA;;AACxD,YAAI+0I,cAAcT,gBAAgBt4I,KAAhB,EAAuBgE,MAAvB,CAAlB;AACA+0I,sBAAcH,cAAc54I,KAAd,EAAqBgE,MAArB,CAAd;;AAEA;AACA,YAAI+0I,eAAe1zG,QAAQjQ,KAAR,EAAnB,EAAoC;AAChC+iH,0BAAc9yG,OAAd;AACAA,oBAAQoF,MAAR;AACH;AACJ,KATD,EASG,IATH;AAUH,CAjBM;;AAmBA,IAAMqtG,yBAAyB,SAAzBA,sBAAyB,CAACkB,QAAD,EAAWznF,QAAX,EAAwB;AAC1D,QAAM+gF,SAAS/gF,SAASlsB,OAAxB;AACA,QAAMmtG,cAAcF,OAAOnE,WAAP,GAAqBqE,WAAzC;AACA,QAAMhsG,cAAcgsG,YAAYrE,WAAZ,GAA0B5tG,QAA1B,CAAmCrqC,KAAvD;AACA8iJ,aAAShgJ,OAAT,CAAiB;AAAA,eAAU85I,OAAOtsG,WAAP,EAAoB+qB,QAApB,CAAV;AAAA,KAAjB;AACH,CALM;;AAOA,IAAMijF,mBAAmB,SAAnBA,gBAAmB,CAACnvG,OAAD,EAAa;AAAA,gCACP6yG,kEAAWA,CAACe,QAAZ,EADO;AAAA;AAAA,QAClCC,WADkC;AAAA,QACrBC,UADqB;;AAEzC,QAAMvwH,QAAQyc,QAAQ0uG,MAAtB;AACAnrH,UAAM4N,MAAN,CAAa,WAAb,EAA0B0iH,WAA1B;AACAtwH,UAAM4N,MAAN,CAAa,aAAb,EAA4B2iH,UAA5B;AACH,CALM,C;;;;;;;;;;;;ACjHP;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;AAEA;;;;;;AAMO,IAAMtE,gBAAgB,SAAhBA,aAAgB,CAAChzG,MAAD,EAASuwG,UAAT,EAAqBvuI,MAArB,EAA6Bs8B,WAA7B,EAA6C;AAAA,QAElErnC,IAFkE,GAMlEs5I,UANkE,CAElEt5I,IAFkE;AAAA,QAGlEV,OAHkE,GAMlEg6I,UANkE,CAGlEh6I,OAHkE;AAAA,QAIlEge,MAJkE,GAMlEg8H,UANkE,CAIlEh8H,MAJkE;AAAA,QAKlEgjI,cALkE,GAMlEhH,UANkE,CAKlEgH,cALkE;AAAA,QASlEhzG,OATkE,GAalEgzG,cAbkE,CASlEhzG,OATkE;AAAA,QAUlEE,QAVkE,GAalE8yG,cAbkE,CAUlE9yG,QAVkE;AAAA,QAWlEI,UAXkE,GAalE0yG,cAbkE,CAWlE1yG,UAXkE;AAAA,QAYlEE,WAZkE,GAalEwyG,cAbkE,CAYlExyG,WAZkE;;AActE,QAAI9tC,QAAQV,OAAZ,EAAqB;AACjBypC,eAAO1B,WAAP,CAAmBA,WAAnB,EACiBt8B,MADjB,CACwBA,MADxB,EAEiB08B,QAFjB,CAE0B;AACNnE,iBAAK,CAACgK,OAAD,EAAUhuC,QAAQ,CAAR,CAAV,EAAsBkuC,QAAtB,CADC;AAENjK,oBAAQ,CAACvjC,KAAK,CAAL,CAAD,EAAUsd,MAAV,EAAkBtd,KAAK,CAAL,CAAlB,CAFF;AAGNwjC,oBAAQ,CAACoK,UAAD,EAAatuC,QAAQ,CAAR,CAAb,EAAyBwuC,WAAzB;AAHF,SAF1B,EAOiByyG,aAPjB;AAQH;AACJ,CAxBM;;AA0BP;;;;;;;AAOO,IAAM1E,mBAAmB,SAAnBA,gBAAmB,CAACtvG,OAAD,EAAUjQ,KAAV,EAAoB;AAChD,QAAIiZ,eAAe7N,iEAAcA,CAAC,EAAf,EAAmB6E,QAAQxhC,MAAR,EAAnB,CAAnB;AACA;;AAFgD,gCAGxBuxB,MAAMo0C,qBAAN,EAHwB;AAAA,QAG1CloC,MAH0C,yBAG1CA,MAH0C;AAAA,QAGlCD,KAHkC,yBAGlCA,KAHkC;;AAIhD,QAAMi4G,aAAaj0G,QAAQ/D,MAAR,EAAnB;AACA,QAAMi4G,YAAYl0G,QAAQhE,KAAR,EAAlB;AACA,QAAMqzG,WAAWrvG,QAAQ8oG,WAAR,GAAsBqE,WAAvC;;AANgD,gCAc5CkC,SAAS8E,eAAT,EAd4C;AAAA,QAQ5C3zG,iBAR4C,yBAQ5CA,iBAR4C;AAAA,QAS5CD,cAT4C,yBAS5CA,cAT4C;AAAA,QAU5CK,QAV4C,yBAU5CA,QAV4C;AAAA,QAW5CntC,IAX4C,yBAW5CA,IAX4C;AAAA,QAY5CV,OAZ4C,yBAY5CA,OAZ4C;AAAA,QAa5Cge,MAb4C,yBAa5CA,MAb4C;;AAAA,0BAqB5CivB,QAAQxhC,MAAR,EArB4C;AAAA,QAgB5C83H,QAhB4C,mBAgB5CA,QAhB4C;AAAA,QAiB5C8d,SAjB4C,mBAiB5CA,SAjB4C;AAAA,QAkB5C9vG,WAlB4C,mBAkB5CA,WAlB4C;AAAA,QAmB5C+vG,WAnB4C,mBAmB5CA,WAnB4C;AAAA,QAoB5CvF,MApB4C,mBAoB5CA,MApB4C;AAsBhD;;;AACA,QAAMqB,cAAcnwG,QAAQmtC,KAAR,GAAgB,CAAhB,CAApB;AACC;AACD,QAAMijE,iBAAiBpwG,QAAQ6uG,QAAR,GAAmB,CAAnB,CAAvB;AACA;AACA,QAAMyF,iBAAiBxF,OAAOl9E,QAA9B;AACA;AACA,QAAM2iF,oBAAoBtE,6EAAiBA,CAACjwG,OAAlB,CAA1B;;AAEA/D,aAASnvB,KAAKuT,KAAL,CAAW4b,MAAX,CAAT;AACAD,YAAQlvB,KAAKuT,KAAL,CAAW2b,KAAX,CAAR;;AAEA,QAAMw4G,2BAA2B1nI,KAAKxD,GAAL,CAAS2qI,aAAa,CAAb,GAAiBA,UAAjB,GAA8Bh4G,MAAvC,EAA+Cm4G,SAA/C,CAAjC;AACA,QAAMK,0BAA0B3nI,KAAKxD,GAAL,CAAS4qI,YAAY,CAAZ,GAAgBA,SAAhB,GAA4Bl4G,KAArC,EAA4Cs6F,QAA5C,CAAhC;;AAEA;;AArCgD,yBAsCdoe,kEAAaA,CAAC10G,OAAd,EAAuBw0G,wBAAvB,EAAiDC,uBAAjD,CAtCc;AAAA,QAsCxCjtI,OAtCwC,kBAsCxCA,OAtCwC;AAAA,QAsC/BmtI,YAtC+B,kBAsC/BA,YAtC+B;;AAwChD;;;AACA,QAAM7D,UAAU8D,kEAAYA,CAAC50G,OAAb,EAAsB20G,YAAtB,EAAoCH,wBAApC,EAA8DC,uBAA9D,CAAhB;AACAz0G,YAAQquG,YAAR,CAAqBS,MAArB,GAA8B,EAA9B;AACAgC,YAAQn9I,OAAR,CAAgB,UAAC8J,CAAD,EAAO;AACnBuiC,gBAAQquG,YAAR,CAAqBS,MAArB,CAA4BrxI,EAAE4sE,SAA9B,IAA2C5sE,EAAEqxI,MAA7C;AACH,KAFD;;AAIA,QAAM+F,cAAcC,oEAAcA,CAAChE,OAAf,EAAwBhC,MAAxB,EAAgC0F,wBAAhC,EAA0DC,uBAA1D,CAApB;AACA,QAAMM,cAAeT,mBAAmBx6G,+CAAnB,IAA2Bw6G,mBAAmBv6G,gDAA/C,GAAwD86G,YAAY74G,KAApE,GAA4E,CAAhG;AACA,QAAMg5G,eAAgBV,mBAAmBz6G,8CAAnB,IAA0By6G,mBAAmBt6G,iDAA9C,GAAwD66G,YAAY54G,MAApE,GAA6E,CAAlG;;AAEA;AACA,QAAM8wG,aAAa;AACfvlI,wBADe;AAEfspI,wBAFe;AAGf9D,kBAAU,CAAChtG,OAAD,CAHK;AAIfvsC,kBAJe;AAKfV,wBALe;AAMfge,sBANe;AAOfgjI,wBAAgB1E,SAAS0E,cAAT;AAPD,KAAnB;AASA,QAAMj5G,cAAc;AAChBm6G,oBAAY;AACRh5G,0BADQ;AAERD;AAFQ,SADI;AAKhB24G,kCALgB;AAMhBE,gCANgB;AAOhBK,qBAAaT,uBAPG;AAQhBU,sBAAcX,wBARE;AAShBx4G,eAAOy4G,0BAA0BM,WATjB;AAUhB94G,gBAAQu4G,2BAA2BG,YAA3B,GAA0CK,YAVlC;AAWhBn0G,uBAAeb,QAAQa,aAAR,EAXC;AAYhBC,sBAAcd,QAAQc,YAAR;AAZE,KAApB;AAcAkI,mBAAe7N,iEAAcA,CAAC6N,YAAf,EAA6B;AACxC1E,gCADwC;AAExC+vG,gCAFwC;AAGxCr3G,gBAAQ7B,iEAAcA,CAACk0G,SAAS7nE,QAAT,GAAoBxqC,MAAnC,EAA2CgD,QAAQxhC,MAAR,GAAiBw+B,MAA5D,CAHgC;AAIxCu3G,4CAJwC;AAKxCzF,sBALwC;AAMxC3hE,eAAOgjE,WANiC;AAOxCtB,kBAAUuB,cAP8B;AAQxC5vG,4CARwC;AASxCD,sCATwC;AAUxCK;AAVwC,KAA7B,CAAf;AAYA,WAAO;AACHoI,kCADG;AAEH+jG,8BAFG;AAGHjyG;AAHG,KAAP;AAKH,CA5FM,C;;;;;;;;;;;;AC7CP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAIA;;;;;;;AAOO,IAAMs6G,gBAAgB,SAAhBA,aAAgB,CAACnI,MAAD,EAAY;AACrC,QAAIoI,kBAAJ;AACA,QAAMC,UAAU,EAAhB;AACA,QAAMhmF,OAAO29E,OAAOsI,cAAP,EAAb;;AAEAjlJ,WAAOwtB,OAAP,CAAewxC,IAAf,EAAqB37D,OAArB,CAA6B,UAAC6hJ,QAAD,EAAc;AACvC,YAAMlnG,QAAQknG,SAAS,CAAT,EAAY,CAAZ,CAAd;AACA,YAAMnrE,YAAYmrE,SAAS,CAAT,CAAlB;AACA,YAAMC,aAAaxI,OAAO5iE,SAAP,GAAnB;;AAEA,YAAIorE,WAAWp9I,KAAX,IAAoBi2C,KAAxB,EAA+B;AAAA,gCAIvBA,MAAM9vC,MAAN,EAJuB;AAAA,gBAEvBa,IAFuB,iBAEvBA,IAFuB;AAAA,gBAGvBy7C,IAHuB,iBAGvBA,IAHuB;;AAM3B,gBAAM46F,aAAa,OAAO56F,IAAP,KAAgB,SAAhB,GAA4BA,IAA5B,GAAmC,KAAtD;AACAu6F,wBAAYM,0DAAeA,CAAIt2I,IAAnB,SAA2Bq2I,UAA3B,SAAyCrrE,SAAzC,CAAZ;AACAirE,oBAAQzhJ,IAAR,CAAa,EAAEy6C,YAAF,EAAS2+F,cAAT,EAAiB7sI,WAAWq1I,WAAWp9I,KAAvC,EAA8Cg9I,oBAA9C,EAAyDhrE,oBAAzD,EAAb;AACH;AACJ,KAfD;;AAiBA,WAAOirE,OAAP;AACH,CAvBM;;AAyBP;;;;;;;;;AASO,IAAMM,oBAAoB,SAApBA,iBAAoB,CAAC1F,YAAD,EAAejD,MAAf,EAAuBnyG,WAAvB,EAAoC+6G,WAApC,EAAoD;AACjF,QAAM/E,UAAU,EAAhB;AADiF,QAG7E70G,MAH6E,GAM7EnB,WAN6E,CAG7EmB,MAH6E;AAAA,QAI7ED,KAJ6E,GAM7ElB,WAN6E,CAI7EkB,KAJ6E;AAAA,QAK7E24G,YAL6E,GAM7E75G,WAN6E,CAK7E65G,YAL6E;AAAA,QAQ7E/iF,QAR6E,GAU7Es+E,YAV6E,CAQ7Et+E,QAR6E;AAAA,QAS7E0W,KAT6E,GAU7E4nE,YAV6E,CAS7E5nE,KAT6E;;;AAYjF,QAAMwtE,aAAaV,cAAcnI,MAAd,CAAnB;;AAEA6I,eAAWniJ,OAAX,CAAmB,UAACoiJ,QAAD,EAAWx0I,KAAX,EAAqB;AACpC,YAAIutI,SAAS,EAAb;;AAEA,YAAMkH,iBAAiB,EAAvB;AAHoC,YAK5BX,SAL4B,GAS5BU,QAT4B,CAK5BV,SAL4B;AAAA,YAM5B/mG,KAN4B,GAS5BynG,QAT4B,CAM5BznG,KAN4B;AAAA,YAO5BluC,SAP4B,GAS5B21I,QAT4B,CAO5B31I,SAP4B;AAAA,YAQ5BiqE,SAR4B,GAS5B0rE,QAT4B,CAQ5B1rE,SAR4B;;AAUpC,YAAM7rE,SAAS0xI,aAAa7lE,SAAb,KAA2B,EAA1C;AACA,YAAM8C,QAAQ3uE,OAAO2uE,KAAP,IAAgB,EAA9B;AACAA,cAAMh5E,IAAN,GAAag5E,MAAMh5E,IAAN,IAAciM,SAA3B;AACA,YAAI5B,OAAO+kC,IAAX,EAAiB;AACb/kC,mBAAOozD,QAAP,GAAkBA,QAAlB;AACApzD,mBAAO8pE,KAAP,GAAeA,KAAf;;AAEA,gBAAIutE,YAAYt0I,KAAZ,CAAJ,EAAwB;AACpButI,yBAAS+G,YAAYt0I,KAAZ,EAAmButI,MAA5B;AACH,aAFD,MAEO;AACHA,yBAASuG,UAAUnkJ,MAAV,CAAiB;AACtB88C,kCAAci/F,OAAOhyG,aAAP,CAAqB+W,UADb;AAEtB1O,2BAAO;AACHqoC,gGADG,EACOsqE,wEAAQA;AADf;AAFe,iBAAjB,CAAT;AAMH;AACDD,2BAAetsE,SAAf,GAA2BpB,UAAU7B,mDAAV,GAAsBxqC,SAAS04G,YAA/B,GAA+C14G,SAAS,GAAnF;AACA+5G,2BAAerpG,QAAf,GAA0B27B,UAAU9B,qDAAV,GAAuBxqC,KAAvB,GAA+BA,QAAQ,GAAjE;AACAg6G,2BAAeh6G,KAAf,GAAuBlvB,KAAK3D,GAAL,CAAS6sI,eAAerpG,QAAxB,EAAkCnuC,OAAOw9B,KAAzC,CAAvB;AACAg6G,2BAAe/5G,MAAf,GAAwBnvB,KAAK3D,GAAL,CAAS6sI,eAAetsE,SAAxB,EAAmClrE,OAAOy9B,MAA1C,CAAxB;;AAEA,aAACi6G,kDAAD,EAAU9+G,iDAAV,EAAkB++G,iDAAlB,EAA0BxiJ,OAA1B,CAAkC,UAAC8J,CAAD,EAAO;AACrCu4I,+BAAev4I,CAAf,IAAoBe,OAAOf,CAAP,CAApB;AACH,aAFD;AAGAqxI,mBAAOxgG,KAAP,CAAaA,KAAb,EACiB6+B,KADjB,CACuBA,KADvB,EAEiB/sE,SAFjB,CAE2BA,SAF3B,EAGiB5B,MAHjB,CAGwBA,MAHxB,EAIiBgpE,QAJjB,CAI0BylE,OAAOnE,WAAP,GAAqBqE,WAArB,CAAiCiJ,cAAjC,GAAkD7vI,OAAlD,CAA0D,CAACnG,SAAD,CAA1D,CAJ1B,EAKiB06B,WALjB,CAK6Bk7G,cAL7B,EAMiBpuE,WANjB,CAM6BqlE,OAAOP,KAAP,EAN7B,EAOiB2J,iBAPjB;;AASAvF,oBAAQj9I,IAAR,CAAa,EAAEo5I,cAAF,EAAU6B,cAAV,EAAkBzkE,oBAAlB,EAAb;AACH;AACJ,KA9CD;AA+CA,WAAOymE,OAAP;AACH,CA9DM;;AAgEP;;;;;;;;;AASO,IAAMgE,iBAAiB,SAAjBA,cAAiB,CAAChE,OAAD,EAAUZ,YAAV,EAAwB1mG,eAAxB,EAAyCP,cAAzC,EAA4D;AACtF,QAAM+sG,iBAAiBlF,QAAQ79I,GAAR,CAAY;AAAA,eAAc6iJ,WAAWhH,MAAX,CAAkBh0G,WAAlB,EAAd;AAAA,KAAZ,CAAvB;AACA,QAAM+5G,cAAc,EAAE74G,OAAO,CAAT,EAAYC,QAAQ,CAApB,EAApB;;AAEA+5G,mBAAeriJ,OAAf,CAAuB,UAACw0C,KAAD,EAAW;AAC9B,YAAIlM,SAAS,CAAb;AACA,YAAID,QAAQ,CAAZ;AACAA,gBAAQlvB,KAAK3D,GAAL,CAASg/B,MAAMnM,KAAf,EAAsBmM,MAAMwE,QAA5B,CAAR;AACA1Q,iBAASnvB,KAAK3D,GAAL,CAASg/B,MAAMlM,MAAf,EAAuBkM,MAAMuhC,SAA7B,CAAT;;AAEA,YAAIwmE,aAAa5nE,KAAb,KAAuB9B,qDAA3B,EAAuC;AACnC,gBAAIquE,YAAY74G,KAAZ,GAAoBA,KAApB,GAA4BiN,cAAhC,EAAgD;AAC5C4rG,4BAAY74G,KAAZ,GAAoBiN,cAApB;AACA4rG,4BAAY54G,MAAZ,IAAsBA,MAAtB;AACH,aAHD,MAGO;AACH44G,4BAAY74G,KAAZ,IAAqBA,KAArB;AACA64G,4BAAY54G,MAAZ,GAAqBnvB,KAAKxD,GAAL,CAASurI,YAAY54G,MAArB,EAA6BA,MAA7B,CAArB;AACH;AACJ,SARD,MAQO,IAAI44G,YAAY54G,MAAZ,GAAqBA,MAArB,GAA8BuN,eAAlC,EAAmD;AACtDqrG,wBAAY54G,MAAZ,GAAqBA,MAArB;AACA44G,wBAAY74G,KAAZ,IAAqBA,KAArB;AACH,SAHM,MAGA;AACH64G,wBAAY54G,MAAZ,IAAsBA,MAAtB;AACA44G,wBAAY74G,KAAZ,GAAoBlvB,KAAKxD,GAAL,CAASurI,YAAY74G,KAArB,EAA4BA,KAA5B,CAApB;AACH;AACJ,KArBD;AAsBA,QAAIk0G,aAAa5nE,KAAb,KAAuB9B,qDAA3B,EAAuC;AACnCquE,oBAAY74G,KAAZ,GAAoBiN,cAApB;AACH;AACD,WAAO4rG,WAAP;AACH,CA9BM;;AAgCP;;;;;;;AAOO,IAAMD,eAAe,SAAfA,YAAe,CAAC50G,OAAD,EAAU20G,YAAV,EAAwB14G,MAAxB,EAAgCD,KAAhC,EAA0C;AAClE,QAAMlB,cAAc;AAChBmB,sBADgB;AAEhBD,oBAFgB;AAGhB24G;AAHgB,KAApB;;AADkE,0BAM/C30G,QAAQxhC,MAAR,EAN+C;AAAA,QAM1DswI,MAN0D,mBAM1DA,MAN0D;;AAAA,QAO1DvrG,IAP0D,GAOvCurG,MAPuC,CAO1DvrG,IAP0D;AAAA,QAOpDquB,QAPoD,GAOvCk9E,MAPuC,CAOpDl9E,QAPoD;;;AASlEk9E,WAAOxqG,WAAP,GAAqBtE,QAAQxhC,MAAR,GAAiB8lC,WAAtC;AACA,QAAMgkC,QAAS1W,aAAa93B,+CAAb,IAAqB83B,aAAa73B,gDAAnC,GAA4C0sC,mDAA5C,GAAuDD,qDAArE;;AAEAsoE,WAAOvrG,IAAP,GAAcA,OAAS+kC,UAAU7B,mDAAV,IAAsBzqC,QAAQ,GAA/B,IAAwCssC,UAAU9B,qDAAV,IAAwBvqC,SAAS,GAAjF,GAAyFsH,IAAvG;AACAurG,WAAOxmE,KAAP,GAAeA,KAAf;AACA,WAAOstE,kBAAkB9G,MAAlB,EAA0B9uG,OAA1B,EAAmClF,WAAnC,EAAgDkF,QAAQ8wG,OAAR,IAAmB,EAAnE,CAAP;AACH,CAfM,C;;;;;;;;;;;;;;;;;;;;;;AC9JP;AACA;AAYA;AACA;;;;;;;;;;;;;;;;;;;;AAoBO,IAAM3C,mEACRgF,+CADQ,EACD;AACJtiJ,WAAO,IADH;AAEJif,UAAM;AACF2xH,mBAAW,aADT;AAEFC,sBAAc;AAFZ;AAFF,CADC,kCAQR0R,kDARQ,EAQE;AACPviJ,WAAO,IADA;AAEPif,UAAM;AACF2xH,mBAAW,aADT;AAEFC,sBAAc;AAFZ;AAFC,CARF,kCAeR1oG,gDAfQ,EAeA;AACLnoC,WAAO,IADF;AAELif,UAAM;AACF2xH,mBAAW,aADT;AAEFC,sBAAc,QAFZ;AAGFr1F,sBAAc,sBAAC7tC,MAAD,EAAY;AACtB,gBAAI,OAAOA,MAAP,KAAkB,QAAlB,IAA8BA,WAAW,IAA7C,EAAmD;AAC/C,uBAAO;AACHnG,2BAAOmG;AADJ,iBAAP;AAGH;AACD,mBAAOA,MAAP;AACH;AAVC;AAFD,CAfA,kCA8BRoqD,gDA9BQ,EA8BA;AACL/3D,WAAO,IADF;AAELif,UAAM;AACF2xH,mBAAW,aADT;AAEFC,sBAAc,QAFZ;AAGFr1F,sBAAc,sBAAC7tC,MAAD,EAAY;AACtB,gBAAI,OAAOA,MAAP,KAAkB,QAAlB,IAA8BA,WAAW,IAA7C,EAAmD;AAC/C,uBAAO;AACHnG,2BAAOmG;AADJ,iBAAP;AAGH;AACD,mBAAOA,MAAP;AACH;AAVC;AAFD,CA9BA,kCA6CRqqD,+CA7CQ,EA6CD;AACJh4D,WAAO,IADH;AAEJif,UAAM;AACF2xH,mBAAW,aADT;AAEFC,sBAAc,QAFZ;AAGFr1F,sBAAc,sBAAC7tC,MAAD,EAAY;AACtB,gBAAI,OAAOA,MAAP,KAAkB,QAAlB,IAA8BA,WAAW,IAA7C,EAAmD;AAC/C,uBAAO;AACHnG,2BAAOmG;AADJ,iBAAP;AAGH;AACD,mBAAOA,MAAP;AACH;AAVC;AAFF,CA7CC,kCA4DR60I,iDA5DQ,EA4DC;AACNxiJ,WAAO,EADD;AAENif,UAAM;AACF2xH,mBAAW,aADT;AAEFC,sBAAc;AAFZ;AAFA,CA5DD,kCAoER4U,iDApEQ,EAoEC;AACNzlJ,WAAO,IADD;AAENif,UAAM;AACF2xH,mBAAW,aADT;AAEFC,sBAAc;AAFZ;AAFA,CApED,kCA2ER17D,oDA3EQ,EA2EI;AACTn1E,WAAO,IADE;AAETif,UAAM;AACF2xH,mBAAW,aADT;AAEFC,sBAAc;AAFZ;AAFG,CA3EJ,iBAAN;;AAoFA,IAAMiN,sEACR2B,gDADQ,EACA;AACLz/I,WAAO,CAAC,IAAD,EAAO,IAAP,CADF;AAELif,UAAM;AACF2xH,mBAAW,CAAC,aAAD,EAAgB,aAAhB,CADT;AAEFC,sBAAc,CAAC,UAAD,EAAa,QAAb,CAFZ;AAGFF,sBAAc,IAHZ;AAIFn1F,sBAAc,CAAC,UAAC8gC,KAAD,EAAW;AACtB,gBAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AAC3B,oBAAMr8E,IAAI,SAAJA,CAAI;AAAA,2BAAMq8E,KAAN;AAAA,iBAAV;AACAr8E,kBAAEylJ,UAAF,GAAe,IAAf;AACA,uBAAOzlJ,CAAP;AACH;AACD,mBAAOq8E,KAAP;AACH,SAPa,EAOX,UAACgjE,WAAD,EAAiB;AAChB,gBAAMpuH,YAAYoZ,iEAAcA,CAAC,EAAf,EAAmB41G,sDAAnB,CAAlB;AACA,mBAAO51G,iEAAcA,CAACpZ,SAAf,EAA0BouH,WAA1B,CAAP;AACH,SAVa;AAJZ;AAFD,CADA,mCAoBRI,oDApBQ,EAoBI;AACT1/I,WAAO,CAAC,IAAD,EAAO,IAAP,CADE;AAETif,UAAM;AACF2xH,mBAAW,CAAC,aAAD,EAAgB,aAAhB,CADT;AAEFC,sBAAc,CAAC,UAAD,EAAa,QAAb,CAFZ;AAGFF,sBAAc,IAHZ;AAIFn1F,sBAAc,CAAC,UAACwiG,QAAD,EAAc;AACzB,gBAAI,OAAOA,QAAP,KAAoB,QAAxB,EAAkC;AAC9B,oBAAM2H,MAAM,SAANA,GAAM;AAAA,2BAAM3H,QAAN;AAAA,iBAAZ;AACA2H,oBAAID,UAAJ,GAAiB,IAAjB;AACA,uBAAOC,GAAP;AACH;AACD,mBAAO3H,QAAP;AACH,SAPa,EAOX,UAACuB,cAAD,EAAoB;AACnB,gBAAMruH,YAAYoZ,iEAAcA,CAAC,EAAf,EAAmB81G,0DAAnB,CAAlB;AACA,mBAAO91G,iEAAcA,CAACpZ,SAAf,EAA0BquH,cAA1B,CAAP;AACH,SAVa;AAJZ;AAFG,CApBJ,kBAAN,C;;;;;;;;;;;;;;;;;;ACtHP;AACA;;AAEA;;;;;;AAMA,IAAMqG,0BAA0B,SAA1BA,uBAA0B,CAACz2G,OAAD,EAAa;AACzC,QAAIiO,WAAW,CAAf;;AAEA,QAAMyoG,QAAQ12G,QAAQ02G,KAAR,MAAmB,EAAjC;;AAEA,KAAC,YAAM;AACH,aAAK,IAAI7mJ,IAAI,CAAb,EAAgBA,IAAI6mJ,MAAMpiJ,MAA1B,EAAkCzE,GAAlC,EAAuC;AACnC,iBAAK,IAAI8E,IAAI,CAAb,EAAgBA,IAAI+hJ,MAAM7mJ,CAAN,EAASyE,MAA7B,EAAqCK,GAArC,EAA0C;AACtC,oBAAI+hJ,MAAM7mJ,CAAN,EAAS8E,CAAT,EAAYw5C,YAAZ,GAA2BM,MAA3B,CAAkCR,QAAlC,KAA+C,CAAnD,EAAsD;AAClDA,+BAAWyoG,MAAM7mJ,CAAN,EAAS8E,CAAT,EAAYw5C,YAAZ,GAA2BM,MAA3B,CAAkCR,QAA7C;AACA;AACH;AACJ;AACJ;AACJ,KATD;;AAWA,QAAIA,QAAJ,EAAc;AACVyoG,cAAM/iJ,OAAN,CAAc,UAAC27D,IAAD,EAAU;AACpBA,iBAAK37D,OAAL,CAAa,UAACu6C,IAAD,EAAU;AACnBA,qBAAKC,YAAL,CAAkB,EAAEM,QAAQ,EAAER,kBAAF,EAAV,EAAlB;AACAC,qBAAKE,UAAL,CAAgBF,KAAK6D,aAAL,EAAhB;AACH,aAHD;AAIH,SALD;AAMH;AACJ,CAxBD;;AA0BA;;;;;;;AAOA,IAAM4kG,eAAe,SAAfA,YAAe,CAAC5mH,KAAD,EAAQiZ,YAAR,EAAsBlO,WAAtB,EAAsC;AAAA,QAEnDy5G,iBAFmD,GAInDvrG,YAJmD,CAEnDurG,iBAFmD;AAAA,QAGnDjwG,WAHmD,GAInD0E,YAJmD,CAGnD1E,WAHmD;AAAA,QAMnD98B,OANmD,GAQnD+sI,iBARmD,CAMnD/sI,OANmD;AAAA,QAOnDspI,OAPmD,GAQnDyD,iBARmD,CAOnDzD,OAPmD;AAAA,QAUnDoE,WAVmD,GAYnDp6G,WAZmD,CAUnDo6G,WAVmD;AAAA,QAWnDC,YAXmD,GAYnDr6G,WAZmD,CAWnDq6G,YAXmD;;AAavD,QAAMzyE,YAAY19B,gEAAaA,CAACjV,KAAd,CAAlB;AACA,QAAMg9G,aAAa,EAAnB;AACA,QAAMz6G,aAAa8Q,8DAAWA,CAACs/B,SAAZ,EAAuB,KAAvB,EAA8B,CAAC,CAAD,CAA9B,EAAsCp+B,WAAtC,WACdP,KADc,CACR,OADQ,EACImxG,WADJ,SAEdnxG,KAFc,CAER,QAFQ,EAEKoxG,YAFL,QAAnB;AAGA,QAAMvb,aAAatnG,WACdyd,SADc,OACAzL,WADA,iBAEdrtC,IAFc,CAETuQ,OAFS,CAAnB;AAGAoyH,eAAWv0F,IAAX,GAAkBC,MAAlB;AACA,QAAMsxG,kBAAkBhd,WAAWx3D,KAAX,GAAmBjxC,MAAnB,CAA0B,KAA1B,CAAxB;;AAEA,QAAM0lH,kBAAkBD,gBAAgB72H,KAAhB,CAAsB65G,UAAtB,EACPh1F,IADO,CACF,OADE,EACUN,WADV,iBAEPP,KAFO,CAED,OAFC,EAEWmxG,WAFX,SAGPnxG,KAHO,CAGD,SAHC,EAGa,IAHb,SAIPA,KAJO,CAID,QAJC,EAIS,IAJT,EAKPoB,IALO,CAKF,UAAU9lC,IAAV,EAAgB;AAClB0tI,mBAAW1tI,IAAX,IAAmB2lC,gEAAaA,CAAC,IAAd,EAAoBR,OAApB,CAA+BF,WAA/B,SAA8CjlC,IAA9C,iBAAgE,IAAhE,CAAnB;AACH,KAPO,CAAxB;AAQA,QAAMy3I,iBAAiBD,gBACN9mG,SADM,OACQzL,WADR,uBAENrtC,IAFM,CAED,UAAC/G,CAAD,EAAO;AACT,YAAIA,MAAM,OAAV,EAAmB;AACf,mBAAO4gJ,OAAP;AACH,SAAC,OAAO,EAAP;AACL,KANM,CAAvB;AAOAgG,mBAAezxG,IAAf,GAAsBC,MAAtB;AACA,QAAMyxG,sBAAsBD,eAAe10E,KAAf,GAAuBjxC,MAAvB,CAA8B,KAA9B,CAA5B;;AAEA4lH,wBACiBh3H,KADjB,CACuB+2H,cADvB,EAEiBlyG,IAFjB,CAEsB,OAFtB,EAEkCN,WAFlC,uBAGiBP,KAHjB,CAGuB,OAHvB,EAGgC,MAHhC,EAIiBA,KAJjB,CAIuB,QAJvB,EAIiC,MAJjC,EAKiBoB,IALjB,CAKsB,UAAU6xG,UAAV,EAAsB;AACxBjK,mBAAWiK,UAAX,IAAyBhyG,gEAAaA,CAAC,IAAd,EACnBR,OADmB,CACRF,WADQ,SACO0yG,UADP,iBAC+B,IAD/B,CAAzB;AAEH,KARjB;AASA,WAAOjK,UAAP;AACH,CApDD;;AAsDA;;;;;;;AAOA,IAAMkK,eAAe,SAAfA,YAAe,CAAC/G,YAAD,EAAextE,SAAf,EAA0Bw0E,gBAA1B,EAA4Cp8G,WAA5C,EAA4D;AAC7E,QAAMq8G,oBAAoB,EAA1B;AAD6E,QAErEtC,WAFqE,GAExB/5G,WAFwB,CAErE+5G,WAFqE;AAAA,QAExDF,YAFwD,GAExB75G,WAFwB,CAExD65G,YAFwD;AAAA,QAE1C14G,MAF0C,GAExBnB,WAFwB,CAE1CmB,MAF0C;AAAA,QAElCD,KAFkC,GAExBlB,WAFwB,CAElCkB,KAFkC;AAAA,QAGrE8yG,MAHqE,GAG7CoB,YAH6C,CAGrEpB,MAHqE;AAAA,QAG7DxqG,WAH6D,GAG7C4rG,YAH6C,CAG7D5rG,WAH6D;AAAA,QAIrEstB,QAJqE,GAIxDk9E,MAJwD,CAIrEl9E,QAJqE;;AAK7E,QAAMwlF,cAAch0G,8DAAWA,CAACs/B,SAAZ,EAAuB,KAAvB,EAA8B,CAACw0E,gBAAD,CAA9B,EAAqD5yG,WAArD,qBAAkF,EAAlF,EAAsF;AAAA,eAAKp0C,CAAL;AAAA,KAAtF,CAApB;AACAknJ,gBAAY5yG,OAAZ,CAAuBF,WAAvB,cAA6C,IAA7C;AACA,QAAMgkC,QAAS1W,aAAa93B,+CAAb,IAAqB83B,aAAa73B,gDAAnC,GAA4C0sC,mDAA5C,GAAuDD,qDAArE;AACA,QAAM6wE,WAAW/uE,UAAU7B,mDAAV,GAAqBouE,YAAY74G,KAAjC,GAAyCA,KAA1D;AACA,QAAMs7G,YAAYhvE,UAAU7B,mDAAV,GAAqBxqC,SAAS04G,YAA9B,GAA6CE,YAAY54G,MAA3E;;AAEA,KAACymC,SAAD,EAAY00E,WAAZ,EAAyBzjJ,OAAzB,CAAiC,UAACqK,IAAD,EAAU;AACvCA,aAAK+lC,KAAL,CAAW,OAAX,EAAuBj3B,KAAKuT,KAAL,CAAWg3H,QAAX,CAAvB,SACiBtzG,KADjB,CACuB,QADvB,EACoCuzG,SADpC,SAEiBvzG,KAFjB,CAEuB,OAFvB,EAEgCjK,+CAFhC;AAGH,KAJD;;AAMA,QAAIwuC,UAAU7B,mDAAd,EAAwB;AACpB,YAAI8wE,WAAW,CAAC,CAAhB;AACA,YAAIC,aAAaF,SAAjB;AACA,YAAIG,YAAY,CAAhB;;AAEAP,yBAAiBvjJ,OAAjB,CAAyB,UAACmiJ,UAAD,EAAgB;AACrC,gBAAM4B,MAAM5B,WAAWhH,MAAvB;AACA,gBAAI4I,IAAI58G,WAAJ,GAAkBmB,MAAlB,GAA2Bu7G,UAA/B,EAA2C;AACvCD;AACAE,4BAAY,CAAZ;AACAD,6BAAaF,SAAb;AACH,aAJD,MAIO;AACHC,2BAAW,CAAX,IAAgBA,UAAhB;AACH;AACDJ,8BAAkBI,QAAlB,IAA8BJ,kBAAkBI,QAAlB,KAA+B,EAA7D;AACAC,0BAAc1qI,KAAK3D,GAAL,CAASuuI,IAAI58G,WAAJ,GAAkBmB,MAA3B,EAAmCu7G,UAAnC,CAAd;AACAC,wBAAY3qI,KAAKxD,GAAL,CAASwD,KAAK3D,GAAL,CAASuuI,IAAI58G,WAAJ,GAAkBkB,KAA3B,EAAkC07G,IAAI58G,WAAJ,GAAkB6R,QAApD,CAAT,EAAwE8qG,SAAxE,CAAZ;AACAN,8BAAkBI,QAAlB,EAA4B1jJ,IAA5B,CAAiC;AAC7Bi7I,wBAAQ4I,GADqB;AAE7B1C,8BAAcsC,SAFe;AAG7BvC,6BAAa0C;AAHgB,aAAjC;AAKH,SAjBD;;AAmBA,YAAM1nH,QAAQqT,8DAAWA,CAACg0G,WAAZ,EAAyB,CAAC,KAAD,CAAzB,EAAkCD,iBAAlC,EAAwD7yG,WAAxD,sBACTa,IADS,CACJ,UAACj1C,CAAD,EAAIL,CAAJ;AAAA,mBAAUm1C,gEAAaA,CAAC,KAAd,EAAoBR,OAApB,CAA+BF,WAA/B,wBAA6Dz0C,CAA7D,EAAkE,IAAlE,CAAV;AAAA,SADI,EAET20C,OAFS,CAEEF,WAFF,+BAEyC,IAFzC,EAGTP,KAHS,CAGH,OAHG,EAGM;AAAA,mBAAQ7zC,EAAE,CAAF,EAAK6kJ,WAAb;AAAA,SAHN,CAAd;AAIA3xG,sEAAWA,CAACrT,KAAZ,EAAmB,CAAC,KAAD,CAAnB,EAA4B;AAAA,mBAAK7/B,CAAL;AAAA,SAA5B,EAAuCo0C,WAAvC,yBAAwE,EAAxE,EAA4E;AAAA,mBAAKp0C,EAAE4+I,MAAF,CAASrrG,EAAT,EAAL;AAAA,SAA5E,EACiB0B,IADjB,CACsB,UAAUj1C,CAAV,EAAa;AACfA,cAAE4+I,MAAF,CAAS/+G,KAAT,CAAe,IAAf;AACH,SAHjB,EAIiBgU,KAJjB,CAIuB,OAJvB,EAIgC;AAAA,mBAAQ7zC,EAAE6kJ,WAAV;AAAA,SAJhC;AAKH,KAjCD,MAiCO;AACH,YAAMhlH,SAAQqT,8DAAWA,CAACg0G,WAAZ,EAAyB,KAAzB,EAAgC,CAAC,CAAD,CAAhC,EAAwC9yG,WAAxC,sBACTE,OADS,CACEF,WADF,iCAC2C,IAD3C,EAETE,OAFS,CAEEF,WAFF,wBAEgC,CAFhC,EAEqC,IAFrC,EAGTP,KAHS,CAGH,OAHG,EAGSszG,QAHT,QAAd;;AAKAj0G,sEAAWA,CAACrT,MAAZ,EAAmB,KAAnB,EAA0BmnH,gBAA1B,EAA+C5yG,WAA/C,yBAAgF,EAAhF,EAAoF;AAAA,mBAAKp0C,EAAE4+I,MAAF,CAASrrG,EAAT,EAAL;AAAA,SAApF,EACiB0B,IADjB,CACsB,UAAUj1C,CAAV,EAAa;AAAEA,cAAE4+I,MAAF,CAAS/+G,KAAT,CAAe,IAAf;AAAuB,SAD5D,EAEiBgU,KAFjB,CAEuB,OAFvB,EAEgC;AAAA,mBAAQ7zC,EAAE4+I,MAAF,CAASh0G,WAAT,GAAuBkB,KAA/B;AAAA,SAFhC;AAGH;AACJ,CA5DD;;AA8DA;;;;;;;;AAQA,IAAM27G,eAAe,SAAfA,YAAe,CAAC3uG,YAAD,EAAe05B,SAAf,EAA0BrjE,IAA1B,EAAgCmI,OAAhC,EAA4C;AAC7D,QAAMowI,aAAapwI,QAAWnI,IAAX,UAAnB;AACA,QAAMb,SAASwqC,kBAAgB3pC,IAAhB,CAAf;AAF6D,QAGrDilC,WAHqD,GAGxB0E,YAHwB,CAGrD1E,WAHqD;AAAA,QAGxCxJ,WAHwC,GAGxBkO,YAHwB,CAGxClO,WAHwC;AAAA,QAI5C+8G,OAJ4C,GAIL/8G,WAJK,CAIrD4W,OAJqD;AAAA,QAInCwjG,WAJmC,GAILp6G,WAJK,CAInCo6G,WAJmC;AAAA,QAItBC,YAJsB,GAILr6G,WAJK,CAItBq6G,YAJsB;AAAA,QAKrDvjF,QALqD,GAKxBpzD,MALwB,CAKrDozD,QALqD;AAAA,QAK3C0W,KAL2C,GAKxB9pE,MALwB,CAK3C8pE,KAL2C;AAAA,QAKpC52B,OALoC,GAKxBlzC,MALwB,CAKpCkzC,OALoC;;AAM7D,QAAIkmG,UAAJ,EAAgB;AACZ,YAAMtM,MAAM5oE,UACX3yB,SADW,OACGzL,WADH,uBAEXrtC,IAFW,CAEN,CAACoI,IAAD,CAFM,CAAZ;AAGAisI,YAAIjmG,IAAJ,GAAWC,MAAX;AACA,YAAMwyG,WAAWxM,IAAIlpE,KAAJ,GAAYjxC,MAAZ,CAAmB,KAAnB,CAAjB;;AAEA,YAAM4mH,OAAOD,SAAS/3H,KAAT,CAAeurH,GAAf,CAAb;AACAyM,aAAKvzG,OAAL,CAAgBwE,aAAa1E,WAA7B,uBAA4D,IAA5D;;AAEAszG,mBAAW77G,iBAAX,CAA6Bm5G,cAAc2C,OAA3C,EAAoD1C,eAAe,GAAnE;AACAyC,mBAAWxyG,MAAX,CAAkB2yG,KAAKvpH,IAAL,EAAlB;;AAEAupH,aAAKh0G,KAAL,CAAW,OAAX,EAAoBukC,UAAUxuC,+CAAV,oBAAgC+9G,OAAhC,UAA8C,MAAlE,EACiB9zG,KADjB,CACuB,aADvB,EACsCukC,UAAUxuC,+CAAV,GAAoB+9G,OAApB,UAAkC,CADxE;;AAGAE,aAAKhoG,SAAL,CAAe,KAAf,EAAsBvL,OAAtB,CAAiCwE,aAAa1E,WAA9C,qBAA2E,IAA3E;AACAyzG,aAAKh0G,KAAL,CAAW,OAAX,EAAuB,GAAvB;;AAEA,YAAIvlC,MAAJ,EAAY;AACRu5I,iBAAKh0G,KAAL,CAAW,OAAX,EAAoBjK,+CAApB,EACiBiK,KADjB,CACuB,YADvB,EACqCukC,KADrC,EAEiBvkC,KAFjB,eAEkC6tB,aAAa/3B,8CAAb,GAAmBG,iDAAnB,GAA4BH,8CAF9D,GAEwE6X,OAFxE;AAGH;AACJ;AACJ,CA/BD;;AAiCA;;;;;;AAMA,IAAMsmG,cAAc,SAAdA,WAAc,CAACx5I,MAAD,EAASs8B,WAAT,EAAsB/K,KAAtB,EAAgC;AAAA,QACxCuU,WADwC,GACxB9lC,MADwB,CACxC8lC,WADwC;AAAA,QAExCuwG,WAFwC,GAEN/5G,WAFM,CAExC+5G,WAFwC;AAAA,QAElBgD,OAFkB,GAEN/8G,WAFM,CAE3B4W,OAF2B;AAAA,QAGxC1V,KAHwC,GAG9B64G,WAH8B,CAGxC74G,KAHwC;;AAIhDgJ,oEAAaA,CAACjV,KAAd,EAAqBzpB,MAArB,OAAgCg+B,WAAhC,iCACiBP,KADjB,CACuB,aADvB,EACyC8zG,OADzC,SAEiB9zG,KAFjB,CAEuB,OAFvB,EAEmC/H,QAAQ67G,OAF3C,SAGiB9nG,SAHjB,OAG+BzL,WAH/B,uBAG4DA,WAH5D,oBAIiBP,KAJjB,CAIuB,WAJvB,EAIuC/H,QAAQ67G,OAJ/C;;AAMA7yG,oEAAaA,CAACjV,KAAd,EAAqBzpB,MAArB,OAAgCg+B,WAAhC,+BACiBP,KADjB,CACuB,aADvB,EACsC,IADtC,EAEiBgM,SAFjB,OAE+BzL,WAF/B,uBAE4DA,WAF5D,oBAGiBP,KAHjB,CAGuB,WAHvB,EAGoC,IAHpC;AAIH,CAdD;;AAgBA;;;;;;;;AAQA,IAAMk0G,uBAAuB,SAAvBA,oBAAuB,CAAC3lH,UAAD,EAAawI,WAAb,EAA0BwJ,WAA1B,EAAuCooG,KAAvC,EAAiD;AAC1E,QAAI,CAACp6G,UAAL,EAAiB;AACb,eAAO,KAAP;AACH;;AAHyE,QAMtE2J,MANsE,GAQtEnB,WARsE,CAMtEmB,MANsE;AAAA,QAOtED,KAPsE,GAQtElB,WARsE,CAOtEkB,KAPsE;AAS1E;;AAEA,QAAMsvG,MAAMtmG,gEAAaA,CAAC1S,UAAd,EACNyd,SADM,OACQzL,WADR,qBAENrtC,IAFM,CAED,CAAC,QAAD,CAFC,EAEW;AAAA,eAAK/G,CAAL;AAAA,KAFX,CAAZ;AAGAo7I,QAAIjmG,IAAJ,GAAWC,MAAX;AACA,QAAMwyG,WAAWxM,IAAIlpE,KAAJ,GAAYjxC,MAAZ,CAAmB,KAAnB,CAAjB;;AAEA,QAAMuxC,YAAYo1E,SAAS/3H,KAAT,CAAeurH,GAAf,EACjB1mG,IADiB,CACZ,OADY,EACAN,WADA,qBAEDE,OAFC,CAEUF,WAFV,mBAEqC,IAFrC,EAGDM,IAHC,CAGI,IAHJ,EAGaN,WAHb,qBAGwCooG,KAHxC,EAID3oG,KAJC,CAIK,QAJL,EAIkB9H,MAJlB,SAKD8H,KALC,CAKK,SALL,EAKgB,IALhB,EAMDA,KANC,CAMK,OANL,EAMiBj3B,KAAKy4B,IAAL,CAAUvJ,KAAV,CANjB,QAAlB;AAOA;AACA,QAAMk8G,WAAWx1E,UAAU3yB,SAAV,OAAwBzL,WAAxB,6BACXrtC,IADW,CACN,CAAC,SAAD,CADM,CAAjB;AAEAihJ,aAAS7yG,IAAT,GAAgBC,MAAhB;AACA,QAAM6yG,gBAAgBD,SAAS91E,KAAT,GAAiBjxC,MAAjB,CAAwB,KAAxB,CAAtB;;AAEA,QAAMpB,QAAQooH,cAAcp4H,KAAd,CAAoBm4H,QAApB,CAAd;AACAnoH,UAAMyU,OAAN,CAAiBF,WAAjB,6BAAsD,IAAtD,EACiBM,IADjB,CACsB,IADtB,EAC+BN,WAD/B,+BACoEooG,KADpE,EAEiB3oG,KAFjB,CAEuB,QAFvB,EAEoC9H,MAFpC,SAGiB8H,KAHjB,CAGuB,OAHvB,EAGmCj3B,KAAKy4B,IAAL,CAAUvJ,KAAV,CAHnC;;AAKA,WAAO;AACHjM,oBADG;AAEH2yC;AAFG,KAAP;AAIH,CAxCD;;AA0CA;;;;;;;;AAQO,IAAM+sE,mBAAmB,SAAnBA,gBAAmB,CAACzvG,OAAD,EAAU+sG,UAAV,EAAsB/jG,YAAtB,EAAoClO,WAApC,EAAoD;AAChF,QAAMxI,aAAa0N,QAAQjQ,KAAR,EAAnB;AADgF,QAG5EvoB,OAH4E,GAK5EulI,UAL4E,CAG5EvlI,OAH4E;AAAA,QAI5EspI,OAJ4E,GAK5E/D,UAL4E,CAI5E+D,OAJ4E;AAAA,QAO5ExsG,WAP4E,GAQ5E0E,YAR4E,CAO5E1E,WAP4E;;AAAA,wBAc5EqyG,aAAarkH,UAAb,EAAyB0W,YAAzB,EAAuClO,WAAvC,CAd4E;AAAA,QAU5EqyC,KAV4E,iBAU5EA,KAV4E;AAAA,QAW5E2hE,MAX4E,iBAW5EA,MAX4E;AAAA,QAY5ED,QAZ4E,iBAY5EA,QAZ4E;AAAA,QAa5EryG,MAb4E,iBAa5EA,MAb4E;;AAAA,gCAiB5Ey7G,qBAAqBz7G,OAAOhO,IAAP,EAArB,EAAoCsM,WAApC,EAAiDwJ,WAAjD,EAA8DtE,QAAQ0sG,KAAR,EAA9D,CAjB4E;AAAA,QAgB5E38G,KAhB4E,yBAgB5EA,KAhB4E;;AAkBhF,QAAM2hB,UAAU1R,QAAQxD,MAAR,GAAiBgG,QAAjB,GAA4BK,gBAA5B,CAA6CpD,SAA7C,CAAuD,CAAvD,CAAhB;;AAEA3E,gBAAY4W,OAAZ,GAAsBA,OAAtB;AApBgF,QAqBxEkgB,QArBwE,GAqB3D5oB,aAAa8lG,MArB8C,CAqBxEl9E,QArBwE;;;AAuBhF92B,gBAAY4W,OAAZ,IAAuBkgB,aAAa93B,+CAAb,GAAoBgB,YAAY+5G,WAAZ,CAAwB74G,KAA5C,GAAoD,CAA3E;AACAy6G,4BAAwBz2G,OAAxB;;AAEA;AACAA,YAAQxD,MAAR,GAAiBmG,UAAjB,CAA4B5S,KAA5B;AACAiZ,iBAAalO,WAAb,GAA2BA,WAA3B;AACA68G,iBAAa3uG,YAAb,EAA2BmkC,KAA3B,EAAkC,OAAlC,EAA2C3lE,OAA3C;AACAmwI,iBAAa3uG,YAAb,EAA2B6lG,QAA3B,EAAqC,UAArC,EAAiDrnI,OAAjD;AACAw4B,YAAQktG,IAAR,CAAa,aAAb,EAA4B78D,IAA5B,CAAiC,YAAM;AACnC4mE,qBAAajuG,YAAb,EAA2B8lG,MAA3B,EAAmCgC,OAAnC,EAA4Ch2G,WAA5C;AACAk9G,oBAAYhvG,YAAZ,EAA0BlO,WAA1B,EAAuCxI,UAAvC,EAAmD9qB,OAAnD;AACH,KAHD;AAIAw4B,YAAQ8oG,WAAR,GAAsBqE,WAAtB,CAAkCC,cAAlC,GAAmDv8I,KAAnD,CAAyDs0C,IAAzD,CAA8D,UAACmkC,EAAD,EAAQ;AAClEA,WAAGh4D,OAAH,GAAa2yD,eAAb,CAA6BznC,OAAOhO,IAAP,EAA7B;AACH,KAFD;AAGH,CAtCM,C;;;;;;;;;;;;AC9RP;AAAA;AAAA;AAAA;AAAA;AACA;;AAEA;;;;;;AAMA,IAAM4pH,8BAA8B,SAA9BA,2BAA8B,CAACC,UAAD,EAAgB;AAChD,QAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoC,CAACA,WAAW9rI,SAApD,EAA+D;AAC3D,eAAO8rI,YAAP;AACH;AACD,WAAO7T,6DAAUA,CAAC6T,YAAX,CAAP;AACH,CALD;;AAOA;;;;;;;;;AASA,IAAMC,gBAAgB,SAAhBA,aAAgB,CAAC95I,MAAD,EAAS+5I,QAAT,EAAmBvqG,YAAnB,EAAiCrI,QAAjC,EAA8C;AAAA,QAE5Dk/B,OAF4D,GAO5DrmE,MAP4D,CAE5DqmE,OAF4D;AAAA,QAG5DmsE,QAH4D,GAO5DxyI,MAP4D,CAG5DwyI,QAH4D;AAAA,QAI5Dh1G,KAJ4D,GAO5Dx9B,MAP4D,CAI5Dw9B,KAJ4D;AAAA,QAK5DC,MAL4D,GAO5Dz9B,MAP4D,CAK5Dy9B,MAL4D;AAAA,QAM5DqI,WAN4D,GAO5D9lC,MAP4D,CAM5D8lC,WAN4D;;AAQhE,QAAMO,OAAOc,YAAY,IAAIswG,8DAAJ,CACrB;AACI52I,cAAMk5I,aAAa,OAAb,GAAuB,QAAvB,GAAkC,MAD5C;AAEIt1G,mBAAcqB,WAAd,SAA6Bi0G,QAA7B;AAFJ,KADqB,EAIlB;AACCvqG;AADD,KAJkB,EAOvBxvC,MAPuB,CAOhB,EAAEwyI,kBAAF,EAPgB,EAOFwH,UAPE,CAOS,EAAEx8G,OAAO,CAAT,EAAYC,QAAQ,CAApB,EAPT,CAAzB;;AASA4I,SAAKrjB,MAAL,CAAYqjD,OAAZ;AACAhgC,SAAK9I,iBAAL,CAAuBC,KAAvB,EAA8BC,MAA9B;;AAEA,WAAO;AACHA,gBAAQ4I,KAAKjJ,eAAL,GAAuBK,MAD5B;AAEH4I;AAFG,KAAP;AAIH,CAxBD;;AA0BA;;;;;;;;;AASA,IAAM4zG,gBAAgB,SAAhBA,aAAgB,CAACj6I,MAAD,EAASa,IAAT,EAAe2uC,YAAf,EAA6BrI,QAA7B,EAA0C;AAC5D,QAAI,CAACnnC,MAAL,EAAa;AAAE,eAAO,EAAP;AAAY;;AAE3B,WAAO85I,cACH95I,MADG,EAEJa,IAFI,EAGH2uC,YAHG,EAIHrI,QAJG,CAAP;AAMH,CATD;;AAWA;;;;;AAKO,IAAM+uG,gBAAgB,SAAhBA,aAAgB,CAAC10G,OAAD,EAAUm1G,YAAV,EAAwBD,WAAxB,EAAwC;AACjE,QAAIP,eAAe,CAAnB;AACA,QAAMntI,UAAU,EAAhB;;AAEA2tI,oBAAgB,GAAhB,IAAuBD,eAAe,GAAtC,IAA6C,CAAC,OAAD,EAAU,UAAV,EAAsBvhJ,OAAtB,CAA8B,UAAC0L,IAAD,EAAU;AACjF,YAAMq5I,gBAAgB14G,QAAQ3gC,IAAR,GAAtB;AACA,YAAMwlE,UAAUuzE,4BAA4BM,cAAc,CAAd,CAA5B,CAAhB;AACA,YAAI7zE,QAAQvwE,MAAZ,EAAoB;AAChB,gBAAMkK,SAASk6I,cAAc,CAAd,CAAf;;AAEAl6I,mBAAOw9B,KAAP,GAAegE,QAAQhE,KAAR,EAAf;AACAx9B,mBAAOy9B,MAAP,GAAgB+D,QAAQ/D,MAAR,EAAhB;AACAz9B,mBAAO8lC,WAAP,GAAqBtE,QAAQxhC,MAAR,GAAiB8lC,WAAtC;AACA9lC,mBAAOqmE,OAAP,GAAiBA,OAAjB;;AANgB,iCAOS4zE,cAAcj6I,MAAd,EAAsBa,IAAtB,EAA4B2gC,QAAQlN,YAAR,GAAuBkf,UAAnD,EACrBhS,QAAW3gC,IAAX,UADqB,CAPT;AAAA,gBAOR48B,MAPQ,kBAORA,MAPQ;AAAA,gBAOA4I,IAPA,kBAOAA,IAPA;;AAUhBr9B,oBAAWnI,IAAX,aAAyBwlC,IAAzB;AACA7E,oBAAQquG,YAAR,CAAqBhvI,IAArB,IAA6BwlC,IAA7B;AACA8vG,4BAAgB14G,SAASz9B,OAAOkzC,OAAhC;AACH;AACJ,KAjB4C,CAA7C;AAkBA,WAAO,EAAEijG,0BAAF,EAAgBntI,gBAAhB,EAAP;AACH,CAvBM,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5EP;;AAEA;;;AAGO,IAAM2rI,OAAO,MAAb;AACA,IAAMC,UAAU,SAAhB;AACA,IAAME,OAAO,MAAb;AACA,IAAMt6G,QAAQ,OAAd;AACA,IAAM4vB,QAAQ,OAAd;AACA,IAAMC,OAAO,MAAb;AACA,IAAMwqF,SAAS,QAAf;AACA,IAAMiD,SAAS,QAAf;AACA,IAAMtwE,YAAY,WAAlB;AACA,IAAM2yE,cAAc,eAApB;AACA,IAAMC,SAAS,QAAf;AACA,IAAM3/G,QAAQ,OAAd;AACA,IAAMS,SAAS,QAAf;AACA,IAAMw8G,UAAU,SAAhB;AACA,IAAM9+G,SAAS,QAAf;AACA,IAAM++G,SAAS,QAAf;AACA,IAAMzwE,SAAS,QAAf;AACA,IAAMmzE,QAAQ,OAAd;AACA,IAAMC,iBAAiB,eAAvB;AACA,IAAMjkG,cAAc,aAApB;AACA,IAAMkkG,WAAW,WAAjB;AACA,IAAMrI,SAAS,QAAf;AACA,IAAMJ,QAAQ,OAAd;AACA,IAAMC,YAAY,UAAlB;AACA,IAAMyI,UAAU,SAAhB;AACA,IAAMp+F,WAAW,UAAjB;AACA,IAAMq+F,aAAa,YAAnB;AACA,IAAM5yE,WAAW,UAAjB;AACA,IAAM92B,SAAS,QAAf;AACA,IAAM0X,UAAU,SAAhB;;AAEA,IAAMiyF,kCAAkC,CAC3C,QAD2C,EAE3C,OAF2C,CAAxC;;AAKA,IAAMvD,4EACL1uF,OADK,SACM,IADN,SACcjuB,KADd,EACwBmxC,oEADxB,qCAELljB,OAFK,SAEM,IAFN,SAEc4B,IAFd,EAEuBshB,oEAFvB,qCAGLljB,OAHK,SAGM,IAHN,SAGc2B,KAHd,EAGwBuhB,oEAHxB,qCAILljB,OAJK,SAIM,KAJN,SAIejuB,KAJf,EAIyBmxC,oEAJzB,qCAKLljB,OALK,SAKM,KALN,SAKe2B,KALf,EAKyBuhB,oEALzB,qCAMLljB,OANK,SAMM,KANN,SAMe4B,IANf,EAMwBshB,oEANxB,qCAOL56B,MAPK,SAOK,KAPL,SAOcsZ,IAPd,EAOuBshB,oEAPvB,qCAQL56B,MARK,SAQK,IARL,SAQasZ,IARb,EAQsBshB,oEARtB,qCASL56B,MATK,SASK,KATL,SAScqZ,KATd,EASwBuhB,oEATxB,qCAUL56B,MAVK,SAUK,IAVL,SAUavW,KAVb,EAUuBo5C,gEAVvB,qCAWL7iC,MAXK,SAWK,KAXL,SAWcvW,KAXd,EAWwB0zC,oEAXxB,oBAAN;;AAcA,IAAM5yC,OAAO,MAAb;AACA,IAAMC,QAAQ,OAAd;AACA,IAAMC,SAAS,QAAf;AACA,IAAMH,MAAM,KAAZ;AACA,IAAM22G,QAAQ,OAAd;AACA,IAAMG,SAAS,QAAf;AACA,IAAMd,UAAU,SAAhB;AACA,IAAM3rI,YAAY,WAAlB;AACA,IAAMc,UAAU,SAAhB;AACA,IAAMyhE,WAAW,UAAjB;AACA,IAAMD,aAAa,YAAnB,C;;;;;;;;;;;;ACjEP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEO,IAAM2yE,aAAa;AACtBtG,mFADsB;AAEtBuG,gFAAUA;AAFY,CAAnB;AAIA,IAAMC,gBAAgB;AACzBC,oFADyB;AAEzBr+E,uFAAaA;AAFY,CAAtB;AAIA,IAAMs+E,aAAa;AACtBC,mFADsB;AAEtBC,gFAAUA;AAFY,CAAnB,C;;;;;;;;;;;;ACbP;AAAA;AAAO,IAAM/8F,iBAAiB;AAC1BpY,iBAAa,MADa;AAE1BytB,iBAAa;AACTqE,oBAAY;AADH,KAFa;AAK1B04E,YAAQ;AACJl9E,kBAAU,OADN;AAEJ/tB,eAAO;AACHN,kBAAM,IADH;AAEHmO,qBAAS,CAFN;AAGHi4B,oBAAQ,CAHL;AAIH3sC,oBAAQ,CAJL;AAKHf,oBAAQ,EALL;AAMHD,mBAAO;AANJ,SAFH;AAUJuqC,eAAO;AACHhjC,kBAAM,IADH;AAEHmO,qBAAS,CAFN;AAGHi4B,oBAAQ,CAHL;AAIH3sC,oBAAQ,CAJL;AAKHf,oBAAQ,EALL;AAMHD,mBAAO;AANJ,SAVH;AAkBJ0/B,cAAM;AACFn4B,kBAAM,IADJ;AAEFmO,qBAAS,CAFP;AAGFi4B,oBAAQ,CAHN;AAIF3sC,oBAAQ,CAJN;AAKFf,oBAAQ,EALN;AAMFD,mBAAO;AANL;AAlBF,KALkB;AAgC1Bq4G,iBAAa,KAhCa;AAiC1B/d,cAAU,GAjCgB;AAkC1B8d,eAAW,GAlCe;AAmC1BltG,WAAO;AACHzzC,cAAM;AACFimJ,2BAAe;AADb,SADH;AAIH3mJ,iBAAS;AACLi+I,sBAAU,CADL;AAEL2I,2BAAe,QAFV;AAGLD,2BAAe;AAHV;AAJN,KAnCmB;AA6C1B18G,YAAQ;AACJ+G,eAAO,OADH;AAEJF,eAAO,SAFH;AAGJ7H,eAAO,CAHH;AAIJ49G,kBAAU,IAJN;AAKJ/lE,iBAAS;AALL,KA7CkB;AAoD1BgmE,iBAAa;AACT/8E,kBAAU;AADD;AApDa,CAAvB,C;;;;;;;;;;;ACAP,IAAMg9E,OAAOjoB,mBAAOA,CAAC,2CAAR,CAAb;;AAEAviI,OAAOD,OAAP,GAAiByqJ,KAAK3kI,OAAL,GAAe2kI,KAAK3kI,OAApB,GAA8B2kI,IAA/C,C;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;;AAcA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAMC,cAAc,EAApB;AACA,IAAMC,kBAAkBb,4DAAxB;;AAEA,IAAMc,8BAA8B,SAA9BA,2BAA8B,CAACC,gBAAD,EAAmB39E,QAAnB,EAAgC;AAChE,SAAK,IAAM9rC,IAAX,IAAmBypH,gBAAnB,EAAqC;AACjC39E,iBAASriD,GAAT,CAAauW,IAAb,EAAmBypH,iBAAiBzpH,IAAjB,CAAnB;AACH;AACJ,CAJD;;AAMA;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,IAAM0pH,OAAO,SAAPA,IAAO,GAAM;AACf;AADe,sBAEYnZ,6DAAUA,CAAC,EAAX,EAAe9pI,gDAAf,CAFZ;AAAA;AAAA,QAERkjJ,GAFQ;AAAA,QAEHC,WAFG;;AAGf,QAAMtN,aAAaz8I,OAAO4H,MAAP,CAAc,EAAd,EAAkBihJ,4DAAlB,CAAnB;AACA,QAAMmB,0BAA0BhqJ,OAAO4H,MAAP,CAAcmhJ,+DAAd,CAAhC;AACA,QAAMrK,uBAAuB,EAA7B;;AAEA,SAAK,IAAMv+G,IAAX,IAAmB6pH,uBAAnB,EAA4C;AACxCtL,6BAAqBv+G,IAArB,IAA6B6pH,wBAAwB7pH,IAAxB,GAA7B;AACH;;AAED;AACA2pH,QAAInN,MAAJ,GAAa,YAAM;AACf;AACA,YAAMsN,WAAWF,YAAYj7I,SAAZ,EAAjB;AACA,YAAM6tI,SAASe,8CAAMA,CAACwM,YAAP,CAAoBD,QAApB,EAA8B,EAAE;AAC3CxN,kCADyC;AAEzCiC;AAFyC,SAA9B,EAGZoL,IAAInM,kBAAJ,EAHY,CAAf;;AAKA;AACA5L,mFAAwBA,CAACgY,WAAzB,EAAsCpN,MAAtC,EAA8C38I,OAAOyI,IAAP,CAAYwhJ,QAAZ,CAA9C;;AAEA,eAAOtN,MAAP;AACH,KAZD;;AAcA;AACAmN,QAAInM,kBAAJ,GAAyB,YAAM;AAC3B,YAAI,CAAC8L,YAAY/nG,UAAjB,EAA6B;AACzB+nG,wBAAY/nG,UAAZ,GAAyB,IAAIyoG,qDAAJ,CAAe,CAAf,EAAkB,MAAlB,CAAzB;AACH;AACD,eAAO;AACHzoG,wBAAY+nG,YAAY/nG,UADrB;AAEHo9F,8BAAkB,IAAIrG,2DAAJ;AAFf,SAAP;AAIH,KARD;;AAUA;AACA;AACAqR,QAAIG,QAAJ,GAAe;AAAA,eAAMF,YAAYj7I,SAAZ,EAAN;AAAA,KAAf;;AAEAg7I,QAAI79E,QAAJ,GAAe,YAAyB;AAAA,0CAArB29E,gBAAqB;AAArBA,4BAAqB;AAAA;;AACpC;AACA,YAAIA,iBAAiB5lJ,MAArB,EAA6B;AACzB,iBAAK,IAAMm8B,KAAX,IAAmBypH,gBAAnB,EAAqC;AACjC,oBAAIzpH,SAAQupH,eAAZ,EAA6B;AACzBjN,+BAAWt8G,KAAX,IAAmBypH,iBAAiBzpH,KAAjB,CAAnB;AACH;AACJ;AACD,mBAAO2pH,GAAP;AACH;AACD,eAAOrN,UAAP;AACH,KAXD;;AAaAqN,QAAId,YAAJ,GAAmB,YAAyB;AACxC,YAAMA,eAAetK,qBAAqBsK,YAA1C;AACA,YAAI,UAAiBhlJ,MAArB,EAA6B;AACzB2lJ,0FAAiDX,YAAjD;AACA,mBAAOc,GAAP;AACH;AACD,eAAOd,aAAa7oJ,GAAb,EAAP;AACH,KAPD;;AASA2pJ,QAAIn/E,aAAJ,GAAoB,YAAyB;AACzC,YAAMA,gBAAgB+zE,qBAAqB/zE,aAA3C;AACA,YAAI,UAAiB3mE,MAArB,EAA6B;AACzB2lJ,0FAAiDh/E,aAAjD;AACA,mBAAOm/E,GAAP;AACH;AACD,eAAOn/E,cAAcxqE,GAAd,EAAP;AACH,KAPD;;AASA,WAAO2pJ,GAAP;AACH,CAzED;;AA2EA,IAAMM,cAAc;AAChBzmF,oFADgB;AAEhB0mF,eAAW;AACPx7E,wGADO;AAEPzB,wGAFO;AAGP0B,oGAAiBA;AAHV;AAFK,CAApB;;AASA,IAAMw7E,aAAa;AACf7jF,kGADe;AAEf4jF,eAAW;AACP1uF,kGADO;AAEP8B,wGAFO;AAGPjC,oGAAiBA;AAHV;AAFI,CAAnB;;AASAquF,KAAKt+I,SAAL,GAAiBA,oDAAjB;AACAs+I,KAAKlzI,OAAL,GAAe4zI,0CAAGA,CAAC5zI,OAAnB;AACAkzI,KAAKO,WAAL,GAAmBA,WAAnB;AACAP,KAAKtN,WAAL,GAAmBA,yDAAnB;AACAsN,KAAKW,YAAL,GAAoBA,mEAApB;AACAX,KAAK/zI,SAAL,GAAiB20I,uCAAjB;AACAZ,KAAKS,UAAL,GAAkBA,UAAlB;AACAT,KAAKa,KAAL,GAAa;AACT1pF,6EADS;AAETvC,iEAFS;AAGT3rB,uEAHS;AAIT4B,2EAJS;AAKTh+B,mFALS;AAMT6qH,+DAAOA;AANE,CAAb;;AASesoB,mEAAf,E;;;;;;;;;;;ACnLA,uC;;;;;;;;;;;;;;;;;;;ACAA;AACA;;AAEA;;;;;;;;;;;;;;;;;;AAkBO,IAAMc,QAAQ,SAARA,KAAQ;AAAA,sCAAIC,IAAJ;AAAIA,YAAJ;AAAA;;AAAA,8CAAiBC,mEAAjB,mCAAiCD,KAAKjoJ,GAAL,CAAS;AAAA,eAAY,IAAImoJ,qEAAJ,CAAmBC,QAAnB,CAAZ;AAAA,KAAT,CAAjC;AAAA,CAAd;;AAEP;;;;;;AAMA,SAASC,aAAT,CAAwB9sH,IAAxB,EAA8B;AAC1B,QAAIA,KAAK+sH,QAAL,KAAkBC,KAAKC,YAA3B,EAAyC;AAAE;AAAS;;AAEpD,QAAIvC,0EAA+BA,CAACn7I,OAAhC,CAAwCywB,KAAKktH,OAAL,CAAa7gI,WAAb,EAAxC,MAAwE,CAAC,CAA7E,EAAgF;AAC5E2T,aAAK0vD,UAAL,CAAgBj7D,WAAhB,CAA4BuL,IAA5B;AACH,KAFD,MAEO;AAAA;AAAA;AAAA;;AAAA;AACH,iCAAwBA,KAAKmtH,UAA7B,8HAAyC;AAAA,oBAA9BC,SAA8B;;AACrCN,8BAAcM,SAAd;AACH;AAHE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIN;AACJ;;AAED;;;;;;;;;;;;;;;;;AAiBO,SAASpoE,IAAT,CAAeqoE,OAAf,EAAiC;AACpC,QAAIC,WAAW,EAAf;AACA,QAAMC,wDAAN;AACA,QAAIlsJ,IAAI,CAAR;;AAEA,WAAOA,IAAIksJ,KAAX,EAAkB,EAAElsJ,CAApB,EAAuB;AACnBisJ,oBAAYD,QAAQhsJ,CAAR,yBAAkBA,CAAlB,6BAAkBA,CAAlB,MAAZ;AACH;AACDisJ,gBAAYD,QAAQhsJ,CAAR,CAAZ;;AAEA,QAAMmsJ,OAAOprE,SAASqrE,sBAAT,EAAb;AACA,QAAMtpB,UAAU/hD,SAAS1T,aAAT,CAAuB,KAAvB,CAAhB;;AAEA8+E,SAAKhrE,WAAL,CAAiB2hD,OAAjB;AACAA,YAAQ3qB,SAAR,GAAoB8zC,QAApB;;AAEAR,kBAAc3oB,OAAd;AAhBoC,QAiB5B3qB,SAjB4B,GAiBd2qB,OAjBc,CAiB5B3qB,SAjB4B;;;AAmBpC,WAAO;AAAA,eAAMA,SAAN;AAAA,KAAP;AACH,C;;;;;;;;;;;;AC9ED;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;AAgBA;AACA;;AAEe;AACX/wG,UAAM;AACFpG,eAAO,IADL;AAEFif,cAAM;AACF2xH,uBAAW;AAAA,uBAAKvxI,aAAa2L,oDAAlB;AAAA;AADT;AAFJ,KADK;AAOXmgC,WAAO;AACHnrC,eAAO,CADJ;AAEHif,cAAM;AACFu8B,0BAAc00F,uDADZ;AAEFU,uBAAWr4H,OAAO8yI;AAFhB;AAFH,KAPI;AAcXjgH,YAAQ;AACJprC,eAAO,CADH;AAEJif,cAAM;AACFu8B,0BAAc00F,uDADZ;AAEFU,uBAAWr4H,OAAO8yI;AAFhB;AAFF,KAdG;AAqBXp7G,kBAAc;AACVjwC,eAAO,EADG;AAEVif,cAAM;AACFu8B,0BAAc00F,uDADZ;AAEFU,uBAAWr4H,OAAO8yI;AAFhB;AAFI,KArBH;AA4BXr7G,mBAAe;AACXhwC,eAAO,EADI;AAEXif,cAAM;AACFu8B,0BAAc00F,uDADZ;AAEFU,uBAAWr4H,OAAO8yI;AAFhB;AAFK,KA5BJ;AAmCX19I,YAAQ;AACJ3N,eAAO,IADH;AAEJif,cAAM;AACF2xH,uBAAW,aADT;AAEFC,0BAAc,QAFZ;AAGFr1F,0BAAc,sBAAC7tC,MAAD,EAAS+4C,SAAT,EAAuB;AACjC,oBAAM4kG,UAAUhhH,iEAAcA,CAAC,EAAf,EAAmBoc,SAAnB,CAAhB;AACA,oBAAMx1B,YAAYoZ,iEAAcA,CAACghH,OAAf,EAAwBz/F,wDAAxB,CAAlB;AACA,oBAAM0/F,UAAUjhH,iEAAcA,CAACpZ,SAAf,EAA0BvjB,MAA1B,CAAhB;AACA,uBAAO49I,OAAP;AACH;;AARC;AAFF;AAnCG,CAAf,E;;;;;;;;;;;;;;;;;;ACnBA;AACA;;;;;IAIqBpM,kB;;;;;;;;AACjB;;;2BAGQ;AACJ,YAAM,IAAIx4I,KAAJ,CAAU61C,oDAASA,CAACgvG,cAApB,CAAN;AACH;;AAED;;;;;;4BAGS;AACL,YAAM,IAAI7kJ,KAAJ,CAAU61C,oDAASA,CAACgvG,cAApB,CAAN;AACH;;AAED;;;;;;6BAGU;AACN,YAAM,IAAI7kJ,KAAJ,CAAU61C,oDAASA,CAACgvG,cAApB,CAAN;AACH;;AAED;;;;;;6BAGU;AACN,YAAM,IAAI7kJ,KAAJ,CAAU61C,oDAASA,CAACgvG,cAApB,CAAN;AACH;;;;;;AA3BgBrM,iF;;;;;;;;;;;;ACLrB;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;AAKA;AACQ,IAAMhnF,WAAW,UAAjB;AACA,IAAMwnF,QAAQ,OAAd;AACA,IAAM8L,QAAQ,OAAd;AACA,IAAMC,WAAW,UAAjB,C;;;;;;;;;;;;ACTR;AAAA;AAAA;;AAEA;;;;;;;;AAQe,yEAACj/I,MAAD,EAASrG,IAAT,EAAeuH,MAAf,EAA0B;AACrC,QAAMH,UAAUG,OAAOH,OAAP,YAA0BzG,KAA1B,GAAkC4G,OAAOH,OAAzC,GAAmD,CAACG,OAAOH,OAAR,CAAnE;AACA,QAAMm+I,iBAAiBn+I,QAAQpL,GAAR,CAAY;AAAA,eAAaqK,OAAOmD,SAAP,CAAiB;AAAA,mBAAKvQ,EAAEC,IAAF,KAAWiQ,SAAhB;AAAA,SAAjB,CAAb;AAAA,KAAZ,CAAvB;;AAEA,QAAIo8I,eAAe14I,IAAf,CAAoB;AAAA,eAAK5T,MAAM,CAAC,CAAZ;AAAA,KAApB,MAAuCqI,SAA3C,EAAsD;AAClD,cAAM,IAAIf,KAAJ,oBAA2B6G,OAA3B,0BAAN;AACH;;AAED,WAAOsoI,iEAAcA,CAAC;AAClB5tI,cAAMyjJ,cADY;AAElBvlJ;AAFkB,KAAf,CAAP;AAIH,CAZD,E;;;;;;;;;;;;ACVA;AAAA;;;;;AAKC;AACA;;;;;;;AAOA,SAASwlJ,iBAAT,CAA4Bn/I,MAA5B,EAAoCrG,IAApC,EAA0CuH,MAA1C,EAAkD;AAC9C,SAAOvH,IAAP;AACH;;AAEcwlJ,gFAAf,E;;;;;;;;;;;;ACjBD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA;;AAOe,iEAAEx1I,SAAS,OAAX,EAAf,E;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;;AAEA;AACA;;;;;;;;;;;;;;;;AAgBA;AACA,IAAMy1I,gBAAgB,SAAhBA,aAAgB,CAACzlJ,IAAD,EAAOqG,MAAP,EAAeq/I,UAAf,EAA2BC,WAA3B,EAAwCv+I,OAAxC,EAAoD;AACtE,QAAM2b,cAAcq3D,gEAAKA,CAAC/zE,MAAN,EAAcrG,IAAd,EAAoB;AACpCoH,iBAASu+I;AAD2B,KAApB,CAApB;AAGA,QAAMC,mBAAmBv/I,OAAOmD,SAAP,CAAiB;AAAA,eAAKvQ,EAAEC,IAAF,KAAWysJ,WAAhB;AAAA,KAAjB,CAAzB;AACA,QAAME,kBAAkBx/I,OAAOmD,SAAP,CAAiB;AAAA,eAAKvQ,EAAEC,IAAF,KAAWwsJ,UAAhB;AAAA,KAAjB,CAAxB;AACA,QAAMI,iBAAiBz/I,OAAOmD,SAAP,CAAiB;AAAA,eAAKvQ,EAAEC,IAAF,KAAWkO,OAAhB;AAAA,KAAjB,CAAvB;AACA,QAAM2+I,aAAa/lJ,KAAKhE,GAAL,CAAS;AAAA,eAAK/C,EAAE6sJ,cAAF,CAAL;AAAA,KAAT,EAAiChrI,MAAjC,CAAwC,UAAClZ,IAAD,EAAOw4D,GAAP,EAAY15D,GAAZ;AAAA,eAAoBA,IAAIoG,OAAJ,CAAYlF,IAAZ,MAAsBw4D,GAA1C;AAAA,KAAxC,EAAuFv0D,IAAvF,EAAnB;AACA,QAAMU,aAAaF,OAAOM,MAAP,CAAc,UAACC,GAAD,EAAMisB,GAAN,EAAWj6B,CAAX,EAAiB;AAC9CgO,YAAIhO,CAAJ,IAASi6B,IAAI35B,IAAb;AACA,eAAO0N,GAAP;AACH,KAHkB,EAGhB,EAHgB,CAAnB;AAIA,QAAMugE,UAAUpkD,YAAY/mB,GAAZ,CAAgB,UAAC0E,GAAD,EAAS;AACrC,YAAMslJ,SAAS,EAAf;AACA,YAAM16H,SAAS5qB,IAAIoZ,MAAJ,CAAWnT,MAAX,CAAkB,UAACC,GAAD,EAAMtK,GAAN,EAAc;AAC3CsK,kBAAMtK,IAAIqK,MAAJ,CAAW,UAACksB,GAAD,EAAMj5B,KAAN,EAAahB,CAAb,EAAmB;AAChC,oBAAIA,MAAMktJ,cAAV,EAA0B;AACtBjzH,wBAAIj5B,KAAJ,IAAa0C,IAAIupJ,eAAJ,CAAb;AACAG,2BAAOpsJ,KAAP,IAAgB0C,GAAhB;AACH,iBAHD,MAGO,IAAI1D,MAAMitJ,eAAV,EAA2B;AAC9BhzH,wBAAItsB,WAAW3N,CAAX,CAAJ,IAAqBgB,KAArB;AACH;AACD,uBAAOi5B,GAAP;AACH,aARK,EAQHjsB,GARG,CAAN;AASA,mBAAOA,GAAP;AACH,SAXc,EAWZ,EAXY,CAAf;AAYA0kB,eAAO26H,MAAP,GAAgBD,MAAhB;AACI;AACJD,mBAAWrpJ,OAAX,CAAmB,UAACwpJ,SAAD,EAAe;AAC9B,gBAAI56H,OAAO46H,SAAP,MAAsB5kJ,SAA1B,EAAqC;AACjCgqB,uBAAO46H,SAAP,IAAoB,CAApB;AACA,oBAAMC,SAAS,IAAIxlJ,KAAJ,CAAUD,IAAIoZ,MAAJ,CAAW,CAAX,EAAczc,MAAxB,CAAf;AACA8oJ,uBAAOP,gBAAP,IAA2BllJ,IAAIxG,GAA/B;AACAisJ,uBAAOL,cAAP,IAAyBI,SAAzB;AACA56H,uBAAO26H,MAAP,CAAcC,SAAd,IAA2BC,MAA3B;AACH;AACJ,SARD;AASA,eAAO76H,MAAP;AACH,KA1Be,CAAhB;;AA4BA,WAAO;AACHtrB,cAAMmnE,OADH;AAEHrlE,cAAMikJ;AAFH,KAAP;AAIH,CA5CD;AA6CA;;;;;;;AAOe,yEAAC1/I,MAAD,EAASrG,IAAT,EAAeuH,MAAf,EAA0B;AACrC,QAAMo+I,cAAcp+I,OAAOo+I,WAA3B;AACA,QAAMD,aAAan+I,OAAO3N,KAA1B;AACA,QAAMwN,UAAUG,OAAOH,OAAvB;AACA,QAAMvB,OAAO0B,OAAO1B,IAAP,IAAe,YAA5B;AACA,QAAMugJ,iBAAiBX,cAAczlJ,IAAd,EAAoBqG,MAApB,EAA4Bq/I,UAA5B,EAAwCC,WAAxC,EAAqDv+I,OAArD,CAAvB;AACA,QAAMtF,OAAOskJ,eAAetkJ,IAA5B;AACA,QAAM9F,MAAM,EAAZ;AACA,QAAMqqJ,UAAU9+I,OAAO8+I,OAAvB;AACA,QAAMC,aAAajgJ,OAAOmD,SAAP,CAAiB;AAAA,eAAKvQ,EAAEC,IAAF,KAAWmtJ,OAAhB;AAAA,KAAjB,CAAnB;AACA,QAAME,eAAelgJ,OAAOmD,SAAP,CAAiB;AAAA,eAAKvQ,EAAEC,IAAF,KAAWkO,OAAhB;AAAA,KAAjB,CAArB;AACA,QAAIk/I,eAAe,CAAC,CAApB,EAAuB;AACnBxkJ,aAAKpF,OAAL,CAAa,UAACxC,GAAD,EAAS;AAClB,gBAAMhB,OAAO8G,KAAK6M,IAAL,CAAU;AAAA,uBAAK5T,EAAEstJ,YAAF,MAAoBrsJ,GAAzB;AAAA,aAAV,CAAb;AACA8B,gBAAI9B,GAAJ,IAAWhB,KAAKotJ,UAAL,CAAX;AACH,SAHD;AAIAF,uBAAetkJ,IAAf,CAAoB+D,IAApB,CAAyB,UAACwZ,CAAD,EAAIC,CAAJ;AAAA,mBAAUtjB,IAAIqjB,CAAJ,EAAOmnI,aAAP,CAAqBxqJ,IAAIsjB,CAAJ,CAArB,CAAV;AAAA,SAAzB;AACH;;AAED,QAAMmnI,YAAY/tE,wDAAKA,CAAC;AACpB52E,cAAMskJ,eAAetkJ,IADD;AAEpBigD,gBAAQx6C,OAAOw6C,MAAP,IAAiB,WAFL;AAGpBt8C,eAAOI,IAHa;AAIpB7F,cAAMomJ,eAAepmJ;AAJD,KAAN,CAAlB;AAMAymJ,cAAU/pJ,OAAV,CAAkB,UAACgqJ,UAAD,EAAgB;AAC9BA,mBAAWhqJ,OAAX,CAAmB,UAACkd,OAAD,EAAa;AAC5BA,oBAAQ5Z,IAAR,GAAe4Z,QAAQ5Z,IAAR,CAAaimJ,MAAb,CAAoBS,WAAWxsJ,GAA/B,CAAf;AACH,SAFD;AAGH,KAJD;AAKA,WAAOusJ,SAAP;AACH,CA/BD,E;;;;;;;;;;;;;;;;;;;;;ACxEA;;;;AAIA;AACA;AACA;AACA;;AAEA;AACA,IAAME,mEACDC,8DADC,EACwBvtH,2DADxB,kCAEDutH,2DAFC,EAEqBxsE,wDAFrB,kCAGDwsE,2DAHC,EAGqBluE,wDAHrB,iBAAN;;AAMA;;;;;;;AAOA,SAASmuE,gBAAT,CAA2Bz+I,IAA3B,EAAiC;AAC7B,QAAMy8D,YAAY8hF,aAAav+I,IAAb,CAAlB;AACA,QAAI,OAAOy8D,SAAP,KAAqB,UAAzB,EAAqC;AACjC,cAAM,IAAItkE,KAAJ,CAAU,kCAAV,CAAN;AACH;AACD,WAAOskE,SAAP;AACH;;AAEcgiF,+EAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/BA;;;;;AAKA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;AAMA,IAAMC,mBAAmB,SAAnBA,gBAAmB,CAAC/9G,OAAD,EAAa;AAClC,QAAIg+G,qBAAJ;AACA,QAAIC,sBAAJ;AACA,QAAM/vG,OAAOlO,QAAQxe,MAAR,EAAb;;AAHkC,0BAO9Bwe,QAAQxhC,MAAR,EAP8B;AAAA,QAK9B0/I,UAL8B,mBAK9BA,UAL8B;AAAA,QAM9Bv0E,MAN8B,mBAM9BA,MAN8B;;AAAA,gCAW9Bz7B,KAAKtS,eAAL,EAX8B;AAAA,QAS9BI,KAT8B,yBAS9BA,KAT8B;AAAA,QAU9BC,MAV8B,yBAU9BA,MAV8B;;AAAA,uBAc1BiS,KAAK1vC,MAAL,EAd0B;AAAA,QAa1B+kC,IAb0B,gBAa1BA,IAb0B;;AAelC,QAAIA,SAAS,IAAb,EAAmB;AACf06G,wBAAgBnxI,KAAKuT,KAAL,CAAW4b,SAAS0tC,OAAO5yC,GAAhB,GAAsB4yC,OAAO1yC,MAA7B,GAAsCinH,UAAjD,CAAhB;AACAF,uBAAelxI,KAAKuT,KAAL,CAAW2b,QAAQ2tC,OAAOhwB,IAAf,GAAsBgwB,OAAO/vB,KAA7B,GAAqCskG,UAAhD,CAAf;AACH,KAHD,MAGO;AACFF,oBADE,GAC8BhiH,KAD9B;AACYiiH,qBADZ,GACqChiH,MADrC;AAEN;AACD,WAAO;AACHD,eAAOgiH,YADJ;AAEH/hH,gBAAQgiH;AAFL,KAAP;AAIH,CAzBD;;AA2BA;;;;;;IAKMtyE,Q;;;AAEF;;;;;;AAMA,sBAAantE,MAAb,EAAqB;AAAA;;AAAA,wHACXA,MADW;;AAGjB,cAAK25C,KAAL,GAAa,IAAb;AACA,cAAKgmG,YAAL,GAAoB,IAApB;AACA,cAAKC,WAAL,GAAmB,IAAnB;AACA,cAAK/zG,aAAL,GAAqB,IAArB;;AAEA8C,gFAAqBA,QAAOf,4CAAKA,CAACiyG,qDAAN,CAA5B;AARiB;AASpB;;AAED;;;;;;;;;;;;AAUA;;;;;;kCAMW;AACP,mBAAO,KAAK78H,MAAL,GAAciiB,EAArB;AACH;;AAED;;;;;;;;;;;AAUA;;;;;;oCAMa;AACT,mBAAO;AACHpkC,sBAAMg/I,qDADH;AAEHnwG,sBAAM,KAAK1sB,MAAL,GAAcpiB,SAAd;AAFH,aAAP;AAIH;;AAED;;;;;;;;;;;;AAWA;;;;;;0CAMmB;AACf,gBAAI,CAAC,KAAKkpC,YAAL,EAAL,EAA0B;AACtB,qBAAKA,YAAL,CAAkBy1G,iBAAiB,IAAjB,CAAlB;AACH;AACD,mBAAO,KAAKz1G,YAAL,EAAP;AACH;;AAED;;;;;;;;;;;;0CASmBtM,K,EAAOC,M,EAAQ;AAC9B,iBAAKiJ,UAAL,CAAgBlJ,KAAhB;AACA,iBAAKiJ,WAAL,CAAiBhJ,MAAjB;;AAF8B,0BAM1B,KAAKz9B,MAAL,EAN0B;AAAA,gBAI1BmrE,MAJ0B,WAI1BA,MAJ0B;AAAA,gBAK1Bh4B,QAL0B,WAK1BA,QAL0B;;AAQ9B,gBAAI3V,SAASC,MAAb,EAAqB;AACjB,qBAAKza,MAAL,GAAcua,iBAAd,CAAgCC,KAAhC,EAAuCC,MAAvC,EAA+C0tC,MAA/C,EAAuDh4B,QAAvD;AACA,qBAAKnwB,MAAL,GAAc8mB,YAAd,CAA2B,IAA3B;AACH,aAHD,MAGO;AACH,qBAAK9mB,MAAL,GAAc0tD,iBAAd;AACH;AACD,iBAAK5mC,YAAL,CAAkB,IAAlB;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;AAOA;;;+BAAkCvY,K,EAAO;AACrC,gBAAI,CAACA,KAAL,EAAY;AACR,uBAAO,IAAP;AACH;AACD,gBAAMme,OAAO,KAAK1sB,MAAL,EAAb;AACA,gBAAMyjB,cAAc,KAAKA,WAAL,EAApB;AACA,gBAAMC,aAAa,KAAKA,UAAL,EAAnB;;AANqC,2BASjC,KAAK1mC,MAAL,EATiC;AAAA,gBAQjCmrE,MARiC,YAQjCA,MARiC;;AAAA,gBAWjC5yC,GAXiC,GAejC4yC,MAfiC,CAWjC5yC,GAXiC;AAAA,gBAYjCE,MAZiC,GAejC0yC,MAfiC,CAYjC1yC,MAZiC;AAAA,gBAajC0iB,IAbiC,GAejCgwB,MAfiC,CAajChwB,IAbiC;AAAA,gBAcjCC,KAdiC,GAejC+vB,MAfiC,CAcjC/vB,KAdiC;;AAAA,gCAkBjC1L,KAAK1vC,MAAL,EAlBiC;AAAA,gBAiBjC+kC,IAjBiC,iBAiBjCA,IAjBiC;;AAmBrC,gBAAM+6G,aAAal7G,8DAAWA,CAAC4B,gEAAaA,CAACjV,KAAd,CAAZ,EAAkC,KAAlC,EAAyC,CAAC,IAAD,CAAzC,EAAoD8kB,4DAApD,SAAmE0pG,0DAAnE,CAAnB;AACA,gBAAMp8E,YAAY/+B,8DAAWA,CAACk7G,UAAZ,EAAwB,KAAxB,EAA+B,CAAC,CAAD,CAA/B,EAAuCzpG,4DAAvC,qBAAlB;;AAEA,iBAAK9kB,KAAL,CAAWA,KAAX;AACA,gBAAImV,eAAe,CAAf,IAAoB,CAACA,UAAzB,EAAqC;AACjCi9B,0BAAUv9B,IAAV,CAAe3L,sDAAf,EAAyB,CAAzB;AACH;AACD,gBAAIgM,gBAAgB,CAAhB,IAAqB,CAACA,WAA1B,EAAuC;AACnCk9B,0BAAUv9B,IAAV,CAAelL,uDAAf,EAA0B,CAA1B;AACH;AACD4kH,uBAAWv6G,KAAX,CAAiB9K,sDAAjB,GAA2BsK,OAAOz2B,KAAKuT,KAAL,CAAW6kB,UAAX,CAAP,GAAgC,CAA3D,UACiBnB,KADjB,CACuBrK,uDADvB,GACkC6J,OAAOz2B,KAAKuT,KAAL,CAAW4kB,WAAX,CAAP,GAAiC,CADnE,UAEiBlB,KAFjB,CAEuB,YAFvB,EAEqChN,GAFrC,EAGiBgN,KAHjB,CAGuB,eAHvB,EAGwC9M,MAHxC,EAIiB8M,KAJjB,CAIuB,aAJvB,EAIsC4V,IAJtC,EAKiB5V,KALjB,CAKuB,cALvB,EAKuC6V,KALvC;;AAOA1L,iBAAKne,KAAL,CAAWoyC,UAAU3zC,IAAV,EAAX;AACA,mBAAO2zC,SAAP;AACH;;AAED;;;;;;;;;iCAMU;AACN,iBAAK3gD,MAAL,MAAiB,KAAKA,MAAL,GAAc8jB,MAAd,EAAjB;AACA,iBAAKvV,KAAL,MAAgB,KAAKA,KAAL,GAAauV,MAAb,EAAhB;AACA,mBAAO,IAAP;AACH;;;4BAjJW;AACR,mBAAO+4G,qDAAP;AACH;;;4BAkBS;AACN,mBAAO,KAAK3mG,GAAZ;AACH;;;wCAsBuB;AACpB,mBAAOgF,8DAAP;AACH;;;;EAvEkB+8F,oD;;AA6KR9tE,uEAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/NA;;;;AAIA;AAMA;AACA;AACA;AACA;AACA;;AAEA;;;;;;IAKM6yE,S;;;AAEF;;;;;AAKA,uBAAahgJ,MAAb,EAAqB;AAAA;;AAAA,0HACXA,MADW;;AAGjB2uC,gFAAqBA,QAAOf,4CAAKA,CAAC+lF,sDAAN,CAA5B;AAHiB;AAIpB;;AAED;;;;;;;;;;;;AAUA;;;;;;kCAMW;AACP,mBAAO,KAAK1uF,EAAZ;AACH;;AAED;;;;;;;;;;;;AAsBA;;;;;;oCAMa;AACT,mBAAO;AACHpkC,sBAAM8yH,sDAAKA;AADR,aAAP;AAGH;;AAED;;;;;;;;;;0CAOmB;AACf,gBAAI,CAAC,KAAK7pF,YAAL,EAAL,EAA0B;AACtB,uBAAO;AACHtM,2BAAO,KAAKA,KAAL,IAAc,CADlB;AAEHC,4BAAQ,KAAKA,MAAL,IAAe;AAFpB,iBAAP;AAIH;AACD,mBAAO,KAAKqM,YAAL,EAAP;AACH;;AAED;;;;;;;;;;;0CAQmBtM,K,EAAOC,M,EAAQ;AAC9B,iBAAKiJ,UAAL,CAAgBlJ,KAAhB;AACA,iBAAKiJ,WAAL,CAAiBhJ,MAAjB;AACA,iBAAKqM,YAAL,CAAkB,IAAlB;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;AAQA;;;+BAAkCvY,K,EAAO;AACrC,gBAAIA,KAAJ,EAAW;AAAA,8BACW,KAAKvxB,MAAL,EADX;AAAA,oBACCulC,KADD,WACCA,KADD;AAEP;;;AACA,qBAAKhU,KAAL,CAAWA,KAAX;AACA,oBAAM2yC,YAAY19B,gEAAaA,CAACjV,KAAd,CAAlB;AACA,oBAAM/xB,OAAOolC,8DAAWA,CAACs/B,SAAZ,EAAuB,KAAvB,EAA8B,CAAC,KAAKj/B,EAAN,CAA9B,CAAb;AACAzlC,qBAAKwmC,OAAL,CAAgBqQ,4DAAhB,SAA+B4pG,2DAA/B,EAA6C,IAA7C;AACAzgJ,qBAAK+lC,KAAL,CAAW,OAAX,EAAuB,KAAKmB,UAAL,EAAvB;AACAlnC,qBAAK+lC,KAAL,CAAW,QAAX,EAAwB,KAAKkB,WAAL,EAAxB;AACAjnC,qBAAKw1E,IAAL,CAAU,EAAV;AACA;AACA,oBAAIzvC,KAAJ,EAAW;AACPwoC,iFAAUA,CAACvuE,IAAX,EAAiB+lC,KAAjB;AACH;AACJ,aAAC,OAAO,IAAP;AACL;;AAED;;;;;;;;;iCAMU;AACN,iBAAKhU,KAAL,MAAgB,KAAKA,KAAL,GAAauV,MAAb,EAAhB;AACA,mBAAO,IAAP;AACH;;;4BAnHW;AACR,mBAAO6sF,sDAAP;AACH;;;;;AAuBD;;;;;;;4BAOU;AACN,mBAAO,KAAKz6E,GAAZ;AACH;;;wCAbuB;AACpB,mBAAOgF,8DAAP;AACH;;;;EA1CmB+8F,oD;;AAwIT+E,wEAAf,E;;;;;;;;;;;;AC7JA;AAAA;AAAA;;AAEA;;;;;;AAMA,IAAMlF,eAAe,SAAfA,YAAe,GAAM;AACvB,QAAM1G,MAAM8L,8DAAZ;AACA,WAAO;AACHxkI,aAAK,aAAC/oB,GAAD,EAAM8f,GAAN,EAAc;AACf,gBAAI9f,OAAOyhJ,GAAX,EAAgB;AACZA,oBAAIzhJ,GAAJ,IAAW8f,GAAX;AACH;AACD,mBAAOqoI,YAAP;AACH,SANE;AAOH7oJ,aAAK;AAAA,mBAAMmiJ,GAAN;AAAA;AAPF,KAAP;AASH,CAXD;AAYe0G,2EAAf,E;;;;;;;;;;;;ACpBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,IAAMqF,cAAc,YAApB;AACA,IAAMC,YAAY,UAAlB;AACA,IAAML,YAAY,UAAlB;AACA,IAAME,aAAa,WAAnB;AACA,IAAMI,YAAY,UAAlB,C;;;;;;;;;;;;;;;;;;;;;;;;ACJP;AACA;AACA;AACA;AACA;;AAEA;;AAEO,IAAMH,2FACRI,sDADQ,EACgBrF,oDADhB,0CAERqF,oDAFQ,EAEc7I,kDAFd,0CAGR6I,oDAHQ,EAGcnzE,kDAHd,0CAIRmzE,oDAJQ,EAIcC,kDAJd,0CAKRD,qDALQ,EAKeN,mDALf,yBAAN,C;;;;;;;;;;;;ACRP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACO,IAAMQ,SAAS,QAAf;AACP;AACO,IAAMC,OAAO,MAAb;AACP;AACO,IAAMZ,OAAO,MAAb;AACP;AACO,IAAMa,OAAO,MAAb;AACP;AACO,IAAM/sB,QAAQ,OAAd,C;;;;;;;;;;;;ACTP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AAGO,IAAMgkB,SAAS,QAAf;AACA,IAAMr8G,OAAO,MAAb;AACA,IAAMC,QAAQ,OAAd;AACA,IAAMC,SAAS,QAAf;AACA,IAAMH,MAAM,KAAZ;AACA,IAAMslH,cAAc,YAApB;AACA,IAAMtqG,cAAc,MAApB;AACA,IAAMuqG,iBAAiB,eAAvB;AACA,IAAMC,aAAa,WAAnB;AACA,IAAMC,YAAY,UAAlB;AACA,IAAMC,SAAS,QAAf;AACA,IAAMC,WAAW,UAAjB;AACA,IAAMC,OAAO,MAAb;AACA,IAAMxlH,SAAS,QAAf;AACA,IAAMglH,OAAO,MAAb;AACA,IAAMS,SAAS,QAAf;AACA,IAAMhmH,SAAS,QAAf;AACA,IAAMT,QAAQ,OAAd;AACA,IAAMq6G,OAAO,MAAb;AACA,IAAM1tE,OAAO,MAAb;AACA,IAAM+5E,kBAAkB,eAAxB;AACA,IAAMC,SAAS,QAAf;AACA,IAAM55E,YAAY,WAAlB;AACA,IAAM65E,YAAY,UAAlB;AACA,IAAMn6E,SAAS,QAAf;AACA,IAAMo6E,gBAAgB,cAAtB;AACA,IAAMC,YAAY,UAAlB;AACA,IAAMC,YAAY,eAAlB;AACA,IAAMC,WAAW,UAAjB;;AAEA,IAAMrB,YAAY,WAAlB;AACA,IAAML,YAAY,WAAlB;AACA,IAAMM,YAAY,WAAlB;AACA,IAAMJ,aAAa,YAAnB,C;;;;;;;;;;;;;;;;;;;ACpCP;;;;AAIA;;AAEC;;;;AAIM,IAAM/hG,yEACRoiG,iDADQ,8DAEJA,+CAFI,EAEa,CAFb,sCAGJA,gDAHI,EAGc,CAHd,sCAIJA,8CAJI,EAIY,CAJZ,sCAKJA,iDALI,EAKe,CALf,yDAORA,sDAPQ,EAOgB,CAPhB,oCAQRA,oDARQ,EAQc,KARd,oCASRA,yDATQ,EASmB,IATnB,oCAURA,qDAVQ,EAUeA,iDAVf,oCAWRA,+CAXQ,EAWS,IAXT,oCAYRA,oDAZQ,EAYc,CAZd,oCAaRA,oDAbQ,EAac,CAbd,oCAcRA,mDAdQ,EAca,IAdb,mBAAN,C;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVP;;;;;;AAMA;AACA;AACA;AACA;AACA;AAIA;;AAEA;;;;;;;AAOA,IAAMoB,mBAAmB,SAAnBA,gBAAmB,CAAClgH,OAAD,EAAa;AAClC,QAAMxhC,SAASwhC,QAAQxe,MAAR,GAAiBhjB,MAAjB,EAAf;AADkC,QAE1Bw9B,KAF0B,GAERx9B,MAFQ,CAE1Bw9B,KAF0B;AAAA,QAEnBC,MAFmB,GAERz9B,MAFQ,CAEnBy9B,MAFmB;;AAGlC,WAAO;AACHD,eAAOlvB,KAAKy4B,IAAL,CAAUvJ,KAAV,CADJ;AAEHC,gBAAQnvB,KAAKy4B,IAAL,CAAUtJ,SAAS+D,QAAQmgH,eAAR,GAA0BlkH,MAA7C;AAFL,KAAP;AAIH,CAPD;;AASC;;;;;;IAKK8iH,Q;;;AAEF;;;;;AAKA,sBAAavgJ,MAAb,EAAqB;AAAA;;AAAA,wHACXA,MADW;;AAGjB,cAAK4hJ,KAAL,GAAa,IAAb;AACA,cAAKvjF,OAAL,GAAe,IAAf;AACA,cAAKwjF,KAAL,GAAa,EAAb;AACA,cAAKC,UAAL,GAAkB,EAAlB;AACA,cAAKC,cAAL,GAAsB,EAAtB;AACA,cAAKC,OAAL,GAAe,IAAf;AACA,cAAKC,UAAL,GAAkB,IAAlB;AACA,cAAKC,QAAL,GAAgB,IAAhB;;AAEAvzG,gFAAqBA,QAAOf,4CAAKA,CAAC8yG,qDAAN,CAA5B;AAZiB;AAapB;;AAED;;;;;;;;;;;;AAUA;;;;;;kCAMW;AACP,mBAAO,KAAK19H,MAAL,EAAP;AACH;;AAED;;;;;;;;;;;;AAWA;;;;;;;oCAOa;AACT,mBAAO;AACHniB,sBAAM6/I,qDADH;AAEHp0I,sBAAM,KAAK0W,MAAL,GAAcpiB,SAAd,EAFH;AAGHuhJ,yBAAS,KAAKA,OAAL;AAHN,aAAP;AAKH;;AAED;;;;;;;;;;;;AAWA;;;;;;sCAMe;AAAA;;AACX,gBAAM71I,OAAO,KAAK0W,MAAL,EAAb;AACA1W,iBAAK81I,SAAL;AACA,aAACf,0DAAD,EAAY75E,0DAAZ,EAAuBJ,qDAAvB,EAA6Bg6E,uDAA7B,EAAqCl6E,uDAArC,EAA6C4tE,qDAA7C,EAAmD1tE,qDAAnD,EAAyD+5E,gEAAzD,EAA0EG,8DAA1E,EAAyFnsJ,OAAzF,CAAiG,UAAC88B,IAAD,EAAU;AACvG,uBAAKA,IAAL,OAAgB3lB,KAAK2lB,IAAL,EAAW,OAAKA,IAAL,GAAX,CAAhB;AACH,aAFD;AAGA3lB,iBAAK+1I,WAAL;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;0CAMmB;AACf,gBAAMF,UAAU,KAAKA,OAAL,EAAhB;;AAEA,gBAAIG,eAAe,EAAE9kH,OAAO,CAAT,EAAYC,QAAQ,CAApB,EAAnB;AACA,gBAAI0kH,OAAJ,EAAa;AACTG,+BAAeH,QAAQ/kH,eAAR,EAAf;AACH;AACD,mBAAOklH,YAAP;AACH;;AAED;;;;;;;;;0CAMmB;AACf,gBAAI,CAAC,KAAKx4G,YAAL,EAAL,EAA0B;AACtB,qBAAKA,YAAL,CAAkB43G,iBAAiB,IAAjB,CAAlB;AACH;AACD,mBAAO,KAAK53G,YAAL,EAAP;AACH;;AAED;;;;;;;;;;;;0CASmBtM,K,EAAOC,M,EAAQ;AAC9B,gBAAMnxB,OAAO,KAAK0W,MAAL,EAAb;;AAEA,iBAAK0jB,UAAL,CAAgBlJ,KAAhB;AACA,iBAAKiJ,WAAL,CAAiBhJ,MAAjB;AACAnxB,iBAAK81I,SAAL;AACA91I,iBAAKkxB,KAAL,CAAWA,KAAX,EAAkBC,MAAlB,CAAyBA,SAAS,KAAKkkH,eAAL,GAAuBlkH,MAAzD;AACAnxB,iBAAK+1I,WAAL;AACA,iBAAKv4G,YAAL,CAAkB,IAAlB;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;+BAOQvY,K,EAAO;AACX,gBAAIA,KAAJ,EAAW;AACP,qBAAKA,KAAL,CAAWA,KAAX;AACA,oBAAMkV,cAAc,KAAKA,WAAL,EAApB;AACA,oBAAMC,aAAa,KAAKA,UAAL,EAAnB;AACA,oBAAMy7G,UAAU,KAAKA,OAAL,EAAhB;AACA,oBAAMrC,aAAal7G,8DAAWA,CAAC4B,gEAAaA,CAACjV,KAAd,CAAZ,EAAkC,KAAlC,EAAyC,CAAC,CAAD,CAAzC,EAAiD8kB,4DAAjD,SAAgEgqG,0DAAhE,CAAnB;;AAEA,oBAAI8B,OAAJ,EAAa;AACT,wBAAMI,aAAa39G,8DAAWA,CAACk7G,UAAZ,EAAwB,KAAxB,EAA+B,CAACqC,OAAD,CAA/B,EAA6C9rG,4DAA7C,oBAAyErmB,IAAzE,EAAnB;AACAmyH,4BAAQv7G,MAAR,CAAe27G,UAAf;AACH;AACD,oBAAM5+E,YAAY/+B,8DAAWA,CAACk7G,UAAZ,EAAwB,KAAxB,EAA+B,CAAC,CAAD,CAA/B,EAAuCzpG,4DAAvC,WAAlB;AACAypG,2BAAWv6G,KAAX,CAAiB9K,sDAAjB,EAA2BiM,UAA3B,SAA2CnB,KAA3C,CAAiDrK,uDAAjD,EAA4DuL,WAA5D;AACAk9B,0BAAUp+B,KAAV,CAAgB9K,sDAAhB,EAA0BiM,UAA1B,SACiBnB,KADjB,CACuBrK,uDADvB,EACkCuL,cAAc,KAAKk7G,eAAL,GAAuBlkH,MADvE;AAEA,qBAAKza,MAAL,GAAcuO,KAAd,CAAoBoyC,UAAU3zC,IAAV,EAApB;AACH;AACD,mBAAO,IAAP;AACH;;AAED;;;;;;;;;iCAMU;AACN,iBAAKuB,KAAL,MAAgB,KAAKA,KAAL,GAAauV,MAAb,EAAhB;AACA,iBAAK9jB,MAAL,GAAc8jB,MAAd;AACA,mBAAO,IAAP;AACH;;;4BA3JW;AACR,mBAAO45G,qDAAP;AACH;;;4BAmBS;AACN,mBAAO,KAAK19H,MAAL,GAAciiB,EAAd,EAAP;AACH;;;wCAwBuB;AACpB,mBAAOiZ,8DAAP;AACH;;;;EA7EkB+8F,oD;;AA0LRsF,uEAAf,E;;;;;;;;;;;;AC/NA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;ACLA;AACA;;AAEA,IAAMiC,gBAAgB;AAClBjxH,WAAO,EADW;AAElBkV,iBAAa,EAFK;AAGlBC,gBAAY,EAHM;AAIlB1mC,YAAQ;AACJ6tC,sBAAc,sBAACrM,OAAD,EAAUnvC,KAAV;AAAA,mBAAoBsqC,iEAAcA,CAAC6E,QAAQvd,OAAvB,EAAgC5xB,KAAhC,CAApB;AAAA;AADV,KAJU;AAOlBy3C,kBAAc,EAPI;AAQlBkwG,gBAAY,EARM;AASlBh3H,YAAQ;AATU,CAAtB;;AAYA,IAAMy/H,YAAY;AACdhqJ,UAAM,EADQ;AAEd0pJ,aAAS,EAFK;AAGdniJ,YAAQ,EAHM;AAId8wD,UAAM;AACFjjB,sBAAc,sBAACrM,OAAD,EAAUnvC,KAAV;AAAA,mBAAoBP,OAAO4H,MAAP,CAAc8nC,QAAQqgH,KAAtB,EAA6BxvJ,KAA7B,CAApB;AAAA;AADZ,KAJQ;AAOd8gJ,mBAAe,EAPD;AAQd74I,YAAQ,EARM;AASdgjE,eAAW,EATG;AAUdX,cAAU,EAVI;AAWduJ,kBAAc;AAXA,CAAlB;;AAcA,IAAMw8E,YAAY;AACdC,eAAW;AADG,CAAlB;AAGO,IAAM/0G,8CACR8yG,qDADQ,EACD/jH,iEAAcA,CAAC8lH,SAAf,EAA0BD,aAA1B,CADC,2BAER/B,qDAFQ,EAED9jH,iEAAcA,CAAC+lH,SAAf,EAA0BF,aAA1B,CAFC,2BAGR3C,qDAHQ,EAGD2C,aAHC,2BAIR7uB,sDAJQ,EAIA6uB,aAJA,UAAN,C;;;;;;;;;;;;;;;;;;;AChCP;AAKA;;AAEA;;;;;AAKA;;;;;;;IAMMvH,U;;AAEF;;;;;;AAMA,sBAAaj7I,MAAb,EAAqB;AAAA;;AACjB,SAAKk5C,GAAL,GAAWnsB,8DAAWA,EAAtB;;AAEA,QAAMxJ,YAAYoZ,iEAAcA,CAAC,EAAf,EAAmB,KAAKz/B,WAAL,CAAiBumC,aAAjB,EAAnB,CAAlB;AACA,SAAKxf,OAAL,GAAe0Y,iEAAcA,CAACpZ,SAAf,EAA0BvjB,UAAU,EAApC,CAAf;;AAEA,SAAKm5C,MAAL,GAAc,IAAd;AACH;;AAED;;;;;;;;;;;;AAqBA;;;;;8BAKW;AACP,YAAM,IAAIngD,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;;;yBAMM;AACF,YAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;;gCAKa;AACT,YAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;;;sCAMmB;AACf,YAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;;;;wCAOqB;AACjB,YAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;;;6BAMU;AACN,YAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;;;6BAMU;AACN,YAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;;wBAlFW;AACR,aAAO0xG,uDAAP;AACH;;AAED;;;;;;;;;;oCAOwB;AACpB,aAAO,EAAP;AACH;;;;;;AAyEUvF,yEAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/HA;;;;;AAKA;AAMA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAM2H,eAAe,SAAfA,YAAe,CAACphH,OAAD,EAAa;AAC9B,QAAMxe,SAASwe,QAAQxe,MAAR,EAAf;;AAD8B,8BAK1Bwe,QAAQw4G,UAAR,EAL0B;AAAA,QAGlB6I,cAHkB,uBAG1BplH,MAH0B;AAAA,QAInBqlH,aAJmB,uBAI1BtlH,KAJ0B;;AAAA,0BAS3BgE,QAAQxhC,MAAR,EAT2B;AAAA,QAO3BmrE,MAP2B,mBAO3BA,MAP2B;AAAA,QAQ3B17B,QAR2B,mBAQ3BA,QAR2B;;AAAA,QAW1B0L,IAX0B,GAezBgwB,MAfyB,CAW1BhwB,IAX0B;AAAA,QAY1BC,KAZ0B,GAezB+vB,MAfyB,CAY1B/vB,KAZ0B;AAAA,QAa1B7iB,GAb0B,GAezB4yC,MAfyB,CAa1B5yC,GAb0B;AAAA,QAc1BE,MAd0B,GAezB0yC,MAfyB,CAc1B1yC,MAd0B;;AAgB9B,QAAMsqH,eAAexqH,MAAME,MAAN,GAAeoqH,cAApC;AACA,QAAMG,cAAc7nG,OAAOC,KAAP,GAAe0nG,aAAnC;AACA,QAAMr8G,cAAcjF,QAAQiF,WAAR,KAAwBs8G,YAA5C;AACA,QAAMr8G,aAAalF,QAAQkF,UAAR,KAAuBs8G,WAA1C;AACA,QAAMxzG,eAAehO,QAAQlN,YAAR,GAAuBkb,YAA5C;;AAEAA,iBAAagD,QAAb,CAAsBhR,QAAQ8rC,cAA9B;;AAEA,KAAC79B,QAAD,IAAajO,QAAQmhH,SAAR,CAAkBnzG,aAAaqE,YAAb,CAA0B7wB,MAA1B,EAAkC0jB,UAAlC,EAA8CD,WAA9C,EAA2D,KAA3D,CAAlB,CAAb;AACAgJ,gBAAYjO,QAAQmhH,SAAR,CAAkBnzG,aAAaqE,YAAb,CAA0B7wB,MAA1B,EAAkCyjB,WAAlC,EAA+CC,UAA/C,EAA2D,IAA3D,CAAlB,CAAZ;;AAEA,WAAOlF,OAAP;AACH,CA5BD;;AA8BA;;;;;;;AAOA,IAAMyhH,mBAAmB,SAAnBA,gBAAmB,CAACzhH,OAAD,EAAa;AAAA,gCACTA,QAAQlN,YAAR,EADS;AAAA,QAC1Bkb,YAD0B,yBAC1BA,YAD0B;;AAAA,+BAK9BhO,QAAQw4G,UAAR,EAL8B;AAAA,QAGtB6I,cAHsB,wBAG9BplH,MAH8B;AAAA,QAIvBqlH,aAJuB,wBAI9BtlH,KAJ8B;;AAAA,2BAW/BgE,QAAQxhC,MAAR,EAX+B;AAAA,QAO/BmrE,MAP+B,oBAO/BA,MAP+B;AAAA,QAQ/BpmC,IAR+B,oBAQ/BA,IAR+B;AAAA,QAS/BytG,QAT+B,oBAS/BA,QAT+B;AAAA,QAU/B0I,aAV+B,oBAU/BA,aAV+B;;AAAA,QAa/B//F,IAb+B,GAiB9BgwB,MAjB8B,CAa/BhwB,IAb+B;AAAA,QAc/BC,KAd+B,GAiB9B+vB,MAjB8B,CAc/B/vB,KAd+B;AAAA,QAe/B7iB,GAf+B,GAiB9B4yC,MAjB8B,CAe/B5yC,GAf+B;AAAA,QAgB/BE,MAhB+B,GAiB9B0yC,MAjB8B,CAgB/B1yC,MAhB+B;;AAkBlC,QAAMsqH,eAAexqH,MAAME,MAAN,GAAeoqH,cAApC;AACA,QAAMG,cAAc7nG,OAAOC,KAAP,GAAe0nG,aAAnC;AACA,QAAMr8G,cAAcjF,QAAQiF,WAAR,KAAwBs8G,YAA5C;AACA,QAAMr8G,aAAalF,QAAQkF,UAAR,KAAuBs8G,WAA1C;AACA,QAAMhgI,SAASwe,QAAQxe,MAAR,EAAf;AACA,QAAM2mB,QAAQnI,QAAQmhH,SAAR,EAAd;AACA,QAAMO,UAAU,IAAI9pJ,KAAJ,CAAU8hJ,aAAV,EAAyBltE,IAAzB,CAA8B,GAA9B,EAAmCp5E,IAAnC,CAAwC,EAAxC,CAAhB;AACA,QAAMuuJ,gBAAgB3zG,aAAaiB,UAAb,CAAwByyG,OAAxB,CAAtB;;AAEA1hH,YAAQxhC,MAAR,CAAe,EAAEyvC,UAAU,KAAZ,EAAf;AACA,QAAI9F,MAAMnM,KAAN,IAAekJ,cAAc,CAA7B,KAAmC8rG,QAAvC,EAAiD;AAC7C7oG,cAAMlM,MAAN,GAAekM,MAAM+H,aAAN,GAAsB8gG,QAArC;AACH;AACD,QAAI9rG,cAAcA,aAAaiD,MAAMnM,KAArC,EAA4C;AACxCmM,cAAMnM,KAAN,GAAc2lH,cAAc3lH,KAA5B;AACH;AACD,QAAIkJ,cAAcA,aAAap4B,KAAK3D,GAAL,CAASw4I,cAAc3lH,KAAvB,EAA8BmM,MAAM4vF,YAApC,CAA/B,EAAkF;AAC9E,YAAM6pB,aAAa5zG,aAAaqE,YAAb,CAA0B7wB,MAA1B,EAAkCyjB,WAAlC,EAA+C08G,cAAc1lH,MAA7D,EAAqE,IAArE,CAAnB;AACAkM,cAAMnM,KAAN,GAAc4lH,WAAW3lH,MAAzB;AACAkM,cAAMlM,MAAN,GAAe2lH,WAAW5lH,KAA1B;AACAgE,gBAAQxhC,MAAR,CAAe,EAAEyvC,UAAU,IAAZ,EAAf;AACAjO,gBAAQmhH,SAAR,CAAkBS,UAAlB;AACH;;AAED,QAAIr+G,IAAJ,EAAU;AACN,eAAO;AACHvH,mBAAOlvB,KAAKy4B,IAAL,CAAU4C,MAAMnM,KAAhB,IAAyBwlH,WAD7B;AAEHvlH,oBAAQnvB,KAAKy4B,IAAL,CAAU4C,MAAMlM,MAAhB,IAA0BslH;AAF/B,SAAP;AAIH,KAAC,OAAO;AACLvlH,eAAO,CADF;AAELC,gBAAQ;AAFH,KAAP;AAIL,CAnDD;;AAqDA;;;;;;IAKMg6G,Q;;;AAEF;;;;;;AAMA,sBAAaz3I,MAAb,EAAqBs0B,YAArB,EAAmC;AAAA;;AAAA,wHACzBt0B,MADyB;;AAG/B,cAAKy8B,aAAL,GAAqBnI,YAArB;AACA,cAAK+uH,UAAL,GAAkB,MAAKp/H,OAAL,CAAawgB,SAAb,KACL,MAAKxgB,OAAL,CAAapjB,IAAb,KAAsBqgJ,uDAAtB,GAAkC7qG,4DAAlC,SAAiD6qG,uDAAjD,aAAoE7qG,4DAApE,SAAmFoqG,qDAAnF,UADK,CAAlB;AAEA,cAAKnzE,cAAL,GAAsB7zB,wEAAqBA,CAACjT,gEAAaA,CAAC,MAAd,CAAtB,EAA6C,MAAK68G,UAAlD,CAAtB;AACA,cAAK5mH,aAAL,CAAmB+S,YAAnB,CAAgCgD,QAAhC,CAAyC,MAAK86B,cAA9C;AACA3+B,gFAAqBA,QAAOf,4CAAKA,CAAC6yG,qDAAN,CAA5B;AACA,YAAM92G,QAAQ,MAAKlN,aAAL,CAAmB+S,YAAnB,CAAgCiB,UAAhC,CAA2C,GAA3C,CAAd;AACA,cAAKupG,UAAL,CAAgB,EAAEx8G,OAAOlvB,KAAKuT,KAAL,CAAW8nB,MAAMnM,KAAN,GAAc,CAAd,GAAkB,CAA7B,CAAT,EAA0CC,QAAQnvB,KAAKuT,KAAL,CAAW8nB,MAAMlM,MAAN,GAAe,CAA1B,CAAlD,EAAhB;AACAmlH;AAX+B;AAYlC;;AAED;;;;;;;;;;;;AAUA;;;;;;kCAMW;AACP,mBAAO,KAAK5/H,MAAL,EAAP;AACH;;AAED;;;;;;;;;;;;AAWA;;;;;;uCAMgB;AACZ,mBAAO,KAAKyZ,aAAZ;AACH;;AAED;;;;;;;;;oCAMa;AACT,mBAAO;AACH9mC,sBAAM,KAAKqtB,MAAL,EADH;AAEHniB,sBAAM4/I,qDAAIA;AAFP,aAAP;AAIH;;AAED;;;;;;;;;;;;AAWA;;;;;;;0CAOmB;AACf,gBAAI,CAAC,KAAK32G,YAAL,EAAL,EAA0B;AACtB,qBAAKA,YAAL,CAAkBm5G,iBAAiB,IAAjB,CAAlB;AACH;AACD,mBAAO,KAAKn5G,YAAL,EAAP;AACH;;AAED;;;;;;;;;;;0CAQmBtM,K,EAAOC,M,EAAQ;AAC9B,iBAAKiJ,UAAL,CAAgBlJ,KAAhB;AACA,iBAAKiJ,WAAL,CAAiBhJ,MAAjB;AACAmlH,yBAAa,IAAb;AACA,iBAAK94G,YAAL,CAAkB,IAAlB;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;;+BAQQvY,K,EAAO;AACX,gBAAMmV,aAAa,KAAKA,UAAL,EAAnB;;AADW,0BAQP,KAAK1mC,MAAL,EARO;AAAA,gBAGPmrE,MAHO,WAGPA,MAHO;AAAA,gBAIPpmC,IAJO,WAIPA,IAJO;AAAA,gBAKPo2G,aALO,WAKPA,aALO;AAAA,gBAMPmI,SANO,WAMPA,SANO;AAAA,gBAOP7zG,QAPO,WAOPA,QAPO;;AAUX,iBAAKle,KAAL,CAAWA,KAAX;AACA,gBAAIwT,IAAJ,EAAU;AACN,oBAAMm/B,YAAY19B,gEAAaA,CAACjV,KAAd,CAAlB;AACA,oBAAM/xB,OAAOolC,8DAAWA,CAACs/B,SAAZ,EAAuB,KAAvB,EAA8B,CAAC,KAAKj/B,EAAN,CAA9B,EAA4CoR,4DAA5C,SAA2D+pG,0DAA3D,CAAb;AACA,oBAAMmD,SAASpI,iBAAiB1rG,QAAjB,GAA4B,QAA5B,GAAuC,KAAtD;;AAHM,iCAQF,KAAKkzG,SAAL,EARE;AAAA,oBAKFnlH,KALE,cAKFA,KALE;AAAA,oBAMFC,MANE,cAMFA,MANE;AAAA,oBAOF9nC,IAPE,cAOFA,IAPE;;AAAA,kCAWF,KAAKqkJ,UAAL,EAXE;AAAA,oBAUM6I,cAVN,eAUFplH,MAVE;;AAYN,oBAAM+lH,cAAc;AAChBjrH,yBAAKiF,QAAQqlH,iBAAiB,CADd;AAEhBY,4BAAQjmH,QAAQ,CAAR,GAAYqlH,cAFJ;AAGhBpqH,4BAAQoqH;AAHQ,iBAApB;;AAMA3+E,0BAAU3+B,KAAV,CAAgB,gBAAhB,EAAkCg+G,MAAlC;;AAEA;AACA/jJ,qBAAKwmC,OAAL,CAAa,KAAKq9G,UAAlB,EAA8B,IAA9B;;AAEA;AACA7jJ,qBAAK+lC,KAAL,CAAW,YAAX,EAAyB+9G,SAAzB;AACA9jJ,qBAAK+lC,KAAL,CAAW,SAAX,EAAsB,QAAtB;AACA/lC,qBAAK+lC,KAAL,CAAW,WAAX,EAAwBkK,0BAAwBhS,SAAS,CAAjC,8BAClB+lH,YAAYD,MAAZ,CADkB,0BACwB,EADhD;AAEA/jJ,qBAAK+lC,KAAL,CAAW9K,sDAAX,EAAkBiM,aAAgBA,UAAhB,UAAiC,MAAnD;AACA,iBAACrL,oDAAD,EAAMG,uDAAN,EAAcF,qDAAd,EAAoBC,sDAApB,EAA2BpmC,OAA3B,CAAmC,UAAC0L,IAAD,EAAU;AACzCrB,yBAAK+lC,KAAL,cAAsB1kC,IAAtB,EAAiCsqE,OAAOtqE,IAAP,CAAjC;AACH,iBAFD;;AAIA;AACArB,qBAAKw1E,IAAL,CAAUr/E,IAAV;AACH;AACD,mBAAO,IAAP;AACH;;AAED;;;;;;;;;iCAMU;AACN,iBAAK47B,KAAL,MAAgB,KAAKA,KAAL,GAAauV,MAAb,EAAhB;AACA,mBAAO,IAAP;AACH;;;4BA5JW;AACR,mBAAO25G,qDAAP;AACH;;;4BAmBS;AACN,mBAAO,KAAKvnG,GAAZ;AACH;;;wCAgCuB;AACpB,mBAAOgF,8DAAP;AACH;;;;EArFkB+8F,oD;;AA2LRxD,uEAAf,E;;;;;;;;;;;AC5SA,uC;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;;AAEA;;;AAGO,IAAM7tF,mBAAmB;AAC5BoZ,eAAWnZ,6DAASA,CAACtV,IADO;AAE5BmvG,iBAAa75F,6DAASA,CAACtV,IAFK;AAG5BovG,cAAU95F,6DAASA,CAAC7N,IAHQ;AAI5Bi9B,aAASpvB,6DAASA,CAAC9Y,MAJS;AAK5BivD,gBAAYn2C,6DAASA,CAAC9Y;AALM,CAAzB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACLP;AACA;AACA;AAOA;;AAEA;AACA;;AAEA;;;;;;;;IAOqB6yG,gB;;;;;;;;;;;;;AAYjB;;;;;;;;mCAQYC,Y,EAAcC,S,EAAW;AAAA;;AACjC,gBAAMC,eAAe,EAArB;AADiC,gBAG7BjzF,IAH6B,GAI7B+yF,YAJ6B,CAG7B/yF,IAH6B;AAAA,gBAM7BkzF,WAN6B,GAQ7BF,SAR6B,CAM7BE,WAN6B;AAAA,gBAO7B/+E,OAP6B,GAQ7B6+E,SAR6B,CAO7B7+E,OAP6B;AAAA,gBAU7Bg/E,SAV6B,GAY7BD,WAZ6B,CAU7BC,SAV6B;AAAA,gBAW7BC,YAX6B,GAY7BF,WAZ6B,CAW7BE,YAX6B;AAAA,gBAc5Bl/G,QAd4B,GAgB7BigC,OAhB6B,CAc5BjgC,QAd4B;AAAA,gBAe5BsF,WAf4B,GAgB7B26B,OAhB6B,CAe5B36B,WAf4B;;AAiBjC,gBAAM2mB,aAAa,CAAC;AAChB32D,wBAAQ2pJ,SADQ;AAEhBlhJ,uBAAOiiC;AAFS,aAAD,EAGhB;AACC1qC,wBAAQ4pJ,YADT;AAECnhJ,uBAAOunC;AAFR,aAHgB,CAAnB;AAOA,gBAAM4tG,QAAQpnF,KAAK3yC,CAAL,IAAU,EAAxB;AACA,gBAAMgmI,QAAQrzF,KAAK5oC,CAAL,IAAU,EAAxB;;AAEA,aAAC+7H,SAAD,EAAYC,YAAZ,EAA0B/uJ,OAA1B,CAAkC,UAACmF,MAAD,EAASjJ,CAAT,EAAe;AAC7C,oBAAMwP,OAAOxP,MAAM,CAAN,GAAU+pC,oDAAV,GAAgBD,uDAA7B;AACA,oBAAMuU,OAAOr+C,MAAM,CAAN,GAAUi3B,kDAAV,GAAc05F,kDAA3B;;AAEA,oBAAI1nH,OAAOxE,MAAP,GAAgB,CAApB,EAAuB;AACnB+tJ,iCAAazwF,QAAb,GAAwBgxF,qDAAxB;AACH,iBAFD,MAEO;AACHP,iCAAazwF,QAAb,GAAwB,OAAKixF,QAAL,GAAgBxjJ,IAAhB,CAAxB;AACH;AACDkjJ,6BAAar0G,IAAb,IAAqB40G,2EAAmBA,CAAC50G,IAApB,EAA0BuhB,WAAW5/D,CAAX,CAA1B,EAAyCwyJ,YAAzC,EAAuDn0G,SAASsyE,kDAAT,GAAak2B,KAAb,GAAqBiM,KAA5E,CAArB;AACH,aAVD;AAWA,mBAAOJ,YAAP;AACH;;;sCAEch/H,K,EAAO+rC,I,EAAM;AACxB,gBAAMonF,QAAQpnF,KAAK3yC,CAAnB;AACA,gBAAMgmI,QAAQrzF,KAAK5oC,CAAnB;AACAnD,kBAAMtgB,KAAN,CAAYmwB,IAAZ;AACA,iBAAK,IAAIvjC,IAAI,CAAb,EAAgBA,IAAI6mJ,MAAMpiJ,MAA1B,EAAkCzE,GAAlC,EAAuC;AACnC,qBAAK,IAAI8E,IAAI,CAAb,EAAgBA,IAAI+hJ,MAAM7mJ,CAAN,EAASyE,MAA7B,EAAqCK,GAArC,EAA0C;AACtC4uB,0BAAM4rD,MAAN,CAAgBzS,2DAAgBA,CAACqrE,sBAAjC,kBAAoE,CAApE,GAAwEl4I,CAAxE,QAA8E6mJ,MAAM7mJ,CAAN,EAAS8E,CAAT,EAAYkU,MAAZ,EAA9E;AACH;AACJ;AACD,iBAAK,IAAIhZ,KAAI,CAAb,EAAgBA,KAAI8yJ,MAAMruJ,MAA1B,EAAkCzE,IAAlC,EAAuC;AACnC,qBAAK,IAAI8E,KAAI,CAAb,EAAgBA,KAAIguJ,MAAM9yJ,EAAN,EAASyE,MAA7B,EAAqCK,IAArC,EAA0C;AACtC4uB,0BAAM4rD,MAAN,CAAgBzS,2DAAgBA,CAACqrE,sBAAjC,kBAAoEl4I,EAApE,GAAwE,CAAxE,QAA8E8yJ,MAAM9yJ,EAAN,EAAS8E,EAAT,EAAYkU,MAAZ,EAA9E;AACA85I,0BAAM9yJ,EAAN,EAAS8E,EAAT,EAAYkjD,WAAZ,GAA0B,KAA1B;AACH;AACJ;;AAEDt0B,kBAAMtgB,KAAN,CAAYowB,MAAZ;AACH;;;yCAEiB2M,O,EAAS;AACvB,gBAAMzc,QAAQyc,QAAQzc,KAAR,EAAd;AACA,gBAAMw/H,cAAcx/H,MAAM9yB,GAAN,CAAaisE,2DAAgBA,CAACkrE,qBAA9B,aAApB;AACA,gBAAMz5G,WAAW6R,QAAQ7R,QAAR,EAAjB;AACA,gBAAM4/G,QAAQ5/G,SAAS4/G,KAAT,EAAd;AACA,gBAAMnQ,UAAU;AACZ,mBAAG,EADS;AAEZ,mBAAG;AAFS,aAAhB;;AALuB,uCAUdxhG,IAVc,EAUJlpB,GAVI;AAWnB,oBAAM8vI,WAAWjV,MAAM3xG,IAAN,CAAjB;;AAXmB,6CAYVE,IAZU,EAYA2mH,IAZA;AAaf,wBAAMn4I,OAAOk4I,SAAS1mH,IAAT,CAAb;AACA,wBAAMmzB,aAAa3kD,KAAKhS,MAAL,EAAnB;AACA,qBAAC22D,WAAW9yC,CAAZ,EAAe8yC,WAAW/oC,CAA1B,EAA6B/yB,OAA7B,CAAqC,UAACkU,QAAD,EAAWwgE,QAAX,EAAwB;AACzDxgE,iCAASlU,OAAT,CAAiB,UAAC0E,KAAD,EAAQgmE,SAAR,EAAsB;AACnC,gCAAMltE,MAAM,CAACk3E,QAAD,SAAgB/rC,IAAhB,GAAuB+hC,SAAvB,GAAwCjiC,IAAxC,SAAgDiiC,SAA5D;AACA,gCAAMjmB,MAAM2qG,iBAAe3mH,IAAf,GAAsBE,IAAtB,CAAZ;AACA,gCAAI8b,OAAO9nD,OAAOyI,IAAP,CAAYq/C,GAAZ,EAAiB9jD,MAAjB,KAA4B,CAAvC,EAA0C;AACtCspI,wCAAQv1D,QAAR,EAAkBl3E,GAAlB,IAAyBwsI,8DAAWA,CAAC,CAAEC,QAAQv1D,QAAR,KAAqBu1D,QAAQv1D,QAAR,EAAkBl3E,GAAlB,CAAtB,IAAiD,EAAlD,EACjCinD,SAAO//C,KAAP,CADiC,CAAZ,EACHA,MAAM8L,OAAN,EADG,CAAzB;AAEH;AACJ,yBAPD;AAQH,qBATD;AAfe;;AAYnB,qBAAK,IAAIm4B,OAAO,CAAX,EAAc2mH,OAAOD,SAAS1uJ,MAAnC,EAA2CgoC,OAAO2mH,IAAlD,EAAwD3mH,MAAxD,EAAgE;AAAA,2BAAvDA,IAAuD,EAA7C2mH,IAA6C;AAa/D;AAzBkB;;AAUvB,iBAAK,IAAI7mH,OAAO,CAAX,EAAclpB,MAAM66H,MAAMz5I,MAA/B,EAAuC8nC,OAAOlpB,GAA9C,EAAmDkpB,MAAnD,EAA2D;AAAA,sBAAlDA,IAAkD,EAAxClpB,GAAwC;AAgB1D;;AA1BsB,iCA4BQib,SAASmhC,IAAT,EA5BR;AAAA,gBA4BZonF,KA5BY,kBA4Bf/5H,CA5Be;AAAA,gBA4BFgmI,KA5BE,kBA4BLj8H,CA5BK;;AA6BvBnD,kBAAMtgB,KAAN,CAAYmwB,IAAZ;AACA,aAACsjH,KAAD,EAAQiM,KAAR,EAAehvJ,OAAf,CAAuB,UAACuvJ,OAAD,EAAU76E,QAAV,EAAuB;AAC1C66E,wBAAQvvJ,OAAR,CAAgB,UAAC27D,IAAD,EAAOxxD,GAAP,EAAe;AAC3B,wBAAMqL,MAAM,EAAZ;AACA,wBAAMG,MAAM,EAAZ;AACA,wBAAIT,SAAS,EAAb;AACA,wBAAIs6I,iBAAiB,EAArB;AACA,wBAAI7zF,KAAKh7D,MAAL,GAAc,CAAd,IAAmBg7D,KAAK,CAAL,EAAQ5zD,WAAR,CAAoB2D,IAApB,OAA+B,QAAlD,IAA8DiwD,KAAK,CAAL,EAAQ9wD,MAAR,GAAiB4kJ,aAAnF,EAAkG;AAC9F9zF,6BAAK37D,OAAL,CAAa,UAACu6C,IAAD,EAAOr+C,CAAP,EAAa;AACtB,gCAAMsB,MAAM,CAACk3E,QAAD,SAAgBvqE,GAAhB,GAAsBjO,CAAtB,GAA+BiO,GAA/B,SAAsCjO,CAAlD;AACAgZ,qCAAS+0H,QAAQv1D,QAAR,EAAkBl3E,GAAlB,CAAT;AACAgY,gCAAItZ,CAAJ,IAASgZ,OAAO,CAAP,CAAT;AACAS,gCAAIzZ,CAAJ,IAASgZ,OAAO,CAAP,CAAT;AACH,yBALD;AAMAs6I,yCAAiBE,yEAAiBA,CAAC/5I,GAAlB,EAAuBH,GAAvB,CAAjB;AACH;;AAEDmmD,yBAAK37D,OAAL,CAAa,UAACu6C,IAAD,EAAO3sC,KAAP,EAAiB;AAC1B,4BAAMpQ,MAAM,CAACk3E,QAAD,SAAgBvqE,GAAhB,GAAsByD,KAAtB,GAAmCzD,GAAnC,SAA0CyD,KAAtD;AACAsH,iCAASs6I,eAAe5hJ,KAAf,KAAyBq8H,QAAQv1D,QAAR,EAAkBl3E,GAAlB,CAAlC;AACA+8C,6BAAKrlC,MAAL,CAAYA,MAAZ;AACA,4BAAMxJ,OAAO,CAACgpE,QAAD,GAAY,GAAZ,GAAkB,GAA/B;AACA9kD,8BAAM4rD,MAAN,CAAgBzS,2DAAgBA,CAACqrE,sBAAjC,gBAAkE1oI,IAAlE,SAA0ElO,GAA1E,EAAiF0X,MAAjF;AACH,qBAND;AAOH,iBAtBD;AAuBH,aAxBD;AAyBA0a,kBAAMtgB,KAAN,CAAYowB,MAAZ;AACH;;AAED;;;;;;;;;;yCAOkBxqB,M,EAAQ;AAAA;;AACtB,aAAC,GAAD,EAAM,GAAN,EAAWlV,OAAX,CAAmB,UAAC0L,IAAD,EAAU;AACzB,oBAAMiwD,OAAO,OAAKA,IAAL,GAAYjwD,IAAZ,CAAb;AACA,oBAAI8J,MAAM,EAAV;AACA,oBAAIG,MAAM,EAAV;AACA,oBAAI8uC,YAAJ;AACAkX,wBAAQA,KAAK37D,OAAL,CAAa,UAACu6C,IAAD,EAAOr+C,CAAP,EAAa;AAC9B,wBAAMwI,QAAQ,OAAKS,MAAL,GAAcuG,IAAd,EAAoBxP,CAApB,CAAd;AACAuoD,0BAAMvvC,YAAU,OAAK/P,MAAL,GAAcuG,IAAd,EAAoBxP,CAApB,CAAV,CAAN;;AAEA,wBAAIwI,MAAMgH,IAAN,OAAiB0F,oDAASA,CAACb,SAA3B,IAAwCk0C,GAA5C,EAAiD;AAC7CjvC,4BAAItZ,CAAJ,IAASuoD,IAAI,CAAJ,CAAT;AACA9uC,4BAAIzZ,CAAJ,IAASuoD,IAAI,CAAJ,CAAT;AACH;AACJ,iBARO,CAAR;AASA,oBAAIkX,IAAJ,EAAU;AACN,wBAAIA,KAAKh7D,MAAL,GAAc,CAAlB,EAAqB;AACjB,4BAAMgvJ,WAAWh0F,KAAK,CAAL,EAAQ9wD,MAAR,EAAjB;AACA,4BAAI8wD,KAAK,CAAL,EAAQ5zD,WAAR,CAAoB2D,IAApB,OAA+B,QAAnC,EAA6C;AACzC,gCAAIikJ,SAASF,aAAb,EAA4B;AACxB9zF,qCAAK37D,OAAL,CAAa;AAAA,2CAAQu6C,KAAK1vC,MAAL,CAAY;AAC7Bs1C,8CAAM;AADuB,qCAAZ,CAAR;AAAA,iCAAb;AAGA,oCAAMqvG,iBAAiBE,yEAAiBA,CAAC/5I,GAAlB,EAAuBH,GAAvB,CAAvB;AACAA,sCAAMg6I,eAAeh6I,GAArB;AACAG,sCAAM65I,eAAe75I,GAArB;AACH;;AAEDgmD,iCAAK,CAAL,EAAQi0F,iBAAR,CAA0B,CAACp6I,IAAI,CAAJ,CAAD,EAASG,IAAI,CAAJ,CAAT,CAA1B;AACAgmD,iCAAK,CAAL,EAAQi0F,iBAAR,CAA0B,CAACp6I,IAAI,CAAJ,CAAD,EAASG,IAAI,CAAJ,CAAT,CAA1B;AACH,yBAZD,MAYO;AACHgmD,iCAAK,CAAL,EAAQi0F,iBAAR,CAA0BnrG,GAA1B;AACAkX,iCAAK,CAAL,EAAQi0F,iBAAR,CAA0BnrG,GAA1B;AACH;AACJ,qBAlBD,MAkBO;AACHkX,6BAAK,CAAL,EAAQi0F,iBAAR,CAA0BnrG,GAA1B;AACH;AACJ;AACJ,aArCD;AAsCA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;gDAOyBt/C,M,EAAQuG,I,EAAM;AACnC,gBAAImkJ,SAAS,EAAb;AACA,gBAAIhB,cAAc,EAAlB;AACA,gBAAIj7G,UAAU,CAAd;AACA,gBAAMk8G,gBAAgB,EAAtB;AACA,gBAAMC,kBAAkB,EAAxB;AACA,gBAAMC,gBAAgB7qJ,OAAO,CAAP,CAAtB;AACA,gBAAM8qJ,kBAAkB9qJ,OAAO,CAAP,CAAxB;AACA,gBAAM+qJ,aAAaF,cAAcrvJ,MAAjC;AACA,gBAAMwvJ,eAAeF,gBAAgBtvJ,MAArC;AACA,gBAAMuuJ,WAAW,KAAKA,QAAL,EAAjB;;AAEA,iBAAK,IAAIhzJ,IAAI,CAAb,EAAgBA,IAAIg0J,UAApB,EAAgCh0J,GAAhC,EAAqC;AACjC,oBAAIk0J,UAAU,CAACJ,cAAc9zJ,CAAd,CAAD,CAAd;AACA,oBAAMm0J,eAAeL,cAAc9zJ,CAAd,CAArB;;AAEA,oBAAIm0J,aAAa3kJ,IAAb,OAAwB2F,wDAA5B,EAAqC;AACjC,wBAAMi/I,iBAAiBL,gBAAgBr8G,OAAhB,CAAvB;AACA,wBAAI08G,kBAAkBA,eAAe5kJ,IAAf,OAA0B2F,wDAAhD,EAAyD;AACrDuiC;AACAw8G,kCAAU,CAACC,YAAD,EAAeC,cAAf,CAAV;AACH;AACDzB,gCAAY3uJ,IAAZ,CAAiBkwJ,OAAjB;AACH,iBAPD,MAOO;AACHP,2BAAO3vJ,IAAP,CAAYmwJ,YAAZ;AACAP,kCAAc5vJ,IAAd,CAAmBmwJ,YAAnB;AACH;AACJ;AACD,gBAAIF,eAAev8G,OAAnB,EAA4B;AACxB,qBAAK,IAAI13C,MAAI03C,OAAb,EAAsB13C,MAAIi0J,YAA1B,EAAwCj0J,KAAxC,EAA6C;AACzC,wBAAMo0J,kBAAiBL,gBAAgB/zJ,GAAhB,CAAvB;AACA,wBAAMk0J,WAAU,CAACE,eAAD,CAAhB;AACA,wBAAIA,gBAAe5kJ,IAAf,OAA0B2F,wDAA9B,EAAuC;AACnCw9I,oCAAY3uJ,IAAZ,CAAiBkwJ,QAAjB;AACH,qBAFD,MAEO;AACHP,+BAAO3vJ,IAAP,CAAYowJ,eAAZ;AACAP,wCAAgB7vJ,IAAhB,CAAqBowJ,eAArB;AACH;AACJ;AACJ;AACD,gBAAI,CAACR,cAAcnvJ,MAAd,IAAwBovJ,gBAAgBpvJ,MAAzC,KAAoD,CAACkuJ,YAAYluJ,MAArE,EAA6E;AACzE+K,uBAAOA,SAAS6kJ,oDAAT,GAAevqH,uDAAf,GAAwBt6B,IAA/B;AACA,oBAAI,CAACwjJ,SAASxjJ,IAAT,MAAmBy6B,qDAAnB,IAA2B+oH,SAASxjJ,IAAT,MAAmBw6B,oDAA/C,KAAuD4pH,cAAcnvJ,MAAzE,EAAiF;AAC7E,wBAAM6vJ,gBAAgBV,cAAcnvJ,MAAd,GAAuB,CAA7C;AACA,wBAAM4yC,QAAQu8G,cAAcU,aAAd,CAAd;AACA3B,kCAAc,CAAC,CAACt7G,KAAD,CAAD,CAAd;AACA,wBAAMk9G,aAAaC,gEAAQA,CAACX,eAAT,EAA0Bx8G,KAA1B,CAAnB;AACA,wBAAIk9G,aAAa,CAAC,CAAlB,EAAqB;AACjB5B,sCAAc,CAAC,CAACt7G,KAAD,EAAQA,KAAR,CAAD,CAAd;AACAw8G,wCAAgBtrJ,MAAhB,CAAuBgsJ,UAAvB,EAAmC,CAAnC;AACH;AACDX,kCAAcrrJ,MAAd,CAAqB+rJ,aAArB,EAAoC,CAApC;AACH,iBAVD,MAUO;AACH,wBAAMA,iBAAgB,CAAtB;AACA,wBAAMj9G,SAAQw8G,gBAAgBS,cAAhB,CAAd;AACA3B,kCAAc,CAAC,CAACt7G,MAAD,CAAD,CAAd;AACA,wBAAMk9G,cAAaC,gEAAQA,CAACZ,aAAT,EAAwBv8G,MAAxB,CAAnB;AACA,wBAAIk9G,cAAa,CAAC,CAAlB,EAAqB;AACjB5B,sCAAc,CAAC,CAACt7G,MAAD,EAAQA,MAAR,CAAD,CAAd;AACAu8G,sCAAcrrJ,MAAd,CAAqBgsJ,WAArB,EAAiC,CAAjC;AACH;AACDV,oCAAgBtrJ,MAAhB,CAAuB+rJ,cAAvB,EAAsC,CAAtC;AACH;AACJ;;AAEDX,+BAAaC,aAAb,EAA+BC,eAA/B;AACAF,qBAASA,OAAOzxI,MAAP,CAAc,UAACu3D,EAAD,EAAK/nE,KAAL,EAAYlG,IAAZ;AAAA,uBAAqBkG,UAAUlG,KAAKoF,SAAL,CAAe;AAAA,2BAAM3P,EAAEy0B,QAAF,OAAiB+jD,GAAG/jD,QAAH,EAAvB;AAAA,iBAAf,CAA/B;AAAA,aAAd,CAAT;AACA,mBAAO;AACHi+H,8BADG;AAEHhB;AAFG,aAAP;AAIH;;AAED;;;;;;;;;;;uCAQgB8B,S,EAAW9lJ,M,EAAQ;AAC/B,sJAA4B8lJ,SAA5B,EAAuC9lJ,MAAvC;AACH;;AAED;;;;;;;;;;+CAOwB6kE,U,EAAY7H,Q,EAAU;AAC1C,gBAAM+oF,eAAelhF,WAAWkhF,YAAhC;AACA,gBAAM3mB,UAAU,EAAhB;AACA,iBAAK,IAAMzsI,GAAX,IAAkBqqE,QAAlB,EAA4B;AACxB,oBAAI,GAAG7pE,cAAH,CAAkB5B,IAAlB,CAAuByrE,QAAvB,EAAiCrqE,GAAjC,CAAJ,EAA2C;AACvC,wBAAMqzJ,cAAchpF,SAASrqE,GAAT,CAApB;AACA,wBAAMkH,QAAQmsJ,YAAYnsJ,KAA1B;AACA,wBAAI,CAACmsJ,YAAY37I,MAAb,IAAuBxQ,KAA3B,EAAkC;AAC9B,4BAAMwQ,SAAS47I,2EAAqBA,CAACF,YAAtB,EAAoClsJ,KAApC,CAAf;AACAulI,gCAAQvlI,KAAR,IAAiBwQ,MAAjB;AACH;AACJ;AACJ;AACD,mBAAO+0H,OAAP;AACH;;AAED;;;;;;;;;6CAMsB8mB,U,EAAY;AAC9B,gBAAMC,mBAAmB,EAAzB;AACA;AACAD,uBAAWpwJ,MAAX,IAAqBowJ,WAAW/wJ,OAAX,CAAmB,UAACypE,KAAD,EAAQvtE,CAAR,EAAc;AAClD,oBAAMohB,MAAM6pI,mEAAYA,CAAC8J,mBAAb,CAAiCxnF,KAAjC,CAAZ;AACAnsD,oBAAIvU,KAAJ,GAAY7M,CAAZ;AACA80J,iCAAiB9wJ,IAAjB,CAAsBod,GAAtB;AACH,aAJoB,CAArB;AAKA,mBAAO0zI,gBAAP;AACH;;AAED;;;;;;;;;;;uCAQgB7rJ,M,EAAQ+rJ,e,EAAiB;AACrC,gBAAMC,cAAc,EAApB;AADqC,gBAGjCpC,YAHiC,GAKjC5pJ,MALiC,CAGjC4pJ,YAHiC;AAAA,gBAIjCD,SAJiC,GAKjC3pJ,MALiC,CAIjC2pJ,SAJiC;;AAOrC;;AACAC,yBAAa/uJ,OAAb,CAAqB,UAACoxJ,QAAD,EAAc;AAC/B,oBAAMC,eAAeD,SAASx/H,QAAT,EAArB;AACAk9H,0BAAU9uJ,OAAV,CAAkB,UAACsxJ,QAAD,EAAc;AAC5B,wBAAIC,UAAU,EAAd;AACA,wBAAMC,eAAeF,SAAS1/H,QAAT,EAArB;AACA,wBAAMi2C,WAAW;AACb7+C,2BAAG;AACCtkB,mCAAO2sJ;AADR,yBADU;AAIbt+H,2BAAG;AACCruB,mCAAO8sJ;AADR;AAJU,qBAAjB;AAQA,wBAAMC,eAAeH,SAAS9gJ,OAAT,EAArB;AACA,wBAAMkhJ,eAAeN,SAAS5gJ,OAAT,EAArB;AACA,wBAAMi3D,OAAOkqF,sEAAcA,CAACD,YAAf,EAA6BD,YAA7B,CAAb;;AAEA,wBAAMG,aAAa,CAAC;AAChBnqF,kCADgB;AAEhBnqD,6BAAK;AACDmqD,sCADC;AAEDI;AAFC;AAFW,qBAAD,CAAnB;;AAQA,wBAAMgqF,eAAeC,8EAAsBA,CAACV,SAASp1F,UAAT,EAAvB,EACjBs1F,SAASt1F,UAAT,EADiB,EACMk1F,mBAAmB,EADzB,CAArB;AAEA,wBAAIW,aAAalxJ,MAAjB,EAAyB;AACrB4wJ,kCAAUM,aAAavyJ,GAAb,CAAiB,UAACyyJ,SAAD,EAAe;AACtC,gCAAMC,kBAAkBxqH,iEAAcA,CAACA,iEAAcA,CAAC,EAAf,EAAmBoqH,WAAW,CAAX,EAAct0I,GAAjC,CAAf,EAAsDy0I,SAAtD,CAAxB;AACA,gCAAME,wBAAwB9K,mEAAYA,CAAC+K,iBAAb,CAA+BF,gBAAgBvqF,IAA/C,EAC1BuqF,eAD0B,CAA9B;AAEA,mCAAO;AACHvqF,sCAAMuqF,gBAAgBvqF,IADnB;AAEH1+D,uCAAOipJ,gBAAgBjpJ,KAFpB;AAGHuU,qCAAK20I;AAHF,6BAAP;AAKH,yBATS,CAAV;AAUH,qBAXD,MAWO;AACHV,kCAAUK,UAAV;AACH;;AAEDT,gCAAYjxJ,IAAZ,uCAAoBqxJ,OAApB;AACH,iBAzCD;AA0CH,aA5CD;AA6CA,mBAAOJ,WAAP;AACH;;;;;AA3XD;;;;;;+BAMe;AACX,mBAAOgB,0DAAP;AACH;;;;EAVyCC,uD;;AAAzB3D,+E;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrBrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AAQA,IAAM4D,gBAAgB,SAAhBA,aAAgB,CAACxQ,QAAD,EAAWn9I,KAAX,EAAkBgqJ,YAAlB,EAAmC;AACrD,QAAI4D,wBAAJ;AADqD,QAE7C1kJ,KAF6C,GAEdi0I,QAFc,CAE7Cj0I,KAF6C;AAAA,QAEtC88D,SAFsC,GAEdm3E,QAFc,CAEtCn3E,SAFsC;AAAA,QAE3BgK,QAF2B,GAEdmtE,QAFc,CAE3BntE,QAF2B;AAAA,QAG7C7pE,MAH6C,GAGxB6jJ,YAHwB,CAG7C7jJ,MAH6C;AAAA,QAGrCozD,QAHqC,GAGxBywF,YAHwB,CAGrCzwF,QAHqC;;AAIrD,QAAMs0F,iBAAiB1nJ,OAAO8wD,IAAP,GAAe9wD,OAAO8wD,IAAP,CAAY+Y,QAAZ,KAAyB,EAAxC,GAA8C,EAArE;AAJqD,QAMjDvuC,IANiD,GAUjDwV,mEAViD,CAMjDxV,IANiD;AAAA,QAOjDC,KAPiD,GAUjDuV,mEAViD,CAOjDvV,KAPiD;AAAA,QAQjDF,GARiD,GAUjDyV,mEAViD,CAQjDzV,GARiD;AAAA,QASjDG,MATiD,GAUjDsV,mEAViD,CASjDtV,MATiD;;AAWrD,QAAMmsH,kBAAkB99E,aAAavhD,kDAAb,GAAiB,CAACgT,IAAD,EAAOC,KAAP,CAAjB,GAAiC,CAACF,GAAD,EAAMG,MAAN,CAAzD;;AAEA,QAAI43B,aAAagxF,qDAAjB,EAAuB;AACnBqD,0BAAkBE,gBAAgB9nF,SAAhB,CAAlB;AACH,KAFD,MAEO;AACH4nF,0BAAkBr0F,QAAlB;AACH;AACD,QAAMw0F,aAAa;AACf3iH,YAAO4kC,QAAP,SAAmB9mE,KAAnB,SAA4B88D,SADb;AAEfluE,cAAMkI,MAAMktB,QAAN,EAFS;AAGfltB,eAAOA,MAAMktB,QAAN,EAHQ;AAIfva,sBAAc3S,MAAM2S,YAAN,EAJC;AAKfujC,qBAAa03G,eALE;AAMfl1G,sBAAc,IANC;AAOfxN,cAAM,IAPS;AAQflkC,cAAM+oD,qEAAgBA,CAAC/vD,MAAM8L,OAAN,EAAjB;AARS,KAAnB;AAUA+hJ,mBAAet1G,UAAf,GAA4Bv4C,MAAM9F,MAAN,CAAa2zJ,eAAet1G,UAA5B,CAA5B;AACAs1G,mBAAer9I,MAAf,GAAwBxQ,MAAM9F,MAAN,CAAa2zJ,eAAer9I,MAA5B,CAAxB;;AAEA,WAAOsyB,iEAAcA,CAACirH,UAAf,EAA2BF,cAA3B,CAAP;AACH,CAhCD;;AAkCA;;;;;;;;AAQA,IAAMG,mBAAmB,SAAnBA,gBAAmB,CAACD,UAAD,EAAa/tJ,KAAb,EAAoBgqJ,YAApB,EAAqC;AAAA,QAClDr0G,YADkD,GACjCq0G,YADiC,CAClDr0G,YADkD;;AAE1D,QAAMs4G,MAAMC,2DAASA,CAACn+F,qEAAgBA,CAAC/vD,MAAM8L,OAAN,EAAjB,CAAV,CAAZ;AACA,QAAMqiJ,aAAa,IAAIF,GAAJ,CAAQF,UAAR,EAAoB,EAAEp4G,0BAAF,EAApB,CAAnB;AACA,WAAOw4G,UAAP;AACH,CALD;;AAOO,IAAMnD,oBAAoB,SAApBA,iBAAoB,CAAC/5I,GAAD,EAAMH,GAAN,EAAc;AAC3C,QAAMs9I,UAAUn9I,IAAI,CAAJ,KAAUA,IAAI,CAAJ,IAASH,IAAI,CAAJ,CAAnB,CAAhB;AACA,QAAMu9I,UAAUp9I,IAAI,CAAJ,KAAUA,IAAI,CAAJ,IAASH,IAAI,CAAJ,CAAnB,CAAhB;;AAEA;AACA,QAAIw9I,cAAc,KAAlB;;AAEA;AACA,QAAIx9I,IAAI,CAAJ,IAAS,CAAT,IAAcA,IAAI,CAAJ,IAAS,CAAvB,IAA4BA,IAAI,CAAJ,IAAS,CAArC,IAA0CG,IAAI,CAAJ,IAAS,CAAvD,EAA0D;AACtDq9I,sBAAc,IAAd;AACAx9I,YAAI,CAAJ,IAAS,CAAT;AACAA,YAAI,CAAJ,IAAS,CAAT;AACH;;AAED;AACA,QAAIA,IAAI,CAAJ,IAAS,CAAT,IAAcA,IAAI,CAAJ,IAAS,CAAvB,IAA4BA,IAAI,CAAJ,IAAS,CAArC,IAA0CG,IAAI,CAAJ,IAAS,CAAvD,EAA0D;AACtDq9I,sBAAc,IAAd;AACAr9I,YAAI,CAAJ,IAAS,CAAT;AACAA,YAAI,CAAJ,IAAS,CAAT;AACH;;AAED;AACA,QAAI,CAACq9I,WAAD,IAAgBF,YAAYC,OAAhC,EAAyC;AACrC,YAAID,UAAUC,OAAd,EAAuB;AACX;AACRv9I,gBAAI,CAAJ,IAASA,IAAI,CAAJ,IAASG,IAAI,CAAJ,CAAT,GAAkBA,IAAI,CAAJ,CAA3B;AACH,SAHD,MAGO;AACK;AACRH,gBAAI,CAAJ,IAASA,IAAI,CAAJ,IAASG,IAAI,CAAJ,CAAT,GAAkBA,IAAI,CAAJ,CAA3B;AACH;AACJ;AACD,WAAO,CACH,CAACH,IAAI,CAAJ,CAAD,EAASG,IAAI,CAAJ,CAAT,CADG,EAEH,CAACH,IAAI,CAAJ,CAAD,EAASG,IAAI,CAAJ,CAAT,CAFG,CAAP;AAIH,CAnCM;;AAqCP;;;;;;;;;AASO,IAAMw5I,sBAAsB,SAAtBA,mBAAsB,CAACz6E,QAAD,EAAWi6E,SAAX,EAAsBD,YAAtB,EAAoCuE,SAApC,EAAkD;AACjF,QAAIC,gBAAJ;AACA,QAAMC,cAAc,EAApB;AAFiF,QAGzEhuJ,MAHyE,GAGvDwpJ,SAHuD,CAGzExpJ,MAHyE;AAAA,QAGjEyI,KAHiE,GAGvD+gJ,SAHuD,CAGjE/gJ,KAHiE;AAAA,QAIzEwlJ,SAJyE,GAI3D1E,YAJ2D,CAIzE0E,SAJyE;;AAKjF,QAAM9zJ,MAAM8zJ,UAAa1+E,QAAb,aAAZ;;AAEA,QAAM2+E,gBAAgBC,gEAAUA,CAAC5+E,QAAX,EAAqB9mE,KAArB,CAAtB;AACAzI,WAAOnF,OAAP,CAAe,UAAC0E,KAAD,EAAQgmE,SAAR,EAAsB;AACjCwoF,kBAAUI,gEAAUA,CAAC5+E,QAAX,EAAqB9mE,KAArB,EAA4B88D,SAA5B,EAAuCjW,qEAAgBA,CAAC/vD,MAAM8L,OAAN,EAAjB,CAAvC,CAAV;AACA,YAAMiiJ,aAAaJ,cAAc,EAAEzkJ,YAAF,EAAS88D,oBAAT,EAAoBgK,kBAApB,EAAd,EAA8ChwE,KAA9C,EAAqDgqJ,YAArD,CAAnB;;AAEA,YAAIn0G,aAAJ;AACA,YAAI,CAACj7C,IAAI6V,GAAJ,CAAQ+9I,OAAR,CAAL,EAAuB;AACnB34G,mBAAOm4G,iBAAiBD,UAAjB,EAA6B/tJ,KAA7B,EAAoCgqJ,YAApC,CAAP;AACH,SAFD,MAEO;AACHn0G,mBAAOj7C,IAAIxC,GAAJ,CAAQo2J,OAAR,CAAP;AACA34G,iBAAKg5G,aAAL,GAAqB,KAArB;AACAh5G,iBAAK1vC,MAAL,CAAY4nJ,UAAZ;AACAA,uBAAWv9I,MAAX,GAAoBqlC,KAAKrlC,MAAL,CAAYu9I,WAAWv9I,MAAvB,CAApB,GAAqDqlC,KAAKi5G,WAAL,EAArD;AACH;AACDL,oBAAYjzJ,IAAZ,CAAiBq6C,IAAjB;AACAj7C,YAAIinB,GAAJ,CAAQ2sI,OAAR,EAAiB34G,IAAjB;AACH,KAfD;;AAiBA,QAAI44G,YAAYxyJ,MAAhB,EAAwB;AACpBrB,YAAIinB,GAAJ,CAAQ8sI,aAAR,EAAuBF,WAAvB;AACAF,kBAAU79I,GAAV,CAAci+I,aAAd;AACH;;AAED,WAAOF,WAAP;AACH,CA/BM;;AAiCP;;;;;AAKO,IAAMM,oBAAoB,SAApBA,iBAAoB,CAACL,SAAD,EAAYz3F,IAAZ,EAAqB;AAAA,QAE9C+3F,QAF8C,GAI9CN,SAJ8C,CAE9CM,QAF8C;AAAA,QAG9CC,QAH8C,GAI9CP,SAJ8C,CAG9CO,QAH8C;AAAA,QAM3CC,QAN2C,GAQ9Cj4F,IAR8C,CAM9C3yC,CAN8C;AAAA,QAO3C6qI,QAP2C,GAQ9Cl4F,IAR8C,CAO9C5oC,CAP8C;;AASlD,QAAMgwH,QAAQ,EAAd;AACA,QAAMiM,QAAQ,EAAd;;AAEA4E,aAAS5zJ,OAAT,CAAiB,UAAC8zJ,MAAD,EAAY;AACzB,YAAMl4F,QAAQ83F,SAAS52J,GAAT,CAAag3J,MAAb,CAAd;AACA/Q,cAAM7iJ,IAAN,CAAW07D,KAAX;AACH,KAHD;AAIAi4F,aAAS7zJ,OAAT,CAAiB,UAAC8zJ,MAAD,EAAY;AACzB,YAAMj4F,QAAQ83F,SAAS72J,GAAT,CAAag3J,MAAb,CAAd;AACA9E,cAAM9uJ,IAAN,CAAW27D,KAAX;AACH,KAHD;AAIA,WAAO;AACHknF,oBADG,EACIiM;AADJ,KAAP;AAGH,CAvBM;;AAyBP;;;;;;;AAOO,IAAM2C,iBAAiB,SAAjBA,cAAiB,CAACD,YAAD,EAAeD,YAAf,EAAgC;AAC1D,QAAIhqF,aAAJ;;AAEA,QAAIiqF,iBAAiBzgJ,4DAAjB,IAAgCwgJ,iBAAiBxgJ,4DAArD,EAAkE;AAC9Dw2D,eAAOssF,oDAAP;AACH,KAFD,MAEO,IAAIrC,iBAAiBxgJ,yDAAjB,IAA6BugJ,iBAAiBvgJ,yDAAlD,EAA4D;AAC/Du2D,eAAOusF,qDAAP;AACH,KAFM,MAEA;AACHvsF,eAAOwsF,sDAAP;AACH;;AAED,WAAOxsF,IAAP;AACH,CAZM;;AAcP;;;;;;;AAOO,IAAMysF,oBAAoB,SAApBA,iBAAoB,CAACxF,YAAD,EAAmC;AAAA,QAApByF,UAAoB,uEAAP,EAAO;AAAA,QACxDz/E,QADwD,GAC7Bg6E,YAD6B,CACxDh6E,QADwD;AAAA,QAC9CpnE,YAD8C,GAC7BohJ,YAD6B,CAC9CphJ,YAD8C;;AAEhE,QAAM5I,QAAQyvJ,WAAWzvJ,KAAzB;AACA,QAAM61C,OAAO,EAAb;AACA,QAAMo4G,MAAMC,2DAASA,CAACl+E,QAAV,CAAZ;;AAEAy/E,eAAWzoJ,IAAX,GAAkByoJ,WAAWzoJ,IAAX,GAAkByoJ,WAAWzoJ,IAA7B,GAAoC0oJ,iEAAWA,CAAC9mJ,YAAZ,EAA0B5I,SAAS,IAAnC,CAAtD;AACA61C,SAAKr6C,IAAL,CAAU,IAAIyyJ,GAAJ,CAAQwB,UAAR,CAAV;AACA,WAAO55G,IAAP;AACH,CATM;;AAWP;;;;;;;AAOO,IAAMm2G,WAAW,SAAXA,QAAW,CAAC1sJ,GAAD,EAAMyT,GAAN,EAAc;AAClC,QAAIvb,IAAI,CAAR;AACA,QAAIm4J,WAAW,CAAC,CAAhB;;AAEA,WAAOA,aAAa,CAAC,CAAd,IAAmBn4J,IAAI8H,IAAIrD,MAAlC,EAA0C;AACtC,YAAIqD,IAAI9H,CAAJ,EAAO01B,QAAP,OAAsBna,IAAIma,QAAJ,EAA1B,EAA0C;AACtCyiI,uBAAWn4J,CAAX;AACH;AACDA;AACH;AACD,WAAOm4J,QAAP;AACH,CAXM;;AAaP;;;;;;;;;AASO,IAAMvC,yBAAyB,SAAzBA,sBAAyB,CAACwC,SAAD,EAAYxF,SAAZ,EAAuBoC,eAAvB;AAAA,WAA2CA,gBAAgB9yI,MAAhB,CAAuB,UAAC0mE,IAAD,EAAU;AAAA;;AAC9G,YAAMyvE,WAAWzvE,gBAAgB7gF,KAAhB,GAAwB6gF,IAAxB,GAA+B,CAACA,IAAD,CAAhD;AACA,YAAM0vE,cAAc,YAAGpzJ,MAAH,gCAAamzJ,SAASj1J,GAAT,CAAa;AAAA,mBAAK/C,EAAEsrE,QAAP;AAAA,SAAb,EAA8BzpD,MAA9B,CAAqC;AAAA,mBAAK7hB,MAAMqI,SAAX;AAAA,SAArC,CAAb,EAApB;;AAEA,YAAI,CAAC4vJ,YAAY7zJ,MAAjB,EAAyB;AACrB,mBAAO,IAAP;AACH;;AAED,YAAMukE,UAAU,aAAG9jE,MAAH,iCAAaozJ,YAAYl1J,GAAZ,CAAgB;AAAA,mBAAK,CAAC/C,EAAEysB,CAAF,IAAOzsB,EAAEysB,CAAF,CAAItkB,KAAZ,EAAmBnI,EAAEkrF,EAAF,IAAQlrF,EAAEkrF,EAAF,CAAK/iF,KAAhC,CAAL;AAAA,SAAhB,CAAb,GACH0Z,MADG,CACI;AAAA,mBAAK7hB,MAAMqI,SAAN,IAAmBrI,MAAM,IAA9B;AAAA,SADJ,CAAhB;AAEA,YAAM4oE,UAAU,aAAG/jE,MAAH,iCAAaozJ,YAAYl1J,GAAZ,CAAgB;AAAA,mBAAK,CAAC/C,EAAEw2B,CAAF,IAAOx2B,EAAEw2B,CAAF,CAAIruB,KAAZ,EAAmBnI,EAAE6qG,EAAF,IAAQ7qG,EAAE6qG,EAAF,CAAK1iG,KAAhC,CAAL;AAAA,SAAhB,CAAb,GACH0Z,MADG,CACI;AAAA,mBAAK7hB,MAAMqI,SAAN,IAAmBrI,MAAM,IAA9B;AAAA,SADJ,CAAhB;;AAGA,YAAI,CAAC2oE,QAAQvkE,MAAT,IAAmB,CAACwkE,QAAQxkE,MAAhC,EAAwC;AACpC,mBAAO,IAAP;AACH;;AAED,YAAM8zJ,gBAAgBvvF,QAAQvkE,MAAR,GAAiBukE,QAAQznD,KAAR,CAAc;AAAA,mBAAK62I,UAAUlqJ,OAAV,CAAkB7N,CAAlB,MAAyB,CAAC,CAA/B;AAAA,SAAd,CAAjB,GAAmE,KAAzF;AACA,YAAMm4J,gBAAgBvvF,QAAQxkE,MAAR,GAAiBwkE,QAAQ1nD,KAAR,CAAc;AAAA,mBAAKqxI,UAAU1kJ,OAAV,CAAkB7N,CAAlB,MAAyB,CAAC,CAA/B;AAAA,SAAd,CAAjB,GAAmE,KAAzF;AACA,YAAI2oE,QAAQvkE,MAAR,IAAkBwkE,QAAQxkE,MAA9B,EAAsC;AAClC,mBAAO8zJ,iBAAiBC,aAAxB;AACH;AACD,eAAOD,iBAAiBC,aAAxB;AACH,KAvBgF,CAA3C;AAAA,CAA/B,C;;;;;;;;;;;;;;;;;;;;ACjPP;AACA;;AAEA;;;;;;;AAOA,IAAMC,cAAc,SAAdA,WAAc,CAACC,UAAD,EAAalpJ,IAAb,EAAsB;AACtC,QAAMof,eAAe,CAAC,EAAD,EAAK,EAAL,CAArB;AACA,QAAMC,aAAa,CAAC,EAAD,EAAK,EAAL,CAAnB;AACA,QAAM8pI,cAAc,CAAC,EAAD,EAAK,EAAL,CAApB;AACA,QAAMC,iBAAiB,CAAC,EAAD,EAAK,EAAL,CAAvB;;AAEAF,eAAW50J,OAAX,CAAmB,UAAC+0J,SAAD,EAAYnnJ,KAAZ,EAAsB;AACrCmnJ,kBAAU/0J,OAAV,CAAkB,UAAC0E,KAAD,EAAW;AACzB,gBAAIA,MAAMgH,IAAN,OAAiB6E,0DAArB,EAAgC;AAC5Bua,6BAAald,KAAb,EAAoB1N,IAApB,CAAyBwE,KAAzB;AACAA,sBAAM8L,OAAN,OAAoBU,yDAApB,GAA+B2jJ,YAAYjnJ,KAAZ,EAAmB1N,IAAnB,CAAwBwE,KAAxB,CAA/B,GAAgEowJ,eAAelnJ,KAAf,EAAsB1N,IAAtB,CAA2BwE,KAA3B,CAAhE;AACH,aAHD,MAGO;AACHqmB,2BAAWnd,KAAX,EAAkB1N,IAAlB,CAAuBwE,KAAvB;AACH;AACJ,SAPD;AAQH,KATD;;AAWA,QAAMswJ,gBAAgBjqI,WAAW,CAAX,EAAcpqB,MAAd,IAAwBoqB,WAAW,CAAX,IAAgBA,WAAW,CAAX,EAAcpqB,MAA9B,GAAuC,CAA/D,CAAtB;;AAEA;AACA,QAAI,CAACi0J,WAAW,CAAX,CAAL,EAAoB;AAChB;AACA7pI,mBAAW,CAAX,IAAgBrf,SAAS+zI,wDAAT,GAAmB10H,WAAW,CAAX,CAAnB,GAAmC,EAAnD;AACA;AACAA,mBAAW,CAAX,IAAgBrf,SAAS+zI,wDAAT,GAAmB10H,WAAW,CAAX,CAAnB,GAAmC,EAAnD;AACA;AACAD,qBAAa,CAAb,IAAkB,EAAlB;AACA;AACAA,qBAAa,CAAb,IAAkBA,aAAa,CAAb,CAAlB;AACA,YAAIkqI,kBAAkB,CAAtB,EAAyB;AACrB,gBAAMC,6CAAoBnqI,aAAa,CAAb,CAApB,sBAAwCA,aAAa,CAAb,CAAxC,EAAN;AACA,gBAAIpf,SAAS+zI,wDAAb,EAAsB;AAClB30H,6BAAa,CAAb,IAAkBmqI,cAAcA,cAAct0J,MAAd,GAAuB,CAArC,IAA0C,CAACs0J,cAAcA,cAAct0J,MAAd,GAAuB,CAArC,CAAD,CAA1C,GACR,EADV;AAEAs0J,8BAAcxwJ,MAAd,CAAqB,CAAC,CAAtB,EAAyB,CAAzB;AACH,aAJD,MAIO;AACHqmB,6BAAa,CAAb,IAAkB,EAAlB;AACH;AACDA,yBAAa,CAAb,iCAAsBmqI,aAAtB;AACH;AACJ;;AAED,QAAInqI,aAAa,CAAb,EAAgBnqB,MAAhB,IAA0BmqB,aAAa,CAAb,EAAgBnqB,MAA1C,IAAoDq0J,gBAAgB,CAAxE,EAA2E;AACvElqI,qBAAa,CAAb,iCAAsBA,aAAa,CAAb,CAAtB,sBAA0CA,aAAa,CAAb,CAA1C;AACAA,qBAAa,CAAb,IAAkB,EAAlB;AACH;AACD,WAAO;AACH3lB,gBAAQ2lB,aAAaxrB,GAAb,CAAiB,UAACyiC,IAAD,EAAO7lC,CAAP;AAAA,mBAAcA,MAAM,CAAN,GACnC6uB,WAAW7uB,CAAX,EAAckF,MAAd,CAAqB0pB,aAAa5uB,CAAb,CAArB,CADmC,GACK4uB,aAAa5uB,CAAb,EAAgBkF,MAAhB,CAAuB2pB,WAAW7uB,CAAX,CAAvB,CADnB;AAAA,SAAjB,CADL;AAGHguB,iDAAgBY,aAAa,CAAb,CAAhB,sBAAoCA,aAAa,CAAb,CAApC,EAHG;AAIHT,+CAAcU,WAAW,CAAX,CAAd,sBAAgCA,WAAW,CAAX,CAAhC,EAJG;AAKHyjI,+CAAcqG,YAAY,CAAZ,CAAd,sBAAiCA,YAAY,CAAZ,CAAjC,EALG;AAMHtG,kDAAiBuG,eAAe,CAAf,CAAjB,sBAAuCA,eAAe,CAAf,CAAvC;AANG,KAAP;AAQH,CAtDD;;AAwDA;;;;;;;AAOA,IAAMI,kBAAkB,SAAlBA,eAAkB,CAACrqJ,MAAD,EAASa,IAAT,EAAkB;AACtC,QAAMf,YAAY,EAAlB;AACA,QAAMxF,SAAS0F,OAAOa,IAAP,CAAf;;AAEA,QAAI,EAAEvG,OAAO,CAAP,aAAqBlB,KAAvB,CAAJ,EAAmC;AAC/B0G,kBAAU,CAAV,IAAexF,MAAf;AACH,KAFD,MAEO;AACHwF,kBAAU,CAAV,IAAexF,OAAO,CAAP,KAAa,EAA5B;AACAwF,kBAAU,CAAV,IAAexF,OAAO,CAAP,KAAa,EAA5B;AACH;AACD,WAAOwF,SAAP;AACH,CAXD;;AAaA;;;;;;;AAOA,IAAMwqJ,eAAe,SAAfA,YAAe,CAACxE,SAAD,EAAYxrJ,MAAZ,EAAuB;AACxC,QAAMoiJ,OAAO,EAAb;;AAEApiJ,cAAUA,OAAOnF,OAAP,CAAe,UAAC0E,KAAD,EAAW;AAChC,YAAIA,iBAAiB8iJ,sDAArB,EAAmC;AAC/BD,iBAAKrnJ,IAAL,CAAUwE,KAAV;AACAA,kBAAMpB,IAAN,CAAWqtJ,SAAX;AACH,SAHD,MAGO;AACHpJ,iBAAKrnJ,IAAL,CAAU,IAAIunJ,wDAAJ,CAAmB/iJ,KAAnB,EAA0BpB,IAA1B,CAA+BqtJ,SAA/B,CAAV;AACH;AACJ,KAPS,CAAV;AAQA,WAAOpJ,IAAP;AACH,CAZD;;AAcA;;;;;;;;AAQO,IAAM6N,kBAAkB,SAAlBA,eAAkB,CAACzE,SAAD,EAAY9lJ,MAAZ,EAAuB;AAAA,eAClB,CAAC20I,qDAAD,EAAOC,wDAAP,EAAgBngJ,GAAhB,CAAoB,UAAC6F,MAAD,EAAY;AAC5D,YAAMkwJ,mBAAmBH,gBAAgBrqJ,MAAhB,EAAwB1F,MAAxB,CAAzB;AACA,YAAMmwJ,YAAY,CAACH,aAAaxE,SAAb,EAAwB0E,iBAAiB,CAAjB,CAAxB,CAAD,CAAlB;;AAEA,YAAIA,iBAAiB,CAAjB,CAAJ,EAAyB;AACrBC,sBAAU,CAAV,IAAeH,aAAaxE,SAAb,EAAwB0E,iBAAiB,CAAjB,CAAxB,CAAf;AACH;AACD,eAAOV,YAAYW,SAAZ,EAAuBnwJ,MAAvB,CAAP;AACH,KAR+B,CADkB;AAAA;AAAA,QAC3CowJ,QAD2C;AAAA,QACjCC,WADiC;;AAAA,QAWtC11J,IAXsC,GAgB9Cy1J,QAhB8C,CAW9CpwJ,MAX8C;AAAA,QAYlCswJ,aAZkC,GAgB9CF,QAhB8C,CAY9CrrI,UAZ8C;AAAA,QAapCwrI,WAboC,GAgB9CH,QAhB8C,CAa9ClrI,QAb8C;AAAA,QAcpCsrI,iBAdoC,GAgB9CJ,QAhB8C,CAc9C/G,QAd8C;AAAA,QAejCoH,oBAfiC,GAgB9CL,QAhB8C,CAe9ChH,WAf8C;AAAA,QAkBtCnvJ,OAlBsC,GAuB9Co2J,WAvB8C,CAkB9CrwJ,MAlB8C;AAAA,QAmBlC0wJ,gBAnBkC,GAuB9CL,WAvB8C,CAmB9CtrI,UAnB8C;AAAA,QAoBpCitB,cApBoC,GAuB9Cq+G,WAvB8C,CAoB9CnrI,QApB8C;AAAA,QAqBpCyrI,oBArBoC,GAuB9CN,WAvB8C,CAqB9ChH,QArB8C;AAAA,QAsBjCuH,uBAtBiC,GAuB9CP,WAvB8C,CAsB9CjH,WAtB8C;;AAwBlD,WAAO;AACHzuJ,kBADG;AAEH21J,oCAFG;AAGHC,gCAHG;AAIHC,4CAJG;AAKHC,kDALG;AAMHx2J,wBANG;AAOH02J,kDAPG;AAQHC,wDARG;AASHF,0CATG;AAUH1+G;AAVG,KAAP;AAYH,CApCM,C;;;;;;;;;;;;ACnHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;;;;;;;;IAOqB6+G,Y;;;;;;;;;;;;;AAEjB;;;;;;;;mCAQYtH,Y,EAAcC,S,EAAW;AAAA,gBAE7BhzF,IAF6B,GAG7B+yF,YAH6B,CAE7B/yF,IAF6B;;AAIjC,gBAAMizF,eAAejzF,IAArB;AAJiC,gBAM7BmU,OAN6B,GAO7B6+E,SAP6B,CAM7B7+E,OAN6B;AAAA,gBAS7BjgC,QAT6B,GAW7BigC,OAX6B,CAS7BjgC,QAT6B;AAAA,gBAU7BsF,WAV6B,GAW7B26B,OAX6B,CAU7B36B,WAV6B;AAYjC;;AACA,gBAAM8gH,UAAUrH,aAAa5qC,GAAb,IAAoB,EAApC;;AAEAiyC,oBAAQpmH,QAAR,IAAoBomH,QAAQpmH,QAAR,KAAqB,EAAzC;AACAomH,oBAAQpmH,QAAR,EAAkBsF,WAAlB,IAAiC,EAAjC;;AAEAy5G,yBAAa5qC,GAAb,GAAmBiyC,OAAnB;AACArH,yBAAa5lI,CAAb,GAAiB,IAAjB;AACA4lI,yBAAa77H,CAAb,GAAiB,IAAjB;;AAEA,mBAAO67H,YAAP;AACH;;AAED;;;;;;;;;;gDAOyBzpJ,M,EAAQ;AAC7B,gBAAIyuC,UAAU,CAAd;AACA,gBAAMi8G,SAAS,EAAf;AACA,gBAAMhB,cAAc,EAApB;AACA,gBAAMmB,gBAAgB7qJ,OAAO,CAAP,CAAtB;AACA,gBAAM8qJ,kBAAkB9qJ,OAAO,CAAP,CAAxB;AACA,gBAAM+qJ,aAAaF,cAAcrvJ,MAAjC;AACA,gBAAMwvJ,eAAeF,gBAAgBtvJ,MAArC;;AAEA,iBAAK,IAAIzE,IAAI,CAAb,EAAgBA,IAAIg0J,UAApB,EAAgCh0J,GAAhC,EAAqC;AACjC,oBAAMm0J,eAAeL,cAAc9zJ,CAAd,CAArB;AACA,oBAAIm0J,aAAa3kJ,IAAb,OAAwB2F,wDAA5B,EAAqC;AACjC,wBAAMi/I,iBAAiBL,gBAAgBr8G,SAAhB,CAAvB;AACA,wBAAMw8G,UAAUE,iBAAiB,CAACD,YAAD,EAAeC,cAAf,CAAjB,GAAkD,CAACD,YAAD,CAAlE;AACAxB,gCAAY3uJ,IAAZ,CAAiBkwJ,OAAjB;AACH,iBAJD,MAIO;AACHP,2BAAO3vJ,IAAP,CAAYmwJ,YAAZ;AACH;AACJ;AACD,gBAAIF,eAAev8G,OAAnB,EAA4B;AACxB,qBAAK,IAAI13C,KAAI03C,OAAb,EAAsB13C,KAAIi0J,YAA1B,EAAwCj0J,IAAxC,EAA6C;AACzC,wBAAMo0J,kBAAiBL,gBAAgB/zJ,EAAhB,CAAvB;AACA,wBAAMk0J,WAAU,CAACE,eAAD,CAAhB;AACA,wBAAIA,gBAAe5kJ,IAAf,OAA0B2F,wDAA9B,EAAuC;AACnCw9I,oCAAY3uJ,IAAZ,CAAiBkwJ,QAAjB;AACH,qBAFD,MAEO;AACHP,+BAAO3vJ,IAAP,CAAYowJ,eAAZ;AACH;AACJ;AACJ;AACD,mBAAO;AACHT,8BADG;AAEHhB;AAFG,aAAP;AAIH;;;yCAEiBxiH,O,EAAS;AACvB,gBAAMzc,QAAQyc,QAAQzc,KAAR,EAAd;AACA,gBAAMq6G,UAAUr6G,MAAM9yB,GAAN,CAAaisE,2DAAgBA,CAACkrE,qBAA9B,aAAhB;AACA,gBAAMiiB,cAAc;AAChBj4C,wBAAQ,CAAC90F,QAAD,EAAW,CAACA,QAAZ;AADQ,aAApB;AAGAxsB,mBAAOygB,MAAP,CAAc6sH,OAAd,EAAuBjqI,OAAvB,CAA+B,UAACogD,SAAD,EAAe;AAC1C,qBAAK,IAAM5iD,GAAX,IAAkB4iD,SAAlB,EAA6B;AACzB81G,gCAAY14J,GAAZ,IAAmB,CAAC2b,KAAK3D,GAAL,CAAS4qC,UAAU5iD,GAAV,EAAe,CAAf,CAAT,EAA4B04J,YAAY14J,GAAZ,EAAiB,CAAjB,CAA5B,CAAD,EACf2b,KAAK3D,GAAL,CAAS4qC,UAAU5iD,GAAV,EAAe,CAAf,CAAT,EAA4B04J,YAAY14J,GAAZ,EAAiB,CAAjB,CAA5B,CADe,CAAnB;AAEH;AACJ,aALD;AAMAoyB,kBAAM4rD,MAAN,CAAgBzS,2DAAgBA,CAACqrE,sBAAjC,qBAAyE8hB,YAAYj4C,MAArF;AACH;;AAED;;;;;;;;;0CAMmB;AACf;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;iCAUmB;AACf,gBAAI,UAAOt9G,MAAX,EAAmB;AACf,qBAAKuoE,OAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,OAAZ;AACH;;AAED;;;;;;;;;;uCAOgBynF,S,EAAW9lJ,M,EAAQ;AAC/B,gBAAIsrJ,gBAAgB,CAAC,EAAD,EAAK,EAAL,CAApB;AACA,gBAAIC,mBAAmB,CAAC,EAAD,EAAK,EAAL,CAAvB;AACA,gBAAMjxJ,oIAA8BwrJ,SAA9B,EAAyC9lJ,MAAzC,CAAN;AAH+B,gBAK3B08D,MAL2B,GAM3B18D,MAN2B,CAK3B08D,MAL2B;AAAA,gBAQ3BznE,IAR2B,GAU3BqF,MAV2B,CAQ3BrF,IAR2B;AAAA,gBAS3BV,OAT2B,GAU3B+F,MAV2B,CAS3B/F,OAT2B;;AAW/B,gBAAMqqE,QAAQlC,OAAO,CAAP,CAAd;AACA,gBAAMM,WAAW4B,MAAM5B,QAAvB;AACA,gBAAMo2C,SAASp2C,YAAYA,SAASo2C,MAArB,GAA8Bp2C,SAASo2C,MAAT,CAAgBv5G,KAA9C,GAAsD,IAArE;AACA,gBAAM68C,QAAQsmB,YAAYA,SAAStmB,KAArB,GAA6BsmB,SAAStmB,KAAT,CAAe78C,KAA5C,GAAoD,IAAlE;AACA,gBAAM2xJ,kBAAkB,CAACF,aAAD,EAAgBC,gBAAhB,CAAxB;;AAEA,aAACt2J,IAAD,EAAOV,OAAP,EAAgBY,OAAhB,CAAwB,UAAC8zE,SAAD,EAAYwiF,SAAZ,EAA0B;AAC9CxiF,0BAAU9zE,OAAV,CAAkB,UAACu2J,QAAD,EAAWr6J,CAAX;AAAA,2BAAiBq6J,SAASv2J,OAAT,CAAiB,UAAC0E,KAAD,EAAW;AAC3D,4BAAIA,MAAMktB,QAAN,OAAqBqsF,MAArB,IAA+Bv5G,MAAMktB,QAAN,OAAqB2vB,KAApD,IAA6D78C,MAAMgH,IAAN,OAAiB2F,wDAAlF,EAA2F;AACvFglJ,4CAAgBC,SAAhB,EAA2Bp6J,CAA3B,EAA8BgE,IAA9B,CAAmCwE,KAAnC;AACH;AACJ,qBAJkC,CAAjB;AAAA,iBAAlB;AAKH,aAND;AAOA0xJ,4DAAuB,IAAInhJ,GAAJ,CAAQmhJ,gBAAR,CAAvB;AACAD,yDAAoB,IAAIlhJ,GAAJ,CAAQkhJ,aAAR,CAApB;AACA,iBAAKxH,SAAL,CAAe,EAAE7uJ,MAAMq2J,aAAR,EAAuB/2J,SAASg3J,gBAAhC,EAAf;AACA,mBAAO,KAAKzH,SAAL,EAAP;AACH;;;+CAEuBj/E,U,EAAY7H,Q,EAAUk2E,W,EAAarzI,O,EAAS;AAChE,gBAAI8rJ,kBAAJ;AACA,gBAAIC,mBAAJ;AACA,gBAAMtxJ,SAAS,EAAf;AACA,gBAAMoiE,SAAS,KAAKA,MAAL,EAAf;AACA,gBAAMtqD,YAAYyyD,WAAWgnF,WAA7B;AACA,gBAAMppJ,eAAe2P,UAAU1P,eAAV,EAArB;AACA,gBAAM08H,UAAU,EAAhB;AACA,gBAAI1iE,UAAUA,OAAO,CAAP,CAAd,EAAyB;AACrB,oBAAMkC,QAAQlC,OAAO,CAAP,CAAd;AACA,oBAAMovF,gBAAgBltF,MAAMnsD,GAAN,CAAUuqD,QAAV,IAAsB,EAA5C;;AAEA,iBAAC+uF,uDAAD,EAASC,sDAAT,EAAgB3hG,qDAAhB,EAAsB7vB,sDAAtB,EAA6BrlC,OAA7B,CAAqC,UAAC82J,OAAD,EAAa;AAC9C,wBAAMpyJ,QAAQiyJ,cAAcG,OAAd,IAAyBH,cAAcG,OAAd,EAAuBpyJ,KAAhD,GAAwD,EAAtE;AACA,wBAAMqyJ,eAAezpJ,aAAa5I,KAAb,KAAuB4I,aAAa5I,KAAb,EAAoB4Y,GAApB,CAAwB5R,IAAxB,KAAiC2F,wDAA7E;AACA,wBAAIylJ,YAAY5hG,qDAAZ,IAAoB6hG,YAAxB,EAAsC;AAClCP,oCAAY9xJ,KAAZ;AACH;AACD,wBAAIoyJ,YAAYzxH,sDAAhB,EAAuB;AACnBoxH,qCAAa/xJ,KAAb;AACH;AACD4I,iCAAa5I,KAAb,KAAuB,CAACqyJ,YAAxB,IAAwC5xJ,OAAOjF,IAAP,CAAYwE,KAAZ,CAAxC;AACH,iBAVD;AAWH;;AAED,gBAAI8xJ,SAAJ,EAAe;AACXvsB,wBAAQusB,SAAR,IAAqBv5I,UAAUvS,OAAV,CAAkBqzI,WAAlB,sBAChByY,SADgB,EACJ,KADI,GAElB5qJ,aAFkB,GAEFgB,SAFE,GAEU4pJ,SAFV,EAEqBthJ,MAFrB,EAArB;AAGH;;AAED,gBAAIuhJ,UAAJ,EAAgB;AACZ,oBAAM5zI,KAAK5F,UAAUvS,OAAV,8BAAsBqzI,WAAtB,GAAsC54I,MAAtC,GAA+CuF,QAAQ2f,QAAvD,CAAX;AACA4/G,wBAAQwsB,UAAR,IAAsB5zI,GAAGjX,aAAH,GAAmBgB,SAAnB,GAA+B6pJ,UAA/B,EAA2CvhJ,MAA3C,EAAtB;AACH;AACD,mBAAO+0H,OAAP;AACH;AACD;;;;;;;;;;;uCAQgB9kI,M,EAAQ+rJ,e,EAAiB;AACrC,gBAAIC,cAAc,EAAlB;AADqC,gBAG7BpC,YAH6B,GAK7B5pJ,MAL6B,CAG7B4pJ,YAH6B;AAAA,gBAI7BD,SAJ6B,GAK7B3pJ,MAL6B,CAI7B2pJ,SAJ6B;;AAMrC,gBAAM5wI,yCAAgB6wI,YAAhB,sBAAiCD,SAAjC,EAAN;;AAEA5wI,sBAAUle,OAAV,CAAkB,YAAM;AACpB,oBAAM6nE,WAAW,EAAjB;AACA,oBAAIh9D,SAAS;AACT48D,0BAAMuvF,oDADG;AAET15I,yBAAK;AACDuqD;AADC;AAFI,iBAAb;AAMA,oBAAIqpF,mBAAmBA,gBAAgBvwJ,MAAhB,GAAyB,CAAhD,EAAmD;AAC/CkK,6BAAS28B,iEAAcA,CAAC38B,MAAf,EAAuBqmJ,gBAAgB,CAAhB,CAAvB,CAAT;AACH;AACDC,4BAAYjxJ,IAAZ,CAAiB2K,MAAjB;AACH,aAZD;AAaA,gBAAIsmJ,YAAYxwJ,MAAZ,KAAuB,CAA3B,EAA8B;AAC1BwwJ,8BAAcD,eAAd;AACH;;AAED,iBAAK3pF,MAAL,CAAY4pF,WAAZ;AACA,mBAAOA,WAAP;AACH;;AAED;;;;;;;;;;6CAOsBJ,U,EAAY;AAC9B,gBAAMC,mBAAmB,EAAzB;;AAEAD,uBAAWpwJ,MAAX,IAAqBowJ,WAAW/wJ,OAAX,CAAmB,UAACypE,KAAD,EAAW;AAC/C,oBAAMnsD,MAAM6pI,mEAAYA,CAAC+K,iBAAb,CAA+BzoF,MAAMhC,IAArC,EAA2CgC,KAA3C,CAAZ;AACAunF,iCAAiB9wJ,IAAjB,CAAsB;AAClBunE,0BAAMgC,MAAMhC,IADM;AAElBnqD;AAFkB,iBAAtB;AAIH,aANoB,CAArB;AAOA,mBAAO0zI,gBAAP;AACH;;;+BA7Ic;AACX,mBAAOiG,sDAAP;AACH;;;;EAhHqC7E,uD;;AAArB4D,2E;;;;;;;;;;;;;;;;;;;;;;;;ACXrB;AACA;AACA;;AAEA;;;;;;;;IAOqBkB,c;;;;;;;;;;;;;AAEjB;;;;;;;mCAOYxI,Y,EAAc;AAAA,gBACdphJ,YADc,GACWohJ,YADX,CACdphJ,YADc;AAAA,gBACAzC,MADA,GACW6jJ,YADX,CACA7jJ,MADA;;AAEtB,gBAAMssJ,UAAU,EAAhB;;AAEA,aAAC9xH,sDAAD,EAAQ4vB,sDAAR,EAAeC,qDAAf,EAAqBl1D,OAArB,CAA6B,UAAC00E,QAAD,EAAc;AACvCyiF,6BAAWziF,QAAX,IAAyBw/E,yEAAiBA,CAAC,EAAEx/E,kBAAF,EAAYpnE,0BAAZ,EAAlB,EAA8CzC,OAAO6pE,QAAP,CAA9C,CAAzB;AACH,aAFD;AAGA,mBAAOyiF,OAAP;AACH;;AAED;;;;;;;;;;;;AAWA;;;;;;;;uCAQgBC,e,EAAiBlG,e,EAAiB;AAC9C,gBAAMC,cAAc,EAApB;AACAD,4BAAgBlxJ,OAAhB,CAAwB,UAAC8J,CAAD,EAAO;AAC3B,oBAAMe,SAASf,CAAf;AACA,iBAACu7B,sDAAD,EAAQ4vB,sDAAR,EAAeC,qDAAf,EAAqBl1D,OAArB,CAA6B,UAACu6C,IAAD,EAAU;AACnC,wBAAI68G,gBAAgB78G,IAAhB,KAAyB68G,gBAAgB78G,IAAhB,EAAsB71C,KAAnD,EAA0D;AACtD,4BAAM4Y,MAAMzS,OAAOyS,GAAnB;AACA,4BAAIzS,OAAOyS,GAAP,YAAsBrZ,KAA1B,EAAiC;AAC7BqZ,gCAAItd,OAAJ,CAAY,UAAC8kF,IAAD,EAAU;AAClBA,qCAAKjd,QAAL,GAAgBid,KAAKjd,QAAL,IAAiB,EAAjC;AACA,iCAACid,KAAKjd,QAAL,CAActtB,IAAd,CAAD,KAAyBuqC,KAAKjd,QAAL,CAActtB,IAAd,IAAsB,EAA/C;AACAuqC,qCAAKjd,QAAL,CAActtB,IAAd,EAAoB71C,KAApB,GAA4B0yJ,gBAAgB78G,IAAhB,EAAsB71C,KAAlD;AACH,6BAJD;AAKH,yBAND,MAMO;AACH4Y,gCAAIuqD,QAAJ,GAAevqD,IAAIuqD,QAAJ,IAAgB,EAA/B;AACA,6BAACvqD,IAAIuqD,QAAJ,CAAattB,IAAb,CAAD,KAAwBj9B,IAAIuqD,QAAJ,CAAattB,IAAb,IAAqB,EAA7C;AACAj9B,gCAAIuqD,QAAJ,CAAattB,IAAb,EAAmB71C,KAAnB,GAA2B0yJ,gBAAgB78G,IAAhB,EAAsB71C,KAAjD;AACH;AACJ;AACJ,iBAfD;AAgBAysJ,4BAAYjxJ,IAAZ,CAAiB2K,MAAjB;AACH,aAnBD;AAoBA,mBAAOsmJ,WAAP;AACH;;AAED;;;;;;;;;;wCAOiB9kH,O,EAAS;AAAA,gBACd49F,OADc,GACc59F,OADd,CACd49F,OADc;AAAA,gBACLtuE,IADK,GACctvB,OADd,CACLsvB,IADK;AAAA,gBACCkM,QADD,GACcx7B,OADd,CACCw7B,QADD;;;AAGtBlrE,mBAAOwtB,OAAP,CAAe09C,QAAf,EAAyB7nE,OAAzB,CAAiC,UAACq3J,GAAD,EAAS;AACtC,oBAAIA,IAAI,CAAJ,KAAUA,IAAI,CAAJ,EAAO3yJ,KAArB,EAA4B;AACxB,wBAAMoyJ,UAAUO,IAAI,CAAJ,CAAhB;AACA,wBAAM3yJ,QAAQ2yJ,IAAI,CAAJ,EAAO3yJ,KAArB;;AAEA,wBAAIA,KAAJ,EAAW;AACPi3D,6BAAKm7F,OAAL,EAAc92J,OAAd,CAAsB,UAACu6C,IAAD,EAAU;AAC5B,gCAAMrlC,SAAS+0H,QAAQvlI,KAAR,CAAf;AACA,6BAAC2yJ,IAAI,CAAJ,EAAOniJ,MAAR,IAAkBqlC,KAAKiN,YAAL,CAAkBtyC,MAAlB,CAAlB;AACH,yBAHD;AAIH;AACJ;AACJ,aAZD;AAaA,mBAAOymD,IAAP;AACH;;;+BA7Dc;AACX,mBAAO,SAAP;AACH;;;;EA5BuCy2F,uD;;AAAvB8E,6E;;;;;;;;;;;;;;;;;;;;;;;ACXrB;AACA;AACA;AACA;;AAEA;;;;;;;IAMqB9E,a;;;;;;;;;AAEjB;;;;;qCAKc;AACV,kBAAM,IAAIvuJ,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;;0CAKmB;AACf,kBAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;;yCAKkB;AACd,kBAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;;oCAEmB;AAChB,gBAAI,UAAKh5C,MAAT,EAAiB;AACb,qBAAK22J,UAAL,GAAkB9vH,iEAAcA,CAAC,KAAK8vH,UAAL,IAAmB,EAAlC,mDAAlB;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,UAAZ;AACH;;AAED;;;;;;;;;;;uCAQgB3G,S,EAAW9lJ,M,EAAQ;AAC/B,iBAAK8jJ,SAAL,CAAeyG,wEAAeA,CAACzE,SAAhB,EAA2B9lJ,MAA3B,CAAf;AACA,mBAAO,KAAK8jJ,SAAL,EAAP;AACH;;AAED;;;;;;;;;;mCAOqB;AACjB,gBAAI,UAAOhuJ,MAAX,EAAmB;AACf,qBAAK42J,SAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,SAAZ;AACH;;AAED;;;;;;;;;;qCAOuB;AACnB,gBAAI,UAAO52J,MAAX,EAAmB;AACf,qBAAK62J,WAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKC,YAAZ;AACH;;AAED;;;;;;;;;;4CAO0C;AAAA,gBAAvBvI,QAAuB,uEAAZ,EAAY;AAAA,gBAAR/pJ,MAAQ;;AAAA,qCACTuyJ,mFAAiBA,CAACzxH,oDAAlB,EAAuB9gC,OAAOrF,IAA9B,EAAoCovJ,QAApC,CADS;AAAA;AAAA,gBAC/ByI,SAD+B;AAAA,gBACpBC,OADoB;;AAAA,sCAETF,mFAAiBA,CAAC1xH,uDAAlB,EAA0B7gC,OAAO/F,OAAjC,EAA0C8vJ,QAA1C,CAFS;AAAA;AAAA,gBAE/B2I,SAF+B;AAAA,gBAEpBC,OAFoB;;AAItC,iBAAK5I,QAAL,CAAc;AACVtvJ,qBAAKg4J,OADK;AAEV33J,wBAAQ63J;AAFE,aAAd;AAIA,iBAAKC,UAAL,CAAgB;AACZn4J,qBAAK+3J,SADO;AAEZ13J,wBAAQ43J;AAFI,aAAhB;AAIA,mBAAO,IAAP;AACH;;;;;;AApGgBzF,4E;;;;;;;;;;;;ACXrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAIA;;;AAGO,IAAMvlC,IAAI,GAAV;AACP;;;AAGO,IAAM15F,IAAI,GAAV;AACP;;;AAGO,IAAMmS,QAAQ,OAAd;;AAEP;;;AAGO,IAAMS,SAAS,QAAf;;AAEP;;;AAGO,IAAMiyH,cAAc,aAApB;;AAEP;;;AAGO,IAAMjmF,SAAS,QAAf;;AAEP;;;AAGO,IAAMkmF,iBAAiB,cAAvB;;AAEP;;;AAGO,IAAMC,kBAAkB,eAAxB;;AAEP;;;AAGO,IAAMC,aAAa,YAAnB;;AAEP;;;AAGO,IAAMC,WAAW,UAAjB;;AAEP;;;AAGO,IAAM7nJ,YAAY,WAAlB;;AAEP;;;AAGO,IAAMc,UAAU,SAAhB;;AAEP;;;AAGO,IAAMgnJ,QAAQ,OAAd;;AAEP;;;AAGO,IAAMC,SAAS,QAAf;;AAEP;;;AAGO,IAAMpT,QAAQ,OAAd;;AAEP;;;AAGO,IAAMqT,mBAAmB,gBAAzB;;AAEP;;;AAGO,IAAM/Y,OAAO,MAAb;;AAEP;;;AAGO,IAAMC,UAAU,SAAhB;;AAEP;;;AAGO,IAAM8Q,MAAM,KAAZ;;AAEP;;;AAGO,IAAMtqH,MAAM,KAAZ;;AAEP;;;AAGO,IAAMD,SAAS,QAAf;;AAEP;;;AAGO,IAAMX,QAAQ,OAAd;;AAEP;;;AAGO,IAAM4vB,QAAQ,OAAd;;AAEP;;;AAGO,IAAMC,OAAO,MAAb;;AAEP;;;AAGO,IAAMwqF,SAAS,QAAf;;AAEP;;;AAGO,IAAMiD,SAAS,QAAf;;AAEP;;;AAGO,IAAMtwE,YAAY,WAAlB;;AAEP;;;AAGO,IAAM/e,UAAU,SAAhB;;AAEP;;;AAGO,IAAM1X,SAAS,QAAf;AACP;;;AAGO,IAAMzV,OAAO,MAAb;AACP;;;AAGO,IAAMC,QAAQ,OAAd;AACP;;;AAGO,IAAMF,MAAM,KAAZ;AACP;;;AAGO,IAAMG,SAAS,QAAf;;AAEP;;;AAGO,IAAM61G,UAAU,SAAhB;AACP;;;AAGO,IAAMsc,OAAO,MAAb;AACP;;;AAGO,IAAMC,SAAS,OAAf;AACP;;;AAGO,IAAMC,SAAS,OAAf;AACP;;;AAGO,IAAMC,cAAc,WAApB;AACP;;;AAGO,IAAM3T,cAAc,aAApB;AACP;;;AAGO,IAAM4T,aAAa,UAAnB;AACP;;;AAGO,IAAMlO,OAAO,MAAb;AACP;;;AAGO,IAAMmO,OAAO,MAAb;AACP;;;AAGO,IAAMC,UAAU,SAAhB;AACP;;;AAGO,IAAMC,gBAAgB,cAAtB;AACP;;;AAGO,IAAMC,eAAe,aAArB;AACP;;;AAGO,IAAMC,gBAAgB,eAAtB;AACP;;;AAGO,IAAMrC,SAAS,QAAf;AACP;;;AAGO,IAAMC,QAAQ,OAAd;AACP;;;AAGO,IAAMG,MAAM,KAAZ;AACP;;;AAGO,IAAM7E,YAAY,WAAlB;AACP;;;AAGO,IAAM8E,QAAQ,OAAd;AACP;;;AAGO,IAAMhmJ,cAAc,aAApB;AACP;;;AAGO,IAAMC,WAAW,UAAjB;AACP;;;AAGO,IAAM6iJ,MAAM,KAAZ;AACP;;;AAGO,IAAMC,OAAO,MAAb;AACP;;;AAGO,IAAMC,QAAQ,OAAd;AACP;;;AAGO,IAAMjtH,UAAU,SAAhB;AACP;;;AAGO,IAAMC,YAAY,WAAlB;AACP;;;AAGO,IAAMgoH,OAAO,MAAb;AACP;;;AAGO,IAAMiK,cAAc,aAApB;AACP;;;AAGO,IAAMC,aAAa,WAAnB;AACP;;;AAGO,IAAMC,aAAa,WAAnB;AACP;;;AAGO,IAAMrN,SAAS,QAAf;AACP;;;AAGO,IAAMsN,QAAQ,OAAd,C;;;;;;;;;;;;AC9RP;AAAA;AAAA;AAAA;;;AAGO,IAAMC,sBAAsB,CAA5B;;AAEA,IAAMC,qBAAqB,WAA3B,C;;;;;;;;;;;;ACLP;AAAA;AAAA;AAAA;;AAEO,IAAM3G,YAAY;AACrBnvG,YAAQ7D,iEADa;AAErBzB,UAAML,4DAFe;AAGrB0wG,cAAU5nG,4DAHW;AAIrBmhB,UAAMzQ,4DAJe;AAKrBpnB,WAAO4W,6DALc;AAMrB8rB,WAAO1b,6DAASA;AANK,CAAlB,C;;;;;;;;;;;;;;;;;;;;;;;;;ACFP;AACA;AACA;AACA;AAQA;;AAEA;;;;;;AAMA,IAAMsiG,cAAc,SAAdA,WAAc,CAACh/H,QAAD,EAAWq1H,MAAX,EAAmB4J,QAAnB,EAAgC;AAChD,KAACxzH,oDAAD,EAAMsqH,oDAAN,EAAWvwJ,OAAX,CAAmB,UAAC0E,KAAD,EAAW;AAC1B,YAAMirC,QAAQnV,SAAY91B,KAAZ,aAAd;AACA,YAAMg1J,WAAW7J,OAAUnrJ,KAAV,aAAyB,CAAzB,EAA4BjF,IAA5B,EAAjB;;AAEA,SAACkwC,MAAM+pH,QAAN,CAAD,KAAqB/pH,MAAM+pH,QAAN,IAAkB,EAAvC;AACA/pH,cAAM+pH,QAAN,EAAgBx5J,IAAhB,CAAqBu5J,QAArB;AACAj/H,iBAAY91B,KAAZ,YAA0BirC,KAA1B;AACH,KAPD;AAQH,CATD;;AAWA;;;;;;;;;AASO,IAAMgqH,mBAAmB,SAAnBA,gBAAmB,CAACttH,OAAD,EAAUskH,SAAV,EAAqBhC,SAArB,EAAgCkB,MAAhC,EAA2C;AAAA,QAEnEhB,WAFmE,GAInEF,SAJmE,CAEnEE,WAFmE;AAAA,QAGnE/+E,OAHmE,GAInE6+E,SAJmE,CAGnE7+E,OAHmE;AAAA,QAMnEg/E,SANmE,GAQnED,WARmE,CAMnEC,SANmE;AAAA,QAOnEC,YAPmE,GAQnEF,WARmE,CAOnEE,YAPmE;AAAA,QAUlEl/G,QAVkE,GAYnEigC,OAZmE,CAUlEjgC,QAVkE;AAAA,QAWlEsF,WAXkE,GAYnE26B,OAZmE,CAWlE36B,WAXkE;AAAA,QAcnEykH,cAdmE,GAoBnEvtH,OApBmE,CAcnEutH,cAdmE;AAAA,QAe7DxO,QAf6D,GAoBnE/+G,OApBmE,CAenE6E,IAfmE;AAAA,QAgBnE1W,QAhBmE,GAoBnE6R,OApBmE,CAgBnE7R,QAhBmE;AAAA,QAiBnE3vB,MAjBmE,GAoBnEwhC,OApBmE,CAiBnExhC,MAjBmE;AAAA,QAkBnEgvJ,OAlBmE,GAoBnExtH,OApBmE,CAkBnEwtH,OAlBmE;AAAA,QAmBnE9oF,YAnBmE,GAoBnE1kC,OApBmE,CAmBnE0kC,YAnBmE;;AAqBvE,QAAMpV,OAAOnhC,SAASmhC,IAAT,EAAb;AACA,QAAMy3F,YAAY54H,SAAS44H,SAAT,EAAlB;AACA,QAAM0G,eAAet/H,SAASs/H,YAAT,EAArB;AACA,QAAMz/G,eAAe7f,SAAS2E,YAAT,GAAwBkf,UAA7C;AACA,QAAM07G,iBAAiBv/H,SAASu/H,cAAT,EAAvB;AACA,QAAMC,eAAex/H,SAASw/H,YAAT,EAArB;AACA,QAAMC,qBAAqBz/H,SAASy/H,kBAAT,EAA3B;AA3BuE,QA6BnEC,YA7BmE,GA+BnE9G,SA/BmE,CA6BnE8G,YA7BmE;AAAA,QA8BnEC,WA9BmE,GA+BnE/G,SA/BmE,CA8BnE+G,WA9BmE;;AAgCvE,QAAMC,iBAAiBP,QAAQQ,cAAR,CAAuB,EAAEtL,0BAAF,EAAgBD,oBAAhB,EAAvB,EAAoD8K,kBAAkB,EAAtE,CAAvB;AACA,QAAMlL,eAAe,EAAE7jJ,cAAF,EAAUwvC,0BAAV,EAAwBshB,UAAxB,EAA8By3F,oBAA9B,EAArB;;AAEAzE,cAAU2L,iBAAV,GAA8BN,aAAa70J,MAA3C;AACAwpJ,cAAU4L,cAAV,GAA2BR,eAAe50J,MAA1C;;AAEA,QAAM8tJ,YAAY4G,QAAQh2G,UAAR,CAAmB6qG,YAAnB,EAAiCC,SAAjC,CAAlB;;AAEAmL,iBAAajqH,QAAb,IAAyBiqH,aAAajqH,QAAb,IAAyBiqH,aAAajqH,QAAb,CAAzB,GAAkD,EAA3E;AACAiqH,iBAAajqH,QAAb,EAAuBsF,WAAvB,IAAsCilH,cAAtC;;AAEA;AACA,QAAMI,cAAcC,+DAAUA,CAAC5qH,QAAX,EAAqBsF,WAArB,CAApB;AACA,QAAMhwC,SAAS;AACX4tB,WAAG+7H,SADQ;AAEX9lI,WAAG+lI;AAFQ,KAAf;AAIA,QAAM2L,YAAY,8BACV7K,OAAOjS,SAAP,CAAiB,CAAjB,CADU,sBACciS,OAAOhS,SAAP,CAAiB,CAAjB,CADd,iCAEVgS,OAAOjS,SAAP,CAAiB,CAAjB,CAFU,sBAEciS,OAAOhS,SAAP,CAAiB,CAAjB,CAFd,GAAlB;AAIA,QAAM4b,WAAW,CAACU,YAAYhlJ,GAAZ,CAAgBqlJ,WAAhB,CAAD,GAAgC,IAAIpP,QAAJ,EAAhC,GAAiD+O,YAAYr9J,GAAZ,CAAgB09J,WAAhB,CAAlE;;AAEAf,aAASn2J,IAAT,CAAcqtJ,SAAd,EACiBh1F,IADjB,CACsBs3F,SADtB,EAEiB9tJ,MAFjB,CAEwBA,MAFxB,EAGiBgjE,SAHjB,CAG2B8xF,kBAH3B,EAIiBlpF,YAJjB,CAI8BA,YAJ9B,EAKiBitE,aALjB,CAK+B0c,SAL/B;AAMAR,iBAAa3zI,GAAb,CAAiBi0I,WAAjB,EAA8Bf,QAA9B;AACAU,gBAAYlhI,MAAZ,CAAmBuhI,WAAnB;;AAEAhB,gBAAYh/H,QAAZ,EAAsBq1H,MAAtB,EAA8B4J,QAA9B;;AAEA,WAAOS,aAAap9J,GAAb,CAAiB09J,WAAjB,CAAP;AACH,CAnEM;;AAqEP;;;;;;;;;;AAUA,IAAMG,kBAAkB,SAAlBA,eAAkB,CAACnsF,SAAD,EAAY7S,IAAZ,EAAkB+O,SAAlB,EAA6B/6B,KAA7B;AAAA,WACpBirH,oEAAeA,CAACpsF,SAAhB,EAA2B;AAAA,eAAQj0B,IAAR;AAAA,KAA3B,EAAyCohB,IAAzC,EAA+C,UAACz2D,IAAD,EAAOhJ,CAAP;AAAA,eAAaA,IAAIgJ,KAAK+E,MAAL,CAAY,UAACH,CAAD,EAAIpM,CAAJ,EAAU;AAClF,gBAAMoyC,KAAKpyC,EAAEoyC,EAAF,GAAO46B,SAAlB;AACA,mBAAO5gE,IAAIgmC,EAAX;AACH,SAH+D,EAG7D,EAH6D,CAAjB;AAAA,KAA/C,EAGQxwC,GAHR,CAGY,UAACi7C,IAAD,EAAU;AAClB,YAAIA,QAAQA,KAAKmwB,SAAL,CAAZ,EAA6B;AACzB,gBAAMmwF,WAAWtgH,KAAKmwB,SAAL,CAAjB;;AADyB,mCAEKmwF,SAAShwJ,MAAT,EAFL;AAAA,gBAEjB+vC,WAFiB,oBAEjBA,WAFiB;AAAA,gBAEJhL,IAFI,oBAEJA,IAFI;;AAIzB,mBAAO,IAAID,MAAMqoC,QAAV,GAAqBnqD,MAArB,CAA4BgtI,QAA5B,EAAsChwJ,MAAtC,CAA6C;AAChDmzC,0BAAUpD,gBAAgBe,mEAAeA,CAACxV,IAAhC,IAAwCyU,gBAAgBe,mEAAeA,CAACzV,GADlC;AAEhD0J;AAFgD,aAA7C,CAAP;AAIH;AACD,eAAO,IAAID,MAAMk7G,SAAV,GAAsBhgJ,MAAtB,CAA6B,EAAE+kC,MAAM,KAAR,EAA7B,CAAP;AACH,KAdD,CADoB;AAAA,CAAxB;;AAiBA;;;;;;;;AAQA,IAAMkrH,oBAAoB,SAApBA,iBAAoB,CAACzuH,OAAD,EAAU0uH,MAAV,EAAkBprH,KAAlB,EAA4B;AAAA,QAE9CpI,QAF8C,GAG9C8E,OAH8C,CAE9C9E,QAF8C;AAAA,QAK9CyzH,UAL8C,GAM9CzzH,QAN8C,CAK9CyzH,UAL8C;;;AAQlD,WAAO,UAACtvJ,IAAD,EAAOwjJ,QAAP,EAAoB;AACvB,YAAMvzF,OAAOq/F,gBAActvJ,IAAd,CAAb;;AAEA,YAAIiwD,QAAQA,KAAKh7D,MAAjB,EAAyB;AACrB,gBAAI+K,SAASmhH,kDAAT,IAAcnhH,SAASynB,kDAA3B,EAA8B;AAC1B,oBAAMtpB,aAAa6B,SAASynB,kDAAT,GAAaqsH,qDAAb,GAAoBC,wDAAvC;;AAEA,iBAACz4G,wDAAD,EAAUC,0DAAV,EAAqBjnC,OAArB,CAA6B,UAAC8zE,SAAD,EAAYlmE,KAAZ,EAAsB;AAC/C,wBAAMqtJ,kBAAgBpxJ,UAAhB,GAA6BiqE,SAAnC;AACA,wBAAIpJ,YAAY98D,KAAhB;AACA,wBAAIstJ,cAAcv/F,IAAlB;AACA,wBAAIuzF,aAAa9oH,sDAAb,IAAsB8oH,aAAa7oH,uDAAvC,EAA+C;AAC3CqkC,oCAAY,IAAIA,SAAhB;AACH;AACD,wBAAI,CAAC5C,6DAAUA,CAACnM,IAAX,EAAiB,CAAjB,EAAoB+O,SAApB,CAAL,EAAqC;AACjCwwF,sCAAc,EAAd;AACH;AACDH,2BAAOE,UAAP,IAAqBN,gBAAgBI,OAAOE,UAAP,CAAhB,EAAoCC,WAApC,EAAiDxwF,SAAjD,EAA4D/6B,KAA5D,CAArB;AACH,iBAXD;AAYH,aAfD,MAeO;AACHorH,uBAAOI,WAAP,GAAqBR,gBAAgBI,OAAOK,QAAvB,EAAiCz/F,KAAKr8D,GAAL,CAAS;AAAA,2BAAM,EAAN;AAAA,iBAAT,CAAjC,EAAqD,CAArD,EAAwDqwC,KAAxD,CAArB;AACAorH,uBAAOM,cAAP,GAAwBV,gBAAgBI,OAAOO,QAAvB,EAAiC3/F,KAAK,CAAL,CAAjC,EAA0C,CAA1C,EAA6ChsB,KAA7C,CAAxB;AACH;AACJ;AACD,eAAOorH,MAAP;AACH,KAzBD;AA0BH,CAlCD;;AAoCA;;;;;;;;;AASA,IAAMQ,kBAAkB,SAAlBA,eAAkB,CAAC/sF,SAAD,EAAY36D,OAAZ,EAAqB87B,KAArB,EAA4B0K,YAA5B;AAAA,WAA6CugH,oEAAeA,CAACpsF,SAAhB,EACjE;AAAA,eAAS,IAAI7+B,MAAM2yG,QAAV,CAAmB,EAAnB,EAAuB,EAAEjoG,0BAAF,EAAvB,EAAyCxsB,MAAzC,CAAgDhH,KAAhD,CAAT;AAAA,KADiE,EACAhT,OADA,EACS,UAACrW,GAAD,EAAMtB,CAAN;AAAA,eAAYsB,MAAMtB,CAAlB;AAAA,KADT,CAA7C;AAAA,CAAxB;;AAGA;;;;;;;;;AASA,IAAMs/J,sBAAsB,SAAtBA,mBAAsB,CAACnvH,OAAD,EAAUovH,YAAV,EAAwB9rH,KAAxB,EAA+B0K,YAA/B,EAAgD;AAAA,QAEpEE,IAFoE,GAMpElO,OANoE,CAEpEkO,IAFoE;AAAA,QAGpEn1C,IAHoE,GAMpEinC,OANoE,CAGpEjnC,IAHoE;AAAA,QAIpEsG,IAJoE,GAMpE2gC,OANoE,CAIpE3gC,IAJoE;AAAA,QAKpE6nC,KALoE,GAMpElH,OANoE,CAKpEkH,KALoE;;AAOxE,QAAMK,UAAU2G,KAAK55C,MAAL,GAAcyE,KAAKzE,MAAnC;AACA,QAAM+6J,gBAAgBt2J,KAAKzE,MAAL,GAAc45C,KAAKj7C,GAAL,CAAS,UAAC/C,CAAD,EAAIL,CAAJ;AAAA,eAAUkJ,KAAK+T,KAAKuT,KAAL,CAAWxwB,IAAI03C,OAAf,CAAL,CAAV;AAAA,KAAT,CAAd,GAAkE,EAAxF;;AAEA,WAAOgnH,oEAAeA,CAACa,aAAgB/vJ,IAAhB,aAAhB,EAAgD;AAAA,eAAUiwJ,MAAV;AAAA,KAAhD,EAAkED,aAAlE,EACH,UAACC,MAAD,EAASz/J,CAAT;AAAA,eAAkBy/J,OAAOl8J,IAAP,CAAY,GAAZ,CAAlB,SAAsCvD,CAAtC;AAAA,KADG,EAEUoD,GAFV,CAEc;AAAA,eAAUi8J,gBAAgB,IAAhB,EAAsBI,MAAtB,EAA8BhsH,KAA9B,EAAqC0K,YAArC,EACE/6C,GADF,CACM,UAAC4xC,IAAD,EAAO24C,CAAP,EAAU3tF,CAAV;AAAA,mBAAgBg1C,KAAKrjB,MAAL,CAAY8tI,OAAOz/J,CAAP,CAAZ,EAAuB2O,MAAvB,CAA8B0oC,KAA9B,CAAhB;AAAA,SADN,CAAV;AAAA,KAFd,CAAP;AAIH,CAdD;;AAgBA;;;;;;;;;;AAUA,IAAMqoH,uBAAuB,SAAvBA,oBAAuB,CAACvvH,OAAD,EAAUsD,KAAV,EAAiB0K,YAAjB,EAAkC;AAC3D,QAAIohH,qBAAJ;AAD2D,QAGvDl0H,QAHuD,GASvD8E,OATuD,CAGvD9E,QAHuD;AAAA,QAIvDpiC,MAJuD,GASvDknC,OATuD,CAIvDlnC,MAJuD;AAAA,QAKvD02J,oBALuD,GASvDxvH,OATuD,CAKvDwvH,oBALuD;AAAA,QAMvDrtF,SANuD,GASvDniC,OATuD,CAMvDmiC,SANuD;AAAA,QAOvDj7B,KAPuD,GASvDlH,OATuD,CAOvDkH,KAPuD;AAAA,QAQvDuoH,QARuD,GASvDzvH,OATuD,CAQvDyvH,QARuD;AAAA,QAWvDh8J,IAXuD,GAavDqF,MAbuD,CAWvDrF,IAXuD;AAAA,QAYvDV,OAZuD,GAavD+F,MAbuD,CAYvD/F,OAZuD;AAAA,QAevD28J,YAfuD,GAgBvDx0H,QAhBuD,CAevDw0H,YAfuD;AAAA,QAkBvDC,cAlBuD,GAoBvDH,oBApBuD,CAkBvDG,cAlBuD;AAAA,QAmBvDC,cAnBuD,GAoBvDJ,oBApBuD,CAmBvDI,cAnBuD;AAAA,QAsBvDC,OAtBuD,GAwBvDH,YAxBuD,CAsBvDG,OAtBuD;AAAA,QAuBvDC,UAvBuD,GAwBvDJ,YAxBuD,CAuBvDI,UAvBuD;;AAyB3D,QAAMC,eAAeN,SAASO,aAAT,CAAuB9E,SAA5C;AACA,QAAM+E,iBAAiBR,SAASO,aAAT,CAAuB7E,WAA9C;;AAEAiE,mBAAejtF,aAAa,EAA5B;;AAEA,KAAC,KAAD,EAAQq+C,kDAAR,EAAW15F,kDAAX,EAAcnzB,OAAd,CAAsB,UAACu6C,IAAD,EAAU;AAC5B,YAAM20G,WAAW30G,SAASsyE,kDAAT,GAAauvC,aAAan8J,MAA1B,GAAmCm8J,aAAax8J,GAAjE;AACA67J,uBAAeX,kBAAkBzuH,OAAlB,EAA2BovH,YAA3B,EAAyC9rH,KAAzC,EAAgD4K,IAAhD,EAAsD20G,QAAtD,CAAf;AACH,KAHD;;AA9B2D,wBAwCvDuM,YAxCuD;AAAA,QAoCvDN,WApCuD,iBAoCvDA,WApCuD;AAAA,QAqCvDoB,aArCuD,iBAqCvDA,aArCuD;AAAA,QAsCvDlB,cAtCuD,iBAsCvDA,cAtCuD;AAAA,QAuCvDmB,gBAvCuD,iBAuCvDA,gBAvCuD;;;AA0C3D,QAAM5E,UAAUuD,eAAeA,YAAYsB,UAAZ,GAAyB97J,MAAxC,GAAiDw6J,YAAYsB,UAAZ,EAAjD,GACXF,iBAAiBA,cAAcE,UAAd,GAA2B97J,MAA5C,GAAqD47J,cAAcE,UAAd,EAArD,GAAkF,EADvF;AAEA,QAAM3E,UAAUuD,kBAAkBA,eAAeoB,UAAf,GAA4B97J,MAA9C,GAAuD06J,eAAeoB,UAAf,EAAvD,GACXD,oBAAoBA,iBAAiBC,UAAjB,GAA8B97J,MAAlD,GAA2D67J,iBAAiBC,UAAjB,EAA3D,GAA2F,EADhG;;AAGA,QAAMC,eAAe,CACjB,EAAEhxJ,MAAMy6B,qDAAR,EAAcw2H,SAAS78J,KAAK,CAAL,CAAvB,EAAgCy6C,MAAMq9G,OAAtC,EAA+CG,YAAYuE,eAAe18J,GAA1E,EADiB,EAEjB,EAAE8L,MAAM06B,sDAAR,EAAeu2H,SAAS78J,KAAK,CAAL,CAAxB,EAAiCy6C,MAAMq9G,OAAvC,EAAgDG,YAAYuE,eAAe18J,GAA3E,EAFiB,EAGjB,EAAE8L,MAAMw6B,oDAAR,EAAay2H,SAASv9J,QAAQ,CAAR,CAAtB,EAAkCm7C,MAAMu9G,OAAxC,EAAiDC,YAAYuE,eAAer8J,MAA5E,EAHiB,EAIjB,EAAEyL,MAAM26B,uDAAR,EAAgBs2H,SAASv9J,QAAQ,CAAR,CAAzB,EAAqCm7C,MAAMu9G,OAA3C,EAAoDC,YAAYuE,eAAer8J,MAA/E,EAJiB,CAArB;;AAOAy8J,iBAAa18J,OAAb,CAAqB,UAAC6K,MAAD,EAAS+C,KAAT,EAAmB;AACpC,YAAIxI,aAAJ;AACA,YAAIzE,eAAJ;AAFoC,YAIhC+K,IAJgC,GAQhCb,MARgC,CAIhCa,IAJgC;AAAA,YAKhCixJ,OALgC,GAQhC9xJ,MARgC,CAKhC8xJ,OALgC;AAAA,YAMhCpiH,IANgC,GAQhC1vC,MARgC,CAMhC0vC,IANgC;AAAA,YAOhCw9G,UAPgC,GAQhCltJ,MARgC,CAOhCktJ,UAPgC;;;AAUpC,YAAInqJ,QAAQ,CAAZ,EAAe;AACXxI,mBAAO82J,OAAP;AACAv7J,qBAASq7J,eAAer7J,MAAf,GAAwB,CAAxB,GAA4Bq7J,eAAer7J,MAA3C,GAAoD,CAA7D;AACH,SAHD,MAGO;AACHyE,mBAAO+2J,UAAP;AACAx7J,qBAASs7J,eAAet7J,MAAf,GAAwB,CAAxB,GAA4Bs7J,eAAet7J,MAA3C,GAAoD,CAA7D;AACH;;AAED,YAAIg8J,QAAQh8J,MAAR,IAAkBo3J,eAAersJ,IAAjC,IAAyC6uC,IAAzC,IAAiDn1C,KAAKzE,MAA1D,EAAkE;AAC9D,gBAAMi8J,WAAW,EAAEriH,UAAF,EAAQ55C,cAAR,EAAgB+K,UAAhB,EAAjB;AACA,gBAAImI,UAAU,EAAd;AACA,gBAAIjG,QAAQ,CAAZ,EAAe;AACXgvJ,yBAASx3J,IAAT,GAAgBA,IAAhB;AACAw3J,yBAASrpH,KAAT,GAAiBA,MAAMzzC,IAAvB;AACA+T,0BAAU2nJ,oBAAoBoB,QAApB,EAA8BnB,YAA9B,EAA4C9rH,KAA5C,EAAmD0K,YAAnD,CAAV;AACH,aAJD,MAIO;AACHuiH,yBAASrpH,KAAT,GAAiBA,MAAMn0C,OAAvB;AACAw9J,yBAASx3J,IAAT,GAAgBA,KAAK,CAAL,EAAQ9F,GAAR,CAAY,UAAC9B,GAAD,EAAMtB,CAAN;AAAA,2BAAYkJ,KAAK9F,GAAL,CAAS;AAAA,+BAAKwK,EAAE5N,CAAF,CAAL;AAAA,qBAAT,CAAZ;AAAA,iBAAZ,CAAhB;;AAEA2X,0BAAU2nJ,oBAAoBoB,QAApB,EAA8BnB,YAA9B,EAA4C9rH,KAA5C,EAAmD0K,YAAnD,CAAV;AACH;AACDohH,yBAAgB/vJ,IAAhB,gBAAiCmI,OAAjC;AACH,SAdD,MAcO;AACH4nJ,yBAAgB/vJ,IAAhB,gBAAiC,IAAjC;AACH;AACJ,KAnCD;AAoCA,WAAO+vJ,YAAP;AACH,CA3FD;;AA6FA;;;;;;;;;AASO,IAAMoB,mBAAmB,SAAnBA,gBAAmB,CAACxwH,OAAD,EAAU9E,QAAV,EAAoBoI,KAApB,EAA2B0K,YAA3B,EAA4C;AAAA,QAEpE+zB,UAFoE,GAWnE/hC,OAXmE,CAEpE+hC,UAFoE;AAAA,QAGpED,SAHoE,GAWnE9hC,OAXmE,CAGpE8hC,SAHoE;AAAA,QAIpE0tF,oBAJoE,GAWnExvH,OAXmE,CAIpEwvH,oBAJoE;AAAA,QAKpEtB,cALoE,GAWnEluH,OAXmE,CAKpEkuH,cALoE;AAAA,QAMpED,iBANoE,GAWnEjuH,OAXmE,CAMpEiuH,iBANoE;AAAA,QAOpE9rF,SAPoE,GAWnEniC,OAXmE,CAOpEmiC,SAPoE;AAAA,QAQpE0gF,QARoE,GAWnE7iH,OAXmE,CAQpE6iH,QARoE;AAAA,QASpE37G,KAToE,GAWnElH,OAXmE,CASpEkH,KAToE;AAAA,QAUpEuoH,QAVoE,GAWnEzvH,OAXmE,CAUpEyvH,QAVoE;;AAYxE,QAAMgB,qBAAqB;AACvB33J,gBAAQ;AACJrF,kBAAMy6J,cADF;AAEJn7J,qBAASk7J;AAFL,SADe;AAKvB/yH,0BALuB;AAMvBs0H,kDANuB;AAOvBrtF,4BAPuB;AAQvB0gF,0BARuB;AASvB37G,oBATuB;AAUvBuoH;AAVuB,KAA3B;AAYA;AACA,QAAML,eAAeG,qBAAqBkB,kBAArB,EAAyCntH,KAAzC,EAAgD0K,YAAhD,CAArB;AAzBwE,QA2BpEghH,cA3BoE,GAmCpEI,YAnCoE,CA2BpEJ,cA3BoE;AAAA,QA4BpEmB,gBA5BoE,GAmCpEf,YAnCoE,CA4BpEe,gBA5BoE;AAAA,QA6BpErB,WA7BoE,GAmCpEM,YAnCoE,CA6BpEN,WA7BoE;AAAA,QA8BpEoB,aA9BoE,GAmCpEd,YAnCoE,CA8BpEc,aA9BoE;AAAA,QA+BpEQ,WA/BoE,GAmCpEtB,YAnCoE,CA+BpEsB,WA/BoE;AAAA,QAgCpEC,UAhCoE,GAmCpEvB,YAnCoE,CAgCpEuB,UAhCoE;AAAA,QAiCpEC,aAjCoE,GAmCpExB,YAnCoE,CAiCpEwB,aAjCoE;AAAA,QAkCpEC,YAlCoE,GAmCpEzB,YAnCoE,CAkCpEyB,YAlCoE;;AAAA,eAoC3B,CAAC/B,WAAD,EAAcoB,aAAd,EAA6BlB,cAA7B,EAA6CmB,gBAA7C,EACxCl9J,GADwC,CACpC;AAAA,eAAM/C,IAAIA,EAAEkgK,UAAF,EAAJ,GAAqB,EAA3B;AAAA,KADoC,CApC2B;AAAA;AAAA,QAoCjErB,QApCiE;AAAA,QAoCvD+B,MApCuD;AAAA,QAoC/C7B,QApC+C;AAAA,QAoCrC8B,MApCqC;;AAAA,gBAsCtC,CAACL,WAAD,EAAcG,YAAd,EAC7B59J,GAD6B,CACzB;AAAA,eAAMwK,IAAIA,EAAE2yJ,UAAF,GACEn9J,GADF,CACM;AAAA,mBAAKK,EAAE88J,UAAF,EAAL;AAAA,SADN,CAAJ,GACiC,EADvC;AAAA,KADyB,CAtCsC;AAAA;AAAA,QAsCjEY,UAtCiE;AAAA,QAsCrDC,WAtCqD;;AAyCxE,QAAIC,cAAcJ,OAAOx8J,MAAP,GAAgB,CAAhB,GAAoB,CAAC,CAAvC;AACAy6J,aAASz6J,MAAT,IAAmB48J,aAAnB;AACA,QAAIC,cAAcJ,OAAOz8J,MAAP,GAAgB,CAAhB,GAAoB,CAAC,CAAvC;AACA26J,aAAS36J,MAAT,IAAmB68J,aAAnB;;AAEA;AACA,QAAIlxH,aAAa+wH,WAAW18J,MAAX,GAAoB08J,WAAW/9J,GAAX,CAAe,UAAC/C,CAAD,EAAIL,CAAJ,EAAU;AAC1Dk/J,iBAASl/J,CAAT,IAAck/J,SAASl/J,CAAT,IAAc,CAACk/J,SAASl/J,CAAT,CAAD,CAAd,GAA8B,EAA5C;AACA,4CAAWK,CAAX,sBAAiB6+J,SAASl/J,CAAT,CAAjB;AACH,KAHoC,CAApB,GAGXk/J,WAAWA,SAAS97J,GAAT,CAAa;AAAA,eAAK,CAAC/C,CAAD,CAAL;AAAA,KAAb,CAAX,GAAoC,EAH1C;;AAKA;AACA,QAAMgwC,cAAc4wH,OAAOx8J,MAAP,GAAgBw8J,OAAO79J,GAAP,CAAW,UAAC/C,CAAD,EAAIL,CAAJ;AAAA,gBAAWK,CAAX,4BAAkB+gK,YAAYphK,CAAZ,KAAkB,EAApC;AAAA,KAAX,CAAhB,GAAwEohK,YAAY38J,MAAZ,GACxF28J,YAAYh+J,GAAZ,CAAgB;AAAA,4CAAS/C,CAAT;AAAA,KAAhB,CADwF,GACzD,EADnC;;AAGA,QAAMiwC,YAAY,EAAlB;AACA,QAAIwwH,UAAJ,EAAgB;AACZ,YAAMnpJ,UAAUmpJ,WAAWP,UAAX,EAAhB;AACA5oJ,gBAAQ7T,OAAR,CAAgB,UAAC8J,CAAD,EAAO;AACnB,gBAAM2zJ,eAAe3zJ,EAAE2yJ,UAAF,EAArB;AACAgB,yBAAaz9J,OAAb,CAAqB,UAACgpB,CAAD,EAAI9sB,CAAJ,EAAU;AAC3BswC,0BAAUtwC,CAAV,IAAeswC,UAAUtwC,CAAV,KAAgB,EAA/B;AACAswC,0BAAUtwC,CAAV,EAAagE,IAAb,CAAkB8oB,CAAlB;AACH,aAHD;AAIH,SAND;AAOH;AACD;AACA,QAAIsyI,SAAS36J,MAAb,EAAqB;AACjB6rC,kBAAUtsC,IAAV,CAAeo7J,QAAf;AACH;;AAED;AACA,QAAI7uH,eAAe,EAAnB;AACA,QAAI2wH,OAAOz8J,MAAX,EAAmB;AACf8rC,qBAAavsC,IAAb,CAAkBk9J,MAAlB;AACH;AACD,QAAMM,sBAAsBjxH,aAAa9rC,MAAzC;AACA,QAAIs8J,aAAJ,EAAmB;AACf,YAAMppJ,WAAUopJ,cAAcR,UAAd,EAAhB;AACA5oJ,iBAAQ7T,OAAR,CAAgB,UAAC8J,CAAD,EAAO;AACnB,gBAAM2zJ,eAAe3zJ,EAAE2yJ,UAAF,EAArB;AACAgB,yBAAaz9J,OAAb,CAAqB,UAACgpB,CAAD,EAAI9sB,CAAJ,EAAU;AAC3BuwC,6BAAavwC,IAAIwhK,mBAAjB,IAAwCjxH,aAAavwC,IAAIwhK,mBAAjB,KAAyC,EAAjF;AACAjxH,6BAAavwC,IAAIwhK,mBAAjB,EAAsCx9J,IAAtC,CAA2C8oB,CAA3C;AACH,aAHD;AAIH,SAND;AAOH;;AAED,QAAI,CAACsjB,WAAW3rC,MAAZ,IAAsB,CAAC4rC,YAAY5rC,MAAvC,EAA+C;AAC3C,YAAMuwC,OAAO,IAAIvB,MAAMk7G,SAAV,EAAb;AACA35G,aAAK9I,iBAAL,CAAuB+lC,SAAvB,EAAkCC,UAAlC;AACA9hC,qBAAa,CAAC,CAAC4E,IAAD,CAAD,CAAb;AACH;;AAED,QAAI,CAAC1E,UAAU7rC,MAAX,KAAsB,CAAC8rC,aAAa9rC,MAAd,IAAwB,CAAC8rC,aAAa,CAAb,EAAgB9rC,MAA/D,CAAJ,EAA4E;AACxE,YAAMuwC,QAAO,IAAIvB,MAAMk7G,SAAV,EAAb;AACA35G,cAAK9I,iBAAL,CAAuB+lC,SAAvB,EAAkCC,UAAlC;AACA3hC,uBAAe,CAAC,CAACyE,KAAD,CAAD,CAAf;AACH;;AAED,WAAO;AACHpxC,cAAM,CAACwsC,UAAD,EAAaC,WAAb,CADH;AAEHntC,iBAAS,CAACotC,SAAD,EAAYC,YAAZ,CAFN;AAGHgvH,kCAHG;AAIH+B,gCAJG;AAKHD;AALG,KAAP;AAOH,CA5GM;;AA8GP;;;;;;;;;AASO,IAAMI,kBAAkB,SAAlBA,eAAkB,CAACtxH,OAAD,EAAUxhC,MAAV,EAAqB;AAAA,QAE5C2vB,QAF4C,GAM5C6R,OAN4C,CAE5C7R,QAF4C;AAAA,QAG5Cm2H,SAH4C,GAM5CtkH,OAN4C,CAG5CskH,SAH4C;AAAA,QAI5CiN,iBAJ4C,GAM5CvxH,OAN4C,CAI5CuxH,iBAJ4C;AAAA,QAK5C9B,QAL4C,GAM5CzvH,OAN4C,CAK5CyvH,QAL4C;AAAA,QAQxC+B,YARwC,GAWxChzJ,MAXwC,CAQxCgzJ,YARwC;AAAA,QASxCrvF,SATwC,GAWxC3jE,MAXwC,CASxC2jE,SATwC;AAAA,QAUxCrG,SAVwC,GAWxCt9D,MAXwC,CAUxCs9D,SAVwC;;AAYhD,QAAMz9D,UAAUmzJ,aAAa3X,WAA7B;;AAZgD,gCAaX1rH,SAAS2E,YAAT,EAbW;AAAA,QAa5Bkb,YAb4B,yBAaxCgE,UAbwC;;AAchD,QAAM6xF,WAAWygB,UAAUpjJ,eAAV,EAAjB;AACA,QAAM4jJ,cAAc32H,SAAS22H,WAAT,EAApB;AACA,QAAMvoF,WAAWpuC,SAASouC,QAAT,EAAjB;;AAhBgD,gCAiBbpuC,SAASu/H,cAAT,EAjBa;AAAA,QAiBhCQ,cAjBgC,yBAiBxCp1J,MAjBwC;;AAAA,gCAkBVq1B,SAASw/H,YAAT,EAlBU;AAAA,QAkBhCM,iBAlBgC,yBAkBxCn1J,MAlBwC;;AAmBhD,QAAM24J,iBAAiBtjI,SAASujI,mBAAT,CAA6BlzJ,MAA7B,EAAqCsmJ,WAArC,CAAvB;AACA,QAAM0K,uBAAuBrhI,SAAStxB,YAAT,EAA7B;AACA,QAAM80J,kBAAkB;AACpB;AACA;AACA1D,4CAHoB;AAIpBC,sCAJoB;AAKpBsB,kDALoB;AAMpBt0F,gBAAQ4pF,WANY;AAOpBjhB,0BAPoB;AAQpB4tB,sCARoB;AASpBhC,0BAToB;AAUpBvoH,eAAOsqH,aAAatqH,KAAb,IAAsB,EAVT;AAWpB27G,kBAAU2O,aAAa3O,QAAb,IAAyB,EAXf;AAYpB1gF;AAZoB,KAAxB;AAcA,QAAM7+B,QAAQ;AACVy7G,kBAAU5wH,SAASyjI,UAAT,CAAoBr1F,SAASwiF,QAA7B,CADA;AAEVpzE,kBAAUx9C,SAASyjI,UAAT,CAAoBr1F,SAASoP,QAA7B,CAFA;AAGV6yE,mBAAWrwH,SAASyjI,UAAT,CAAoBr1F,SAASiiF,SAA7B,CAHD;AAIVvI,kBAAU9nH,SAASyjI,UAAT,CAAoBr1F,SAAS05E,QAA7B;AAJA,KAAd;AAMA,QAAM11G,iBAAiBkB,wEAAmBA,CAACysH,cAApB,CAAvB;AACA,QAAM1tH,oBAAoBiB,wEAAmBA,CAACwsH,iBAApB,CAA1B;;AAEA9/H,aAAS0jI,QAAT,CAAkB,EAAlB;AACA1jI,aAAS2jI,QAAT,CAAkB,EAAlB;AACA3jI,aAASy/H,kBAAT,CAA4B9xF,aAAa,EAAzC;;AAEA;AACA3tC,aAAS4jI,eAAT;;AAjDgD,8BAqD5C5jI,SAAS44H,SAAT,EArD4C;AAAA,QAoD5C8G,YApD4C,uBAoD5CA,YApD4C;;AAsDhD,QAAMmE,cAAc;AAChBlE,qBAAaD,YADG;AAEhBA,sBAAc,IAAI9zI,GAAJ;AAFE,KAApB;;AAKAoU,aAAS44H,SAAT,CAAmBiL,WAAnB;;AAEA,QAAMC,mBAAmB;AACrBzzJ,gBAAQgzJ,YADa;AAErBjE,wBAAgBkC,SAASO,aAAT,CAAuBkC,oBAAvB,CAA4C/jI,SAAS22H,WAAT,EAA5C,CAFK;AAGrB32H,0BAHqB;AAIrB0W,cAAMvB,MAAMy7G,QAJS;AAKrByO,iBAASiC,SAASO,aALG;AAMrBgC,gCANqB;AAOrBttF,sBAAclmE,OAAOipG;AAPA,KAAzB;AASA,QAAMxmG,eAAeqjJ,UAAUpjJ,eAAV,EAArB;AACA,QAAIqjJ,eAAeD,SAAnB;AACA,QAAI,CAACjmJ,QAAQy+D,QAAb,EAAuB;AACnB,YAAMhkE,SAASq5J,gFAA2BA,CAACF,iBAAiB1E,cAA7C,EAA6DjJ,UAAUpjJ,eAAV,EAA7D,CAAf;AACA,YAAM2Q,YAAYugJ,kEAAaA,CAAC5C,oBAAd,EAAoC12J,MAApC,CAAlB;;AAEA,YAAM+kB,aAAahM,UAAUE,MAAV,CAAiB;AAAA,mBAChC9Q,aAAa5I,KAAb,KAAuB4I,aAAa5I,KAAb,EAAoB4Y,GAApB,CAAwB5R,IAAxB,KAAiC0F,oDAASA,CAACb,SADlC;AAAA,SAAjB,CAAnB;AAEA,YAAMmuJ,iBAAiBh0J,QAAQ2f,QAA/B;;AAEAumI,uBAAeD,UAAUjmJ,OAAV,CAAkBwf,WAAWvpB,MAAX,GAAoBupB,UAApB,GAAiC,CAAC,EAAD,CAAnD,EAAyDw0I,cAAzD,EAAyE9rJ,OAAzE,CAAiFsL,SAAjF,CAAf;AACH;;AAED;AACA,QAAMygJ,cAAcnkI,SAASokI,iBAAT,CAA2BN,gBAA3B,CAApB;AACA;AACA,QAAMO,kBAAkBC,oEAAcA,CAAClO,YAAf,EAA6BiL,oBAA7B,EAAmD8C,WAAnD,CAAxB;;AAEAnkI,aAAS44H,SAAT,GAAqB+G,WAArB,CAAiCn6J,OAAjC,CAAyC,UAAC0oC,WAAD,EAAiB;AACtDA,oBAAYiJ,MAAZ;AACH,KAFD;AAGAnX,aAAS44H,SAAT,GAAqB+G,WAArB,CAAiCt1E,KAAjC;AACArqD,aAASgT,WAAT,CAAqBqxH,gBAAgBl3H,MAArC;AACAnN,aAASukI,WAAT,CAAqBnB,iBAArB,EAAwC/yJ,MAAxC;;AA7FgD,6BA+FvB4oJ,sEAAiBA,CAACj5H,SAAS44H,SAAT,EAAlB,EAAwC54H,SAASmhC,IAAT,EAAxC,CA/FuB;AAAA,QA+FxConF,KA/FwC,sBA+FxCA,KA/FwC;AAAA,QA+FjCiM,KA/FiC,sBA+FjCA,KA/FiC;;AAiGhDx0H,aAASmhC,IAAT,CAAc;AACV3yC,WAAG+5H,KADO;AAEVhwH,WAAGi8H;AAFO,KAAd;;AAKA,QAAMznH,WAAW;AACbw0H,sBAAc8C,eADD;AAEb7D,oBAAYxgI,SAASmhC,IAAT;AAFC,KAAjB;AAIA;;AA1GgD,4BAiH5CkhG,iBAAiBmB,eAAjB,EAAkCz2H,QAAlC,EAA4CoI,KAA5C,EAAmD0K,YAAnD,CAjH4C;AAAA,QA4G5Cv6C,IA5G4C,qBA4G5CA,IA5G4C;AAAA,QA6G5CV,OA7G4C,qBA6G5CA,OA7G4C;AAAA,QA8G5Cq8J,YA9G4C,qBA8G5CA,YA9G4C;AAAA,QA+G5C8B,WA/G4C,qBA+G5CA,WA/G4C;AAAA,QAgH5CC,WAhH4C,qBAgH5CA,WAhH4C;;AAmHhDhjI,aAAS0O,SAAT,CAAmBppC,IAAnB;AACA06B,aAAS2O,YAAT,CAAsB/pC,OAAtB;;AAEA,WAAO;AACHU,cAAM06B,SAAS0O,SAAT,EADH;AAEH9pC,iBAASo7B,SAAS2O,YAAT,EAFN;AAGH/rB,gBAAQod,SAASgT,WAAT,EAHL;AAIHX,4CAJG;AAKHD,sCALG;AAMHK,kBAAU;AACNrtC,iBAAK29J,WADC;AAENnvH,iBAAKovH;AAFC,SANP;AAUHhvF,mBAAWitF,YAVR;AAWH/rF,oBAAY;AACRkhF,sCADQ;AAER8F,yBAAa/F;AAFL;AAXT,KAAP;AAgBH,CAtIM,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/bP;AACA;AACA;AACA;AACA;;AA0BA;;;;;;AAMO,IAAMqO,YAAY,SAAZA,SAAY;AAAA,WAAM,IAAIhyB,gDAAJ,qBAC1BssB,mEAD0B,EACJA,mEADI,EAAN;AAAA,CAAlB;;AAIP;;;;;AAKO,IAAMxrH,sBAAsB,SAAtBA,mBAAsB;AAAA,WAAO,6BAAI9pC,IAAI,CAAJ,CAAJ,sBAAeA,IAAI,CAAJ,CAAf,GAAuBiG,MAAvB,CAA8B,UAACqkI,OAAD,EAAU1uI,GAAV,EAAkB;AACtF,YAAMq/J,UAAUr/J,IAAI8L,IAAJ,EAAhB;;AAEA,YAAIuzJ,YAAY5tJ,wDAAZ,IAAuB4tJ,YAAY/tJ,yDAAvC,EAAiD;AAC7Co9H,sBAAU,IAAV;AACH;AACD,eAAOA,OAAP;AACH,KAPyC,EAOvC,KAPuC,CAAP;AAAA,CAA5B;;AASP;;;;AAIO,IAAM4wB,sBAAsB,SAAtBA,mBAAsB;AAAA,WAAO;AACtCC,iBAAS,IAAI/4I,GAAJ,EAD6B;AAEtCstI,kBAAU,IAAIttI,GAAJ,EAF4B;AAGtCutI,kBAAU,IAAIvtI,GAAJ,EAH4B;AAItC8zI,sBAAc,IAAI9zI,GAAJ,EAJwB;AAKtC+zI,qBAAa,IAAI/zI,GAAJ;AALyB,KAAP;AAAA,CAA5B;;AAQP;;;;;;AAMO,IAAMktI,aAAa,SAAbA,UAAa,CAACtyG,QAAD;AAAA,sCAAch2C,MAAd;AAAcA,cAAd;AAAA;;AAAA,WAA4Bg2C,QAA5B,cAA6Ch2C,OAAOvL,IAAP,CAAY,GAAZ,CAA7C;AAAA,CAAnB;;AAEP;;;;;;AAMO,IAAMg7J,aAAa,SAAbA,UAAa,CAAC2E,KAAD,EAAQC,QAAR;AAAA,qBAA6BD,KAA7B,SAAsCC,QAAtC;AAAA,CAAnB;;AAEP;;;;;;AAMO,IAAMC,oBAAoB,SAApBA,iBAAoB,CAACz0J,MAAD,EAAY;AACzC,QAAM00J,aAAa,EAAnB;AACA,QAAMC,YAAY,CAACtG,4DAAD,EAAcC,2DAAd,EAA0BC,2DAA1B,CAAlB;;AAEAoG,cAAUx/J,OAAV,CAAkB,UAACixC,IAAD,EAAU;AACxB,YAAIpmC,OAAOomC,IAAP,MAAiBrsC,SAArB,EAAgC;AAC5B26J,uBAAWtuH,IAAX,IAAmBpmC,OAAOomC,IAAP,CAAnB;AACH;AACJ,KAJD;AAKA,WAAOsuH,UAAP;AACH,CAVM;;AAYP;;;;;;;;;AASO,IAAME,gBAAgB,SAAhBA,aAAgB,CAAC5rJ,OAAD,EAAUjG,KAAV,EAAiB8xJ,SAAjB,EAA+B;AACxD,QAAIl7J,SAAS,EAAb;;AAEA,QAAIoJ,UAAU8xJ,YAAY,CAAtB,IAA2B7rJ,QAAQlT,MAAR,GAAiB++J,SAAhD,EAA2D;AACvD,aAAK,IAAIxjK,IAAI0R,KAAb,EAAoB1R,IAAI2X,QAAQlT,MAAR,GAAiB,CAAzC,EAA4CzE,GAA5C,EAAiD;AAC7CsI,sBAAaqP,QAAQ3X,CAAR,EAAW01B,QAAX,EAAb;AACH;AACDptB,kBAAUqP,QAAQA,QAAQlT,MAAR,GAAiB,CAAzB,EAA4BixB,QAA5B,EAAV;AACA,eAAOptB,MAAP;AACH,KAND,MAMO,IAAIqP,QAAQjG,KAAR,CAAJ,EAAoB;AACvB,eAAOiG,QAAQjG,KAAR,EAAegkB,QAAf,EAAP;AACH;AACD,WAAO,EAAP;AACH,CAbM;;AAeP;;;;;;;;;AASO,IAAM+yH,gBAAgB,SAAhBA,aAAgB,CAACx/I,MAAD,EAASw6J,YAAT,EAAuBrd,QAAvB,EAAiCjoG,YAAjC,EAAkD;AAC3E,QAAMxmC,UAAU1O,OAAOxE,MAAP,GAAgB,CAAhB,GAAoBwE,OAAO,CAAP,EAAU7F,GAAV,CAAc,UAAC4xC,IAAD,EAAOh1C,CAAP;AAAA,eAAa,IAAIomJ,QAAJ,CAAa,EAAE52I,MAAMqgJ,uDAAR,EAAb,EAA+B,EAAE1xG,0BAAF,EAA/B,EAC9CxsB,MAD8C,CACvC4xI,cAAcE,YAAd,EAA4BzjK,CAA5B,EAA+BiJ,OAAO,CAAP,EAAUxE,MAAzC,CADuC,EAE9CkK,MAF8C,CAEvC,EAAE+kC,MAAMsB,KAAKrmC,MAAL,GAAc+kC,IAAtB,EAFuC,CAAb;AAAA,KAAd,CAApB,GAEyC,EAFzD;AAGA,WAAO/7B,OAAP;AACH,CALM;;AAOP;;;;;;;AAOO,IAAM+rJ,cAAc,SAAdA,WAAc,CAAClY,QAAD,EAAWxpI,SAAX,EAAyB;AAChD,QAAI2hJ,UAAU,IAAd;;AAEA,KAACx6H,sDAAD,EAAQ6vB,qDAAR,EAAcD,sDAAd,EAAqBj1D,OAArB,CAA6B,UAAC8J,CAAD,EAAO;AAChC,YAAI,MAAK8lB,KAAL,CAAW9yB,GAAX,CAAegN,CAAf,KAAqB49I,aAAa,MAAK93H,KAAL,CAAW9yB,GAAX,CAAegN,CAAf,EAAkB,CAAlB,CAAtC,EAA4D;AACxD+1J,sBAAU/1J,CAAV;AACH;AACJ,KAJD;;AAMA,QAAI+1J,OAAJ,EAAa;AACT,eAAO,EAAEA,gBAAF,EAAP;AACH;AACD,KAAC55H,oDAAD,EAAMsqH,oDAAN,EAAWvwJ,OAAX,CAAmB,UAAC8/J,SAAD,EAAe;AAC9B5hJ,kBAAa4hJ,SAAb,aAAgC9/J,OAAhC,CAAwC,UAAC8J,CAAD,EAAO;AAC3C,gBAAIA,EAAE8nB,QAAF,OAAiB81H,QAArB,EAA+B;AAC3BmY,0BAAU,EAAEA,SAASxG,sDAAX,EAAkB3tJ,MAAMo0J,cAAcvP,oDAAd,GAAoBvqH,uDAApB,GAA6BC,oDAArD,EAAV;AACH;AACJ,SAJD;AAKH,KAND;;AAQA,QAAI45H,OAAJ,EAAa;AACT,eAAOA,OAAP;AACH;;AAED,KAAC55H,oDAAD,EAAMsqH,oDAAN,EAAWvwJ,OAAX,CAAmB,UAAC+/J,QAAD,EAAc;AAC7B7hJ,kBAAa6hJ,QAAb,kBAAoC//J,OAApC,CAA4C,UAAC8J,CAAD,EAAO;AAC/CA,cAAE9J,OAAF,CAAU,UAAC3D,CAAD,EAAO;AACb,oBAAIA,EAAEu1B,QAAF,OAAiB81H,QAArB,EAA+B;AAC3BmY,8BAAUE,aAAaxP,oDAAb,GAAmB1jC,kDAAnB,GAAuB15F,kDAAjC;AACH;AACJ,aAJD;AAKH,SAND;AAOH,KARD;;AAUA,QAAI0sI,OAAJ,EAAa;AACT,eAAO,EAAEA,gBAAF,EAAP;AACH;AACD,WAAO,IAAP;AACH,CAtCM;;AAwCP;;;;;;AAMO,IAAMzL,cAAc,SAAdA,WAAc,CAAC9mJ,YAAD,EAAe5I,KAAf,EAAyB;AAChD,QAAIovE,YAAYxgB,wDAAhB;;AAEA,QAAI5uD,SAAS4I,aAAa5I,KAAb,EAAoB4Y,GAApB,CAAwB5R,IAAxB,KAAiC6E,0DAA9C,EAAyD;AACrDujE,oBAAYl4B,uDAAZ;AACH;AACD,WAAOk4B,SAAP;AACH,CAPM;;AASP;;;;;;;AAOO,IAAMg9E,wBAAwB,SAAxBA,qBAAwB,CAACH,SAAD,EAAYlkJ,SAAZ,EAA0B;AAC3D,QAAM/H,QAAQisJ,UAAU/kJ,aAAV,GAA0BzG,MAA1B,CAAiCgL,IAAjC,CAAsC;AAAA,eAAK5T,EAAEC,IAAF,OAAaiQ,UAAUmlB,QAAV,EAAlB;AAAA,KAAtC,CAAd;AACA,WAAOltB,MAAMwQ,MAAN,EAAP;AACH,CAHM;;AAKP;;;;;AAKO,IAAMu+I,oBAAoB,SAApBA,iBAAoB,CAACL,SAAD,EAAYz3F,IAAZ,EAAqB;AAClD,QAAIonF,QAAQ,IAAZ;AACA,QAAIiM,QAAQ,IAAZ;AAFkD,QAI9C0E,QAJ8C,GAM9CN,SAN8C,CAI9CM,QAJ8C;AAAA,QAK9CC,QAL8C,GAM9CP,SAN8C,CAK9CO,QAL8C;AAAA,QAQ3CC,QAR2C,GAU9Cj4F,IAV8C,CAQ9C3yC,CAR8C;AAAA,QAS3C6qI,QAT2C,GAU9Cl4F,IAV8C,CAS9C5oC,CAT8C;;;AAYlD6gI,gBAAYA,SAAS5zJ,OAAT,CAAiB,UAAC8zJ,MAAD,EAAY;AACrC,YAAMl4F,QAAQ83F,SAAS52J,GAAT,CAAag3J,MAAb,CAAd;AACA/Q,gBAAQA,SAAS,EAAjB;AACAA,cAAM7iJ,IAAN,CAAW07D,KAAX;AACH,KAJW,CAAZ;;AAMAi4F,gBAAYA,SAAS7zJ,OAAT,CAAiB,UAAC8zJ,MAAD,EAAY;AACrC,YAAMj4F,QAAQ83F,SAAS72J,GAAT,CAAag3J,MAAb,CAAd;AACA9E,gBAAQA,SAAS,EAAjB;AACAA,cAAM9uJ,IAAN,CAAW27D,KAAX;AACH,KAJW,CAAZ;;AAMA,WAAO;AACHknF,oBADG,EACIiM;AADJ,KAAP;AAGH,CA3BM;;AA6BP;;;;;;AAMO,IAAMgR,aAAa,SAAbA,UAAa,CAACz4F,MAAD,EAAY;AAClC,QAAIsyF,UAAU,IAAIpL,yDAAJ,EAAd;;AAEA,QAAIlnF,MAAJ,EAAY;AACR;AACAsyF,kBAAUtyF,OAAO9pD,KAAP,CAAa;AAAA,mBAAK3T,EAAE29D,IAAF,KAAW,KAAhB;AAAA,SAAb,IAAsC,IAAIuuF,qDAAJ,EAAtC,GAA2D6D,OAArE;AACH;AACD,WAAOA,OAAP;AACH,CARM;;AAUP;;;;;;;;AAQO,IAAMnC,oBAAoB,SAApBA,iBAAoB,CAAChsJ,IAAD,EAAOvG,MAAP,EAAe86J,kBAAf,EAAsC;AACnE,QAAI/Q,WAAW+Q,mBAAmBv0J,IAAnB,CAAf;AACA,QAAIqsJ,aAAa,EAAjB;AACA,QAAMx0J,UAAUmI,SAASu6B,oDAAT,GAAe,CAACE,qDAAD,EAAOC,sDAAP,CAAf,GAA+B,CAACC,uDAAD,EAASH,oDAAT,CAA/C;;AAHmE,iCAIjC/gC,MAJiC;AAAA,QAI5D+6J,UAJ4D;AAAA,QAIhDC,WAJgD;;AAKnE,QAAMC,iBAAiB,SAAjBA,cAAiB;AAAA,eAAMF,WAAWv/J,MAAX,GAAoBu/J,WAAWhkK,CAAX,EAAcwP,IAAd,EAApB,GAA2C,IAAjD;AAAA,KAAvB;AACA,QAAM20J,kBAAkB,SAAlBA,eAAkB;AAAA,eAAMF,YAAYx/J,MAAZ,GAAqBw/J,YAAYjkK,CAAZ,EAAewP,IAAf,EAArB,GAA6C,IAAnD;AAAA,KAAxB;;AAEA,QAAI00J,eAAeF,WAAWv/J,MAAX,GAAoB,CAAnC,MAA0C4P,0DAA1C,IAAuD8vJ,gBAAgB,CAAhB,MAAuB9vJ,0DAAlF,EAA6F;AACzFwnJ,qBAAa7I,WAAW3rJ,QAAQ,IAAIA,QAAQ6G,OAAR,CAAgB8kJ,QAAhB,CAAZ,CAAX,GAAoD3rJ,QAAQ,CAAR,CAAjE;;AAEA,YAAImI,SAASs6B,uDAAT,IAAoBk6H,WAAWA,WAAWv/J,MAAX,GAAoB,CAA/B,EAAkCixB,QAAlC,OAAiDuuI,YAAY,CAAZ,EAAevuI,QAAf,EAAzE,EAAqG;AACjGs9H,uBAAWhpH,oDAAX;AACH,SAFD,MAEO;AACHgpH,uBAAWA,YAAY3rJ,QAAQ,CAAR,CAAvB;AACH;AACJ,KARD,MAQO,IAAI88J,gBAAgBF,YAAYx/J,MAAZ,GAAqB,CAArC,MAA4C4P,0DAAhD,EAA2D;AAC9DwnJ,qBAAarsJ,SAASu6B,oDAAT,GAAeG,sDAAf,GAAuBC,uDAApC;AACA6oH,mBAAWxjJ,SAASu6B,oDAAT,GAAeG,sDAAf,GAAuBC,uDAAlC;AACH,KAHM,MAGA;AACH0xH,qBAAarsJ,SAASu6B,oDAAT,GAAeE,qDAAf,GAAsBD,oDAAnC;AACAgpH,mBAAWxjJ,SAASu6B,oDAAT,GAAeE,qDAAf,GAAsBD,oDAAjC;AACH;AACD,QAAIk6H,eAAeF,WAAWv/J,MAAX,GAAoB,CAAnC,MAA0C0Q,wDAA1C,IAAqDgvJ,gBAAgB,CAAhB,MAAuBhvJ,wDAAhF,EAAyF;AACrF69I,mBAAWxjJ,SAASu6B,oDAAT,GAAeE,qDAAf,GAAsBD,oDAAjC;AACH,KAFD,MAEO,IAAIm6H,gBAAgB,CAAhB,MAAuBhvJ,wDAA3B,EAAoC;AACvC69I,mBAAWxjJ,SAASu6B,oDAAT,GAAeG,sDAAf,GAAuBC,uDAAlC;AACH,KAFM,MAEA,IAAI+5H,eAAeF,WAAWv/J,MAAX,GAAoB,CAAnC,MAA0C0Q,wDAA9C,EAAuD;AAC1D69I,mBAAWxjJ,SAASu6B,oDAAT,GAAeE,qDAAf,GAAsBD,oDAAjC;AACH;AACD,WAAO,CAAC6xH,UAAD,EAAa7I,QAAb,CAAP;AACH,CA/BM;;AAiCP;;;;;;;;;AASO,IAAMoR,0BAA0B,SAA1BA,uBAA0B,CAACj0H,OAAD,EAAUsiH,SAAV,EAAqBkL,OAArB,EAAiC;AAAA,QAEhE10J,MAFgE,GAIhEwpJ,SAJgE,CAEhExpJ,MAFgE;AAAA,QAGhEuG,IAHgE,GAIhEijJ,SAJgE,CAGhEjjJ,IAHgE;;AAAA,gCAKpCmuJ,QAAQwC,aAAR,CAAsBkE,uBAAtB,CAA8Cp7J,MAA9C,EAAsDuG,IAAtD,CALoC;AAAA,QAK5DmkJ,MAL4D,yBAK5DA,MAL4D;AAAA,QAKpDhB,WALoD,yBAKpDA,WALoD;;AAOpExiH,YAAQwjH,MAAR,qBAAqBnkJ,IAArB,aAAoCmkJ,MAApC;AACAxjH,YAAQwiH,WAAR,qBAA0BnjJ,IAA1B,kBAA8CmjJ,WAA9C;;AAEA,WAAO,EAAEgB,cAAF,EAAUhB,wBAAV,EAAuB1pJ,cAAvB,EAAP;AACH,CAXM;;AAaP;;;;;;;;;;AAUO,IAAMy1J,kBAAkB,SAAlBA,eAAkB,CAACjjB,GAAD,EAAM6oB,SAAN,EAAiBl9J,IAAjB,EAAuBm9J,IAAvB,EAAgC;AAC3D,QAAIjyF,YAAYmpE,OAAOnP,6DAAUA,CAAC,EAAX,CAAvB;;AAEAh6D,gBAAYA,UAAUlrE,IAAV,CAAeA,IAAf,EAAqBm9J,IAArB,CAAZ;;AAEA,QAAMhyF,QAAQD,UAAUC,KAAV,GAAkBjxC,MAAlB,CAAyBgjI,SAAzB,CAAd;AACA,QAAME,kBAAkBjyF,MAAMriD,KAAN,CAAYoiD,SAAZ,CAAxB;;AAEAA,cAAU98B,IAAV,MAAoB88B,UAAU98B,IAAV,GAAiBC,MAAjB,EAApB;AACA,WAAO+uH,eAAP;AACH,CAVM;;AAYP,IAAMC,gBAAgB,SAAhBA,aAAgB,CAAC36G,IAAD,EAAOC,KAAP,EAAiB;AACnC,QAAM26G,UAAU,EAAhB;AACAA,YAAQx9H,GAAR,GAAc,KAAd;AACAw9H,YAAQt9H,MAAR,GAAiB,KAAjB;AACA,QAAI0iB,KAAKrlD,MAAL,GAAc,CAAd,IAAmBslD,MAAMtlD,MAAN,GAAe,CAAtC,EAAyC;AACrCigK,gBAAQx9H,GAAR,GAAc,IAAd;AACAw9H,gBAAQt9H,MAAR,GAAiB,IAAjB;AACH;AACD,WAAOs9H,OAAP;AACH,CATD;;AAWA,IAAMC,oBAAoB,SAApBA,iBAAoB,CAACz9H,GAAD,EAAME,MAAN,EAAiB;AACvC,QAAMs9H,UAAU,EAAhB;AACAA,YAAQ56G,IAAR,GAAe,KAAf;AACA46G,YAAQ36G,KAAR,GAAgB,KAAhB;AACA,QAAI7iB,IAAIziC,MAAJ,IAAc2iC,OAAO3iC,MAAzB,EAAiC;AAC7B,YAAKyiC,IAAI,CAAJ,KAAUA,IAAI,CAAJ,EAAOziC,MAAP,GAAgB,CAA3B,IAAkC2iC,OAAO,CAAP,KAAaA,OAAO,CAAP,EAAU3iC,MAAV,GAAmB,CAAtE,EAA0E;AACtEigK,oBAAQ56G,IAAR,GAAe,IAAf;AACA46G,oBAAQ36G,KAAR,GAAgB,IAAhB;AACH;AACJ;AACD,WAAO26G,OAAP;AACH,CAXD;;AAaA,IAAME,kBAAkB,SAAlBA,eAAkB,CAAChhK,IAAD,EAAOV,OAAP,EAAmB;AACvC,QAAMwhK,UAAU,EAAEx9H,KAAK,IAAP,EAAa4iB,MAAM,IAAnB,EAAyB1iB,QAAQ,IAAjC,EAAuC2iB,OAAO,IAA9C,EAAhB;AACA,QAAM86G,gBAAgB,CAAC56H,qDAAD,EAAOC,sDAAP,CAAtB;AACA,QAAM46H,gBAAgB,CAAC96H,oDAAD,EAAMG,uDAAN,CAAtB;AACAvmC,SAAKE,OAAL,CAAa,UAAC8J,CAAD,EAAI5N,CAAJ,EAAU;AACnB,YAAI4N,EAAE,CAAF,KAAQA,EAAE,CAAF,EAAKnJ,MAAjB,EAAyB;AACrBigK,oBAAQG,cAAc7kK,CAAd,CAAR,IAA4B,IAA5B;AACH,SAFD,MAEO;AACH0kK,oBAAQG,cAAc7kK,CAAd,CAAR,IAA4B,KAA5B;AACH;AACJ,KAND;AAOAkD,YAAQY,OAAR,CAAgB,UAAC8J,CAAD,EAAI5N,CAAJ,EAAU;AACtB,YAAI4N,EAAEnJ,MAAN,EAAc;AACVigK,oBAAQI,cAAc9kK,CAAd,CAAR,IAA4B,IAA5B;AACH,SAFD,MAEO;AACH0kK,oBAAQI,cAAc9kK,CAAd,CAAR,IAA4B,KAA5B;AACH;AACJ,KAND;;AAQA,WAAO0kK,OAAP;AACH,CApBD;;AAsBO,IAAMK,aAAa,SAAbA,UAAa,CAAC15H,QAAD,EAAWsyH,OAAX,EAAuB;AAC7C,QAAItpH,iBAAiB,EAAEnN,KAAK,KAAP,EAAcE,QAAQ,KAAtB,EAArB;AACA,QAAIkN,iBAAiB,EAAEwV,MAAM,KAAR,EAAeC,OAAO,KAAtB,EAArB;AACA,QAAIxV,mBAAmB,EAAErN,KAAK,KAAP,EAAcE,QAAQ,KAAtB,EAA6B0iB,MAAM,KAAnC,EAA0CC,OAAO,KAAjD,EAAvB;AAH6C,QAKzCnmD,IALyC,GAQzCynC,QARyC,CAKzCznC,IALyC;AAAA,QAMzCV,OANyC,GAQzCmoC,QARyC,CAMzCnoC,OANyC;AAAA,QAOjCouC,WAPiC,GAQzCjG,QARyC,CAOzCnqB,MAPyC;;AAAA,+BASftd,IATe;AAAA,QAStCytC,QATsC;AAAA,QAS5BE,SAT4B;;AAAA,kCAUTruC,OAVS;AAAA,QAUtCiuC,UAVsC;AAAA,QAU1BM,aAV0B;;AAAA,6BAkBzCksH,QAAQlL,SAAR,EAlByC;AAAA,QAYzC8G,aAZyC,sBAYzCA,aAZyC;AAAA,QAazCI,gBAbyC,sBAazCA,gBAbyC;AAAA,QAczCF,iBAdyC,sBAczCA,iBAdyC;AAAA,QAezCG,oBAfyC,sBAezCA,oBAfyC;AAAA,QAgBzC3+G,cAhByC,sBAgBzCA,cAhByC;AAAA,QAiBzCu+G,WAjByC,sBAiBzCA,WAjByC;;AAmB7C,QAAMwL,qBAAqBzL,cAAc90J,MAAd,GAAuBk1J,iBAAiBl1J,MAAnE;AACA,QAAMwgK,oBAAoBzL,YAAY/0J,MAAZ,GAAqBw2C,eAAex2C,MAA9D;AACA,QAAMygK,0BAA0BzL,kBAAkBh1J,MAAlB,GAA2Bm1J,qBAAqBn1J,MAAhF;;AAEA,QAAIk5J,QAAQ9xJ,WAAR,CAAoB2D,IAApB,OAA+BurJ,sDAAnC,EAA0C;AACtC,YAAI,CAACiK,kBAAL,EAAyB;AACrB,mBAAO,EAAE3wH,8BAAF,EAAkBC,8BAAlB,EAAkCC,kCAAlC,EAAP;AACH;AACJ,KAJD,MAIO,IAAI,CAAC0wH,iBAAD,IAAsB,CAACC,uBAAvB,IAAkDF,sBAAsB,CAA5E,EAA+E;AAClF,eAAO,EAAE3wH,8BAAF,EAAkBC,8BAAlB,EAAkCC,kCAAlC,EAAP;AACH;;AAEDF,qBAAiBowH,cAAcpzH,QAAd,EAAwBE,SAAxB,CAAjB;AACA+C,qBAAiBqwH,kBAAkBxzH,UAAlB,EAA8BM,aAA9B,CAAjB;AACA8C,uBAAmBqwH,gBAAgB,CAACvzH,QAAD,EAAWE,SAAX,CAAhB,EAAuC,CAACJ,UAAD,EAAaM,aAAb,CAAvC,CAAnB;;AAEA,QAAIH,YAAY7sC,MAAZ,GAAqB,CAAzB,EAA4B;AACxB8vC,yBAAiBrN,GAAjB,GAAuB,IAAvB;AACAqN,yBAAiBnN,MAAjB,GAA0B,IAA1B;AACH;AACD,QAAIkK,YAAY7sC,MAAZ,IAAsB6sC,YAAY,CAAZ,EAAe7sC,MAAf,GAAwB,CAAlD,EAAqD;AACjD8vC,yBAAiBuV,IAAjB,GAAwB,IAAxB;AACAvV,yBAAiBwV,KAAjB,GAAyB,IAAzB;AACH;AACD,WAAO,EAAE1V,8BAAF,EAAkBC,8BAAlB,EAAkCC,kCAAlC,EAAP;AACH,CA5CM;;AA8CA,IAAM+tH,8BAA8B,SAA9BA,2BAA8B,CAAC6C,mBAAD,EAAsB/zJ,YAAtB,EAAuC;AAAA;;AAC9E,QAAInI,SAAS,EAAb;AACA,QAAMqvJ,cAAc6M,oBAAoB/hK,GAApB,CAAwB;AAAA,eAASwlF,KAAKjd,QAAL,IAAiB,EAA1B;AAAA,KAAxB,CAApB;AACA1iE,0CAAaA,MAAb,IAAqB,aAAG/D,MAAH,iCAAaozJ,YAAYl1J,GAAZ,CAAgB;AAAA,eAAO3C,OAAOygB,MAAP,CAAci6I,GAAd,EAAmB/3J,GAAnB,CAAuB;AAAA,mBAAK/C,EAAEmI,KAAP;AAAA,SAAvB,CAAP;AAAA,KAAhB,CAAb,EAArB;AACAS,aAASA,OAAOiZ,MAAP,CAAc;AAAA,eAAS9Q,aAAa5I,KAAb,KAAuB4I,aAAa5I,KAAb,EAAoB4Y,GAApB,CAAwB5R,IAAxB,KAAiC0F,oDAASA,CAACb,SAA3E;AAAA,KAAd,CAAT;AACA,WAAOpL,MAAP;AACH,CANM;;AAQA,IAAMs5J,gBAAgB,SAAhBA,aAAgB,CAAC5C,oBAAD,EAAuByF,WAAvB,EAAuC;AAAA;;AAChE,QAAMn8J,SAASxI,OAAOygB,MAAP,CAAcy+I,oBAAd,EAAoCv8J,GAApC,CAAwC,UAAC0E,GAAD,EAAS;AAAA;;AAC5D,YAAMu9J,eAAe,aAAGngK,MAAH,iCAAa4C,GAAb,EAArB;AACA,eAAO,aAAG5C,MAAH,iCAAamgK,aAAajiK,GAAb,CAAiB,UAACoF,KAAD,EAAW;AAC5C,gBAAIA,iBAAiB88J,kDAArB,EAA+B;AAC3B,uBAAO98J,MAAMs3D,UAAN,EAAP;AACH;AACD,mBAAOt3D,KAAP;AACH,SALmB,CAAb,EAAP;AAMH,KARc,CAAf;AASA,WAAO,aAAGtD,MAAH,iCAAa+D,MAAb,4BAAwBm8J,WAAxB,GAAP;AACH,CAXM,C;;;;;;;;;;;;ACjcP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;ACAA;;AAEA;;AAEA;;;;;;;AAOA,IAAMG,gBAAgB,SAAhBA,aAAgB,CAACC,OAAD;AAAA,QAAUC,OAAV,uEAAoB,EAApB;AAAA,WAA2B,CAACD,OAAD,EAAUC,OAAV,EAAmBriK,GAAnB,CAAuB;AAAA,eAAU6F,OAAO8E,MAAP,CAAc,UAACC,GAAD,EAAM3N,CAAN,EAAY;AACxG2N,+CAAUA,GAAV,sBAAkB3N,EAAEy/D,UAAF,EAAlB;AACA,mBAAO9xD,GAAP;AACH,SAHiF,EAG/E,EAH+E,CAAV;AAAA,KAAvB,CAA3B;AAAA,CAAtB;;AAKA;;;;;;;;AAQA,IAAM03J,0BAA0B,SAA1BA,uBAA0B,CAACjR,SAAD,EAAY9mJ,UAAZ,EAAwBk5E,WAAxB;AAAA,WAC5B4tE,UAAUh+I,MAAV,CAAiB;AAAA,eAAU9I,WAAW4T,KAAX,CAAiB,UAAC/Y,KAAD,EAAQmlF,CAAR;AAAA,mBAAc1kF,OAAOT,KAAP,EAAcxH,KAAd,KAAwB6lF,YAAY8G,CAAZ,CAAtC;AAAA,SAAjB,CAAV;AAAA,KAAjB,CAD4B;AAAA,CAAhC;;AAGA;;;;;;;AAOA,IAAMg4E,qBAAqB,SAArBA,kBAAqB,CAACC,QAAD,EAAWz1H,OAAX,EAA4C;AAAA,QAAxB8J,KAAwB,uEAAhB,CAAgB;AAAA,QAAb1+B,GAAa,uEAAP,EAAO;AAAA,QAE/Do4I,MAF+D,GAK/DxjH,OAL+D,CAE/DwjH,MAF+D;AAAA,QAG/D5yI,SAH+D,GAK/DovB,OAL+D,CAG/DpvB,SAH+D;AAAA,QAI/D0a,YAJ+D,GAK/D0U,OAL+D,CAI/D1U,YAJ+D;;AAOnE;;AACA,QAAIk4H,OAAO15G,QAAQ,CAAf,CAAJ,EAAuB;AACnB,YAAMzxC,QAAQmrJ,OAAO15G,KAAP,CAAd;AACAxe,qBAAa33B,OAAb,CAAqB,UAAC9C,KAAD,EAAW;AAC5B,gBAAM6kK,QAAQ9kJ,UAAUtK,MAAV,CAAiB;AAAA,uBAAUxN,OAAOT,KAAP,EAAcxH,KAAd,KAAwBA,KAAlC;AAAA,aAAjB,CAAd;AACA,gBAAM8kK,wBAAwBlR,0EAAqBA,CAACiR,KAAtB,EAA6BlS,OAAO15G,QAAQ,CAAf,CAA7B,CAA9B;AACA,gBAAM8rH,aAAa;AACfpS,8BADe;AAEf5yI,2BAAW8kJ,KAFI;AAGfpqI,8BAAcqqI;AAHC,aAAnB;;AAMAH,+BAAmBC,QAAnB,EAA6BG,UAA7B,EAAyC9rH,QAAQ,CAAjD,+BAAwD1+B,GAAxD,IAA6Dva,KAA7D;AACH,SAVD;AAWH,KAbD,MAaO;AACHy6B,qBAAa33B,OAAb,CAAqB,UAAC9C,KAAD,EAAW;AAC5B4kK,qBAAS5hK,IAAT,8BAAkBuX,GAAlB,IAAuBva,KAAvB;AACH,SAFD;AAGH;AACJ,CA1BD;;AA4BA;;;;;;AAMA,IAAMglK,cAAc,SAAdA,WAAc,CAACvR,SAAD,EAAY9B,WAAZ,EAA4B;AAAA,QAExCsT,oBAFwC,GAKxCtT,WALwC,CAExCsT,oBAFwC;AAAA,QAGxCnG,cAHwC,GAKxCnN,WALwC,CAGxCmN,cAHwC;AAAA,QAIxC+B,mBAJwC,GAKxClP,WALwC,CAIxCkP,mBAJwC;;;AAO5C,QAAI/B,eAAer7J,MAAf,GAAwB,CAA5B,EAA+B;AAC3B,eAAOq7J,eAAe18J,GAAf,CAAmB,UAAC8iK,aAAD,EAAmB;AAAA,iCACGX,cAAcW,aAAd,EAA6BD,oBAA7B,CADH;AAAA;AAAA,gBAClCE,cADkC;AAAA,gBAClBC,iBADkB;;AAEzC,mBAAO3R,UAAU/9I,OAAV,8BAAsByvJ,cAAtB,sBAAyCC,iBAAzC,sBAA+DvE,mBAA/D,GAAP;AACH,SAHM,CAAP;AAIH;AACD,WAAO,CAACpN,SAAD,CAAP;AACH,CAdD;;AAgBA;;;;;;AAMA,IAAM4R,eAAe,SAAfA,YAAe,CAACl2H,OAAD,EAAU58B,QAAV,EAAuB;AAAA;;AACxC,QAAIkgC,QAAQ,EAAZ;AADwC,QAGpChI,MAHoC,GAOpC0E,OAPoC,CAGpC1E,MAHoC;AAAA,QAIpCgpH,SAJoC,GAOpCtkH,OAPoC,CAIpCskH,SAJoC;AAAA,QAKpC6R,SALoC,GAOpCn2H,OAPoC,CAKpCm2H,SALoC;AAAA,QAMpC7T,SANoC,GAOpCtiH,OAPoC,CAMpCsiH,SANoC;AAQxC;;AARwC,QAUpCqN,cAVoC,GAapCrN,SAboC,CAUpCqN,cAVoC;AAAA,QAWpCC,cAXoC,GAapCtN,SAboC,CAWpCsN,cAXoC;AAAA,QAYpC8B,mBAZoC,GAapCpP,SAboC,CAYpCoP,mBAZoC;AAAA,QAepCluH,QAfoC,GAiBpC2yH,SAjBoC,CAepC3yH,QAfoC;AAAA,QAgBpCsF,WAhBoC,GAiBpCqtH,SAjBoC,CAgBpCrtH,WAhBoC;;AAkBxC,QAAMstH,UAAUzG,eAAgBnsH,QAAD,GAAamsH,eAAer7J,MAA3C,KAAsD,EAAtE;;AAEA;AACA;AACA,QAAIs7J,eAAet7J,MAAf,GAAwB,CAA5B,EAA+B;AAC3BgvC,gBAAQssH,eAAe38J,GAAf,CAAmB,UAAC8iK,aAAD,EAAgBM,OAAhB,EAA4B;AAAA,kCACJjB,cAAcW,aAAd,EAA6BK,OAA7B,CADI;AAAA;AAAA,gBAC5CH,iBAD4C;AAAA,gBACzBK,iBADyB;;AAEnD,gBAAMC,cAAcjS,UAAU/9I,OAAV,8BAAsB0vJ,iBAAtB,sBAA4CK,iBAA5C,sBAAkE5E,mBAAlE,GAApB;AACA,gBAAMlP,cAAc,EAAEC,WAAW2T,OAAb,EAAsB1T,cAAcqT,aAApC,EAApB;AACA,gBAAMtyF,UAAU,EAAEjgC,kBAAF,EAAYsF,aAAaA,cAAc8mH,eAAet7J,MAA7B,GAAsC+hK,OAA/D,EAAhB;;AAEA,mBAAOjzJ,SAASmzJ,WAAT,EAAsB,EAAE/T,wBAAF,EAAe/+E,gBAAf,EAAtB,EAAgD0yF,SAAhD,CAAP;AACH,SAPO,CAAR;AAQH,KATD,MASO;AACH,YAAM3T,cAAc,EAAEC,WAAW2T,OAAb,EAAsB1T,cAAc,EAApC,EAApB;AACA,YAAMj/E,UAAU,EAAEjgC,kBAAF,EAAYsF,wBAAZ,EAAhB;;AAEAxF,gBAAQ,CAAClgC,SAASkhJ,SAAT,EAAoB,EAAE9B,wBAAF,EAAe/+E,gBAAf,EAApB,EAA8C0yF,SAA9C,CAAD,CAAR;AACH;;AAED76H,WAAOkI,QAAP,IAAmBlI,OAAOkI,QAAP,KAAoB,EAAvC;AACA,+BAAOA,QAAP,GAAiB3vC,IAAjB,4CAAyByvC,KAAzB;AACH,CAxCD;;AA0CA;;;;;;;;;AASO,IAAMmvH,iBAAiB,SAAjBA,cAAiB,CAAC7hJ,SAAD,EAAY0xI,SAAZ,EAAuBl/I,QAAvB,EAAoC;AAC9D,QAAIozJ,gBAAgB,EAApB;AACA,QAAM3G,UAAU,EAAhB;AACA,QAAMC,aAAa,EAAnB;AACA,QAAMgG,uBAAuB,EAA7B;AACA,QAAMx6H,SAAS,EAAf;AACA,QAAM66H,YAAY,EAAlB;AAN8D,QAQ1D5kB,SAR0D,GAW1D+Q,SAX0D,CAQ1D/Q,SAR0D;AAAA,QAS1DC,SAT0D,GAW1D8Q,SAX0D,CAS1D9Q,SAT0D;AAAA,QAU1Doe,cAV0D,GAW1DtN,SAX0D,CAU1DsN,cAV0D;;;AAa9DA,mBAAej8J,OAAf,CAAuB,UAAC8iK,OAAD,EAAa;AAChCX,6BAAqBjiK,IAArB,gDAA6B4iK,OAA7B;AACH,KAFD;AAGAnU,cAAUwT,oBAAV,GAAiCA,oBAAjC;;AAEA;AACA,QAAIvkB,UAAUj9I,MAAV,GAAmB,CAAvB,EAA0B;AACtB;AACA,YAAM+D,QAAQk5I,UAAU,CAAV,EAAahsH,QAAb,EAAd;AACA,YAAMmxI,oBAAoBjS,0EAAqBA,CAAC7zI,SAAtB,EAAiCvY,KAAjC,CAA1B;;AAEA;AACAm9J,2BAAmB3F,OAAnB,EAA4B,EAAErM,QAAQjS,SAAV,EAAqB3gI,oBAArB,EAAgC0a,cAAcorI,iBAA9C,EAA5B;;AAEA;AACA7G,gBAAQl8J,OAAR,CAAgB,UAACyX,GAAD,EAAS;AAAA;;AACrB;AADqB,kCAEQgqJ,cAAc7jB,SAAd,CAFR;AAAA;AAAA,gBAEdolB,kBAFc;;AAGrB,gBAAMC,oBAAoBrB,wBAAwB3kJ,SAAxB,EAAmC+lJ,kBAAnC,EAAuDvrJ,GAAvD,CAA1B;;AAEA;AACA+qJ,sBAAUtiK,IAAV,CAAe,CAAC09I,SAAD,EAAYnmI,GAAZ,CAAf;AACA,6CAAcvX,IAAd,0CAAsBgiK,YAAYe,iBAAZ,EAA+BtU,SAA/B,CAAtB;AACH,SARD;AASH,KAlBD,MAkBO;AAAA;;AACH;AACA,0CAAczuJ,IAAd,2CAAsBgiK,YAAYjlJ,SAAZ,EAAuB0xI,SAAvB,CAAtB;AACH;;AAED;AACAkU,oBAAgBA,cAAcliK,MAAd,GAAuB,CAAvB,GAA2BkiK,aAA3B,GAA2C,CAAC,EAAD,CAA3D;;AAEA;AACA,QAAIhlB,UAAUl9I,MAAV,GAAmB,CAAvB,EAA0B;AACtB,YAAMuiK,gBAAgBrlB,UAAUv+I,GAAV,CAAc;AAAA,wBAAQ/C,CAAR;AAAA,SAAd,CAAtB;AACA;AACA,YAAMmI,SAAQw+J,cAAc,CAAd,CAAd;AACA,YAAMC,uBAAuBrS,0EAAqBA,CAAC7zI,SAAtB,EAAiCvY,MAAjC,CAA7B;;AAEA;AACAm9J,2BAAmB1F,UAAnB,EAA+B;AAC3BtM,oBAAQqT,aADmB;AAE3BjmJ,gCAF2B;AAG3B0a,0BAAcwrI;AAHa,SAA/B;;AAMA;AACAN,sBAAc7iK,OAAd,CAAsB,UAACojK,GAAD,EAAMC,MAAN,EAAiB;AACnCb,sBAAUa,MAAV,IAAoBb,UAAUa,MAAV,KAAqB,CAAC,EAAD,EAAK,EAAL,CAAzC;AACAlH,uBAAWn8J,OAAX,CAAmB,UAACyX,GAAD,EAAM6rJ,MAAN,EAAiB;AAChC37H,uBAAO07H,MAAP,IAAiB17H,OAAO07H,MAAP,KAAkB,EAAnC;;AAEA;AACA,oBAAM1S,YAAYyS,eAAel7J,oDAAf,GAA2Bk7J,GAA3B,GAAiCnmJ,SAAnD;;AAEA;AACA,oBAAMgmJ,oBAAoBrB,wBAAwBjR,SAAxB,EAAmCuS,aAAnC,EAAkDzrJ,GAAlD,CAA1B;AACA,oBAAM40B,UAAU;AACZ1E,kCADY;AAEZgpH,+BAAWsS,iBAFC;AAGZT,+BAAW;AACP5kB,mCAAW4kB,UAAUa,MAAV,CADJ;AAEPxlB,mCAAW,CAACA,SAAD,EAAYpmI,GAAZ,CAFJ;AAGPo4B,kCAAUwzH,MAHH;AAIPluH,qCAAamuH;AAJN,qBAHC;AASZ3U;AATY,iBAAhB;AAWA4T,6BAAal2H,OAAb,EAAsB58B,QAAtB;AACH,aApBD;AAqBH,SAvBD;AAwBH,KAtCD,MAsCO;AACH;AACAozJ,sBAAc7iK,OAAd,CAAsB,UAACojK,GAAD,EAAMC,MAAN,EAAiB;AACnCb,sBAAUa,MAAV,IAAoBb,UAAUa,MAAV,KAAqB,CAAC,EAAD,EAAK,EAAL,CAAzC;AACA,gBAAMh3H,UAAU;AACZ1E,8BADY;AAEZgpH,2BAAWyS,OAAOnmJ,SAFN;AAGZulJ,2BAAW;AACP5kB,+BAAW4kB,UAAUa,MAAV,CADJ;AAEPxlB,+BAAW,CAAC,EAAD,EAAK,EAAL,CAFJ;AAGPhuG,8BAAUwzH,MAHH;AAIPluH,iCAAa;AAJN,iBAHC;AASZw5G;AATY,aAAhB;;AAYA4T,yBAAal2H,OAAb,EAAsB58B,QAAtB;AACH,SAfD;AAgBH;;AAED;AACA,QAAM8zJ,oBAAoBpH,WAAWx7J,MAAX,GAAoB,CAApB,GAAwBw7J,WAAW,CAAX,EAAc78J,GAAd,CAAkB,UAAC8uC,GAAD,EAAMlyC,CAAN;AAAA,eACpDigK,WAAW78J,GAAX,CAAe;AAAA,mBAAOM,IAAI1D,CAAJ,CAAP;AAAA,SAAf,CADoD;AAAA,KAAlB,CAAxB,GACuBigK,UADjD;;AAGA,WAAO,EAAEx0H,cAAF,EAAUu0H,gBAAV,EAAmBC,YAAYoH,iBAA/B,EAAP;AACH,CA7GM,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC7IP;AACA;AACA;AAMA;AAIA;AACA;;AAEA;;;;;;;IAMqBC,c;;AAEjB;;;;;AAKA,4BAAarkI,YAAb,EAA2B;AAAA;;AACvB,aAAKs7G,SAAL,GAAiB,EAAjB;AACA,aAAKgpB,YAAL,GAAoB,EAApB;AACA,aAAKC,aAAL,GAAqB,EAArB;AACA,aAAKp8H,aAAL,GAAqBnI,YAArB;AACA,aAAKyI,UAAL,GAAkB,EAAlB;AACA,aAAKC,aAAL,GAAqB,EAArB;AACA,aAAK87H,YAAL,GAAoB,EAApB;AACA,aAAKC,OAAL,GAAe,EAAEhmB,WAAW,EAAb,EAAiBC,WAAW,EAA5B,EAAf;AACA,aAAKgmB,YAAL,GAAoB,EAAE7H,gBAAgB,EAAlB,EAAsBC,gBAAgB,EAAtC,EAApB;AACA,aAAK6H,mBAAL,GAA2B,EAA3B;AACA,aAAKC,MAAL,GAAc,EAAd;AACA,aAAKC,UAAL,GAAkB,EAAlB;AACA,aAAKtX,KAAL,GAAa;AACT1jI,eAAG,EADM;AAET+J,eAAG,EAFM;AAGTmd,mBAAO,EAHE;AAIT63B,kBAAM,EAJG;AAKT6K,mBAAO;AALE,SAAb;AAOAp5B,gFAAqBA,CAAC,IAAtB,EAA4ByqH,8DAA5B;AACA,aAAK7Q,SAAL,CAAe8L,wEAAmBA,EAAlC;AACH;;AAED;;;;;;;;;;;mCAO2B;AAAA;;AACvB,gBAAI,UAAav+J,MAAjB,EAAyB;AACrBhE,uBAAOwtB,OAAP,mDAAgCnqB,OAAhC,CAAwC,UAACyX,GAAD,EAAS;AAC7C,0BAAKgjI,SAAL,CAAehjI,IAAI,CAAJ,CAAf,IAAyBA,IAAI,CAAJ,CAAzB;AACH,iBAFD;AAGA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKgjI,SAAZ;AACH;;AAED;;;;;;;;;;oCAOoB;AAAA;;AAAA,8CAANd,IAAM;AAANA,oBAAM;AAAA;;AAChB,gBAAIA,KAAKh5I,MAAT,EAAiB;AACb,iBAAC63J,qDAAD,EAAOC,uDAAP,EAAeC,uDAAf,EAAuBC,4DAAvB,EAAoCC,2DAApC,EAAgD54J,OAAhD,CAAwD,UAAC8J,CAAD,EAAO;AAC3D,2BAAKk6J,UAAL,CAAmBl6J,CAAnB,YAA6B6vI,KAAK,CAAL,EAAW7vI,CAAX,aAAsB,OAAKk6J,UAAL,CAAmBl6J,CAAnB,SAAnD;AACH,iBAFD;AAGA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKk6J,UAAZ;AACH;;AAED;;;;;;;;;;+BAOe;AACX,gBAAI,UAAKrjK,MAAT,EAAiB;AACb,qBAAK+rJ,KAAL,GAAa/vJ,OAAO4H,MAAP,CAAc,EAAd,EAAkB,KAAKmoJ,KAAvB,mDAAb;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,KAAZ;AACH;;AAED;;;;;;;;;;iCAOmB;AAAA;;AACf,gBAAI,UAAO/rJ,MAAX,EAAmB;AACfhE,uBAAOwtB,OAAP,mDAA0BnqB,OAA1B,CAAkC,UAAC8J,CAAD,EAAO;AACrC,2BAAK85J,OAAL,CAAa95J,EAAE,CAAF,CAAb,IAAqBA,EAAE,CAAF,CAArB;AACH,iBAFD;AAGA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAK85J,OAAZ;AACH;;AAED;;;;;;;;;;sCAO6B;AAAA;;AACzB,gBAAI,UAAYjjK,MAAhB,EAAwB;AACpBhE,uBAAOwtB,OAAP,mDAA+BnqB,OAA/B,CAAuC,UAAC8J,CAAD,EAAO;AAC1C,2BAAK+5J,YAAL,CAAkB/5J,EAAE,CAAF,CAAlB,IAA0BA,EAAE,CAAF,CAA1B;AACH,iBAFD;AAGA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAK+5J,YAAZ;AACH;;AAED;;;;;;;;;;;4CAQqBh5J,M,EAAQsmJ,W,EAAa;AACtC,gBAAM2M,iBAAiB,EAAvB;AACA,gBAAMC,sBAAsB,EAA5B;AACA,gBAAMmG,qBAAqB,CAAChvG,qDAAD,EAAO7vB,sDAAP,EAAc4vB,sDAAd,CAA3B;;AAEAivG,+BAAmBlkK,OAAnB,CAA2B,UAAC0L,IAAD,EAAU;AACjC,oBAAIb,OAAOa,IAAP,KAAgBb,OAAOa,IAAP,EAAahH,KAAjC,EAAwC;AACpC,wBAAM2yJ,MAAMxsJ,OAAOa,IAAP,CAAZ;AACAoyJ,mCAAepyJ,IAAf,IAAuB2rJ,IAAI3yJ,KAA3B;AACAq5J,wCAAoB79J,IAApB,CAAyBm3J,IAAI3yJ,KAA7B;AACH;AACJ,aAND;;AAQA,gBAAImG,OAAO60I,uDAAP,CAAJ,EAAoB;AAChBqe,oCAAoB79J,IAApB,+CAA4B2K,OAAOipG,MAAnC;AACH;;AAED,gBAAIq9C,YAAYxwJ,MAAhB,EAAwB;AACpBwwJ,4BAAYnxJ,OAAZ,CAAoB,UAACypE,KAAD,EAAW;AAC3B,wBAAIA,MAAM5B,QAAV,EAAoB;AAChBlrE,+BAAOygB,MAAP,CAAcqsD,MAAM5B,QAApB,EAA8B7nE,OAA9B,CAAsC,UAACq3J,GAAD,EAAS;AAC3C,gCAAIA,OAAO0G,oBAAoB3zJ,OAApB,CAA4BitJ,IAAI3yJ,KAAhC,MAA2C,CAAC,CAAvD,EAA0D;AACtDq5J,oDAAoB79J,IAApB,CAAyBm3J,IAAI3yJ,KAAJ,GAAY2yJ,IAAI3yJ,KAAhB,GAAwB2yJ,GAAjD;AACH;AACJ,yBAJD;AAKH;AACJ,iBARD;AASH;AACD,iBAAKxI,WAAL,CAAiB,EAAEkP,wCAAF,EAAjB;AACA,mBAAOD,cAAP;AACH;;AAED;;;;;;;;;;uCAOgBh+J,I,EAAM+5J,O,EAAS;AAC3B,gBAAI/5J,IAAJ,EAAU;AACN,qBAAKqkK,eAAL,GAAuB7D,4EAAuBA,CAAC,IAAxB,EAA8B,EAAE50J,MAAMu6B,oDAAR,EAAa9gC,QAAQrF,IAArB,EAA9B,EAA2D+5J,OAA3D,CAAvB;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKsK,eAAZ;AACH;;AAED;;;;;;;;;;qCAOc/kK,O,EAASy6J,O,EAAS;AAC5B,gBAAIz6J,OAAJ,EAAa;AACT,qBAAKglK,aAAL,GAAqB9D,4EAAuBA,CAAC,IAAxB,EAA8B,EAAE50J,MAAM6kJ,oDAAR,EAAaprJ,QAAQ/F,OAArB,EAA9B,EAA8Dy6J,OAA9D,CAArB;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKuK,aAAZ;AACH;;AAED;;;;;;;;;;;mCAQYlzH,I,EAAM;AACd,gBAAM03B,WAAW,KAAKA,QAAL,EAAjB;;AAEAjsE,mBAAOygB,MAAP,CAAcwrD,QAAd,EAAwB5oE,OAAxB,CAAgC,UAAC8J,CAAD,EAAO;AACnC,oBAAIA,EAAE/L,SAAF,YAAuBmzC,IAA3B,EAAiC;AAC7BA,2BAAOpnC,CAAP;AACH;AACJ,aAJD;AAKA,mBAAOonC,IAAP;AACH;;AAED;;;;;;;;;;;0CAQmB7E,O,EAAS;AACxB;AACA,iBAAKytH,YAAL,CAAkB,EAAlB;;AAEA,mBAAO,UAACnJ,SAAD,EAAYhC,SAAZ,EAAuBkB,MAAvB;AAAA,uBAAkC8J,sEAAgBA,CAACttH,OAAjB,EAA0BskH,SAA1B,EAAqChC,SAArC,EAAgDkB,MAAhD,CAAlC;AAAA,aAAP;AACH;;AAED;;;;;;;;;;gCAOSwU,U,EAAY50J,Q,EAAU;AAC3B,iBAAK40J,UAAL,IAAmBrkK,OAAnB,CAA2B,UAACJ,GAAD,EAAMyjK,MAAN,EAAiB;AACxCzjK,oBAAII,OAAJ,CAAY,UAACouC,GAAD,EAAMk1H,MAAN,EAAiB;AACzB7zJ,6BAAS4zJ,MAAT,EAAiBC,MAAjB,EAAyBl1H,GAAzB;AACH,iBAFD;AAGH,aAJD;AAKH;;AAED;;;;;;;;;uCAMgB;AACZ,gBAAMh6B,SAAS,KAAKy6I,WAAL,EAAf;;AAEAlyJ,mBAAOwtB,OAAP,CAAe,KAAK0lI,MAAL,EAAf,EAA8B7vJ,OAA9B,CAAsC,UAAC8J,CAAD,EAAO;AACzCsK,uBAAOtK,EAAE,CAAF,CAAP,IAAeA,EAAE,CAAF,CAAf;AACH,aAFD;AAGA,mBAAOsK,MAAP;AACH;;AAED;;;;;;;;0CAKmB;AACf,mBAAO,KAAKunD,IAAL,CAAU;AACb3yC,mBAAG,IAAI/T,GAAJ,EADU;AAEb8d,mBAAG,IAAI9d,GAAJ;AAFU,aAAV,CAAP;AAIH;;AAED;;;;;;;;;;oCAOa2oJ,iB,EAAmB/yJ,M,EAAQ;AAAA;;AAAA,gBAEhCgzJ,YAFgC,GAIhChzJ,MAJgC,CAEhCgzJ,YAFgC;AAAA,gBAGhC9kB,KAHgC,GAIhCluI,MAJgC,CAGhCkuI,KAHgC;AAAA,gBAMhCzxE,aANgC,GAQhCs2F,iBARgC,CAMhCt2F,aANgC;AAAA,gBAOhCg9F,kBAPgC,GAQhC1G,iBARgC,CAOhC0G,kBAPgC;;AAAA,gCAYhC,KAAKnlI,YAAL,EAZgC;AAAA,gBAUpBglG,UAVoB,iBAUhC9lF,UAVgC;AAAA,gBAWhCo9F,gBAXgC,iBAWhCA,gBAXgC;AAapC;;;AACA,gBAAMrB,QAAQ,CAAC,EAAD,CAAd;AACA;AACA,gBAAMmlB,aAAaD,sEAAiBA,CAACzB,gBAAgB,EAAlC,CAAnB;;AAEA,iBAAK79J,OAAL,CAAag5J,6DAAb,EAA2B,UAAC98J,CAAD,EAAI8E,CAAJ,EAAO20E,EAAP,EAAc;AACrC,oBAAIx+D,OAAOw+D,GAAG9nD,MAAH,EAAX;AACA,oBAAI,CAAC1W,IAAL,EAAW;AACP,wBAAMyY,QAAQ,OAAKA,KAAL,EAAd;AACA,wBAAMq5C,iBAAe/sE,CAAf,GAAmB8E,CAAzB;;AAEA,qBAAC,CAAC,GAAD,EAAM,CAAN,CAAD,EAAW,CAAC,GAAD,EAAM,CAAN,CAAX,EAAqB,CAAC,GAAD,EAAM,CAAN,CAArB,EAA+B,CAAC,GAAD,EAAM,CAAN,CAA/B,EAAyChB,OAAzC,CAAiD,UAACukK,OAAD,EAAa;AAC1D30I,8BAAM4N,MAAN,CAAgBurC,2DAAgBA,CAACqrE,sBAAjC,gBAAkEmwB,QAAQ,CAAR,CAAlE,2BACQroK,CADR,GACY8E,CADZ,GACgBujK,QAAQ,CAAR,CADhB,EAC+B,IAD/B;AAGH,qBAJD;;AAMAptJ,2BAAOsuI,gEAAUA,CAACloJ,MAAX,CAAkB;AACrB+pE,oDADqB;AAErBg9F;AAFqB,qBAAlB,EAGJ;AACCngC,8CADD;AAECsX;AAFD,qBAHI,CAAP;AAOAtkI,yBAAKwxD,OAAL,CAAa;AACT94B,kCAAU3zC,CADD;AAETi1C,kCAAUnwC,CAFD;AAGTioE;AAHS,qBAAb;AAKA9xD,yBAAKyY,KAAL,CAAWA,KAAX;AACA+lD,uBAAG9nD,MAAH,CAAU1W,IAAV;AACH;AACD,iBAACijI,MAAMl+I,CAAN,CAAD,KAAck+I,MAAMl+I,CAAN,IAAW,EAAzB;AACAk+I,sBAAMl+I,CAAN,EAAS8E,CAAT,IAAcmW,IAAd;AACAA,qBAAKqnI,WAAL,CAAiBzF,KAAjB;AACApjE,mBAAG9qE,MAAH,CAAU00J,UAAV;AACH,aA/BD;;AAiCA9jB,6BAAiBG,MAAjB,CAAwB,EAAE5F,QAAQoE,KAAV,EAAiB15H,QAAQskI,4DAAzB,EAAsCvsF,YAAYogG,qDAAlD,EAAxB;AACA,mBAAO,KAAKze,KAAL,CAAWA,KAAX,CAAP;AACH;;AAED;;;;;;;;;mCAMYvvI,M,EAAQ8lJ,S,EAAWmL,Q,EAAU;AAAA,gBAEjC5rH,KAFiC,GAMjCrlC,MANiC,CAEjCqlC,KAFiC;AAAA,gBAGjC0iC,KAHiC,GAMjC/nE,MANiC,CAGjC+nE,KAHiC;AAAA,gBAIjC7K,IAJiC,GAMjCl9D,MANiC,CAIjCk9D,IAJiC;AAAA,gBAKjC81F,YALiC,GAMjChzJ,MANiC,CAKjCgzJ,YALiC;;AAOrC,gBAAMnzJ,UAAUmzJ,aAAa3X,WAA7B;;AAPqC,gCAWjC,KAAKh9I,YAAL,EAXiC;AAAA,gBASjC00I,SATiC,iBASjCA,SATiC;AAAA,gBAUjCC,SAViC,iBAUjCA,SAViC;;AAYrC,gBAAMh2E,WAAW;AACb33B,4BADa;AAEb0iC,4BAFa;AAGb7K;AAHa,aAAjB;AAKA,gBAAMg2E,2CAAkBH,UAAUt+I,GAAV,CAAc;AAAA,uBAAKwK,EAAE8nB,QAAF,EAAL;AAAA,aAAd,CAAlB,sBAAuDisH,UAAUv+I,GAAV,CAAc;AAAA,uBAAKwK,EAAE8nB,QAAF,EAAL;AAAA,aAAd,CAAvD,EAAN;AACA,gBAAM4yI,aAAa;AACfv6B,yBAAS6xB,SAASO,aAAT,CAAuBoI,sBAAvB,CAA8C9T,SAA9C,EAAyD9oF,QAAzD,EAAmEk2E,WAAnE,EAAgFrzI,OAAhF,CADM;AAEfixD,sBAAM,KAAKA,IAAL,EAFS;AAGfkM;AAHe,aAAnB;AAKAi0F,qBAAS4I,cAAT,CAAwBC,eAAxB,CAAwCH,UAAxC;AACA,mBAAO,IAAP;AACH;;;oDAE4B;AACzB,iBAAKZ,OAAL,GAAe,EAAf;AACA,iBAAKC,YAAL,GAAoB,EAApB;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;yCAMkB;AAAA,yBAKV,KAAKloG,IAAL,EALU;AAAA,gBAEVzrB,KAFU,UAEVA,KAFU;AAAA,gBAGV0iC,KAHU,UAGVA,KAHU;AAAA,gBAIV7K,IAJU,UAIVA,IAJU;;AAOd,mBAAO;AACH73B,oDAAWA,KAAX,EADG;AAEH0iC,oDAAWA,KAAX,EAFG;AAGH7K,mDAAUA,IAAV;AAHG,aAAP;AAKH;;AAED;;;;;;;;;;sCAOer8D,I,EAAM;AACjB,mBAAO,KAAKiwD,IAAL,QAAejwD,IAAf,CAAP;AACH;;AAED;;;;;;;;;;0CAOmB4B,Y,EAAczC,M,EAAQixJ,Q,EAAU;AAAA;;AAC/C,gBAAM3K,cAAc,KAAKA,WAAL,EAApB;AACA,iBAAK4M,mBAAL,CAAyBlzJ,MAAzB,EAAiCsmJ,WAAjC;AACA,gBAAMyT,cAAc9I,SAAS4I,cAAT,CAAwB7gH,UAAxB,CAAmC;AACnDv2C,0CADmD;AAEnDzC,8BAFmD;AAGnD8wD,sBAAM,KAAKA,IAAL;AAH6C,aAAnC,CAApB;;AAH+C,iCAU3C,KAAKx8B,YAAL,EAV2C;AAAA,gBAS3Cs8G,gBAT2C,kBAS3CA,gBAT2C;;AAY/C,aAACp2G,sDAAD,EAAQ4vB,sDAAR,EAAeC,qDAAf,EAAqBl1D,OAArB,CAA6B,UAAC8J,CAAD,EAAO;AAChC,uBAAK6xD,IAAL,GAAY7xD,CAAZ,IAAiB86J,YAAY96J,CAAZ,CAAjB;AACH,aAFD;;AAIA2xI,6BAAiBG,MAAjB,CAAwB,EAAE5F,QAAQ,KAAKr6E,IAAL,EAAV,EAAuBj7C,QAAQskI,4DAA/B,EAA4CvsF,YAAYiyF,qDAAxD,EAAxB;AACAjP,6BAAiBG,MAAjB,CAAwB,EAAE5F,QAAQ,KAAKoE,KAAL,EAAV,EAAwB15H,QAAQq4I,8DAAhC,EAA+CtgG,YAAYogG,qDAA3D,EAAxB;;AAEA,gBAAMze,QAAQ,EAAd;AACA,gBAAM0f,eAAe,KAAKA,YAAL,EAArB;;AAEA,iBAAK95J,OAAL,CAAag5J,6DAAb,EAA2B,UAAC98J,CAAD,EAAI8E,CAAJ,EAAO20E,EAAP,EAAc;AACrCA,mBAAGha,IAAH,CAAQipG,WAAR;AACAjvF,mBAAG9nD,MAAH,MAAe8nD,GAAG9nD,MAAH,GAAYg3I,aAAZ,CAA0Bh6J,MAA1B,CAAf;AACA8qE,mBAAGnO,QAAH,CAAYs0F,SAAS4I,cAAT,CAAwBrK,cAAxB,CAAuCxvJ,MAAvC,EAA+CivJ,aAAa59J,CAAb,EAAgB8E,CAAhB,CAA/C,CAAZ;AACA20E,mBAAGmvF,WAAH;;AAEA1qB,sBAAMl6I,IAAN,CAAWy1E,GAAG9nD,MAAH,EAAX;AACH,aAPD;;AASA4tH,6BAAiBG,MAAjB,CAAwB,EAAE5F,QAAQoE,KAAV,EAAiB15H,QAAQo4I,wDAAzB,EAAkCrgG,YAAYogG,qDAA9C,EAAxB;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;;sCAQekM,Y,EAAcl7J,U,EAAYgB,M,EAAQ;AAC7C,gBAAI6iC,aAAa,EAAjB;AACA,gBAAIE,cAAc,EAAlB;AAF6C,gBAIzC9tC,IAJyC,GAMzCilK,YANyC,CAIzCjlK,IAJyC;AAAA,gBAKzCV,OALyC,GAMzC2lK,YANyC,CAKzC3lK,OALyC;;AAAA,iCAUzC,KAAK+/B,YAAL,EAVyC;AAAA,gBAQ7Bkb,YAR6B,kBAQzCgE,UARyC;AAAA,gBASzCo9F,gBATyC,kBASzCA,gBATyC;;AAW7C,gBAAM6G,WAAW,KAAK2b,UAAL,CAAgB,KAAKr1F,QAAL,GAAgB05E,QAAhC,CAAjB;AACA,gBAAMuI,YAAY,KAAKoT,UAAL,CAAgB,KAAKr1F,QAAL,GAAgBiiF,SAAhC,CAAlB;;AAZ6C,uCAaf/qJ,IAbe;AAAA,gBAatCytC,QAbsC;AAAA,gBAa5BE,SAb4B;;AAAA,0CAcfruC,OAde;AAAA,gBActC4lK,OAdsC;AAAA,gBAc7BC,UAd6B;;AAe7C,gBAAMC,aAAar7J,WAAW/J,IAA9B;AACA,gBAAMqlK,mBAAmB,SAAnBA,gBAAmB;AAAA,uBAAQ,IAAIta,SAAJ,GAAgBhgJ,MAAhB,CAAuB,EAAE+kC,MAAMsB,KAAKrmC,MAAL,GAAc+kC,IAAtB,EAAvB,CAAR;AAAA,aAAzB;;AAEA;AACA;AACA,gBAAM/7B,UAAU;AACZmyC,sBAAM2+F,kEAAaA,CAACp3G,QAAd,EAAwB23H,WAAW,CAAX,CAAxB,EAAuCr6J,OAAO61I,WAAP,GAAqB4B,QAArB,GAAgCuI,SAAvE,EAAkFxwG,YAAlF,CADM;AAEZ4L,uBAAO0+F,kEAAaA,CAACl3G,SAAd,EAAyBy3H,WAAW,CAAX,CAAzB,EAAwCr6J,OAAO61I,WAAP,GAAqB4B,QAArB,GAAgCuI,SAAxE,EAAmFxwG,YAAnF;AAFK,aAAhB;AAIA,gBAAM+qH,UAAU;AACZp/G,sBAAMzY,SAAS5sC,MAAT,GAAkB,CAAlB,GAAsB4sC,SAAS,CAAT,EAAYjuC,GAAZ,CAAgB6lK,gBAAhB,CAAtB,GAA0D,EADpD;AAEZl/G,uBAAOxY,UAAU9sC,MAAV,GAAmB,CAAnB,GAAuB8sC,UAAU,CAAV,EAAanuC,GAAb,CAAiB6lK,gBAAjB,CAAvB,GAA4D;AAFvD,aAAhB;;AAxB6C,uBA4BjB,CAACh/H,qDAAD,EAAOC,sDAAP,EAAc9mC,GAAd,CAAkB;AAAA,uBAAQ0lK,QAAQ1lK,GAAR,CAAY,UAAC8uC,GAAD,EAAMlyC,CAAN,EAAY;AAC1E,wBAAIA,MAAM8oK,QAAQrkK,MAAR,GAAiB,CAA3B,EAA8B;AAC1B,+BAAOkT,QAAQnI,IAAR,CAAP;AACH;AACD,2BAAO05J,QAAQ15J,IAAR,CAAP;AACH,iBALqD,CAAR;AAAA,aAAlB,CA5BiB;AAAA;AAAA,gBA4BtC0hC,OA5BsC;AAAA,gBA4B7BE,QA5B6B;;AAmC7C;;;AACA,gBAAI03H,QAAQrkK,MAAR,KAAmB,CAAvB,EAA0B;AAAA,4BACM,CAACwlC,qDAAD,EAAOC,sDAAP,EAAc9mC,GAAd,CAAkB;AAAA,2BAAQ2lK,WAAW3lK,GAAX,CAAe,UAAC8uC,GAAD,EAAMlyC,CAAN,EAAY;AAC7E,4BAAIA,MAAM,CAAV,EAAa;AACT,mCAAO2X,QAAQnI,IAAR,CAAP;AACH;AACD,+BAAO05J,QAAQ15J,IAAR,CAAP;AACH,qBALqD,CAAR;AAAA,iBAAlB,CADN;;AAAA;;AACrBgiC,0BADqB;AACTE,2BADS;AAOzB,aAPD,MAOO;AACHF,6BAAau3H,WAAW3lK,GAAX,CAAe;AAAA,2BAAOiuC,SAAS5sC,MAAT,GAAkB,CAAlB,GAAsB4sC,SAAS,CAAT,EAAYjuC,GAAZ,CAAgB6lK,gBAAhB,CAAtB,GAA0D,EAAjE;AAAA,iBAAf,CAAb;AACAv3H,8BAAcq3H,WAAW3lK,GAAX,CAAe;AAAA,2BAAOmuC,UAAU9sC,MAAV,GAAmB,CAAnB,GAAuB8sC,UAAU,CAAV,EAAanuC,GAAb,CAAiB6lK,gBAAjB,CAAvB,GAA4D,EAAnE;AAAA,iBAAf,CAAd;AACH;;AAED1pB,6BAAiBG,MAAjB,CAAwB;AACpB5F,wBAAQ,CAAC5oG,OAAD,EAAUE,QAAV,EAAoBI,UAApB,EAAgCE,WAAhC,CADY;AAEpBltB,wBAAQskI,4DAFY;AAGpBvsF,4BAAYwgG,8DAAaA;AAHL,aAAxB;;AAMA,mBAAO,EAAE7rH,gBAAF,EAAWE,kBAAX,EAAqBI,sBAArB,EAAiCE,wBAAjC,EAAP;AACH;;AAED;;;;;;;;;;;;;oCAUa+iH,S,EAAW9lJ,M,EAAQ+yJ,iB,EAAmB9B,Q,EAAU;AACzD,gBAAMzvH,UAAU;AACZskH,oCADY;AAEZiN,oDAFY;AAGZ9B,kCAHY;AAIZthI,0BAAU;AAJE,aAAhB;;AAOA,mBAAOmjI,qEAAeA,CAACtxH,OAAhB,EAAyBxhC,MAAzB,CAAP;AACH;;;gCAEiB;AACd,gBAAI,UAAOlK,MAAX,EAAmB;AACf,qBAAKo6I,MAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,MAAZ;AACH;;;;;;AA9gBgByoB,6E;;;;;;;;;;;;ACrBrB;AAAA;AAAO,IAAMS,iBAAiB;AAC1B9kI,kBAAc,EADY;AAE1Bi7G,WAAO,EAFmB;AAG1B6f,wBAAoB,EAHM;AAI1B9I,iBAAa,EAJa;AAK1B2I,kBAAc,EALY;AAM1BoE,cAAU,EANgB;AAO1BC,cAAU,EAPgB;AAQ1Bj1H,eAAW,EARe;AAS1BC,kBAAc,EATY;AAU1BqE,iBAAa,EAVa;AAW1BqsH,aAAS;AAXiB,CAAvB,C;;;;;;;;;;;;ACAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;ACAA;;AAEA;;;;;IAIMhU,W;;;;;;;;;AAEF;;;;;;2BAOQ;AACJ,YAAM,IAAIhiJ,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;;;;;6BAQU;AACN,YAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;;;gCAMa;AACT,YAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;;;;kCAOe;AACX,YAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;;;;;AAGUksG,0EAAf,E;;;;;;;;;;;;;;;;;;;;;;ACrDA;;AAEA;;;;;;;;;;;IAUM2B,Y;;;AAEF;;;;;AAKA,4BAAuB;AAAA;;AAAA;;AAAA,0CAAP6d,KAAO;AAAPA,iBAAO;AAAA;;AAAA,2JACVA,KADU;;AAEnB,cAAK9d,IAAL,CAAU8d,KAAV;AAFmB;AAGtB;;;;+BAEgB;AACb,gBAAI,UAAO1kK,MAAX,EAAmB;AACf,qBAAK2kK,KAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,KAAZ;AACH;;;+BAEY;AAAA,+CAAJziJ,EAAI;AAAJA,kBAAI;AAAA;;AACT,gBAAIA,GAAGliB,MAAP,EAAe;AACX,qBAAK4mJ,IAAL,GAAYvnJ,OAAZ,CAAoB;AAAA,2BAAKzD,EAAE+G,IAAF,CAAOuf,GAAG,CAAH,CAAP,CAAL;AAAA,iBAApB;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAK+6D,KAAZ;AACH;;AAED;;;;;;;;;qCAMc;AACV,gBAAM2pE,OAAO,KAAKA,IAAL,EAAb;AACA,mBAAOA,KAAKjoJ,GAAL,CAAS;AAAA,uBAAUimK,OAAOvpG,UAAP,GAAoB,CAApB,CAAV;AAAA,aAAT,CAAP;AACH;;AAED;;;;;;;;+BAKQ;AACJ,mBAAO,KAAKurF,IAAL,GAAY,CAAZ,EAAe77I,IAAf,EAAP;AACH;;;mCAEW;AACR,mBAAO,KAAK67I,IAAL,GAAYjoJ,GAAZ,CAAgB;AAAA,uBAAK/C,EAAEq1B,QAAF,EAAL;AAAA,aAAhB,EAAmCnyB,IAAnC,CAAwC,GAAxC,CAAP;AACH;;AAED;;;;;;;;uCAKgB;AACZ,mBAAO,KAAK8nJ,IAAL,GAAY,CAAZ,EAAelwI,YAAf,EAAP;AACH;;;+BAEO+F,M,EAAQ;AACZ,mBAAO,KAAKmqI,IAAL,GAAY,CAAZ,EAAe3oJ,MAAf,CAAsBwe,MAAtB,CAAP;AACH;;AAED;;;;;;;;;kCAMW;AACP,mBAAO,KAAKmqI,IAAL,GAAY,CAAZ,EAAe/2I,OAAf,EAAP;AACH;;AAED;;;;;;;;;qCAMc;AACV,mBAAO,KAAK+2I,IAAL,GAAY,CAAZ,EAAe1vH,UAAf,EAAP;AACH;;;;EAnFsB2pI,iD;;AAsFZha,2EAAf,E;;;;;;;;;;;;AClGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;ACDA;AACA;;AAEA;;;;;;;;IAOqBC,c;;;AAEjB;;;;;AAKA,4BAAajnJ,IAAb,EAAmB;AAAA;;AAAA;;AAEf,cAAKglK,MAAL,CAAYhlK,IAAZ;AAFe;AAGlB;;AAED;;;;;;;;;;iCAMiB;AACb,gBAAI,UAAKG,MAAT,EAAiB;AACb,qBAAK8kK,OAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,OAAZ;AACH;;;+BAEY;AACT,gBAAI,UAAG9kK,MAAP,EAAe;AACX,qBAAKi9E,KAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,KAAZ;AACH;;;mCAEW;AACR,mBAAO,KAAK4nF,MAAL,EAAP;AACH;;AAED;;;;;;;;;uCAMgB;AACZ,gBAAI,KAAK95J,IAAL,OAAgB,SAApB,EAA+B;AAC3B,oBAAM1C,YAAY,KAAK1F,IAAL,GAAYsI,aAAZ,GAA4ByI,UAA5B,GAAyC,KAAKmxJ,MAAL,EAAzC,CAAlB;AACA,uBAAOx8J,UAAUqO,YAAV,EAAP;AACH,aAAC,OAAO;AAAA,uBAAOI,GAAP;AAAA,aAAP;AACL;;;+BAEO2F,M,EAAQ;AACZ,gBAAIA,UAAU,KAAK5M,OAAL,OAAmB,UAAjC,EAA6C;AACzC,oBAAMxH,YAAY,KAAK1F,IAAL,GAAYsI,aAAZ,GAA4B0I,YAA5B,GAA2C,KAAKkxJ,MAAL,EAA3C,EAA0D77J,MAA1D,GAAmE/K,MAArF;AACA,oBAAM8mK,WAAW,IAAIryJ,4DAAJ,CAAsBrK,SAAtB,CAAjB;AACAoU,yBAASA,OAAO9d,GAAP,CAAW;AAAA,2BAAKomK,SAASntJ,aAAT,CAAuBzO,CAAvB,CAAL;AAAA,iBAAX,CAAT;AACH;AACD,mBAAOsT,MAAP;AACH;;AAED;;;;;;;;;qCAMc;AACV,mBAAO,CAAC,KAAKooJ,MAAL,EAAD,CAAP;AACH;;AAED;;;;;;;;;+BAMQ;AACJ,gBAAMn2I,WAAW,KAAK/rB,IAAL,GAAYiK,eAAZ,GAA8B,KAAKi4J,MAAL,EAA9B,EAA6CloJ,GAA9D;AACA,mBAAO+R,SAAS3jB,IAAhB;AACH;;AAED;;;;;;;;;;kCAOW;AACP,gBAAM2jB,WAAW,KAAK/rB,IAAL,GAAYiK,eAAZ,GAA8B,KAAKi4J,MAAL,EAA9B,EAA6CloJ,GAA9D;AACA,mBAAO+R,SAAS7e,OAAT,IAAoB6e,SAAS3jB,IAApC;AACH;;AAED;;;;;;;;qCAKc;AACV,gBAAMi6J,aAAa,KAAKriK,IAAL,GAAYsI,aAAZ,EAAnB;AACA,mBAAO+5J,WAAW/4J,SAAX,GAAuB,KAAK44J,MAAL,EAAvB,EAAsCzsJ,4BAAtC,EAAP;AACH;;AAED;;;;;;;;+BAKQ6sJ,O,EAAS;AACb,mBAAO,KAAKJ,MAAL,OAAkBI,QAAQJ,MAAR,EAAzB;AACH;;;;EA9GuChE,iD;;AAAvB/Z,6E;;;;;;;;;;;;;;;;;;ACVrB;;AAEA;;;;;;;IAMqB+Z,Q;;;;;;;;;AAEjB;;;;;2BAKQ;AACJ,YAAM,IAAI39J,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;;+BAKY;AACR,YAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;;;;;AAlBgB6nH,uE;;;;;;;;;;;;ACRrB;AAAA;AAAA;AAAA;AAAA;;AAEO,IAAMqE,uBAAuB,SAAvBA,oBAAuB,CAACx5H,OAAD,EAAa;AAC7C,QAAMzc,QAAQyc,QAAQzc,KAAR,EAAd;;AAEAA,UAAMkwH,sBAAN,CAA6B,CAAI/2E,2DAAgBA,CAACqrE,sBAArB,eAA7B,EAAsF,YAAM;AACxF,YAAM6e,YAAY5mH,QAAQ7R,QAAR,GAAmBmhC,IAAnB,EAAlB;AACAs3F,kBAAUjqI,CAAV,CAAYhpB,OAAZ,CAAoB;AAAA,mBAAQ27D,KAAK37D,OAAL,CAAa,UAACu6C,IAAD,EAAU;AAC/CA,qBAAK9I,MAAL;AACH,aAF2B,CAAR;AAAA,SAApB;AAGH,KALD;;AAOA7hB,UAAMkwH,sBAAN,CAA6B,CAAI/2E,2DAAgBA,CAACqrE,sBAArB,eAA7B,EAAsF,YAAM;AACxF,YAAM6e,YAAY5mH,QAAQ7R,QAAR,GAAmBmhC,IAAnB,EAAlB;AACAs3F,kBAAUlgI,CAAV,CAAY/yB,OAAZ,CAAoB;AAAA,mBAAQ27D,KAAK37D,OAAL,CAAa,UAACu6C,IAAD,EAAU;AAC/CA,qBAAK9I,MAAL;AACH,aAF2B,CAAR;AAAA,SAApB;AAGH,KALD;AAMH,CAhBM;;AAkBA,IAAMq0H,+BAA+B,SAA/BA,4BAA+B,CAACz5H,OAAD,EAAa;AACrD,QAAMzc,QAAQyc,QAAQzc,KAAR,EAAd;AACAA,UAAMlgB,WAAN,CAAkB;AACdu5D,mBAAW,OADG;AAEdzrE,aAAK;AAFS,KAAlB;AAIAoyB,UAAMkwH,sBAAN,CAA6B,CAAI/2E,2DAAgBA,CAACkrE,qBAArB,aAA7B,EAAmF,YAAM;AACrF5nG,gBAAQ7R,QAAR,GAAmBq/H,OAAnB,GAA6BkM,gBAA7B,CAA8C15H,OAA9C;AACH,KAFD,EAEG,KAFH,EAEU;AACN48B,mBAAW,OADL;AAENzrE,aAAK;AAFC,KAFV;AAMH,CAZM,C;;;;;;;;;;;;;;;;;;;;;;;;;ACpBP;AACA;AACA;AACA;AACA;AACA;;AAEO,IAAMwoK,kBAAkB,SAAlBA,eAAkB,CAAC35H,OAAD,EAAa;AAAA,+BACNo5G,gEAAUA,CAACxF,QAAX,EADM;AAAA;AAAA,QACjCC,WADiC;AAAA,QACpBC,UADoB;;AAExC,QAAMvwH,QAAQyc,QAAQzc,KAAR,EAAd;AACAA,UAAM4N,MAAN,CAAaurC,2DAAgBA,CAACkrE,qBAA9B,EAAqDiM,WAArD,EACiB1iH,MADjB,CACwBurC,2DAAgBA,CAACC,oBADzC,EAC+Dm3E,UAD/D;AAEH,CALM;;AAOA,IAAM8lB,wBAAwB,SAAxBA,qBAAwB,CAAC55H,OAAD,EAAa;AAC9C,QAAM6zG,cAAc7zG,QAAQtkC,WAAR,CAAoBk4I,QAApB,GAA+B,CAA/B,CAApB;AACA,QAAMrwH,QAAQyc,QAAQzc,KAAR,EAAd;AACAA,UAAM4N,MAAN,CAAaurC,2DAAgBA,CAACqrE,sBAA9B,EAAsD8L,WAAtD;AACH,CAJM;;AAMP,IAAMgmB,wBAAwB,SAAxBA,qBAAwB,CAACC,WAAD,EAAiB;AAC3C,QAAMrhF,OAAO,EAAb;AACA,SAAK,IAAMtnF,GAAX,IAAkB2oK,WAAlB,EAA+B;AAC3B,YAAMC,YAAYD,YAAY3oK,GAAZ,CAAlB;AACA,YAAI,OAAO4oK,SAAP,KAAqB,QAArB,IAAiC,CAACA,SAAtC,EAAiD;AAC7CthF,iBAAKtnF,GAAL,IAAY;AACRkH,uBAAOyhK,YAAY3oK,GAAZ;AADC,aAAZ;AAGH,SAJD,MAIO;AACHsnF,iBAAKtnF,GAAL,IAAY4oK,SAAZ;AACH;AACJ;AACD,WAAOthF,IAAP;AACH,CAbD;;AAeO,IAAMuhF,qBAAqB,SAArBA,kBAAqB,CAACh6H,OAAD,EAAU3D,WAAV,EAA0B;AAAA,QAEpDtrB,MAFoD,GAKpDsrB,WALoD,CAEpDtrB,MAFoD;AAAA,QAGpDtd,IAHoD,GAKpD4oC,WALoD,CAGpD5oC,IAHoD;AAAA,QAIpDV,OAJoD,GAKpDspC,WALoD,CAIpDtpC,OAJoD;;AAMxDge,aAASA,UAAU,EAAnB;AACAtd,WAAOA,QAAQ,EAAf;AACAV,cAAUA,WAAW,EAArB;AACAitC,YAAQquG,YAAR,CAAqBnzG,QAArB,GAAgC;AAC5BrqC,eAAO,IAAIopK,qDAAJ,CAAgBlpJ,MAAhB,CADqB;AAE5B4oC,cAAM,IAAIsgH,qDAAJ,CAAgBxmK,KAAK,CAAL,CAAhB,CAFsB;AAG5BmmD,eAAO,IAAIqgH,qDAAJ,CAAgBxmK,KAAK,CAAL,CAAhB,CAHqB;AAI5BsjC,aAAK,IAAIkjI,qDAAJ,CAAgBlnK,QAAQ,CAAR,CAAhB,CAJuB;AAK5BkkC,gBAAQ,IAAIgjI,qDAAJ,CAAgBlnK,QAAQ,CAAR,CAAhB;AALoB,KAAhC;AAOA,WAAOitC,OAAP;AACH,CAjBM;;AAmBA,IAAMgzG,iBAAiB,SAAjBA,cAAiB,CAAChzG,OAAD,EAAa;AACvC,QAAMvsC,OAAOusC,QAAQvsC,IAAR,EAAb;AACA,QAAMV,UAAUitC,QAAQjtC,OAAR,EAAhB;AACA,QAAM8wC,QAAQ7D,QAAQ6D,KAAR,EAAd;AACA,QAAMygH,YAAYtkH,QAAQ/oC,IAAR,EAAlB;AACA,QAAMykE,OAAO17B,QAAQ07B,IAAR,EAAb;AACA,QAAM+rC,SAASznE,QAAQynE,MAAR,EAAf;AACA,QAAMvsC,SAASl7B,QAAQk7B,MAAR,EAAf;AACA,QAAMY,YAAY97B,QAAQ87B,SAAR,EAAlB;AACA,QAAMt9D,SAASwhC,QAAQxhC,MAAR,EAAf;AACA,QAAM+nE,QAAQvmC,QAAQumC,KAAR,EAAd;;AAEA;AACA,QAAMp4C,WAAW6R,QAAQ7R,QAAR,EAAjB;AACAA,aAAS5K,KAAT,CAAeyc,QAAQzc,KAAR,EAAf;AACA;AACA,QAAI22I,eAAe;AACf/3F,mBAAWniC,QAAQmiC,SAAR,EADI;AAEfuqE,eAAO1sG,QAAQ0sG,KAAR,EAFQ;AAGf8kB,sBAAchzJ,UAAU,EAHT;AAIf/K,kBAJe;AAKfV,wBALe;AAMf00G,sBANe;AAOfvsC,sBAPe;AAQfY;AARe,KAAnB;;AAWA,QAAMq+F,gBAAgBN,sBAAsB;AACxCh2H,oBADwC;AAExC0iC,oBAFwC;AAGxC7K;AAHwC,KAAtB,CAAtB;;AAMAw+F,mBAAe5pK,OAAO4H,MAAP,CAAcgiK,YAAd,EAA4BC,aAA5B,CAAf;AACA;AACA,QAAM1K,WAAW,EAAjB;AACAA,aAAS4I,cAAT,GAA0B,IAAIxN,uDAAJ,EAA1B;AACA4E,aAASO,aAAT,GAAyB2D,gEAAUA,CAACz4F,MAAX,CAAzB;AACA/sC,aAASq/H,OAAT,CAAiBiC,SAASO,aAA1B;;AAEA;AACAhwH,YAAQo6H,SAAR,CAAkB3K,SAASO,aAAT,CAAuBt0J,WAAvB,CAAmC2D,IAAnC,EAAlB;;AAEA;AACA,QAAMvG,SAAS22J,SAASO,aAAT,CAAuBqK,cAAvB,CAAsC/V,SAAtC,EAAiD4V,YAAjD,CAAf;AACAzK,aAASO,aAAT,CAAuBsK,iBAAvB,CAAyC97J,SAASA,OAAOqkJ,QAAhB,GAA2B,EAApE,EAAwE/pJ,MAAxE;AACA;AACAoiE,cAAU/sC,SAAS22H,WAAT,CAAqB5pF,MAArB,CAAV;AACA;AACA/sC,aAASu/H,cAAT,CAAwB50J,OAAOrF,IAA/B,EAAqCg8J,QAArC,EAA+C9B,YAA/C,CAA4D70J,OAAO/F,OAAnE,EAA4E08J,QAA5E;AACA;AACA,QAAMtb,kBAAkBhmH,SAASosI,WAAT,CAAqBjW,SAArB,EAAgC4V,YAAhC,EAA8Cl6H,QAAQu8B,QAAR,EAA9C,EAAkEkzF,QAAlE,CAAxB;AACAzvH,YAAQw6H,iBAAR,GAA4BrmB,gBAAgB9wE,UAAhB,CAA2BkhF,YAAvD;AACA;AACAvkH,YAAQmiC,SAAR,CAAkBgyE,gBAAgBhyE,SAAlC;;AAEA;AACAh0C,aAASssI,iBAAT,CAA2BtmB,gBAAgB9wE,UAAhB,CAA2BgnF,WAA3B,CAAuCnpJ,eAAvC,EAA3B,EAAqFi5J,aAArF,EACQ1K,QADR;;AAGA;AACAthI,aAASusI,UAAT,CAAoBR,YAApB,EAAkC/lB,gBAAgB9wE,UAAlD,EAA8DosF,QAA9D;;AAEA;AACAuK,uBAAmBh6H,OAAnB,EAA4Bm0G,eAA5B;;AAEA;AACAn0G,YAAQ+zG,cAAR,CAAuB5lH,SAASumH,aAAT,CAAuBP,eAAvB,EAAwCr7I,MAAxC,EAAgD0F,MAAhD,CAAvB;;AAEA;AACAwhC,YAAQm0G,eAAR,CAAwBA,eAAxB;;AAEAn0G,YAAQquG,YAAR,CAAqB/+E,IAArB,GAA4BnhC,SAASmhC,IAAT,EAA5B;AACAtvB,YAAQwnC,QAAR,CAAiB;AACbxqC,gBAAQ43H,gEAAUA,CAACzgB,eAAX,EAA4Bsb,SAASO,aAArC;AADK,KAAjB;;AAIA7hI,aAASq/H,OAAT,GAAmBkM,gBAAnB,CAAoC15H,OAApC;;AAEAy5H,yFAA4BA,CAACz5H,OAA7B;AACA,WAAOA,OAAP;AACH,CAjFM,C;;;;;;;;;;;;ACtDP;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;ACAA;;AAEA;;;;;;;;;;;;;;;;;;;;AAoBA,kIACK0lC,uDADL,EACc,EADd,0CAEKytE,qDAFL,EAEY,EAFZ,0CAGKC,wDAHL,EAGe,EAHf,0CAIKp6G,sDAJL,EAIa,EAJb,0CAKK4vB,sDALL,EAKa,EALb,0CAMKC,qDANL,EAMY,EANZ,0CAOKwqF,uDAPL,EAOc,EAPd,0CAQKiD,uDARL,EAQc,EARd,0CASKtwE,0DATL,EASiB,EATjB,0B;;;;;;;;;;;;;;;;;;;ACtBA;;AAEO,IAAM55B;AACTsgG,WAAO,EADE;AAETz1I,UAAM,EAFG;AAGT88I,oBAAgB;AACZhU,sBAAc;AACVh/F,qBAAS,EADC;AAEVE,sBAAU,EAFA;AAGVI,wBAAY,EAHF;AAIVE,yBAAa;AAJH;AADF,KAHP;AAWT64H,eAAW,EAXF;;AAaT5yF,cAAU;AACNu4D,sBAAc;AACV/iG,oBAAQ;AADE;AADR,KAbD;AAkBTm3G,qBAAiB;AACbpU,sBAAc;AADD,KAlBR;AAqBT5xG,cAAU,EArBD;AAsBTouC,cAAU;AACNlwB,sBAAc,sBAACrM,OAAD,EAAUnvC,KAAV,EAAoB;AAC9B,gBAAImvC,QAAQ7R,QAAZ,EAAsB;AAClB6R,wBAAQ7R,QAAR,GAAmBouC,QAAnB,CAA4B1rE,MAAMyoJ,YAAlC;AACH;AACD,mBAAOzoJ,KAAP;AACH;AANK,KAtBD;AA8BTsxE,eAAW;AA9BF,2BA+BRuD,uDA/BQ,EA+BC,EA/BD,2BAgCRytE,qDAhCQ,EAgCD,EAhCC,2BAiCRC,wDAjCQ,EAiCE,EAjCF,2BAkCRp6G,sDAlCQ,EAkCA,EAlCA,2BAmCR4vB,sDAnCQ,EAmCA,EAnCA,2BAoCRC,qDApCQ,EAoCD,EApCC,2BAqCRwqF,uDArCQ,EAqCC,EArCD,2BAsCRiD,uDAtCQ,EAsCC,EAtCD,2BAuCRtwE,0DAvCQ,EAuCI,EAvCJ,UAAN,C;;;;;;;;;;;;;;;;;ACFP;;;;;;;IAOMi0F,W;;AAEF;;;;;AAKA,yBAAaU,SAAb,EAAwB;AAAA;;AACpB,YAAMC,gBAAgB,EAAtB;;AAEA,aAAKt/H,MAAL,CAAYq/H,aAAa,EAAzB;AACA,aAAK5oJ,MAAL,CAAY;AAAA,mBAAM,IAAN;AAAA,SAAZ;;AAEA,aAAKozB,IAAL,CAAU,UAACmkC,EAAD,EAAKltC,IAAL,EAAWE,IAAX,EAAoB;AAC1B,gBAAMu+H,YAAYvxF,GAAGh4D,OAAH,EAAlB;AACA,gBAAIupJ,aAAaA,UAAUp3H,EAA3B,EAA+B;AAC3B,oBAAMA,KAAKo3H,UAAUp3H,EAAV,EAAX;AACAm3H,8BAAcn3H,EAAd,IAAoB;AAChBtoC,8BAAU0/J,SADM;AAEhBr3H,8BAAUpH,IAFM;AAGhB0I,8BAAUxI;AAHM,iBAApB;AAKH;AACJ,SAVD;;AAYA,aAAKs+H,aAAL,CAAmBA,aAAnB;AACH;;;;wCAEqB;AAClB,gBAAI,UAAGtmK,MAAP,EAAe;AACX,qBAAKwmK,cAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,cAAZ;AACH;;AAED;;;;;;;;;iCAMmB;AACf,gBAAI,UAAOxmK,MAAX,EAAmB;AACf,qBAAKymK,OAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,OAAZ;AACH;;AAED;;;;;;;;;;;iCAQe;AACX,gBAAI,UAAGzmK,MAAP,EAAe;AACX,qBAAK0mK,SAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,SAAZ;AACH;;AAED;;;;;;;;gCAKS;AACL,gBAAIC,WAAW,CAAf;;AAEA,iBAAK3/H,MAAL,GAAc3nC,OAAd,CAAsB,UAACJ,GAAD,EAAS;AAC3B,oBAAI2nK,kBAAkB,CAAtB;AACA3nK,oBAAII,OAAJ,CAAY,UAACkxC,IAAD,EAAU;AAClBq2H,uCAAmBr2H,KAAKjJ,eAAL,GAAuBI,KAA1C;AACH,iBAFD;AAGAi/H,2BAAWnuJ,KAAKxD,GAAL,CAAS2xJ,QAAT,EAAmBC,eAAnB,CAAX;AACH,aAND;AAOA,mBAAOD,QAAP;AACH;;AAED;;;;;;;;iCAKU;AACN,gBAAIE,YAAY,CAAhB;;AAEA,iBAAK7/H,MAAL,GAAc3nC,OAAd,CAAsB,UAACJ,GAAD,EAAS;AAC3B,oBAAI6nK,mBAAmB,CAAvB;AACA7nK,oBAAII,OAAJ,CAAY,UAACkxC,IAAD,EAAU;AAClBu2H,uCAAmBtuJ,KAAKxD,GAAL,CAAS8xJ,gBAAT,EAA2Bv2H,KAAKjJ,eAAL,GAAuBK,MAAlD,CAAnB;AACH,iBAFD;AAGAk/H,6BAAaC,gBAAb;AACH,aAND;AAOA,mBAAOD,SAAP;AACH;;AAED;;;;;;;;;;6BAOMz3J,E,EAAI;AACN,gBAAM43B,SAAS,KAAKA,MAAL,EAAf;AACA,gBAAMznB,WAAW,KAAK9B,MAAL,EAAjB;;AAEAupB,mBAAO3nC,OAAP,CAAe,UAACJ,GAAD,EAAMyjK,MAAN,EAAiB;AAC5BzjK,oBAAII,OAAJ,CAAY,UAACouC,GAAD,EAAMk1H,MAAN,EAAiB;AACzB,wBAAIpjJ,SAASkuB,GAAT,CAAJ,EAAmB;AACfr+B,2BAAGq+B,GAAH,EAAQi1H,MAAR,EAAgBC,MAAhB,EAAwB37H,MAAxB;AACH;AACJ,iBAJD;AAKH,aAND;AAOA,mBAAO,IAAP;AACH;;;4CAEoBmI,E,EAAI;AACrB,mBAAO,KAAKm3H,aAAL,GAAqBn3H,EAArB,CAAP;AACH;;;;;;AAGUw2H,0EAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvIA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;;AAOA;;;;;;;;;;;;;;IAaMpnB,W;;;AAEF;;;;;;;;AAQA,yBAAat2E,QAAb,EAAuBzpC,YAAvB,EAAqC;AAAA;;AAAA;;AAAA,YAI7Bk8G,oBAJ6B,GAK7BzyE,QAL6B,CAI7ByyE,oBAJ6B;;;AAOjC,cAAK/zG,aAAL,GAAqBnI,YAArB;AACA;AACA;AACA;AACA;AACAqa,gFAAqBA,QAAOf,4CAA5B;AACAe,gFAAqBA,QAAOghG,sDAA5B;AACA;AACA;AACA,cAAKE,YAAL,GAAoB,EAApB;AACA;AACA,cAAK98D,KAAL,GAAa,EAAb;AACA;AACA,cAAK55B,MAAL,GAAc,IAAd;AACA;AACA,cAAK0jH,UAAL,GAAkB,EAAlB;AACA;AACA,cAAKltI,QAAL,CAAc,IAAIgpI,4DAAJ,CAAmB,MAAKl8H,aAAxB,CAAd;AACA;AACA++H,0EAAkBA,QAAO,EAAzB;AACC;AACD,cAAKz9F,QAAL,CAAc;AACVtB,2BAAe+zE,qBAAqB/zE,aAArB,CAAmCxqE,GAAnC,EADL;AAEV6oJ,0BAActK,qBAAqBsK,YAArB,CAAkC7oJ,GAAlC;AAFJ,SAAd;AA5BiC;AAgCpC;;;;gCAYiB;AACd,gBAAI,UAAO6D,MAAX,EAAmB;AACf,qBAAKo6I,MAAL;AACAkrB,qFAAqBA,CAAC,IAAtB;AACAD,+EAAeA,CAAC,IAAhB;AACA;AACAH,6FAAoBA,CAAC,IAArB;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAK9qB,MAAZ;AACH;;AAED;;;;;;;;yCAK6B;AACzB,gBAAI,UAASp6I,MAAb,EAAqB;AACjB,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKw0I,WAAL,GAAmB5tG,QAA1B;AACH;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sCA0BwB;AACpB,gBAAI,UAAO5mC,MAAX,EAAmB;AACf,uBAAO,IAAP;AACH;AACD,mBAAO,KAAK+5I,YAAZ;AACH;;AAED;;;;;;;;;oCAMa;AACT,iBAAK9qH,KAAL,GAAatgB,KAAb,CAAmBmwB,IAAnB;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;sCAKe;AACX,iBAAK7P,KAAL,GAAatgB,KAAb,CAAmBowB,MAAnB;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;;8BAQOgoH,Q,EAAU;AACb,mBAAOkY,iEAAWA,CAAClY,QAAZ,EAAsB,KAAKltH,QAAL,GAAgBtxB,YAAhB,EAAtB,CAAP;AACH;;AAED;;;;;;;;;;;gCAQSwC,I,EAAM;AACX,gBAAIA,SAASwwI,wDAAb,EAAsB;AAClB,uBAAO,KAAK1hH,QAAL,GAAgBonH,cAAhB,EAAP;AACH;AACD,mBAAO,KAAKpnH,QAAL,GAAgBmtI,aAAhB,CAA8Bj8J,IAA9B,CAAP;AACH;;AAED;;;;;;;;;iCAMUA,I,EAAM;AACZ,mBAAO,KAAK8uB,QAAL,GAAmB9uB,IAAnB,aAAP;AACH;;;6CAEqBm0J,O,EAAS;AAAA,wCAIvB,KAAKrlI,QAAL,GAAgBtxB,YAAhB,EAJuB;AAAA,gBAEvB8yJ,cAFuB,yBAEvBA,cAFuB;AAAA,gBAGvBC,cAHuB,yBAGvBA,cAHuB;;AAK3B,mBAAO4D,YAAY1sI,kDAAZ,GAAgB6oI,cAAhB,GAAiCC,cAAxC;AACH;;;2CAEmBvC,Q,EAAU;AAC1B,gBAAMl/H,WAAW,KAAKA,QAAL,EAAjB;AACA,gBAAMmV,QAAQnV,SAAS2jI,QAAT,GAAoBzE,QAApB,KAAiCl/H,SAAS0jI,QAAT,GAAoBxE,QAApB,CAAjC,IAAkE,EAAhF;AACA,mBAAO/pH,KAAP;AACH;;;0CAEkB+kC,Q,EAAUglF,Q,EAAU;AACnC,gBAAMl/H,WAAW,KAAKA,QAAL,EAAjB;AACA,gBAAMmV,QAAQnV,SAAS2jI,QAAT,GAAoBzE,QAApB,KAAiCl/H,SAAS0jI,QAAT,GAAoBxE,QAApB,CAA/C;AACA,gBAAM/9F,OAAOhsB,MAAM,CAAN,EAAShyB,OAAT,GAAmBg+C,IAAnB,GAA0B+Y,QAA1B,KAAuC,EAApD;;AAEA,mBAAO/Y,IAAP;AACH;;AAED;;;;;;;;;oCAMa;AAAA;;AACT,gBAAM/rC,QAAQ,KAAKA,KAAL,EAAd;;AAEA,oDACKmiD,uDADL,EACcniD,MAAM9yB,GAAN,CAAUi1E,uDAAV,CADd,yBAEKmzE,sDAFL,EAEat1H,MAAM9yB,GAAN,CAAUooJ,sDAAV,CAFb;AAIH;;AAED;;;;;;;;;yCAMkB;AACd,mBAAO,KAAK2hB,iBAAZ;AACH;;;yCAEiB;AACdxnB,2EAAe,IAAf;AACH;;;mCA9KkB;AACf,mBAAO,CAAC;AACJnqI,wBAAQ;AACJ8T,uBAAG,EADC;AAEJ+J,uBAAG,EAFC;AAGJkrF,4BAAQ;AAHJ;AADJ,aAAD,EAMJ,EANI,CAAP;AAOH;;;;EApDqB4nC,yD;;AA6NX3G,0EAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3PA;AAaA;AACA;AACA;AACA;AAOA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;IAmBqB0oB,S;;;AAEjB;;;;;;;;;;;;;;;;;;;AAmBA,uBAAatkK,IAAb,EAAmBq4D,IAAnB,EAAyB9wD,MAAzB,EAAoD;AAAA,YAAnBs0B,YAAmB,uEAAJ,EAAI;;AAAA;;AAAA;;AAEhDqa,gFAAqBA,QAAOxyC,4CAA5B;AACA,cAAK1D,IAAL,CAAUA,IAAV;AACA,cAAKq4D,IAAL,CAAUA,IAAV;AACA,cAAK9wD,MAAL,CAAYA,MAAZ;AACA,cAAKkuI,KAAL,CAAW,MAAKhxI,WAAL,CAAiB0wD,UAAjB,KAAgC7gC,8DAAWA,EAAtD;AACA,cAAKuH,YAAL,CAAkBA,YAAlB;AACA,cAAK0oI,OAAL,GAAe,EAAf;AACA,cAAKC,WAAL,GAAmB,EAAnB;AACA,cAAK/jH,GAAL,GAAWnsB,8DAAWA,EAAtB;AACA,cAAKwP,YAAL,GAAoB,EAApB;AAXgD;AAYnD;;;;gCAciB;AACd,gBAAI,UAAOzmC,MAAX,EAAmB;AACf,qBAAKo6I,MAAL;AACA,oBAAMgtB,UAAUh/F,2DAAgBA,CAACmrE,qBAAjC;AACA,oBAAMvrE,UAAU,KAAKA,OAAL,EAAhB;AACAs9F,sFAAqBA,CAAC,IAAtB;AACA54B,6EAAUA,CAAC,IAAX,EAAiB26B,+DAAjB,EAAiC,KAAKp4I,KAAL,GAAatgB,KAA9C,EAAqD;AACjD25D,+BAAW8+F,OADsC;AAEjDv6B,kCAAc7kE,QAAQM;AAF2B,iBAArD;AAIAsnE,oFAAiBA,CAAC,IAAlB,EAAwBC,yDAAxB,EAAqC;AACjCvhC,2BAAO84D,OAD0B;AAEjCE,4BAAQl/F,2DAAgBA,CAACorE;AAFQ,iBAArC,EAGG;AACC+zB,kCAAcv/F,QAAQu/F,YADvB;AAECC,kCAAcx/F,QAAQw/F,YAFvB;AAGC36B,kCAAc7kE,QAAQM;AAHvB,iBAHH;AAQA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAK8xE,MAAZ;AACH;;;iCAEe;AACZ,gBAAMj+G,OAAUisC,2DAAgBA,CAACorE,sBAA3B,SAAqD17F,mDAArD,SAAqE,KAAKkwB,OAAL,GAAeM,SAA1F;AACA,gBAAI,UAAItoE,MAAR,EAAgB;AACZ,qBAAKivB,KAAL,GAAa4rD,MAAb,CAAoB1+C,IAApB;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKlN,KAAL,GAAa9yB,GAAb,CAAiBggC,IAAjB,CAAP;AACH;;AAED;;;;;;;4CA6DiC;AAC7B,gBAAI,UAAUn8B,MAAd,EAAsB;AAClB,qBAAKynK,kBAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,kBAAZ;AACH;;;4CAEwC;AACrC,gBAAI,UAAkBznK,MAAtB,EAA8B;AAC1B,qBAAK0nK,kBAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,kBAAZ;AACH;;AAED;;;;;;;;;;;;;;;;;;gCAekB;AACd,gBAAI,UAAO1nK,MAAX,EAAmB;AACf,qBAAKi6I,MAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,MAAL,IAAe,KAAK7yI,WAAL,CAAiB0wD,UAAjB,EAAtB;AACH;;;uCAEwB;AACrB,gBAAI,UAAO93D,MAAX,EAAmB;AACf,qBAAK2mC,aAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,aAAZ;AACH;;;wCAEgB;AACb,iBAAKghI,aAAL,GAAqB,IAArB;AACA,mBAAO,IAAP;AACH;;;uCAEe;AACZ,iBAAKA,aAAL,GAAqB,KAArB;AACA,mBAAO,KAAKhlK,IAAL,CAAU,KAAKwkK,WAAL,CAAiB,CAAjB,CAAV,CAAP;AACH;;AAED;;;;;;;;;;oCAOa;AACT,mBAAO,KAAKj9J,MAAL,EAAP;AACH;;AAED;;;;;;;;;;6BAOM;AACF,mBAAO,KAAKk5C,GAAZ;AACH;;AAED;;;;;;;;;;;;;2CAUoB9mC,S,EAAWpS,M,EAAQ09J,a,EAAeC,iB,EAAmB;AACrE,mBAAOC,8DAAaA,CAACxrJ,SAAd,EAAyBpS,MAAzB,EAAiC09J,aAAjC,EAAgDC,iBAAhD,CAAP;AACH;;AAED;;;;;;;;;;;;gDASyBllK,I,EAAM;AAC3B,gBAAI2mI,UAAU,EAAd;AACA,gBAAMz7G,UAAU,KAAKlrB,IAAL,GAAYkrB,OAAZ,EAAhB;;AAEA,gBAAI,CAACA,OAAL,EAAc;AACVy7G,0BAAUy+B,yEAAwBplK,IAAxB,EAA8B,KAAKklK,iBAAL,EAA9B,EAAwD,KAAKD,aAAL,EAAxD,CAAV;AACH;AACD,mBAAOt+B,OAAP;AACH;;;;;AAMD;;;;;;sCAMe0+B,Y,EAAc;AACzB,gBAAM1+B,UAAU,KAAKr6G,KAAL,GACX9yB,GADW,CACJisE,2DAAgBA,CAACorE,sBADb,SACuC17F,mDADvC,SACuD,KAAKkwB,OAAL,GAAeM,SADtE,CAAhB;AAEA,mBAAO0/F,iBAAiB/jK,SAAjB,GAA6BqlI,QAAQ0+B,YAAR,KAAyB,EAAtD,GAA2D1+B,OAAlE;AACH;;AAED;;;;;;;;;0CAMmBpgE,e,EAAiBv8D,Y,EAAc;AAC9C,mBAAOs7J,mEAAkB/+F,eAAlB,EAAmCv8D,YAAnC,EAAiD,KAAKk7J,iBAAL,EAAjD,EAA2E,KAAKD,aAAL,EAA3E,CAAP;AACH;;AAED;;;;;;;;;;;;;;;;;;;;;;;0CAoBmB;AACf,mBAAO,IAAP;AACH;;;8CAEsBp5F,e,EAAiBnW,Y,EAAcr0D,K,EAAO8yI,M,EAAQ;AACjE,gBAAMoxB,oBAAoB,KAAKh+J,MAAL,GAAcuzD,WAAd,IAA6B,EAAvD;;AAEA,gBAAI0qG,oBAAoBD,kBAAkB15F,eAAlB,CAAxB;AACA25F,gCAAoBrxB,UAAUqxB,iBAA9B;AACA,gBAAIA,iBAAJ,EAAuB;AACnBx8F,uFAAsB,IAAtB,EAA4BtT,YAA5B,EAA0C8vG,iBAA1C,EAA6D;AACzDnkK,gCADyD;AAEzDwqE;AAFyD,iBAA7D;AAIH;AACJ;;AAED;;;;;;;;;wCAMiC;AAC7B,gBAAI,UAAcxuE,MAAlB,EAA0B;AACtB,qBAAKooK,cAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,cAAZ;AACH;;AAED;;;;;;;iCAIU;AACN,mBAAO,IAAP;AACH;;AAED;;;;;;;;;mCAMY;AACR,mBAAO,GAAP;AACH;;AAED;;;;;;;;iCAKU;AACN,iBAAKn5I,KAAL,GAAalgB,WAAb,CAAyB;AACrBu5D,2BAAcF,2DAAgBA,CAACmrE,qBAA/B,SAAwD,KAAKvrE,OAAL,GAAeM;AADlD,aAAzB;AAGA53B,4EAAaA,CAAC,KAAKjV,KAAL,EAAd,EAA4BuV,MAA5B;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;mCAOYn0C,G,EAAK8F,I,EAAM;AACnB,gBAAI9F,QAAQ,IAAZ,EAAkB;AACd,uBAAO,IAAP;AACH;AACD,gBAAMwrK,WAAW,KAAKC,SAAtB;AACA,aAACD,SAASxrK,GAAT,CAAD,KAAmBwrK,SAASxrK,GAAT,IAAgB,EAAnC;AACAwrK,qBAASxrK,GAAT,EAAc0C,IAAd,CAAmBoD,IAAnB;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;oCAOyB;AACrB,gBAAI,UAAU3C,MAAd,EAAsB;AAClB,qBAAKuoK,UAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,UAAZ;AACH;;AAED;;;;;;;;;;;+CAQwB5lK,I,EAAM;AAC1B,gBAAMqG,SAAS,KAAKrG,IAAL,GAAYuF,OAAZ,GAAsBc,MAArC;AACA,gBAAM2D,eAAe,KAAKhK,IAAL,GAAYiK,eAAZ,EAArB;AACA,gBAAMkB,cAAc,CAAC,EAAD,EAAK,EAAL,CAApB;;AAH0B,qCASlB,KAAK+5J,iBAAL,EATkB;AAAA,gBAKlBtsG,UALkB,sBAKlBA,UALkB;AAAA,gBAMlBC,UANkB,sBAMlBA,UANkB;AAAA,gBAOlBJ,MAPkB,sBAOlBA,MAPkB;AAAA,gBAQlBE,MARkB,sBAQlBA,MARkB;;AAAA,uBAWG,CAACC,UAAD,EAAaC,UAAb,EAAyB78D,GAAzB,CAA6B;AAAA,uBAAQoM,SAAS0F,oDAASA,CAACC,OAA3B;AAAA,aAA7B,CAXH;AAAA;AAAA,gBAWnB83J,QAXmB;AAAA,gBAWTC,QAXS;;AAY1Bz/J,mBAAO3J,OAAP,CAAe,UAACzD,CAAD,EAAIL,CAAJ,EAAU;AACrB,oBAAMM,OAAOD,EAAEC,IAAf;AACA,oBAAI8Q,aAAa9Q,IAAb,EAAmB8gB,GAAnB,CAAuB5R,IAAvB,KAAgC0F,oDAASA,CAACb,SAA9C,EAAyD;AACrD9B,gCAAY,CAAZ,EAAevO,IAAf,CAAoB1D,IAApB;AACAiS,gCAAY,CAAZ,EAAevO,IAAf,CAAoBoD,KAAKpH,CAAL,CAApB;AACH;AACJ,aAND;;AAQA,gBAAIitK,YAAYC,QAAhB,EAA0B;AAAA;;AACtB,oBAAMC,gBAAgB/7J,aAAayuD,MAAb,EAAqBnuD,KAA3C;AACA,oBAAM07J,gBAAgBh8J,aAAa2uD,MAAb,EAAqBruD,KAA3C;AACA,6CAAY,CAAZ,GAAe1N,IAAf,sBAAuB,CAAC67D,MAAD,EAASE,MAAT,CAAvB;AACA,8CAAY,CAAZ,GAAe/7D,IAAf,uBAAuB,CAACoD,KAAK+lK,aAAL,CAAD,EAAsB/lK,KAAKgmK,aAAL,CAAtB,CAAvB;AACH;AACD,mBAAO76J,WAAP;AACH;;;sCAEc;AACX,mBAAO;AACHua,mBAAG,CADA;AAEH+J,mBAAG;AAFA,aAAP;AAIH;;;yCAEiB;AACd,mBAAO;AACH/J,mBAAG,CADA;AAEH+J,mBAAG;AAFA,aAAP;AAIH;;AAED;;;;;;;;;;;;;;;;;;;;;;;;iDAqB0BtkB,W,EAA0B;AAAA;;AAAA,gBAAb5D,MAAa,uEAAJ,EAAI;;AAChD,gBAAM0+J,cAAc1+J,OAAO0+J,WAA3B;AACA,gBAAMt5F,UAAUplE,OAAOolE,OAAvB;AACA,gBAAI,CAAC,KAAK3sE,IAAL,EAAL,EAAkB;AACd,uBAAO,EAAP;AACH;AACD,gBAAIuG,mBAAJ;AACA,gBAAIuT,eAAJ;AACA,gBAAI3O,uBAAuBvG,oDAA3B,EAAsC;AAClC,oBAAMgV,UAAUzO,YAAY5F,OAAZ,EAAhB;AACAgB,6BAAaqT,QAAQvT,MAAR,CAAerK,GAAf,CAAmB;AAAA,2BAAK/C,EAAEC,IAAP;AAAA,iBAAnB,CAAb;AACA4gB,yBAASF,QAAQ5Z,IAAjB;AACH,aAJD,MAIO;AACHuG,6BAAa4E,YAAY,CAAZ,CAAb;AACA2O,yBAAS3O,YAAYxN,KAAZ,CAAkB,CAAlB,EAAqBwN,YAAY9N,MAAjC,CAAT;AACH;;AAED,gBAAM2tE,SAAS,KAAKu5F,OAApB;AACA,gBAAMv6J,eAAe,KAAKhK,IAAL,GAAYiK,eAAZ,EAArB;;AAEA,gBAAMi8J,iBAAiB,YAAGpoK,MAAH,gCAAaktE,MAAb,GAAqBlwD,MAArB,CAA4B,UAAC+8E,KAAD,EAAW;AAAA,oBAClDvd,KADkD,GACnCud,KADmC,CAClDvd,KADkD;AAAA,oBAC3C75B,GAD2C,GACnCo3C,KADmC,CAC3Cp3C,GAD2C;;;AAG1D,uBAAOl6C,WAAW4T,KAAX,CAAiB,UAAC/Y,KAAD,EAAQyF,GAAR,EAAgB;AACpC,wBAAIzF,SAAS4I,YAAT,IAAyBA,aAAa5I,KAAb,EAAoB4Y,GAApB,CAAwB5R,IAAxB,KAAiC0F,oDAASA,CAACb,SAAxE,EAAmF;AAC/E,+BAAO6M,OAAOtQ,SAAP,CAAiB;AAAA,mCAAKvQ,EAAE4N,GAAF,MAAWyzE,MAAMtwE,aAAa5I,KAAb,EAAoBkJ,KAA1B,CAAhB;AAAA,yBAAjB,MAAuE,CAAC,CAA/E;AACH,qBAFD,MAEO,IAAIlJ,UAAU8vI,yDAAcA,CAACzyI,MAA7B,EAAqC;AACxC,+BAAOqb,OAAOtQ,SAAP,CAAiB;AAAA,mCAAKvQ,EAAE4N,GAAF,MAAW45C,GAAhB;AAAA,yBAAjB,MAA0C,CAAC,CAAlD;AACH,qBAAC,OAAO,IAAP;AACL,iBANM,CAAP;AAOH,aAVsB,CAAvB;AAWA,mBAAOwlH,cAAcC,cAAd,GAA+BA,eAAelqK,GAAf,CAAmB,UAAC/C,CAAD,EAAO;AAC5D,oBAAM45B,MAAMtoB,wDAAKA,CAACtR,CAAN,CAAZ;AACA,oBAAI0zE,OAAJ,EAAa;AACT,wBAAM9yC,SAAShH,IAAIgH,MAAJ,IAAchH,GAA7B;AACA,wBAAIA,IAAI4xC,IAAJ,KAAanjE,SAAjB,EAA4B;AACxB,4BAAM8yD,UAAUv+C,KAAKyQ,IAAL,CAAUuM,IAAI4xC,IAAJ,GAAW5uD,KAAKqoC,EAA1B,IAAgC,CAAhD;AACArkB,+BAAOkL,KAAP,GAAeqvB,OAAf;AACAv6B,+BAAOmL,MAAP,GAAgBovB,OAAhB;AACAv6B,+BAAOnU,CAAP,IAAY0uC,UAAU,CAAtB;AACAv6B,+BAAOpK,CAAP,IAAY2kC,UAAU,CAAtB;AACH,qBAND,MAMO;AACH,4BAAIv6B,OAAOkL,KAAP,KAAiBzjC,SAArB,EAAgC;AAC5Bu4B,mCAAOkL,KAAP,GAAe,CAAf;AACH;AACD,4BAAIlL,OAAOmL,MAAP,KAAkB1jC,SAAtB,EAAiC;AAC7Bu4B,mCAAOmL,MAAP,GAAgB,CAAhB;AACH;AACJ;AACJ;;AAED,uBAAOnS,IAAIgH,MAAJ,IAAchH,GAArB;AACH,aArBqC,EAqBnChtB,IArBmC,CAqB9B,UAACwZ,CAAD,EAAIC,CAAJ;AAAA,uBAAUD,EAAEoQ,CAAF,GAAMnQ,EAAEmQ,CAAlB;AAAA,aArB8B,CAAtC;AAsBH;;;0DAEkCtkB,W,EAAa;AAAA,uCACeA,YAAY5F,OAAZ,EADf;AAAA,gBAC9B4gK,cAD8B,wBACpCnmK,IADoC;AAAA,gBACNomK,gBADM,wBACd//J,MADc;;AAE5C,gBAAM+/I,iBAAiB,KAAKigB,eAA5B;AACA,gBAAMr8J,eAAe,KAAKhK,IAAL,GAAYiK,eAAZ,EAArB;;AAH4C,sCASxC,KAAKi7J,iBAAL,EATwC;AAAA,gBAKxCvsG,MALwC,uBAKxCA,MALwC;AAAA,gBAMxCF,MANwC,uBAMxCA,MANwC;AAAA,gBAOxCI,UAPwC,uBAOxCA,UAPwC;AAAA,gBAQxCD,UARwC,uBAQxCA,UARwC;;AAU5C,gBAAImnB,qBAAJ;AACA,gBAAIg0E,YAAJ;AACA,gBAAIn7F,eAAe9qD,oDAASA,CAACC,OAA7B,EAAsC;AAClCgyE,+BAAe/1E,aAAayuD,MAAb,EAAqBnuD,KAApC;AACAypJ,sBAAM,GAAN;AACH,aAHD,MAGO,IAAIl7F,eAAe/qD,oDAASA,CAACC,OAA7B,EAAsC;AACzCgyE,+BAAe/1E,aAAa2uD,MAAb,EAAqBruD,KAApC;AACAypJ,sBAAM,GAAN;AACH;;AAED,gBAAMxtF,kBAAkB,EAAxB;AACA6/E,2BAAe1pJ,OAAf,CAAuB,UAACyqE,OAAD,EAAa;AAChCA,wBAAQzqE,OAAR,CAAgB,UAACkd,OAAD,EAAa;AACzB,wBAAM0sJ,WAAW1sJ,QAAQ0gE,KAAzB;AACA,wBAAMisF,QAAQH,iBAAiBjsJ,KAAjB,CAAuB,UAAC0Y,GAAD,EAAMj6B,CAAN;AAAA,+BACjCutK,eAAe38J,SAAf,CAAyB;AAAA,mCAAK88J,SAASt8J,aAAa6oB,IAAI35B,IAAjB,EAAuBoR,KAAhC,MAA2CrR,EAAEL,CAAF,CAAhD;AAAA,yBAAzB,MAAmF,CAAC,CADnD;AAAA,qBAAvB,CAAd;AAEA,wBAAI2tK,KAAJ,EAAW;AACP,4BAAMC,iBAAiB5sJ,QAAQm6I,GAAR,CAAvB;AACA,4BAAMz3J,MAAMsd,QAAQ0gE,KAApB;AACA,4BAAM94D,QAAQ,EAAd;AACA,6BAAK,IAAMtnB,GAAX,IAAkB8P,YAAlB,EAAgC;AAC5B,gCAAMM,QAAQN,aAAa9P,GAAb,EAAkBoQ,KAAhC;AACAkX,kCAAMtnB,GAAN,IAAaoC,IAAIgO,KAAJ,CAAb;AACA,gCAAIA,UAAUy1E,YAAd,EAA4B;AACxBv+D,sCAAMtnB,GAAN,IAAassK,cAAb;AACH;AACJ;AACDjgG,wCAAgB3pE,IAAhB,CAAqB4kB,KAArB;AACH;AACJ,iBAjBD;AAkBH,aAnBD;;AAqBA,mBAAO,CAAC+kD,eAAD,EAAkB,KAAKvmE,IAAL,GAAYuF,OAAZ,GAAsBc,MAAxC,CAAP;AACH;;AAED;;;;;;;;;;;;;+CAUwB4c,G,EAAK;AACzB,mBAAO8qB,gEAAaA,CAAC,KAAKjV,KAAL,EAAd,EAA4BggB,SAA5B,CAAsC,KAAK4yB,QAAL,EAAtC,EAAuD5wD,MAAvD,CAA8D;AAAA,uBAChE9a,OAAOijB,IAAInc,OAAJ,CAAY9G,KAAKygD,GAAjB,MAA0B,CAAC,CAAlC,GAAsC,KAD0B;AAAA,aAA9D,CAAP;AAEH;;;mCA9hBkB;AACf,mBAAO,CACH;AACI7uC,wBAAQ;AADZ,aADG,EAIH;AACIrK,wBAAQ,EADZ;AAEIvH,sBAAM;AAFV,aAJG,CAAP;AASH;;;iCAsCyB;AAAA,8CAAR0H,MAAQ;AAARA,sBAAQ;AAAA;;AACtB,sDAAW,IAAX,gBAAmBA,MAAnB;AACH;;AAED;;;;;;;;;;;;;wCAUwB;AACpB,mBAAO;AACHm9D,2BAAW;AACPz8D,0BAAM;AADC;AADR,aAAP;AAKH;;AAED;;;;;;;;;;;;;;;;sCAasBo5E,I,EAAMyvE,Q,EAAU;AAClC,mBAAO/sH,iEAAcA,CAACs9C,IAAf,EAAqByvE,QAArB,CAAP;AACH;;AAED;;;;;;;;;;;;;;;;;qCAcqB;AACjB,mBAAO,MAAP;AACH;;;4CAkH2B;AACxB,mBAAO,KAAP;AACH;;;;EA9PkCwV,yD;;AAAlBnC,wE;;;;;;;;;;;;;;;;;;;;AC7CrB;AACA;;AAEO,IAAMI,yEACRvvH,mDADQ,EACO;AACZv7C,WAAO,IADK;AAEZif,UAAM;AACFu8B,sBAAc,sBAAC7tC,MAAD,EAAS+4C,SAAT,EAAoBvX,OAApB,EAAgC;AAC1C,gBAAMtkC,cAAcskC,QAAQtkC,WAA5B;AACA,gBAAM0gJ,UAAUjhH,iEAAcA,CAAC,EAAf,EAAmBz/B,YAAYumC,aAAZ,EAAnB,CAAhB;AACA,mBAAOvmC,YAAY4wI,aAAZ,CAA0B8P,OAA1B,EAAmC59I,MAAnC,CAAP;AACH;AALC;AAFM,CADP,oCAWR4tC,iDAXQ,EAWK;AACVv7C,WAAO,IADG;AAEVif,UAAM;AACF6xH,gBAAQ,gBAAC1qI,IAAD,EAAO+oC,OAAP,EAAmB;AACvB,gBAAIA,QAAQi8H,aAAZ,EAA2B;AACvBj8H,wBAAQy7H,WAAR,CAAoB5nK,IAApB,CAAyBoD,IAAzB;AACH,aAFD,MAEO;AACH+oC,wBAAQy7H,WAAR,GAAsB,CAACxkK,IAAD,CAAtB;AACH;AACJ;AAPC;AAUV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApBc,CAXL,mBAAN,C;;;;;;;;;;;;ACHP;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;;AAEA,IAAM0mK,cAAc,SAAdA,WAAc,CAAC39H,OAAD,EAAa;AAC7B,QAAMjQ,QAAQiQ,QAAQjQ,KAAR,EAAd;AACA,QAAIA,KAAJ,EAAW;AACPiQ,gBAAQoF,MAAR,CAAerV,KAAf;AACAiQ,gBAAQlN,YAAR,GAAuB8qI,SAAvB,CAAiCzuF,MAAjC,CAAwCs4D,sDAAWA,CAACE,aAApD,EAAmE,IAAnE;AACH;AACJ,CAND;;AAQO,IAAMxD,cAAc,SAAdA,WAAc,CAACnkG,OAAD,EAAU/uC,EAAV,EAAcqrE,OAAd;AAAA,WAA0B,CACjD;AACI3hE,eAAO,CAAI1J,GAAG2xG,KAAP,SAAgBx2D,iDAAhB,SAA8BkwB,QAAQ6kE,YAAtC,CADX;AAEIp2B,kBAAU,wBAAc;AAAA;AAAA,gBAAV9zG,IAAU;;AACpB,gBAAMuH,SAASwhC,QAAQxhC,MAAR,EAAf;AACA,gBAAMq/J,gBAAgBr/J,OAAOg9D,QAA7B;AACA,gBAAIvkE,QAAQ4mK,aAAZ,EAA2B;AACvB,oBAAM58J,eAAehK,KAAKiK,eAAL,EAArB;AACA,oBAAMi7J,oBAAoB2B,oEAAmBA,CAACD,aAApB,EAAmC58J,YAAnC,CAA1B;AACA++B,wBAAQm8H,iBAAR,CAA0BA,iBAA1B;AACAn8H,wBAAQk8H,aAAR,CAAsB6B,kEAAiBA,CAACv/J,MAAlB,EAA0ByC,YAA1B,EAAwCk7J,iBAAxC,CAAtB;AACAn8H,wBAAQg+H,gBAAR,GAA2Bh+H,QAAQi+H,kBAAR,CAA2BhnK,IAA3B,EAAiCuH,MAAjC,EACvBwhC,QAAQk8H,aAAR,EADuB,EACEC,iBADF,CAA3B;AAEAn8H,wBAAQs9H,eAAR,GAA0Bt9H,QAAQu8H,iBAAR,CAA0Bv8H,QAAQg+H,gBAAlC,EAAoD/8J,YAApD,CAA1B;AACA,oBAAM4H,SAASm3B,QAAQq8H,uBAAR,CAAgCr8H,QAAQs9H,eAAxC,EAAyDt9H,QAAQm8H,iBAAR,EAAzD,EACXn8H,QAAQ/oC,IAAR,GAAeiK,eAAf,EADW,CAAf;AAEA8+B,wBAAQn3B,MAAR,CAAeA,MAAf;AACH;AACJ,SAjBL;AAkBIxJ,cAAM;AAlBV,KADiD,EAqBjD;AACI1E,eAAO,CAAI1J,GAAG2xG,KAAP,SAAgBx2D,mDAAhB,SAAgCkwB,QAAQ6kE,YAAxC,CADX;AAEIp2B,kBAAU,yBAAgB;AAAA;AAAA,gBAAZvsG,MAAY;;AACtB,gBAAMw9D,kBAAkBx9D,OAAOw9D,eAA/B;AACA,gBAAMrhE,QAAQ,CAAI+hE,2DAAgBA,CAACqrE,sBAArB,kBAAwDzrE,QAAQu/F,YAAhE,SACPn/F,2DAAgBA,CAACqrE,sBADV,mBAC8CzrE,QAAQw/F,YADtD,QAEPp/F,2DAAgBA,CAACqrE,sBAFV,oBAAd;;AAIA,gBAAMxkH,QAAQyc,QAAQzc,KAAR,EAAd;AACA,gBAAMk9G,eAAe;AACjB7jE,2BAAcF,2DAAgBA,CAACmrE,qBAA/B,SAAwD7nG,QAAQs8B,OAAR,GAAkBM,SADzD;AAEjBzrE,qBAAK;AAFY,aAArB;AAIAoyB,kBAAMlgB,WAAN,CAAkBo9H,YAAlB;AACA,gBAAIzkE,oBAAoB,KAAxB,EAA+B;AAC3BrhE,sBAAM9G,IAAN,CAAc5C,GAAG2xG,KAAjB,SAA0Bx2D,iDAA1B,SAAwCkwB,QAAQ6kE,YAAhD;AACH;AACD59G,kBAAMkwH,sBAAN,CAA6B94I,KAA7B,EACI,YAAM;AACFgjK,4BAAY39H,OAAZ;AACH,aAHL,EAGO,KAHP,EAGcygG,YAHd;AAIH,SArBL;AAsBIphI,cAAM;AAtBV,KArBiD,CAA1B;AAAA,CAApB,C;;;;;;;;;;;;ACZP;AAAA;AAAO,IAAM1E,QAAQ;AACjB20D,UAAM,EADW;AAEjBv/B,WAAO,EAFU;AAGjB+K,iBAAa,EAHI;AAIjBwhC,aAAS,EAJQ;AAKjBrlE,UAAM,EALW;AAMjBuH,YAAQ;AANS,CAAd,C;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO,IAAM0/J,yEACRpf,2DADQ,EACeqf,sDADf,oCAERrf,0DAFQ,EAEcsf,oDAFd,oCAGRtf,2DAHQ,EAGeuf,sDAHf,oCAIRvf,2DAJQ,EAIewf,sDAJf,oCAKRxf,4DALQ,EAKgByf,wDALhB,oCAMRzf,2DANQ,EAMe0f,sDANf,oCAOR1f,0DAPQ,EAOc2f,oDAPd,oCAQR3f,2DARQ,EAQeyc,qDARf,mBAAN,C;;;;;;;;;;;;ACVP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,IAAM1mH,cAAc,MAApB;AACA,IAAMynG,QAAQ,OAAd;AACA,IAAM9L,QAAQ,OAAd;AACA,IAAMxnF,WAAW,UAAjB;AACA,IAAMwhG,QAAQ,OAAd;AACA,IAAMD,SAAS,QAAf;AACA,IAAM1hG,OAAO,MAAb;AACA,IAAM7vB,QAAQ,OAAd;AACA,IAAM4vB,QAAQ,OAAd;AACA,IAAM81G,qBAAqB,kBAA3B;AACA,IAAMC,qBAAqB,QAA3B;AACA,IAAMC,WAAW;AACpBp+C,OAAG,GADiB;AAEpB15F,OAAG,GAFiB;AAGpB+3I,QAAI,IAHgB;AAIpBC,QAAI;AAJgB,CAAjB;;AAOA,IAAMC,YAAY,KAAlB;;AAEA,IAAMC,aAAa,MAAnB;AACA,IAAMC,YAAY,KAAlB;AACA,IAAMC,aAAa,MAAnB;AACA,IAAMC,aAAa,MAAnB;AACA,IAAMC,cAAc,OAApB;AACA,IAAMC,YAAY,KAAlB;AACA,IAAMC,aAAa,MAAnB;AACA,IAAMC,eAAe,QAArB;AACA,IAAMC,aAAa,MAAnB,C;;;;;;;;;;;;AC5BP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,IAAMlsB,OAAO,MAAb;AACA,IAAM5tE,SAAS,QAAf;AACA,IAAMimF,cAAc,aAApB;AACA,IAAM7iG,SAAS,QAAf;AACA,IAAM+vF,QAAQ,OAAd,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJP;AASA;AACA;AACA;;AAEA,IAAM9lG,OAAOsV,6DAASA,CAACtV,IAAvB;;AAEO,IAAM0sH,gBAAgB,SAAhBA,aAAgB,cAAqE;AAAA,QAAlEthK,KAAkE,QAAlEA,KAAkE;AAAA,QAA3DoD,KAA2D,QAA3DA,KAA2D;AAAA,QAAhDm+J,aAAgD,SAAhDA,aAAgD;AAAA,QAAjCzoF,SAAiC,SAAjCA,SAAiC;AAAA,QAAtB0oF,eAAsB,SAAtBA,eAAsB;;AAC9F,QAAIC,WAAW,EAAf;AACA,QAAI/7H,QAAQ,EAAZ;AACA,QAAI67H,iBAAiBA,cAAc7uK,KAAd,YAA+BmC,QAApD,EAA8D;AAC1D6wC,gBAAQ67H,cAAc7uK,KAAd,CAAoBsN,KAApB,EAA2BoD,KAA3B,CAAR;AACAq+J,mBAAWF,cAAc7uK,KAAd,CAAoBsN,KAApB,EAA2BoD,KAA3B,CAAX;AACH,KAHD,MAGO;AACHq+J,mBAAW3oF,UAAUr7B,WAAV,CAAsBz9C,MAAMozE,KAAN,CAAYouF,eAAZ,CAAtB,CAAX;AACA97H,gBAAQozC,UAAUt7B,YAAV,CAAuBikH,QAAvB,CAAR;AACH;AACD,WAAO,EAAE/7H,YAAF,EAAS+7H,kBAAT,EAAP;AACH,CAXM;;AAaP,IAAMC,iBAAiB,SAAjBA,cAAiB,CAAC5oF,SAAD,EAAY94E,KAAZ,EAAmB2hK,SAAnB,EAA8BC,SAA9B,EAA4C;AAC/D5hK,UAAM2R,IAAN,CAAWkwJ,UAAX,CAAsBF,SAAtB,IAAmC3hK,MAAM2R,IAAN,CAAWkwJ,UAAX,CAAsBF,SAAtB,KAAoC3hK,MAAM2R,IAAN,CAAWmwJ,aAAlF;AACA,QAAMC,gBAAgBjpF,UAAUkpF,cAAV,CAAyBhiK,MAAM2R,IAAN,CAAWkwJ,UAAX,CAAsBF,SAAtB,CAAzB,EAA2DC,SAA3D,CAAtB;AACA5hK,UAAM2R,IAAN,CAAWkwJ,UAAX,CAAsBF,SAAtB,IAAmCI,cAAczjH,IAAjD;;AAEA,WAAOyjH,aAAP;AACH,CAND;;AAQO,IAAMjgG,wBAAwB,SAAxBA,qBAAwB,CAACjgC,OAAD,EAAU2sB,YAAV,EAAwB8vG,iBAAxB,EAA2Cj+J,MAA3C,EAAsD;AACvF,QAAM4hK,WAAWpgI,QAAQqgI,sBAAR,CAA+B1zG,YAA/B,CAAjB;AACA,QAAM2C,OAAOtvB,QAAQsvB,IAAR,EAAb;AACA,QAAM2nB,YAAY3nB,KAAKzrB,KAAvB;AACA,QAAMvrC,QAAQkG,OAAOlG,KAArB;AACA,QAAMwqE,kBAAkBtkE,OAAOskE,eAA/B;AACA25F,sBAAkB9oK,OAAlB,CAA0B,UAACowC,KAAD,EAAW;AACjC,YAAM+7H,YAAY/7H,MAAM1kC,IAAxB;AACA+gK,iBAASr8H,KAAT,CAAe+7H,SAAf,EAA2B,UAAC5vK,CAAD,EAAO;AAAA,0BACwBA,EAAE4f,IAD1B;AAAA,gBACtBwwJ,cADsB,WACtBA,cADsB;AAAA,gBACNN,UADM,WACNA,UADM;AAAA,gBACMC,aADN,WACMA,aADN;;AAE9BK,2BAAex9F,eAAf,IAAkCw9F,eAAex9F,eAAf,KAAmC,EAArE;AACA,gBAAIxqE,SAAS,CAACgoK,eAAex9F,eAAf,EAAgCg9F,SAAhC,CAAd,EAA0D;AACtD;AACAQ,+BAAex9F,eAAf,EAAgCg9F,SAAhC,IAA6C/7H,MAAMg8H,SAAnD;AACA,oBAAMl8H,QAAQg8H,eAAe5oF,SAAf,EAA0B/mF,CAA1B,EAA6B4vK,SAA7B,EAAwC/7H,MAAMg8H,SAA9C,EAAyDl8H,KAAvE;AACA,uBAAOA,KAAP;AACH;AACD,gBAAI,CAACvrC,KAAD,IAAUgoK,eAAex9F,eAAf,EAAgCg9F,SAAhC,CAAd,EAA0D;AACrD;AACDQ,+BAAex9F,eAAf,EAAgCg9F,SAAhC,IAA6C,IAA7C;AACA,uBAAOD,eAAe5oF,SAAf,EAA0B/mF,CAA1B,EAA6B4vK,SAA7B,EAAwC/7H,MAAMg8H,SAAN,CAAgB9sK,GAAhB,CAAoB;AAAA,2BAAK,CAACwK,CAAN;AAAA,iBAApB,CAAxC,EAAsEomC,KAA7E;AACH;;AAb6B,wBAcTm8H,WAAWF,SAAX,IAAwBE,WAAWF,SAAX,CAAxB,GAAgDG,aAdvC;AAAA;AAAA,gBAcvB7jH,CAduB;AAAA,gBAcpBvqD,CAdoB;AAAA,gBAcjB/B,CAdiB;AAAA,gBAcdwmB,CAdc;;AAe9B,6BAAe8lC,IAAI,GAAnB,SAA0BvqD,IAAI,GAA9B,UAAsC/B,IAAI,GAA1C,YAAmDwmB,KAAK,CAAxD;AACH,SAhBD;AAiBH,KAnBD;AAoBH,CA1BM;;AA4BP;;;;;;;AAOO,IAAMiqJ,sBAAsB,SAAtBA,mBAAsB,CAACvgI,OAAD,EAAU2sB,YAAV,EAAwB6zG,QAAxB,EAAkCzuG,WAAlC,EAAkD;AACjF,QAAMyqG,oBAAoB,EAAEzqG,wBAAF,EAAez5D,OAAOkoK,QAAtB,EAA1B;AACAvgG,0BAAsBjgC,OAAtB,EAA+B2sB,YAA/B,EAA6C,MAA7C,EAAqD6vG,iBAArD;AACH,CAHM;;AAKP;;;;;;;AAOO,IAAMiE,wBAAwB,SAAxBA,qBAAwB,CAACzgI,OAAD,EAAU2sB,YAAV,EAAwB+zG,UAAxB,EAAoC3uG,WAApC,EAAoD;AACrF,QAAMyqG,oBAAoB,EAAEzqG,wBAAF,EAAez5D,OAAOooK,UAAtB,EAA1B;AACAzgG,0BAAsBjgC,OAAtB,EAA+B2sB,YAA/B,EAA6C,OAA7C,EAAsD6vG,iBAAtD;AACH,CAHM;;AAKP;;;;;;AAMO,IAAMmE,gBAAgB,SAAhBA,aAAgB,CAACrxG,IAAD,EAAU;AAAA,eACZ,CAACsvG,yDAAQA,CAACp+C,CAAV,EAAao+C,yDAAQA,CAAC93I,CAAtB,EAAyB7zB,GAAzB,CAA6B;AAAA,eAAKq8D,KAAK7xD,CAAL,CAAL;AAAA,KAA7B,CADY;AAAA;AAAA,QAC5B8xD,KAD4B;AAAA,QACrBC,KADqB;;AAAA,gBAEV,CAACD,KAAD,EAAQC,KAAR,EAAev8D,GAAf,CAAmB;AAAA,eAAKwK,KAAKA,EAAE6wC,KAAF,EAAV;AAAA,KAAnB,CAFU;AAAA;AAAA,QAE5BsyH,MAF4B;AAAA,QAEpBC,MAFoB;;AAGnC,WAAO;AACHtxG,oBADG;AAEHC,oBAFG;AAGHoxG,sBAHG;AAIHC;AAJG,KAAP;AAMH,CATM;;AAWP;;;;;;;AAOO,IAAM/C,sBAAsB,SAAtBA,mBAAsB,CAACtiG,QAAD,EAAWv6D,YAAX,EAA4B;AAAA,gBAEvD,CAAC29J,yDAAQA,CAACp+C,CAAV,EAAao+C,yDAAQA,CAAC93I,CAAtB,EAAyB83I,yDAAQA,CAACC,EAAlC,EAAsCD,yDAAQA,CAACE,EAA/C,EAAmD9lI,sDAAnD,EAA0D4vB,sDAA1D,EAAiEC,qDAAjE,EAAuE51D,GAAvE,CAA2E;AAAA,eAAKuoE,SAAS/9D,CAAT,KAC5E+9D,SAAS/9D,CAAT,EAAYpF,KAD2D;AAAA,KAA3E,CAFuD;AAAA;AAAA,QACpDq3D,MADoD;AAAA,QAC5CE,MAD4C;AAAA,QACpCkxG,OADoC;AAAA,QAC3BC,OAD2B;AAAA,QAClB3W,UADkB;AAAA,QACN4W,UADM;AAAA,QACM7W,SADN;;AAAA,gBAK1B,CAACz6F,MAAD,EAASE,MAAT,EAAiBkxG,OAAjB,EAA0BC,OAA1B,EAAmC9tK,GAAnC,CAAuC;AAAA,eAAKgO,aAAaxD,CAAb,KACzEwD,aAAaxD,CAAb,EAAgBwT,GAAhB,CAAoB5R,IADgD;AAAA,KAAvC,CAL0B;AAAA;AAAA,QAKpDwwD,UALoD;AAAA,QAKxCC,UALwC;;AAAA,gBAQpB,CAACJ,MAAD,EAASE,MAAT,EAAiB38D,GAAjB,CAAqB;AAAA,eAAKgO,aAAaxD,CAAb,MAAoBwD,aAAaxD,CAAb,EAAgBwT,GAAhB,CAAoB9M,OAApB,IACjFlD,aAAaxD,CAAb,EAAgBwT,GAAhB,CAAoB5R,IADyC,CAAL;AAAA,KAArB,CARoB;AAAA;AAAA,QAQpD4hK,aARoD;AAAA,QAQrCC,aARqC;;AAAA,iBAWI,CAACxxG,MAAD,EAASE,MAAT,EAAiBkxG,OAAjB,EAA0BC,OAA1B,EAC1D9tK,GAD0D,CACtD;AAAA,eAAKgO,aAAaxD,CAAb,KAAmBwD,aAAaxD,CAAb,EAAgB8D,KAAxC;AAAA,KADsD,CAXJ;AAAA;AAAA,QAWpD4/J,WAXoD;AAAA,QAWvCC,WAXuC;AAAA,QAW1BC,YAX0B;AAAA,QAWZC,YAXY;;AAc3D,WAAO;AACH5xG,sBADG;AAEHE,sBAFG;AAGHw6F,8BAHG;AAIH4W,8BAJG;AAKH7W,4BALG;AAMH2W,wBANG;AAOHC,wBAPG;AAQHlxG,8BARG;AASHC,8BATG;AAUHmxG,oCAVG;AAWHC,oCAXG;AAYHC,gCAZG;AAaHC,gCAbG;AAcHC,kCAdG;AAeHC;AAfG,KAAP;AAiBH,CA/BM;;AAiCP;;;;;;;AAOO,IAAMvD,oBAAoB,SAApBA,iBAAoB,CAACjZ,WAAD,EAAc7jJ,YAAd,EAA4BsgK,gBAA5B,EAAiD;AAC9E,QAAIrF,sBAAJ;AAD8E,QAG1EpgG,SAH0E,GAI1EgpF,WAJ0E,CAG1EhpF,SAH0E;AAAA,QAM1EpM,MAN0E,GAU1E6xG,gBAV0E,CAM1E7xG,MAN0E;AAAA,QAO1EE,MAP0E,GAU1E2xG,gBAV0E,CAO1E3xG,MAP0E;AAAA,QAQ1EC,UAR0E,GAU1E0xG,gBAV0E,CAQ1E1xG,UAR0E;AAAA,QAS1EC,UAT0E,GAU1EyxG,gBAV0E,CAS1EzxG,UAT0E;;AAW9E,QAAM0xG,eAAe1lG,UAAUz9D,OAA/B;AACA,QAAMojK,sBAAsBxgK,aAAaugK,YAAb,KAA8BvgK,aAAaugK,YAAb,EAA2BvwJ,GAA3B,CAA+B5R,IAA/B,KAAwC0F,oDAASA,CAACC,OAA5G;AACAk3J,oBAAgBpgG,UAAUz8D,IAA1B;AACA,QAAI,CAACqwD,MAAD,IAAW,CAACE,MAAZ,IAAsB6xG,mBAAtB,IAA6C,CAACD,YAA9C,IAA8D3xG,eAAe9qD,oDAASA,CAACb,SAAzB,IAC9D4rD,eAAe/qD,oDAASA,CAACb,SAD7B,EACwC;AACpCg4J,wBAAgBlzG,yDAAhB;AACH;AACD,WAAOkzG,aAAP;AACH,CAnBM;;AAqBP;;;;;;;;AAQO,IAAME,gBAAgB,SAAhBA,aAAgB,CAACxrJ,SAAD,EAAYpS,MAAZ,EAAoB09J,aAApB,EAAmCqF,gBAAnC,EAAwD;AACjF,QAAMtqK,OAAO2Z,UAAUpU,OAAV,CAAkB,EAAEI,SAAS,IAAX,EAAlB,CAAb;AACA,QAAMU,SAASrG,KAAKqG,MAApB;AACA,QAAMw+D,YAAYt9D,OAAOs9D,SAAzB;AAHiF,QAK7EpM,MAL6E,GAS7E6xG,gBAT6E,CAK7E7xG,MAL6E;AAAA,QAM7EE,MAN6E,GAS7E2xG,gBAT6E,CAM7E3xG,MAN6E;AAAA,QAO7EC,UAP6E,GAS7E0xG,gBAT6E,CAO7E1xG,UAP6E;AAAA,QAQ7EC,UAR6E,GAS7EyxG,gBAT6E,CAQ7EzxG,UAR6E;;AAUjF,QAAM8sF,cAAc/sF,eAAe9qD,oDAASA,CAACC,OAAzB,GAAmC4qD,MAAnC,GAA4CF,MAAhE;;AAEA,WAAOouF,4EAAgBA,CAACoe,aAAjB,EAAgC5+J,MAAhC,EAAwCrG,KAAKA,IAA7C,EAAmD;AACtDoH,iBAASy9D,UAAUz9D,OADmC;AAEtDu+I,gCAFsD;AAGtD9/I,cAAMg/D,UAAUh/D,IAAV,IAAkB,MAH8B;AAItDk8C,gBAAQ8iB,UAAU9iB,MAJoC;AAKtDskG,iBAASxhF,UAAUwhF,OALmC;AAMtDzsJ,eAAOi/D,eAAe/qD,oDAASA,CAACC,OAAzB,GAAmC4qD,MAAnC,GAA4CF;AANG,KAAnD,EAOJz4D,KAAKsG,IAPD,CAAP;AAQH,CApBM;;AAsBA,IAAMmkK,yBAAyB,SAAzBA,sBAAyB,CAACxxK,CAAD,EAAIL,CAAJ,EAAOoH,IAAP,EAAa+oC,OAAb,EAAyB;AAC3D,QAAMiD,YAAYjD,QAAQxhC,MAAR,GAAiBmjK,mBAAnC;AACA,QAAIC,eAAe,EAAnB;AACA,QAAI3+H,qBAAqBjwC,QAAzB,EAAmC;AAC/B4uK,uBAAe3+H,UAAU/yC,CAAV,EAAaL,CAAb,EAAgBoH,IAAhB,EAAsB+oC,OAAtB,CAAf;AACH;AACD,WAAO4hI,YAAP;AACH,CAPM;;AASP;;;;;;;;;AASO,IAAMrF,oBAAoB,SAApBA,iBAAoB,CAAC/+F,eAAD,EAAkBv8D,YAAlB,EAAgCsgK,gBAAhC,EAAkDrF,aAAlD,EAAoE;AACjG,QAAM2F,qBAAqB3F,kBAAkBlzG,yDAAlB,GAA6B,CAACwU,eAAD,CAA7B,GAAiDA,eAA5E;AADiG,QAG7F3N,UAH6F,GAQ7F0xG,gBAR6F,CAG7F1xG,UAH6F;AAAA,QAI7FsxG,WAJ6F,GAQ7FI,gBAR6F,CAI7FJ,WAJ6F;AAAA,QAK7FC,WAL6F,GAQ7FG,gBAR6F,CAK7FH,WAL6F;AAAA,QAM7FC,YAN6F,GAQ7FE,gBAR6F,CAM7FF,YAN6F;AAAA,QAO7FC,YAP6F,GAQ7FC,gBAR6F,CAO7FD,YAP6F;;AASjG,QAAMQ,YAAYxxK,OAAOyI,IAAP,CAAYkI,YAAZ,EAA0B3M,MAA5C;AACA;;;;AAIA,WAAOutK,mBAAmB5uK,GAAnB,CAAuB,UAACgE,IAAD,EAAU;AACpC,YAAM8Z,SAASmrJ,kBAAkB1rB,sDAAlB,GAA0Bv5I,KAAK8Z,MAA/B,GAAwC9Z,IAAvD;AACA,eAAO8Z,OAAO9d,GAAP,CAAW,UAAC/C,CAAD,EAAO;AACrB,gBAAI6xK,WAAW,EAAf;AACA,gBAAItpJ,cAAJ;AACA,gBAAIyjJ,kBAAkB5f,sDAAtB,EAA6B;AACzB7jI,wBAAQvoB,EAAE+G,IAAF,IAAU,EAAlB;AACA,oBAAIyvB,UAAJ;AACA,oBAAIq0E,WAAJ;AACA,oBAAIp+E,UAAJ;AACA,oBAAIy+D,WAAJ;AACA,oBAAIlrF,EAAE,CAAF,KAAQA,EAAE,CAAF,CAAZ,EAAkB;AACdw2B,wBAAI00D,KAAKlrF,EAAE,CAAF,CAAT;AACAysB,wBAAIo+E,KAAK7qG,EAAE,CAAF,CAAT;AACH,iBAHD,MAGO;AACHw2B,wBAAI00D,KAAKlrF,EAAE,CAAF,CAAT;AACAysB,wBAAIo+E,KAAK7qG,EAAE,CAAF,CAAT;AACH;;AAED6xK,2BAAWlyG,eAAe9qD,oDAASA,CAACC,OAAzB,GAAmC;AAC1C2X,wBAD0C;AAE1Cy+D,0BAF0C;AAG1C10D,uBAAGjO,MAAM2oJ,WAAN,CAHuC;AAI1CrmE,wBAAItiF,MAAM2oJ,WAAN;AAJsC,iBAAnC,GAKP;AACAzkJ,uBAAGlE,MAAM0oJ,WAAN,CADH;AAEA/lF,wBAAI3iE,MAAM0oJ,WAAN,CAFJ;AAGAz6I,wBAHA;AAIAq0E;AAJA,iBALJ;AAWAgnE,yBAASxwF,KAAT,GAAiB94D,KAAjB;AACAspJ,yBAASrqH,GAAT,GAAej/B,MAAMqpJ,SAAN,CAAf;AACH,aA3BD,MA2BO;AACHC,2BAAW;AACPplJ,uBAAGzsB,EAAEixK,WAAF,CADI;AAEPz6I,uBAAGx2B,EAAEkxK,WAAF,CAFI;AAGPhmF,wBAAIlrF,EAAEmxK,YAAF,CAHG;AAIPtmE,wBAAI7qG,EAAEoxK,YAAF;AAJG,iBAAX;AAMAS,yBAASxwF,KAAT,GAAiBrhF,CAAjB;AACA6xK,yBAASrqH,GAAT,GAAexnD,EAAE4xK,SAAF,CAAf;AACH;AACD,mBAAOC,QAAP;AACH,SAzCM,CAAP;AA0CH,KA5CM,EA4CJhwJ,MA5CI,CA4CG;AAAA,eAAK7hB,EAAEoE,MAAP;AAAA,KA5CH,CAAP;AA6CH,CA3DM;;AA6DA,IAAM+nK,0BAA0B,SAA1BA,uBAA0B,CAACplK,IAAD,EAAOsqK,gBAAP,EAAyBrF,aAAzB,EAA2C;AAAA,QAE1E+E,aAF0E,GAQ1EM,gBAR0E,CAE1EN,aAF0E;AAAA,QAG1EC,aAH0E,GAQ1EK,gBAR0E,CAG1EL,aAH0E;AAAA,QAI1ExxG,MAJ0E,GAQ1E6xG,gBAR0E,CAI1E7xG,MAJ0E;AAAA,QAK1EE,MAL0E,GAQ1E2xG,gBAR0E,CAK1E3xG,MAL0E;AAAA,QAM1EkxG,OAN0E,GAQ1ES,gBAR0E,CAM1ET,OAN0E;AAAA,QAO1EC,OAP0E,GAQ1EQ,gBAR0E,CAO1ER,OAP0E;;AAS9E,QAAMnjC,UAAU,EAAhB;AACA,QAAMokC,OAAOpD,yDAAQA,CAAC93I,CAAtB;AACA,QAAMm7I,OAAOrD,yDAAQA,CAACp+C,CAAtB;AACA,QAAI9wD,MAAJ,EAAY;AACRkuE,gBAAQjhH,CAAR,GAAY0gH,oEAAiBA,CAACpmI,IAAlB,EAAwB6pK,WAAW5E,kBAAkB5f,sDAA7B,GAAqC,CAAC2lB,IAAD,EAAOrD,yDAAQA,CAACC,EAAhB,CAArC,GAA2D,CAACoD,IAAD,EAAOA,IAAP,CAAnF,EACRhB,aADQ,CAAZ;AAEH;AACD,QAAIrxG,MAAJ,EAAY;AACRguE,gBAAQl3G,CAAR,GAAY22G,oEAAiBA,CAACpmI,IAAlB,EAAwB8pK,WAAW7E,kBAAkB5f,sDAA7B,GAAqC,CAACsiB,yDAAQA,CAACE,EAAV,EAAcF,yDAAQA,CAAC93I,CAAvB,CAArC,GAChC,CAACk7I,IAAD,EAAOA,IAAP,CADQ,EACMd,aADN,CAAZ;AAEH;;AAED,WAAOtjC,OAAP;AACH,CAtBM;;AAwBA,IAAMskC,sBAAsB,SAAtBA,mBAAsB,CAACxwC,OAAD,EAAUzvD,MAAV,EAAqB;AAAA;;AACpDyvD,YAAQz6H,IAAR,CAAa,aAAGlC,MAAH,iCAAaktE,MAAb,GAAqBlwD,MAArB,CAA4B;AAAA,eAAK7hB,EAAEwnD,GAAF,KAAUn/C,SAAf;AAAA,KAA5B,EAAsDtF,GAAtD,CAA0D,UAAC/C,CAAD,EAAO;AAC1E,YAAM4+F,QAAQ5+F,EAAE4gC,MAAhB;AACA,eAAO;AACHnU,eAAGmyE,MAAMnyE,CADN;AAEH+J,eAAGooE,MAAMpoE,CAFN;AAGHzvB,kBAAM/G;AAHH,SAAP;AAKH,KAPY,CAAb;AAQH,CATM;;AAWP;;;;;;;AAOO,IAAMiyK,cAAc,SAAdA,WAAc,CAACznK,MAAD,EAAS0wI,MAAT,EAAiB9lG,MAAjB,EAA4B;AACnD,SAAK,IAAMn0C,GAAX,IAAkBi6I,MAAlB,EAA0B;AACtB,YAAI,GAAGz5I,cAAH,CAAkB5B,IAAlB,CAAuBq7I,MAAvB,EAA+Bj6I,GAA/B,CAAJ,EAAyC;AACrCuJ,mBAAOqpC,KAAP,CAAa5yC,GAAb,EAAkBm0C,SAAS,IAAT,GAAgB8lG,OAAOj6I,GAAP,CAAlC;AACH;AACJ;AACJ,CANM;;AAQP;;;;;;AAMO,IAAMixK,eAAe,SAAfA,YAAe,CAACryI,KAAD,EAAQiQ,OAAR,EAAoB;AAC5C,QAAIqiI,wBAAJ;AACA,QAAIvxI,eAAJ;AAF4C,QAGpC0e,UAHoC,GAGFxP,OAHE,CAGpCwP,UAHoC;AAAA,QAGxB8yH,iBAHwB,GAGFtiI,OAHE,CAGxBsiI,iBAHwB;AAAA,QAIpC7yH,QAJoC,GAILD,UAJK,CAIpCC,QAJoC;AAAA,QAI1B8mB,MAJ0B,GAIL/mB,UAJK,CAI1B+mB,MAJ0B;AAAA,QAIlBuG,QAJkB,GAILttB,UAJK,CAIlBstB,QAJkB;;AAK5C,QAAIwlG,iBAAJ,EAAuB;AACnB3uF,oEAASA,CAAC5jD,MAAMvB,IAAN,EAAV,EAAwB8zI,kBAAkBlgG,KAA1C;AACAtxC,iBAASwxI,kBAAkBxxI,MAA3B;AACA,YAAI,CAACgsC,QAAL,EAAe;AACXulG,8BAAkBtyI,MAAMyf,UAAN,GACbq4E,IADa,CACRwW,kDAAOA,CAAC9nE,MAAR,CADQ,EAEb9mB,QAFa,CAEJA,QAFI,EAGbvsC,EAHa,CAGV,KAHU,EAGH,YAAY;AACnBi/J,4BAAYn9H,gEAAaA,CAAC,IAAd,CAAZ,EAAiClU,MAAjC,EAAyC,IAAzC;AACH,aALa,CAAlB;AAMH,SAPD,MAOO;AACHuxI,8BAAkBtyI,KAAlB;AACH;AACDoyI,oBAAYE,eAAZ,EAA6BvxI,MAA7B;AACH;AACJ,CApBM;;AAsBA,IAAMyxI,iBAAiB,SAAjBA,cAAiB,CAACviI,OAAD,EAAUiiC,MAAV,EAAqB;AAC/C,QAAMugG,aAAaxiI,QAAQyiI,iBAAR,EAAnB;AACA,QAAID,UAAJ,EAAgB;AACZ,eAAOA,WAAWvgG,MAAX,EAAmBjiC,OAAnB,EAA4B,EAAE83F,YAAY93F,QAAQ/E,aAAR,CAAsB68F,UAApC,EAA5B,CAAP;AACH;AACD,WAAO71D,MAAP;AACH,CANM;;AAQP;;;;;;;;;;AAUO,IAAMygG,eAAe,SAAfA,YAAe,CAACx0H,IAAD,EAAOrhC,OAAP,EAAmB;AAC3C,QAAI81J,kBAAJ;AACA,QAAM3mI,QAAQkS,KAAKqwB,YAAL,EAAd;AACA,QAAMjwB,QAAQJ,KAAKI,KAAL,EAAd;AACA,QAAMhqC,QAAQgqC,MAAMhqC,KAAN,EAAd;AACA,QAAMuE,SAASylC,MAAMzlC,MAAN,EAAf;AACA,KAACmzB,KAAD,GAAS2mI,YAAa71J,KAAKmf,GAAL,CAAS3nB,MAAM,CAAN,IAAWA,MAAM,CAAN,CAApB,IAAgCwI,KAAKmf,GAAL,CAASpjB,OAAO,CAAP,IAAYA,OAAO,CAAP,CAArB,CAAjC,GAAoEgE,OAAzF,GACK81J,YAAY3mI,KADjB;;AAGA,WAAO2mI,SAAP;AACH,CAVM;;AAYA,IAAMC,qBAAqB,SAArBA,kBAAqB,CAAC5iI,OAAD,EAAU6iI,iBAAV,EAAgC;AAC9D,QAAMvgB,YAAYtiH,QAAQm8H,iBAAR,EAAlB;AACA,QAAM7sG,OAAOtvB,QAAQsvB,IAAR,EAAb;AACA,QAAM4sG,gBAAgBl8H,QAAQk8H,aAAR,EAAtB;AACA,QAAM19J,SAASwhC,QAAQxhC,MAAR,EAAf;AACA,QAAMuiE,YAAY/gC,QAAQ8iI,UAA1B;;AAEA,WAAO,CAAC,GAAD,EAAM,GAAN,EAAW7vK,GAAX,CAAe,UAACoM,IAAD,EAAU;AAC5B,YAAI0lC,OAAO,CAAX;AACA,YAAI49H,YAAY,CAAhB;AACA,YAAIjxH,UAAU,CAAd;AACA,YAAIqxH,eAAe,EAAnB;AACA,YAAIzgB,UAAajjJ,IAAb,oBAAkC0F,oDAASA,CAACb,SAAhD,EAA2D;AACvD,gBAAI8+J,yBAAJ;AACA,gBAAMC,aAAa3gB,UAAajjJ,IAAb,uBAAqCsF,2DAAgBA,CAACE,QAAzE;AACA,gBAAMq0C,WAAW+pH,aAAajjI,QAAQkjI,SAAR,GAAoBv+F,SAApB,CAA8BtlE,IAA9B,CAAb,GAAmD,CAApE;AACA,gBAAM6uC,OAAOohB,KAAKjwD,IAAL,CAAb;AACA,gBAAMqkB,MAAMllB,eAAaa,KAAKooD,WAAL,EAAb,CAAZ;AACA,gBAAM07G,eAAe3kK,OAAO2kK,YAA5B;AACA,gBAAMpqK,OAAO8pK,iBAAb;AACA,gBAAMv0H,QAAQJ,KAAKI,KAAL,EAAd;AACAq0H,wBAAYD,aAAax0H,IAAb,EAAmBgL,QAAnB,CAAZ;AACA,gBAAMkqH,kBAAkBl1H,KAAKxyC,WAAL,CAAiB2D,IAAjB,OAA4B0zC,IAApD;AACA,gBAAMswH,cAAcn1H,KAAK1vC,MAAL,GAAckzC,OAAlC;AACA;AACA;AACA;AACA,gBAAIwqH,kBAAkB,OAAtB,EAA+B;AAC3B,oBAAMoH,eAAeF,kBAAkB,CAAlB,GAAsBC,cAAcV,SAAd,GAA0B,CAArE;AACA5hG,0BAAUz8D,KAAV,CAAgB,CAACg/J,YAAD,EAAeX,YAAYW,YAA3B,CAAhB,EAA0Dz6J,MAA1D,CAAiE9P,IAAjE,EAAuEokG,YAAvE,CAAoFgmE,YAApF;AACAp+H,uBAAOg8B,UAAUtuB,SAAV,EAAP;AACAuwH,mCAAmBL,aAAaS,kBAAkB,CAAlB,GAAsBC,cAAcV,SAAjD,CAAnB;AACAI,+BAAehqK,KAAK9F,GAAL,CAAS;AAAA,2BAAO8tE,UAAU5vE,GAAV,KAAkBiyK,kBAAkB,CAAlB,GAAuBT,YAAY,CAArD,CAAP;AAAA,iBAAT,CAAf;AACH,aAND,MAMO,IAAIj/I,QAAQnrB,SAAZ,EAAuB;AAC1B,oBAAIygD,eAAJ;AACA,oBAAIoqH,eAAJ,EAAqB;AACjB,wBAAMtoH,OAAOxM,MAAMwM,IAAN,EAAb;AACA9B,6BAAS1K,MAAMoD,OAAN,KAAkBoJ,IAA3B;AACA/V,2BAAOuJ,MAAMmE,SAAN,KAAoBuG,MAA3B;AACH,iBAJD,MAIO;AACHjU,2BAAO49H,SAAP;AACH;AACDI,+BAAehqK,KAAK9F,GAAL,CAAS;AAAA,2BAAOmwK,kBAAkB,EAAEpqH,SAAS,CAAX,CAAlB,GAAkC,EAAEjU,OAAO,CAAT,CAAzC;AAAA,iBAAT,CAAf;AACH,aAVM,MAUA;AACH2M,0BAAU0xH,kBAAkB,CAAlB,GAAsBC,cAAcV,SAA9C;AACA59H,uBAAO49H,YAAYjxH,OAAnB;AACAsxH,mCAAmBj+H,IAAnB;AACAg+H,+BAAehqK,KAAK9F,GAAL,CAAS;AAAA,2BAAOmwK,kBAAkB,CAAlB,GAAsB,EAAEr+H,OAAO,CAAT,CAA7B;AAAA,iBAAT,CAAf;AACH;;AAED49H,wBAAYK,gBAAZ;AACAtxH,sBAAU0xH,kBAAkBC,cAAcn1H,KAAKI,KAAL,GAAawM,IAAb,EAAhC,GAAsDuoH,cAAcV,SAA9E;AACH;;AAED,eAAO;AACH59H,sBADG;AAEHg+H,sCAFG;AAGHJ,gCAHG;AAIHjxH;AAJG,SAAP;AAMH,KArDM,CAAP;AAsDH,CA7DM;;AA+DA,IAAMkoH,wBAAwB,SAAxBA,qBAAwB,CAAC55H,OAAD,EAAa;AAC9C,QAAMzc,QAAQyc,QAAQzc,KAAR,EAAd;AACA,QAAMswH,cAAc7zG,QAAQtkC,WAAR,CAAoBk4I,QAApB,GAA+B,CAA/B,CAApB;AACA,QAAMh3E,YAAY58B,QAAQs8B,OAAR,GAAkBM,SAApC;AACA,SAAK,IAAMnsC,IAAX,IAAmBojH,WAAnB,EAAgC;AAC5BtwH,cAAM4N,MAAN,CAAgBurC,2DAAgBA,CAACorE,sBAAjC,SAA2Dr3G,IAA3D,sBACKmsC,SADL,EACiB,IADjB;AAGH;AACJ,CATM,C;;;;;;;;;;;;ACrcN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACVD;AAAA;AAAA;;AAEek+E,qHAAf,E;;;;;;;;;;;;;;;;ACFA;;AAEA,IAAMyoB,uBAAuB,SAAvBA,oBAAuB,CAAC7gC,IAAD,EAAOx3C,UAAP,EAAmB/vB,QAAnB,EAA6BqoG,SAA7B,EAA2C;AACpE,SAAK,IAAMryK,GAAX,IAAkB+5F,UAAlB,EAA8B;AAC1B,YAAI56F,OAAOqB,cAAP,CAAsB5B,IAAtB,CAA2Bm7F,UAA3B,EAAuC/5F,GAAvC,CAAJ,EAAiD;AAC7C,gBAAIsyK,aAAJ;AACA,gBAAI5rG,kBAAJ;AACA,gBAAM5mD,MAAMi6E,WAAW/5F,GAAX,CAAZ;AACA,gBAAIqiC,iEAAcA,CAACviB,GAAf,CAAJ,EAAyB;AACrByxH,qBAAKvxI,GAAL,IAAY,EAAZ;AACAoyK,qCAAqB7gC,KAAKvxI,GAAL,CAArB,EAAgC8f,GAAhC,EAAqCkqD,QAArC,EAA+CqoG,SAA/C;AACH,aAHD,MAGO,IAAI,OAAOvyJ,GAAP,KAAe,QAAf,KAA4BwyJ,OAAOxyJ,IAAI3B,KAAJ,CAAU,GAAV,CAAnC,KAAsDm0J,KAAK,CAAL,MAAYD,SAAtE,EAAiF;AACpF3rG,4BAAY4D,qDAAUA,mBAACN,QAAX,4BAAwBsoG,KAAK7uK,KAAL,CAAW,CAAX,EAAc6uK,KAAKnvK,MAAnB,CAAxB,GAAZ;AACA,oBAAIujE,cAAct/D,SAAlB,EAA6B;AACzBmqI,yBAAKvxI,GAAL,IAAY0mE,SAAZ;AACH;AACJ,aALM,MAKA;AACH6qE,qBAAKvxI,GAAL,IAAY8f,GAAZ;AACH;AACJ;AACJ;AACJ,CAnBD;;AAqBA,IAAMyyJ,mBAAmB,SAAnBA,gBAAmB,CAACloG,QAAD,EAAc;AACnC;AACA,SAAK,IAAMrqE,GAAX,IAAkBqqE,QAAlB,EAA4B;AACxB,YAAI,OAAOA,SAASrqE,GAAT,CAAP,KAAyB,QAA7B,EAAuC;AACnCqqE,qBAASrqE,GAAT,IAAgB;AACZkH,uBAAOmjE,SAASrqE,GAAT;AADK,aAAhB;AAGH;AACJ;AACJ,CATD;;AAWA;;;;;;;;;AASA,IAAM2pJ,eAAgB,YAAM;AACxB,QAAM6oB,kBAAkB,EAAxB;AACA,QAAMC,aAAa;AACfC,0BAAkB,0BAACjxB,GAAD,EAAS;AACvBgxB,uBAAWE,cAAX,GAA4BlxB,GAA5B;AACH,SAHc;AAIfiT,2BAAmB,2BAACzqF,IAAD,EAAOD,QAAP,EAAoB;AACnC,gBAAI4oG,uBAAJ;AACA,gBAAMt4F,OAAOk4F,gBAAgBvoG,IAAhB,CAAb;AACA,gBAAMghF,UAAUjhH,iEAAcA,CAAC,EAAf,EAAmBggC,QAAnB,CAAhB;;AAEI;AACJ,gBAAIsQ,IAAJ,EAAU;AACNs4F,iCAAiBt4F,KAAKx4E,GAAL,CAAS,UAAC+wK,YAAD,EAAkB;AACxC,wBAAMC,OAAO,EAAb;AACAV,yCAAqBU,IAArB,EAA2BD,YAA3B,EAAyC5nB,OAAzC,EAAkDhhF,IAAlD;AACAsoG,qCAAiBO,KAAKzoG,QAAtB;AACA,2BAAOyoG,IAAP;AACH,iBALgB,CAAjB;AAMH,aAPD,MAOO;AACH,oBAAMzoG,WAAW4gF,QAAQ5gF,QAAzB;AACA;AACAkoG,iCAAiBloG,QAAjB;AACAuoG,iCAAiB3nB,OAAjB;AACH;;AAED,mBAAO2nB,cAAP;AACH,SAzBc;AA0BfG,0BAAkB,0BAAC/oG,QAAD,EAAyB;AAAA,8CAAXx8D,MAAW;AAAXA,sBAAW;AAAA;;AACvC,gBAAMs8D,gBAAgB2oG,WAAWE,cAAjC;AACA3oG,uBAAW,EAAEA,oBAAoBvjE,KAAtB,IAA+B,CAACujE,QAAD,CAA/B,GAA4CA,QAAvD;AACA,gBAAMU,YAAYV,SAASloE,GAAT,CAAa,UAAC2oE,QAAD,EAAc;AACzC,oBAAMuoG,mBAAmBlpG,cAAcW,SAASR,IAAvB,CAAzB;AACA,uBAAO+oG,iBAAiBjzK,MAAjB,yBAA2ByN,MAA3B,CAAP;AACH,aAHiB,CAAlB;AAIA,mBAAOk9D,UAAUvnE,MAAV,KAAqB,CAArB,GAAyBunE,UAAU,CAAV,CAAzB,GAAwCA,SAA/C;AACH,SAlCc;AAmCfuoG,uBAAe;AAAA,mBAAQR,WAAWE,cAAX,CAA0B1oG,IAA1B,CAAR;AAAA,SAnCA;AAoCf;;;;;;;;AAQAipG,uBAAe,uBAACb,SAAD,EAAYxoG,SAAZ,EAA0B;AACrC2oG,4BAAgBH,SAAhB,IAA6BxoG,SAA7B;AACH,SA9Cc;AA+Cf4pF,6BAAqB,6BAACzpF,QAAD,EAAc;AAC/B,gBAAMihF,UAAUjhH,iEAAcA,CAAC,EAAf,EAAmBggC,QAAnB,CAAhB;AACAuoG,6BAAiBtnB,QAAQ5gF,QAAzB;AACA,mBAAO4gF,OAAP;AACH;AAnDc,KAAnB;AAqDA,WAAOwnB,UAAP;AACH,CAxDoB,EAArB;;AA0De9oB,2EAAf,E;;;;;;;;;;;;ACrGA;AAAA;AAAA;;AAEe,2EAAM;AACjB,QAAMlI,MAAMsrB,wDAAZ;AACA,QAAMoG,SAAS;AACXpqJ,aAAK,aAAC/oB,GAAD,EAAM8f,GAAN,EAAc;AACf2hI,gBAAIzhJ,GAAJ,IAAW8f,GAAX;AACA,mBAAOqzJ,MAAP;AACH,SAJU;AAKX7zK,aAAK;AAAA,mBAAMmiJ,GAAN;AAAA;AALM,KAAf;AAOA,WAAO0xB,MAAP;AACH,CAVD,E;;;;;;;;;;;;;;;;;;;;;;;ACFA;AACA;;AAEA;;;;;;;AAOO,IAAMC,gBAAgB,SAAhBA,aAAgB,CAACpmK,KAAD,EAAQmG,KAAR,EAAeuE,MAAf,EAAuB27J,aAAvB,EAAsCrtF,QAAtC,EAAmD;AAC5E,QAAIstF,mBAAmB,CAAvB;AAD4E,QAGxEC,gBAHwE,GAKxEvmK,KALwE,CAGxEumK,gBAHwE;AAAA,QAIxEr5G,OAJwE,GAKxEltD,KALwE,CAIxEktD,OAJwE;;AAM5E,QAAMs5G,iBAAiBxtF,SAAStuE,MAAT,EAAvB;AACA,QAAM+7J,iBAAiBztF,SAASK,OAAT,CAAiBnsB,OAAjB,KAA6Bs5G,iBAAiBxtF,SAAS7yE,KAAT,GAAiB,CAAjB,CAAjB,GAAuC6yE,SAAS34E,MAAT,GAAkB3N,KAAtF,CAAvB;;AAEA4zK,wBAAoB,CAACngK,MAAM,CAAN,IAAWA,MAAM,CAAN,CAAZ,KAAyBuE,OAAO,CAAP,IAAYA,OAAO,CAAP,CAArC,CAApB;AACA,QAAMg8J,WAAYvgK,MAAM,CAAN,IAAW,CAACogK,mBAAmB77J,OAAO,CAAP,CAApB,IAAiC47J,gBAA9D;AACA,WAAO,CAACI,YAAYL,aAAb,IAA8BI,cAArC;AACH,CAZM;;AAcP;;;;;AAKO,IAAME,iBAAiB,SAAjBA,cAAiB,CAAC9oI,KAAD,EAAQC,MAAR,EAAgBz9B,MAAhB,EAA2B;AAAA,QAEjDumK,cAFiD,GAMjDvmK,MANiD,CAEjDumK,cAFiD;AAAA,QAGjD73D,WAHiD,GAMjD1uG,MANiD,CAGjD0uG,WAHiD;AAAA,QAIjDE,WAJiD,GAMjD5uG,MANiD,CAIjD4uG,WAJiD;AAAA,QAKjD43D,gBALiD,GAMjDxmK,MANiD,CAKjDwmK,gBALiD;;;AAQrD,WAAO,CAACl4J,KAAKxD,GAAL,CAAU4jG,cAAc83D,gBAAd,IAAkC,CAA5C,EAAgDD,cAAhD,CAAD,EAAkE33D,eAAetgG,KAAK3D,GAAL,CAAS8yB,MAAT,EACpFD,KADoF,IAC3E,CADN,CAAP;AAEH,CAVM;AAWA,IAAMipI,mBAAmB,SAAnBA,gBAAmB,CAACC,QAAD,EAAWC,SAAX,EAAsB3mK,MAAtB,EAAiC;AAC7D,QAAM4mK,UAAUF,SAASC,YAAY,CAArB,CAAhB;AACA,QAAME,UAAUH,SAASC,SAAT,CAAhB;;AAEA,QAAIC,WAAWC,OAAf,EAAwB;AACpB,eAAO;AACH/3D,wBAAY83D,QAAQ53D,QADjB;AAEHA,sBAAU63D,QAAQ/3D;AAFf,SAAP;AAIH,KALD,MAKO,IAAI,CAAC+3D,OAAL,EAAc;AACjB,eAAO;AACH/3D,wBAAY9uG,OAAOgvG,QAAP,GAAkB1gG,KAAKqoC,EAAvB,GAA4B,CAA5B,GAAgC,GADzC;AAEHq4D,sBAAUhvG,OAAOgvG,QAAP,GAAkB1gG,KAAKqoC,EAAvB,GAA4B,CAA5B,GAAgC;AAFvC,SAAP;AAIH;AACD,WAAO;AACHm4D,oBAAY9uG,OAAO8uG,UAAP,GAAoBxgG,KAAKqoC,EAAzB,GAA8B,CAA9B,GAAkC,GAD3C;AAEHq4D,kBAAUhvG,OAAO8uG,UAAP,GAAoBxgG,KAAKqoC,EAAzB,GAA8B,CAA9B,GAAkC;AAFzC,KAAP;AAIH,CAnBM;;AAqBP;;;;;;;;AAQO,IAAMmwH,WAAW,SAAXA,QAAW,CAACryJ,IAAD,EAAOsyJ,gBAAP,EAAyBhvJ,CAAzB,EAA+B;AAAA,QAC3CpY,KAD2C,GACjCoY,EAAE,CAAF,CADiC,CAC3CpY,KAD2C;;AAEnD,QAAMivG,cAAcm4D,iBAAiBpnK,KAAjB,CAApB;AACAA,UAAMivG,WAAN,GAAoBA,WAApB;AACAjvG,UAAMqnK,aAAN,CAAoBp4D,WAApB,GAAkCjvG,MAAMqnK,aAAN,CAAoBp4D,WAApB,IAAmCA,WAArE;AACA,WAAO,UAAUt8G,CAAV,EAAa;AAChB,eAAOmiB,KAAKwgC,+DAAYA,GAAGt1C,MAAMqnK,aAArB,EAAoCrnK,KAApC,EAA2CrN,CAA3C,CAAL,CAAP;AACH,KAFD;AAGH,CARM;;AAUP;;;;;;;;AAQO,IAAM20K,eAAe,SAAfA,YAAe,CAACC,gBAAD,EAAmBl2H,UAAnB,EAA+B+1H,gBAA/B,EAAiDtyJ,IAAjD,EAA0D;AAClF,QAAIyyJ,iBAAiBpxK,MAAjB,GAA0B,CAA9B,EAAiC;AAC7BoxK,yBAAiB/xK,OAAjB,CAAyB,UAACgyK,kBAAD,EAAwB;AAC7C,gBAAMr4D,aAAaq4D,mBAAmB,CAAnB,EAAsBxnK,KAAtB,CAA4BmvG,UAA/C;AACA,gBAAME,WAAWm4D,mBAAmBA,mBAAmBrxK,MAAnB,GAA4B,CAA/C,EAAkD6J,KAAlD,CAAwDqvG,QAAzE;AACA,gBAAMjpG,MAAOuI,KAAKqoC,EAAL,GAAU,CAAV,GAAcm4D,UAAf,IAA+BxgG,KAAKqoC,EAAL,GAAU,CAAX,GAAgBm4D,UAAhB,GAA6BE,QAA3D,CAAZ;;AAEAm4D,+BAAmBhyK,OAAnB,CAA2B,UAAC8J,CAAD,EAAO;AAAA,oBACtBO,IADsB,GACNP,CADM,CACtBO,IADsB;AAAA,oBAChBG,KADgB,GACNV,CADM,CAChBU,KADgB;;;AAG9BH,qBAAKmnC,IAAL,CAAU,YAAY;AAClB,wBAAMygI,QAAQ5gI,gEAAaA,CAAC,IAAd,CAAd;AACA4gI,0BAAM71H,SAAN,CAAgB,MAAhB,EACiBP,UADjB,GAEiBC,QAFjB,CAE0BD,WAAWC,QAFrC,EAGiB64E,SAHjB,CAG2B,GAH3B,EAGgC;AAAA,+BAAM,UAAUx3H,CAAV,EAAa;AAC/B,gCAAMs8G,cAAcm4D,iBAAiBpnK,KAAjB,CAApB;AACAA,kCAAMivG,WAAN,GAAoBA,WAApB;AACA,mCAAOn6F,KAAKwgC,+DAAYA,GAAGt1C,KAAf,EAAsB;AAC9BmvG,4CAAY/oG,GADkB;AAE9BipG,0CAAUjpG,GAFoB;AAG9B6oG;AAH8B,6BAAtB,EAITt8G,CAJS,CAAL,CAAP;AAKH,yBARe;AAAA,qBAHhC,EAYiBw0C,MAZjB;AAaAsgI,0BAAMtgI,MAAN;AACH,iBAhBD;AAiBH,aApBD;AAqBH,SA1BD;AA2BH;AACJ,CA9BM;;AAgCA,IAAMugI,kBAAkB,SAAlBA,eAAkB,CAACrqG,QAAD,EAAWv6D,YAAX,EAA4B;AAAA,eACE,CAACupJ,sDAAD,EAAQD,uDAAR,EAAgBvxH,sDAAhB,EAAuB6vB,qDAAvB,EAChD51D,GADgD,CAC5C;AAAA,eAAKuoE,SAAS/9D,CAAT,EAAYpF,KAAjB;AAAA,KAD4C,CADF;AAAA;AAAA,QAChDytK,UADgD;AAAA,QACpCC,WADoC;AAAA,QACvB3b,UADuB;AAAA,QACXD,SADW;;AAAA,gBAGV,CAAC2b,UAAD,EAAa3b,SAAb,EAAwB4b,WAAxB,EACxC9yK,GADwC,CACpC,UAACwK,CAAD,EAAO;AACR,YAAMg7E,OAAOx3E,aAAaxD,CAAb,CAAb;AACA,YAAIg7E,QAAQA,KAAKxnE,GAAL,CAAS5R,IAAT,KAAkB0F,oDAASA,CAACC,OAAxC,EAAiD;AAC7C,mBAAOyzE,KAAKl3E,KAAZ;AACH;AACD,eAAO,IAAP;AACH,KAPwC,CAHU;AAAA;AAAA,QAGhDykK,UAHgD;AAAA,QAGpCC,SAHoC;AAAA,QAGzBC,WAHyB;;AAWvD,QAAMC,aAAa1qG,6DAAUA,CAACx6D,YAAX,EAAyBmpJ,UAAzB,EAAqC,OAArC,CAAnB;AACA,WAAO;AACH4b,8BADG;AAEHC,4BAFG;AAGHC,gCAHG;AAIHC;AAJG,KAAP;AAMH,CAlBM,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvHP;AAUA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMxuD,MAAMpxE,kDAAOA,CAACoxE,GAApB;AACA,IAAM7b,MAAMv1D,kDAAOA,CAACu1D,GAApB;;AAEA;;;;;;;;;;IASqBsiE,Q;;;AAEjB,sBAAannK,IAAb,EAAmBq4D,IAAnB,EAAyB9wD,MAAzB,EAAiCs0B,YAAjC,EAA+C;AAAA;;AAAA,wHACrC77B,IADqC,EAC/Bq4D,IAD+B,EACzB9wD,MADyB,EACjBs0B,YADiB;;AAE3C,cAAKszI,YAAL,GAAoB,EAApB;AAF2C;AAG9C;;AAED;;;;;;;;;;;;;AAsBA;;;;;;mCAMY;AACR,mBAAO,MAAP;AACH;;AAED;;;;;;;;;;;2CAQoBx1J,S,EAAWpS,M,EAAQ;AAAA;;AACnC,gBAAI6nK,UAAU,EAAd;AACA,gBAAMC,WAAW,EAAjB;AAFmC,gBAI/Bh5D,UAJ+B,GAS/B9uG,MAT+B,CAI/B8uG,UAJ+B;AAAA,gBAK/BE,QAL+B,GAS/BhvG,MAT+B,CAK/BgvG,QAL+B;AAAA,gBAM/BhyC,QAN+B,GAS/Bh9D,MAT+B,CAM/Bg9D,QAN+B;AAAA,gBAO/B1+D,IAP+B,GAS/B0B,MAT+B,CAO/B1B,IAP+B;AAAA,gBAQ/BioK,cAR+B,GAS/BvmK,MAT+B,CAQ/BumK,cAR+B;;AAUnC,gBAAMG,WAAW,KAAKlH,gBAAL,IAAyB,EAA1C;AACA,gBAAM/8J,eAAe,KAAKhK,IAAL,GAAYiK,eAAZ,EAArB;;AAXmC,mCAiB/B2kK,mEAAeA,CAACrqG,QAAhB,EAA0Bv6D,YAA1B,CAjB+B;AAAA,gBAa/B+kK,UAb+B,oBAa/BA,UAb+B;AAAA,gBAc/BC,SAd+B,oBAc/BA,SAd+B;AAAA,gBAe/BC,WAf+B,oBAe/BA,WAf+B;AAAA,gBAgB/BC,UAhB+B,oBAgB/BA,UAhB+B;;AAkBnC,gBAAMI,UAAU31J,UAAUpU,OAAV,EAAhB;AACA,gBAAMvF,OAAOsvK,QAAQtvK,IAArB;AACA,gBAAMsG,OAAOgpK,QAAQhpK,IAArB;;AAEA,iBAAK6oK,YAAL,GAAoB,EAApB;;AAEAlB,qBAASvxK,OAAT,CAAiB,UAAC8J,CAAD,EAAI8D,KAAJ,EAAc;AAC3B,uBAAK6kK,YAAL,CAAkB3oK,EAAE+oK,GAApB,IAA2B,CAAC/oK,CAAD,EAAI8D,KAAJ,CAA3B;AACA+kK,yBAAS7oK,EAAE8D,KAAX,IAAoB9D,CAApB;AACH,aAHD;AAIA;AACA;;AAEA4oK,sBAAU1uD,MACLrK,UADK,CACOA,aAAa,GAAd,GAAqBxgG,KAAKqoC,EADhC,EAELq4D,QAFK,CAEI1gG,KAAKqoC,EAAL,GAAUq4D,QAAV,GAAqB,GAFzB,EAGL38G,KAHK,CAGC;AAAA,uBAAKX,EAAE81K,UAAF,KAAiB,CAAtB;AAAA,aAHD,EAIL3nF,UAJK,CAIM,IAJN,CAAV;;AAMAvhF,iBAAKxI,MAAL,IAAe4xK,WAAf,IAA8BG,QAAQvpK,IAAR,CAAa,UAACwZ,CAAD,EAAIC,CAAJ,EAAU;AACjD,oBAAIzZ,SAASiiK,0DAAb,EAAwB;AACpB,2BAAOzoJ,EAAE4vJ,WAAF,IAAiB3vJ,EAAE2vJ,WAAF,CAAxB;AACH,iBAAC,OAAO3vJ,EAAE2vJ,WAAF,IAAiB5vJ,EAAE4vJ,WAAF,CAAxB;AACL,aAJ6B,CAA9B;AAKA,gBAAM76G,UAAUp0D,KAAK2G,MAAL,CAAY,UAACC,GAAD,EAAM3N,CAAN;AAAA,uBAAY2N,OAAO3N,EAAE+1K,SAAF,KAAgB,CAAvB,CAAZ;AAAA,aAAZ,EAAmD,CAAnD,CAAhB;;AAEA;AACAI,sBAAUA,QAAQpvK,IAAR,EAAchE,GAAd,CAAkB,UAAC/C,CAAD,EAAIL,CAAJ,EAAU;AAClCK,kBAAEw0K,gBAAF,GAAqBztK,KAAKpH,CAAL,EAAQq2K,WAAR,KAAwBnB,cAA7C;AACA70K,kBAAEg9G,WAAF,GAAgB1uG,OAAO0uG,WAAvB;AACAh9G,kBAAEu2K,QAAF,GAAaxvK,KAAKpH,CAAL,EAAQs2K,UAAR,CAAb;AACAj2K,kBAAEw2K,QAAF,GAAazvK,KAAKpH,CAAL,EAAQm2K,UAAR,CAAb;AACA91K,kBAAEm7D,OAAF,GAAYA,OAAZ;AACAn7D,kBAAEs2K,GAAF,GAAQjpK,KAAK1N,CAAL,CAAR;AACAK,kBAAE6iK,KAAF,GAAU7iK,EAAEs2K,GAAZ;AACAt2K,kBAAEsxB,MAAF,GAAWvqB,KAAKpH,CAAL,CAAX;AACAK,kBAAEs1K,aAAF,GAAkB,OAAKY,YAAL,CAAkBl2K,EAAEs2K,GAApB,IAA2B,OAAKJ,YAAL,CAAkBl2K,EAAEs2K,GAApB,EAAyB,CAAzB,CAA3B,GACdvB,oEAAgBA,CAACqB,QAAjB,EAA2Bp2K,EAAEqR,KAA7B,EAAoC/C,MAApC,CADJ;AAEA,uBAAOtO,CAAP;AACH,aAZS,CAAV;AAaA,mBAAOm2K,OAAP;AACH;;AAED;;;;;;;;;;0CAOmBpvK,I,EAAM;AACrB,mBAAOA,IAAP;AACH;;AAED;;;;;;;;;;gDAOyBA,I,EAAM;AAC3B,gBAAM0vK,YAAYjI,mEAAlB;AACA,mBAAO;AACH9sD,wBAAQyrB,oEAAiBA,CAAC,CAACpmI,IAAD,CAAlB,EAA0B,CAAC0vK,SAAD,EAAYA,SAAZ,CAA1B;AADL,aAAP;AAGH;;AAED;;;;;;;;;;;wCAQiBhqJ,C,EAAG+J,C,EAAgB;AAAA,gBAAbloB,MAAa,uEAAJ,EAAI;;AAChC,gBAAMqgE,YAAY75B,gEAAaA,CAACxmC,OAAOswD,KAAP,CAAap0D,MAA3B,EAAmCzD,IAAnC,GAA0C,CAA1C,CAAlB;AACA,gBAAIu8B,iEAAcA,CAACqrC,SAAf,CAAJ,EAA+B;AAAA,uCACLA,UAAU1gE,KADL;AAAA,oBACnBlH,IADmB,oBACnBA,IADmB;AAAA,oBACbuvK,GADa,oBACbA,GADa;;AAE3B,uBAAO;AACH/iI,wBAAI,KAAKmjI,sBAAL,CAA4B3vK,IAA5B,EAAkCuvK,GAAlC,CADD;AAEHK,6BAAS,KAAKpjI,EAAL;AAFN,iBAAP;AAIH;AACD,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;+CAOwBvpB,G,EAAK;AACzB,mBAAO8qB,gEAAaA,CAAC,KAAKjV,KAAL,EAAd,EAA4BggB,SAA5B,CAAsC,KAAK4yB,QAAL,EAAtC,EAAuD5wD,MAAvD,CAA8D;AAAA,uBAAKmI,IAAInc,OAAJ,CAAY7N,EAAEiO,KAAF,CAAQqoK,GAApB,MAA6B,CAAC,CAAnC;AAAA,aAA9D,CAAP;AACH;;AAED;;;;;;;;;;+BAOQ9jG,S,EAAW;AAAA;;AAAA,+BAIX,KAAK5nC,WAAL,EAJW;AAAA,gBAEXmB,MAFW,gBAEXA,MAFW;AAAA,gBAGXD,KAHW,gBAGXA,KAHW;;AAAA,0BAiBZ,KAAKx9B,MAAL,EAjBY;AAAA,gBAMX8lC,WANW,WAMXA,WANW;AAAA,gBAOXsQ,YAPW,WAOXA,YAPW;AAAA,gBAQXmwH,cARW,WAQXA,cARW;AAAA,gBASX73D,WATW,WASXA,WATW;AAAA,gBAUXE,WAVW,WAUXA,WAVW;AAAA,gBAWXgC,YAXW,WAWXA,YAXW;AAAA,gBAYX1B,QAZW,WAYXA,QAZW;AAAA,gBAaX2B,SAbW,WAaXA,SAbW;AAAA,gBAcX39D,OAdW,WAcXA,OAdW;AAAA,gBAeXlC,UAfW,WAeXA,UAfW;AAAA,gBAgBXw1H,gBAhBW,WAgBXA,gBAhBW;;AAkBf,gBAAM7tF,WAAW,KAAK7nB,IAAL,GAAYoM,IAA7B;AACA,gBAAM8B,kBAAkB,KAAKwgG,gBAA7B;AACA,gBAAM8I,cAAc7qI,SAASyV,QAAQ3a,GAAjB,GAAuB2a,QAAQza,MAAnD;AACA,gBAAM8vI,aAAa/qI,QAAQ0V,QAAQiI,IAAhB,GAAuBjI,QAAQkI,KAAlD;AACA,gBAAMotH,gBAAgBvkG,wEAAqBA,CAAC7tB,YAAtB,EAAoC,KAAKnR,EAAL,EAApC,EAA+Ca,WAA/C,CAAtB;AACA;AACA,gBAAMhgC,QAAQwgK,kEAAcA,CAACiC,UAAf,EAA2BD,WAA3B,EAAwC;AAClD/B,8CADkD;AAElD73D,wCAFkD;AAGlDE,wCAHkD;AAIlD43D;AAJkD,aAAxC,CAAd;AAMA,gBAAM/tF,YAAY,KAAK3nB,IAAL,GAAYzrB,KAA9B;AACA,gBAAM2gI,gBAAgBp3D,eAAetgG,KAAK3D,GAAL,CAAS29J,WAAT,EAAsBC,UAAtB,IAAoC,CAAzE;AACA,gBAAME,eAAe,KAAKp+J,MAAL,GAAc+oG,MAAnC;AACA,gBAAM2zD,mBAAmB,SAAnBA,gBAAmB;AAAA,uBAAKhB,iEAAaA,CAACr0K,CAAd,EAAiBoU,KAAjB,EAAwB2iK,YAAxB,EAAsCzC,aAAtC,EAAqDrtF,QAArD,CAAL;AAAA,aAAzB;AACA;AACA,gBAAMlkE,OAAO6oF;AACL;AADK,aAEJoR,WAFI,CAEQA,cAAcpgG,KAAK3D,GAAL,CAAS29J,cAAc,CAAvB,EAA0BC,aAAa,CAAvC,EAA0C75D,WAA1C,CAAd,GAAuE,CAF/E,EAGJkC,YAHI,CAGSA,YAHT,EAIJ1B,QAJI,CAIKA,QAJL,EAKJ2B,SALI,CAKMA,SALN,CAAb;AAMA,iBAAK63D,WAAL,GAAmBH,UAAnB;AACA,iBAAKI,YAAL,GAAoBL,WAApB;AACA;AACA,gBAAMr9E,IAAIrmD,8DAAWA,CAAC4B,gEAAaA,CAAC09B,SAAd,CAAZ,EAAsC,GAAtC,EAA2C,CAAC,CAAD,CAA3C,EAAmDskG,cAAc,CAAd,CAAnD,aACDxiI,OADC,CACUwiI,cAAc,CAAd,CADV,aACoC,IADpC,EAEDpiI,IAFC,CAEI,WAFJ,iBAE8BmiI,aAAa,CAF3C,SAEgDD,cAAc,CAF9D,OAAV;AAGA,gBAAMr+C,QAAQ,SAARA,KAAQ,CAACzqH,IAAD,EAAU;AACpBolC,8EAAWA,CAACplC,IAAZ,EAAkB,MAAlB,EAA0B,UAAC9N,CAAD,EAAIL,CAAJ;AAAA,2BAAU,CAAC;AACjCsO,+BAAOjO,CAD0B;AAEjCqR,+BAAO1R,CAF0B;AAGjCu3K,+BAAOn0J,IAH0B;AAIjCnD,8BAAM;AACFmwJ,2CAAehpF,UAAUr7B,WAAV,CAAsB1rD,EAAEu2K,QAAxB,CADb;AAEFzG,wCAAY,EAFV;AAGFM,4CAAgB;AAHd;AAJ2B,qBAAD,CAAV;AAAA,iBAA1B,EASO0G,cAAc,CAAd,CATP,YAUiBjjI,KAVjB,CAUuB,MAVvB,EAU+B;AAAA,2BAAKkzC,UAAUK,QAAV,CAAmBpnF,EAAEiO,KAAF,CAAQsoK,QAA3B,CAAL;AAAA,iBAV/B,EAWiBj3H,UAXjB,GAYiBC,QAZjB,CAY0BD,WAAWC,QAZrC,EAaiB64E,SAbjB,CAa2B,GAb3B,EAagC;AAAA,sDAAI3pH,MAAJ;AAAIA,8BAAJ;AAAA;;AAAA,2BAAe2mK,4DAAQA,CAACryJ,IAAT,EAAesyJ,gBAAf,EAAiC5mK,MAAjC,CAAf;AAAA,iBAbhC,EAciBimC,IAdjB,CAcsB,OAdtB,EAc+B,UAAC10C,CAAD,EAAIL,CAAJ,EAAU;AACrB,wBAAMw3K,kBAAkB3F,uEAAsBA,CAACxxK,CAAvB,EAA0BL,CAA1B,EAA6B2tE,eAA7B,EAA8C,MAA9C,CAAxB;AACA,2BAAUwpG,cAAc,CAAd,CAAV,cAAmCA,cAAc,CAAd,CAAnC,cAA4D92K,EAAEqR,KAA9D,8CACM8lK,eADN;AAEH,iBAlBjB;AAmBH,aApBD;AAqBA,gBAAM3B,mBAAmB,EAAzB;AACA,gBAAI4B,cAAc,CAAlB;AACA,gBAAMC,YAAY,SAAZA,SAAY,CAACvpK,IAAD,EAAO9N,CAAP,EAAa;AAC3B,oBAAIs3K,UAAU9B,iBAAiB4B,WAAjB,CAAd;AACA,oBAAMG,iBAAiBH,WAAvB;AACA,oBAAI,CAACE,OAAL,EAAc;AACVA,8BAAU,CAAC,EAAExpK,UAAF,EAAQG,OAAOjO,CAAf,EAAD,CAAV;AACH,iBAFD,MAEO,IAAIs3K,QAAQA,QAAQlzK,MAAR,GAAiB,CAAzB,EAA4B6J,KAA5B,CAAkCoD,KAAlC,KAA4CrR,EAAEqR,KAAF,GAAU,CAA1D,EAA6D;AAChEimK,4BAAQ3zK,IAAR,CAAa,EAAEmK,UAAF,EAAQG,OAAOjO,CAAf,EAAb;AACH,iBAFM,MAEA;AACHo3K;AACH;AACD5B,iCAAiB+B,cAAjB,IAAmCD,OAAnC;AACH,aAXD;AAYA;AACApkI,0EAAWA,CAACqmD,CAAZ,EAAe,GAAf,EAAoBjsB,eAApB,OAAwCwpG,cAAc,CAAd,CAAxC,EACI;AACIl2I,wBAAQ23F,KADZ;AAEIpjF,sBAAMkiI;AAFV,aADJ,EAKiB3iI,IALjB,CAKsB,OALtB,EAK+B,UAAC10C,CAAD,EAAIL,CAAJ;AAAA,uBAAam3K,cAAc,CAAd,CAAb,SAAiCA,cAAc,CAAd,CAAjC,SAAqDn3K,CAArD;AAAA,aAL/B;AAMA41K,4EAAYA,CAACC,gBAAb,EAA+Bl2H,UAA/B,EAA2C+1H,gBAA3C,EAA6DtyJ,IAA7D;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;iDAO0B7Q,W,EAAa;AACnC,gBAAI,CAAC,KAAKnL,IAAL,EAAL,EAAkB;AACd,uBAAO,EAAP;AACH;AACD,gBAAMuG,aAAa4E,YAAY,CAAZ,CAAnB;AACA,gBAAM2O,SAAS3O,YAAYxN,KAAZ,CAAkB,CAAlB,EAAqBwN,YAAY9N,MAAjC,CAAf;AACA,gBAAMozK,YAAY1iI,gEAAaA,CAAC,KAAKjV,KAAL,EAAd,EAA4BggB,SAA5B,CAAsC,MAAtC,EAA8C94C,IAA9C,EAAlB;AACA,gBAAMgK,eAAe,KAAKhK,IAAL,GAAYiK,eAAZ,EAArB;;AAEA,gBAAMymK,eAAeD,UAAU31J,MAAV,CAAiB,UAAC61J,KAAD,EAAW;AAC7C,oBAAM3wK,OAAO2wK,MAAMzpK,KAAN,CAAYlH,IAAzB;AACA,oBAAMuvK,MAAMoB,MAAMzpK,KAAN,CAAYqoK,GAAxB;AACA,uBAAOhpK,WAAW4T,KAAX,CAAiB,UAAC/Y,KAAD,EAAQyF,GAAR,EAAgB;AACpC,wBAAIzF,SAAS4I,YAAT,IAAyBA,aAAa5I,KAAb,EAAoB4Y,GAApB,CAAwB5R,IAAxB,KAAiC0F,oDAASA,CAACb,SAAxE,EAAmF;AAC/E,+BAAO6M,OAAOtQ,SAAP,CAAiB;AAAA,mCAAKvQ,EAAE4N,GAAF,MAAW7G,KAAKgK,aAAa5I,KAAb,EAAoBkJ,KAAzB,CAAhB;AAAA,yBAAjB,MAAsE,CAAC,CAA9E;AACH,qBAFD,MAEO,IAAIlJ,UAAU8vI,yDAAcA,CAACzyI,MAA7B,EAAqC;AACxC,+BAAOqb,OAAOtQ,SAAP,CAAiB;AAAA,mCAAKvQ,EAAE4N,GAAF,MAAW0oK,GAAhB;AAAA,yBAAjB,MAA0C,CAAC,CAAlD;AACH,qBAAC,OAAO,IAAP;AACL,iBANM,CAAP;AAOH,aAVoB,CAArB;;AAYA,gBAAMqB,cAAcF,aAAa,CAAb,CAApB;AACA,gBAAIE,WAAJ,EAAiB;AACb,oBAAMr3D,WAAWq3D,YAAYT,KAAZ,CAAkB52D,QAAlB,CAA2Bq3D,YAAY1pK,KAAvC,CAAjB;AACA,uBAAO,CAAC;AACJwe,uBAAG6zF,SAAS,CAAT,IAAc,KAAK02D,WAAL,GAAmB,CADhC;AAEJxgJ,uBAAG8pF,SAAS,CAAT,IAAc,KAAK22D,YAAL,GAAoB,CAFjC;AAGJnrI,2BAAO,CAHH;AAIJC,4BAAQ;AAJJ,iBAAD,CAAP;AAMH;AACD,mBAAO,EAAP;AACH;;;wCAjSuB;AACpB,mBAAOgG,6DAAP;AACH;;AAED;;;;;;;;;;qCAOqB;AACjB,mBAAO,KAAP;AACH;;;;EA3BiCs5H,qD;;AAAjB6C,uE;;;;;;;;;;;;AC7BrB;AAAA;AAAA;AAAA;;AAEO,IAAMn8H,gBAAgB;AACzBqC,iBAAauQ,4DADY;AAEzBD,kBAAc,WAFW;AAGzBlD,aAAS,EAAE3a,KAAK,CAAP,EAAUE,QAAQ,CAAlB,EAAqB0iB,MAAM,CAA3B,EAA8BC,OAAO,CAArC,EAHgB;AAIzB3W,eAAW,EAJc;AAKzB8hI,oBAAgB,EALS;AAMzBhzG,iBAAa;AACTqO,mBAAW,CAAC;AACR/gE,kBAAM,MADE;AAER0gK,uBAAW,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,EAAR,EAAY,CAAZ;AAFH,SAAD,CADF;AAKT7/F,cAAM,CAAC;AACH7gE,kBAAM,MADH;AAEH0gK,uBAAW,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,EAAR,EAAY,CAAZ;AAFR,SAAD,CALG;AAST5/F,eAAO,CAAC;AACJ9gE,kBAAM,MADF;AAEJ0gK,uBAAW,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,EAAR,EAAY,CAAZ;AAFP,SAAD;AATE,KANY;AAoBzB9jI,YAAQ,GApBiB;AAqBzBD,WAAO,GArBkB;AAsBzBl/B,UAAM,EAtBmB;AAuBzBsyG,kBAAc,CAvBW;AAwBzB1B,cAAU,CAxBe;AAyBzB2B,eAAW,CAzBc;AA0BzB/B,gBAAY,CA1Ba;AA2BzBE,cAAU,GA3Be;AA4BzBlX,YAAQ,CAAC,SAAD,EAAY,MAAZ,EAAoB,OAApB,EAA6B,QAA7B,EAAuC,QAAvC,EAAiD,QAAjD,CA5BiB;AA6BzBx6B,eAAW;AACPz8D,cAAM;AADC,KA7Bc;AAgCzBm8D,cAAU;AACN,wBAAgB;AACZ3qE,mBAAO;AADK,SADV;AAIN,2BAAmB;AACfA,mBAAO;AADQ,SAJb;AAONqkD,eAAO;AACHrkD,mBAAO;AADJ,SAPD;AAUN+gH,gBAAQ;AACJ/gH,mBAAO;AADH,SAVF;AAaN84F,iBAAS;AACL94F,mBAAO;AADF,SAbH;AAgBNgzC,eAAO;AACHhzC,mBAAO;AADJ,SAhBD;AAmBN01E,eAAO;AACH11E,mBAAO;AADJ,SAnBD;AAsBN6qE,cAAM;AACF7qE,mBAAO;AADL;AAtBA,KAhCe;AA0DzBm0K,sBAAkB,EA1DO;AA2DzBx1H,gBAAY;AACR+mB,gBAAQ,OADA;AAER9mB,kBAAU;AAFF,KA3Da;AA+DzBq4H,YAAQ;AACJ1nG,mBAAW;AACPn9B,uBAAc4R,4DAAd;AADO,SADP;AAIJkzH,iBAAS;AACL9kI,uBAAc4R,4DAAd;AADK,SAJL;AAOJmzH,kBAAU;AACN/kI,uBAAc4R,4DAAd;AADM;AAPN;AA/DiB,CAAtB,C;;;;;;;;;;;;ACFP;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA,uC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;IAoBqBspH,S;;;;;;;;;;;;;AAmBjB;;;;;gDAKyBlnK,I,EAAMklK,iB,EAAmBl7J,Y,EAAc;AAC5D,gBAAM28H,wIAAwC3mI,IAAxC,EAA8CgK,YAA9C,CAAN;AACA,aAAC29J,yDAAQA,CAACp+C,CAAV,EAAao+C,yDAAQA,CAAC93I,CAAtB,EAAyBnzB,OAAzB,CAAiC,UAAC0L,IAAD,EAAU;AAAA,oBACTooE,SADS,GACK00F,iBADL,CAC3B98J,IAD2B;;AAEvC,oBAAIooE,cAAc1iE,oDAASA,CAACC,OAAxB,IAAmC44H,QAAQv+H,IAAR,MAAkB9G,SAAzD,EAAoE;AAChEqlI,4BAAQv+H,IAAR,EAAc,CAAd,IAAmByN,KAAK3D,GAAL,CAASy0H,QAAQv+H,IAAR,EAAc,CAAd,CAAT,EAA2B,CAA3B,CAAnB;AACH;AACJ,aALD;AAMA,mBAAOu+H,OAAP;AACH;;AAED;;;;;;;oCAIa;AACT,mBAAOqqC,iDAAP;AACH;;AAED;;;;;;;;;;wCAOiBhxK,I,EAAMklK,iB,EAAmB7sG,I,EAAM;AAAA;;AAC5C,gBAAI2S,SAAS,EAAb;AACA,gBAAMi6F,gBAAgB,KAAKA,aAAL,EAAtB;AACA,gBAAMjlF,YAAY3nB,KAAKzrB,KAAvB;AACA,gBAAMrlC,SAAS,KAAKA,MAAL,EAAf;AACA,gBAAMg9D,WAAWh9D,OAAOg9D,QAAxB;AACA,gBAAMkkG,gBAAgBlkG,SAAS33B,KAA/B;AACA,gBAAMumH,aAAasV,cAAcrnK,KAAjC;AACA,gBAAM4I,eAAe,KAAKhK,IAAL,GAAYiK,eAAZ,EAArB;AACA,gBAAMy+J,kBAAkBvV,cAAcnpJ,aAAampJ,UAAb,EAAyB7oJ,KAA/D;AAT4C,gBAUpCmuD,MAVoC,GAURysG,iBAVQ,CAUpCzsG,MAVoC;AAAA,gBAU5BE,MAV4B,GAURusG,iBAVQ,CAU5BvsG,MAV4B;AAAA,gBAUpBmxG,OAVoB,GAUR5E,iBAVQ,CAUpB4E,OAVoB;;AAAA,iCAczCJ,8DAAaA,CAACrxG,IAAd,CAdyC;AAAA,gBAYxCC,KAZwC,kBAYxCA,KAZwC;AAAA,gBAaxCC,KAbwC,kBAaxCA,KAbwC;;AAe5C,gBAAM04G,cAAc1pK,OAAOmjK,mBAA3B;AACA,gBAAMwG,SAASlnK,aAAayuD,MAAb,KAAwBzuD,aAAayuD,MAAb,EAAqBz+C,GAArB,CAAyB5R,IAAzB,KAAkC0F,oDAASA,CAACb,SAAnF;AACA,gBAAMkkK,SAASnnK,aAAa2uD,MAAb,KAAwB3uD,aAAa2uD,MAAb,EAAqB3+C,GAArB,CAAyB5R,IAAzB,KAAkC0F,oDAASA,CAACb,SAAnF;AACA,gBAAM/S,MAAMg3K,SAAS,GAAT,GAAgBC,SAAS,GAAT,GAAe,IAA3C;AACAnmG,qBAAShrE,KAAKhE,GAAL,CAAS,UAAC/C,CAAD,EAAIL,CAAJ,EAAU;AACxB,oBAAMw4K,MAAM94G,MAAMvb,aAAN,CAAoB9jD,EAAEysB,CAAtB,IAA2B4yC,MAAMgP,YAAN,KAAuB,CAA9D;AACA,oBAAM+pG,MAAM94G,MAAMxb,aAAN,CAAoB9jD,EAAEw2B,CAAtB,CAAZ;AACA,oBAAM6hJ,OAAQxH,WAAW7E,kBAAkB5f,sDAA9B,GAAuC9sF,MAAMxb,aAAN,CAAoB9jD,EAAE6qG,EAAtB,CAAvC,GAAmEvrC,MAAMxb,aAAN,CAAoB,CAApB,CAAhF;;AAHwB,qCAIIyrH,8DAAaA,CAAC,EAAEthK,OAAOjO,CAAT,EAAYqR,OAAO1R,CAAnB,EAAd,EAAsC;AAC9D6vK,gDAD8D,EAC/CzoF,oBAD+C,EACpC0oF,gCADoC,EAAtC,CAJJ;AAAA,oBAIhB97H,KAJgB,kBAIhBA,KAJgB;AAAA,oBAIT+7H,QAJS,kBAITA,QAJS;;AAMxB,oBAAM77H,QAAQ,EAAd;AACA,oBAAMj0B,OAAO,EAAb;AACAi0B,sBAAMyoC,IAAN,GAAa3oC,KAAb;AACA;AACA/zB,qBAAKkwJ,UAAL,GAAkB,EAAlB;AACAlwJ,qBAAKmwJ,aAAL,GAAqBL,QAArB;AACA9vJ,qBAAKwwJ,cAAL,GAAsB,EAAtB;AACA,oBAAMxxE,QAAQ;AACV1sB,2BAAO;AACHzlD,2BAAG0rJ,GADA;AAEH3hJ,2BAAGx2B,EAAEw2B,CAAF,KAAQ,IAAR,GAAex2B,EAAEw2B,CAAjB,GAAqB8oC,MAAMxb,aAAN,CAAoB,CAApB,CAFrB;AAGH+mD,4BAAI7qG,EAAE6qG,EAAF,KAAS,IAAT,GAAgB7qG,EAAE6qG,EAAlB,GAAuBvrC,MAAMxb,aAAN,CAAoB,CAApB;AAHxB,qBADG;AAMVljB,4BAAQ;AACJnU,2BAAG0rJ,GADC;AAEJ3hJ,2BAAGx2B,EAAEw2B,CAAF,KAAQ,IAAR,GAAex2B,EAAEw2B,CAAjB,GAAqB4hJ,GAFpB;AAGJvtE,4BAAI7qG,EAAE6qG,EAAF,KAAS,IAAT,GAAgB7qG,EAAE6qG,EAAlB,GAAuBwtE;AAHvB,qBANE;AAWV7wH,yBAAKxnD,EAAEwnD,GAXG;AAYV65B,2BAAOrhF,EAAEqhF,KAZC;AAaV/vD,4BAAQtxB,EAAEqhF,KAbA;AAcVwhF,2BAAO7iK,EAAEwnD,GAdC;AAeVzU,+BAAWilI,cAAcA,YAAYh4K,CAAZ,EAAeL,CAAf,EAAkBoH,IAAlB,EAAwB,MAAxB,CAAd,GAA8C,EAf/C;AAgBV8sC,gCAhBU;AAiBVj0B;AAjBU,iBAAd;AAmBAg/E,sBAAM7rD,SAAN,GAAkBy+H,uEAAsBA,CAACxxK,CAAvB,EAA0BL,CAA1B,EAA6BoH,IAA7B,EAAmC,MAAnC,CAAlB;AACA,uBAAKuxK,UAAL,CAAgBt4K,EAAEiB,GAAF,CAAhB,EAAwB29F,KAAxB;AACA,uBAAOA,KAAP;AACH,aAnCQ,CAAT;AAoCA7sB,qBAASsgG,+DAAcA,CAAC,IAAf,EAAqBtgG,MAArB,CAAT;AACA,mBAAOA,MAAP;AACH;;AAED;;;;;;;;qCAKcp+B,K,EAAO;AACjB,mBAAO;AACH2oC,sBAAM3oC;AADH,aAAP;AAGH;;;;AArHD;;;wCAGwB;AACpB,mBAAO5B,6DAAP;AACH;;AAED;;;;;;;;;;qCAOqB;AACjB,mBAAO,MAAP;AACH;;;;EAjBkCo8H,+C;;AAAlBF,wE;;;;;;;;;;;;AC5BrB;AAAA;AAAA;AAAA;;AAEO,IAAMl8H,gBAAgB;AACzBqC,iBAAauQ,4DADY;AAEzBD,kBAAc,YAFW;AAGzB3R,eAAW,EAHc;AAIzB+yD,iBAAa,QAJY;AAKzBl6B,eAAW;AACPz8D,cAAMi9I,sDAAKA;AADJ,KALc;AAQzBvqF,iBAAa,EARY;AAWzB02G,2BAAuB,EAXE;AAYzBjtG,cAAU;AACN33B,eAAO,EADD;AAENlnB,WAAG,EAFG;AAGN+J,WAAG,EAHG;AAINq0E,YAAI,EAJE;AAKN2tE,uBAAe;AACX73K,mBAAO;AADI;AALT,KAZe;AAqBzB2+C,gBAAY;AACR+mB,gBAAQ,OADA;AAER9mB,kBAAU;AAFF,KArBa;AAyBzBk5H,qBAAiB;AAzBQ,CAAtB,C;;;;;;;;;;;;ACFP;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;ACAA;;AAOA,IAAM73D,OAAOvqE,kDAAOA,CAACuqE,IAArB;AACA;;;;;AAKA,IAAM,0BAA2Bm3D,WAAW,SAAXA,QAAW,CAACtpK,MAAD,EAAY;AACpD,QAAIw+J,uBAAJ;AADoD,QAE5Cz6F,SAF4C,GAEsC/jE,MAFtC,CAE5C+jE,SAF4C;AAAA,QAEjCT,MAFiC,GAEsCtjE,MAFtC,CAEjCsjE,MAFiC;AAAA,QAEzBl+B,KAFyB,GAEsCplC,MAFtC,CAEzBolC,KAFyB;AAAA,QAElByL,UAFkB,GAEsC7wC,MAFtC,CAElB6wC,UAFkB;AAAA,QAENvM,SAFM,GAEsCtkC,MAFtC,CAENskC,SAFM;AAAA,QAEK0lI,eAFL,GAEsChqK,MAFtC,CAEKgqK,eAFL;AAAA,QAEsB3yE,WAFtB,GAEsCr3F,MAFtC,CAEsBq3F,WAFtB;AAAA,QAIpC4yE,UAJoC,GAIXp5H,UAJW,CAI5C+mB,MAJ4C;AAAA,QAIxB9mB,QAJwB,GAIXD,UAJW,CAIxBC,QAJwB;;AAKpD,QAAM1f,QAAQiV,gEAAaA,CAAC09B,SAAd,CAAd;AACA,QAAMmmG,sBAAsBjiC,4DAAiBA,CAAC5wC,WAAlB,CAA5B;AACA,QAAM7zB,YAAYpyC,MAAMggB,SAAN,CAAgB,MAAhB,EAAwB94C,IAAxB,CAA6B,CAAC0H,OAAOsjE,MAAR,CAA7B,CAAlB;;AAPoD,eAQZ,CAAC,OAAD,EAAU,QAAV,EAAoBhvE,GAApB,CAAwB;AAAA,eAAK69G,OAAOF,KAAP,CAAai4D,mBAAb,EACpDlsJ,CADoD,CAClD;AAAA,mBAAKzsB,EAAEuN,CAAF,EAAKkf,CAAV;AAAA,SADkD,EAEpD4jD,EAFoD,CAEjD;AAAA,mBAAKrwE,EAAEuN,CAAF,EAAKipB,CAAV;AAAA,SAFiD,EAGpDq0E,EAHoD,CAGjD;AAAA,mBAAK7qG,EAAEuN,CAAF,EAAKs9F,EAAV;AAAA,SAHiD,EAIpD4V,OAJoD,CAI5C;AAAA,mBAAKzgH,EAAEuN,CAAF,EAAKipB,CAAL,KAAW,IAAhB;AAAA,SAJ4C,CAAL;AAAA,KAAxB,CARY;AAAA;AAAA,QAQ7CoiJ,aAR6C;AAAA,QAQ9BC,cAR8B;;AAepD5L,qBAAiBl7F,MAAjB;AACAlyC,UAAM6U,IAAN,CAAW,OAAX,EAAoB3B,SAApB;AACA,QAAI0lI,eAAJ,EAAqB;AACjBxL,yBAAiBl7F,OAAOlwD,MAAP,CAAc;AAAA,mBAAK7hB,EAAE4gC,MAAF,CAASpK,CAAT,KAAe,IAApB;AAAA,SAAd,CAAjB;AACH;AACD,QAAMsiJ,iBAAiB7mG,UAAUC,KAAV,GAAkBjxC,MAAlB,CAAyB,MAAzB,EAAiCyT,IAAjC,CAAsC,GAAtC,EAA2CkkI,cAAc3L,cAAd,CAA3C,CAAvB;AACAh7F,cAAUpiD,KAAV,CAAgBipJ,cAAhB,EAAgCx5H,UAAhC,GAA6Cq4E,IAA7C,CAAkDwW,kDAAOA,CAACuqC,UAAR,CAAlD,EACiBn5H,QADjB,CAC0BA,QAD1B,EAEiB7K,IAFjB,CAEsB,GAFtB,EAE2BmkI,eAAe5L,cAAf,CAF3B,EAGiBh4H,IAHjB,CAGsB,UAAUj1C,CAAV,EAAa;AACf,YAAMoyE,UAAUt9B,gEAAaA,CAAC,IAAd,CAAhB;;AAEAs9B,gBAAQ99B,OAAR,CAAgBt0C,EAAE,CAAF,EAAK+yC,SAArB,EAAgC,IAAhC;AACA3yC,eAAOyI,IAAP,CAAYgrC,KAAZ,EAAmBpwC,OAAnB,CAA2B;AAAA,mBAAO2uE,QAAQv+B,KAAR,CAAc5yC,GAAd,EAAmB4yC,MAAM5yC,GAAN,CAAnB,CAAP;AAAA,SAA3B;AACH,KARjB;AASH,CA9BD;;AAgCe82K,uEAAf,E;;;;;;;;;;;AC7CA,uC;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;AAEA;;;;;;;;;AASA,IAAMgB,oBAAoB,SAApBA,iBAAoB,CAAC5pK,IAAD,EAAO6pK,QAAP,EAAiB1qK,MAAjB,EAAyBvH,IAAzB,EAAkC;AACxD,QAAMkyK,YAAY9pK,SAAS,GAAT,GAAe,OAAf,GAAyB,QAA3C;AADwD,eAE9B,CAACb,OAAUa,IAAV,eAAD,EAA6B6pK,SAAY7pK,IAAZ,UAA7B,CAF8B;AAAA,QAEjDooE,SAFiD;AAAA,QAEtCv5B,IAFsC;AAAA,QAIpDguH,aAJoD,GAQpD19J,MARoD,CAIpD09J,aAJoD;AAAA,QAKpDkN,YALoD,GAQpD5qK,MARoD,CAKpD4qK,YALoD;AAAA,QAMpDC,UANoD,GAQpD7qK,MARoD,CAMpD6qK,UANoD;AAAA,QAOpDvuI,WAPoD,GAQpDt8B,MARoD,CAOpDs8B,WAPoD;;;AAUxD,QAAMwuI,YAAYF,aAAav4K,KAA/B;AACA,QAAIuxE,QAAQ,CAAZ;AACA,QAAI/Q,YAAJ;AACA,QAAIlpB,QAAQ,CAAZ;AACA,QAAIohI,aAAa,CAAjB;AACA,QAAI9hG,cAAclvE,SAAlB,EAA6B;AACzB,YAAIiG,OAAUa,IAAV,YAAJ,EAA6B;AACzB,gBAAMmqK,SAASvyK,KAAKoI,IAAL,CAAf;AACA,gBAAMoqK,SAASxyK,KAAQoI,IAAR,OAAf;AACA,gBAAI8J,YAAJ;AACA,gBAAIG,YAAJ;AACA,gBAAIkgK,WAAW,IAAX,IAAmBC,WAAW,IAAlC,EAAwC;AACpC,uBAAO;AACHF,gCAAYhxK,SADT;AAEH6pE,2BAAO7pE,SAFJ;AAGH84D,yBAAK94D,SAHF;AAIH4vC,2BAAO5vC;AAJJ,iBAAP;AAMH,aAPD,MAOO,IAAIkvE,cAAc/hE,yDAAcA,CAACC,UAA7B,IAA2C8hE,cAAc9iE,2DAAgBA,CAACE,QAA9E,EAAwF;AAC3FsE,sBAAM2D,KAAK3D,GAAL,CAASqgK,MAAT,EAAiBC,MAAjB,CAAN;AACAngK,sBAAMwD,KAAKxD,GAAL,CAASkgK,MAAT,EAAiBC,MAAjB,CAAN;AACH,aAHM,MAGA;AACHtgK,sBAAMqgK,MAAN;AACAlgK,sBAAMmgK,MAAN;AACH;AACD,gBAAMvgH,SAAS7pD,SAAS,GAAT,GAAe,CAAC8J,GAAD,EAAMG,GAAN,CAAf,GAA4B,CAACA,GAAD,EAAMH,GAAN,CAA3C;AACAkoD,kBAAMnjB,KAAK8F,aAAL,CAAmBkV,OAAO,CAAP,CAAnB,IAAgChb,KAAKqwB,YAAL,KAAsB,CAA5D;AACAp2B,oBAAQr7B,KAAKmf,GAAL,CAASiiB,KAAK8F,aAAL,CAAmBkV,OAAO,CAAP,CAAnB,IAAgCmI,GAAzC,IAAgDnjB,KAAKqwB,YAAL,KAAsB,CAA9E;;AAEA6D,oBAAQ/Q,GAAR;AACAk4G,yBAAa,CAAb;AACH,SAzBD,MAyBO,IAAI9hG,cAAc9iE,2DAAgBA,CAACC,WAA/B,IAA8C6iE,cAAc9iE,2DAAgBA,CAACE,QAAjF,EAA2F;AAC9FwsD,kBAAMnjB,KAAK8F,aAAL,CAAmB/8C,KAAKoI,IAAL,CAAnB,KACDgqK,WAAWhqK,SAAS,GAAT,GAAe,gBAAf,GAAkC,iBAA7C,KAAmE,CADlE,CAAN;;AAGA8oC,oBAAQkhI,WAAWhqK,SAAS,GAAT,GAAe,UAAf,GAA4B,WAAvC,CAAR;AACA,gBAAIiqK,cAAc/wK,SAAlB,EAA6B;AACzB,oBAAMmxK,SAASJ,YAAYnhI,KAA3B;AACAA,yBAASuhI,MAAT;AACAr4G,uBAAOq4G,SAAS,CAAhB;AACH;AACDtnG,oBAAQ/Q,GAAR;AACAk4G,yBAAaphI,KAAb;AACH,SAZM,MAYA;AACH,gBAAMwhI,UAAUz7H,KAAK8F,aAAL,CAAmB,CAAnB,CAAhB;AACA,gBAAMq0B,WAAWn6B,KAAK8F,aAAL,CAAmB/8C,KAAKoI,IAAL,CAAnB,CAAjB;AACA,gBAAMuqK,YAAY17H,KAAK8F,aAAL,CAAmB/8C,KAAQoI,IAAR,OAAnB,CAAlB;;AAEAkqK,yBAAa,CAAb;AACA,gBAAIlqK,SAAS,GAAb,EAAkB;AACdgyD,sBAAMp6D,KAAKoI,IAAL,IAAa,CAAb,IAAkB68J,kBAAkB5f,sDAApC,GAA4Cj0E,QAA5C,GAAuDshG,OAA7D;AACAxhI,wBAAQr7B,KAAKmf,GAAL,CAASolC,OAAO6qG,kBAAkB5f,sDAAlB,GAA0BstB,SAA1B,GAAuC3yK,KAAKoI,IAAL,KAAc,CAAd,GAAkBgpE,QAAlB,GAA6BshG,OAA3E,CAAT,CAAR;AACH,aAHD,MAGO;AACHt4G,sBAAM6qG,kBAAkB5f,sDAAlB,IAA2BrlJ,KAAKoI,IAAL,KAAc,CAAzC,GAA6CgpE,QAA7C,GAAwDshG,OAA9D;AACAxhI,wBAAQr7B,KAAKmf,GAAL,CAASolC,OAAO6qG,kBAAkB5f,sDAAlB,GAA0BstB,SAA1B,GAAuC3yK,KAAKoI,IAAL,KAAc,CAAd,GAAkBsqK,OAAlB,GAA4BthG,QAA1E,CAAT,CAAR;AACH;AACDjG,oBAAQunG,OAAR;AACH;AACJ,KArDD,MAqDO;AACHt4G,cAAM,CAAN;AACAlpB,gBAAQrN,YAAYquI,SAAZ,CAAR;AACH;;AAED,WAAO;AACHI,8BADG;AAEHnnG,oBAFG;AAGH/Q,gBAHG;AAIHlpB;AAJG,KAAP;AAMH,CA/ED;;AAiFA;;;;;;;;AAQA,IAAM0hI,oBAAoB,SAApBA,iBAAoB,CAAC5yK,IAAD,EAAOuH,MAAP,EAAe8wD,IAAf,EAAwB;AAC9C,QAAM45G,WAAW;AACb35G,eAAOD,KAAK3yC,CADC;AAEb6yC,eAAOF,KAAK5oC;AAFC,KAAjB;;AAD8C,6BAU1CuiJ,kBAAkB,GAAlB,EAAuBC,QAAvB,EAAiC1qK,MAAjC,EAAyCvH,IAAzC,CAV0C;AAAA,QAM9B6yK,UAN8B,sBAM1CP,UAN0C;AAAA,QAOnCQ,MAPmC,sBAO1C3nG,KAP0C;AAAA,QAQrC4nG,IARqC,sBAQ1C34G,GAR0C;AAAA,QASnCr1B,KATmC,sBAS1CmM,KAT0C;;AAAA,8BAiB1C8gI,kBAAkB,GAAlB,EAAuBC,QAAvB,EAAiC1qK,MAAjC,EAAyCvH,IAAzC,CAjB0C;AAAA,QAa9BgzK,WAb8B,uBAa1CV,UAb0C;AAAA,QAcnCW,MAdmC,uBAc1C9nG,KAd0C;AAAA,QAerC+nG,IAfqC,uBAe1C94G,GAf0C;AAAA,QAgBnCp1B,MAhBmC,uBAgB1CkM,KAhB0C;;AAkB9C,WAAO;AACHi6B,eAAO;AACHzlD,eAAGotJ,MADA;AAEHrjJ,eAAGwjJ,MAFA;AAGHluI,mBAAO8tI,UAHJ;AAIH7tI,oBAAQguI;AAJL,SADJ;AAOHn5I,gBAAQ;AACJnU,eAAGqtJ,IADC;AAEJtjJ,eAAGyjJ,IAFC;AAGJnuI,wBAHI;AAIJC;AAJI;AAPL,KAAP;AAcH,CAhCD;;AAkCA;;;;;;;;AAQO,IAAMmuI,sBAAsB,SAAtBA,mBAAsB,CAACpqI,OAAD,EAAU/oC,IAAV,EAAgBoyK,UAAhB,EAA+B;AAC9D,QAAIpnG,SAAS,EAAb;AACA,QAAMzG,WAAWx7B,QAAQxhC,MAAR,GAAiBg9D,QAAlC;AACA,QAAMlM,OAAOtvB,QAAQsvB,IAAR,EAAb;AACA,QAAM2nB,YAAY3nB,KAAKzrB,KAAvB;AACA,QAAM5iC,eAAe++B,QAAQ/oC,IAAR,GAAeiK,eAAf,EAArB;AACA,QAAMw+J,gBAAgBlkG,SAAS33B,KAA/B;AACA,QAAMumH,aAAasV,cAAcrnK,KAAjC;AACA,QAAM+wK,eAAe5tG,SAASE,IAAT,IAAiB,EAAtC;;AAR8D,gCActD17B,QAAQm8H,iBAAR,EAdsD;AAAA,QAUtD2E,OAVsD,yBAUtDA,OAVsD;AAAA,QAWtDC,OAXsD,yBAWtDA,OAXsD;AAAA,QAYtDE,aAZsD,yBAYtDA,aAZsD;AAAA,QAatDC,aAbsD,yBAatDA,aAbsD;;AAe9D,QAAMpmI,cAAckF,QAAQ0uG,MAAR,CAAej+I,GAAf,CAAmB27C,wDAAnB,CAApB;AACA,QAAM+7H,SAASlH,kBAAkBt8J,2DAAgBA,CAACC,WAAnC,IAAkDq8J,kBAAkBt8J,2DAAgBA,CAACE,QAApG;AACA,QAAMujK,SAASlH,kBAAkBv8J,2DAAgBA,CAACC,WAAnC,IAAkDs8J,kBAAkBv8J,2DAAgBA,CAACE,QAApG;AACA,QAAM1T,MAAMg3K,SAAS,GAAT,GAAgBC,SAAS,GAAT,GAAe,IAA3C;AACA,QAAMlM,gBAAgBl8H,QAAQk8H,aAAR,EAAtB;AACA,QAAMyD,kBAAkBvV,cAAcnpJ,aAAampJ,UAAb,CAAd,IAA0CnpJ,aAAampJ,UAAb,EAAyB7oJ,KAA3F;;AAEA,SAAK,IAAI1R,IAAI,CAAR,EAAWqjB,MAAMjc,KAAK3C,MAA3B,EAAmCzE,IAAIqjB,GAAvC,EAA4CrjB,GAA5C,EAAiD;AAC7C,YAAMK,IAAI+G,KAAKpH,CAAL,CAAV;AACA,YAAMk0C,QAAQ,EAAd;AACA,YAAMj0B,OAAO,EAAb;AACA,YAAM+N,aAAagsJ,kBAAkB35K,CAAlB,EAAqB;AACpC2/D,wBAAYoxG,aADwB;AAEpCnxG,wBAAYoxG,aAFwB;AAGpCJ,4BAHoC;AAIpCC,4BAJoC;AAKpC7E,wCALoC;AAMpCphI,oCANoC;AAOpCuuI,kCAPoC;AAQpCD;AARoC,SAArB,EAShB95G,IATgB,CAAnB;;AAJ6C,6BAejBmwG,8DAAaA,CAAC,EAAEthK,OAAOjO,CAAT,EAAYqR,OAAO1R,CAAnB,EAAd,EACxB,EAAE6vK,4BAAF,EAAiBzoF,oBAAjB,EAA4B0oF,gCAA5B,EADwB,CAfiB;AAAA,YAerC97H,KAfqC,kBAerCA,KAfqC;AAAA,YAe9B+7H,QAf8B,kBAe9BA,QAf8B;;AAkB7C77H,cAAMyoC,IAAN,GAAa3oC,KAAb;AACA/zB,aAAKkwJ,UAAL,GAAkB,EAAlB;AACAlwJ,aAAKmwJ,aAAL,GAAqBL,QAArB;AACA9vJ,aAAKwwJ,cAAL,GAAsB,EAAtB;;AAEA,YAAMxvI,SAASjT,WAAWiT,MAA1B;;AAEA,YAAI,CAACjlB,MAAMilB,OAAOnU,CAAb,CAAD,IAAoB,CAAC9Q,MAAMilB,OAAOpK,CAAb,CAArB,IAAwCx2B,EAAEwnD,GAAF,KAAUn/C,SAAtD,EAAiE;AAC7D,gBAAIu2F,QAAQ,IAAZ;AACAA,oBAAQ;AACJ1sB,uBAAOvkD,WAAWukD,KADd;AAEJtxC,8BAFI;AAGJiT,4BAHI;AAIJwtC,uBAAOrhF,EAAEqhF,KAJL;AAKJ75B,qBAAKxnD,EAAEwnD,GALH;AAMJl2B,wBAAQtxB,EAAEqhF,KANN;AAOJwhF,uBAAO7iK,EAAEwnD,GAPL;AAQJ5nC;AARI,aAAR;AAUAg/E,kBAAM7rD,SAAN,GAAkBy+H,uEAAsBA,CAACxxK,CAAvB,EAA0BL,CAA1B,EAA6BoH,IAA7B,EAAmC+oC,OAAnC,CAAlB;AACAiiC,mBAAOpuE,IAAP,CAAYi7F,KAAZ;AACA;AACA9uD,oBAAQwoI,UAAR,CAAmBt4K,EAAEiB,GAAF,CAAnB,EAA2B29F,KAA3B;AACH;AACJ;;AAED7sB,aAASsgG,+DAAcA,CAACviI,OAAf,EAAwBiiC,MAAxB,CAAT;AACA,WAAOA,MAAP;AACH,CApEM,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjJP;AAWA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAMj9D,UAAUD,oDAASA,CAACC,OAA1B;AACA,IAAM8kD,YAAYm9E,iDAAMA,CAACn1F,IAAzB;;AAEA;;;;;;;;;;;;IAWqB2sH,Q;;;AACjB;;;AAGA,wBAAwB;AAAA;;AAAA;;AAAA,0CAAR9/J,MAAQ;AAARA,kBAAQ;AAAA;;AAAA,mJACXA,MADW;;AAEpB,cAAKmkK,UAAL,GAAkBh5G,WAAlB;AACA,cAAKugH,YAAL,GAAoB;AAChB1tJ,eAAG,CADa;AAEhB+J,eAAG;AAFa,SAApB;AAIA,cAAK4jJ,SAAL,GAAiB;AACb3tJ,eAAG,CADU;AAEb+J,eAAG;AAFU,SAAjB;AAIA,cAAKk2I,SAAL,GAAiB,EAAjB;AAXoB;AAYvB;;AAED;;;;;;;;;;mCAMY;AACR,mBAAO,MAAP;AACH;;AAED;;;;;;;;;;;;AAwCA;;;;;;;;gDAQyB3lK,I,EAAMsqK,gB,EAAkBtgK,Y,EAAc;AAC3D,gBAAM4H,qIAAuC5R,IAAvC,EAA6CsqK,gBAA7C,EAA+DtgK,YAA/D,CAAN;AACA,aAAC,GAAD,EAAM,GAAN,EAAWtN,OAAX,CAAmB,UAACzD,CAAD,EAAO;AACtB,oBAAIqxK,iBAAoBrxK,CAApB,oBAAsC8U,OAAtC,IAAiD6D,OAAO3Y,CAAP,CAArD,EAAgE;AAC5DqxK,qCAAoBrxK,CAApB,gBAAkC2Y,OAAO3Y,CAAP,IAAY2Y,OAAO3Y,CAAP,EAAU4M,IAAV,CAAe,UAACwZ,CAAD,EAAIC,CAAJ;AAAA,+BAAUD,IAAIC,CAAd;AAAA,qBAAf,CAA9C,GACK1N,OAAO3Y,CAAP,EAAU,CAAV,IAAe4c,KAAK3D,GAAL,CAASN,OAAO3Y,CAAP,EAAU,CAAV,CAAT,EAAuB,CAAvB,CADpB;AAEH;AACJ,aALD;AAMA,mBAAO2Y,MAAP;AACH;;AAED;;;;;;;;;;;wCAQiB5R,I,EAAMoyK,U,EAAY;AAC/B,mBAAOe,uEAAmBA,CAAC,IAApB,EAA0BnzK,IAA1B,EAAgCoyK,UAAhC,CAAP;AACH;;AAED;;;;;;;;+BAKQ3mG,S,EAAW;AACf,gBAAMlkE,SAAS,KAAKA,MAAL,EAAf;AACA,gBAAMgxC,aAAahxC,OAAOgxC,UAA1B;AACA,gBAAM+6H,oBAAoB,KAAKjN,eAA/B;AACA,gBAAM9/F,kBAAkB,KAAKwgG,gBAA7B;AACA,gBAAMjlK,OAAOykE,gBAAgBvqE,GAAhB,CAAoB;AAAA,uBAAK/C,EAAEiB,GAAP;AAAA,aAApB,CAAb;AACA,gBAAM8P,eAAe,KAAKhK,IAAL,GAAYiK,eAAZ,EAArB;AACA,gBAAMouD,OAAO,KAAKA,IAAL,EAAb;AACA,gBAAMrzB,SAASqzB,KAAK5oC,CAAL,IAAU4oC,KAAK5oC,CAAL,CAAO4nB,KAAP,GAAehqC,KAAf,GAAuB,CAAvB,CAAzB;AACA,gBAAM03B,QAAQszB,KAAK3yC,CAAL,IAAU2yC,KAAK3yC,CAAL,CAAO2xB,KAAP,GAAehqC,KAAf,GAAuB,CAAvB,CAAxB;AACA,gBAAMswC,eAAep2C,OAAOo2C,YAA5B;AACA,gBAAMujC,qBAAqB1V,wEAAqBA,CAAC7tB,YAAtB,EAAoC,KAAKnR,EAAL,EAApC,EAA+CjlC,OAAO8lC,WAAtD,CAA3B;AACA,gBAAMrB,YAAYzkC,OAAOykC,SAAzB;AACA,gBAAMunI,qBAAqBxlI,gEAAaA,CAAC09B,SAAd,CAA3B;AACA,gBAAM7kD,aAAavtB,OAAOygB,MAAP,CAAc9P,YAAd,EAA4B8Q,MAA5B,CAAmC;AAAA,uBAAKtU,EAAEwT,GAAF,CAAM5R,IAAN,KAAe0F,oDAASA,CAACb,SAA9B;AAAA,aAAnC,EACdjR,GADc,CACV;AAAA,uBAAKwK,EAAE8D,KAAP;AAAA,aADU,CAAnB;AAEAipK,+BAAmBhmI,OAAnB,CAA2B2zC,mBAAmB/kF,IAAnB,CAAwB,GAAxB,CAA3B,EAAyD,IAAzD;AACAo3K,+BAAmBhmI,OAAnB,CAA2BvB,SAA3B,EAAsC,IAAtC;AACAuoG,0EAAWA,CAAC9oE,SAAZ,EAAuB;AACnB/lD,mBAAG,CADgB;AAEnB+J,mBAAG,CAFgB;AAGnBsV,4BAHmB;AAInBC;AAJmB,aAAvB,UAKS,KAAKwH,EAAL,EALT;;AAOA,iBAAK+3H,OAAL,GAAe,KAAKiP,kBAAL,CAAwBF,iBAAxB,EAA2CxxK,IAA3C,CAAf;;AAEAsyI,6EAAcA,CAAC;AACXp0I,sBAAM,KAAKukK,OADA;AAEX94F,oCAFW;AAGXsgC,0BAAU,GAHC;AAIX7xE,wBAAQ,GAJG;AAKXgU,sBAAM,cAAC88B,MAAD,EAASoP,KAAT,EAAgBxhF,CAAhB,EAAsB;AACxB,wBAAM66K,kBAAkB,CAAGvyF,mBAAmB,CAAnB,CAAH,UAA4Bp/E,KAAKlJ,CAAL,KAAWA,CAAvC,GAA2CgrB,WAA3C,EAAxB;AACAw2D,0BAAMttC,KAAN,CAAY,SAAZ,EAAuB,OAAvB;AACA4mI,+EAASA,CAAC;AACNjoG,mCAAW2O,MAAM7iD,IAAN,EADL;AAENyzC,sCAFM;AAGNh/B,mCAAWynI,eAHL;AAINl7H,8CAJM;AAKNzL,+BAAO,EALD;AAMNwmG,+BAAO;AAAA,mCAAK1sH,WAAW5qB,GAAX,CAAe;AAAA,uCAAO/C,EAAEqhF,KAAF,CAAQpgF,GAAR,CAAP;AAAA,6BAAf,EAAoCiC,IAApC,CAAyC,GAAzC,CAAL;AAAA;AAND,qBAAV;AAQH;AAhBU,aAAf;AAkBA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;;2CAQoBiqJ,c,EAAgBtkJ,I,EAAM;AAAA;;AAAA,sCACM6pK,mEAAkBA,CAAC,IAAnB,EAAyB7pK,IAAzB,CADN;AAAA;AAAA,gBAC/B6xK,eAD+B;AAAA,gBACdC,gBADc;;AAEtC,gBAAMC,kBAAkBF,gBAAgB7H,YAAhB,IAAgC,EAAxD;AACA,gBAAMgI,mBAAmBF,iBAAiB9H,YAAjB,IAAiC,EAA1D;AACA,iBAAKuH,SAAL,GAAiB;AACb3tJ,mBAAGiuJ,gBAAgBjI,SAAhB,IAA6B,CADnB;AAEbj8I,mBAAGmkJ,iBAAiBlI,SAAjB,IAA8B;AAFpB,aAAjB;AAIA,iBAAK0H,YAAL,GAAoB;AAChB1tJ,mBAAGiuJ,gBAAgBl5H,OAAhB,IAA2B,CADd;AAEhBhrB,mBAAGmkJ,iBAAiBn5H,OAAjB,IAA4B;AAFf,aAApB;;AAKA,iBAAKkrH,SAAL,GAAiB,EAAjB;AACA,mBAAOvf,eAAepqJ,GAAf,CAAmB,UAACgE,IAAD,EAAOpH,CAAP;AAAA,uBAAa,OAAKm7K,eAAL,CAAqB/zK,IAArB,EACnC;AACIqiD,8BAAUsxH,gBAAgB7lI,IAD9B;AAEIkmI,oCAAgBH,gBAAgBj7K,CAAhB,KAAsB,CAF1C;AAGIq7K,+BAAWL,iBAAiB9lI,IAHhC;AAIIomI,qCAAiBJ,iBAAiBl7K,CAAjB,KAAuB;AAJ5C,iBADmC,CAAb;AAAA,aAAnB,CAAP;AAOH;;;yCAEiB;AACd,mBAAO,KAAKw6K,YAAZ;AACH;;AAED;;;;;;;;;wCAMiB1tJ,C,EAAG+J,C,EAAG;AACnB,gBAAI,CAAC,KAAKzvB,IAAL,EAAL,EAAkB;AACd,uBAAO,IAAP;AACH;AACD,gBAAIi3C,aAAJ;AACA,gBAAIr9C,cAAJ;AACA,gBAAI0Q,cAAJ;AACA,gBAAI0gE,eAAJ;AACA,gBAAImpG,wBAAJ;AACA,gBAAIvuB,yBAAJ;AACA,gBAAIwuB,mBAAJ;AACA,gBAAIjpK,oBAAJ;AACA,gBAAIkpK,aAAa,IAAjB;AACA,gBAAM16J,YAAY,KAAK3Z,IAAL,EAAlB;AACA,gBAAM4Z,UAAUD,UAAUpU,OAAV,EAAhB;AACA,gBAAMyE,eAAe2P,UAAU1P,eAAV,EAArB;AACA,gBAAMouD,OAAO,KAAKA,IAAL,EAAb;AACA,gBAAMr4D,OAAO4Z,QAAQ5Z,IAArB;AACA,gBAAM0lK,WAAW,KAAKC,SAAtB;;AAlBmB,qCAwBX,KAAKT,iBAAL,EAxBW;AAAA,gBAoBXzsG,MApBW,sBAoBXA,MApBW;AAAA,gBAqBXE,MArBW,sBAqBXA,MArBW;AAAA,gBAsBXqxG,aAtBW,sBAsBXA,aAtBW;AAAA,gBAuBXC,aAvBW,sBAuBXA,aAvBW;;AA0BnB,gBAAID,kBAAkBv7J,yDAAcA,CAACC,UAArC,EAAiD;AAC7CuoC,uBAAOohB,KAAK5oC,CAAZ;AACA71B,wBAAQq9C,KAAK4E,MAAL,CAAYpsB,CAAZ,CAAR;AACAm2H,mCAAmB57I,aAAa2uD,MAAb,EAAqBruD,KAAxC;AACA6pK,kCAAkBlK,aAAlB;AACH,aALD,MAKO;AACHhzH,uBAAOohB,KAAK3yC,CAAZ;AACA9rB,wBAAQq9C,KAAK4E,MAAL,CAAYn2B,CAAZ,CAAR;AACAkgI,mCAAmB57I,aAAayuD,MAAb,EAAqBnuD,KAAxC;AACA6pK,kCAAkBnK,aAAlB;AACH;;AAED,gBAAImK,oBAAoBzmK,2DAAgBA,CAACC,WAAzC,EAAsD;AAClDq9D,yBAAS06F,SAAS9rK,KAAT,CAAT;AACH;;AAED,gBAAIu6K,oBAAoBzmK,2DAAgBA,CAACE,QAAzC,EAAmD;AAC/CwmK,0DAAiB,IAAIziK,GAAJ,CAAQ3R,KAAKhE,GAAL,CAAS;AAAA,2BAAK/C,EAAE2sJ,gBAAF,CAAL;AAAA,iBAAT,CAAR,CAAjB;AACAt7I,wBAAQ00E,oEAAiBA,CAACo1F,UAAlB,EAA8Bx6K,KAA9B,CAAR;AACAA,wBAAQw6K,WAAW9pK,KAAX,CAAR;AACA0gE,yBAAS06F,SAAS9rK,KAAT,CAAT;AACH;AACD,gBAAMqiB,MAAM+uD,UAAUA,OAAO3tE,MAA7B;AACA2tE,sBAAUA,OAAOnlE,IAAP,CAAY,UAAC47C,EAAD,EAAKC,EAAL;AAAA,uBAAYD,GAAG5nB,MAAH,CAAUpK,CAAV,GAAciyB,GAAG7nB,MAAH,CAAUpK,CAApC;AAAA,aAAZ,CAAV;AACA,iBAAK,IAAI72B,IAAI,CAAb,EAAgBA,IAAIqjB,GAApB,EAAyBrjB,GAAzB,EAA8B;AAC1B,oBAAMi/F,QAAQ7sB,OAAOpyE,CAAP,CAAd;AACA,oBAAMihC,SAASg+D,MAAMh+D,MAArB;AACA,oBAAInU,KAAKmU,OAAOnU,CAAZ,IAAiBA,KAAMmU,OAAOkL,KAAP,GAAelL,OAAOnU,CAA7C,IAAmD+J,KAAKoK,OAAOpK,CAA/D,IAAoEA,KAAMoK,OAAOmL,MAAP,GAAgBnL,OAAOpK,CAArG,EAAyG;AACrG4kJ,iCAAax8E,KAAb;AACA;AACH;AACDw8E,6BAAa,IAAb;AACH;;AAED,gBAAMv6J,SAASu6J,cAAcA,WAAW/5F,KAAxC;AACA,gBAAIxgE,MAAJ,EAAY;AACR3O,8BAAc,KAAKwkK,sBAAL,CAA4B71J,MAA5B,EAAoCu6J,WAAW5zH,GAA/C,CAAd;AACH;AACD,mBAAO4zH,aAAa;AAChBztJ,4BAAY,CAACytJ,WAAWx6I,MAAZ,CADI;AAEhB2S,oBAAIrhC,WAFY;AAGhBykK,yBAAS,KAAKpjI,EAAL;AAHO,aAAb,GAIH6nI,UAJJ;AAKH;;;sCAEc;AACX,mBAAO,KAAKhB,SAAZ;AACH;;;qCAvOoB;AACjB,mBAAO,KAAP;AACH;;AAED;;;;;;;wCAIwB;AACpB,mBAAOroI,6DAAP;AACH;;AAED;;;;;;;;;;;;sCASsBw2C,I,EAAMyvE,Q,EAAU;AAClC,gBAAM1pJ,SAAS+8J,qDAASA,CAACjvB,aAAV,CAAwB7zD,IAAxB,EAA8ByvE,QAA9B,CAAf;AACA,gBAAM1sF,WAAWh9D,OAAOg9D,QAAxB;AACA,gBAAM4uF,aAAa5uF,SAAS33B,KAAT,CAAexrC,KAAlC;AACA,gBAAMyjE,YAAYt9D,OAAOs9D,SAAzB;;AAEA,gBAAIsuF,UAAJ,EAAgB;AACZtuF,0BAAUz9D,OAAV,GAAoB+rJ,UAApB;AACH;AACD,mBAAO5rJ,MAAP;AACH;;;;EAlEiC+8J,qD;;AAAjBkD,uE;;;;;;;;;;;;AChCrB;AAAA;AAAA;AAAA;;AAEO,IAAMx8H,gBAAgB;AACzBqC,iBAAauQ,4DADY;AAEzBD,kBAAc,WAFW;AAGzB3R,eAAW,EAHc;AAIzB8uB,iBAAa;AACTqO,mBAAW,CAAC;AACR/gE,kBAAM,MADE;AAER0gK,uBAAW,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,EAAR,EAAY,CAAZ;AAFH,SAAD,CADF;AAKT7/F,cAAM,CAAC;AACH7gE,kBAAM,MADH;AAEH0gK,uBAAW,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,EAAR,EAAY,CAAZ;AAFR,SAAD,CALG;AAST5/F,eAAO,CAAC;AACJ9gE,kBAAM,MADF;AAEJ0gK,uBAAW,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,EAAR,EAAY,CAAZ;AAFP,SAAD;AATE,KAJY;AAkBzBjkG,eAAW;AACPz8D,cAAM;AADC,KAlBc;AAqBzBmwC,gBAAY;AACR+mB,gBAAQ,OADA;AAER9mB,kBAAU;AAFF,KArBa;AAyBzB0zH,kBAAc,GAzBW;AA0BzB3nG,cAAU;AACN33B,eAAO,EADD;AAENlnB,WAAG,EAFG;AAGN+J,WAAG,EAHG;AAIN00D,YAAI,EAJE;AAKN2f,YAAI;AALE,KA1Be;AAiCzB+sE,YAAQ;AACJ1nG,mBAAW;AACPn9B,uBAAc4R,4DAAd;AADO,SADP;AAIJkzH,iBAAS;AACL9kI,uBAAc4R,4DAAd;AADK,SAJL;AAOJmzH,kBAAU;AACN/kI,uBAAc4R,4DAAd;AADM;AAPN;AAjCiB,CAAtB,C;;;;;;;;;;;;ACFP;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;;AAEA;;;;;;;;AAQA,IAAM02H,iBAAiB,SAAjBA,cAAiB,CAACvtK,IAAD,EAAOG,KAAP,EAAcoD,KAAd,EAAqBy+B,OAArB,EAAiC;AAAA,QAC5CwP,UAD4C,GAC7BxP,OAD6B,CAC5CwP,UAD4C;AAAA,QAE5CC,QAF4C,GAEbD,UAFa,CAE5CC,QAF4C;AAAA,QAElCqtB,QAFkC,GAEbttB,UAFa,CAElCstB,QAFkC;AAAA,QAExBvG,MAFwB,GAEb/mB,UAFa,CAExB+mB,MAFwB;;AAGpD,QAAM4L,YAAYnkE,IAAlB;AACA,QAAMwtK,gBAAgB1uG,WAAWqF,SAAX,GAAuBA,UAAU3yB,UAAV,GAAuBC,QAAvB,CAAgCA,QAAhC,EAA0Co4E,IAA1C,CAA+CwW,kDAAOA,CAAC9nE,MAAR,CAA/C,CAA7C;AACA,QAAMzlC,SAAS3yB,MAAM2yB,MAAN,IAAgB3yB,KAA/B;AACA,QAAMgkK,cAAchkK,MAAM4lC,KAAN,IAAe,EAAnC;AACA5lC,UAAM8kC,SAAN,IAAmBk/B,UAAU39B,OAAV,CAAkBrmC,MAAM8kC,SAAxB,EAAmC,IAAnC,CAAnB;AACA3yC,WAAOwtB,OAAP,CAAegT,MAAf,EAAuBn9B,OAAvB,CAA+B;AAAA,eAAS,CAACkY,MAAM+4B,KAAK,CAAL,CAAN,CAAD,IAAmB4mI,cAAc5mI,IAAd,CAAmBA,KAAK,CAAL,CAAnB,EAA4BA,KAAK,CAAL,CAA5B,CAA5B;AAAA,KAA/B;AACAt0C,WAAOwtB,OAAP,CAAeqkJ,WAAf,EAA4BxuK,OAA5B,CAAoC;AAAA,eAAYwuE,UAAUp+B,KAAV,CAAgBi4F,SAAS,CAAT,CAAhB,EAA6BA,SAAS,CAAT,CAA7B,CAAZ;AAAA,KAApC;AACH,CAVD;;AAYA;;;;;;AAMA,IAAMyvC,aAAa,SAAbA,UAAa,CAACztK,IAAD,EAAO9N,CAAP,EAAa;AAC5B,QAAMiyE,YAAYnkE,IAAlB;AACA,QAAMokE,QAAQlyE,EAAEkyE,KAAF,IAAW,EAAzB;AACA9xE,WAAOwtB,OAAP,CAAeskD,KAAf,EAAsBzuE,OAAtB,CAA8B;AAAA,eAAS,CAACkY,MAAM+4B,KAAK,CAAL,CAAN,CAAD,IAAmBu9B,UAAUv9B,IAAV,CAAeA,KAAK,CAAL,CAAf,EAAwBA,KAAK,CAAL,CAAxB,CAA5B;AAAA,KAA9B;AACH,CAJD;;AAMA;;;;;AAKA,0BAAkC,IAAM+lI,YAAY,SAAZA,SAAY,CAAChsK,MAAD,EAAY;AAAA,QACpDsjE,MADoD,GACvBtjE,MADuB,CACpDsjE,MADoD;AAAA,QAC5CS,SAD4C,GACvB/jE,MADuB,CAC5C+jE,SAD4C;AAAA,QACjC6nE,KADiC,GACvB5rI,MADuB,CACjC4rI,KADiC;;AAE5D,QAAMmhC,YAAY;AACdtpG,aADc,iBACPpkE,IADO,EACD9N,CADC,EACE;AAAEu7K,uBAAWztK,IAAX,EAAiB9N,CAAjB;AAAsB,SAD1B;AAEd4gC,cAFc,kBAEN9yB,IAFM,EAEA9N,CAFA,EAEGL,CAFH,EAEM;AAAE07K,2BAAevtK,IAAf,EAAqB9N,CAArB,EAAwBL,CAAxB,EAA2B8O,MAA3B;AAAqC;AAF7C,KAAlB;AAIA,WAAOykC,8DAAWA,CAACs/B,SAAZ,EAAuB,MAAvB,EAA+BT,MAA/B,EAAuC,IAAvC,EAA6CypG,SAA7C,EAAwDnhC,KAAxD,CAAP;AACH,CAPiC,C;;;;;;;;;;;ACvClC,uC;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;;AAEO,IAAMtoG,gBAAgB;AACzBqC,iBAAauQ,4DADY;AAEzBD,kBAAc,YAFW;AAGzB3R,eAAW,EAHc;AAIzB+yD,iBAAa,QAJY;AAKzBl6B,eAAW;AACPz8D,cAAM;AADC,KALc;AAQzB0yD,iBAAa;AACTqO,mBAAW,CAAC;AACR/gE,kBAAM,QADE;AAER0gK,uBAAW,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,EAAR,EAAY,CAAZ;AAFH,SAAD,CADF;AAKT7/F,cAAM,CAAC;AACH7gE,kBAAM,QADH;AAEH0gK,uBAAW,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,EAAR,EAAY,CAAZ;AAFR,SAAD,CALG;AAST5/F,eAAO,CAAC;AACJ9gE,kBAAM,QADF;AAEJ0gK,uBAAW,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,EAAR,EAAY,CAAZ;AAFP,SAAD;AATE,KARY;AAsBzB0I,2BAAuB,EAtBE;AAuBzBjtG,cAAU;AACN33B,eAAO,EADD;AAENlnB,WAAG,EAFG;AAGN+J,WAAG,EAHG;AAINgiJ,uBAAe;AACX73K,mBAAO;AADI;AAJT,KAvBe;AA+BzB2+C,gBAAY;AACR+mB,gBAAQ,OADA;AAER9mB,kBAAU;AAFF,KA/Ba;AAmCzBk5H,qBAAiB;AAnCQ,CAAtB,C;;;;;;;;;;;;ACFP;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AAQA;AACA;AACA;AACA;AACA;;AAQA;;AAEA;;;;;;;;;;IASqBtK,S;;;AAEjB;;;;;AAKA,yBAAsB;AAAA;;AAAA;;AAAA,0CAANniK,IAAM;AAANA,gBAAM;AAAA;;AAAA,qJACTA,IADS;;AAElB,cAAKokI,QAAL,GAAgB,IAAID,kDAAJ,EAAhB;AAFkB;AAGrB;;AAED;;;;;;;;;;;;;AAWA;;;;;;mCAMY;AACR,mBAAO,MAAP;AACH;;AAED;;;;;;;;;AA6BA;;;;oCAIa;AACT,mBAAOsrC,kDAAP;AACH;;;;;AAMD;;;;;;;;wCAQiB10K,I,EAAMklK,iB,EAAmB7sG,I,EAAM;AAAA;;AAC5C,gBAAI2S,SAAS,EAAb;AACA,gBAAM1S,QAAQD,KAAK3yC,CAAnB;AACA,gBAAM6yC,QAAQF,KAAK5oC,CAAnB;AACA,gBAAMuwD,YAAY3nB,KAAKzrB,KAAvB;AACA,gBAAM23B,WAAW,KAAKh9D,MAAL,GAAcg9D,QAA/B;AAL4C,gBAMpC3L,UANoC,GAMTssG,iBANS,CAMpCtsG,UANoC;AAAA,gBAMxBC,UANwB,GAMTqsG,iBANS,CAMxBrsG,UANwB;;AAO5C,gBAAMq4G,SAASt4G,eAAe9qD,oDAASA,CAACb,SAAxC;AACA,gBAAMkkK,SAASt4G,eAAe/qD,oDAASA,CAACb,SAAxC;AACA,gBAAM/S,MAAMg3K,SAASvJ,yDAAQA,CAACp+C,CAAlB,GAAuB4nD,SAASxJ,yDAAQA,CAAC93I,CAAlB,GAAsB,IAAzD;AACA,gBAAM44I,gBAAgBlkG,SAAS33B,KAA/B;AACA,gBAAMumH,aAAasV,cAAcrnK,KAAjC;AACA,gBAAM4I,eAAe,KAAKhK,IAAL,GAAYiK,eAAZ,EAArB;AACA,gBAAMy+J,kBAAkBvV,cAAcnpJ,aAAampJ,UAAb,EAAyB7oJ,KAA/D;AACA,gBAAMwiC,QAAQ,EAAd;AACA,gBAAMj0B,OAAO,EAAb;;AAEAmyD,qBAAShrE,KAAKhE,GAAL,CAAS,UAAC/C,CAAD,EAAIL,CAAJ,EAAU;AACxB,oBAAMw4K,MAAM94G,MAAMvb,aAAN,CAAoB9jD,EAAEysB,CAAtB,IAA2B4yC,MAAMgP,YAAN,KAAuB,CAA9D;AACA,oBAAM+pG,MAAM94G,MAAMxb,aAAN,CAAoB9jD,EAAEw2B,CAAtB,CAAZ;;AAFwB,qCAGI+4I,8DAAaA,CAAC,EAAEthK,OAAOjO,CAAT,EAAYqR,OAAO1R,CAAnB,EAAd,EAAsC;AAC9D6vK,gDAD8D,EAC/CzoF,oBAD+C,EACpC0oF,gCADoC,EAAtC,CAHJ;AAAA,oBAGhB97H,KAHgB,kBAGhBA,KAHgB;AAAA,oBAGT+7H,QAHS,kBAGTA,QAHS;;AAMxB77H,sBAAM6nI,MAAN,GAAe/nI,KAAf;AACAE,sBAAM,cAAN,IAAwB,CAAxB;AACAj0B,qBAAKkwJ,UAAL,GAAkB,EAAlB;AACAlwJ,qBAAKmwJ,aAAL,GAAqBL,QAArB;AACA9vJ,qBAAKwwJ,cAAL,GAAsB,EAAtB;;AAEA,oBAAMxxE,QAAQ;AACV1sB,2BAAO,EADG;AAEVtxC,4BAAQ;AACJnU,2BAAG0rJ,GADC;AAEJ3hJ,2BAAGx2B,EAAEw2B,CAAF,KAAQ,IAAR,GAAe,IAAf,GAAsB4hJ;AAFrB,qBAFE;AAMVvkI,gCANU;AAOVwtC,2BAAOrhF,EAAEqhF,KAPC;AAQV75B,yBAAKxnD,EAAEwnD,GARG;AASVq7G,2BAAO7iK,EAAEwnD,GATC;AAUVl2B,4BAAQtxB,EAAEqhF,KAVA;AAWVzhE;AAXU,iBAAd;AAaAg/E,sBAAM7rD,SAAN,GAAkBy+H,uEAAsBA,CAACxxK,CAAvB,EAA0BL,CAA1B,EAA6BoH,IAA7B,EAAmC,MAAnC,CAAlB;AACA,uBAAKuxK,UAAL,CAAgBt4K,EAAEiB,GAAF,CAAhB,EAAwB29F,KAAxB;AACA,uBAAOA,KAAP;AACH,aA5BQ,CAAT;AA6BA7sB,qBAASsgG,+DAAcA,CAAC,IAAf,EAAqBtgG,MAArB,CAAT;AACA,mBAAOA,MAAP;AACH;;AAED;;;;;;;;+BAKQS,S,EAAW;AAAA;;AACf,gBAAIT,eAAJ;AACA,gBAAIyoG,wBAAJ;AACA,gBAAI3mI,cAAJ;;AAEA,gBAAMvlC,SAAS,KAAKA,MAAL,EAAf;AALe,gBAOXg9D,QAPW,GAYXh9D,MAZW,CAOXg9D,QAPW;AAAA,gBAQXw6B,WARW,GAYXx3F,MAZW,CAQXw3F,WARW;AAAA,gBASX/yD,SATW,GAYXzkC,MAZW,CASXykC,SATW;AAAA,gBAUX2R,YAVW,GAYXp2C,MAZW,CAUXo2C,YAVW;AAAA,gBAWXpF,UAXW,GAYXhxC,MAZW,CAWXgxC,UAXW;;AAaf,gBAAM6tG,iBAAiB,KAAKigB,eAA5B;AACA,gBAAM9/F,kBAAkB,KAAKwgG,gBAA7B;AACA,gBAAM/8J,eAAe,KAAKhK,IAAL,GAAYiK,eAAZ,EAArB;AACA,gBAAMouD,OAAO,KAAKA,IAAL,EAAb;AACA,gBAAMv2D,OAAOykE,gBAAgBvqE,GAAhB,CAAoB;AAAA,uBAAK/C,EAAEiB,GAAP;AAAA,aAApB,CAAb;AACA,gBAAMgnF,qBAAqB1V,wEAAqBA,CAAC7tB,YAAtB,EAAoC,KAAKnR,EAAL,EAApC,EAA+CjlC,OAAO8lC,WAAtD,CAA3B;AACA,gBAAMkmI,qBAAqBxlI,gEAAaA,CAAC09B,SAAd,CAA3B;AACA,gBAAM0nF,aAAa5uF,SAAS33B,KAAT,CAAexrC,KAAlC;AACA,gBAAMsnK,kBAAkB1+J,aAAampJ,UAAb,KAA4BnpJ,aAAampJ,UAAb,EAAyB7oJ,KAA7E;;AAEA,iBAAKi6J,OAAL,GAAe,EAAf;AACA,iBAAKoB,SAAL,GAAiB,EAAjB;AACA4N,+BAAmBhmI,OAAnB,CAA2B2zC,mBAAmB/kF,IAAnB,CAAwB,GAAxB,CAA3B,EAAyD,IAAzD;AACAo3K,+BAAmBhmI,OAAnB,CAA2BvB,SAA3B,EAAsC,IAAtC;AACAG,0EAAWA,CAACs/B,SAAZ,EAAuB,GAAvB,EAA4B26E,cAA5B,EAA4C,IAA5C,EAAkD;AAC9Cj7E,uBAAO,eAACiP,KAAD,EAAW;AACd+wF,iFAAYA,CAAC/wF,KAAb,EAAoB;AAChB7hC,8CADgB;AAEhB8yH,2CAAmB;AACflgG,mCAAO;AACH,kDAAkB,CADf;AAEH,gDAAgB,OAAKypG,YAAL,GAAoB,cAApB;AAFb,6BADQ;AAKf/6I,oCAAQ;AACJ,kDAAkB0qC,SAASktG,aAAT,CAAuB73K;AADrC;AALO;AAFH,qBAApB;AAYH,iBAd6C;AAe9CigC,wBAAQ,gBAACugD,KAAD,EAAQjT,OAAR,EAAiBvuE,CAAjB,EAAuB;AAC3BoyE,6BAAS,OAAK+oG,eAAL,CAAqB5sG,OAArB,EAA8B,OAAK+9F,iBAAL,EAA9B,EAAwD7sG,IAAxD,EAA8Dz/D,CAA9D,CAAT;AACA,2BAAK2rK,OAAL,CAAa3nK,IAAb,CAAkBouE,MAAlB;AACAyoG,sCAAkB,CAAGvyF,mBAAmB,CAAnB,CAAH,UAA4Bp/E,KAAKlJ,CAAL,KAAWA,CAAvC,GAA2CgrB,WAA3C,EAAlB;;AAEA,wBAAIgpB,cAAJ;AACA,wBAAMioI,aAAatwG,SAAS33B,KAAT,CAAehzC,KAAlC;AACA,wBAAM41K,WAAWxkG,OAAOn+D,IAAP,CAAY;AAAA,+BAAK5T,EAAEqhF,KAAF,CAAQouF,eAAR,MAA6B,IAA7B,IAC1BzvK,EAAEqhF,KAAF,CAAQouF,eAAR,MAA6BpnK,SADR;AAAA,qBAAZ,CAAjB;;AAGA,wBAAIuzK,UAAJ,EAAgB;AACZjoI,gCAAQioI,WAAW1tG,OAAX,EAAoBvuE,CAApB,EAAuBwtJ,cAAvB,CAAR;AACH,qBAFD,MAEO;AACHx5G,gCAAQyrB,KAAKzrB,KAAL,CAAWyzC,QAAX,CAAoBmvF,YAAYA,SAASl1F,KAAT,CAAeouF,eAAf,CAAhC,CAAR;AACH;;AAED57H,4BAAQ,OAAK8nI,YAAL,CAAkBhoI,KAAlB,CAAR;AACA,2BAAKkoI,SAAL,GAAiB;AACbrpG,mCAAW2O,MAAM7iD,IAAN,EADE;AAEbwnE,gDAFa;AAGb/zB,sCAHa;AAIbh/B,mCAAWynI,eAJE;AAKbl7H,8CALa;AAMbzL,+BAAOA,SAAS,EANH;AAOb4kI,yCAAiBnqK,OAAOmqK;AAPX,qBAAjB;AASH;AAzC6C,aAAlD,EA0CG;AAAA,uBAAKz4K,EAAE,CAAF,EAAKqhF,KAAL,CAAWouF,eAAX,KAA+BzvK,EAAE,CAAF,EAAKwnD,GAAzC;AAAA,aA1CH;;AA4CAwqH,gFAAmBA,CAAC,KAAK5hC,QAAzB,EAAmC,KAAKk7B,OAAxC;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;qCAKc33H,K,EAAO;AACjB,mBAAO;AACH+nI,wBAAQ/nI,KADL;AAEH,gCAAgB;AAFb,aAAP;AAIH;;AAED;;;;;;;;;wCAMiBlnB,C,EAAG+J,C,EAAGloB,M,EAAQ;AAC3B,gBAAIwtK,eAAextK,OAAOwtK,YAA1B;AACA,gBAAM/0K,OAAO,KAAKA,IAAL,EAAb;;AAEA,gBAAI,CAACA,IAAD,IAAUA,QAAQA,KAAKkrB,OAAL,EAAtB,EAAuC;AACnC,uBAAO,IAAP;AACH;;AAED6pJ,2BAAeA,iBAAiBzzK,SAAjB,GAA6ByzK,YAA7B,GAA4C,KAAKxtK,MAAL,GAAciqK,qBAAzE;AACA,gBAAM35E,QAAQ,KAAKwxC,QAAL,CAAcx8H,IAAd,CAAmB6Y,CAAnB,EAAsB+J,CAAtB,EAAyBslJ,YAAzB,CAAd;AACA,gBAAMnuJ,aAAa49C,6DAAUA,CAACqzB,KAAX,EAAkB,MAAlB,EAA0B,MAA1B,EAAkC,QAAlC,CAAnB;;AAEA,gBAAIA,KAAJ,EAAW;AAAA,uCACgBA,MAAM73F,IAAN,CAAWA,IAD3B;AAAA,oBACCs6E,KADD,oBACCA,KADD;AAAA,oBACQ75B,GADR,oBACQA,GADR;;AAEP,oBAAMt1C,cAAc,KAAKwkK,sBAAL,CAA4Br1F,KAA5B,EAAmC75B,GAAnC,CAApB;AACA,uBAAO;AACHjU,wBAAIrhC,WADD;AAEHyb,gCAAY,CAAC;AACTlB,2BAAGkB,WAAWlB,CADL;AAET+J,2BAAG7I,WAAW6I,CAFL;AAGTsV,+BAAO,CAHE;AAITC,gCAAQ;AAJC,qBAAD,CAFT;AAQH4qI,6BAAS,KAAKpjI,EAAL;AARN,iBAAP;AAUH;AACD,mBAAO,IAAP;AACH;;;qCA9OoB;AACjB,mBAAO,MAAP;AACH;;;wCAgBuB;AACpB,mBAAOxB,6DAAP;AACH;;AAED;;;;;;;;;;;;sCASsBw2C,I,EAAMyvE,Q,EAAU;AAClC,gBAAM1pJ,SAAS+8J,qDAASA,CAACjvB,aAAV,CAAwB7zD,IAAxB,EAA8ByvE,QAA9B,CAAf;AACA,gBAAM1sF,WAAWh9D,OAAOg9D,QAAxB;AACA,gBAAMM,YAAYt9D,OAAOs9D,SAAzB;AACA,gBAAMsuF,aAAa5uF,SAAS33B,KAAT,IAAkB23B,SAAS33B,KAAT,CAAexrC,KAApD;;AAEA,gBAAI+xJ,cAAc,CAACtuF,UAAUz9D,OAA7B,EAAsC;AAClCy9D,0BAAUz9D,OAAV,GAAoB+rJ,UAApB;AACH;AACD,mBAAO5rJ,MAAP;AACH;;;4CAU2B;AACxB,mBAAO,IAAP;AACH;;;;EAxEkC+8J,qD;;AAAlB8C,wE;;;;;;;;;;;;AC/BrB;AAAA;AAAA;AAAA;AAAA;AAMA;;AAEA,IAAMtgF,OAAOx3C,kDAAOA,CAACw3C,IAArB;;AAEA;;;;;AAKO,IAAM4tF,WAAW,SAAXA,QAAW,CAAC3rI,OAAD,EAAa;AACjC,QAAIm9H,uBAAJ;AADiC,QAEzBz6F,SAFyB,GAEyD1iC,OAFzD,CAEzB0iC,SAFyB;AAAA,QAEdT,MAFc,GAEyDjiC,OAFzD,CAEdiiC,MAFc;AAAA,QAEN+zB,WAFM,GAEyDh2D,OAFzD,CAENg2D,WAFM;AAAA,QAEO2yE,eAFP,GAEyD3oI,OAFzD,CAEO2oI,eAFP;AAAA,QAEwB1lI,SAFxB,GAEyDjD,OAFzD,CAEwBiD,SAFxB;AAAA,QAEmCc,KAFnC,GAEyD/D,OAFzD,CAEmC+D,KAFnC;AAAA,QAE0CyL,UAF1C,GAEyDxP,OAFzD,CAE0CwP,UAF1C;;AAGjC,QAAMzf,QAAQiV,gEAAaA,CAAC09B,SAAd,EAAyB99B,IAAzB,CAA8B,OAA9B,EAAuC3B,SAAvC,CAAd;AACA,QAAM4lI,sBAAsBjiC,4DAAiBA,CAAC5wC,WAAlB,CAA5B;AACA,QAAMi2E,WAAWluF,OACJ6yB,KADI,CACEi4D,mBADF,EAEJlsJ,CAFI,CAEF;AAAA,eAAKzsB,EAAE4gC,MAAF,CAASnU,CAAd;AAAA,KAFE,EAGJ+J,CAHI,CAGF;AAAA,eAAKx2B,EAAE4gC,MAAF,CAASpK,CAAd;AAAA,KAHE,EAIJiqF,OAJI,CAII;AAAA,eAAKzgH,EAAE4gC,MAAF,CAASpK,CAAT,KAAe,IAApB;AAAA,KAJJ,CAAjB;;AAMAy2I,qBAAiBl7F,MAAjB;AACA,QAAI0mG,eAAJ,EAAqB;AACjBxL,yBAAiBl7F,OAAOlwD,MAAP,CAAc;AAAA,mBAAK7hB,EAAE4gC,MAAF,CAASpK,CAAT,KAAe,IAApB;AAAA,SAAd,CAAjB;AACH;;AAEDy7I,gEAAWA,CAACpyI,KAAZ,EAAmBgU,KAAnB;AACA,QAAIu+B,UAAUl/B,8DAAWA,CAACrT,KAAZ,EAAmB,MAAnB,EAA2B,CAAC,CAAD,CAA3B,CAAd;AACAuyC,YAAQ99B,OAAR,CAAgBy9B,OAAO,CAAP,EAAUh/B,SAA1B,EAAqC,IAArC;AACA,QAAI,CAACuM,WAAWstB,QAAhB,EAA0B;AACtBwF,kBAAUA,QAAQ9yB,UAAR,GAAqBC,QAArB,CAA8BD,WAAWC,QAAzC,CAAV;AACH;AACD6yB,YAAQ19B,IAAR,CAAa,GAAb,EAAkBqnI,SAAS9O,cAAT,CAAlB,EACiBp5H,KADjB,CACuB,cADvB,EACuC,CADvC;AAEA,WAAOu+B,OAAP;AACH,CAzBM,C;;;;;;;;;;;ACfP,uC;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;;AAEO,IAAMrgC,gBAAgB;AACzB2S,kBAAc,aADW;AAEzB3R,eAAW,EAFc;AAGzBqB,iBAAauQ,4DAHY;AAIzBq3H,mBAAe,QAJU;AAKzBn6G,iBAAa;AACTqO,mBAAW,CAAC;AACR/gE,kBAAM,MADE;AAER0gK,uBAAW,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,EAAR,EAAY,CAAZ;AAFH,SAAD,CADF;AAKT7/F,cAAM,CAAC;AACH7gE,kBAAM,MADH;AAEH0gK,uBAAW,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,EAAR,EAAY,CAAZ;AAFR,SAAD,CALG;AAST5/F,eAAO,CAAC;AACJ9gE,kBAAM,MADF;AAEJ0gK,uBAAW,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,EAAR,EAAY,CAAZ;AAFP,SAAD;AATE,KALY;AAoBzBoD,kBAAc,GApBW;AAqBzBsF,2BAAuB,EArBE;AAsBzB3sG,eAAW;AACPz8D,cAAM;AADC,KAtBc;AAyBzBmwC,gBAAY;AACR+mB,gBAAQ,OADA;AAER9mB,kBAAU;AAFF,KAzBa;AA6BzB+rB,cAAU;AACNE,cAAM;AACF7qE,mBAAO;AADL,SADA;AAINgzC,eAAO,EAJD;AAKN0iC,eAAO;AACH11E,mBAAO;AADJ,SALD;AAQN8rB,WAAG,EARG;AASN+J,WAAG,EATG;AAUNgiJ,uBAAe;AACX73K,mBAAO;AADI,SAVT;AAaNs7K,qBAAa;AACTt7K,mBAAO;AADE;AAbP,KA7Be;AA8CzBu7K,YAAQ,CAAC,QAAD,EAAW,OAAX,EAAoB,SAApB,EAA+B,QAA/B,EAAyC,MAAzC,EAAiD,KAAjD,EAAwD,UAAxD,CA9CiB;AA+CzBC,WAAO,CAAC,EAAD,EAAK,EAAL,EAAS,EAAT,EAAa,EAAb,EAAiB,EAAjB,EAAqB,EAArB;AA/CkB,CAAtB,C;;;;;;;;;;;;ACFP;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AAQA;AACA;AACA;AACA;AACA;;AAQA;;AAEA;;;;;;;;;;;IAUqB9N,U;;;AAEjB;;;;;AAKA,0BAAsB;AAAA;;AAAA;;AAAA,0CAANriK,IAAM;AAANA,gBAAM;AAAA;;AAAA,uJACTA,IADS;;AAElB,cAAKokI,QAAL,GAAgB,IAAID,kDAAJ,EAAhB;AACA,cAAKyiC,UAAL,GAAkB77B,iDAAMA,CAACn1F,IAAP,EAAlB;AAHkB;AAIrB;;AAED;;;;;;;;;;mCAMY;AACR,mBAAO,GAAP;AACH;;AAED;;;;;;;;;AA0CA;;;;;;;wCAOiB76C,I,EAAMukE,Q,EAAUlM,I,EAAmB;AAAA;;AAAA,gBAAb9wD,MAAa,uEAAJ,EAAI;;AAChD,gBAAIyjE,SAAS,EAAb;AADgD,gBAGtCmnG,YAHsC,GAQ5C5tG,QAR4C,CAG5CE,IAH4C;AAAA,gBAIrC4wG,aAJqC,GAQ5C9wG,QAR4C,CAI5C+K,KAJ4C;AAAA,gBAKrCm5F,aALqC,GAQ5ClkG,QAR4C,CAK5C33B,KAL4C;AAAA,gBAM5ClnB,CAN4C,GAQ5C6+C,QAR4C,CAM5C7+C,CAN4C;AAAA,gBAO5C+J,CAP4C,GAQ5C80C,QAR4C,CAO5C90C,CAP4C;;AAShD,gBAAMyjI,YAAYif,aAAa/wK,KAA/B;AACA,gBAAMixK,YAAYF,aAAav4K,KAA/B;AACA,gBAAMmwK,aAAasL,cAAcj0K,KAAjC;AACA,gBAAMq3D,SAAS/yC,EAAEtkB,KAAjB;AACA,gBAAMu3D,SAASlpC,EAAEruB,KAAjB;AAbgD,gBAclC8+E,QAdkC,GAcH7nB,IAdG,CAcxCoM,IAdwC;AAAA,gBAcjBwb,SAdiB,GAcH5nB,IAdG,CAcxBiX,KAdwB;;AAehD,gBAAMtlE,eAAe,KAAKhK,IAAL,GAAYiK,eAAZ,EAArB;AACA,gBAAMinK,SAASlnK,aAAayuD,MAAb,KAAwBzuD,aAAayuD,MAAb,EAAqBz+C,GAArB,CAAyB5R,IAAzB,KAAkC0F,oDAASA,CAACb,SAAnF;AACA,gBAAMkkK,SAASnnK,aAAa2uD,MAAb,KAAwB3uD,aAAa2uD,MAAb,EAAqB3+C,GAArB,CAAyB5R,IAAzB,KAAkC0F,oDAASA,CAACb,SAAnF;AACA,gBAAM/S,MAAMg3K,SAASvJ,yDAAQA,CAACp+C,CAAlB,GAAuB4nD,SAASxJ,yDAAQA,CAAC93I,CAAlB,GAAsB,IAAzD;AACA,gBAAMsjI,aAAasV,iBAAiBA,cAAcrnK,KAAlD;AACA,gBAAMsnK,kBAAkB1+J,aAAampJ,UAAb,KAA4BnpJ,aAAampJ,UAAb,EAAyB7oJ,KAA7E;AACA,gBAAMu5B,cAAc,KAAKA,WAAL,EAApB;AACA,gBAAMyxI,kBAAkBtrK,aAAa+/J,UAAb,KAA4B//J,aAAa+/J,UAAb,EAAyBz/J,KAA7E;AACA,gBAAMirK,iBAAiBvrK,aAAakpJ,SAAb,KAA2BlpJ,aAAakpJ,SAAb,EAAwB5oJ,KAA1E;AACA,gBAAM01E,YAAY3nB,KAAKzrB,KAAvB;AAxBgD,iCAyBbrlC,OAAOw6C,MAzBM;AAAA,gBAyBrCyzH,OAzBqC,kBAyBxC9vJ,CAzBwC;AAAA,gBAyBzB+vJ,OAzByB,kBAyB5BhmJ,CAzB4B;;AAAA,uCA2BvC72B,CA3BuC,EA2BhCqjB,GA3BgC;AA4B5C,oBAAMhjB,IAAI+G,KAAKpH,CAAL,CAAV;AACA,oBAAM0D,MAAMrD,EAAEqhF,KAAd;AACA,oBAAM7V,OAAO4tG,qBAAqBt2K,QAArB,GAAgCs2K,UAAUp5K,CAAV,EAAaL,CAAb,CAAhC,GAAkDsnF,SAASK,OAAT,CAAiBjkF,IAAIi5K,cAAJ,CAAjB,CAA/D;AACA,oBAAMjmG,QAAQ2Q,UAAUK,QAAV,CAAmBhkF,IAAIg5K,eAAJ,CAAnB,CAAd;;AA/B4C,2BAiC3B,CAAC3N,yDAAQA,CAACp+C,CAAV,EAAao+C,yDAAQA,CAAC93I,CAAtB,EAAyB7zB,GAAzB,CAA6B,UAACoM,IAAD,EAAU;AACpD,wBAAMxO,QAAQX,EAAEmP,IAAF,MAAY,IAAZ,GAAmB9G,SAAnB,GAA+BrI,EAAEmP,IAAF,CAA7C;AACA,wBAAMo4E,UAAUp4E,SAASu/J,yDAAQA,CAACp+C,CAAlB,GAAsB1lF,YAAYkB,KAAlC,GAA0ClB,YAAYmB,MAAtE;AACA,2BAAO,CAACu/B,SAASn8D,IAAT,EAAehH,KAAhB,GAAwBo/E,UAAU,CAAlC,GAAsCnoB,KAAKjwD,IAAL,EAAW20C,aAAX,CAAyBnjD,KAAzB,CAA7C;AACH,iBAJgB,CAjC2B;AAAA;AAAA,oBAiCvCw3K,GAjCuC;AAAA,oBAiClCC,GAjCkC;;AAuC5CD,uBAAOoE,OAAP;AACAnE,uBAAOoE,OAAP;;AAxC4C,qCA0ChBjN,8DAAaA,CAAC,EAAEthK,OAAOjO,CAAT,EAAYqR,OAAO1R,CAAnB,EAAd,EACxB,EAAE6vK,4BAAF,EAAiBzoF,oBAAjB,EAA4B0oF,gCAA5B,EADwB,CA1CgB;AAAA,oBA0CpC97H,KA1CoC,kBA0CpCA,KA1CoC;AAAA,oBA0C7B+7H,QA1C6B,kBA0C7BA,QA1C6B;;AA6C5C,oBAAM77H,QAAQ;AACVyoC,0BAAM3oC,KADI;AAEV+nI,4BAAQ/nI;AAFE,iBAAd;;AAKA,oBAAI,CAACh4B,MAAMw8J,GAAN,CAAD,IAAe,CAACx8J,MAAMy8J,GAAN,CAApB,EAAgC;AAC5B,wBAAMx5E,QAAQ;AACV1sB,+BAAO;AACHzlD,+BAAG0rJ,GADA;AAEH3hJ,+BAAG4hJ;AAFA,yBADG;AAKVx3I,gCAAQ;AACJnU,+BAAG0rJ,GADC;AAEJ3hJ,+BAAG4hJ;AAFC,yBALE;AASV/hG,oCATU;AAUV7K,8BAAM5uD,KAAKmf,GAAL,CAASyvC,IAAT,CAVI;AAWV5rD,8BAAM;AACFkwJ,wCAAY,EADV;AAEFC,2CAAeL,QAFb;AAGFU,4CAAgB;AAHd,yBAXI;AAgBVv8H,oCAhBU;AAiBVwtC,+BAAOh+E,GAjBG;AAkBVmkD,6BAAKxnD,EAAEwnD,GAlBG;AAmBVl2B,gCAAQtxB,EAAEqhF,KAnBA;AAoBVwhF,+BAAO7iK,EAAEwnD;AApBC,qBAAd;AAsBAo3C,0BAAM7rD,SAAN,GAAkBy+H,uEAAsBA,CAACxxK,CAAvB,EAA0BL,CAA1B,EAA6BoH,IAA7B,EAAmC,MAAnC,CAAlB;AACAgrE,2BAAOpuE,IAAP,CAAYi7F,KAAZ;AACA,2BAAK05E,UAAL,CAAgBt4K,EAAEiB,GAAF,CAAhB,EAAwB29F,KAAxB;AACH;AA5E2C;;AA2BhD,iBAAK,IAAIj/F,IAAI,CAAR,EAAWqjB,MAAMjc,KAAK3C,MAA3B,EAAmCzE,IAAIqjB,GAAvC,EAA4CrjB,GAA5C,EAAiD;AAAA,sBAAxCA,CAAwC,EAAjCqjB,GAAiC;AAkDhD;AACD+uD,qBAASsgG,+DAAcA,CAAC,IAAf,EAAqBtgG,MAArB,CAAT;AACA,mBAAOA,MAAP;AACH;;AAED;;;;;;;;;+BAMQS,S,EAAW;AAAA;;AACf,gBAAIiqG,UAAU,CAAd;AACA,gBAAIjC,wBAAJ;AACA,gBAAMlsK,SAAS,KAAKA,MAAL,EAAf;AACA,gBAAMzF,OAAO,KAAKilK,gBAAL,CAAsB/qK,GAAtB,CAA0B;AAAA,uBAAK/C,EAAEiB,GAAP;AAAA,aAA1B,CAAb;AAJe,gBAKPq+C,UALO,GAK8ChxC,MAL9C,CAKPgxC,UALO;AAAA,gBAKKvM,SALL,GAK8CzkC,MAL9C,CAKKykC,SALL;AAAA,gBAKgB2R,YALhB,GAK8Cp2C,MAL9C,CAKgBo2C,YALhB;AAAA,gBAK8BtQ,WAL9B,GAK8C9lC,MAL9C,CAK8B8lC,WAL9B;;AAMf,gBAAM+4G,iBAAiB,KAAKigB,eAA5B;AACA,gBAAMkN,qBAAqBxlI,gEAAaA,CAAC09B,SAAd,CAA3B;AACA,gBAAMyV,qBAAqB1V,wEAAqBA,CAAC7tB,YAAtB,EAAoC,KAAKnR,EAAL,EAApC,EAA+Ca,WAA/C,CAA3B;AACA,iBAAKk3H,OAAL,GAAe,EAAf;AACA,iBAAKoB,SAAL,GAAiB,EAAjB;;AAEA4N,+BAAmBhmI,OAAnB,CAA2B2zC,mBAAmB/kF,IAAnB,CAAwB,GAAxB,CAA3B,EAAyD,IAAzD,EAA+DoxC,OAA/D,CAAuEvB,SAAvE,EAAkF,IAAlF;;AAEA,iBAAKu4H,OAAL,GAAe,KAAKiP,kBAAL,CAAwBptB,cAAxB,EAAwCtkJ,IAAxC,CAAf;;AAEAqqC,0EAAWA,CAACs/B,SAAZ,EAAuB,GAAvB,EAA4B,KAAK84F,OAAjC,EAA0C,IAA1C,EAAgD;AAC5C1qI,wBAAQ,gBAACugD,KAAD,EAAQpP,MAAR,EAAmB;AACvB0qG,8BAAU7/J,KAAKxD,GAAL,cAASqjK,OAAT,4BAAqB1qG,OAAOhvE,GAAP,CAAW;AAAA,+BAAK/C,EAAEwrE,IAAP;AAAA,qBAAX,CAArB,GAAV;AACAgvG,2CAAqBvyF,mBAAmB,CAAnB,CAArB;AACA,2BAAKz8E,WAAL,CAAiBkxK,MAAjB,GAA0B;AACtBlqG,mCAAW2O,MAAM7iD,IAAN,EADW;AAEtByzC,sCAFsB;AAGtBh/B,mCAAWynI,eAHW;AAItBl7H,8CAJsB;AAKtB+6F,+BAAO;AAAA,mCAAKr6I,EAAEwnD,GAAP;AAAA;AALe,qBAA1B;AAOH;AAX2C,aAAhD,EAYG;AAAA,uBAAQzgD,KAAK,CAAL,EAAQygD,GAAhB;AAAA,aAZH;AAaA,iBAAKm1H,QAAL,GAAgB//J,KAAKyQ,IAAL,CAAUovJ,UAAU7/J,KAAKqoC,EAAzB,IAA+B,CAA/C;AACA+sH,gFAAmBA,CAAC,KAAK5hC,QAAzB,EAAmC,KAAKk7B,OAAxC;AACA,mBAAO,IAAP;AACH;;;2CAEmBne,c,EAAgBtkJ,I,EAAM;AAAA;;AACtC,gBAAMyiE,WAAW,KAAKh9D,MAAL,GAAcg9D,QAA/B;AACA,gBAAMlM,OAAO,KAAKA,IAAL,EAAb;;AAFsC,sCAGAszG,mEAAkBA,CAAC,IAAnB,EAAyB7pK,IAAzB,CAHA;AAAA;AAAA,gBAG/B+zK,YAH+B;AAAA,gBAGjBC,aAHiB;;AAItC,gBAAMC,gBAAgBF,aAAa/J,YAAb,IAA6B,EAAnD;AACA,gBAAMkK,gBAAgBF,cAAchK,YAAd,IAA8B,EAApD;AACA,mBAAO1lB,eAAepqJ,GAAf,CAAmB,UAACmrE,OAAD,EAAUvuE,CAAV,EAAgB;AACtC,oBAAMq9K,kBAAkB,OAAKC,oBAAL,CAA0BH,cAAcn9K,CAAd,CAA1B,EAA4Co9K,cAAcp9K,CAAd,CAA5C,EAA8Di9K,aAAa/nI,IAA3E,EACpBgoI,cAAchoI,IADM,CAAxB;AAEA,uBAAO,OAAKimI,eAAL,CAAqB5sG,OAArB,EAA8B5C,QAA9B,EAAwClM,IAAxC,EAA8C49G,eAA9C,CAAP;AACH,aAJM,EAIJn7J,MAJI,CAIG;AAAA,uBAAK7hB,EAAEoE,MAAP;AAAA,aAJH,CAAP;AAKH;;;6CAEqBm4K,O,EAASC,O,EAASU,S,EAAWC,U,EAAY;AAC3D,mBAAO;AACHr0H,wBAAQ;AACJr8B,uBAAG,CAAC8vJ,WAAW,CAAZ,IAAiBW,YAAY,CAD5B;AAEJ1mJ,uBAAG,CAACgmJ,WAAW,CAAZ,IAAiBW,aAAa;AAF7B,iBADL;AAKHtoI,sBAAM;AACFpoB,uBAAGywJ,SADD;AAEF1mJ,uBAAG2mJ;AAFD;AALH,aAAP;AAUH;;AAED;;;;;;;;;wCAMiB1wJ,C,EAAG+J,C,EAAG;AACnB,gBAAM4mJ,gBAAgBxgK,KAAKxD,GAAL,CAAS,KAAKujK,QAAd,EAAwB,KAAKruK,MAAL,GAAciqK,qBAAtC,CAAtB;;AAEA,gBAAI,CAAC,KAAKxxK,IAAL,EAAL,EAAkB;AACd,uBAAO,IAAP;AACH;;AAED,gBAAM63F,QAAQ,KAAKwxC,QAAL,CAAcx8H,IAAd,CAAmB6Y,CAAnB,EAAsB+J,CAAtB,EAAyB4mJ,aAAzB,CAAd;AACA,gBAAMzvJ,aAAaixE,SAASA,MAAM73F,IAAN,CAAWA,IAAX,CAAgB65B,MAA5C;AACA,gBAAM8gF,SAAS9iB,QAAQhiF,KAAKyQ,IAAL,CAAUuxE,MAAM73F,IAAN,CAAWA,IAAX,CAAgBykE,IAAhB,GAAuB5uD,KAAKqoC,EAAtC,CAAR,GAAoD,CAAnE;;AAEA,gBAAI25C,KAAJ,EAAW;AAAA,uCACgBA,MAAM73F,IAAN,CAAWA,IAD3B;AAAA,oBACCs6E,KADD,oBACCA,KADD;AAAA,oBACQ75B,GADR,oBACQA,GADR;;AAEP,oBAAMt1C,cAAc,KAAKwkK,sBAAL,CAA4Br1F,KAA5B,EAAmC75B,GAAnC,CAApB;AACA,uBAAO;AACHjU,wBAAIrhC,WADD;AAEHyb,gCAAY,CAAC;AACTlB,2BAAGkB,WAAWlB,CADL;AAET+J,2BAAG7I,WAAW6I,CAFL;AAGTsV,+BAAO41E,MAHE;AAIT31E,gCAAQ21E;AAJC,qBAAD,CAFT;AAQHi1D,6BAAS,KAAKpjI,EAAL;AARN,iBAAP;AAUH;AACD,mBAAO,IAAP;AACH;;;wCAjOuB;AACpB,mBAAOxB,6DAAP;AACH;;;sCAEqBw2C,I,EAAMyvE,Q,EAAU;AAClC,gBAAM1pJ,SAAS+8J,qDAASA,CAACjvB,aAAV,CAAwB7zD,IAAxB,EAA8ByvE,QAA9B,CAAf;AACA,gBAAM1sF,WAAWh9D,OAAOg9D,QAAxB;AACA,gBAAMM,YAAYt9D,OAAOs9D,SAAzB;AACA,gBAAMsuF,aAAa5uF,SAAS33B,KAAT,IAAkB23B,SAAS33B,KAAT,CAAexrC,KAApD;;AAEA,gBAAI+xJ,UAAJ,EAAgB;AACZtuF,0BAAUz9D,OAAV,GAAoB+rJ,UAApB;AACH;AACD,mBAAO5rJ,MAAP;AACH;;AAED;;;;;;;;;;qCAOqB;AACjB,mBAAO,OAAP;AACH;;AAED;;;;;;;;;;iCAOiB;AACb,mBAAO+uK,iDAAP;AACH;;;;EA/DmChS,qD;;AAAnBgD,yE;;;;;;;;;;;;AChCrB;AAAA;AAAA;AACA;;AAQA;;;;;;AAMA,IAAMvuF,YAAY,SAAZA,SAAY,CAACv3E,GAAD,EAAS;AACvB,QAAI,0CAA0CxD,IAA1C,CAA+CwD,GAA/C,KAAuD,UAAUxD,IAAV,CAAewD,GAAf,CAAvD,IAA8EA,IAAInE,MAAJ,GAAa,CAA/F,EAAkG;AAC9F,eAAO,IAAP;AACH;AACD,WAAO,KAAP;AACH,CALD;;AAOA;;;;;;AAMA,IAAM27E,cAAc,SAAdA,WAAc,CAAU//E,CAAV,EAAa8N,IAAb,EAAmB;AACnC,QAAMmyE,eAAenrC,gEAAaA,CAAChnC,IAAd,CAArB;AADmC,QAE3BuoE,KAF2B,GAEHr2E,CAFG,CAE3Bq2E,KAF2B;AAAA,QAEpB7K,IAFoB,GAEHxrE,CAFG,CAEpBwrE,IAFoB;AAAA,QAEd5qC,MAFc,GAEH5gC,CAFG,CAEd4gC,MAFc;;;AAInC,QAAIy1C,iBAAiB6J,OAArB,EAA8B;AAC1B7J,cAAM8J,IAAN,CAAW,UAACn7C,GAAD,EAAS;AAChBhlC,cAAEq2E,KAAF,GAAUrxC,GAAV;AACA+6C,wBAAY//E,CAAZ,EAAe8N,IAAf;AACH,SAHD;AAIH,KALD,MAKO,IAAIuoE,iBAAiB+J,OAArB,EAA8B;AACjC,YAAIC,WAAWhK,MAAMiK,SAAN,CAAgB,IAAhB,CAAf;;AAEA,YAAID,SAASE,QAAT,CAAkB51D,WAAlB,OAAoC,KAAxC,EAA+C;AAC3C,gBAAM61D,MAAMH,SAASG,GAAT,IAAgBH,SAASI,IAArC;AACAJ,uBAAWK,SAASC,eAAT,CAAyB,4BAAzB,EAAuD,OAAvD,CAAX;AACAN,qBAASO,YAAT,CAAsB,MAAtB,EAA8BJ,GAA9B;AACH;AACD,YAAMK,eAAe/rC,gEAAaA,CAACurC,QAAd,CAArB;AACA,YAAIA,SAASE,QAAT,KAAsB,MAAtB,IAAgCF,SAASE,QAAT,KAAsB,OAA1D,EAAmE;AAC/DM,yBAAansC,IAAb,CAAkB,WAAlB,aAAwC82B,OAAO,GAA/C;AACH,SAFD,MAEO;AACHqV,yBAAansC,IAAb,CAAkB,QAAlB,EAA4B82B,IAA5B;AACAqV,yBAAansC,IAAb,CAAkB,OAAlB,EAA2B82B,IAA3B;AACH;AACDqV,qBAAansC,IAAb,CAAkB,GAAlB,EAAuB,CAAC82B,IAAD,GAAQ,CAA/B;AACAqV,qBAAansC,IAAb,CAAkB,GAAlB,EAAuB,CAAC82B,IAAD,GAAQ,CAA/B;AACA12B,wEAAaA,CAACmrC,aAAa3hD,IAAb,GAAoBwiD,WAApB,CAAgCT,QAAhC,CAAd;AACH,KAlBM,MAkBA,IAAI,OAAOhK,KAAP,KAAiB,QAArB,EAA+B;AAClC,YAAI0K,gBAAJ;AACA,YAAIjB,UAAUzJ,KAAV,CAAJ,EAAsB;AAClB0K,sBAAU1K,KAAV;AACH,SAFD,MAEO;AACH0K,sBAAUjmB,4DAASA,CAACub,KAAV,EAAiB7K,IAAjB,CAAsBA,IAAtB,EAA4B5qC,MAA5B,CAAV;AACH;AACDsS,sEAAWA,CAAC+sC,YAAZ,EAA0B,MAA1B,EAAkC;AAAA,mBAAQ,CAACl5E,IAAD,CAAR;AAAA,SAAlC,EAAkD2tC,IAAlD,CAAuD,GAAvD,EAA4DqsC,OAA5D;AACH,KARM,MAQA;AACH/gF,UAAEq2E,KAAF,GAAU,QAAV;AACA0J,oBAAY//E,CAAZ,EAAe8N,IAAf;AACH;AACJ,CAvCD;;AAyCA;;;;AAIA,0BAA2B,IAAMuvK,cAAc,SAAdA,WAAc,CAAC5uK,MAAD,EAAY;AACvD,QAAI6uK,qBAAJ;AADuD,QAE/C9qG,SAF+C,GAEF/jE,MAFE,CAE/C+jE,SAF+C;AAAA,QAEpCT,MAFoC,GAEFtjE,MAFE,CAEpCsjE,MAFoC;AAAA,QAE5BzyB,UAF4B,GAEF7wC,MAFE,CAE5B6wC,UAF4B;AAAA,QAEhBvM,SAFgB,GAEFtkC,MAFE,CAEhBskC,SAFgB;AAAA,QAG/CwM,QAH+C,GAGhBD,UAHgB,CAG/CC,QAH+C;AAAA,QAGrC8mB,MAHqC,GAGhB/mB,UAHgB,CAGrC+mB,MAHqC;AAAA,QAG7BuG,QAH6B,GAGhBttB,UAHgB,CAG7BstB,QAH6B;;AAIvD,QAAM/sC,QAAQiV,gEAAaA,CAAC09B,SAAd,CAAd;;AAEA3yC,UAAM6U,IAAN,CAAW,OAAX,EAAoB3B,SAApB;AACA,QAAMwqI,eAAe19I,MAAMggB,SAAN,CAAgB,GAAhB,EAAqB94C,IAArB,CAA0BgrE,MAA1B,EAAkCtjE,OAAO4rI,KAAzC,CAArB;AACA,QAAMmjC,cAAcD,aAAarrG,KAAb,GAAqBjxC,MAArB,CAA4B,GAA5B,EAAiCyT,IAAjC,CAAsC,WAAtC,EAAmD;AAAA,8BAAkB10C,EAAEkyE,KAAF,CAAQzlD,CAA1B,SAA+BzsB,EAAEkyE,KAAF,CAAQ17C,CAAvC;AAAA,KAAnD,CAApB;AACA8mJ,mBAAeC,aAAa1tJ,KAAb,CAAmB2tJ,WAAnB,EACEvoI,IADF,CACO,UAAUj1C,CAAV,EAAa;AACf+/E,oBAAY//E,CAAZ,EAAe,IAAf;AACH,KAHF,CAAf;AAIAs9K,mBAAe1wG,WAAW0wG,YAAX,GAA0BA,aAAah+H,UAAb,GAA0BC,QAA1B,CAAmCqtB,WAAW,CAAX,GAAettB,WAAWC,QAA7D,CAAzC;AACA+9H,iBAAa5oI,IAAb,CAAkB,WAAlB,EAA+B;AAAA,8BAAkB10C,EAAE4gC,MAAF,CAASnU,CAA3B,SAAgCzsB,EAAE4gC,MAAF,CAASpK,CAAzC;AAAA,KAA/B,EACiBye,IADjB,CACsB,UAAUj1C,CAAV,EAAa;AACf,YAAM6zC,QAAQ7zC,EAAE6zC,KAAhB;AACA,YAAMu+B,UAAUt9B,gEAAaA,CAAC,IAAd,CAAhB;AACAo7F,yEAAcA,CAACr8F,KAAf,EAAsB;AAAA,mBAAOu+B,QAAQv+B,KAAR,CAAc5yC,GAAd,EAAmB4yC,MAAM5yC,GAAN,CAAnB,CAAP;AAAA,SAAtB;AACAmxE,gBAAQ19B,IAAR,CAAa,OAAb,OAAyB3B,SAAzB;AACAq/B,gBAAQ99B,OAAR,CAAgBt0C,EAAE+yC,SAAlB,EAA6B,IAA7B;AACH,KAPjB;;AASA,QAAM0qI,aAAaF,aAAapoI,IAAb,EAAnB;AACA,QAAI,CAACy3B,QAAL,EAAe;AACX6wG,mBAAWn+H,UAAX,GAAwBq4E,IAAxB,CAA6BwW,kDAAOA,CAAC9nE,MAAR,CAA7B,EACiB9mB,QADjB,CAC0BA,QAD1B,EAEiBvsC,EAFjB,CAEoB,KAFpB,EAE2B,YAAY;AACnB8hC,4EAAaA,CAAC,IAAd,EAAoBM,MAApB;AACH,SAJjB,EAKiBvB,KALjB,CAKuB,cALvB,EAKuC,CALvC,EAMiBA,KANjB,CAMuB,gBANvB,EAMyC,CANzC;AAOH,KARD,MAQO;AACH4pI,mBAAWroI,MAAX;AACH;AACJ,CAnC0B;;AAqCZioI,0EAAf,E;;;;;;;;;;;AC9GA,uC;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;;AAEO,IAAMtrI,gBAAgB;AACzB2S,kBAAc,YADW;AAEzBtQ,iBAAauQ,4DAFY;AAGzB5R,eAAW,EAHc;AAIzB64B,eAAW;AACPz8D,cAAM;AADC,KAJc;AAOzB0yD,iBAAa;AACTqO,mBAAW,CAAC;AACR/gE,kBAAM,MADE;AAER0gK,uBAAW,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,EAAR,EAAY,CAAZ;AAFH,SAAD,CADF;AAKT7/F,cAAM,CAAC;AACH7gE,kBAAM,MADH;AAEH0gK,uBAAW,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,EAAR,EAAY,CAAZ;AAFR,SAAD,CALG;AAST5/F,eAAO,CAAC;AACJ9gE,kBAAM,MADF;AAEJ0gK,uBAAW,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,EAAR,EAAY,CAAZ;AAFP,SAAD;AATE,KAPY;AAqBzBvwH,gBAAY;AACR+mB,gBAAQ,OADA;AAER9mB,kBAAU;AAFF,KArBa;AAyBzB+rB,cAAU;AACN33B,eAAO,EADD;AAEN1vC,cAAM;AACFtD,mBAAO,EADL;AAEF+8K,wBAAY;AACRl8H,yBAAS;AADD;AAFV;AAFA,KAzBe;AAkCzBo2H,YAAQ;AACJ1nG,mBAAW;AACPn9B,uBAAc4R,4DAAd;AADO,SADP;AAIJkzH,iBAAS;AACL9kI,uBAAc4R,4DAAd;AADK,SAJL;AAOJmzH,kBAAU;AACN/kI,uBAAc4R,4DAAd;AADM;AAPN;AAlCiB,CAAtB,C;;;;;;;;;;;;ACFP;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;;AAQA;;;;;;AAMA,IAAMg5H,WAAW,SAAXA,QAAW,CAACnrG,SAAD,EAAYzrE,IAAZ,EAAkBuH,MAAlB,EAA0Bs5H,UAA1B,EAAyC;AACtD,QAAM31D,YAAYn9B,gEAAaA,CAAC09B,SAAd,EAAyB3yB,SAAzB,CAAmC,GAAnC,EAAwC94C,IAAxC,CAA6CA,IAA7C,CAAlB;;AAEA,QAAMs0I,iBAAiBppE,UAAUC,KAAV,GAAkBjxC,MAAlB,CAAyB,GAAzB,EAClBgU,IADkB,CACb,UAAUt0B,OAAV,EAAmB;AACrBijE,mEAAQA,CAAC,IAAT,EAAejjE,QAAQuxD,KAAvB;AACH,KAHkB,EAIlBriD,KAJkB,CAIZoiD,SAJY,CAAvB;AAKA,QAAMp+B,QAAQkU,wEAAqBA,CAACjT,gEAAaA,CAAC09B,SAAd,CAAtB,EAAgDlkE,OAAOykC,SAAvD,CAAd;AACA,QAAMoxF,WAAW1vG,SAASof,MAAMswF,QAAf,EAAyB,EAAzB,CAAjB;;AAEAyD,eAAW9mF,QAAX,CAAoBjN,KAApB;AACAwnG,mBAAepmG,IAAf,CAAoB,UAAUt0B,OAAV,EAAmB;AACnC,YAAMyxD,UAAUt9B,gEAAaA,CAAC,IAAd,CAAhB;AADmC,YAE3BlU,MAF2B,GAE2BjgB,OAF3B,CAE3BigB,MAF2B;AAAA,YAEnB38B,IAFmB,GAE2B0c,OAF3B,CAEnB1c,IAFmB;AAAA,YAEb0vC,KAFa,GAE2BhzB,OAF3B,CAEbgzB,KAFa;AAAA,YAENiqI,UAFM,GAE2Bj9J,OAF3B,CAENi9J,UAFM;AAAA,YAEaC,SAFb,GAE2Bl9J,OAF3B,CAEMkzB,KAFN;;AAGnC,YAAM6pI,aAAa/8J,QAAQ+8J,UAA3B;AACA,YAAII,sBAAJ;AACA,YAAIA,gBAAgBJ,WAAW/8K,KAA/B,EAAsC;AAClC,gBAAMo9K,oBAAoBL,WAAWl8H,OAArC;AACA,gBAAI3lB,aAAJ;;AAFkC,wCAGR+rG,WAAW7oF,UAAX,CAAsBp+B,QAAQ1c,IAA9B,CAHQ;AAAA,gBAG1B6nC,KAH0B,yBAG1BA,KAH0B;AAAA,gBAGnBC,MAHmB,yBAGnBA,MAHmB;;AAIlC,gBAAMiyI,eAAe9qI,8DAAWA,CAACk/B,OAAZ,EAAqB,MAArB,EAA6B,CAAC,CAAD,CAA7B,CAArB;;AAEA,gBAAIwrG,eAAe,KAAnB,EAA0B;AACtB/hJ,uBAAOiQ,KAAP;AACH,aAFD,MAEO,IAAI8xI,eAAe,OAAnB,EAA4B;AAC/B/hJ,uBAAO,CAAP;AACH,aAFM,MAEA;AACHA,uBAAOiQ,QAAQ,CAAf;AACH;;AAED83C,uEAAQA,CAACo6F,aAAa1/I,IAAb,EAAT,EAA8B;AAC1B7R,mBAAGmU,OAAOnU,CAAP,GAAWoP,IAAX,GAAkBkiJ,oBAAoB,CADf;AAE1BvnJ,mBAAGoK,OAAOpK,CAAP,GAAW2tG,QAAX,GAAsB45C,oBAAoB,CAFnB;AAG1BjyI,uBAAOA,QAAQiyI,iBAHW;AAI1BhyI,wBAAQA,SAASgyI;AAJS,aAA9B;AAMAL,0BAAcj6F,4DAASA,CAACu6F,YAAV,EAAwB;AAClCN,4BAAYI;AADsB,aAAxB,CAAd;AAGH;AACD,YAAM/hC,SAAS7oG,8DAAWA,CAACk/B,OAAZ,EAAqB,MAArB,EAA6B;AAAA,mBAAK,CAACpyE,CAAD,CAAL;AAAA,SAA7B,EAAuCiE,IAAvC,CAA4CA,IAA5C,CAAf;AACA,YAAMk8C,WAAW47F,OAAOz9G,IAAP,EAAjB;AACAu/I,qBAAap6F,4DAASA,CAACtjC,QAAV,EAAoB09H,SAApB,CAAb;AACAlqI,iBAAS8vC,4DAASA,CAACtjC,QAAV,EAAoB;AACzBm8B,kBAAM3oC;AADmB,SAApB,CAAT;AAGAhzB,gBAAQoyB,SAAR,IAAqBgpG,OAAOznG,OAAP,CAAe3zB,QAAQoyB,SAAvB,EAAkC,IAAlC,CAArB;AACA6wC,mEAAQA,CAACzjC,QAAT,EAAmBvf,MAAnB;AACAm7G,eAAOrnG,IAAP,CAAY,aAAZ,EAA2BkpI,UAA3B;AACH,KAtCD;AAuCA3rG,cAAU98B,IAAV,GAAiBC,MAAjB;AACA,WAAO68B,SAAP;AACH,CArDD;;AAuDe0rG,uEAAf,E;;;;;;;;;;;ACrEA,uC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AAMA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;;;;;;;;;;IAWqBvP,S;;;;;;;;;;;mCAaL;AACR,mBAAO,MAAP;AACH;;AAED;;;;;;;;;;wCAOiBrnK,I,EAAMukE,Q,EAAUlM,I,EAAM;AAAA;;AACnC,gBAAI2S,SAAS,EAAb;AACA,gBAAMgV,YAAY3nB,KAAKzrB,KAAvB;AACA,gBAAMsqI,eAAe3yG,SAASrnE,IAA9B;AAHmC,gBAIpBi6K,SAJoB,GAI2BD,YAJ3B,CAI3B91K,KAJ2B;AAAA,gBAITxH,KAJS,GAI2Bs9K,YAJ3B,CAITt9K,KAJS;AAAA,gBAISw9K,aAJT,GAI2BF,YAJ3B,CAIFxxK,SAJE;;AAKnC,gBAAM+iK,gBAAgBlkG,SAAS33B,KAA/B;AACA,gBAAMumH,aAAasV,iBAAiBA,cAAcrnK,KAAlD;AACA,gBAAM4I,eAAe,KAAKhK,IAAL,GAAYiK,eAAZ,EAArB;;AAEA,gBAAMotK,qBAAqB9yG,SAASrnE,IAAT,CAAcy5K,UAAzC;AACA,gBAAMK,oBAAoBK,mBAAmB58H,OAA7C;AACA,gBAAM68H,kBAAkBD,mBAAmBz9K,KAA3C;AACA,gBAAM8uK,kBAAkB1+J,aAAampJ,UAAb,IAA2BnpJ,aAAampJ,UAAb,EAAyB7oJ,KAApD,GAA4D,CAAC,CAArF;AACA,gBAAMitK,iBAAiBJ,YAAYntK,aAAamtK,SAAb,KAA2BntK,aAAamtK,SAAb,EAAwB7sK,KAA/D,GAAuE,CAAC,CAA/F;AACA,gBAAM0gK,OAAOrD,yDAAQA,CAACp+C,CAAtB;AACA,gBAAMwhD,OAAOpD,yDAAQA,CAAC93I,CAAtB;;AAfmC,uCAgB1Bj3B,CAhB0B,EAgBnBqjB,GAhBmB;AAiB/B,oBAAMhjB,IAAI+G,KAAKpH,CAAL,CAAV;AACA,oBAAM0D,MAAMrD,EAAEqhF,KAAd;AACA,oBAAMk9F,YAAYL,YAAY76K,IAAIi7K,cAAJ,CAAZ,GAAkC39K,KAApD;;AAnB+B,2BAqBZ,CAACoxK,IAAD,EAAOD,IAAP,EAAa/uK,GAAb,CAAiB;AAAA,2BAASq8D,KAAKjwD,IAAL,IAAaiwD,KAAKjwD,IAAL,EAAW20C,aAAX,CAAyB9jD,EAAEmP,IAAF,CAAzB,IAClDiwD,KAAKjwD,IAAL,EAAWk/D,YAAX,KAA4B,CADS,GACL,CADJ;AAAA,iBAAjB,CArBY;AAAA;AAAA,oBAqBxB8pG,GArBwB;AAAA,oBAqBnBC,GArBmB;;AAAA,qCAwBH7I,8DAAaA,CAAC,EAAEthK,OAAOjO,CAAT,EAAYqR,OAAO1R,CAAnB,EAAd,EACxB,EAAE6vK,4BAAF,EAAiBzoF,oBAAjB,EAA4B0oF,gCAA5B,EADwB,CAxBG;AAAA,oBAwBvB97H,KAxBuB,kBAwBvBA,KAxBuB;AAAA,oBAwBhB+7H,QAxBgB,kBAwBhBA,QAxBgB;;AA2B/B,oBAAM9wE,QAAQ;AACV1sB,2BAAO,EADG;AAEVtxC,4BAAQ;AACJnU,2BAAG0rJ,GADC;AAEJ3hJ,2BAAG4hJ;AAFC,qBAFE;AAMVn0K,0BAAMk6K,gBAAgBA,cAAcI,SAAd,CAAhB,GAA2CA,SANvC;AAOV5qI,gCAPU;AAQV+pI,gCAAY;AACR/8K,+BAAO09K,2BAA2Bv7K,QAA3B,GAAsCu7K,gBAAgBr+K,CAAhB,EAAmBL,CAAnB,EAAsBoH,IAAtB,EAA4B,MAA5B,CAAtC,GAA0E,IADzE;AAERy6C,iCAASu8H;AAFD,qBARF;AAYVn+J,0BAAM;AACFkwJ,oCAAY,EADV;AAEFC,uCAAeL,QAFb;AAGFU,wCAAgB;AAHd,qBAZI;AAiBVv8H,2BAAO,EAjBG;AAkBVwtC,2BAAOh+E,GAlBG;AAmBVmkD,yBAAKxnD,EAAEwnD,GAnBG;AAoBVl2B,4BAAQtxB,EAAEqhF,KApBA;AAqBVwhF,2BAAO7iK,EAAEwnD;AArBC,iBAAd;;AAwBA,oBAAIxnD,EAAEysB,CAAF,KAAQ,IAAR,IAAgBzsB,EAAEw2B,CAAF,KAAQ,IAA5B,EAAkC;AAC9Bu7C,2BAAOpuE,IAAP,CAAYi7F,KAAZ;AACH;;AAEDA,sBAAM7rD,SAAN,GAAkBy+H,uEAAsBA,CAACxxK,CAAvB,EAA0BL,CAA1B,EAA6BoH,IAA7B,EAAmC,MAAnC,CAAlB;AAvD+B;;AAgBnC,iBAAK,IAAIpH,IAAI,CAAR,EAAWqjB,MAAMjc,KAAK3C,MAA3B,EAAmCzE,IAAIqjB,GAAvC,EAA4CrjB,GAA5C,EAAiD;AAAA,sBAAxCA,CAAwC,EAAjCqjB,GAAiC;AAwChD;;AAED+uD,qBAASsgG,+DAAcA,CAAC,IAAf,EAAqBtgG,MAArB,CAAT;;AAEA,mBAAOA,MAAP;AACH;;AAED;;;;;;;;+BAKQS,S,EAAW;AAAA;;AACf,gBAAIT,eAAJ;AACA,gBAAMzjE,SAAS,KAAKA,MAAL,EAAf;AACA,gBAAMg9D,WAAWh9D,OAAOg9D,QAAxB;AACA,gBAAM6hF,iBAAiB,KAAKigB,eAA5B;AACA,gBAAMr6H,YAAYzkC,OAAOykC,SAAzB;AACA,gBAAMk1C,qBAAqB1V,wEAAqBA,CAACjkE,OAAOo2C,YAA7B,EAA2C,KAAKnR,EAAL,EAA3C,EAAsDjlC,OAAO8lC,WAA7D,CAA3B;AACA,gBAAMgrB,OAAO,KAAKA,IAAL,EAAb;AACA,gBAAMk7G,qBAAqBxlI,gEAAaA,CAAC09B,SAAd,CAA3B;;AAEA8nG,+BAAmBhmI,OAAnB,CAA8B2zC,mBAAmB/kF,IAAnB,CAAwB,GAAxB,CAA9B,SAA8D6vC,SAA9D,EAA2E,IAA3E;AACAooG,6EAAcA,CAAC;AACXp0I,sBAAMomJ,cADK;AAEXlsH,wBAAQ,GAFG;AAGX6xE,0BAAU,GAHC;AAIXtgC,oCAJW;AAKXv9B,sBAAM,cAACi5B,OAAD,EAAUiT,KAAV,EAAiBxhF,CAAjB,EAAuB;AACzB,wBAAM2+B,OAAO6iD,MAAM7iD,IAAN,EAAb;AACAyzC,6BAAS,OAAK+oG,eAAL,CAAqB5sG,OAArB,EAA8B5C,QAA9B,EAAwClM,IAAxC,EAA8Cz/D,CAA9C,CAAT;AACA8jF,gFAASA,CAACnlD,IAAV,EAAgB;AACZ,uCAAemwI,mEAAkBA;AADrB,qBAAhB;AAGAkP,6EAAQA,CAACr/I,IAAT,EAAeyzC,MAAf,EAAuB;AACnBh/B,mCAAWk1C,mBAAmB,CAAnB;AADQ,qBAAvB,EAEG,OAAKl9C,aAAL,CAAmB68F,UAFtB;AAGH;AAdU,aAAf;AAgBA,mBAAO,IAAP;AACH;;;;AAvHD;;;;wCAIwB;AACpB,mBAAO71F,6DAAP;AACH;;;qCAEoB;AACjB,mBAAO,MAAP;AACH;;;;EAXkCs5H,qD;;AAAlB+C,wE;;;;;;;;;;;;ACzBrB;AAAA;AAAA;AAAA;;AAEO,IAAMr8H,gBAAgB;AACzB2S,kBAAc,YADW;AAEzB3R,eAAW,EAFc;AAGzBqB,iBAAauQ,4DAHY;AAIzBkd,iBAAa;AACTqO,mBAAW,CAAC;AACR/gE,kBAAM,QADE;AAER0gK,uBAAW,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAC,EAAR,EAAY,CAAZ;AAFH,SAAD,CADF;AAKT7/F,cAAM,CAAC;AACH7gE,kBAAM,QADH;AAEH0gK,uBAAW,CAAC,CAAD,EAAI,CAAJ,EAAO,EAAP,EAAW,CAAX;AAFR,SAAD,CALG;AAST5/F,eAAO,CAAC;AACJ9gE,kBAAM,QADF;AAEJ0gK,uBAAW,CAAC,CAAD,EAAI,CAAJ,EAAO,EAAP,EAAW,CAAX;AAFP,SAAD;AATE,KAJY;AAkBzBoD,kBAAc,GAlBW;AAmBzBrnG,eAAW;AACPz8D,cAAM;AADC,KAnBc;AAsBzBmwC,gBAAY;AACR+mB,gBAAQ,OADA;AAER9mB,kBAAU;AAFF,KAtBa;AA0BzB+rB,cAAU;AACN33B,eAAO,EADD;AAENlnB,WAAG,EAFG;AAGN+J,WAAG,EAHG;AAIN00D,YAAI,EAJE;AAKN2f,YAAI,EALE;AAMN2tE,uBAAe;AACX73K,mBAAO;AADI,SANT;AASNs7K,qBAAa;AACTt7K,mBAAO;AADE;AATP,KA1Be;AAuCzBi3K,YAAQ;AACJ1nG,mBAAW;AACPn9B,uBAAc4R,4DAAd;AADO,SADP;AAIJkzH,iBAAS;AACL9kI,uBAAc4R,4DAAd;AADK,SAJL;AAOJmzH,kBAAU;AACN/kI,uBAAc4R,4DAAd;AADM;AAPN;AAvCiB,CAAtB,C;;;;;;;;;;;;ACFP;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;;AAEA;;;;;AAK0C,mGAACl2C,MAAD,EAAY;AAAA,QAC1CsjE,MAD0C,GACFtjE,MADE,CAC1CsjE,MAD0C;AAAA,QAClCS,SADkC,GACF/jE,MADE,CAClC+jE,SADkC;AAAA,QACvB6nE,KADuB,GACF5rI,MADE,CACvB4rI,KADuB;AAAA,QAChBtnG,SADgB,GACFtkC,MADE,CAChBskC,SADgB;;AAElD,QAAMlT,QAAQiV,gEAAaA,CAAC09B,SAAd,CAAd;AACA,QAAMr0B,QAAQte,MAAMggB,SAAN,CAAgB,MAAhB,EAAwB94C,IAAxB,CAA6BgrE,MAA7B,EAAqCsoE,KAArC,CAAd;AACA,QAAMmkC,aAAargI,MAAM+zB,KAAN,GAAcjxC,MAAd,CAAqB,MAArB,CAAnB;;AAEApB,UAAM6U,IAAN,CAAW,OAAX,EAAoB3B,aAAa,EAAjC;AACAyrI,eAAWvpI,IAAX,CAAgB,UAAUj1C,CAAV,EAAa;AACzB,YAAMiyE,YAAYn9B,gEAAaA,CAAC,IAAd,CAAlB;AACA,YAAMo9B,QAAQlyE,EAAEkyE,KAAF,IAAW,EAAzB;AACA9xE,eAAOwtB,OAAP,CAAeskD,KAAf,EAAsBzuE,OAAtB,CAA8B;AAAA,mBAAS,CAACkY,MAAM+4B,KAAK,CAAL,CAAN,CAAD,IAAmBu9B,UAAUv9B,IAAV,CAAeA,KAAK,CAAL,CAAf,EAAwBA,KAAK,CAAL,CAAxB,CAA5B;AAAA,SAA9B;AACH,KAJD;;AAMAyJ,UAAMhJ,IAAN,GAAaC,MAAb;AACA,WAAO+I,MAAMtuB,KAAN,CAAY2uJ,UAAZ,EACUvpI,IADV,CACe,UAAUj1C,CAAV,EAAa;AACf,YAAMiyE,YAAYn9B,gEAAaA,CAAC,IAAd,CAAlB;AACA,YAAMlU,SAAS5gC,EAAE4gC,MAAjB;AACA,YAAMqxI,cAAcjyK,EAAE6zC,KAAF,IAAW,EAA/B;AACA,YAAMq3C,KAAKtqD,OAAOsqD,EAAP,KAAc7iF,SAAd,GAA0Bu4B,OAAOsqD,EAAjC,GAAsCtqD,OAAOnU,CAAxD;AACA,YAAMo+E,KAAKjqE,OAAOiqE,EAAP,KAAcxiG,SAAd,GAA0Bu4B,OAAOiqE,EAAjC,GAAsCjqE,OAAOpK,CAAxD;AACA,YAAMzT,cAAY6d,OAAOnU,CAAnB,SAAwBmU,OAAOpK,CAA/B,WAAsC00D,EAAtC,SAA4C2f,EAAlD;AACA7qG,UAAE+yC,SAAF,IAAek/B,UAAU39B,OAAV,CAAkBt0C,EAAE+yC,SAApB,EAA+B,IAA/B,CAAf;AACAk/B,kBAAUv9B,IAAV,CAAe,GAAf,EAAoB3xB,IAApB;AACA3iB,eAAOwtB,OAAP,CAAeqkJ,WAAf,EAA4BxuK,OAA5B,CAAoC;AAAA,mBAAYwuE,UAAUp+B,KAAV,CAAgBi4F,SAAS,CAAT,CAAhB,EAA6BA,SAAS,CAAT,CAA7B,CAAZ;AAAA,SAApC;AACH,KAXV,CAAP;AAYH,CA1BD,E;;;;;;;;;;;ACPA,uC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;IAUqBwiC,S;;;;;;;;;;;;;AAmCjB;;;;;;mCAMY;AACR,mBAAO,MAAP;AACH;;AAED;;;;;;;;;;wCAOiBvnK,I,EAAMukE,Q,EAAUlM,I,EAAmB;AAAA,gBAAb9wD,MAAa,uEAAJ,EAAI;;AAChD,gBAAIyjE,SAAS,EAAb;;AADgD,iCAKxC0+F,8DAAaA,CAACrxG,IAAd,CALwC;AAAA,gBAGxCC,KAHwC,kBAGxCA,KAHwC;AAAA,gBAIxCC,KAJwC,kBAIxCA,KAJwC;;AAMhD,gBAAMvuD,eAAe,KAAKhK,IAAL,GAAYiK,eAAZ,EAArB;;AANgD,qCAcxC,KAAKi7J,iBAAL,EAdwC;AAAA,gBAQxCzsG,MARwC,sBAQxCA,MARwC;AAAA,gBASxCE,MATwC,sBASxCA,MATwC;AAAA,gBAUxCkxG,OAVwC,sBAUxCA,OAVwC;AAAA,gBAWxCC,OAXwC,sBAWxCA,OAXwC;AAAA,gBAYxClxG,UAZwC,sBAYxCA,UAZwC;AAAA,gBAaxCC,UAbwC,sBAaxCA,UAbwC;;AAehD,gBAAMq4G,SAASt4G,eAAe9qD,oDAASA,CAACb,SAAxC;AACA,gBAAMkkK,SAASt4G,eAAe/qD,oDAASA,CAACb,SAAxC;AACA,gBAAM/S,MAAMg3K,SAASvJ,yDAAQA,CAACp+C,CAAlB,GAAuB4nD,SAASxJ,yDAAQA,CAAC93I,CAAlB,GAAsB,IAAzD;AACA,gBAAM44I,gBAAgBlkG,SAAS33B,KAA/B;AACA,gBAAMumH,aAAasV,iBAAiBA,cAAcrnK,KAAlD;AACA,gBAAMsnK,kBAAkB1+J,aAAampJ,UAAb,KAA4BnpJ,aAAampJ,UAAb,EAAyB7oJ,KAA7E;AACA,gBAAMu5B,cAAc,KAAKA,WAAL,EAApB;AACA,gBAAMm8C,YAAY3nB,KAAKzrB,KAAvB;AAtBgD,iCAuBbrlC,OAAOw6C,MAvBM;AAAA,gBAuBrCyzH,OAvBqC,kBAuBxC9vJ,CAvBwC;AAAA,gBAuBzB+vJ,OAvByB,kBAuB5BhmJ,CAvB4B;AAAA,+BAwBjBloB,OAAOumC,IAxBU;AAAA,gBAwBrC4pI,KAxBqC,gBAwBxChyJ,CAxBwC;AAAA,gBAwB3BiyJ,KAxB2B,gBAwB9BloJ,CAxB8B;;AAyBhD,iBAAK,IAAI72B,IAAI,CAAR,EAAWqjB,MAAMjc,KAAK3C,MAA3B,EAAmCzE,IAAIqjB,GAAvC,EAA4CrjB,GAA5C,EAAiD;AAC7C,oBAAIw4K,YAAJ;AACA,oBAAIwG,aAAJ;AACA,oBAAItG,aAAJ;AACA,oBAAID,YAAJ;AACA,oBAAMp4K,IAAI+G,KAAKpH,CAAL,CAAV;AACA,oBAAM0D,MAAMrD,EAAEqhF,KAAd;AACA,oBAAI7hB,MAAJ,EAAY;AACR24G,0BAAM94G,MAAMvb,aAAN,CAAoB9jD,EAAEysB,CAAtB,IAA2B8vJ,OAAjC;AACAoC,2BAAOxG,MAAMsG,KAAb;AACH;;AAED,oBAAI/+G,MAAJ,EAAY;AACR04G,0BAAM94G,MAAMxb,aAAN,CAAoB9jD,EAAEw2B,CAAtB,IAA2BgmJ,OAAjC;AACAnE,2BAAOD,QAAQ,IAAR,GAAeA,MAAMsG,KAArB,GAA6B,IAApC;AACH;;AAED,oBAAI,CAACl/G,MAAL,EAAa;AACT24G,0BAAM,CAAN;AACAwG,2BAAO/zI,YAAYkB,KAAnB;AACA,wBAAI,CAACnwB,MAAMy8J,GAAN,CAAL,EAAiB;AACbA,+BAAOsG,QAAQ,CAAf;AACArG,+BAAOD,GAAP;AACH;AACJ;;AAED,oBAAI,CAAC14G,MAAL,EAAa;AACT04G,0BAAM,CAAN;AACAC,2BAAOztI,YAAYmB,MAAnB;AACA4yI,2BAAOxG,OAAOsG,QAAQ,CAAtB;AACH;;AAED,oBAAI7N,OAAJ,EAAa;AACT+N,2BAAOt/G,MAAMvb,aAAN,CAAoB9jD,EAAEkrF,EAAtB,IAA4BuzF,KAAnC;AACArG,2BAAOsG,QAAQ,CAAf;AACArG,4BAAQqG,QAAQ,CAAhB;AACH;;AAED,oBAAI7N,OAAJ,EAAa;AACTwH,2BAAO/4G,MAAMxb,aAAN,CAAoB9jD,EAAE6qG,EAAtB,IAA4B6zE,KAAnC;AACAvG,2BAAOsG,QAAQ,CAAf;AACAE,4BAAQF,QAAQ,CAAhB;AACH;AACD,oBAAM5qI,QAAQ,EAAd;AACA,oBAAMj0B,OAAO,EAAb;;AA5C6C,qCA6CjB2vJ,8DAAaA,CAAC,EAAEthK,OAAOjO,CAAT,EAAYqR,OAAO1R,CAAnB,EAAd,EACxB,EAAE6vK,4BAAF,EAAiBzoF,oBAAjB,EAA4B0oF,gCAA5B,EADwB,CA7CiB;AAAA,oBA6CrC97H,KA7CqC,kBA6CrCA,KA7CqC;AAAA,oBA6C9B+7H,QA7C8B,kBA6C9BA,QA7C8B;;AAgD7C77H,sBAAM6nI,MAAN,GAAe/nI,KAAf;AACA/zB,qBAAKkwJ,UAAL,GAAkB,EAAlB;AACAlwJ,qBAAKmwJ,aAAL,GAAqBL,QAArB;AACA9vJ,qBAAKwwJ,cAAL,GAAsB,EAAtB;AACA,oBAAI,CAACz0J,MAAMw8J,GAAN,CAAD,IAAe,CAACx8J,MAAMy8J,GAAN,CAApB,EAAgC;AAC5B,wBAAMx5E,QAAQ;AACV1sB,+BAAO,EADG;AAEVtxC,gCAAQ;AACJnU,+BAAG0rJ,GADC;AAEJ3hJ,+BAAG4hJ,GAFC;AAGJltF,gCAAIyzF,IAHA;AAIJ9zE,gCAAIwtE;AAJA,yBAFE;AAQVxkI,oCARU;AASVwtC,+BAAOh+E,GATG;AAUVmkD,6BAAKxnD,EAAEwnD,GAVG;AAWVl2B,gCAAQjuB,GAXE;AAYVw/J,+BAAO7iK,EAAEwnD,GAZC;AAaV5nC;AAbU,qBAAd;AAeAg/E,0BAAM7rD,SAAN,GAAkBy+H,uEAAsBA,CAACxxK,CAAvB,EAA0BL,CAA1B,EAA6BoH,IAA7B,EAAmC,IAAnC,CAAlB;AACAgrE,2BAAOpuE,IAAP,CAAYi7F,KAAZ;AACA,yBAAK05E,UAAL,CAAgBt4K,EAAEiB,GAAF,CAAhB,EAAwB29F,KAAxB;AACH;AACJ;AACD7sB,qBAASsgG,+DAAcA,CAAC,IAAf,EAAqBtgG,MAArB,CAAT;AACA,mBAAOA,MAAP;AACH;;;6CAEqBwqG,O,EAASC,O,EAASU,S,EAAWC,U,EAAY;AAC3D,mBAAO;AACHr0H,wBAAQ;AACJr8B,uBAAI8vJ,WAAW,CADX;AAEJ/lJ,uBAAIgmJ,WAAW;AAFX,iBADL;AAKH3nI,sBAAM;AACFpoB,uBAAGywJ,SADD;AAEF1mJ,uBAAG2mJ;AAFD;AALH,aAAP;AAUH;;;;;AAnKD;;;;;;;wCAOwB;AACpB,mBAAOprI,6DAAP;AACH;;AAED;;;;;;;;;;qCAOqB;AACjB,mBAAO,MAAP;AACH;;AAED;;;;;;;;;;iCAOiB;AACb,mBAAO6sI,iDAAP;AACH;;;;EAjCkCvQ,iD;;AAAlBC,wE;;;;;;;;;;;;AClBrB;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;ACAA;;AAEA;;;;;;;;;;;;;IAYqBd,W;;;;;;;qCAEH;AACV,kBAAM,IAAIlmK,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;;uCAKgB;AACZ,kBAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;;;iCAMU;AACN,kBAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;;;;+BAOQ;AACJ,kBAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;oCAIa;AACT,kBAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;6BAIM;AACF,kBAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;AACD;;;;;;;;;;;;;mDAU4B;AACxB,kBAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;;;;;;;6CAUsB;AAClB,kBAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;;;;;mDAQ4B;AACxB,kBAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;;;oCAMa;AACT,kBAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;0CAImB;AACf,kBAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;yCAIkB;AACd,kBAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;2CAIoB;AAChB,mBAAO,IAAP;AACH;;;yCAEiB;AACd,kBAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;AAED;;;;;;;gCAIS;AACL,kBAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;;iCAES;AACN,kBAAM,IAAI91C,KAAJ,CAAU61C,oDAASA,CAACC,cAApB,CAAN;AACH;;;;;;AA3IgBowH,0E;;;;;;;;;;;;ACdrB;AAAA;AAAA;AAAA;;AAEA;;;;AAIO,IAAMz7H,gBAAgB;AACzBqC,iBAAauQ,4DADY;AAEzBD,kBAAc,aAFW;AAGzB3R,eAAW,EAHc;AAIzB8rI,sBAAkB,qBAJO;AAKzBC,eAAW;AACPp6H,sBAAc,iBADP;AAEP3R,mBAAW,EAFJ;AAGPM,cAAM,IAHC;AAIPM,eAAO,SAJA;AAKPorI,uBAAe;AALR,KALc;AAYzBC,eAAW;AACPt6H,sBAAc,iBADP;AAEP3R,mBAAW,EAFJ;AAGPM,cAAM,KAHC;AAIP7c,WAAG;AACCmd,mBAAO,CAAC,MAAD,EAAS,SAAT;AADR,SAJI;AAOPlnB,WAAG;AACCknB,mBAAO,CAAC,MAAD,EAAS,SAAT;AADR;AAPI,KAZc;AAuBzBsrI,uBAAmB,WAvBM;AAwBzBp9G,iBAAa;AACTC,iBAAS;AACLjhE,kBAAMmhE,6DAAYA;AADb;AADA,KAxBY;AA6BzBk9G,yBAAqB;AA7BI,CAAtB,C;;;;;;;;;;;;ACNP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,IAAMv6H,cAAc,MAApB;AACA,IAAM4wB,UAAU,QAAhB;AACA,IAAMM,2BAA2B,YAAjC;AACA,IAAMspG,2BAA2B,YAAjC;AACA,IAAMn9G,eAAe,cAArB;AACA,IAAMC,aAAa,YAAnB;AACA,IAAMwtF,kBAAkB,eAAxB;AACA,IAAM2vB,iBAAiB,eAAvB;AACA,IAAMC,eAAe,aAArB;AACA,IAAMj5B,SAAS,QAAf;AACA,IAAMk5B,cAAc,YAApB;AACA,IAAMC,QAAQ,OAAd,C;;;;;;;;;;;;ACXP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,IAAM/pG,SAAS,QAAf;AACA,IAAM4tE,OAAO,MAAb;AACA,IAAM1tE,OAAO,MAAb;AACA,IAAMC,YAAY,UAAlB;AACA,IAAM5sC,QAAQ,OAAd;AACA,IAAMS,SAAS,QAAf;AACA,IAAMm/G,QAAQ,OAAd;AACA,IAAM62B,sBAAsB,qBAA5B;AACA,IAAMC,sBAAsB,qBAA5B;AACA,IAAMC,wBAAwB,uBAA9B;AACA,IAAMC,wBAAwB,uBAA9B;AACA,IAAM7pG,YAAY,WAAlB;AACA,IAAM8pG,aAAa,YAAnB;AACA,IAAMC,gBAAgB,eAAtB;AACA,IAAMnwB,SAAS,QAAf;AACA,IAAMowB,YAAY,WAAlB;AACA,IAAMC,iBAAiB,gBAAvB;AACA,IAAM35B,SAAS,QAAf;AACA,IAAMxtF,SAAS,QAAf,C;;;;;;;;;;;;;;;;;;;AClBP;;AAEO,IAAM4O,qFACR0P,+DAAOA,CAAClU,IADA,EACO;AACZtE,gBAAY,CAACqE,kEAAUA,CAACO,KAAZ,CADA;AAEZ3C,WAAO;AAFK,CADP,wCAKRuW,+DAAOA,CAACjU,KALA,EAKQ;AACbvE,gBAAY,CAACqE,kEAAUA,CAACnF,SAAZ;AADC,CALR,wCAQRsZ,+DAAOA,CAAC/T,SARA,EAQY;AACjBzE,gBAAY,CAACqE,kEAAUA,CAACl9D,MAAZ,CADK;AAEjB86D,WAAO;AAFU,CARZ,wCAYRuW,+DAAOA,CAAC9T,SAZA,EAYY;AACjB1E,gBAAY,CAACqE,kEAAUA,CAACO,KAAZ,CADK;AAEjB3C,WAAO;AAFU,CAZZ,wCAgBRuW,+DAAOA,CAACltC,KAhBA,EAgBQ;AACb00B,gBAAY,CAACqE,kEAAUA,CAACl9D,MAAZ,CADC;AAEb86D,WAAO;AAFM,CAhBR,uBAAN,C;;;;;;;;;;;;;;;;;ACFP;;AAEA,IAAMq/G,wBAAwB,SAAxBA,qBAAwB,CAAC15J,EAAD,EAAKvf,IAAL,EAAc;AACxC,QAAM4Z,UAAU2F,GAAGha,OAAH,EAAhB;AACA,QAAM2oI,UAAUt0H,QAAQvT,MAAxB;AACA,QAAM2nI,QAAQp0H,QAAQ5Z,IAAtB;AACA,QAAMqrB,WAAW,EAAjB;AACA,QAAM8iH,UAAUnuI,KAAK,CAAL,EAAQhE,GAAR,CAAY;AAAA,eAAM;AAC9B9C,uBAASD,CADqB;AAE9BmP,kBAAM0F,oDAASA,CAACb;AAFc,SAAN;AAAA,KAAZ,CAAhB;AAIA,QAAMghI,QAAQjuI,KAAK,CAAL,CAAd;;AAEAguI,UAAMtxI,OAAN,CAAc,UAACzD,CAAD,EAAO;AACjB,YAAMuoB,QAAQ,EAAd;AACA0sH,gBAAQxxI,OAAR,CAAgB,UAACm2B,GAAD,EAAMj6B,CAAN,EAAY;AACxB4oB,kBAAMqR,IAAI35B,IAAV,IAAkBD,EAAEL,CAAF,CAAlB;AACH,SAFD;AAGAu1I,gBAAQzxI,OAAR,CAAgB,UAACm2B,GAAD,EAAMj6B,CAAN,EAAY;AACxB4oB,kBAAMqR,IAAI35B,IAAV,IAAkB+0I,MAAMr1I,CAAN,CAAlB;AACH,SAFD;AAGAyyB,iBAASzuB,IAAT,CAAc4kB,KAAd;AACH,KATD;;AAWA,WAAO,IAAI5c,oDAAJ,CAAcymB,QAAd,+BAA4B6iH,OAA5B,sBAAwCC,OAAxC,GAAP;AACH,CAvBD;;AAyBO,IAAM+qC,kBAAkB,SAAlBA,eAAkB,CAACh1K,QAAD,EAAWkZ,MAAX,EAAmC;AAAA,QAAhB7V,MAAgB,uEAAP,EAAO;;AAC9D,QAAI6uD,wBAAJ;AACA,QAAM3qD,UAAUlE,OAAOkE,OAAvB;AACA,QAAMiqD,eAAenuD,OAAOmuD,YAA5B;AACA,QAAMyjH,sBAAsB5xK,OAAO6xK,iBAAP,CAAyBh8J,MAAzB,KAAoC,EAAhE;AACA,QAAMg8J,oBAAoBD,oBAAoBt3K,MAApB,IAA8B,EAAxD;AACA,QAAMq4B,SAASi/I,oBAAoBj/I,MAAnC;AACA,QAAMphB,WAAWrN,QAAQqN,QAAzB;AACA,QAAMiwB,UAAU7kC,SAAS6kC,OAAzB;AACA,QAAMpvB,YAAYovB,QAAQswI,UAAR,GAAqB,CAArB,CAAlB;AACA,QAAM7tK,WAAWu9B,QAAQyD,EAAR,EAAjB;AACA,QAAM8sI,eAAep1K,SAAS84D,WAAT,EAArB;AACA,QAAMjB,qBAAqB73D,SAAS65D,mBAApC;AACA,QAAMw7G,cAAc7jH,aAAaY,WAAb,CAAyBtqD,KAA7C;AACA,QAAMhC,eAAe2P,UAAU1P,eAAV,EAArB;AACAwB,YAAQ2vI,UAAR,GAAqB5vI,QAArB;AACAC,YAAQ2R,MAAR,GAAiBA,MAAjB;AACA3R,YAAQilE,YAAR,GAAuB3nC,QAAQmyG,WAAR,EAAvB;AACA,QAAM9qE,0BAA0BlsE,SAAS05D,wBAAzC;AACA,QAAM47G,uBAAuBppG,wBAAwBhzD,MAAxB,KAAmCA,MAAhE;;AAEA,QAAI09H,aAAa,EAAjB;AACA,QAAIhiI,aAAa,IAAjB,EAAuB;AACnBs9C,0BAAkB,IAAlB;AACH,KAFD,MAEO,IAAI75B,iEAAcA,CAACzjB,QAAf,CAAJ,EAA8B;AACjCgiI,qBAAazhJ,OAAOyI,IAAP,CAAYgX,YAAY,EAAxB,CAAb;AACAs9C,0BAAkBmjH,cAAcA,YAAYjqK,OAAZ,CAAoBwrI,UAApB,CAAd,GAAgD,IAAlE;AACH,KAHM,MAGA;AACHA,qBAAahiI,SAAS,CAAT,CAAb;AACAs9C,0BAAkBmjH,cAAcA,YAAYjqK,OAAZ,CAAoBwrI,UAApB,CAAd,GAAgD,IAAlE;AACH;;AAED,QAAMJ,gBAAgB3xG,QAAQ2xG,aAAR,EAAtB;AACA,QAAItkF,oBAAoB,IAApB,IAA4BgjH,kBAAkB/7K,MAAlD,EAA0D;AACtD,YAAMwE,SAASu0D,gBAAgB7wD,OAAhB,GAA0Bc,MAA1B,CAAiCrK,GAAjC,CAAqC;AAAA,mBAAK/C,EAAEC,IAAP;AAAA,SAArC,CAAf;AACAk9D,0BAAkB6iH,sBAAsB7iH,eAAtB,EAAuCskF,aAAvC,CAAlB;AACAI,qBAAa5gH,sCAAar4B,MAAb,sBAAwBu3K,iBAAxB,KAA6CA,iBAA1D;AACAhjH,0BAAkBA,gBAAgB9mD,OAAhB,CAAwBwrI,UAAxB,CAAlB;AACH;;AAED,QAAIn+H,8BAA8B,KAAlC;AACA,QAAIm+H,WAAWz9I,MAAX,IAAqBy9I,WAAW3gI,KAAX,CAAiB;AAAA,eAASnQ,aAAa5I,KAAb,KAC/C4I,aAAa5I,KAAb,EAAoB4Y,GAApB,CAAwB5R,IAAxB,KAAiC0F,oDAASA,CAACC,OADL;AAAA,KAAjB,CAAzB,EACyD;AACrD4O,sCAA8B,IAA9B;AACH;;AAED,QAAM88J,UAAU1wI,QAAQmyG,WAAR,EAAhB;AACAzvI,YAAQ2R,MAAR,GAAiBA,MAAjB;AACA,QAAMs8J,oBAAoBx1K,SAASk5D,QAAT,CAAkBC,WAAlB,CAA8Bm8G,oBAA9B,CAA1B;AACA,QAAMluK,kBAAkBouK,oBAAoBA,kBAAkBj1K,WAAlB,CAA8Bg7D,OAA9B,EAApB,GAA8D,KAAtF;;AAEA,QAAM7iD,WAAW,SAAXA,QAAW,CAACC,KAAD,EAAQ88J,eAAR,EAA4B;AACzC,YAAM/6G,UAAU7C,mBAAmBl/C,MAAMtV,MAAN,CAAa6V,MAAhC,CAAhB;AACA,YAAMqiD,UAAU5iD,MAAMtV,MAAN,CAAakyK,OAAb,GACZ76G,QAAQ1kD,IAAR,CAAa;AAAA,mBAAKo/J,aAAargL,EAAEC,IAAF,IAAUD,CAAvB,EAA0BwL,WAA1B,CAAsCg7D,OAAtC,EAAL;AAAA,SAAb,CADY,GACyD,IADzE;AAEA,eAAO5iD,MAAMtV,MAAN,CAAakyK,OAAb,KAAyBE,gBAAgBF,OAAzC,IAAoDh6G,OAA3D;AACH,KALD;;AAOA,QAAMm6G,kBAAkB11K,SAASk5D,QAAT,CAAkBC,WAAlB,CAA8BjgD,MAA9B,CAAxB;AACA,QAAMqiD,UAAUm6G,kBAAkBA,gBAAgBn1K,WAAhB,CAA4Bg7D,OAA5B,EAAlB,GAA0D,KAA1E;AACA,QAAIp0D,aAAa;AACbI,wBADa;AAEb2R,sBAFa;AAGbtE,kBAAUs9C,eAHG;AAIb9qD,yBAAiBm0D,OAJJ;AAKb9iD,gEALa;AAMb88J,wBANa;AAObjuK,kBAAUi0D,UAAUg6G,OAAV,GAAoBjuK,QAPjB;AAQboR,0BARa;AASbi9J,iBAAS,iBAACC,QAAD,EAAW7kH,QAAX;AAAA,mBAAyB73C,WAAWo8J,oBAAX,GAC9BM,SAASruK,OAAT,CAAiBilE,YAAjB,KAAkCzb,SAASlsB,OAAT,CAAiBmyG,WAAjB,EADJ,GACqC,IAD9D;AAAA;AATI,KAAjB;;AAaAvhI,cAAUzO,SAAV,CAAoBkrD,eAApB,EAAqC/qD,UAArC,EAAiD,IAAjD;;AAEA,QAAI+R,WAAWo8J,oBAAf,EAAqC;AACjCnuK,qBAAa;AACTI,4BADS;AAETD,sBAAUF,kBAAkBmuK,OAAlB,GAA4BjuK,QAF7B;AAGTsN,sBAAUs9C,eAHD;AAIT9qD,4CAJS;AAKTqR,oEALS;AAMTS,oBAAQo8J,oBANC;AAOTC,4BAPS;AAQTj8J,2BAAeJ,WAAWo8J,oBARjB;AASTK,qBAAS,iBAACC,QAAD,EAAW7kH,QAAX;AAAA,uBAAwB6kH,SAASruK,OAAT,CAAiBilE,YAAjB,KAAkCzb,SAASlsB,OAAT,CAAiBmyG,WAAjB,EAA1D;AAAA,aATA;AAUTt+H;AAVS,SAAb;;AAaAjD,kBAAUzO,SAAV,CAAoBkrD,eAApB,EAAqC/qD,UAArC,EAAiD,IAAjD,EAAuD;AACnD0S,mCAAuB,+BAACT,SAAD,EAAYy8J,OAAZ;AAAA,uBAAwBz8J,UAAUm8J,OAAV,KAAsBM,QAAQN,OAAtD;AAAA;AAD4B,SAAvD;AAGH;AACJ,CA7FM,C;;;;;;;;;;;;;;;;;;;;;;;AC3BP;AACA;AACA;;AAEA,IAAMO,kBAAkB,SAAlBA,eAAkB,CAACh9G,WAAD,EAAc/H,QAAd,EAA2B;AAC/C,SAAK,IAAM/6D,GAAX,IAAkB8iE,WAAlB,EAA+B;AAC3B,YAAI,GAAGtiE,cAAH,CAAkB5B,IAAlB,CAAuBkkE,WAAvB,EAAoC9iE,GAApC,CAAJ,EAA8C;AAC1C8iE,wBAAY9iE,GAAZ,aAA4BusE,2EAA5B,IAAmDzJ,YAAY9iE,GAAZ,EAAiB4rE,cAAjB,CAAgC,YAAM;AACrF,oBAAM/8B,UAAUksB,SAASlsB,OAAzB;AACA,uBAAOA,QAAQkxB,iBAAR,EAAP;AACH,aAHkD,CAAnD;AAIH;AACJ;AACJ,CATD;;AAWO,IAAMggH,qBAAqB,SAArBA,kBAAqB,CAAClxI,OAAD,EAAa;AAC3C,QAAMk2B,gBAAgBl2B,QAAQk1B,cAA9B;AACA,SAAK,IAAM/jE,GAAX,IAAkB+kE,aAAlB,EAAiC;AAC7B,YAAIA,cAAc/kE,GAAd,EAAmBoR,eAAvB,EAAwC;AACpC,mBAAOy9B,QAAQk1B,cAAR,CAAuB/jE,GAAvB,CAAP;AACH;AACJ;AACJ,CAPM;;AASA,IAAMggL,4BAA4B,SAA5BA,yBAA4B,CAACnxI,OAAD,EAAa;AAClD,QAAMm2B,oBAAoBn2B,QAAQm1B,kBAAlC;AACA7kE,WAAOwtB,OAAP,CAAeq4C,iBAAf,EAAkCxiE,OAAlC,CAA0C,UAACmgB,KAAD,EAAW;AACjD,YAAMsiD,aAAatiD,MAAM,CAAN,CAAnB;AACAksB,gBAAQ22B,kBAAR,iBAA2BP,WAAWjmE,IAAtC,4BAA+CimE,WAAWz3D,MAA1D;AACH,KAHD;AAIAqhC,YAAQm1B,kBAAR,GAA6B,EAA7B;AACH,CAPM;;AASA,IAAM+uE,oBAAoB,SAApBA,iBAAoB,CAACh4E,QAAD,EAAc;AAC3C,QAAMlsB,UAAUksB,SAASlsB,OAAzB;AACA,QAAMzc,QAAQyc,QAAQzc,KAAR,EAAd;;AAEAA,UAAMk5C,yBAAN,CAAgC,kBAAgB62E,0DAAhB,SAAwBtzG,QAAQs8B,OAAR,GAAkBM,SAA1C,CAAhC,EAAwF,UAAChsD,SAAD,EAAe;AACnG,YAAM4F,KAAK5F,UAAU,CAAV,CAAX;;AAEA,YAAI4F,EAAJ,EAAQ;AACJ01C,qBAAS+e,kBAAT,CAA4B/e,SAASlsB,OAAT,CAAiB/oC,IAAjB,GAAwBuF,OAAxB,GAAkCe,IAA9D;AACA2uD,qBAAS8J,qBAAT;AACA,gBAAMo7G,eAAellH,SAASlsB,OAAT,CAAiBswI,UAAjB,GAA8B,CAA9B,CAArB;AACApkH,qBAASmlH,yBAAT,CAAmCD,YAAnC;AACH;AACJ,KATD;;AAWA7tJ,UAAMkwH,sBAAN,CAA6B,kBAAgBH,0DAAhB,SAAwBtzG,QAAQs8B,OAAR,GAAkBM,SAA1C,CAA7B,EAAqF,YAAM;AACvF,YAAI,CAAC1Q,SAASlsB,OAAT,CAAiBjQ,KAAjB,EAAL,EAA+B;AAC3B,gBAAMqhJ,eAAellH,SAASlsB,OAAT,CAAiBswI,UAAjB,GAA8B,CAA9B,CAArB;AACAc,yBAAa/tK,WAAb,CAAyB,aAAzB;AACH;AACJ,KALD;;AAOA28B,YAAQsxI,UAAR,CAAmB1T,SAAnB,CAA6BnqB,sBAA7B,CAAoD,CAAChM,sDAAWA,CAACE,aAAb,CAApD,EACI,gBAAqB;AAAA;AAAA,YAAjB4pC,WAAiB;;AACjB,YAAIA,WAAJ,EAAiB;AACbN,4BAAgB/kH,SAAS+H,WAAT,EAAhB,EAAwC/H,QAAxC;AACAilH,sCAA0BjlH,QAA1B;AACAglH,+BAAmBhlH,QAAnB;AACH;AACJ,KAPL;AAQH,CA9BM,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjCP;AACA;AACA;AACA;AACA;;AAEA;;;;;IAIqBslH,Y;;;AACjB,4BAAwB;AAAA;;AAAA;;AAAA,0CAAR7yK,MAAQ;AAARA,kBAAQ;AAAA;;AAAA,2JACXA,MADW;;AAEpBulI,yEAAiBA;AAFG;AAGvB;;;;kCAEUrtE,S,EAAWn0D,O,EAASiqD,Y,EAAcsH,W,EAAa;AACtDk8G,oFAAeA,CAAC,IAAhB,EAAsBt5G,SAAtB,EAAiC;AAC7Bn0D,gCAD6B;AAE7BiqD,0CAF6B;AAG7BsH,wCAH6B;AAI7Bo8G,mCAAmB,KAAK37G;AAJK,aAAjC;AAMH;;;iDAEyBT,W,EAAavxD,O,EAASgR,c,EAAgB;AAC5D,gBAAMssB,UAAU,KAAKA,OAArB;AACA,gBAAMsyG,SAAStyG,QAAQyD,EAAR,EAAf;AACA,gBAAMguI,YAAYzxI,QAAQmyG,WAAR,EAAlB;AACA,gBAAMu/B,0BAA0Bh+J,eAAeg0D,WAAf,IAA8Bh0D,eAAeg0D,WAAf,CAA2BC,YAAzF;AACA,gBAAMgqG,eAAej+J,eAAeg0D,WAAf,IAA8Bh0D,eAAeg0D,WAAf,CAA2B2qE,UAA9E;AACA,gBAAMu/B,oBAAoB,KAAKj9G,kBAA/B;AACA,gBAAMk9G,sBAAsB,KAAK59G,WAAL,EAA5B;AACA,gBAAM69G,iBAAiBH,eAAeA,iBAAiBr/B,MAAhC,GAAyC,IAAhE;;AAEA,gBAAMj7E,wBAAwB30D,QAAQuxD,WAAR,GAAsB,CAAC;AACjD4B,yBAASnzD,QAAQuxD,WADgC;AAEjDrF,4BAAY,CAAClsD,QAAQ2R,MAAT;AAFqC,aAAD,CAAtB,GAGzB4/C,WAHL;AAIAoD,kCAAsB1jE,OAAtB,CAA8B,UAACzD,CAAD,EAAO;AACjC,oBAAI6hL,gBAAgB7hL,EAAE2lE,OAAtB;AACAk8G,gCAAgBA,cAAchgK,MAAd,CAAqB,UAACigK,EAAD,EAAQ;AACzC,wBAAMt7G,UAAUm7G,oBAAoBG,GAAG7hL,IAAH,IAAW6hL,EAA/B,EAAmCt2K,WAAnC,CAA+Cg7D,OAA/C,EAAhB;AACA,wBAAIA,WAAWhjD,eAAenR,eAAf,KAAmC,KAAlD,EAAyD;AACrD,+BAAO,KAAP;AACH;AACD,wBAAI,CAACuvK,cAAD,IAAmBpvK,QAAQqN,QAAR,KAAqB,IAA5C,EAAkD;AAC9C,4BAAMkiK,oBAAoBL,kBAAkBI,GAAG7hL,IAAH,IAAW6hL,EAA7B,CAA1B;AACA,+BAAOC,oBAAoBA,kBAAkBv+J,eAAeg0D,WAAjC,EAA8C1nC,OAA9C,CAApB,GAA6E,IAApF;AACH;AACD,wBAAI0xI,4BAA4BD,SAA5B,IAAyCK,cAA7C,EAA6D;AACzD,+BAAOE,GAAGv9J,aAAH,KAAqB,KAA5B;AACH;;AAED,2BAAO,IAAP;AACH,iBAde,CAAhB;AAeAvkB,kBAAE2lE,OAAF,GAAYk8G,aAAZ;AACH,aAlBD;AAmBA,mBAAO16G,qBAAP;AACH;;;+CAEuBl1D,S,EAAW;AAC/B,mBAAOA,cAAc,KAArB;AACH;;;iDAEyB;AAAA;;AACtB,mBAAO,UAAClL,IAAD,EAAOuH,MAAP,EAAkB;AACrB,oBAAI4uD,uBAAuB,IAA3B;AACA,oBAAI7qD,kBAAkB,KAAtB;AACA,oBAAMmlE,cAAclpE,OAAOkE,OAA3B;AACA,oBAAMiS,oBAAoBnW,OAAOmW,iBAAjC;AACA,oBAAMu9J,YAAY1zK,OAAOsyK,OAAzB;AACA,oBAAMz8J,SAAS7V,OAAO6V,MAAtB;AACA,oBAAM89J,YAAYC,mEAAgBA,CAAC/9J,MAAjB,KAA4B+9J,mEAAgBA,CAACC,SAA/D;;AAEA,oBAAI19J,iBAAJ,EAAuB;AACnB,wBAAM1T,eAAe0T,kBAAkBzT,eAAlB,EAArB;AACA,wBAAMoxK,yBAAyBhiL,OAAOyI,IAAP,CAAYkI,YAAZ,CAA/B;AACA,wBAAM8wI,aAAazhJ,OAAOyI,IAAP,CAAY9B,KAAK,CAAL,EAAQiK,eAAR,EAAZ,CAAnB;AACA,wBAAI,CAAC5Q,OAAOygB,MAAP,CAAc9P,YAAd,EAA4BkQ,IAA5B,CAAiC;AAAA,+BAAKjhB,EAAE+gB,GAAF,CAAM5R,IAAN,KAAe0F,oDAASA,CAACC,OAA9B;AAAA,qBAAjC,CAAL,EAA8E;AAC1EooD,+CAAuBklH,uBAAuBnhK,IAAvB,CAA4B;AAAA,mCAAK4gI,WAAWh0I,OAAX,CAAmB7N,CAAnB,MAA0B,CAAC,CAAhC;AAAA,yBAA5B,CAAvB;AACH;AACJ;;AAED,oBAAMwS,UAAUyvK,UAAU,OAAKnyI,OAAf,EAAwB/oC,IAAxB,EAA8BuH,MAA9B,CAAhB;AACA,oBAAM+zK,mBAAmB,OAAKz9G,iBAA9B;AACA,oBAAMjhD,WAAW0+J,iBAAiBl+J,MAAjB,KAA4Bk+J,iBAAiB,GAAjB,CAA7C;AACA,oBAAIzB,UAAU,IAAd;;AAEA,oBAAIj9J,QAAJ,EAAc;AACVi9J,8BAAUj9J,SAAS6zD,eAAe,EAAxB,EAA4B,OAAK1nC,OAAjC,CAAV;AACH;;AAED,oBAAIkyI,SAAJ,EAAe;AACXpB,8BAAUoB,UAAU1zK,MAAV,EAAkB,MAAlB,KAA2BsyK,YAAY,KAAjD;AACH;;AAED,oBAAIA,OAAJ,EAAa;AACT,wBAAMj7G,UAAU,OAAKb,mBAAL,CAAyB3gD,MAAzB,CAAhB;AACA,wBAAMw9J,sBAAsB,OAAK59G,WAAL,EAA5B;AACA1xD,sCAAkB/D,OAAOkyK,OAAP,GACd76G,QAAQ1kD,IAAR,CAAa;AAAA,+BAAK0gK,oBAAoB3hL,EAAEC,IAAF,IAAUD,CAA9B,EAAiCwL,WAAjC,CAA6Cg7D,OAA7C,EAAL;AAAA,qBAAb,CADc,GAC8Dl4D,OAAO+D,eADvF;;AAGA,wBAAMmR,iBAAiB;AACnBvR,mCAAW,KADQ;AAEnBlL,kCAFmB;AAGnBywE,gDAHmB;AAInB/yD,4DAJmB;AAKnBX,oCAAY,KALO;AAMnBo5C,kEANmB;AAOnB3qD,kCAAUjE,OAAOgE,mBAPE;AAQnBD,yCAAiB/D,OAAO+D;AARL,qBAAvB;;AAWA,2BAAK2yD,cAAL,CAAoB7gD,MAApB,IAA8B;AAC1B3R,wCAD0B;AAE1BgR,sDAF0B;AAG1BnR;AAH0B,qBAA9B;AAKA,2BAAKssD,iBAAL,CAAuBx6C,MAAvB,EAA+B3R,OAA/B,EAAwCgR,cAAxC;AACH;AACJ,aAvDD;AAwDH;;;6CAEqBk7C,U,EAAY;AAC9B,gBAAM33D,OAAO,KAAK+oC,OAAL,CAAa/oC,IAAb,EAAb;AACA,gBAAIA,IAAJ,EAAU;AACN,qBAAKg0E,kBAAL,CAAwBh0E,KAAKuF,OAAL,GAAee,IAAvC,EAA6CqxD,UAA7C;AACH;AACD,mBAAO,IAAP;AACH;;;gDAEwB;AACrB,gBAAI,KAAK5uB,OAAL,CAAa/oC,IAAb,EAAJ,EAAyB;AACrB;AACH;AACD,mBAAO,IAAP;AACH;;;iCAES;AACN,iBAAK+oC,OAAL,CAAaswI,UAAb,GAA0B,CAA1B,EAA6BjtK,WAA7B,CAAyC,aAAzC;AACA,mBAAO,IAAP;AACH;;;;EApIqC0wD,gE;;AAArBy9G,2E;;;;;;;;;;;;;;;;;ACVrB;;AAEA,IAAMgB,mBAAmB,SAAnBA,gBAAmB,CAACr3K,QAAD,EAAWs3K,kBAAX,EAA+BnwK,UAA/B,EAA8C;AACnE,QAAIyN,iBAAJ;AACA,QAAMc,UAAU4hK,mBAAmB,CAAnB,EAAsBj2K,OAAtB,EAAhB;AACA,QAAMk2K,eAAepwK,WAAWI,OAAX,CAAmBqN,QAAxC;AACA,QAAM4E,oBAAoBrS,WAAWqS,iBAArC;AACA,QAAMrX,SAASuT,QAAQvT,MAAvB;AACA,QAAMumI,WAAW1oI,SAASlE,IAAT,GAAgBiK,eAAhB,EAAjB;AACA,QAAMjK,OAAO4Z,QAAQ5Z,IAArB;AACA,QAAM07K,qBAAqBx3K,SAASsoC,EAAT,OAAkBnhC,WAAWG,QAAxD;;AAEA,QAAIkwK,kBAAJ,EAAwB;AACpB5iK,mBAAW2iK,YAAX;AACH,KAFD,MAEO;AACH3iK,mBAAY4E,sBAAsB,IAAvB,GAA+BrX,OAAOM,MAAP,CAAc,UAACC,GAAD,EAAMisB,GAAN,EAAWvoB,KAAX,EAAqB;AACzE,gBAAI+C,cAAJ;AACA,gBAAMjM,QAAQyxB,IAAI35B,IAAlB;AACA,gBAAMomF,WAAWstD,SAASxrI,KAAT,CAAjB;AACA,gBAAMgH,OAAOk3E,aAAaA,SAAStlE,GAAT,CAAa9M,OAAb,GAAuBoyE,SAAStlE,GAAT,CAAa9M,OAApC,GAA8CoyE,SAAStlE,GAAT,CAAa5R,IAAxE,CAAb;AACA,gBAAMuzK,cAAcvzK,SAASsF,2DAAgBA,CAACC,WAA9C;;AAEA,gBAAI,CAAC2xE,QAAL,EAAe;AACX,uBAAO14E,GAAP;AACH;;AAED,gBAAI,CAAC+0K,WAAL,EAAkB;AACdtuK,wBAAQ,CAACwI,KAAK3D,GAAL,gCAAYlS,KAAKhE,GAAL,CAAS;AAAA,2BAAK/C,EAAEqR,KAAF,CAAL;AAAA,iBAAT,CAAZ,EAAD,EAAuCuL,KAAKxD,GAAL,gCAAYrS,KAAKhE,GAAL,CAAS;AAAA,2BAAK/C,EAAEqR,KAAF,CAAL;AAAA,iBAAT,CAAZ,EAAvC,CAAR;AACH,aAFD,MAEO;AACH+C,wBAAQrN,KAAKhE,GAAL,CAAS;AAAA,2BAAK/C,EAAEqR,KAAF,CAAL;AAAA,iBAAT,CAAR;AACH;AACD1D,gBAAIxF,KAAJ,IAAaiM,KAAb;AACA,mBAAOzG,GAAP;AACH,SAlByC,EAkBvC,EAlBuC,CAA/B,GAkBF,IAlBT;AAmBH;AACD,WAAOkS,QAAP;AACH,CAlCD;;AAoCO,IAAMqiK,mBAAmB;AAC5BS,WAAO,eAAC13K,QAAD,EAAWs3K,kBAAX,EAA+BnwK,UAA/B,EAA8C;AACjD,YAAMolE,cAAcplE,WAAWI,OAA/B;AACA,YAAMqN,WAAWyiK,iBAAiBr3K,QAAjB,EAA2Bs3K,kBAA3B,EAA+CnwK,UAA/C,CAAjB;AACA,YAAMI,UAAUpS,OAAO4H,MAAP,CAAc,EAAd,EAAkBwvE,WAAlB,CAAhB;AACAhlE,gBAAQqN,QAAR,GAAmBA,QAAnB;AACA,eAAOrN,OAAP;AACH,KAP2B;;AAS5B2vK,eAAW,mBAACl3K,QAAD,EAAWs3K,kBAAX,EAA+BnwK,UAA/B,EAA8C;AACrD,YAAMolE,cAAcplE,WAAWI,OAA/B;AACA,YAAMiS,oBAAoBrS,WAAWqS,iBAArC;AACA,YAAM9D,UAAU4hK,mBAAmB,CAAnB,EAAsBj2K,OAAtB,EAAhB;AACA,YAAIc,SAASuT,QAAQvT,MAArB;AACA,YAAMoF,UAAUpS,OAAO4H,MAAP,CAAc,EAAd,EAAkBwvE,WAAlB,CAAhB;AACApqE,iBAASuT,QAAQvT,MAAjB;AACA,YAAMrG,OAAO4Z,QAAQ5Z,IAArB;AACA,YAAM2iE,eAAet8D,OAAOrK,GAAP,CAAW;AAAA,mBAAK/C,EAAEC,IAAP;AAAA,SAAX,CAArB;AACAuS,gBAAQqN,QAAR,GAAmB,CAAC4E,iBAAD,IAAsB89J,mBAAmB,CAAnB,EAAsBtwJ,OAAtB,EAAtB,GAAwD,IAAxD,IACdy3C,YADc,4BACG3iE,IADH,EAAnB;AAEAyL,gBAAQk3D,YAAR,GAAuBjlD,oBAAoBA,kBAAkBnQ,SAAlB,GAA8BvR,GAA9B,CAAkC;AAAA,mBAAK/C,EAAEC,IAAP;AAAA,SAAlC,CAApB,GAAqE,EAA5F;AACA,eAAOuS,OAAP;AACH;AAtB2B,CAAzB,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACtCP;AACA;AACA;AACA;AACA;;AAEA,IAAM6sC,SAAS8Y,6DAASA,CAAC9Y,MAAzB;;AAEA,IAAMujI,qBAAqB,SAArBA,kBAAqB,CAAC9yI,OAAD,EAAUsvB,IAAV,EAAgBjwD,IAAhB,EAAsBkvC,WAAtB,EAAsC;AAAA;;AAC7D,QAAIitB,iBAAJ;AACA,QAAMh9D,SAASwhC,QAAQxhC,MAAR,EAAf;AAF6D,QAGrD8lC,WAHqD,GAGf9lC,MAHe,CAGrD8lC,WAHqD;AAAA,QAGxC0qI,SAHwC,GAGfxwK,MAHe,CAGxCwwK,SAHwC;AAAA,QAG7BE,SAH6B,GAGf1wK,MAHe,CAG7B0wK,SAH6B;;AAI7D,QAAM6D,gBAAgB/D,UAAUnrI,KAAhC;AACA,QAAMorI,gBAAgBD,UAAUC,aAAhC;AACA,QAAMr6H,eAAev1C,SAAS,MAAT,GAAkB6vK,UAAUt6H,YAA5B,GAA2Co6H,UAAUp6H,YAA1E;AACA,QAAMo+H,gBAAgB9D,UAAU3gI,WAAV,EAAuB1K,KAA7C;AACA,QAAMqK,OAAOohB,KAAK/gB,WAAL,EAAkB,CAAlB,CAAb;AACA,QAAM0kI,gBAAgB/kI,KAAKxyC,WAAL,CAAiB2D,IAAjB,OAA4BkwC,MAAlD;;AAEA,QAAIlwC,SAAS,MAAT,IAAmB4zK,aAAvB,EAAsC;AAAA;;AAClCz3G,+DACKjtB,WADL,EACsBA,WADtB,wCAEQA,WAFR,QAE4BA,WAF5B;AAIH,KALD,MAKO;AACHitB,uCACKjtB,WADL,EACmB0kI,gBAAmB1kI,WAAnB,aAA2CA,WAA3C,QADnB;AAGH;AACDitB,aAAS33B,KAAT,GAAiB;AACbhzC,eAAO,eAACoG,IAAD,EAAOpH,CAAP,EAAa;AAChB,gBAAMqjL,mBAAmBD,iBAAiB/kI,KAAKrlC,MAAL,GAAc,CAAd,IAAmB,CAA7D;AACA,gBAAIxJ,SAAS,MAAb,EAAqB;AACjB,uBAAO2zK,cAAcnjL,IAAI,CAAlB,CAAP;AACH;AACD,mBAAOqjL,oBAAoBj8K,KAAKs3C,WAAL,MAAsB,CAA1C,GAA8C0gI,aAA9C,GAA8D8D,aAArE;AACH;AAPY,KAAjB;;AAUA,WAAO;AACH7nF;AACIt2C,0BAAiBA,YAAjB,SAAiCrG,WADrC;AAEItL,uBAAWzkC,OAAOykC,SAFtB;AAGI0+H,iCAAqB,6BAAC1qK,IAAD,EAAOpH,CAAP,EAAa;AAC9B,oBAAIozC,kBAAJ;AACA,oBAAMiwI,mBAAmBD,iBAAiB/kI,KAAKrlC,MAAL,GAAc,CAAd,IAAmB,CAA7D;AACA,oBAAIqqK,oBAAoBj8K,KAAKyvB,CAAL,KAAW,CAA/B,IAAoCrnB,SAAS,MAAjD,EAAyD;AACrD4jC,gCAAeqB,WAAf;AACH,iBAFD,MAEO;AACHrB,gCAAeqB,WAAf,cAAmCjlC,IAAnC,SAA2CkvC,WAA3C,SAA0D1+C,IAAI,CAA9D;AACH;AACD,uBAAOozC,SAAP;AACH;AAZL,gDAaWsL,YAAYkZ,WAAZ,EAbX,EAayCpoD,SAAS,MAAT,GAAkB,CAAlB,GAAsB9G,SAb/D,4CAcIijE,QAdJ,eADG;AAiBHlM,kCACK/gB,WADL,EACmBL,IADnB,CAjBG;AAoBH+tB,qBAAa;AApBV,KAAP;AAsBH,CArDD;;AAuDA,IAAMk3G,sBAAsB,SAAtBA,mBAAsB,CAAC5vI,IAAD,EAAO2K,IAAP,EAAgB;AACxC,QAAIA,KAAKxyC,WAAL,CAAiB2D,IAAjB,OAA4BkwC,MAAhC,EAAwC;AACpC,eAAOhM,IAAP;AACH;AACD,WAAO,KAAP;AACH,CALD;;AAOO,IAAM6vI,0BAA0B,SAA1BA,uBAA0B,CAACpzI,OAAD,EAAUxhC,MAAV,EAAkBa,IAAlB;AAAA,WAA2B,CAAC,GAAD,EAAM,GAAN,EAAWpM,GAAX,CAAe,UAACo1E,QAAD,EAAc;AAC3F,YAAM/Y,OAAOtvB,QAAQsvB,IAAR,EAAb;AACA,YAAI,CAACA,KAAK+Y,QAAL,CAAL,EAAqB;AACjB,mBAAO,IAAP;AACH;AACD,YAAM9kC,OAAOw8F,+DAAYA,CAACvhI,OAAO6pE,QAAP,KAAoB7pE,OAAO6pE,QAAP,EAAiB9kC,IAAlD,EACT4vI,oBAAoB30K,OAAO+kC,IAA3B,EAAiC+rB,KAAK+Y,QAAL,EAAe,CAAf,CAAjC,CADS,CAAb;;AAGA,eAAO9kC,OAAOuvI,mBAAmB9yI,OAAnB,EAA4BsvB,IAA5B,EAAkCjwD,IAAlC,EAAwCgpE,QAAxC,CAAP,GAA2D,IAAlE;AACH,KATiE,EAS/Dt2D,MAT+D,CASxD;AAAA,eAAK7hB,MAAM,IAAX;AAAA,KATwD,CAA3B;AAAA,CAAhC;;AAWA,IAAMmjL,mBAAmB,SAAnBA,gBAAmB,CAAC/jH,IAAD,EAAOx2D,MAAP,EAAemI,YAAf,EAAgC;AAC5D,QAAMqyK,WAAW,EAAjB;AACA,KAAC,GAAD,EAAM,GAAN,EAAW3/K,OAAX,CAAmB,UAAC0L,IAAD,EAAU;AACzB,YAAIgvC,QAAQihB,KAAKjwD,IAAL,EAAW,CAAX,EAAcg1C,aAAd,EAAZ;AACA,YAAMlwC,UAAUs3D,6DAAUA,CAACx6D,YAAX,EAAyBw6D,6DAAUA,CAAC3iE,MAAX,EAAmBuG,IAAnB,EAAyB,CAAzB,EAA4BswD,UAA5B,GAAyC,CAAzC,CAAzB,EAAsE,KAAtE,EAA6E,SAA7E,CAAhB;AACA,YAAMrtC,WAAW,EAAjB;AACA,YAAMhlB,SAAS,CACX;AACInN,kBAAM,QADV;AAEIkP,kBAAM;AAFV,SADW,EAIR;AACClP,kBAAM,QADP;AAECkP,kBAAM;AAFP,SAJQ,EAQX;AACIlP,kBAAM,SADV;AAEIkP,kBAAM;AAFV,SARW,EAWR;AACClP,kBAAM,SADP;AAECkP,kBAAM;AAFP,SAXQ,EAcR;AACClP,kBAAM,MADP;AAECkP,kBAAM,WAFP;AAGC8E;AAHD,SAdQ,EAkBR;AACChU,kBAAM,MADP;AAECkP,kBAAM,WAFP;AAGC8E;AAHD,SAlBQ,CAAf;AAwBA,YAAM+O,MAAMpG,KAAKxD,GAAL,CAAS+kC,MAAM/5C,MAAf,CAAZ;AACA+5C,gBAAQlqC,YAAYQ,2DAAgBA,CAACE,QAA7B,GAAwCwpC,MAAMp7C,GAAN,CAAU;AAAA,mBAAK/C,EAAEic,OAAF,EAAL;AAAA,SAAV,CAAxC,GAAsEkiC,KAA9E;AACA,aAAK,IAAIx+C,IAAI,CAAb,EAAgBA,IAAIqjB,GAApB,EAAyBrjB,KAAK,CAA9B,EAAiC;AAAA;;AAC7ByyB,qBAASzuB,IAAT,uDACQwL,IADR,YACsBgvC,MAAMx+C,CAAN,CADtB,mCAEQwP,IAFR,aAEuBgvC,MAAMx+C,IAAI,CAAV,CAFvB,mCAGQwP,IAHR,UAGoBgvC,MAAMx+C,CAAN,CAHpB,mCAIQwP,IAJR,UAIoBgvC,MAAMx+C,CAAN,CAJpB;AAMH;AACDyjL,iBAASj0K,IAAT,IAAiB,IAAIxD,oDAAJ,CAAcymB,QAAd,EAAwBhlB,MAAxB,CAAjB;AACH,KAvCD;AAwCA,WAAOg2K,QAAP;AACH,CA3CM;;AA6CA,IAAMC,sBAAsB,SAAtBA,mBAAsB,CAACvzI,OAAD,EAAa;AAC5C,QAAMwzI,SAASxzI,QAAQxhC,MAAR,EAAf;AACA,QAAM89D,UAAUt8B,QAAQs8B,OAAR,EAAhB;AACA,KAAC,MAAD,EAAS,MAAT,EAAiB3oE,OAAjB,CAAyB,UAAC0L,IAAD,EAAU;AAC/B,YAAI+7D,aAAJ;AACA,YAAI58D,eAAJ;AACA,YAAIq9D,kBAAJ;AACA,YAAIx8D,SAAS,MAAb,EAAqB;AACjB+7D,mBAAO,KAAP;AACA58D,qBAASg1K,OAAOtE,SAAhB;AACArzG,wBAAY77B,QAAQyzI,UAApB;AACH,SAJD,MAIO;AACHr4G,mBAAO,MAAP;AACA58D,qBAASg1K,OAAOxE,SAAhB;AACAnzG,wBAAY77B,QAAQ0zI,UAApB;AACH;AACD,YAAMvuJ,cAAciuJ,wBAAwBpzI,OAAxB,EAAiCxhC,MAAjC,EAAyCa,IAAzC,CAApB;;AAEA8lB,oBAAYxxB,OAAZ,CAAoB,UAACggL,SAAD,EAAY9jL,CAAZ,EAAkB;AAClC,gBAAIutE,cAAJ;AACA,gBAAM8tB,aAAayoF,UAAUzoF,UAA7B;AACA,gBAAM0oF,UAAUD,UAAUrkH,IAA1B;AACA,gBAAMukH,QAAQ/4B,mEAAYA,CAAC+K,iBAAb,CAA+BzqF,IAA/B,EAAqC8vB,UAArC,CAAd;AACA2oF,kBAAMz4G,IAAN,GAAaA,IAAb;AACA,gBAAI,CAACS,UAAUhsE,CAAV,CAAL,EAAmB;AACfutE,wBAAQ09E,mEAAYA,CAACopB,gBAAb,CAA8B2P,KAA9B,CAAR;AACAz2G,sBAAMtqC,YAAN,CAAmBkN,QAAQsxI,UAA3B;AACH,aAHD,MAGO;AACHl0G,wBAAQvB,UAAUhsE,CAAV,CAAR;AACH;;AAEDutE,kBACiBd,OADjB,CACyB;AACLu/F,8BAAcv/F,QAAQ94B,QADjB;AAELs4H,8BAAcx/F,QAAQx3B,QAFjB;AAGL83B,gCAAcN,QAAQM,SAAtB,GAAkCv9D,IAAlC,GAAyCxP;AAHpC,aADzB,EAMiB0zB,KANjB,CAMuByc,QAAQzc,KAAR,EANvB,EAOiB/kB,MAPjB,CAOwBq1K,KAPxB,EAQiB3Q,SARjB,CAQ2B;AACPv+F,2BAAW3kC,QAAQzc,KAAR,GAAgB9yB,GAAhB,CAAoBu/K,+DAApB;AADJ,aAR3B,EAWiB1gH,IAXjB,CAWsBskH,OAXtB;AAYA/3G,sBAAUhsE,CAAV,IAAeutE,KAAf;AACH,SA1BD;AA2BH,KA1CD;AA2CH,CA9CM;;AAgDA,IAAM02G,6BAA6B,SAA7BA,0BAA6B,CAAC9zI,OAAD,EAAa;AAAA;;AACnD,QAAMsvB,OAAOtvB,QAAQsvB,IAAR,EAAb;AACA,QAAMx0B,cAAc;AAChBkB,eAAOgE,QAAQhE,KAAR,EADS;AAEhBC,gBAAQ+D,QAAQ/D,MAAR;AAFQ,KAApB;;AAKA,QAAM83I,gBAAgBV,iBAAiB/jH,IAAjB,EAAuBtvB,QAAQlnC,MAAR,EAAvB,EAAyCknC,QAAQ/oC,IAAR,GAAeiK,eAAf,EAAzC,CAAtB;AACA,gBAAGnM,MAAH,gCAAairC,QAAQyzI,UAArB,4BAAoCzzI,QAAQ0zI,UAA5C,IAAwD//K,OAAxD,CAAgE,UAACqgL,IAAD,EAAU;AACtEA,aAAK/8K,IAAL,CAAU+8K,KAAK1kH,IAAL,GAAY3yC,CAAZ,GAAgBo3J,cAAcp3J,CAA9B,GAAkCo3J,cAAcrtJ,CAA1D,EAA6DoU,WAA7D,CAAyEA,WAAzE;AACH,KAFD;AAGH,CAXM;;AAaA,IAAMm5I,uBAAuB,SAAvBA,oBAAuB,CAACj0I,OAAD,EAAU0iC,SAAV,EAAwB;AACxD,QAAMpT,OAAOtvB,QAAQsvB,IAAR,EAAb;AACA,QAAM9wD,SAASwhC,QAAQxhC,MAAR,EAAf;AACA,QAAM8lC,cAAc9lC,OAAO8lC,WAA3B;;AAEA,QAAIgrB,SAAUA,KAAK3yC,CAAL,IAAU2yC,KAAK3yC,CAAL,CAAOroB,MAAlB,IAA8Bg7D,KAAK5oC,CAAL,IAAU4oC,KAAK5oC,CAAL,CAAOpyB,MAAxD,CAAJ,EAAsE;AAClE,SAAC,CAAC0rC,QAAQ0zI,UAAT,EAAwBpvI,WAAxB,SAAuCyhC,yEAAvC,CAAD,EACI,CAAC/lC,QAAQyzI,UAAT,EAAwBnvI,WAAxB,SAAuC+qI,yEAAvC,CADJ,EACwE17K,OADxE,CACgF,UAACmgB,KAAD,EAAW;AAAA,wCAC7CA,KAD6C;AAAA,gBAC5E+nD,SAD4E;AAAA,gBACjEq4G,gBADiE;;AAEnF,gBAAM5hJ,aAAa8Q,8DAAWA,CAACs/B,SAAZ,EAAuB,GAAvB,EAA4B,CAAC,CAAD,CAA5B,QAAqCwxG,gBAArC,CAAnB;AACA,gBAAMjxI,YAAeixI,gBAAf,WAAN;AACA9wI,0EAAWA,CAAC9Q,UAAZ,EAAwB,GAAxB,EAA6BupC,SAA7B,QAA4C54B,SAA5C,EAAyD;AACrDnS,wBAAQ,gBAACugD,KAAD,EAAQl2E,QAAR,EAAqB;AACzBA,6BAAS+nK,SAAT,CAAmB,EAAEv+F,WAAW3kC,QAAQm0I,UAArB,EAAnB,EAAsDpkJ,KAAtD,CAA4DshD,MAAM7iD,IAAN,EAA5D;AACH;AAHoD,aAAzD;AAKH,SAVL;AAWH;AACJ,CAlBM,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3LP;AAcA;;AAEO,IAAM4lJ,yBAAyB,SAAzBA,sBAAyB,CAACl5G,MAAD,EAASj6D,YAAT,EAA0B;AAC5D,QAAMozK,8BAA8B,EAApC;;AAEAn5G,WAAOvnE,OAAP,CAAe,UAACypE,KAAD,EAAW;AAAA,oCAOlBA,MAAM++F,iBAAN,EAPkB;AAAA,YAElB/R,UAFkB,yBAElBA,UAFkB;AAAA,YAGlBD,SAHkB,yBAGlBA,SAHkB;AAAA,YAIlB6W,UAJkB,yBAIlBA,UAJkB;AAAA,YAKlBtxG,MALkB,yBAKlBA,MALkB;AAAA,YAMlBE,MANkB,yBAMlBA,MANkB;;AAQtB,YAAM5xC,WAAW,CAAC0xC,MAAD,EAASE,MAAT,EAAiB79C,MAAjB,CAAwB;AAAA,mBAAS9Q,aAAa5I,KAAb,KAAuB4I,aAAa5I,KAAb,EAAoB4Y,GAApB,CAAwB5R,IAAxB,KACrE0F,oDAASA,CAACC,OAD2B;AAAA,SAAxB,CAAjB;AAEA,SAAColJ,UAAD,EAAaD,SAAb,EAAwB6W,UAAxB,EAAoCrtK,OAApC,CAA4C,UAAC0E,KAAD,EAAW;AACnD,gBAAI4I,aAAa5I,KAAb,KAAuB4I,aAAa5I,KAAb,EAAoB4Y,GAApB,CAAwB5R,IAAxB,KAAiC0F,oDAASA,CAACb,SAAtE,EAAiF;AAAA;;AAC7E,iBAACmwK,4BAA4Bh8K,KAA5B,CAAD,KAAwCg8K,4BAA4Bh8K,KAA5B,IAAqC,EAA7E;AACA,qEAA4BA,KAA5B,GAAmCxE,IAAnC,iDAA2CmqB,QAA3C;AACH;AACJ,SALD;AAMH,KAhBD;;AAkBA,SAAK,IAAM7sB,GAAX,IAAkBkjL,2BAAlB,EAA+C;AAC3C,YAAI,GAAG1iL,cAAH,CAAkB5B,IAAlB,CAAuBskL,2BAAvB,EAAoDljL,GAApD,CAAJ,EAA8D;AAC1DkjL,wCAA4BljL,GAA5B,iCAAuC,IAAIyX,GAAJ,CAAQyrK,4BAA4BljL,GAA5B,CAAR,CAAvC;AACH;AACJ;AACD,WAAOkjL,2BAAP;AACH,CA3BM;;AA6BA,IAAMC,sBAAsB,SAAtBA,mBAAsB,CAACx4G,SAAD,EAAYlrD,SAAZ,EAA0B;AACzD,QAAMyyD,aAAa,EAAnB;AACA,SAAK,IAAMlyE,GAAX,IAAkB2qE,SAAlB,EAA6B;AACzB,YAAI,GAAGnqE,cAAH,CAAkB5B,IAAlB,CAAuB+rE,SAAvB,EAAkC3qE,GAAlC,CAAJ,EAA4C;AACxC,gBAAMojL,eAAez4G,UAAU3qE,GAAV,CAArB;AACAkyE,uBAAWlyE,GAAX,IAAkBojL,aAAa3jK,SAAb,CAAlB;AACH;AACJ;;AAED,WAAOyyD,UAAP;AACH,CAVM;;AAYA,IAAMmxG,kBAAkB,SAAlBA,eAAkB,CAACx0I,OAAD,EAAUkrD,UAAV,EAAsBupF,aAAtB,EAAqClxE,UAArC,EAAoD;AAC/E,QAAI1nC,YAAY44G,aAAhB;AACA,QAAM3hJ,eAAekN,QAAQsxI,UAA7B;AACA,QAAMh1G,UAAUt8B,QAAQs8B,OAAR,EAAhB;AACA,QAAI,CAACm4G,aAAL,EAAoB;AAChB54G,oBAAYi/E,mEAAYA,CAACopB,gBAAb,CAA8Bh5E,UAA9B,CAAZ;AACA35D,kEAAOA,CAACsqC,SAAR,EAAmBloE,OAAnB,CAA2B,UAACqgL,IAAD,EAAOnkL,CAAP,EAAa;AACpCmkL,iBAAK13G,OAAL,CAAa;AACTu/F,8BAAcv/F,QAAQ94B,QADb;AAETs4H,8BAAcx/F,QAAQx3B,QAFb;AAGT83B,2BAAW2mC,WAAW1zG,CAAX;AAHF,aAAb;AAKAmkL,iBAAKzwJ,KAAL,CAAWyc,QAAQzc,KAAR,EAAX;AACH,SAPD;AAQH;AACD,QAAM23C,SAAS,EAAf;AACA,QAAMw5G,cAAcnjJ,0DAAOA,CAACsqC,SAAR,CAApB;AACAqvB,iBAAa35D,0DAAOA,CAAC25D,UAAR,CAAb;AACAA,eAAWttF,MAAX,CAAkB,UAACC,GAAD,EAAMoT,GAAN,EAAWnT,GAAX,EAAmB;AACjC,YAAM3C,WAAWu5K,YAAY52K,GAAZ,CAAjB;AACA3C,iBAASqD,MAAT,CAAgByS,GAAhB;AACA9V,iBAAS23B,YAAT,CAAsBA,YAAtB;AACA33B,iBAAS+nK,SAAT,CAAmB;AACfv+F,uBAAW3kC,QAAQm0I;AADJ,SAAnB;AAGA,YAAIljK,IAAI9gB,IAAR,EAAc;AACVgL,qBAASuxI,KAAT,CAAez7H,IAAI9gB,IAAnB;AACH;AACD+qE,eAAO//D,SAASuxI,KAAT,EAAP,IAA2BvxI,QAA3B;AACA,eAAO0C,GAAP;AACH,KAZD,EAYG,EAZH;AAaA,WAAOq9D,MAAP;AACH,CAhCM;;AAkCA,IAAMy5G,2BAA2B,SAA3BA,wBAA2B,CAACC,SAAD,EAAYrxJ,KAAZ,EAAsB;AAC1D,QAAMk/I,oBAAoBmS,UAAUp2K,MAAV,GAAmBikK,iBAAnB,IAAwC,EAAlE;AACA,QAAMr7B,aAAaq7B,kBAAkBr7B,UAArC;AACA,QAAIE,SAAS,EAAb;AACA,QAAIF,UAAJ,EAAgB;AACZ,YAAMt1G,WAAWs1G,WAAW7jH,KAAX,CAAjB;AACA+jH,iBAASx1G,SAASw1G,MAAlB;AACAstC,kBAAUnS,iBAAV,CAA4B3wI,SAASpuB,EAArC;AACH,KAJD,MAIO,IAAI++J,6BAA6BzvK,QAAjC,EAA2C;AAC9C4hL,kBAAUnS,iBAAV,CAA4BA,iBAA5B;AACH;AACD,WAAOn7B,MAAP;AACH,CAZM;;AAcA,IAAMutC,eAAe,SAAfA,YAAe,CAAC70I,OAAD,EAAU80I,gBAAV,EAA+B;AACvD,QAAMC,YAAY/0I,QAAQo8B,UAA1B;AACA,QAAM44G,UAAU,EAAhB;AACA,QAAMzxJ,QAAQ;AACV23C,gBAAQ,EADE;AAEV6xE,oBAAY;AACRjiI,kBAAMk1B;AADE;AAFF,KAAd;AAMA,QAAIi1I,aAAa,CAAjB;AACA,QAAI/5G,SAAS45G,iBAAiBh4K,IAAjB,CAAsB,UAACwZ,CAAD,EAAIC,CAAJ;AAAA,eAAUD,EAAE5Z,KAAF,GAAU6Z,EAAE7Z,KAAtB;AAAA,KAAtB,EAAmDkB,MAAnD,CAA0D,UAACs3K,SAAD,EAAY/5G,QAAZ,EAAsBtrE,CAAtB,EAA4B;AAAA;;AAC/F,YAAMurE,OAAOD,SAASC,IAAtB;AACA,YAAM8vB,aAAa/vB,SAASlqD,GAA5B;AACA,YAAMkkK,SAAY/5G,IAAZ,SAAoBvrE,CAA1B;AACA,YAAMulL,SAAS7jJ,0DAAOA,CAAC25D,UAAR,CAAf;AACAkqF,eAAOzhL,OAAP,CAAe,UAACsd,GAAD,EAAS;AACpBA,gBAAIvU,KAAJ,GAAYy+D,SAASz+D,KAAT,GAAiBu4K,UAA7B;AACH,SAFD;AAGAA,sBAAcG,OAAO9gL,MAArB;AACA,YAAMunE,YAAY24G,gBAAgBx0I,OAAhB,EAAyBkrD,UAAzB,EAAqC6pF,UAAUI,MAAV,CAArC,EAAwDtlL,CAAxD,CAAlB;AACA0zB,cAAM23C,MAAN,GAAe5qE,OAAO4H,MAAP,CAAcqrB,MAAM23C,MAApB,EAA4BW,SAA5B,CAAf;AACA,YAAMw5G,iBAAiB/kL,OAAOygB,MAAP,CAAc8qD,SAAd,CAAvB;AACAq5G,oBAAY,yBAAUngL,MAAV,sCAAoBsgL,cAApB,EAAZ;AACAN,kBAAUI,MAAV,IAAoBE,cAApB;AACAL,gBAAQG,MAAR,IAAkBA,MAAlB;AACA,eAAOD,SAAP;AACH,KAhBY,EAgBV,EAhBU,CAAb;AAiBA3xJ,UAAMzY,IAAN,GAAak1B,OAAb;AACA,QAAMs1I,YAAY,EAAlB;AACAp6G,WAAOvnE,OAAP,CAAe,UAACypE,KAAD,EAAW;AACtB,YAAMkqE,SAASqtC,yBAAyBv3G,KAAzB,EAAgC75C,KAAhC,CAAf;AACA+xJ,kBAAUl4G,MAAMsvE,KAAN,EAAV,IAA2BpF,MAA3B;AACH,KAHD;;AAKA,QAAM5qI,QAAQsjI,qEAAkBA,CAACs1C,SAAnB,CAAd;AACAp6G,aAASx+D,MAAMzJ,GAAN,CAAU;AAAA,eAAQswB,MAAM23C,MAAN,CAAa/qE,IAAb,CAAR;AAAA,KAAV,CAAT;AACA,SAAK,IAAMgB,GAAX,IAAkB4jL,SAAlB,EAA6B;AACzB,YAAI,EAAE5jL,OAAO6jL,OAAT,CAAJ,EAAuB;AACnBD,sBAAU5jL,GAAV,EAAewC,OAAf,CAAuB;AAAA,uBAASypE,MAAM93B,MAAN,EAAT;AAAA,aAAvB;AACA,mBAAOyvI,UAAU5jL,GAAV,CAAP;AACH;AACJ;AACD,WAAO+pE,MAAP;AACH,CA3CM;;AA6CA,IAAMq6G,mBAAmB,SAAnBA,gBAAmB,CAACv6G,SAAD,EAAe;AAC3C,QAAMw6G,gBAAgB,EAAtB;AACAx6G,cAAUrnE,OAAV,CAAkB,UAACwnE,QAAD,EAAWtrE,CAAX,EAAiB;AAC/B,YAAMohB,MAAMkqD,SAASlqD,GAArB;AACA,YAAMmqD,OAAOD,SAASC,IAAtB;AACA,YAAI,CAACnqD,GAAL,EAAU;AACN,gBAAM4iK,QAAQ/4B,mEAAYA,CAAC+K,iBAAb,CAA+B1qF,SAASC,IAAxC,EAA8CD,QAA9C,CAAd;AACA,gBAAI,CAAC04G,MAAM1jL,IAAX,EAAiB;AACb0jL,sBAAM1jL,IAAN,GAAgBirE,IAAhB,SAAwBvrE,CAAxB;AACH;AACD2lL,0BAAc3hL,IAAd,CAAmB;AACfunE,sBAAMD,SAASC,IADA;AAEfnqD,qBAAK4iK;AAFU,aAAnB;AAIH,SATD,MASO;AACH,gBAAI,CAAC5iK,IAAI9gB,IAAT,EAAe;AACX8gB,oBAAI9gB,IAAJ,GAAcirE,IAAd,SAAsBvrE,CAAtB;AACH;AACD2lL,0BAAc3hL,IAAd,CAAmBsnE,QAAnB;AACH;AACJ,KAlBD;AAmBA,WAAOq6G,aAAP;AACH,CAtBM;;AAwBA,IAAMC,qBAAqB,SAArBA,kBAAqB,CAACv6G,MAAD,EAAS1kD,EAAT,EAAak/J,qBAAb,EAAuC;AACrEx6G,WAAOvnE,OAAP,CAAe,UAACypE,KAAD,EAAW;AACtB,YAAMu4G,aAAav4G,MAAM5+D,MAAN,GAAegjB,MAAlC;AACA,YAAM5Q,YAAY+kK,sBAAsB3iL,QAAtB,GAAiC2iL,WAAWn/J,EAAX,CAAjC,GAAmDk/J,sBAAsBC,UAAtB,KAAqCn/J,EAA1G;AACA4mD,cAAMnmE,IAAN,CAAW2Z,SAAX;AACH,KAJD;AAKH,CANM;;AAQA,IAAMglK,qBAAqB,SAArBA,kBAAqB,CAACtmH,IAAD,EAAO4L,MAAP,EAAe26G,cAAf,EAAkC;AAChE36G,WAAOvnE,OAAP,CAAe,UAACypE,KAAD,EAAW;AACtB,YAAMypG,UAAUzpG,MAAM35B,EAAN,EAAhB;AACA,YAAMmwI,UAAU,EAAhB;;AAEAxzC,yEAAcA,CAAC9wE,IAAf,EAAqB,UAACn+D,GAAD,EAAS;AAC1B,gBAAM+mK,UAAU2d,eAAehP,OAAf,CAAhB;AACA,gBAAI3O,OAAJ,EAAa;AACT5oG,qBAAKn+D,GAAL,MAAcyiL,QAAQziL,GAAR,IAAem+D,KAAKn+D,GAAL,EAAU+mK,QAAQ/mK,GAAR,KAAgB,CAA1B,CAA7B;AACH;AACJ,SALD;AAMAb,eAAOyI,IAAP,CAAY66K,OAAZ,EAAqBt/K,MAArB,IAA+B8oE,MAAM9N,IAAN,CAAWskH,OAAX,CAA/B;AACH,KAXD;AAYH,CAbM;;AAeA,IAAMkC,oBAAoB,SAApBA,iBAAoB,CAAC56G,MAAD,EAASpiE,MAAT,EAAoB;AACjD,QAAM+8K,iBAAiB,EAAvB;AACA36G,WAAOvnE,OAAP,CAAe,UAACypE,KAAD,EAAW;AAAA,4BACKA,MAAM5+D,MAAN,EADL;AAAA,YACd0vC,IADc,iBACdA,IADc;AAAA,YACRstB,QADQ,iBACRA,QADQ;;AAEtB,YAAM/3B,KAAK25B,MAAM35B,EAAN,EAAX;AACA,SAAC,GAAD,EAAM,GAAN,EAAW9vC,OAAX,CAAmB,UAAC0L,IAAD,EAAU;AACzB,gBAAIkC,cAAJ;AACA,gBAAMlJ,QAAQ0nI,+DAAYA,CAACtkE,6DAAUA,CAACvtB,IAAX,EAAiB7uC,IAAjB,CAAb,EAAqCm8D,SAASn8D,IAAT,KAAkBm8D,SAASn8D,IAAT,EAAehH,KAAtE,CAAd;AACA,gBAAIS,OAAOuG,IAAP,CAAJ,EAAkB;AACdkC,wBAAQzI,OAAOuG,IAAP,EAAaoB,SAAb,CAAuB;AAAA,2BAAa69D,UAAU3O,UAAV,GAAuB5xD,OAAvB,CAA+B1F,KAA/B,MAA0C,CAAC,CAAxD;AAAA,iBAAvB,CAAR;AACH,aAFD,MAEO;AACHkJ,wBAAQ,CAAR;AACH;AACD,aAACs0K,eAAepyI,EAAf,CAAD,KAAwBoyI,eAAepyI,EAAf,IAAqB,EAA7C;AACAoyI,2BAAepyI,EAAf,EAAmBpkC,IAAnB,IAA2BkC,KAA3B;AACH,SAVD;AAWH,KAdD;AAeA,WAAOs0K,cAAP;AACH,CAlBM;;AAoBA,IAAME,wBAAwB,SAAxBA,qBAAwB,CAAC76G,MAAD,EAASzL,UAAT,EAAqBomH,cAArB,EAAqC50K,YAArC,EAAsD;AACvF,QAAI28H,UAAU,EAAd;AACA1iE,aAASA,OAAOnpD,MAAP,CAAc;AAAA,eAASqrD,MAAM44G,aAAN,OAA0B,IAAnC;AAAA,KAAd,CAAT;AACA96G,WAAOvnE,OAAP,CAAe,UAACypE,KAAD,EAAW;AACtB,YAAI64G,eAAe,EAAnB;AACA,YAAMz3K,SAAS4+D,MAAM5+D,MAAN,EAAf;AACA,YAAMg9D,WAAWh9D,OAAOg9D,QAAxB;AACA,YAAM06G,cAAc94G,MAAM44G,aAAN,EAApB;AACA,YAAMnP,UAAUzpG,MAAM35B,EAAN,EAAhB;;AAEA,YAAIyyI,gBAAgB,IAAhB,IAAwB13K,OAAOw9D,eAAP,KAA2B,KAAvD,EAA8D;AAC1Di6G,2BAAe3lL,OAAOwtB,OAAP,CAAeo4J,WAAf,CAAf;AACAt4C,sBAAUq4C,aAAar4K,MAAb,CAAoB,UAACu4K,WAAD,EAActtK,MAAd,EAAyB;AACnD,oBAAMyzJ,eAAezzJ,OAAO,CAAP,CAArB;AACA,oBAAMxQ,QAAQmjE,SAAS8gG,YAAT,EAAuBjkK,KAArC;AACA,oBAAMgmE,YAAYw3G,eAAehP,OAAf,EAAwBvK,YAAxB,CAAlB;AACA,oBAAIA,gBAAgB7sG,UAApB,EAAgC;AAC5B,wBAAM2mH,gBAAc3mH,WAAW6sG,YAAX,EAAyBj+F,SAAzB,CAApB;AACA83G,gCAAYC,QAAZ,IAAwBD,YAAYC,QAAZ,KAAyB,EAAjD;AACAD,gCAAYC,QAAZ,IAAwBz4C,8DAAWA,CAAE,CAACw4C,YAAYC,QAAZ,CAAD,EAAwBvtK,OAAO,CAAP,CAAxB,CAAb,EACpB5H,aAAa5I,KAAb,EAAoB4Y,GAApB,CAAwB9M,OAAxB,GAAkClD,aAAa5I,KAAb,EAAoB4Y,GAApB,CAAwB9M,OAA1D,GACQlD,aAAa5I,KAAb,EAAoB4Y,GAApB,CAAwB5R,IAFZ,CAAxB;AAGH,iBAND,MAMO;AACH82K,gCAAY7Z,YAAZ,IAA4BzzJ,OAAO,CAAP,CAA5B;AACH;AACD,uBAAOstK,WAAP;AACH,aAdS,EAcPv4C,OAdO,CAAV;AAeH;AACJ,KAzBD;AA0BA,WAAOA,OAAP;AACH,CA9BM;;AAgCA,IAAMy4C,eAAe,SAAfA,YAAe,CAACr2I,OAAD,EAAU0iC,SAAV,EAAqBxH,MAArB,EAA6BpgC,WAA7B,EAA6C;AACrEkF,YAAQs2I,iBAAR,CAA0B/mC,MAA1B,CAAiC,EAAE5F,QAAQzuE,MAAV,EAAkB7mD,QAAQ,YAA1B,EAAwC+3C,YAAY,OAApD,EAAjC;AACA,QAAM5tD,SAASwhC,QAAQxhC,MAAR,EAAf;AACA,QAAM8lC,cAAc9lC,OAAO8lC,WAA3B;AACA,QAAMiyI,gBAAgBv2I,QAAQk7B,MAAR,GAAiBp+D,IAAjB,CAAsB,UAACwZ,CAAD,EAAIC,CAAJ;AAAA,eAAUD,EAAE9X,MAAF,GAAW9B,KAAX,GAAmB6Z,EAAE/X,MAAF,GAAW9B,KAAxC;AAAA,KAAtB,CAAtB;AACA,QAAM85K,mBAAmBpzI,8DAAWA,CAACs/B,SAAZ,EAAuB,GAAvB,EAA4B,CAAC,CAAD,CAA5B,EAAoCp+B,WAApC,kBAAzB;AACA,QAAMmyI,gBAAgBz2C,qEAAkBA,CAAChgG,QAAQ02I,cAA3B,CAAtB;AACA,QAAMhwE,SAAS,EAAf;AACAtjE,kEAAWA,CAACozI,gBAAZ,EAA8B,GAA9B,EAAmCD,aAAnC,EAAkD,IAAlD,EAAwD;AACpDzlJ,gBAAQ,gBAACugD,KAAD,EAAQjU,KAAR,EAAkB;AACtBspC,mBAAOtpC,MAAMsvE,KAAN,EAAP,IAAwB;AACpBr7D,4BADoB;AAEpBjU;AAFoB,aAAxB;AAIH;AANmD,KAAxD;AAQA,QAAMu5G,WAAWF,cAAcxjL,GAAd,CAAkB;AAAA,eAAQyzG,OAAOv2G,IAAP,CAAR;AAAA,KAAlB,CAAjB;AACAwmL,aAAShjL,OAAT,CAAiB,UAACtD,CAAD,EAAO;AACpB,YAAM+sE,QAAQ/sE,EAAE+sE,KAAhB;AACA,YAAMiU,QAAQhhF,EAAEghF,KAAhB;AACAjU,cAAMtiC,WAAN,CAAkBA,WAAlB;AACAsiC,cAAM8lG,SAAN,CAAgB;AACZv+F,uBAAW3kC,QAAQm0I;AADP,SAAhB;AAGA/2G,cAAM5+D,MAAN,GAAe4mC,MAAf,KAA0B,KAA1B,IAAmCg4B,MAAMrtC,KAAN,CAAYshD,MAAM7iD,IAAN,EAAZ,CAAnC;AACH,KARD;AASA,WAAO,KAAP;AACH,CA3BM;;AA6BA,IAAMooJ,6BAA6B,SAA7BA,0BAA6B,CAAC52I,OAAD,EAAU4xB,QAAV,EAAuB;AAC7D,QAAM94D,SAASknC,QAAQlnC,MAAR,EAAf;AACA,QAAI,CAACA,OAAO6jB,CAAP,CAASroB,MAAV,IAAoB,CAACwE,OAAO4tB,CAAP,CAASpyB,MAAlC,EAA0C;AACtC,eAAO,IAAP;AACH;AACD,QAAM2C,OAAO+oC,QAAQ/oC,IAAR,EAAb;AACA,QAAMq4D,OAAOtvB,QAAQsvB,IAAR,EAAb;AACA,QAAMruD,eAAehK,KAAKiK,eAAL,EAArB;AACA,QAAMwuD,SAAS+L,6DAAUA,CAAC3iE,MAAX,EAAmB,GAAnB,EAAwB,CAAxB,EAA2B62D,UAA3B,GAAwC,CAAxC,CAAf;AACA,QAAMC,SAAS6L,6DAAUA,CAAC3iE,MAAX,EAAmB,GAAnB,EAAwB,CAAxB,EAA2B62D,UAA3B,GAAwC,CAAxC,CAAf;AACA,QAAME,aAAa5uD,aAAayuD,MAAb,EAAqBz+C,GAArB,CAAyB9M,OAA5C;AACA,QAAM2rD,aAAa7uD,aAAa2uD,MAAb,EAAqB3+C,GAArB,CAAyB9M,OAA5C;;AAEA,QAAM0yK,WAAW,CAAC,CAAC,GAAD,EAAMhnH,UAAN,EAAkBH,MAAlB,CAAD,EAA4B,CAAC,GAAD,EAAMI,UAAN,EAAkBF,MAAlB,CAA5B,EAAuD9rD,IAAvD,CAA4D;AAAA,eACzEgQ,MAAM,CAAN,MAAanP,2DAAgBA,CAACC,WAA9B,IAA6CkP,MAAM,CAAN,MAAanP,2DAAgBA,CAACE,QADF;AAAA,KAA5D,CAAjB;;AAGA,QAAI,CAACgyK,QAAD,IAAchnH,eAAenqD,yDAAcA,CAACC,UAA9B,IAA4CmqD,eAAepqD,yDAAcA,CAACC,UAA5F,EAAyG;AACrG,eAAO,IAAP;AACH;AACD,QAAMtN,QAAQw+K,SAAS,CAAT,CAAd;AACA,QAAMt1K,QAAQN,aAAa5I,KAAb,EAAoBkJ,KAAlC;AACA,QAAIpQ,MAAMm+D,KAAKunH,SAAS,CAAT,CAAL,EAAkB,CAAlB,EAAqB/jI,MAArB,CAA4B8e,SAASilH,SAAS,CAAT,CAAT,CAA5B,CAAV;AACA,QAAIA,SAAS,CAAT,MAAgBlyK,2DAAgBA,CAACE,QAArC,EAA+C;AAC3C,YAAMwmK,0CAAiB,IAAIziK,GAAJ,CAAQ3R,KAAKuF,OAAL,GAAevF,IAAf,CAAoBhE,GAApB,CAAwB;AAAA,mBAAK/C,EAAEqR,KAAF,CAAL;AAAA,SAAxB,CAAR,CAAjB,EAAN;AACApQ,cAAMk6K,WAAWp1F,oEAAiBA,CAACo1F,UAAlB,EAA8Bl6K,GAA9B,CAAX,CAAN;AACH;;AAED,WAAOA,QAAQoH,SAAR,GAAoB,CAAC,CAACF,KAAD,CAAD,EAAU,CAAClH,GAAD,CAAV,CAApB,GAAuC,IAA9C;AACH,CA5BM;;AA8BA,IAAM2lL,cAAc,SAAdA,WAAc,CAAC57G,MAAD,EAAS67G,QAAT,EAAmBlmL,KAAnB;AAAA,WAA6BqqE,OAAOnpD,MAAP,CAAc,UAACqrD,KAAD,EAAW;AAC7E,YAAMjtE,OAAO4mL,aAAa,MAAb,GAAsB35G,MAAM1hE,WAAN,CAAkB0wD,UAAlB,EAAtB,GAAuDgR,MAAMsvE,KAAN,EAApE;AACA,eAAOv8I,SAASU,KAAhB;AACH,KAHuD,CAA7B;AAAA,CAApB;;AAKA,IAAMmmL,iBAAiB,SAAjBA,cAAiB,CAAC97G,MAAD,EAAS67G,QAAT,EAAmBlmL,KAAnB,EAA6B;AACvDqqE,WAAOnpD,MAAP,CAAc,UAACiiK,IAAD,EAAU;AACpB,YAAM7jL,OAAO4mL,aAAa,MAAb,GAAsB/C,KAAKx1K,MAAL,GAAc48D,IAApC,GAA2C44G,KAAKtnC,KAAL,EAAxD;AACA,YAAIv8I,SAASU,KAAb,EAAoB;AAChBmjL,iBAAK1uI,MAAL;AACA,mBAAO,KAAP;AACH;AACD,eAAO,IAAP;AACH,KAPD;AAQH,CATM;;AAWA,IAAM2xI,wBAAwB,SAAxBA,qBAAwB,CAACv0G,SAAD,EAAYz/B,SAAZ;AAAA,WAA0BG,8DAAWA,CAACs/B,SAAZ,EAAuB,GAAvB,EAA4B,CAAC,CAAD,CAA5B,EAAiCz/B,SAAjC,EAA4CzU,IAA5C,EAA1B;AAAA,CAA9B;;AAEA,IAAM0oJ,mBAAmB,SAAnBA,gBAAmB,CAACl3I,OAAD,EAAa;AAAA,8BACPu7H,gEAASA,CAAC3nB,QAAV,EADO;AAAA;AAAA,QAClCC,WADkC;AAAA,QACrBC,UADqB;;AAEzC9zG,YAAQzc,KAAR,GAAgB4N,MAAhB,CAAuB,YAAvB,EAAqC0iH,WAArC,EACiB1iH,MADjB,CACwB,cADxB,EACwC2iH,UADxC;AAEH,CAJM;;AAMA,IAAM8lB,wBAAwB,SAAxBA,qBAAwB,CAAC55H,OAAD,EAAa;AAC9C,QAAMzc,QAAQyc,QAAQzc,KAAR,EAAd;AACA,QAAMswH,cAAc7zG,QAAQtkC,WAAR,CAAoBk4I,QAApB,GAA+B,CAA/B,CAApB;AACA,QAAMh3E,YAAY58B,QAAQs8B,OAAR,GAAkBM,SAApC;AACA,SAAK,IAAMnsC,IAAX,IAAmBojH,WAAnB,EAAgC;AAC5BtwH,cAAM4N,MAAN,CAAgBurC,2DAAgBA,CAACkrE,qBAAjC,SAA0Dn3G,IAA1D,sBACKmsC,SADL,EACiB,IADjB;AAGH;AACJ,CATM,C;;;;;;;;;;;;AC5UP;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;;AAQA;;AAEA,IAAMu6G,mBAAmB,SAAnBA,gBAAmB,CAACn8G,SAAD,EAAYh7B,OAAZ,EAAwB;AAC7C,QAAM+0I,YAAY/0I,QAAQo8B,UAA1B;AACA,QAAM44G,UAAU,EAAhB;AACAh6G,cAAUrnE,OAAV,CAAkB,UAACwnE,QAAD,EAAWtrE,CAAX,EAAiB;AAC/B,YAAM4zC,KAAQ03B,SAASC,IAAjB,SAAyBvrE,CAA/B;AACAmlL,gBAAQvxI,EAAR,IAAc,IAAd;AACH,KAHD;;AAKA,SAAK,IAAMtyC,GAAX,IAAkB4jL,SAAlB,EAA6B;AACzB,YAAI,EAAE5jL,OAAO6jL,OAAT,CAAJ,EAAuB;AACnBD,sBAAU5jL,GAAV,EAAewC,OAAf,CAAuB;AAAA,uBAASypE,MAAM93B,MAAN,EAAT;AAAA,aAAvB;AACA,mBAAOyvI,UAAU5jL,GAAV,CAAP;AACH;AACJ;AACJ,CAdD;;AAgBO,IAAMimL,0BAA0B,SAA1BA,uBAA0B,CAACp3I,OAAD,EAAU48B,SAAV;AAAA,WAAwB,YAAM;AACjE,YAAM/zD,SAASktK,qEAAqBA,CAAC/1I,QAAQk7B,MAAR,EAAtB,EAAwCl7B,QAAQlnC,MAAR,EAAxC,EAA0DknC,QAAQq3I,eAAlE,EACXr3I,QAAQ/oC,IAAR,GAAeiK,eAAf,EADW,CAAf;AAEA8+B,gBAAQzc,KAAR,GAAgB4rD,MAAhB,CAA0BzS,2DAAgBA,CAACkrE,qBAA3C,SAAoEx7F,4DAApE,SAAoFwwB,SAApF,EAAiG/zD,MAAjG;AACH,KAJsC;AAAA,CAAhC;;AAMA,IAAMs7H,cAAc,SAAdA,WAAc,CAACnkG,OAAD,EAAU48B,SAAV,EAAqBN,OAArB;AAAA,WAAkC,CACzD;AACIj9D,cAAM,2BADV;AAEI1E,eAAO,CAAIiiE,UAAUgmC,KAAd,SAAuBx2D,4DAAvB,SAAuCkwB,QAAQ6kE,YAA/C,CAFX;AAGIp2B,kBAAU,wBAAgB;AAAA;AAAA,gBAAZvsG,MAAY;;AACtBA,sBAAUwhC,QAAQksB,QAAR,GAAmB1tD,MAAnB,CAA0BA,OAAOuzD,WAAjC,CAAV;AACH;AALL,KADyD,EAQzD;AACI1yD,cAAM,2BADV;AAEI1E,eAAO,CAAIiiE,UAAUgmC,KAAd,SAAuBx2D,+DAAvB,SAA0CkwB,QAAQ6kE,YAAlD,CAFX;AAGIp2B,kBAAU,yBAAmB;AAAA;AAAA,gBAAf/vC,SAAe;;AACzB,gBAAMs8G,YAAYt3I,QAAQlnC,MAAR,EAAlB;AACA,gBAAIkiE,aAAas8G,SAAjB,EAA4B;AACxBH,iCAAiBn8G,SAAjB,EAA4Bh7B,OAA5B;AACAA,wBAAQ+6B,QAAR,CAAiBC,SAAjB;AACAh7B,wBAAQs2I,iBAAR,CAA0B/mC,MAA1B,CAAiC;AAC7B5F,4BAAQ3pG,QAAQk7B,MAAR,EADqB;AAE7B7mD,4BAAQ,aAFqB;AAG7B+3C,gCAAY;AAHiB,iBAAjC;AAKH;AACJ;AAdL,KARyD,EAwBzD;AACI/sD,cAAM,2BADV;AAEI1E,eAAO,CAAIiiE,UAAUgmC,KAAd,SAAuBx2D,0DAAvB,SAAqCkwB,QAAQ6kE,YAA7C,CAFX;AAGIp2B,kBAAU,yBAAmB;AAAA;AAAA,gBAAfn6F,SAAe;;AACzB,gBAAM6+C,aAAazvB,QAAQlnC,MAAR,EAAnB;AACA,gBAAM86K,UAAU5zI,QAAQsvB,IAAR,EAAhB;AACA,gBAAI1+C,aAAa6+C,UAAb,IAA2BmkH,OAA/B,EAAwC;AACpC,oBAAMjvG,YAAY,EAAlB;AACA,oBAAMC,mBAAmB,EAAzB;AACA,iBAAC,GAAD,EAAM,GAAN,EAAWjxE,OAAX,CAAmB,UAAC0L,IAAD,EAAU;AACzB,wBAAMhH,QAAQo3D,WAAWpwD,IAAX,EAAiB,CAAjB,CAAd;AACA,wBAAIhH,SAASA,MAAM8L,OAAN,OAAoBQ,2DAAgBA,CAACE,QAAlD,EAA4D;AACxD8/D,kCAAUtlE,IAAV,IAAkBhH,MAAMmzB,UAAN,EAAlB;AACAo5C,yCAAiBvsE,KAAjB,IAA0BssE,UAAUtlE,IAAV,CAA1B;AACAu0K,gCAAQv0K,IAAR,EAAc1L,OAAd,CAAsB;AAAA,mCAAQu6C,KAAKrhC,OAAL,CAAa83D,UAAUtlE,IAAV,CAAb,CAAR;AAAA,yBAAtB;AACH;AACJ,iBAPD;AAQA2gC,wBAAQu3I,iBAAR,GAA4B3yG,gBAA5B;AACA5kC,wBAAQm0I,UAAR,GAAqBxvG,SAArB;AACH;AACJ;AApBL,KAxByD,EA8CzD;AACItlE,cAAM,2BADV;AAEI1E,eAAO,CAAIiiE,UAAUgmC,KAAd,SAAuBx2D,0DAAvB,SAAqCkwB,QAAQ6kE,YAA7C,EACAvkE,UAAUgmC,KADV,SACmBx2D,4DADnB,SACmCkwB,QAAQ6kE,YAD3C,EAEAvkE,UAAUgmC,KAFV,SAEmBx2D,+DAFnB,SAEsCkwB,QAAQ6kE,YAF9C,CAFX;AAKIp2B,kBAAU,uCAA8C;AAAA;AAAA,gBAA1Cn6F,SAA0C;;AAAA;AAAA,gBAA3BsqD,MAA2B;;AAAA;AAAA,gBAAfY,SAAe;;AACpD,gBAAM07G,oBAAoBx3I,QAAQq3I,eAAlC;AACA,gBAAMI,UAAUz3I,QAAQsvB,IAAR,EAAhB;AACA,gBAAI1+C,aAAasqD,MAAb,IAAuBu8G,OAAvB,IAAkCD,iBAAtC,EAAyD;AACrD,oBAAMn0G,aAAaixG,mEAAmBA,CAACx4G,SAApB,EAA+BlrD,SAA/B,CAAnB;AACAovB,wBAAQ03I,sBAAR,GAAiCr0G,UAAjC;AACArjC,wBAAQs2I,iBAAR,CAA0B/mC,MAA1B,CAAiC,EAAE5F,QAAQzuE,MAAV,EAAkB7mD,QAAQ,cAA1B,EAA0C+3C,YAAY,OAAtD,EAAjC;AACAqpH,kFAAkBA,CAACv6G,MAAnB,EAA2BtqD,SAA3B,EAAsCovB,QAAQ03I,sBAA9C;AACA13I,wBAAQ23I,oBAAR,GAA+BvD,sEAAsBA,CAACl5G,MAAvB,EAC3BtqD,UAAU1P,eAAV,EAD2B,EACE8+B,QAAQw4H,aAAR,EADF,CAA/B;AAEAod,kFAAkBA,CAAC6B,OAAnB,EAA4Bv8G,MAA5B,EAAoCs8G,iBAApC;AACAjE,8FAAmBA,CAACvzI,OAApB;AACAA,wBAAQs2I,iBAAR,CAA0B/mC,MAA1B,CAAiC,EAAE5F,QAAQzuE,MAAV,EAAkB7mD,QAAQ,SAA1B,EAAqC+3C,YAAY,OAAjD,EAAjC;AACH;AACJ;AAnBL,KA9CyD,EAmEzD;AACI/sD,cAAM,wBADV;AAEI1E,eAAO,CAAI+hE,2DAAgBA,CAACqrE,sBAArB,kBAAwDzrE,QAAQ94B,QAAhE,SACAk5B,2DAAgBA,CAACqrE,sBADjB,mBACqDzrE,QAAQx3B,QAD7D,OAFX;AAIIimE,kBAAU,oBAAM;AACZ+oE,iGAA0BA,CAAC9zI,OAA3B;AACH;AANL,KAnEyD,CAAlC;AAAA,CAApB,C;;;;;;;;;;;;;;;;;;;;;;;AClCP;AACA;AACA;AACA;;AAEA,kIACK0lC,4DADL,EACc;AACN70E,WAAO,IADD;AAENif,UAAM;AACFu8B,sBAAc,sBAAC7tC,MAAD,EAAS+4C,SAAT;AAAA,mBACVpc,iEAAcA,CAACoc,aAAapc,iEAAcA,CAAC,EAAf,EAAmB8G,6DAAnB,CAA5B,EAA+DzjC,MAA/D,CADU;AAAA;AADZ;AAFA,CADd,0CASKqnE,+DATL,EASiB;AACTh1E,WAAO,IADE;AAETif,UAAM;AACF6xH,gBAAQ;AAAA,mBAAY4zC,gEAAgBA,CAACp6G,QAAjB,CAAZ;AAAA;AADN;AAFG,CATjB,0CAeKliC,2DAfL,EAea;AACLpoC,WAAO;AADF,CAfb,0CAkBK6oC,4DAlBL,EAkBc;AACN7oC,WAAO;AADD,CAlBd,0CAqBKm1E,+DArBL,EAqBiB;AACTn1E,WAAO;AADE,CArBjB,0CAwBKylJ,4DAxBL,EAwBc;AACNzlJ,WAAO;AADD,CAxBd,0CA2BKyiJ,0DA3BL,EA2BY;AACJziJ,WAAO,IADH;AAEJif,UAAM;AACF6xH,gBAAQ,gBAAC1qI,IAAD,EAAO+oC,OAAP,EAAmB;AACvB,gBAAIA,QAAQm1F,MAAZ,EAAoB;AAChB,oBAAMm7C,aAAatwI,QAAQswI,UAAR,EAAnB;AACAtwI,wBAAQswI,UAAR,8BAAuBA,UAAvB,IAAmCr5K,IAAnC;AACH,aAHD,MAGO;AACH,oBAAM2gL,UAAU53I,QAAQ/oC,IAAR,EAAhB;AACA2gL,2BAAWA,QAAQv0K,WAAR,CAAoB,aAApB,CAAX;AACA28B,wBAAQswI,UAAR,CAAmB,CAACr5K,IAAD,CAAnB;AACH;AACJ;AAVC;AAFF,CA3BZ,0B;;;;;;;;;;;;;;;;;;;ACLA;;AAEO,IAAMm1C,8CACRuzG,gEADQ,EACU,EADV,2BAER2vB,+DAFQ,EAES,EAFT,2BAGRC,6DAHQ,EAGO,EAHP,2BAIRj5B,uDAJQ,EAIC,EAJD,2BAKRk5B,4DALQ,EAKM,EALN,2CAMK,EANL,mCAOH,EAPG,qCAQD,EARC,sCASA,EATA,uCAUC,EAVD,UAAN,C;;;;;;;;;;;ACFP,uC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AAiBA;AACA;AACA;AAaA;AACA;AACA;AACA;AAGA;AACA;AACA;;AAEA,IAAMqI,cAAc,MAApB;;AAEA;;;;;;;;;;;IAUqBz+B,U;;AAEjB;;;;;;AAMA,wBAAa78E,QAAb,EAAuBzpC,YAAvB,EAAqC;AAAA;;AAAA;;AACjC,aAAK4kB,GAAL,GAAWnsB,8DAAWA,EAAtB;AACA,aAAK0P,aAAL,GAAqBnI,YAArB;AACA,aAAKw+I,UAAL,GAAkB;AACd1T,uBAAW,IAAIj9B,gDAAJ,qBACN8G,sDAAWA,CAACE,aADN,EACsB,KADtB,EADG;AAId7P,wBAAYhlG,aAAaglG,UAJX;AAKdsX,8BAAkBt8G,aAAas8G;AALjB,SAAlB;AAOA,aAAKZ,gBAAL,GAAwB,IAAxB;AACA,aAAKC,gBAAL,GAAwB,IAAIr+D,OAAJ,CAAY,UAACjyD,OAAD,EAAa;AAC7C,kBAAKqwH,gBAAL,GAAwBrwH,OAAxB;AACH,SAFuB,CAAxB;AAGA,aAAKmzJ,UAAL,CAAgB1T,SAAhB,CAA0BnqB,sBAA1B,CAAiD,CAAChM,sDAAWA,CAACE,aAAb,CAAjD,EAA8E,YAAM;AAChF,kBAAK6G,gBAAL;AACA,kBAAK8nC,iBAAL,CAAuB/mC,MAAvB,CAA8B,EAAE5F,QAAQ,MAAKzuE,MAAL,EAAV,EAAyB7mD,QAAQ,OAAjC,EAA0C+3C,YAAY,OAAtD,EAA9B;AACH,SAHD;;AAKA,aAAKkqH,iBAAL,GAAyBxjJ,aAAas8G,gBAAtC;AACA,aAAKhzE,UAAL,GAAkB,EAAlB;AACA,aAAKs3G,UAAL,GAAkB,EAAlB;AACA,aAAKD,UAAL,GAAkB,EAAlB;AACA,aAAKqE,gBAAL,GAAwB,EAAxB;AACA,aAAKT,eAAL,GAAuB,EAAvB;AACA,aAAKK,sBAAL,GAA8B,EAA9B;AACA58B,2EAAYA,CAAC+oB,gBAAb,CAA8BtnG,SAAStB,aAAvC;AACA9tB,gFAAqBA,CAAC,IAAtB,EAA4Bf,4CAA5B;AACA,aAAKmwB,QAAL,CAAcA,QAAd;AACA,aAAK+zG,UAAL,CAAgB,EAAhB;AACH;;;;gCAuBiB;AACd,gBAAI,UAAOh8K,MAAX,EAAmB;AACf,qBAAKo6I,MAAL;AACA,oBAAMpyE,UAAU,KAAKA,OAAL,EAAhB;AACAs9F,qFAAqBA,CAAC,IAAtB;AACAsd,gFAAgBA,CAAC,IAAjB;AACAl2C,6EAAUA,CAAC,IAAX,EAAiBmN,sDAAjB,EAA+B,KAAK5qH,KAAL,GAAatgB,KAA5C,EAAmD;AAC/C25D,+BAAWF,2DAAgBA,CAACC,oBADmB;AAE/CwkE,kCAAc7kE,QAAQM;AAFyB,iBAAnD;AAIAsnE,oFAAiBA,CAAC,IAAlB,EAAwBC,yDAAxB,EAAqC;AACjCvhC,2BAAOlmC,2DAAgBA,CAACC,oBADS;AAEjCi/F,4BAAQl/F,2DAAgBA,CAACkrE;AAFQ,iBAArC,EAGG;AACCpkG,8BAAU84B,QAAQ94B,QADnB;AAECsB,8BAAUw3B,QAAQx3B,QAFnB;AAGCq8F,kCAAc7kE,QAAQM;AAHvB,iBAHH;AAQA,qBAAK1Q,QAAL,CAAc,IAAIslH,kDAAJ,CAAiB,IAAjB,EAAuB;AACjCj9G,8BAAUnC,uEADuB;AAEjCkC,iCAAayC,0EAFoB;AAGjCvB,4CAAwBkC,iFAAkBA;AAHT,iBAAvB,EAIXzD,mEAJW,EAIEjB,0EAJF,CAAd;AAKA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAK07E,MAAZ;AACH;;AAED;;;;;;;;;;;;;;AAaA;;;;;;;;mCAQuB;AACnB,gBAAI,UAASp6I,MAAb,EAAqB;AACjB,qBAAKo9E,SAAL;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,SAAZ;AACH;;AAED;;;;;;;;;6BAMM;AACF,mBAAO,KAAKh6B,GAAZ;AACH;;;oCAEY;AACT,iBAAKg3F,MAAL,CAAYzrI,KAAZ,CAAkBmwB,IAAlB;AACA,mBAAO,IAAP;AACH;;;sCAEc;AACX,iBAAKs7G,MAAL,CAAYzrI,KAAZ,CAAkBowB,MAAlB;AACA,mBAAO,IAAP;AACH;;;2CAE4B;AACzB,gBAAI,UAAO/+B,MAAX,EAAmB;AACf,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKijL,iBAAZ;AACH;;AAED;;;;;;;;+BAKQ70G,S,EAAW;AACf,gBAAMlkE,SAAS,KAAKA,MAAL,EAAf;AADe,gBAEPykC,SAFO,GAEuDzkC,MAFvD,CAEPykC,SAFO;AAAA,gBAEI2R,YAFJ,GAEuDp2C,MAFvD,CAEIo2C,YAFJ;AAAA,gBAEkBw6H,mBAFlB,GAEuD5wK,MAFvD,CAEkB4wK,mBAFlB;AAAA,gBAEuC9qI,WAFvC,GAEuD9lC,MAFvD,CAEuC8lC,WAFvC;;AAGf,gBAAM6zC,qBAAqB1V,wEAAqBA,CAAC7tB,YAAtB,EAAoC,KAAKnR,EAAL,EAApC,EAA+CjlC,OAAO8lC,WAAtD,CAA3B;AACA,gBAAMtI,QAAQ,KAAKA,KAAL,EAAd;AACA,gBAAMC,SAAS,KAAKA,MAAL,EAAf;AACA,gBAAMuuI,qBAAqBxlI,gEAAaA,CAAC09B,SAAd,EAAyB3+B,KAAzB,CAA+B,UAA/B,EAA2C,UAA3C,CAA3B;;AAEA,iBAAKg0I,QAAL,GAAgB30I,8DAAWA,CAAConI,kBAAZ,EAAgC,KAAhC,EAAuC,CAAC,IAAD,CAAvC,EAA+CvnI,SAA/C,EACCc,KADD,CACO,OADP,EACmB/H,KADnB,SAC8B+H,KAD9B,CACoC,QADpC,EACiD9H,MADjD,QAAhB;;AAGA,gBAAMzN,OAAO,KAAKupJ,QAAL,CAAcvpJ,IAAd,EAAb;AACAslD,uEAAQA,CAACtlD,IAAT,EAAe;AACXwN,4BADW;AAEXC,8BAFW;AAGX+7I,uBAAO7/F,mBAAmB/kF,IAAnB,CAAwB,GAAxB;AAHI,aAAf;AAKA6gL,2FAAoBA,CAAC,IAArB,EAA2BzlJ,IAA3B;AACA6nJ,wEAAYA,CAAC,IAAb,EAAmB7nJ,IAAnB,EAAyB,KAAK0sC,MAAL,EAAzB,EAAwC;AACpCl/B,4BADoC;AAEpCC;AAFoC,aAAxC;AAIA,iBAAKg8I,gBAAL,GAAwBhB,qEAAqBA,CAACzoJ,IAAtB,EAA+B8V,WAA/B,SAA8C8qI,mBAA9C,CAAxB;AACA,mBAAO,IAAP;AACH;;;+BAEO;AACJ,mBAAO,KAAK3gC,gBAAZ;AACH;;AAED;;;;;;;;;;wCAQiB;AACb,iBAAKtZ,MAAL,GAAc,IAAd;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;uCAOgB;AACZ,iBAAKA,MAAL,GAAc,KAAd;AACA,iBAAKm7C,UAAL,CAAgB,CAAC,KAAKA,UAAL,GAAkB,CAAlB,CAAD,CAAhB;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;;;;;;;;;;;;;;4CAoBqB;AACjB,gBAAM4H,UAAU,KAAKH,QAAL,IAAiB,KAAKA,QAAL,CAAcvpJ,IAAd,EAAjC;AACA,gBAAMwN,QAAQ,KAAKA,KAAL,EAAd;AACA,gBAAMC,SAAS,KAAKA,MAAL,EAAf;AACA,mBAAO;AACHooC,+BAAe,KAAKt0C,KAAL,EADZ;AAEHwhC,8BAAc2mH,OAFX;AAGHl8I,4BAHG;AAIHC,8BAJG;AAKH+gC,iCAAiB,KAAKi7G,gBALnB;AAMHh0G,iCAAiB,KAAKA,eAAL,EANd;AAOHpzB,yBAAS,CAPN;AAQHN,yBAAS;AARN,aAAP;AAUH;;AAED;;;;;;;;oCAKa;AACT,mBAAO;AACH2qB,wBAAQ,KAAKA,MAAL,GAAcjoE,GAAd,CAAkB;AAAA,2BAASmqE,MAAMh+D,SAAN,EAAT;AAAA,iBAAlB,CADL;AAEHZ,wBAAQ,KAAKA,MAAL,EAFL;AAGH8wD,sBAAM,KAAKA,IAAL,GAAYr8D,GAAZ,CAAgB;AAAA,2BAAQi7C,KAAK9uC,SAAL,EAAR;AAAA,iBAAhB;AAHH,aAAP;AAKH;;;gCAEgB;AACb,gBAAI,UAAM9K,MAAV,EAAkB;AACd,qBAAKqjD,MAAL;AACA,qBAAKvS,MAAL;AACA,qBAAK8mB,QAAL,GAAgB8e,sBAAhB;AACA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKrzB,MAAZ;AACH;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;iCAsBUwgI,e,EAAiB;AAAA;AAAA;AAAA;;AACvB,gBAAMrD,mBAAmBS,gEAAgBA,CAAChkJ,0DAAOA,CAAC4mJ,eAAR,CAAjB,CAAzB;;AAEA,gBAAMpD,YAAY,KAAK34G,UAAvB;AACA,gBAAM44G,UAAU,EAAhB;AACA,gBAAMzxJ,QAAQ;AACV23C,wBAAQ,EADE;AAEV6xE,4BAAY;AACRjiI,0BAAM;AADE;AAFF,aAAd;AAMA,gBAAImqK,aAAa,CAAjB;AACA,gBAAImD,aAAa,aAAGrjL,MAAH,iCAAazE,OAAOygB,MAAP,CAAc,KAAKqrD,UAAnB,CAAb,GAA6C9nE,MAA9D;AACA,gBAAMgoE,UAAU,KAAKA,OAAL,EAAhB;AACA,gBAAM3hE,QAAQ,KAAKm9K,gBAAnB;AACA,gBAAM58G,SAAS45G,iBAAiBh4K,IAAjB,CAAsB,UAACwZ,CAAD,EAAIC,CAAJ;AAAA,uBAAUD,EAAE5Z,KAAF,GAAU6Z,EAAE7Z,KAAtB;AAAA,aAAtB,EAAmDkB,MAAnD,CAA0D,UAACs3K,SAAD,EAAY/5G,QAAZ,EAAyB;AAAA;;AAC9F,oBAAM+vB,aAAa/vB,SAASlqD,GAA5B;AACA,oBAAMkkK,SAASjqF,WAAW/6F,IAA1B;AACA,oBAAMilL,SAAS7jJ,0DAAOA,CAAC25D,UAAR,CAAf;AACA,oBAAMqY,aAAa,EAAnB;AACA6xE,uBAAOzhL,OAAP,CAAe,UAACsd,GAAD,EAAS;AACpBA,wBAAIvU,KAAJ,GAAYy+D,SAASz+D,KAAT,GAAiBu4K,UAA7B;AACA,wBAAMr4G,iBAAeN,QAAQM,SAAvB,GAAmCw7G,UAAzC;AACA,wBAAI,CAACrD,UAAUI,MAAV,CAAL,EAAwB;AACpBiD;AACA,4BAAIltF,WAAWlvB,eAAX,KAA+B,KAAnC,EAA0C;AACtCrhE,kCAAS+hE,2DAAgBA,CAACorE,sBAA1B,SAAoDh/E,4DAApD,SAA8D8T,SAA9D,IAA6E,IAA7E;AACH;AACJ;AACD2mC,+BAAW1vG,IAAX,CAAgB+oE,SAAhB;AACH,iBAVD;AAWAq4G,8BAAcG,OAAO9gL,MAArB;AACA,oBAAMunE,YAAY24G,+DAAeA,CAAC,MAAhB,EAAsBtpF,UAAtB,EAAkC6pF,UAAUI,MAAV,CAAlC,EAAqD5xE,UAArD,CAAlB;AACAhgF,sBAAM23C,MAAN,GAAe5qE,OAAO4H,MAAP,CAAcqrB,MAAM23C,MAApB,EAA4BW,SAA5B,CAAf;AACA,oBAAMw5G,iBAAiB/kL,OAAOygB,MAAP,CAAc8qD,SAAd,CAAvB;AACAq5G,4BAAY,yBAAUngL,MAAV,sCAAoBsgL,cAApB,EAAZ;AACAN,0BAAUI,MAAV,IAAoBE,cAApB;AACAL,wBAAQG,MAAR,IAAkBA,MAAlB;AACA,uBAAOD,SAAP;AACH,aAxBc,EAwBZ,EAxBY,CAAf;;AA0BA3xJ,kBAAMzY,IAAN,GAAa,IAAb;AACA,gBAAMwqK,YAAY,EAAlB;AACA,gBAAMJ,YAAY,aAAGngL,MAAH,iCAAazE,OAAOygB,MAAP,CAAc,KAAKqrD,UAAnB,CAAb,EAAlB;;AAEA84G,sBAAUvhL,OAAV,CAAkB,UAACypE,KAAD,EAAW;AACzB,oBAAMsvE,QAAQtvE,MAAMsvE,KAAN,EAAd;AACAnpH,sBAAM23C,MAAN,CAAawxE,KAAb,IAAsBtvE,KAAtB;AACAk4G,0BAAU5oC,KAAV,IAAmB,EAAnB;AACH,aAJD;AAKAxxE,mBAAOvnE,OAAP,CAAe,UAACypE,KAAD,EAAW;AACtB,oBAAMkqE,SAASqtC,wEAAwBA,CAACv3G,KAAzB,EAAgC75C,KAAhC,CAAf;AACA+xJ,0BAAUl4G,MAAMsvE,KAAN,EAAV,IAA2BpF,MAA3B;AACH,aAHD;;AAKA,iBAAKovC,cAAL,GAAsBpB,SAAtB;AACA,iBAAK+B,eAAL,GAAuB/mL,OAAO4H,MAAP,CAAc,KAAKm/K,eAAnB,EAAoCvB,iEAAiBA,CAAC56G,MAAlB,EAA0B,KAAKpiE,MAAL,EAA1B,CAApC,CAAvB;AACA,gBAAMu/K,aAAa,KAAK90J,KAAL,EAAnB;;AAEA80J,uBAAWh1K,WAAX,CAAuB;AACnBlS,qBAAK,yBADc;AAEnByrE,2BAAcF,2DAAgBA,CAACC,oBAA/B,SAAuDL,QAAQM;AAF5C,aAAvB;AAIAy7G,uBAAW57G,yBAAX,CAAqCnsE,OAAOyI,IAAP,CAAY4B,KAAZ,CAArC,EAAyDy8K,6EAAuBA,CAAC,IAAxB,EAA8B96G,QAAQM,SAAtC,CAAzD,EACI,KADJ,EACW;AACHzrE,qBAAK,yBADF;AAEHyrE,2BAAcF,2DAAgBA,CAACC,oBAA/B,SAAuDL,QAAQM;AAF5D,aADX;AAKA,iBAAK1B,MAAL,CAAYg6G,SAAZ;AACA,mBAAOh6G,MAAP;AACH;;AAED;;;;;;;;;iCAMU;AACN,gBAAMk0E,mBAAmB,KAAKn0G,aAAL,CAAmBm0G,gBAA5C;AACAA,6BAAiBG,MAAjB,CAAwB,EAAE5F,QAAQ,IAAV,EAAgBt1H,QAAQ,cAAxB,EAAwC+3C,YAAY,MAApD,EAAxB;AACA,iBAAK7oC,KAAL,GAAalgB,WAAb,CAAyB;AACrBu5D,2BAAcF,2DAAgBA,CAACC,oBAA/B,SAAuD,KAAKL,OAAL,GAAeM;AADjD,aAAzB;AAGA53B,4EAAaA,CAAC,KAAKjV,KAAL,EAAd,EAA4BuV,MAA5B;AACA,iBAAK4mB,QAAL,GAAgB5mB,MAAhB;AACA;AACA8pG,6BAAiBG,MAAjB,CAAwB,EAAE5F,QAAQ,KAAKzuE,MAAL,EAAV,EAAyB7mD,QAAQ,cAAjC,EAAiD+3C,YAAY,OAA7D,EAAxB;AACA,iBAAK8O,MAAL,GAAcvnE,OAAd,CAAsB;AAAA,uBAASypE,MAAM93B,MAAN,EAAT;AAAA,aAAtB;AACA8pG,6BAAiBG,MAAjB,CAAwB,EAAE5F,QAAQ,KAAKzuE,MAAL,EAAV,EAAyB7mD,QAAQ,SAAjC,EAA4C+3C,YAAY,OAAxD,EAAxB;AACAgjF,6BAAiBG,MAAjB,CAAwB,EAAE5F,QAAQ,IAAV,EAAgBt1H,QAAQ,SAAxB,EAAmC+3C,YAAY,MAA/C,EAAxB;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;oDAO6BhqD,W,EAAarR,I,EAAMs5J,W,EAAa;AACzD,gBAAIjoJ,gBAAgB,IAApB,EAA0B;AACtB,uBAAO,IAAP;AACH;AACD,gBAAMwO,YAAYy5I,eAAe,KAAKpzJ,IAAL,EAAjC;AACA,mBAAO2hE,+EAA4BhoD,SAA5B,EAAuCxO,WAAvC,EAAoDrR,IAApD,CAAP;AACH;;AAED;;;;;;;;;;oCAOa;AACT,iBAAKkG,IAAL,CAAU,KAAKq5K,UAAL,GAAkB,CAAlB,CAAV;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;wCAMiB;AACb,mBAAO;AACH35F,qCAAqB,KAAKghG,oBADvB;AAEH7+K,wBAAQ,KAAKA,MAAL,EAFL;AAGH7B,sBAAM,KAAKA,IAAL,EAHH;AAIHq4D,sBAAM,KAAKA,IAAL;AAJH,aAAP;AAMH;;AAED;;;;;;;;;oDAM6B;AAAA,0BACa,KAAK9wD,MAAL,EADb;AAAA,gBACjB8lC,WADiB,WACjBA,WADiB;AAAA,gBACJsQ,YADI,WACJA,YADI;;AAEzB,mBAAO,OAAKtQ,WAAL,SAAoBsQ,YAApB,CAAP;AACH;;AAED;;;;;;;;;;;;wCASiBv1C,I,EAAM;AACnB,gBAAM67D,SAAS47G,2DAAWA,CAAC,KAAK57G,MAAL,EAAZ,EAA2B,MAA3B,EAAmC77D,IAAnC,CAAf;AACA,mBAAO67D,MAAP;AACH;;AAED;;;;;;;;;;;;uCASgB/qE,I,EAAM;AAClB,gBAAM+qE,SAAS47G,2DAAWA,CAAC,KAAK57G,MAAL,EAAZ,EAA2B,MAA3B,EAAmC/qE,IAAnC,CAAf;AACA,mBAAO+qE,OAAO,CAAP,CAAP;AACH;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;wCAwBiBv+C,C,EAAG+J,C,EAAGloB,M,EAAQ;AAC3B,gBAAIujK,WAAW;AACXt+H,oBAAI;AADO,aAAf;AAGA,gBAAM60I,WAAW1B,0EAA0BA,CAAC,IAA3B,EAAiC;AAC9Cj6J,oBAD8C;AAE9C+J;AAF8C,aAAjC,CAAjB;;AAKA,gBAAI4xJ,aAAa,IAAb,IAAqB95K,OAAOyzD,YAAhC,EAA8C;AAC1C8vG,yBAASt+H,EAAT,GAAc60I,QAAd;AACA,oBAAMC,WAAW,KAAKC,oBAAL,CAA0B77J,CAA1B,EAA6B+J,CAA7B,EAAgCloB,MAAhC,CAAjB;AACAujK,yBAASrnK,MAAT,GAAkB69K,YAAYA,SAAS90I,EAArB,GAA0B80I,SAAS90I,EAAnC,GAAwCs+H,SAASt+H,EAAnE;AACA,uBAAOs+H,QAAP;AACH;;AAED,gBAAM0W,UAAU,KAAKD,oBAAL,CAA0B77J,CAA1B,EAA6B+J,CAA7B,EAAgCloB,MAAhC,KAA2C,EAAEilC,IAAI,IAAN,EAA3D;AACAs+H,uBAAWzxK,OAAO4H,MAAP,CAAc,EAAd,EAAkBugL,OAAlB,CAAX;;AAEA1W,qBAASrnK,MAAT,GAAkB+9K,QAAQh1I,EAA1B;AACA,mBAAOs+H,QAAP;AACH;;;6CAEqBplJ,C,EAAG+J,C,EAAGxqB,I,EAAM;AAC9B,gBAAMg/D,SAAS,KAAKA,MAAL,EAAf;AACA,gBAAMhoD,MAAMgoD,OAAO5mE,MAAnB;AACA,gBAAIw6F,QAAQ,IAAZ;AACA;AACA;AACA,iBAAK,IAAIj/F,IAAI,CAAb,EAAgBA,IAAIqjB,GAApB,EAAyBrjB,GAAzB,EAA8B;AAC1B,oBAAMutE,QAAQlC,OAAOrrE,CAAP,CAAd;AACA,oBAAM2O,SAAS4+D,MAAM5+D,MAAN,EAAf;AACA,oBAAIA,OAAOy9D,WAAP,KAAuB,KAA3B,EAAkC;AAC9B6yB,4BAAQ1xB,MAAM1L,eAAN,CAAsB/0C,CAAtB,EAAyB+J,CAAzB,EAA4BxqB,IAA5B,CAAR;AACH;AACD,oBAAI4yF,KAAJ,EAAW;AACP,2BAAOA,KAAP;AACH;AACJ;AACD,mBAAOA,KAAP;AACH;;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;qDAmD8B1sF,W,EAA0B;AAAA,gBAAb5D,MAAa,uEAAJ,EAAI;;AACpD,gBAAIyjE,SAAS,EAAb;AACA,gBAAIy2G,oBAAoBt2K,WAAxB;AACA,gBAAIA,gBAAgB,IAApB,EAA0B;AACtB,uBAAO,EAAP;AACH;AACD,gBAAM84D,SAAS,KAAKA,MAAL,EAAf;AACA,gBAAMhoD,MAAMgoD,OAAO5mE,MAAnB;AACA,gBAAIk/B,iEAAcA,CAACpxB,WAAf,CAAJ,EAAiC;AAC7Bs2K,oCAAoB,CAACpoL,OAAOyI,IAAP,CAAYqJ,WAAZ,CAAD,CAApB;AACAs2K,iEAAwBA,iBAAxB,sBAA8C/zC,iEAAcA,CAACr0I,OAAOygB,MAAP,CAAc3O,WAAd,CAAf,CAA9C;AACH;AACD,iBAAK,IAAIvS,IAAI,CAAb,EAAgBA,IAAIqjB,GAApB,EAAyBrjB,GAAzB,EAA8B;AAC1B,oBAAMutE,QAAQlC,OAAOrrE,CAAP,CAAd;AACA,oBAAIutE,MAAM5+D,MAAN,GAAey9D,WAAf,KAA+B,KAAnC,EAA0C;AACtCgG,0DAAaA,MAAb,sBAAwB7E,MAAMu7G,wBAAN,CAA+BD,iBAA/B,EAAkDl6K,MAAlD,CAAxB;AACH;AACJ;AACD,mBAAOyjE,MAAP;AACH;;AAED;;;;;;;;;;;0CAQmB9xE,I,EAAM;AACrB6mL,0EAAcA,CAAC,MAAf,EAAuB7mL,IAAvB;AACA,mBAAO,IAAP;AACH;;AAED;;;;;;;;;;;2CAQoBkP,I,EAAM;AACtB23K,0EAAcA,CAAC,MAAf,EAAuB33K,IAAvB;AACA,mBAAO,IAAP;AACH;;;0CAE8B;AAC3B,gBAAI,UAAU/K,MAAd,EAAsB;AAClB,qBAAKskL,gBAAL;;AAEA,uBAAO,IAAP;AACH;AACD,mBAAO,KAAKA,gBAAZ;AACH;;;qCAjlBoB;AACjB,mBAAOf,WAAP;AACH;;;mCAEkB;AACf,mBAAO,CACH;AACIhvK,wBAAQ;AADZ,aADG,EAIH;AACIsyD,0BAAU,EADd;AAEID,wBAAQ,EAFZ;AAGI18D,wBAAQ,EAHZ;AAIIvH,sBAAM,EAJV;AAKI+kC,uBAAO,EALX;AAMIC,wBAAQ,EANZ;AAOI6/B,2BAAW;AAPf,aAJG,CAAP;AAcH;;;iCAuCyB;AAAA,8CAARn9D,MAAQ;AAARA,sBAAQ;AAAA;;AACtB,sDAAW,IAAX,gBAAmBA,MAAnB;AACH;;;;;;AApGgBy6I,yE","file":"muze.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"muze\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"muze\"] = factory();\n\telse\n\t\troot[\"muze\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./packages/muze/src/index.js\");\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"DataModel\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"DataModel\"] = factory();\n\telse\n\t\troot[\"DataModel\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./node_modules/d3-dsv/src/csv.js\":\n/*!****************************************!*\\\n  !*** ./node_modules/d3-dsv/src/csv.js ***!\n  \\****************************************/\n/*! exports provided: csvParse, csvParseRows, csvFormat, csvFormatRows */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"csvParse\", function() { return csvParse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"csvParseRows\", function() { return csvParseRows; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"csvFormat\", function() { return csvFormat; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"csvFormatRows\", function() { return csvFormatRows; });\n/* harmony import */ var _dsv__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dsv */ \"./node_modules/d3-dsv/src/dsv.js\");\n\n\nvar csv = Object(_dsv__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\",\");\n\nvar csvParse = csv.parse;\nvar csvParseRows = csv.parseRows;\nvar csvFormat = csv.format;\nvar csvFormatRows = csv.formatRows;\n\n/***/ }),\n\n/***/ \"./node_modules/d3-dsv/src/dsv.js\":\n/*!****************************************!*\\\n  !*** ./node_modules/d3-dsv/src/dsv.js ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nvar EOL = {},\n    EOF = {},\n    QUOTE = 34,\n    NEWLINE = 10,\n    RETURN = 13;\n\nfunction objectConverter(columns) {\n  return new Function(\"d\", \"return {\" + columns.map(function (name, i) {\n    return JSON.stringify(name) + \": d[\" + i + \"]\";\n  }).join(\",\") + \"}\");\n}\n\nfunction customConverter(columns, f) {\n  var object = objectConverter(columns);\n  return function (row, i) {\n    return f(object(row), i, columns);\n  };\n}\n\n// Compute unique columns in order of discovery.\nfunction inferColumns(rows) {\n  var columnSet = Object.create(null),\n      columns = [];\n\n  rows.forEach(function (row) {\n    for (var column in row) {\n      if (!(column in columnSet)) {\n        columns.push(columnSet[column] = column);\n      }\n    }\n  });\n\n  return columns;\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (delimiter) {\n  var reFormat = new RegExp(\"[\\\"\" + delimiter + \"\\n\\r]\"),\n      DELIMITER = delimiter.charCodeAt(0);\n\n  function parse(text, f) {\n    var convert,\n        columns,\n        rows = parseRows(text, function (row, i) {\n      if (convert) return convert(row, i - 1);\n      columns = row, convert = f ? customConverter(row, f) : objectConverter(row);\n    });\n    rows.columns = columns || [];\n    return rows;\n  }\n\n  function parseRows(text, f) {\n    var rows = [],\n        // output rows\n    N = text.length,\n        I = 0,\n        // current character index\n    n = 0,\n        // current line number\n    t,\n        // current token\n    eof = N <= 0,\n        // current token followed by EOF?\n    eol = false; // current token followed by EOL?\n\n    // Strip the trailing newline.\n    if (text.charCodeAt(N - 1) === NEWLINE) --N;\n    if (text.charCodeAt(N - 1) === RETURN) --N;\n\n    function token() {\n      if (eof) return EOF;\n      if (eol) return eol = false, EOL;\n\n      // Unescape quotes.\n      var i,\n          j = I,\n          c;\n      if (text.charCodeAt(j) === QUOTE) {\n        while (I++ < N && text.charCodeAt(I) !== QUOTE || text.charCodeAt(++I) === QUOTE) {}\n        if ((i = I) >= N) eof = true;else if ((c = text.charCodeAt(I++)) === NEWLINE) eol = true;else if (c === RETURN) {\n          eol = true;if (text.charCodeAt(I) === NEWLINE) ++I;\n        }\n        return text.slice(j + 1, i - 1).replace(/\"\"/g, \"\\\"\");\n      }\n\n      // Find next delimiter or newline.\n      while (I < N) {\n        if ((c = text.charCodeAt(i = I++)) === NEWLINE) eol = true;else if (c === RETURN) {\n          eol = true;if (text.charCodeAt(I) === NEWLINE) ++I;\n        } else if (c !== DELIMITER) continue;\n        return text.slice(j, i);\n      }\n\n      // Return last token before EOF.\n      return eof = true, text.slice(j, N);\n    }\n\n    while ((t = token()) !== EOF) {\n      var row = [];\n      while (t !== EOL && t !== EOF) {\n        row.push(t), t = token();\n      }if (f && (row = f(row, n++)) == null) continue;\n      rows.push(row);\n    }\n\n    return rows;\n  }\n\n  function format(rows, columns) {\n    if (columns == null) columns = inferColumns(rows);\n    return [columns.map(formatValue).join(delimiter)].concat(rows.map(function (row) {\n      return columns.map(function (column) {\n        return formatValue(row[column]);\n      }).join(delimiter);\n    })).join(\"\\n\");\n  }\n\n  function formatRows(rows) {\n    return rows.map(formatRow).join(\"\\n\");\n  }\n\n  function formatRow(row) {\n    return row.map(formatValue).join(delimiter);\n  }\n\n  function formatValue(text) {\n    return text == null ? \"\" : reFormat.test(text += \"\") ? \"\\\"\" + text.replace(/\"/g, \"\\\"\\\"\") + \"\\\"\" : text;\n  }\n\n  return {\n    parse: parse,\n    parseRows: parseRows,\n    format: format,\n    formatRows: formatRows\n  };\n});\n\n/***/ }),\n\n/***/ \"./node_modules/d3-dsv/src/index.js\":\n/*!******************************************!*\\\n  !*** ./node_modules/d3-dsv/src/index.js ***!\n  \\******************************************/\n/*! exports provided: dsvFormat, csvParse, csvParseRows, csvFormat, csvFormatRows, tsvParse, tsvParseRows, tsvFormat, tsvFormatRows */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _dsv__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dsv */ \"./node_modules/d3-dsv/src/dsv.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"dsvFormat\", function() { return _dsv__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _csv__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./csv */ \"./node_modules/d3-dsv/src/csv.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"csvParse\", function() { return _csv__WEBPACK_IMPORTED_MODULE_1__[\"csvParse\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"csvParseRows\", function() { return _csv__WEBPACK_IMPORTED_MODULE_1__[\"csvParseRows\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"csvFormat\", function() { return _csv__WEBPACK_IMPORTED_MODULE_1__[\"csvFormat\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"csvFormatRows\", function() { return _csv__WEBPACK_IMPORTED_MODULE_1__[\"csvFormatRows\"]; });\n\n/* harmony import */ var _tsv__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./tsv */ \"./node_modules/d3-dsv/src/tsv.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"tsvParse\", function() { return _tsv__WEBPACK_IMPORTED_MODULE_2__[\"tsvParse\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"tsvParseRows\", function() { return _tsv__WEBPACK_IMPORTED_MODULE_2__[\"tsvParseRows\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"tsvFormat\", function() { return _tsv__WEBPACK_IMPORTED_MODULE_2__[\"tsvFormat\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"tsvFormatRows\", function() { return _tsv__WEBPACK_IMPORTED_MODULE_2__[\"tsvFormatRows\"]; });\n\n\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/d3-dsv/src/tsv.js\":\n/*!****************************************!*\\\n  !*** ./node_modules/d3-dsv/src/tsv.js ***!\n  \\****************************************/\n/*! exports provided: tsvParse, tsvParseRows, tsvFormat, tsvFormatRows */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"tsvParse\", function() { return tsvParse; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"tsvParseRows\", function() { return tsvParseRows; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"tsvFormat\", function() { return tsvFormat; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"tsvFormatRows\", function() { return tsvFormatRows; });\n/* harmony import */ var _dsv__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dsv */ \"./node_modules/d3-dsv/src/dsv.js\");\n\n\nvar tsv = Object(_dsv__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(\"\\t\");\n\nvar tsvParse = tsv.parse;\nvar tsvParseRows = tsv.parseRows;\nvar tsvFormat = tsv.format;\nvar tsvFormatRows = tsv.formatRows;\n\n/***/ }),\n\n/***/ \"./package.json\":\n/*!**********************!*\\\n  !*** ./package.json ***!\n  \\**********************/\n/*! exports provided: name, description, homepage, version, license, main, author, keywords, repository, contributors, dependencies, devDependencies, scripts, default */\n/***/ (function(module) {\n\nmodule.exports = {\"name\":\"datamodel\",\"description\":\"Relational algebra compliant in-memory tabular data store\",\"homepage\":\"https://github.com/chartshq/datamodel\",\"version\":\"2.0.2\",\"license\":\"MIT\",\"main\":\"dist/datamodel.js\",\"author\":\"Charts.com <support@charts.com>\",\"keywords\":[\"datamodel\",\"data\",\"relational\",\"algebra\",\"model\",\"muze\",\"fusioncharts\",\"table\",\"tabular\",\"operation\"],\"repository\":{\"type\":\"git\",\"url\":\"https://github.com/chartshq/datamodel.git\"},\"contributors\":[{\"name\":\"Akash Goswami\",\"email\":\"akash@charts.com\"},{\"name\":\"Subhash Haldar\",\"email\":\"subhash@charts.com\"},{\"name\":\"Rousan Ali\",\"email\":\"rousan@charts.com\",\"url\":\"https://rousan.io\"},{\"name\":\"Ujjal Kumar Dutta\",\"email\":\"ujjal@charts.com\"}],\"dependencies\":{\"d3-dsv\":\"^1.0.8\"},\"devDependencies\":{\"babel-cli\":\"6.26.0\",\"babel-core\":\"^6.26.3\",\"babel-eslint\":\"6.1.2\",\"babel-loader\":\"^7.1.4\",\"babel-plugin-transform-runtime\":\"^6.23.0\",\"babel-preset-env\":\"^1.7.0\",\"babel-preset-es2015\":\"^6.24.1\",\"babel-preset-flow\":\"^6.23.0\",\"chai\":\"3.5.0\",\"cross-env\":\"^5.0.5\",\"eslint\":\"3.19.0\",\"eslint-config-airbnb\":\"15.1.0\",\"eslint-plugin-import\":\"2.7.0\",\"eslint-plugin-jsx-a11y\":\"5.1.1\",\"eslint-plugin-react\":\"7.3.0\",\"istanbul-instrumenter-loader\":\"^3.0.0\",\"jsdoc\":\"3.5.5\",\"json2yaml\":\"^1.1.0\",\"karma\":\"1.7.1\",\"karma-chai\":\"0.1.0\",\"karma-chrome-launcher\":\"2.1.1\",\"karma-coverage-istanbul-reporter\":\"^1.3.0\",\"karma-mocha\":\"1.3.0\",\"karma-spec-reporter\":\"0.0.31\",\"karma-webpack\":\"2.0.3\",\"marked\":\"^0.5.0\",\"mocha\":\"3.4.2\",\"mocha-webpack\":\"0.7.0\",\"transform-runtime\":\"0.0.0\",\"webpack\":\"^4.12.0\",\"webpack-cli\":\"^3.0.7\",\"webpack-dev-server\":\"^3.1.4\"},\"scripts\":{\"test\":\"npm run lint && npm run ut\",\"ut\":\"karma start karma.conf.js\",\"utd\":\"karma start --single-run false --browsers Chrome karma.conf.js \",\"build\":\"webpack --mode production\",\"build:dev\":\"webpack --mode development\",\"start\":\"webpack-dev-server --config webpack.config.dev.js --mode development --open\",\"lint\":\"eslint ./src\",\"lint-errors\":\"eslint --quiet ./src\",\"docs\":\"rm -rf yaml && mkdir yaml && jsdoc -c jsdoc.conf.json\"}};\n\n/***/ }),\n\n/***/ \"./src/constants/index.js\":\n/*!********************************!*\\\n  !*** ./src/constants/index.js ***!\n  \\********************************/\n/*! exports provided: DataFormat, FilteringMode, PROPAGATION, ROW_ID, DM_DERIVATIVES, JOINS, LOGICAL_OPERATORS */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"PROPAGATION\", function() { return PROPAGATION; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"ROW_ID\", function() { return ROW_ID; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"DM_DERIVATIVES\", function() { return DM_DERIVATIVES; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"JOINS\", function() { return JOINS; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"LOGICAL_OPERATORS\", function() { return LOGICAL_OPERATORS; });\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums */ \"./src/enums/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DataFormat\", function() { return _enums__WEBPACK_IMPORTED_MODULE_0__[\"DataFormat\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FilteringMode\", function() { return _enums__WEBPACK_IMPORTED_MODULE_0__[\"FilteringMode\"]; });\n\n\n/**\n * The event name for data propagation.\n */\nvar PROPAGATION = 'propagation';\n\n/**\n * The name of the unique row id column in DataModel.\n */\nvar ROW_ID = '__id__';\n\n/**\n * The enums for operation names performed on DataModel.\n */\nvar DM_DERIVATIVES = {\n    SELECT: 'select',\n    PROJECT: 'project',\n    GROUPBY: 'group',\n    COMPOSE: 'compose',\n    CAL_VAR: 'calculatedVariable',\n    BIN: 'bin'\n};\n\nvar JOINS = {\n    CROSS: 'cross',\n    LEFTOUTER: 'leftOuter',\n    RIGHTOUTER: 'rightOuter',\n    NATURAL: 'natural',\n    FULLOUTER: 'fullOuter'\n};\n\nvar LOGICAL_OPERATORS = {\n    AND: 'and',\n    OR: 'or'\n};\n\n/***/ }),\n\n/***/ \"./src/converter/auto-resolver.js\":\n/*!****************************************!*\\\n  !*** ./src/converter/auto-resolver.js ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _flat_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./flat-json */ \"./src/converter/flat-json.js\");\n/* harmony import */ var _dsv_arr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dsv-arr */ \"./src/converter/dsv-arr.js\");\n/* harmony import */ var _dsv_str__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dsv-str */ \"./src/converter/dsv-str.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n\n\n\n\n\n/**\n * Parses the input data and detect the format automatically.\n *\n * @param {string|Array} data - The input data.\n * @param {Object} options - An optional config specific to data format.\n * @return {Array.<Object>} Returns an array of headers and column major data.\n */\nfunction Auto(data, options) {\n    var converters = { FlatJSON: _flat_json__WEBPACK_IMPORTED_MODULE_0__[\"default\"], DSVStr: _dsv_str__WEBPACK_IMPORTED_MODULE_2__[\"default\"], DSVArr: _dsv_arr__WEBPACK_IMPORTED_MODULE_1__[\"default\"] };\n    var dataFormat = Object(_utils__WEBPACK_IMPORTED_MODULE_3__[\"detectDataFormat\"])(data);\n\n    if (!dataFormat) {\n        throw new Error('Couldn\\'t detect the data format');\n    }\n\n    return converters[dataFormat](data, options);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Auto);\n\n/***/ }),\n\n/***/ \"./src/converter/dsv-arr.js\":\n/*!**********************************!*\\\n  !*** ./src/converter/dsv-arr.js ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n\n\n/**\n * Parses and converts data formatted in DSV array to a manageable internal format.\n *\n * @param {Array.<Array>} arr - A 2D array containing of the DSV data.\n * @param {Object} options - Option to control the behaviour of the parsing.\n * @param {boolean} [options.firstRowHeader=true] - Whether the first row of the dsv data is header or not.\n * @return {Array} Returns an array of headers and column major data.\n * @example\n *\n * // Sample input data:\n * const data = [\n *    [\"a\", \"b\", \"c\"],\n *    [1, 2, 3],\n *    [4, 5, 6],\n *    [7, 8, 9]\n * ];\n */\nfunction DSVArr(arr, options) {\n    var defaultOption = {\n        firstRowHeader: true\n    };\n    options = Object.assign({}, defaultOption, options);\n\n    var header = void 0;\n    var columns = [];\n    var push = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"columnMajor\"])(columns);\n\n    if (options.firstRowHeader) {\n        // If header present then mutate the array.\n        // Do in-place mutation to save space.\n        header = arr.splice(0, 1)[0];\n    } else {\n        header = [];\n    }\n\n    arr.forEach(function (field) {\n        return push.apply(undefined, _toConsumableArray(field));\n    });\n\n    return [header, columns];\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DSVArr);\n\n/***/ }),\n\n/***/ \"./src/converter/dsv-str.js\":\n/*!**********************************!*\\\n  !*** ./src/converter/dsv-str.js ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var d3_dsv__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! d3-dsv */ \"./node_modules/d3-dsv/src/index.js\");\n/* harmony import */ var _dsv_arr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dsv-arr */ \"./src/converter/dsv-arr.js\");\n\n\n\n/**\n * Parses and converts data formatted in DSV string to a manageable internal format.\n *\n * @todo Support to be given for https://tools.ietf.org/html/rfc4180.\n * @todo Sample implementation https://github.com/knrz/CSV.js/.\n *\n * @param {string} str - The input DSV string.\n * @param {Object} options - Option to control the behaviour of the parsing.\n * @param {boolean} [options.firstRowHeader=true] - Whether the first row of the dsv string data is header or not.\n * @param {string} [options.fieldSeparator=\",\"] - The separator of two consecutive field.\n * @return {Array} Returns an array of headers and column major data.\n * @example\n *\n * // Sample input data:\n * const data = `\n * a,b,c\n * 1,2,3\n * 4,5,6\n * 7,8,9\n * `\n */\nfunction DSVStr(str, options) {\n    var defaultOption = {\n        firstRowHeader: true,\n        fieldSeparator: ','\n    };\n    options = Object.assign({}, defaultOption, options);\n\n    var dsv = Object(d3_dsv__WEBPACK_IMPORTED_MODULE_0__[\"dsvFormat\"])(options.fieldSeparator);\n    return Object(_dsv_arr__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(dsv.parseRows(str), options);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DSVStr);\n\n/***/ }),\n\n/***/ \"./src/converter/flat-json.js\":\n/*!************************************!*\\\n  !*** ./src/converter/flat-json.js ***!\n  \\************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n\n\n/**\n * Parses and converts data formatted in JSON to a manageable internal format.\n *\n * @param {Array.<Object>} arr - The input data formatted in JSON.\n * @return {Array.<Object>} Returns an array of headers and column major data.\n * @example\n *\n * // Sample input data:\n * const data = [\n *    {\n *      \"a\": 1,\n *      \"b\": 2,\n *      \"c\": 3\n *    },\n *    {\n *      \"a\": 4,\n *      \"b\": 5,\n *      \"c\": 6\n *    },\n *    {\n *      \"a\": 7,\n *      \"b\": 8,\n *      \"c\": 9\n *    }\n * ];\n */\nfunction FlatJSON(arr) {\n    var header = {};\n    var i = 0;\n    var insertionIndex = void 0;\n    var columns = [];\n    var push = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"columnMajor\"])(columns);\n\n    arr.forEach(function (item) {\n        var fields = [];\n        for (var key in item) {\n            if (key in header) {\n                insertionIndex = header[key];\n            } else {\n                header[key] = i++;\n                insertionIndex = i - 1;\n            }\n            fields[insertionIndex] = item[key];\n        }\n        push.apply(undefined, fields);\n    });\n\n    return [Object.keys(header), columns];\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (FlatJSON);\n\n/***/ }),\n\n/***/ \"./src/converter/index.js\":\n/*!********************************!*\\\n  !*** ./src/converter/index.js ***!\n  \\********************************/\n/*! exports provided: DSVArr, DSVStr, FlatJSON, Auto */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _dsv_arr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dsv-arr */ \"./src/converter/dsv-arr.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DSVArr\", function() { return _dsv_arr__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _dsv_str__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dsv-str */ \"./src/converter/dsv-str.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DSVStr\", function() { return _dsv_str__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _flat_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./flat-json */ \"./src/converter/flat-json.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FlatJSON\", function() { return _flat_json__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _auto_resolver__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./auto-resolver */ \"./src/converter/auto-resolver.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Auto\", function() { return _auto_resolver__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n\n\n\n\n\n/***/ }),\n\n/***/ \"./src/datamodel.js\":\n/*!**************************!*\\\n  !*** ./src/datamodel.js ***!\n  \\**************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums */ \"./src/enums/index.js\");\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./helper */ \"./src/helper.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants */ \"./src/constants/index.js\");\n/* harmony import */ var _operator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./operator */ \"./src/operator/index.js\");\n/* harmony import */ var _operator_bucket_creator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./operator/bucket-creator */ \"./src/operator/bucket-creator.js\");\n/* harmony import */ var _relation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./relation */ \"./src/relation.js\");\n/* harmony import */ var _utils_reducer_store__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./utils/reducer-store */ \"./src/utils/reducer-store.js\");\n/* harmony import */ var _field_creator__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./field-creator */ \"./src/field-creator.js\");\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* eslint-disable default-case */\n\n\n\n\n\n\n\n\n\n\n/**\n * DataModel is an in-browser representation of tabular data. It supports\n * {@link https://en.wikipedia.org/wiki/Relational_algebra | relational algebra} operators as well as generic data\n * processing opearators.\n * DataModel extends {@link Relation} class which defines all the relational algebra opreators. DataModel gives\n * definition of generic data processing operators which are not relational algebra complient.\n *\n * @public\n * @class\n * @extends Relation\n * @memberof Datamodel\n */\n\nvar DataModel = function (_Relation) {\n    _inherits(DataModel, _Relation);\n\n    /**\n     * Creates a new DataModel instance by providing data and schema. Data could be in the form of\n     * - Flat JSON\n     * - DSV String\n     * - 2D Array\n     *\n     * By default DataModel finds suitable adapter to serialize the data. DataModel also expects a\n     * {@link Schema | schema} for identifying the variables present in data.\n     *\n     * @constructor\n     * @example\n     * const data = loadData('cars.csv');\n     * const schema = [\n     *      { name: 'Name', type: 'dimension' },\n     *      { name: 'Miles_per_Gallon', type: 'measure', unit : 'cm', scale: '1000', numberformat: val => `${val}G`},\n     *      { name: 'Cylinders', type: 'dimension' },\n     *      { name: 'Displacement', type: 'measure' },\n     *      { name: 'Horsepower', type: 'measure' },\n     *      { name: 'Weight_in_lbs', type: 'measure' },\n     *      { name: 'Acceleration', type: 'measure' },\n     *      { name: 'Year', type: 'dimension', subtype: 'datetime', format: '%Y' },\n     *      { name: 'Origin', type: 'dimension' }\n     * ];\n     * const dm = new DataModel(data, schema, { name: 'Cars' });\n     * table(dm);\n     *\n     * @public\n     *\n     * @param {Array.<Object> | string | Array.<Array>} data Input data in any of the mentioned formats\n     * @param {Array.<Schema>} schema Defination of the variables. Order of the variables in data and order of the\n     *      variables in schema has to be same.\n     * @param {object} [options] Optional arguments to specify more settings regarding the creation part\n     * @param {string} [options.name] Name of the datamodel instance. If no name is given an auto generated name is\n     *      assigned to the instance.\n     * @param {string} [options.fieldSeparator=','] specify field separator type if the data is of type dsv string.\n     */\n    function DataModel() {\n        var _ref;\n\n        _classCallCheck(this, DataModel);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        var _this = _possibleConstructorReturn(this, (_ref = DataModel.__proto__ || Object.getPrototypeOf(DataModel)).call.apply(_ref, [this].concat(args)));\n\n        _this._onPropagation = [];\n        _this._sortingDetails = [];\n        return _this;\n    }\n\n    /**\n     * Reducers are simple functions which reduces an array of numbers to a representative number of the set.\n     * Like an array of numbers `[10, 20, 5, 15]` can be reduced to `12.5` if average / mean reducer function is\n     * applied. All the measure fields in datamodel (variables in data) needs a reducer to handle aggregation.\n     *\n     * @public\n     *\n     * @return {ReducerStore} Singleton instance of {@link ReducerStore}.\n     */\n\n\n    _createClass(DataModel, [{\n        key: 'getData',\n\n\n        /**\n         * Retrieve the data attached to an instance in JSON format.\n         *\n         * @example\n         * // DataModel instance is already prepared and assigned to dm variable\n         *  const data = dm.getData({\n         *      order: 'column',\n         *      formatter: {\n         *          origin: (val) => val === 'European Union' ? 'EU' : val;\n         *      }\n         *  });\n         *  console.log(data);\n         *\n         * @public\n         *\n         * @param {Object} [options] Options to control how the raw data is to be returned.\n         * @param {string} [options.order='row'] Defines if data is retieved in row order or column order. Possible values\n         *      are `'rows'` and `'columns'`\n         * @param {Function} [options.formatter=null] Formats the output data. This expects an object, where the keys are\n         *      the name of the variable needs to be formatted. The formatter function is called for each row passing the\n         *      value of the cell for a particular row as arguments. The formatter is a function in the form of\n         *      `function (value, rowId, schema) => { ... }`\n         *      Know more about {@link Fomatter}.\n         *\n         * @return {Array} Returns a multidimensional array of the data with schema. The return format looks like\n         *      ```\n         *          {\n         *              data,\n         *              schema\n         *          }\n         *      ```\n         */\n        value: function getData(options) {\n            var defOptions = {\n                order: 'row',\n                formatter: null,\n                withUid: false,\n                getAllFields: false,\n                sort: []\n            };\n            options = Object.assign({}, defOptions, options);\n            var fields = this.getPartialFieldspace().fields;\n\n            var dataGenerated = _operator__WEBPACK_IMPORTED_MODULE_3__[\"dataBuilder\"].call(this, this.getPartialFieldspace().fields, this._rowDiffset, options.getAllFields ? fields.map(function (d) {\n                return d.name();\n            }).join() : this._colIdentifier, options.sort, {\n                columnWise: options.order === 'column',\n                addUid: !!options.withUid\n            });\n\n            if (!options.formatter) {\n                return dataGenerated;\n            }\n\n            var _options = options,\n                formatter = _options.formatter;\n            var data = dataGenerated.data,\n                schema = dataGenerated.schema,\n                uids = dataGenerated.uids;\n\n            var fieldNames = schema.map(function (e) {\n                return e.name;\n            });\n            var fmtFieldNames = Object.keys(formatter);\n            var fmtFieldIdx = fmtFieldNames.reduce(function (acc, next) {\n                var idx = fieldNames.indexOf(next);\n                if (idx !== -1) {\n                    acc.push([idx, formatter[next]]);\n                }\n                return acc;\n            }, []);\n\n            if (options.order === 'column') {\n                fmtFieldIdx.forEach(function (elem) {\n                    var fIdx = elem[0];\n                    var fmtFn = elem[1];\n\n                    data[fIdx].forEach(function (datum, datumIdx) {\n                        data[fIdx][datumIdx] = fmtFn.call(undefined, datum, uids[datumIdx], schema[fIdx]);\n                    });\n                });\n            } else {\n                data.forEach(function (datum, datumIdx) {\n                    fmtFieldIdx.forEach(function (elem) {\n                        var fIdx = elem[0];\n                        var fmtFn = elem[1];\n\n                        datum[fIdx] = fmtFn.call(undefined, datum[fIdx], uids[datumIdx], schema[fIdx]);\n                    });\n                });\n            }\n\n            return dataGenerated;\n        }\n\n        /**\n         * Groups the data using particular dimensions and by reducing measures. It expects a list of dimensions using which\n         * it projects the datamodel and perform aggregations to reduce the duplicate tuples. Refer this\n         * {@link link_to_one_example_with_group_by | document} to know the intuition behind groupBy.\n         *\n         * DataModel by default provides definition of few {@link reducer | Reducers}.\n         * {@link ReducerStore | User defined reducers} can also be registered.\n         *\n         * This is the chained implementation of `groupBy`.\n         * `groupBy` also supports {@link link_to_compose_groupBy | composability}\n         *\n         * @example\n         * const groupedDM = dm.groupBy(['Year'], { horsepower: 'max' } );\n         * console.log(groupedDm);\n         *\n         * @public\n         *\n         * @param {Array.<string>} fieldsArr - Array containing the name of dimensions\n         * @param {Object} [reducers={}] - A map whose key is the variable name and value is the name of the reducer. If its\n         *      not passed, or any variable is ommitted from the object, default aggregation function is used from the\n         *      schema of the variable.\n         *\n         * @return {DataModel} Returns a new DataModel instance after performing the groupby.\n         */\n\n    }, {\n        key: 'groupBy',\n        value: function groupBy(fieldsArr) {\n            var reducers = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n            var config = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : { saveChild: true };\n\n            var groupByString = '' + fieldsArr.join();\n            var params = [this, fieldsArr, reducers];\n            var newDataModel = _operator__WEBPACK_IMPORTED_MODULE_3__[\"groupBy\"].apply(undefined, params);\n\n            if (config.saveChild) {\n                this._children.push(newDataModel);\n                Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"persistDerivation\"])(newDataModel, _constants__WEBPACK_IMPORTED_MODULE_2__[\"DM_DERIVATIVES\"].GROUPBY, { fieldsArr: fieldsArr, groupByString: groupByString, defaultReducer: _utils_reducer_store__WEBPACK_IMPORTED_MODULE_6__[\"default\"].defaultReducer() }, reducers);\n            }\n\n            newDataModel._parent = this;\n            return newDataModel;\n        }\n\n        /**\n         * Performs sorting operation on the current {@link DataModel} instance according to the specified sorting details.\n         * Like every other operator it doesn't mutate the current DataModel instance on which it was called, instead\n         * returns a new DataModel instance containing the sorted data.\n         *\n         * DataModel support multi level sorting by listing the variables using which sorting needs to be performed and\n         * the type of sorting `ASC` or `DESC`.\n         *\n         * In the following example, data is sorted by `Origin` field in `DESC` order in first level followed by another\n         * level of sorting by `Acceleration` in `ASC` order.\n         *\n         * @example\n         * // here dm is the pre-declared DataModel instance containing the data of 'cars.json' file\n         * let sortedDm = dm.sort([\n         *    [\"Origin\", \"DESC\"]\n         *    [\"Acceleration\"] // Default value is ASC\n         * ]);\n         *\n         * console.log(dm.getData());\n         * console.log(sortedDm.getData());\n         *\n         * // Sort with a custom sorting function\n         * sortedDm = dm.sort([\n         *    [\"Origin\", \"DESC\"]\n         *    [\"Acceleration\", (a, b) => a - b] // Custom sorting function\n         * ]);\n         *\n         * console.log(dm.getData());\n         * console.log(sortedDm.getData());\n         *\n         * @text\n         * DataModel also provides another sorting mechanism out of the box where sort is applied to a variable using\n         * another variable which determines the order.\n         * Like the above DataModel contains three fields `Origin`, `Name` and `Acceleration`. Now, the data in this\n         * model can be sorted by `Origin` field according to the average value of all `Acceleration` for a\n         * particular `Origin` value.\n         *\n         * @example\n         * // here dm is the pre-declared DataModel instance containing the data of 'cars.json' file\n         * const sortedDm = dm.sort([\n         *     ['Origin', ['Acceleration', (a, b) => avg(...a.Acceleration) - avg(...b.Acceleration)]]\n         * ]);\n         *\n         * console.log(dm.getData());\n         * console.log(sortedDm.getData());\n         *\n         * @public\n         *\n         * @param {Array.<Array>} sortingDetails - Sorting details based on which the sorting will be performed.\n         * @return {DataModel} Returns a new instance of DataModel with sorted data.\n         */\n\n    }, {\n        key: 'sort',\n        value: function sort(sortingDetails) {\n            var rawData = this.getData({\n                order: 'row',\n                sort: sortingDetails\n            });\n            var header = rawData.schema.map(function (field) {\n                return field.name;\n            });\n            var dataInCSVArr = [header].concat(rawData.data);\n\n            var sortedDm = new this.constructor(dataInCSVArr, rawData.schema, { dataFormat: 'DSVArr' });\n            sortedDm._sortingDetails = sortingDetails;\n            return sortedDm;\n        }\n\n        /**\n         * Performs the serialization operation on the current {@link DataModel} instance according to the specified data\n         * type. When an {@link DataModel} instance is created, it de-serializes the input data into its internal format,\n         * and during its serialization process, it converts its internal data format to the specified data type and returns\n         * that data regardless what type of data is used during the {@link DataModel} initialization.\n         *\n         * @example\n         * // here dm is the pre-declared DataModel instance.\n         * const csvData = dm.serialize(DataModel.DataFormat.DSV_STR, { fieldSeparator: \",\" });\n         * console.log(csvData); // The csv formatted data.\n         *\n         * const jsonData = dm.serialize(DataModel.DataFormat.FLAT_JSON);\n         * console.log(jsonData); // The json data.\n         *\n         * @public\n         *\n         * @param {string} type - The data type name for serialization.\n         * @param {Object} options - The optional option object.\n         * @param {string} options.fieldSeparator - The field separator character for DSV data type.\n         * @return {Array|string} Returns the serialized data.\n         */\n\n    }, {\n        key: 'serialize',\n        value: function serialize(type, options) {\n            type = type || this._dataFormat;\n            options = Object.assign({}, { fieldSeparator: ',' }, options);\n\n            var fields = this.getFieldspace().fields;\n            var colData = fields.map(function (f) {\n                return f.formattedData();\n            });\n            var rowsCount = colData[0].length;\n            var serializedData = void 0;\n            var rowIdx = void 0;\n            var colIdx = void 0;\n\n            if (type === _enums__WEBPACK_IMPORTED_MODULE_0__[\"DataFormat\"].FLAT_JSON) {\n                serializedData = [];\n                for (rowIdx = 0; rowIdx < rowsCount; rowIdx++) {\n                    var row = {};\n                    for (colIdx = 0; colIdx < fields.length; colIdx++) {\n                        row[fields[colIdx].name()] = colData[colIdx][rowIdx];\n                    }\n                    serializedData.push(row);\n                }\n            } else if (type === _enums__WEBPACK_IMPORTED_MODULE_0__[\"DataFormat\"].DSV_STR) {\n                serializedData = [fields.map(function (f) {\n                    return f.name();\n                }).join(options.fieldSeparator)];\n                for (rowIdx = 0; rowIdx < rowsCount; rowIdx++) {\n                    var _row = [];\n                    for (colIdx = 0; colIdx < fields.length; colIdx++) {\n                        _row.push(colData[colIdx][rowIdx]);\n                    }\n                    serializedData.push(_row.join(options.fieldSeparator));\n                }\n                serializedData = serializedData.join('\\n');\n            } else if (type === _enums__WEBPACK_IMPORTED_MODULE_0__[\"DataFormat\"].DSV_ARR) {\n                serializedData = [fields.map(function (f) {\n                    return f.name();\n                })];\n                for (rowIdx = 0; rowIdx < rowsCount; rowIdx++) {\n                    var _row2 = [];\n                    for (colIdx = 0; colIdx < fields.length; colIdx++) {\n                        _row2.push(colData[colIdx][rowIdx]);\n                    }\n                    serializedData.push(_row2);\n                }\n            } else {\n                throw new Error('Data type ' + type + ' is not supported');\n            }\n\n            return serializedData;\n        }\n    }, {\n        key: 'addField',\n        value: function addField(field) {\n            var fieldName = field.name();\n            this._colIdentifier += ',' + fieldName;\n            var partialFieldspace = this._partialFieldspace;\n\n            if (!partialFieldspace.fieldsObj()[field.name()]) {\n                partialFieldspace.fields.push(field);\n            } else {\n                var fieldIndex = partialFieldspace.fields.findIndex(function (fieldinst) {\n                    return fieldinst.name() === fieldName;\n                });\n                fieldIndex >= 0 && (partialFieldspace.fields[fieldIndex] = field);\n            }\n\n            this.__calculateFieldspace().calculateFieldsConfig();\n            return this;\n        }\n\n        /**\n        * Creates a new variable calculated from existing variables. This method expects the definition of the newly created\n        * variable and a function which resolves the value of the new variable from existing variables.\n        *\n        * Can create a new measure based on existing variables:\n        * @example\n        *  // DataModel already prepared and assigned to dm variable;\n        *  const newDm = dataModel.calculateVariable({\n        *      name: 'powerToWeight',\n        *      type: 'measure'\n        *  }, ['horsepower', 'weight_in_lbs', (hp, weight) => hp / weight ]);\n        *\n        *\n        * Can create a new dimension based on existing variables:\n        * @example\n        *  // DataModel already prepared and assigned to dm variable;\n        *  const child = dataModel.calculateVariable(\n        *     {\n        *       name: 'Efficiency',\n        *       type: 'dimension'\n        *     }, ['horsepower', (hp) => {\n        *      if (hp < 80) { return 'low'; },\n        *      else if (hp < 120) { return 'moderate'; }\n        *      else { return 'high' }\n        *  }]);\n        *\n        * @public\n        *\n        * @param {Object} schema - The schema of newly defined variable.\n        * @param {Array.<string|function>} dependency - An array containing the dependency variable names and a resolver\n        * function as the last element.\n        * @param {Object} config - An optional config object.\n        * @param {boolean} [config.saveChild] - Whether the newly created DataModel will be a child.\n        * @param {boolean} [config.replaceVar] - Whether the newly created variable will replace the existing variable.\n        * @return {DataModel} Returns an instance of DataModel with the new field.\n        */\n\n    }, {\n        key: 'calculateVariable',\n        value: function calculateVariable(schema, dependency, config) {\n            var _this2 = this;\n\n            schema = Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"sanitizeUnitSchema\"])(schema);\n            config = Object.assign({}, { saveChild: true, replaceVar: false }, config);\n\n            var fieldsConfig = this.getFieldsConfig();\n            var depVars = dependency.slice(0, dependency.length - 1);\n            var retrieveFn = dependency[dependency.length - 1];\n\n            if (fieldsConfig[schema.name] && !config.replaceVar) {\n                throw new Error(schema.name + ' field already exists in datamodel');\n            }\n\n            var depFieldIndices = depVars.map(function (field) {\n                var fieldSpec = fieldsConfig[field];\n                if (!fieldSpec) {\n                    // @todo dont throw error here, use warning in production mode\n                    throw new Error(field + ' is not a valid column name.');\n                }\n                return fieldSpec.index;\n            });\n\n            var clone = this.clone();\n\n            var fs = clone.getFieldspace().fields;\n            var suppliedFields = depFieldIndices.map(function (idx) {\n                return fs[idx];\n            });\n\n            var cachedStore = {};\n            var cloneProvider = function cloneProvider() {\n                return _this2.detachedRoot();\n            };\n\n            var computedValues = [];\n            Object(_operator__WEBPACK_IMPORTED_MODULE_3__[\"rowDiffsetIterator\"])(clone._rowDiffset, function (i) {\n                var fieldsData = suppliedFields.map(function (field) {\n                    return field.partialField.data[i];\n                });\n                computedValues[i] = retrieveFn.apply(undefined, _toConsumableArray(fieldsData).concat([i, cloneProvider, cachedStore]));\n            });\n\n            var _createFields = Object(_field_creator__WEBPACK_IMPORTED_MODULE_7__[\"createFields\"])([computedValues], [schema], [schema.name]),\n                _createFields2 = _slicedToArray(_createFields, 1),\n                field = _createFields2[0];\n\n            clone.addField(field);\n\n            if (config.saveChild) {\n                Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"persistDerivation\"])(clone, _constants__WEBPACK_IMPORTED_MODULE_2__[\"DM_DERIVATIVES\"].CAL_VAR, { config: schema, fields: depVars }, retrieveFn);\n            }\n\n            return clone;\n        }\n\n        /**\n         * Propagates changes across all the connected DataModel instances.\n         *\n         * @param {Array} identifiers - A list of identifiers that were interacted with.\n         * @param {Object} payload - The interaction specific details.\n         *\n         * @return {DataModel} DataModel instance.\n         */\n\n    }, {\n        key: 'propagate',\n        value: function propagate(identifiers) {\n            var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n            var addToNameSpace = arguments[2];\n            var propConfig = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n            var isMutableAction = config.isMutableAction;\n            var propagationSourceId = config.sourceId;\n            var payload = config.payload;\n            var rootModel = Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"getRootDataModel\"])(this);\n            var propagationNameSpace = rootModel._propagationNameSpace;\n            var rootGroupByModel = Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"getRootGroupByModel\"])(this);\n            var rootModels = {\n                groupByModel: rootGroupByModel,\n                model: rootModel\n            };\n\n            addToNameSpace && Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"addToPropNamespace\"])(propagationNameSpace, config, this);\n            Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"propagateToAllDataModels\"])(identifiers, rootModels, { propagationNameSpace: propagationNameSpace, sourceId: propagationSourceId }, Object.assign({\n                payload: payload\n            }, config));\n\n            if (isMutableAction) {\n                Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"propagateImmutableActions\"])(propagationNameSpace, rootModels, {\n                    config: config,\n                    propConfig: propConfig\n                }, this);\n            }\n\n            return this;\n        }\n\n        /**\n         * Associates a callback with an event name.\n         *\n         * @param {string} eventName - The name of the event.\n         * @param {Function} callback - The callback to invoke.\n         * @return {DataModel} Returns this current DataModel instance itself.\n         */\n\n    }, {\n        key: 'on',\n        value: function on(eventName, callback) {\n            switch (eventName) {\n                case _constants__WEBPACK_IMPORTED_MODULE_2__[\"PROPAGATION\"]:\n                    this._onPropagation.push(callback);\n                    break;\n            }\n            return this;\n        }\n\n        /**\n         * Unsubscribes the callbacks for the provided event name.\n         *\n         * @param {string} eventName - The name of the event to unsubscribe.\n         * @return {DataModel} Returns the current DataModel instance itself.\n         */\n\n    }, {\n        key: 'unsubscribe',\n        value: function unsubscribe(eventName) {\n            switch (eventName) {\n                case _constants__WEBPACK_IMPORTED_MODULE_2__[\"PROPAGATION\"]:\n                    this._onPropagation = [];\n                    break;\n\n            }\n            return this;\n        }\n\n        /**\n         * This method is used to invoke the method associated with propagation.\n         *\n         * @param {Object} payload The interaction payload.\n         * @param {DataModel} identifiers The propagated DataModel.\n         * @memberof DataModel\n         */\n\n    }, {\n        key: 'handlePropagation',\n        value: function handlePropagation(propModel, payload) {\n            var _this3 = this;\n\n            var propListeners = this._onPropagation;\n            propListeners.forEach(function (fn) {\n                return fn.call(_this3, propModel, payload);\n            });\n        }\n\n        /**\n         * Performs binning on a measure field based on a binning configuration. This method does not aggregate the number\n         * of rows present in DataModel instance after binning, it just adds a new field with the binned value. Refer\n         * binning {@link example_of_binning | example} to have a intuition of what binning is and the use case.\n         *\n         * Binning can be configured by\n         * - providing custom bin configuration with non uniform buckets\n         * - providing bin count\n         * - providing each bin size\n         *\n         * When custom buckets are provided as part of binning configuration\n         * @example\n         *  // DataModel already prepared and assigned to dm variable\n         *  const buckets = {\n         *      start: 30\n         *      stops: [80, 100, 110]\n         *  };\n         *  const config = { buckets, name: 'binnedHP' }\n         *  const binDM = dataModel.bin('horsepower', config);\\\n         *\n         * @text\n         * When `binCount` is defined as part of binning configuration\n         * @example\n         *  // DataModel already prepared and assigned to dm variable\n         *  const config = { binCount: 5, name: 'binnedHP' }\n         *  const binDM = dataModel.bin('horsepower', config);\n         *\n         * @text\n         * When `binSize` is defined as part of binning configuration\n         * @example\n         *  // DataModel already prepared and assigned to dm variable\n         *  const config = { binSize: 200, name: 'binnedHorsepower' }\n         *  const binDM = dataModel.bin('horsepower', config);\n         *\n         * @public\n         *\n         * @param {String} name Name of measure which will be used to create bin\n         * @param {Object} config Config required for bin creation\n         * @param {Array.<Number>} config.bucketObj.stops Definition of bucket ranges. Two subsequent number from arrays\n         *      are picked and a range is created. The first number from range is inclusive and the second number from range\n         *      is exclusive.\n         * @param {Number} [config.bucketObj.startAt] Force the start of the bin from a particular number.\n         *      If not mentioned, the start of the bin or the lower domain of the data if stops is not mentioned, else its\n         *      the first value of the stop.\n         * @param {Number} config.binSize Bucket size for each bin\n         * @param {Number} config.binCount Number of bins which will be created\n         * @param {String} config.name Name of the new binned field to be created\n         *\n         * @returns {DataModel} Instance of new DataModel with the newly created bin.\n         */\n\n    }, {\n        key: 'bin',\n        value: function bin(dimensionName) {\n            var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n            var clone = this.clone();\n            var binFieldName = config.name || dimensionName + '_binned';\n            if (this.getFieldsConfig()[binFieldName] || !this.getFieldsConfig()[dimensionName]) {\n                throw new Error('Field ' + dimensionName + ' already exists.');\n            }\n            var field = this._partialFieldspace.fields.find(function (currfield) {\n                return currfield.name() === dimensionName;\n            });\n            var dataSet = Object(_operator_bucket_creator__WEBPACK_IMPORTED_MODULE_4__[\"createBinnedFieldData\"])(field, this._rowDiffset, config);\n            var binField = Object(_field_creator__WEBPACK_IMPORTED_MODULE_7__[\"createFields\"])([dataSet.data], [{\n                name: binFieldName,\n                type: _enums__WEBPACK_IMPORTED_MODULE_0__[\"FieldType\"].DIMENSION,\n                subtype: _enums__WEBPACK_IMPORTED_MODULE_0__[\"DimensionSubtype\"].BINNED,\n                bins: {\n                    range: dataSet.range,\n                    mid: dataSet.mid\n                }\n            }], [binFieldName])[0];\n            clone.addField(binField);\n            Object(_helper__WEBPACK_IMPORTED_MODULE_1__[\"persistDerivation\"])(clone, _constants__WEBPACK_IMPORTED_MODULE_2__[\"DM_DERIVATIVES\"].BIN, { dimensionName: dimensionName, config: config, binFieldName: binFieldName }, null);\n            return clone;\n        }\n\n        /**\n         * Creates a new {@link DataModel} instance with completely detached root from current {@link DataModel} instance,\n         * the new {@link DataModel} instance has no parent-children relationship with the current one, but has same data as\n         * the current one.\n         * This API is useful when a completely different {@link DataModel} but with same data as the current instance is\n         * needed.\n         *\n         * @example\n         *  const dm = new DataModel(data, schema);\n         *  const detachedDm = dm.detachedRoot();\n         *\n         * // has different namespace\n         * console.log(dm.getPartialFieldspace().name);\n         * console.log(detachedDm.getPartialFieldspace().name);\n         *\n         * // has same data\n         * console.log(dm.getData());\n         * console.log(detachedDm.getData());\n         *\n         * @public\n         *\n         * @return {DataModel} Returns a detached {@link DataModel} instance.\n         */\n\n    }, {\n        key: 'detachedRoot',\n        value: function detachedRoot() {\n            var data = this.serialize(_enums__WEBPACK_IMPORTED_MODULE_0__[\"DataFormat\"].FLAT_JSON);\n            var schema = this.getSchema();\n\n            return new DataModel(data, schema);\n        }\n    }], [{\n        key: 'Reducers',\n        get: function get() {\n            return _utils_reducer_store__WEBPACK_IMPORTED_MODULE_6__[\"default\"];\n        }\n    }]);\n\n    return DataModel;\n}(_relation__WEBPACK_IMPORTED_MODULE_5__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DataModel);\n\n/***/ }),\n\n/***/ \"./src/default-config.js\":\n/*!*******************************!*\\\n  !*** ./src/default-config.js ***!\n  \\*******************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums */ \"./src/enums/index.js\");\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n    dataFormat: _enums__WEBPACK_IMPORTED_MODULE_0__[\"DataFormat\"].AUTO\n});\n\n/***/ }),\n\n/***/ \"./src/enums/data-format.js\":\n/*!**********************************!*\\\n  !*** ./src/enums/data-format.js ***!\n  \\**********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * DataFormat Enum defines the format of the input data.\n * Based on the format of the data the respective adapter is loaded.\n *\n * @readonly\n * @enum {string}\n */\nvar DataFormat = {\n  FLAT_JSON: 'FlatJSON',\n  DSV_STR: 'DSVStr',\n  DSV_ARR: 'DSVArr',\n  AUTO: 'Auto'\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DataFormat);\n\n/***/ }),\n\n/***/ \"./src/enums/dimension-subtype.js\":\n/*!****************************************!*\\\n  !*** ./src/enums/dimension-subtype.js ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * DimensionSubtype enum defines the sub types of the Dimensional Field.\n *\n * @readonly\n * @enum {string}\n */\nvar DimensionSubtype = {\n  CATEGORICAL: 'categorical',\n  TEMPORAL: 'temporal',\n  GEO: 'geo',\n  BINNED: 'binned'\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (DimensionSubtype);\n\n/***/ }),\n\n/***/ \"./src/enums/field-type.js\":\n/*!*********************************!*\\\n  !*** ./src/enums/field-type.js ***!\n  \\*********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * FieldType enum defines the high level field based on which visuals are controlled.\n * Measure in a high level is numeric field and Dimension in a high level is string field.\n *\n * @readonly\n * @enum {string}\n */\nvar FieldType = {\n  MEASURE: 'measure',\n  DIMENSION: 'dimension'\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (FieldType);\n\n/***/ }),\n\n/***/ \"./src/enums/filtering-mode.js\":\n/*!*************************************!*\\\n  !*** ./src/enums/filtering-mode.js ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * Filtering mode enum defines the filering modes of DataModel.\n *\n * @readonly\n * @enum {string}\n */\nvar FilteringMode = {\n  NORMAL: 'normal',\n  INVERSE: 'inverse',\n  ALL: 'all'\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (FilteringMode);\n\n/***/ }),\n\n/***/ \"./src/enums/index.js\":\n/*!****************************!*\\\n  !*** ./src/enums/index.js ***!\n  \\****************************/\n/*! exports provided: DataFormat, DimensionSubtype, MeasureSubtype, FieldType, FilteringMode */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _data_format__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./data-format */ \"./src/enums/data-format.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DataFormat\", function() { return _data_format__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _dimension_subtype__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dimension-subtype */ \"./src/enums/dimension-subtype.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DimensionSubtype\", function() { return _dimension_subtype__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _measure_subtype__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./measure-subtype */ \"./src/enums/measure-subtype.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"MeasureSubtype\", function() { return _measure_subtype__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _field_type__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./field-type */ \"./src/enums/field-type.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FieldType\", function() { return _field_type__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var _filtering_mode__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./filtering-mode */ \"./src/enums/filtering-mode.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FilteringMode\", function() { return _filtering_mode__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; });\n\n/**\n * FilteringMode determines if resultant DataModel should be created from selection set or rejection set.\n *\n * The following modes are available\n * - `NORMAL`: Only entries from selection set are included in the resulatant DataModel instance\n * - `INVERSE`: Only entries from rejection set are included in the resulatant DataModel instance\n * - ALL: Both the entries from selection and rejection set are returned in two different DataModel instance\n */\n\n\n\n\n\n\n\n/***/ }),\n\n/***/ \"./src/enums/measure-subtype.js\":\n/*!**************************************!*\\\n  !*** ./src/enums/measure-subtype.js ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * MeasureSubtype enum defines the sub types of the Measure Field.\n *\n * @readonly\n * @enum {string}\n */\nvar MeasureSubtype = {\n  CONTINUOUS: 'continuous'\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (MeasureSubtype);\n\n/***/ }),\n\n/***/ \"./src/export.js\":\n/*!***********************!*\\\n  !*** ./src/export.js ***!\n  \\***********************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _datamodel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./datamodel */ \"./src/datamodel.js\");\n/* harmony import */ var _operator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./operator */ \"./src/operator/index.js\");\n/* harmony import */ var _stats__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stats */ \"./src/stats/index.js\");\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./enums */ \"./src/enums/index.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils */ \"./src/utils/index.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./constants */ \"./src/constants/index.js\");\n/* harmony import */ var _package_json__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../package.json */ \"./package.json\");\nvar _package_json__WEBPACK_IMPORTED_MODULE_6___namespace = /*#__PURE__*/__webpack_require__.t(/*! ../package.json */ \"./package.json\", 1);\n\n\n\n\n\n\n\n\n_datamodel__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Operators = {\n  compose: _operator__WEBPACK_IMPORTED_MODULE_1__[\"compose\"],\n  bin: _operator__WEBPACK_IMPORTED_MODULE_1__[\"bin\"],\n  select: _operator__WEBPACK_IMPORTED_MODULE_1__[\"select\"],\n  project: _operator__WEBPACK_IMPORTED_MODULE_1__[\"project\"],\n  groupBy: _operator__WEBPACK_IMPORTED_MODULE_1__[\"groupby\"],\n  calculateVariable: _operator__WEBPACK_IMPORTED_MODULE_1__[\"calculateVariable\"],\n  sort: _operator__WEBPACK_IMPORTED_MODULE_1__[\"sort\"],\n  crossProduct: _operator__WEBPACK_IMPORTED_MODULE_1__[\"crossProduct\"],\n  difference: _operator__WEBPACK_IMPORTED_MODULE_1__[\"difference\"],\n  naturalJoin: _operator__WEBPACK_IMPORTED_MODULE_1__[\"naturalJoin\"],\n  leftOuterJoin: _operator__WEBPACK_IMPORTED_MODULE_1__[\"leftOuterJoin\"],\n  rightOuterJoin: _operator__WEBPACK_IMPORTED_MODULE_1__[\"rightOuterJoin\"],\n  fullOuterJoin: _operator__WEBPACK_IMPORTED_MODULE_1__[\"fullOuterJoin\"],\n  union: _operator__WEBPACK_IMPORTED_MODULE_1__[\"union\"]\n};\n_datamodel__WEBPACK_IMPORTED_MODULE_0__[\"default\"].Stats = _stats__WEBPACK_IMPORTED_MODULE_2__;\nObject.assign(_datamodel__WEBPACK_IMPORTED_MODULE_0__[\"default\"], _enums__WEBPACK_IMPORTED_MODULE_3__);\n_datamodel__WEBPACK_IMPORTED_MODULE_0__[\"default\"].DateTimeFormatter = _utils__WEBPACK_IMPORTED_MODULE_4__[\"DateTimeFormatter\"];\n_datamodel__WEBPACK_IMPORTED_MODULE_0__[\"default\"].DataFormat = _constants__WEBPACK_IMPORTED_MODULE_5__[\"DataFormat\"];\n_datamodel__WEBPACK_IMPORTED_MODULE_0__[\"default\"].FilteringMode = _constants__WEBPACK_IMPORTED_MODULE_5__[\"FilteringMode\"];\n_datamodel__WEBPACK_IMPORTED_MODULE_0__[\"default\"].version = _package_json__WEBPACK_IMPORTED_MODULE_6__.version;\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_datamodel__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/***/ }),\n\n/***/ \"./src/field-creator.js\":\n/*!******************************!*\\\n  !*** ./src/field-creator.js ***!\n  \\******************************/\n/*! exports provided: createUnitFieldFromPartial, createFields */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createUnitFieldFromPartial\", function() { return createUnitFieldFromPartial; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createFields\", function() { return createFields; });\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums */ \"./src/enums/index.js\");\n/* harmony import */ var _fields__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./fields */ \"./src/fields/index.js\");\n\n\n\n/**\n * Creates a field instance according to the provided data and schema.\n *\n * @param {Array} data - The field data array.\n * @param {Object} schema - The field schema object.\n * @return {Field} Returns the newly created field instance.\n */\nfunction createUnitField(data, schema) {\n    data = data || [];\n    var partialField = void 0;\n\n    switch (schema.type) {\n        case _enums__WEBPACK_IMPORTED_MODULE_0__[\"FieldType\"].MEASURE:\n            switch (schema.subtype) {\n                case _enums__WEBPACK_IMPORTED_MODULE_0__[\"MeasureSubtype\"].CONTINUOUS:\n                    partialField = new _fields__WEBPACK_IMPORTED_MODULE_1__[\"PartialField\"](schema.name, data, schema, new _fields__WEBPACK_IMPORTED_MODULE_1__[\"ContinuousParser\"]());\n                    return new _fields__WEBPACK_IMPORTED_MODULE_1__[\"Continuous\"](partialField, '0-' + (data.length - 1));\n                default:\n                    partialField = new _fields__WEBPACK_IMPORTED_MODULE_1__[\"PartialField\"](schema.name, data, schema, new _fields__WEBPACK_IMPORTED_MODULE_1__[\"ContinuousParser\"]());\n                    return new _fields__WEBPACK_IMPORTED_MODULE_1__[\"Continuous\"](partialField, '0-' + (data.length - 1));\n            }\n        case _enums__WEBPACK_IMPORTED_MODULE_0__[\"FieldType\"].DIMENSION:\n            switch (schema.subtype) {\n                case _enums__WEBPACK_IMPORTED_MODULE_0__[\"DimensionSubtype\"].CATEGORICAL:\n                    partialField = new _fields__WEBPACK_IMPORTED_MODULE_1__[\"PartialField\"](schema.name, data, schema, new _fields__WEBPACK_IMPORTED_MODULE_1__[\"CategoricalParser\"]());\n                    return new _fields__WEBPACK_IMPORTED_MODULE_1__[\"Categorical\"](partialField, '0-' + (data.length - 1));\n                case _enums__WEBPACK_IMPORTED_MODULE_0__[\"DimensionSubtype\"].TEMPORAL:\n                    partialField = new _fields__WEBPACK_IMPORTED_MODULE_1__[\"PartialField\"](schema.name, data, schema, new _fields__WEBPACK_IMPORTED_MODULE_1__[\"TemporalParser\"](schema));\n                    return new _fields__WEBPACK_IMPORTED_MODULE_1__[\"Temporal\"](partialField, '0-' + (data.length - 1));\n                case _enums__WEBPACK_IMPORTED_MODULE_0__[\"DimensionSubtype\"].BINNED:\n                    partialField = new _fields__WEBPACK_IMPORTED_MODULE_1__[\"PartialField\"](schema.name, data, schema, new _fields__WEBPACK_IMPORTED_MODULE_1__[\"BinnedParser\"]());\n                    return new _fields__WEBPACK_IMPORTED_MODULE_1__[\"Binned\"](partialField, '0-' + (data.length - 1));\n                default:\n                    partialField = new _fields__WEBPACK_IMPORTED_MODULE_1__[\"PartialField\"](schema.name, data, schema, new _fields__WEBPACK_IMPORTED_MODULE_1__[\"CategoricalParser\"]());\n                    return new _fields__WEBPACK_IMPORTED_MODULE_1__[\"Categorical\"](partialField, '0-' + (data.length - 1));\n            }\n        default:\n            partialField = new _fields__WEBPACK_IMPORTED_MODULE_1__[\"PartialField\"](schema.name, data, schema, new _fields__WEBPACK_IMPORTED_MODULE_1__[\"CategoricalParser\"]());\n            return new _fields__WEBPACK_IMPORTED_MODULE_1__[\"Categorical\"](partialField, '0-' + (data.length - 1));\n    }\n}\n\n/**\n * Creates a field instance from partialField and rowDiffset.\n *\n * @param {PartialField} partialField - The corresponding partial field.\n * @param {string} rowDiffset - The data subset config.\n * @return {Field} Returns the newly created field instance.\n */\nfunction createUnitFieldFromPartial(partialField, rowDiffset) {\n    var schema = partialField.schema;\n\n\n    switch (schema.type) {\n        case _enums__WEBPACK_IMPORTED_MODULE_0__[\"FieldType\"].MEASURE:\n            switch (schema.subtype) {\n                case _enums__WEBPACK_IMPORTED_MODULE_0__[\"MeasureSubtype\"].CONTINUOUS:\n                    return new _fields__WEBPACK_IMPORTED_MODULE_1__[\"Continuous\"](partialField, rowDiffset);\n                default:\n                    return new _fields__WEBPACK_IMPORTED_MODULE_1__[\"Continuous\"](partialField, rowDiffset);\n            }\n        case _enums__WEBPACK_IMPORTED_MODULE_0__[\"FieldType\"].DIMENSION:\n            switch (schema.subtype) {\n                case _enums__WEBPACK_IMPORTED_MODULE_0__[\"DimensionSubtype\"].CATEGORICAL:\n                    return new _fields__WEBPACK_IMPORTED_MODULE_1__[\"Categorical\"](partialField, rowDiffset);\n                case _enums__WEBPACK_IMPORTED_MODULE_0__[\"DimensionSubtype\"].TEMPORAL:\n                    return new _fields__WEBPACK_IMPORTED_MODULE_1__[\"Temporal\"](partialField, rowDiffset);\n                case _enums__WEBPACK_IMPORTED_MODULE_0__[\"DimensionSubtype\"].BINNED:\n                    return new _fields__WEBPACK_IMPORTED_MODULE_1__[\"Binned\"](partialField, rowDiffset);\n                default:\n                    return new _fields__WEBPACK_IMPORTED_MODULE_1__[\"Categorical\"](partialField, rowDiffset);\n            }\n        default:\n            return new _fields__WEBPACK_IMPORTED_MODULE_1__[\"Categorical\"](partialField, rowDiffset);\n    }\n}\n\n/**\n * Creates the field instances with input data and schema.\n *\n * @param {Array} dataColumn - The data array for fields.\n * @param {Array} schema - The schema array for fields.\n * @param {Array} headers - The array of header names.\n * @return {Array.<Field>} Returns an array of newly created field instances.\n */\nfunction createFields(dataColumn, schema, headers) {\n    var headersObj = {};\n\n    if (!(headers && headers.length)) {\n        headers = schema.map(function (item) {\n            return item.name;\n        });\n    }\n\n    headers.forEach(function (header, i) {\n        headersObj[header] = i;\n    });\n\n    return schema.map(function (item) {\n        return createUnitField(dataColumn[headersObj[item.name]], item);\n    });\n}\n\n/***/ }),\n\n/***/ \"./src/field-store.js\":\n/*!****************************!*\\\n  !*** ./src/field-store.js ***!\n  \\****************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums */ \"./src/enums/index.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"./src/utils/index.js\");\n\n\n\nvar fieldStore = {\n    data: {},\n\n    createNamespace: function createNamespace(fieldArr, name) {\n        var dataId = name || Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getUniqueId\"])();\n        this.data[dataId] = {\n            name: dataId,\n            fields: fieldArr,\n            fieldsObj: function fieldsObj() {\n                var retObj = {};\n                this.fields.forEach(function (field) {\n                    retObj[field.name()] = field;\n                });\n                return retObj;\n            },\n            getMeasure: function getMeasure() {\n                var retObj = {};\n                this.fields.forEach(function (field) {\n                    if (field.schema().type === _enums__WEBPACK_IMPORTED_MODULE_0__[\"FieldType\"].MEASURE) {\n                        retObj[field.name()] = field;\n                    }\n                });\n                return retObj;\n            },\n            getDimension: function getDimension() {\n                var retObj = {};\n                this.fields.forEach(function (field) {\n                    if (field.schema().type === _enums__WEBPACK_IMPORTED_MODULE_0__[\"FieldType\"].DIMENSION) {\n                        retObj[field.name()] = field;\n                    }\n                });\n                return retObj;\n            }\n        };\n        return this.data[dataId];\n    }\n};\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (fieldStore);\n\n/***/ }),\n\n/***/ \"./src/fields/binned/index.js\":\n/*!************************************!*\\\n  !*** ./src/fields/binned/index.js ***!\n  \\************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _dimension__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../dimension */ \"./src/fields/dimension/index.js\");\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n/**\n * Represents binned field subtype.\n *\n * @public\n * @class\n * @extends Dimension\n */\n\nvar Binned = function (_Dimension) {\n  _inherits(Binned, _Dimension);\n\n  function Binned() {\n    _classCallCheck(this, Binned);\n\n    return _possibleConstructorReturn(this, (Binned.__proto__ || Object.getPrototypeOf(Binned)).apply(this, arguments));\n  }\n\n  _createClass(Binned, [{\n    key: 'calculateDataDomain',\n\n    /**\n     * Calculates the corresponding field domain.\n     *\n     * @public\n     * @override\n     * @return {Array} Returns the last and first values of bins config array.\n     */\n    value: function calculateDataDomain() {\n      var binsArr = this.partialField.schema.bins;\n      return [binsArr[0], binsArr[binsArr.length - 1]];\n    }\n\n    /**\n     * Returns the bins config provided while creating the field instance.\n     *\n     * @public\n     * @return {Array} Returns the bins array config.\n     */\n\n  }, {\n    key: 'bins',\n    value: function bins() {\n      return this.partialField.schema.bins;\n    }\n  }]);\n\n  return Binned;\n}(_dimension__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Binned);\n\n/***/ }),\n\n/***/ \"./src/fields/categorical/index.js\":\n/*!*****************************************!*\\\n  !*** ./src/fields/categorical/index.js ***!\n  \\*****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _operator_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../operator/row-diffset-iterator */ \"./src/operator/row-diffset-iterator.js\");\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../enums */ \"./src/enums/index.js\");\n/* harmony import */ var _dimension__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../dimension */ \"./src/fields/dimension/index.js\");\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n/**\n * Represents categorical field subtype.\n *\n * @public\n * @class\n * @extends Dimension\n */\n\nvar Categorical = function (_Dimension) {\n    _inherits(Categorical, _Dimension);\n\n    function Categorical() {\n        _classCallCheck(this, Categorical);\n\n        return _possibleConstructorReturn(this, (Categorical.__proto__ || Object.getPrototypeOf(Categorical)).apply(this, arguments));\n    }\n\n    _createClass(Categorical, [{\n        key: 'subtype',\n\n        /**\n         * Returns the subtype of the field.\n         *\n         * @public\n         * @override\n         * @return {string} Returns the subtype of the field.\n         */\n        value: function subtype() {\n            return _enums__WEBPACK_IMPORTED_MODULE_1__[\"DimensionSubtype\"].CATEGORICAL;\n        }\n\n        /**\n         * Calculates the corresponding field domain.\n         *\n         * @public\n         * @override\n         * @return {Array} Returns the unique values.\n         */\n\n    }, {\n        key: 'calculateDataDomain',\n        value: function calculateDataDomain() {\n            var _this2 = this;\n\n            var hash = new Set();\n            var domain = [];\n\n            // here don't use this.data() as the iteration will be occurred two times on same data.\n            Object(_operator_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_0__[\"rowDiffsetIterator\"])(this.rowDiffset, function (i) {\n                var datum = _this2.partialField.data[i];\n                if (!hash.has(datum)) {\n                    hash.add(datum);\n                    domain.push(datum);\n                }\n            });\n            return domain;\n        }\n    }]);\n\n    return Categorical;\n}(_dimension__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Categorical);\n\n/***/ }),\n\n/***/ \"./src/fields/continuous/index.js\":\n/*!****************************************!*\\\n  !*** ./src/fields/continuous/index.js ***!\n  \\****************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _operator_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../operator/row-diffset-iterator */ \"./src/operator/row-diffset-iterator.js\");\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../enums */ \"./src/enums/index.js\");\n/* harmony import */ var _measure__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../measure */ \"./src/fields/measure/index.js\");\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n/**\n * Represents continuous field subtype.\n *\n * @public\n * @class\n * @extends Measure\n */\n\nvar Continuous = function (_Measure) {\n    _inherits(Continuous, _Measure);\n\n    function Continuous() {\n        _classCallCheck(this, Continuous);\n\n        return _possibleConstructorReturn(this, (Continuous.__proto__ || Object.getPrototypeOf(Continuous)).apply(this, arguments));\n    }\n\n    _createClass(Continuous, [{\n        key: 'subtype',\n\n        /**\n         * Returns the subtype of the field.\n         *\n         * @public\n         * @override\n         * @return {string} Returns the subtype of the field.\n         */\n        value: function subtype() {\n            return _enums__WEBPACK_IMPORTED_MODULE_1__[\"MeasureSubtype\"].CONTINUOUS;\n        }\n\n        /**\n         * Calculates the corresponding field domain.\n         *\n         * @public\n         * @override\n         * @return {Array} Returns the min and max values.\n         */\n\n    }, {\n        key: 'calculateDataDomain',\n        value: function calculateDataDomain() {\n            var _this2 = this;\n\n            var min = Number.POSITIVE_INFINITY;\n            var max = Number.NEGATIVE_INFINITY;\n\n            // here don't use this.data() as the iteration will be occurred two times on same data.\n            Object(_operator_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_0__[\"rowDiffsetIterator\"])(this.rowDiffset, function (i) {\n                var datum = _this2.partialField.data[i];\n                if (datum < min) {\n                    min = datum;\n                }\n                if (datum > max) {\n                    max = datum;\n                }\n            });\n\n            return [min, max];\n        }\n    }]);\n\n    return Continuous;\n}(_measure__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Continuous);\n\n/***/ }),\n\n/***/ \"./src/fields/dimension/index.js\":\n/*!***************************************!*\\\n  !*** ./src/fields/dimension/index.js ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _field__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../field */ \"./src/fields/field/index.js\");\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n/**\n * Represents dimension field type.\n *\n * @public\n * @class\n * @extends Field\n */\n\nvar Dimension = function (_Field) {\n    _inherits(Dimension, _Field);\n\n    function Dimension() {\n        _classCallCheck(this, Dimension);\n\n        return _possibleConstructorReturn(this, (Dimension.__proto__ || Object.getPrototypeOf(Dimension)).apply(this, arguments));\n    }\n\n    _createClass(Dimension, [{\n        key: 'domain',\n\n        /**\n         * Returns the domain for the dimension field.\n         *\n         * @override\n         * @public\n         * @return {any} Returns the calculated domain.\n         */\n        value: function domain() {\n            if (!this._cachedDomain) {\n                this._cachedDomain = this.calculateDataDomain();\n            }\n            return this._cachedDomain;\n        }\n\n        /**\n         * Calculates the corresponding field domain.\n         *\n         * @public\n         * @abstract\n         */\n\n    }, {\n        key: 'calculateDataDomain',\n        value: function calculateDataDomain() {\n            throw new Error('Not yet implemented');\n        }\n\n        /**\n        * Returns the formatted version of the underlying field data.\n        *\n        * @public\n        * @override\n        * @return {Array} Returns the formatted data.\n        */\n\n    }, {\n        key: 'formattedData',\n        value: function formattedData() {\n            return this.data();\n        }\n    }]);\n\n    return Dimension;\n}(_field__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Dimension);\n\n/***/ }),\n\n/***/ \"./src/fields/field/index.js\":\n/*!***********************************!*\\\n  !*** ./src/fields/field/index.js ***!\n  \\***********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _operator_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../operator/row-diffset-iterator */ \"./src/operator/row-diffset-iterator.js\");\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n/**\n * In {@link DataModel}, every tabular data consists of column, a column is stored as field.\n * Field contains all the data for a given column in an array.\n *\n * Each record consists of several fields; the fields of all records form the columns.\n * Examples of fields: name, gender, sex etc.\n *\n * In DataModel, each field can have multiple attributes which describes its data and behaviour.\n * A field can have two types of data: Measure and Dimension.\n *\n * A Dimension Field is the context on which a data is categorized and the measure is the numerical values that\n * quantify the data set.\n * In short a dimension is the lens through which you are looking at your measure data.\n *\n * Refer to {@link Schema} to get info about possible field attributes.\n *\n * @public\n * @class\n */\n\nvar Field = function () {\n    /**\n     * Initialize a new instance.\n     *\n     * @public\n     * @param {PartialField} partialField - The partialField instance which holds the whole data.\n     * @param {string} rowDiffset - The data subset definition.\n     */\n    function Field(partialField, rowDiffset) {\n        _classCallCheck(this, Field);\n\n        this.partialField = partialField;\n        this.rowDiffset = rowDiffset;\n    }\n\n    /**\n     * Generates the field type specific domain.\n     *\n     * @public\n     * @abstract\n     */\n\n\n    _createClass(Field, [{\n        key: 'domain',\n        value: function domain() {\n            throw new Error('Not yet implemented');\n        }\n\n        /**\n         * Returns the the field schema.\n         *\n         * @public\n         * @return {string} Returns the field schema.\n         */\n\n    }, {\n        key: 'schema',\n        value: function schema() {\n            return this.partialField.schema;\n        }\n\n        /**\n         * Returns the name of the field.\n         *\n         * @public\n         * @return {string} Returns the name of the field.\n         */\n\n    }, {\n        key: 'name',\n        value: function name() {\n            return this.partialField.name;\n        }\n\n        /**\n         * Returns the type of the field.\n         *\n         * @public\n         * @return {string} Returns the type of the field.\n         */\n\n    }, {\n        key: 'type',\n        value: function type() {\n            return this.partialField.schema.type;\n        }\n\n        /**\n         * Returns the subtype of the field.\n         *\n         * @public\n         * @return {string} Returns the subtype of the field.\n         */\n\n    }, {\n        key: 'subtype',\n        value: function subtype() {\n            return this.partialField.schema.subtype;\n        }\n\n        /**\n         * Returns the description of the field.\n         *\n         * @public\n         * @return {string} Returns the description of the field.\n         */\n\n    }, {\n        key: 'description',\n        value: function description() {\n            return this.partialField.schema.description;\n        }\n\n        /**\n         * Returns the display name of the field.\n         *\n         * @public\n         * @return {string} Returns the display name of the field.\n         */\n\n    }, {\n        key: 'displayName',\n        value: function displayName() {\n            return this.partialField.schema.displayName || this.partialField.schema.name;\n        }\n\n        /**\n         * Returns the data associated with the field.\n         *\n         * @public\n         * @return {Array} Returns the data.\n         */\n\n    }, {\n        key: 'data',\n        value: function data() {\n            var _this = this;\n\n            var data = [];\n            Object(_operator_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_0__[\"rowDiffsetIterator\"])(this.rowDiffset, function (i) {\n                data.push(_this.partialField.data[i]);\n            });\n            return data;\n        }\n\n        /**\n         * Returns the formatted version of the underlying field data.\n         *\n         * @public\n         * @abstract\n         */\n\n    }, {\n        key: 'formattedData',\n        value: function formattedData() {\n            throw new Error('Not yet implemented');\n        }\n    }]);\n\n    return Field;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Field);\n\n/***/ }),\n\n/***/ \"./src/fields/index.js\":\n/*!*****************************!*\\\n  !*** ./src/fields/index.js ***!\n  \\*****************************/\n/*! exports provided: Field, Dimension, Categorical, Temporal, Binned, Measure, Continuous, FieldParser, CategoricalParser, TemporalParser, BinnedParser, ContinuousParser, PartialField */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _field__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./field */ \"./src/fields/field/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Field\", function() { return _field__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _dimension__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./dimension */ \"./src/fields/dimension/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Dimension\", function() { return _dimension__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _categorical__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./categorical */ \"./src/fields/categorical/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Categorical\", function() { return _categorical__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _temporal__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./temporal */ \"./src/fields/temporal/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Temporal\", function() { return _temporal__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var _binned__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./binned */ \"./src/fields/binned/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Binned\", function() { return _binned__WEBPACK_IMPORTED_MODULE_4__[\"default\"]; });\n\n/* harmony import */ var _measure__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./measure */ \"./src/fields/measure/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Measure\", function() { return _measure__WEBPACK_IMPORTED_MODULE_5__[\"default\"]; });\n\n/* harmony import */ var _continuous__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./continuous */ \"./src/fields/continuous/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"Continuous\", function() { return _continuous__WEBPACK_IMPORTED_MODULE_6__[\"default\"]; });\n\n/* harmony import */ var _parsers_field_parser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./parsers/field-parser */ \"./src/fields/parsers/field-parser/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"FieldParser\", function() { return _parsers_field_parser__WEBPACK_IMPORTED_MODULE_7__[\"default\"]; });\n\n/* harmony import */ var _parsers_categorical_parser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./parsers/categorical-parser */ \"./src/fields/parsers/categorical-parser/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"CategoricalParser\", function() { return _parsers_categorical_parser__WEBPACK_IMPORTED_MODULE_8__[\"default\"]; });\n\n/* harmony import */ var _parsers_temporal_parser__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./parsers/temporal-parser */ \"./src/fields/parsers/temporal-parser/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"TemporalParser\", function() { return _parsers_temporal_parser__WEBPACK_IMPORTED_MODULE_9__[\"default\"]; });\n\n/* harmony import */ var _parsers_binned_parser__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./parsers/binned-parser */ \"./src/fields/parsers/binned-parser/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"BinnedParser\", function() { return _parsers_binned_parser__WEBPACK_IMPORTED_MODULE_10__[\"default\"]; });\n\n/* harmony import */ var _parsers_continuous_parser__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./parsers/continuous-parser */ \"./src/fields/parsers/continuous-parser/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ContinuousParser\", function() { return _parsers_continuous_parser__WEBPACK_IMPORTED_MODULE_11__[\"default\"]; });\n\n/* harmony import */ var _partial_field__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./partial-field */ \"./src/fields/partial-field/index.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"PartialField\", function() { return _partial_field__WEBPACK_IMPORTED_MODULE_12__[\"default\"]; });\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/***/ }),\n\n/***/ \"./src/fields/measure/index.js\":\n/*!*************************************!*\\\n  !*** ./src/fields/measure/index.js ***!\n  \\*************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _operator_group_by_function__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../operator/group-by-function */ \"./src/operator/group-by-function.js\");\n/* harmony import */ var _field__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../field */ \"./src/fields/field/index.js\");\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n/**\n * Represents measure field type.\n *\n * @public\n * @class\n * @extends Field\n */\n\nvar Measure = function (_Field) {\n    _inherits(Measure, _Field);\n\n    function Measure() {\n        _classCallCheck(this, Measure);\n\n        return _possibleConstructorReturn(this, (Measure.__proto__ || Object.getPrototypeOf(Measure)).apply(this, arguments));\n    }\n\n    _createClass(Measure, [{\n        key: 'domain',\n\n        /**\n         * Returns the domain for the measure field.\n         *\n         * @override\n         * @public\n         * @return {any} Returns the calculated domain.\n         */\n        value: function domain() {\n            if (!this._cachedDomain) {\n                this._cachedDomain = this.calculateDataDomain();\n            }\n            return this._cachedDomain;\n        }\n\n        /**\n         * Returns the unit of the measure field.\n         *\n         * @public\n         * @return {string} Returns unit of the field.\n         */\n\n    }, {\n        key: 'unit',\n        value: function unit() {\n            return this.partialField.schema.unit;\n        }\n\n        /**\n         * Returns the aggregation function name of the measure field.\n         *\n         * @public\n         * @return {string} Returns aggregation function name of the field.\n         */\n\n    }, {\n        key: 'defAggFn',\n        value: function defAggFn() {\n            return this.partialField.schema.defAggFn || _operator_group_by_function__WEBPACK_IMPORTED_MODULE_1__[\"defaultReducerName\"];\n        }\n\n        /**\n         * Returns the number format of the measure field.\n         *\n         * @public\n         * @return {Function} Returns number format of the field.\n         */\n\n    }, {\n        key: 'numberFormat',\n        value: function numberFormat() {\n            var numberFormat = this.partialField.schema.numberFormat;\n\n            return numberFormat instanceof Function ? numberFormat : _utils__WEBPACK_IMPORTED_MODULE_0__[\"formatNumber\"];\n        }\n\n        /**\n         * Calculates the corresponding field domain.\n         *\n         * @public\n         * @abstract\n         */\n\n    }, {\n        key: 'calculateDataDomain',\n        value: function calculateDataDomain() {\n            throw new Error('Not yet implemented');\n        }\n\n        /**\n         * Returns the formatted version of the underlying field data.\n         *\n         * @public\n         * @override\n         * @return {Array} Returns the formatted data.\n         */\n\n    }, {\n        key: 'formattedData',\n        value: function formattedData() {\n            return this.data();\n        }\n    }]);\n\n    return Measure;\n}(_field__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Measure);\n\n/***/ }),\n\n/***/ \"./src/fields/parsers/binned-parser/index.js\":\n/*!***************************************************!*\\\n  !*** ./src/fields/parsers/binned-parser/index.js ***!\n  \\***************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _field_parser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../field-parser */ \"./src/fields/parsers/field-parser/index.js\");\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n/**\n * A FieldParser which parses the binned values.\n *\n * @public\n * @class\n * @implements {FieldParser}\n */\n\nvar BinnedParser = function (_FieldParser) {\n    _inherits(BinnedParser, _FieldParser);\n\n    function BinnedParser() {\n        _classCallCheck(this, BinnedParser);\n\n        return _possibleConstructorReturn(this, (BinnedParser.__proto__ || Object.getPrototypeOf(BinnedParser)).apply(this, arguments));\n    }\n\n    _createClass(BinnedParser, [{\n        key: 'parse',\n\n        /**\n         * Parses a single binned value of a field and returns the sanitized value.\n         *\n         * @public\n         * @param {string} val - The value of the field.\n         * @return {string} Returns the sanitized value.\n         */\n        value: function parse(val) {\n            if (val === null || val === undefined) {\n                return null;\n            }\n\n            var regex = /^\\s*(\\d+)\\s*-\\s*(\\d+)\\s*$/;\n            val = String(val);\n\n            var matched = val.match(regex);\n            if (!matched) {\n                return null;\n            }\n\n            return matched[1] + '-' + matched[2];\n        }\n    }]);\n\n    return BinnedParser;\n}(_field_parser__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (BinnedParser);\n\n/***/ }),\n\n/***/ \"./src/fields/parsers/categorical-parser/index.js\":\n/*!********************************************************!*\\\n  !*** ./src/fields/parsers/categorical-parser/index.js ***!\n  \\********************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _field_parser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../field-parser */ \"./src/fields/parsers/field-parser/index.js\");\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n/**\n * A FieldParser which parses the categorical values.\n *\n * @public\n * @class\n * @implements {FieldParser}\n */\n\nvar CategoricalParser = function (_FieldParser) {\n  _inherits(CategoricalParser, _FieldParser);\n\n  function CategoricalParser() {\n    _classCallCheck(this, CategoricalParser);\n\n    return _possibleConstructorReturn(this, (CategoricalParser.__proto__ || Object.getPrototypeOf(CategoricalParser)).apply(this, arguments));\n  }\n\n  _createClass(CategoricalParser, [{\n    key: 'parse',\n\n    /**\n     * Parses a single value of a field and returns the stringified form.\n     *\n     * @public\n     * @param {string|number} val - The value of the field.\n     * @return {string} Returns the stringified value.\n     */\n    value: function parse(val) {\n      return val === undefined || val === null ? null : String(val).trim();\n    }\n  }]);\n\n  return CategoricalParser;\n}(_field_parser__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (CategoricalParser);\n\n/***/ }),\n\n/***/ \"./src/fields/parsers/continuous-parser/index.js\":\n/*!*******************************************************!*\\\n  !*** ./src/fields/parsers/continuous-parser/index.js ***!\n  \\*******************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _field_parser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../field-parser */ \"./src/fields/parsers/field-parser/index.js\");\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n/**\n * A FieldParser which parses the continuous values.\n *\n * @public\n * @class\n * @implements {FieldParser}\n */\n\nvar ContinuousParser = function (_FieldParser) {\n  _inherits(ContinuousParser, _FieldParser);\n\n  function ContinuousParser() {\n    _classCallCheck(this, ContinuousParser);\n\n    return _possibleConstructorReturn(this, (ContinuousParser.__proto__ || Object.getPrototypeOf(ContinuousParser)).apply(this, arguments));\n  }\n\n  _createClass(ContinuousParser, [{\n    key: 'parse',\n\n    /**\n     * Parses a single value of a field and returns the number form.\n     *\n     * @public\n     * @param {string|number} val - The value of the field.\n     * @return {string} Returns the number value.\n     */\n    value: function parse(val) {\n      val = parseFloat(val, 10);\n      return Number.isNaN(val) ? null : val;\n    }\n  }]);\n\n  return ContinuousParser;\n}(_field_parser__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ContinuousParser);\n\n/***/ }),\n\n/***/ \"./src/fields/parsers/field-parser/index.js\":\n/*!**************************************************!*\\\n  !*** ./src/fields/parsers/field-parser/index.js ***!\n  \\**************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * A interface to represent a parser which is responsible to parse the field.\n *\n * @public\n * @interface\n */\nvar FieldParser = function () {\n  function FieldParser() {\n    _classCallCheck(this, FieldParser);\n  }\n\n  _createClass(FieldParser, [{\n    key: 'parse',\n\n    /**\n     * Parses a single value of a field and return the sanitized form.\n     *\n     * @public\n     * @abstract\n     */\n    value: function parse() {\n      throw new Error('Not yet implemented');\n    }\n  }]);\n\n  return FieldParser;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (FieldParser);\n\n/***/ }),\n\n/***/ \"./src/fields/parsers/temporal-parser/index.js\":\n/*!*****************************************************!*\\\n  !*** ./src/fields/parsers/temporal-parser/index.js ***!\n  \\*****************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _field_parser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../field-parser */ \"./src/fields/parsers/field-parser/index.js\");\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n/**\n * A FieldParser which parses the temporal values.\n *\n * @public\n * @class\n * @implements {FieldParser}\n */\n\nvar TemporalParser = function (_FieldParser) {\n    _inherits(TemporalParser, _FieldParser);\n\n    /**\n     * Initialize a new instance.\n     *\n     * @public\n     * @param {Object} schema - The schema object for the corresponding field.\n     */\n    function TemporalParser(schema) {\n        _classCallCheck(this, TemporalParser);\n\n        var _this = _possibleConstructorReturn(this, (TemporalParser.__proto__ || Object.getPrototypeOf(TemporalParser)).call(this));\n\n        _this.schema = schema;\n        _this._dtf = null;\n        return _this;\n    }\n\n    /**\n     * Parses a single value of a field and returns the millisecond value.\n     *\n     * @public\n     * @param {string|number} val - The value of the field.\n     * @return {number} Returns the millisecond value.\n     */\n\n\n    _createClass(TemporalParser, [{\n        key: 'parse',\n        value: function parse(val) {\n            if (this.schema.format) {\n                this._dtf = this._dtf || new _utils__WEBPACK_IMPORTED_MODULE_0__[\"DateTimeFormatter\"](this.schema.format);\n                return this._dtf.getNativeDate(val).getTime();\n            }\n\n            // If format is not present which means the value is such that\n            // it could be directly passed to Date constructor.\n            return +new Date(val);\n        }\n    }]);\n\n    return TemporalParser;\n}(_field_parser__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (TemporalParser);\n\n/***/ }),\n\n/***/ \"./src/fields/partial-field/index.js\":\n/*!*******************************************!*\\\n  !*** ./src/fields/partial-field/index.js ***!\n  \\*******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Stores the full data and the metadata of a field. It provides\n * a single source of data from which the future Field\n * instance can get a subset of it with a rowDiffset config.\n *\n * @class\n * @public\n */\nvar PartialField = function () {\n  /**\n   * Initialize a new instance.\n   *\n   * @public\n   * @param {string} name - The name of the field.\n   * @param {Array} data - The data array.\n   * @param {Object} schema - The schema object of the corresponding field.\n   * @param {FieldParser} parser - The parser instance corresponding to that field.\n   */\n  function PartialField(name, data, schema, parser) {\n    _classCallCheck(this, PartialField);\n\n    this.name = name;\n    this.schema = schema;\n    this.parser = parser;\n    this.data = this._sanitize(data);\n  }\n\n  /**\n   * Sanitizes the field data.\n   *\n   * @private\n   * @param {Array} data - The actual input data.\n   * @return {Array} Returns the sanitized data.\n   */\n\n\n  _createClass(PartialField, [{\n    key: \"_sanitize\",\n    value: function _sanitize(data) {\n      var _this = this;\n\n      return data.map(function (datum) {\n        return _this.parser.parse(datum);\n      });\n    }\n  }]);\n\n  return PartialField;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (PartialField);\n\n/***/ }),\n\n/***/ \"./src/fields/temporal/index.js\":\n/*!**************************************!*\\\n  !*** ./src/fields/temporal/index.js ***!\n  \\**************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _operator_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../operator/row-diffset-iterator */ \"./src/operator/row-diffset-iterator.js\");\n/* harmony import */ var _dimension__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dimension */ \"./src/fields/dimension/index.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils */ \"./src/utils/index.js\");\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n/**\n * Represents temporal field subtype.\n *\n * @public\n * @class\n * @extends Dimension\n */\n\nvar Temporal = function (_Dimension) {\n    _inherits(Temporal, _Dimension);\n\n    function Temporal() {\n        _classCallCheck(this, Temporal);\n\n        return _possibleConstructorReturn(this, (Temporal.__proto__ || Object.getPrototypeOf(Temporal)).apply(this, arguments));\n    }\n\n    _createClass(Temporal, [{\n        key: 'calculateDataDomain',\n\n        /**\n        * Calculates the corresponding field domain.\n        *\n        * @public\n        * @override\n        * @return {Array} Returns the unique values.\n        */\n        value: function calculateDataDomain() {\n            var _this2 = this;\n\n            var hash = new Set();\n            var domain = [];\n\n            // here don't use this.data() as the iteration will be\n            // occurred two times on same data.\n            Object(_operator_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_0__[\"rowDiffsetIterator\"])(this.rowDiffset, function (i) {\n                var datum = _this2.partialField.data[i];\n                if (!hash.has(datum)) {\n                    hash.add(datum);\n                    domain.push(datum);\n                }\n            });\n\n            return domain;\n        }\n\n        /**\n         * Calculates the minimum consecutive difference from the associated field data.\n         *\n         * @public\n         * @return {number} Returns the minimum consecutive diff in milliseconds.\n         */\n\n    }, {\n        key: 'minimumConsecutiveDifference',\n        value: function minimumConsecutiveDifference() {\n            var _this3 = this;\n\n            var hash = new Set();\n            var currIdx = 0;\n            var prevDatum = void 0;\n            var minDiff = Number.POSITIVE_INFINITY;\n\n            // here don't use this.data() as the iteration will be occurred two times on same data.\n            Object(_operator_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_0__[\"rowDiffsetIterator\"])(this.rowDiffset, function (i) {\n                var datum = _this3.partialField.data[i];\n\n                if (hash.has(datum)) {\n                    return;\n                }\n                hash.add(datum);\n\n                if (!currIdx++) {\n                    prevDatum = datum;\n                    return;\n                }\n\n                minDiff = Math.min(minDiff, datum - prevDatum);\n                prevDatum = datum;\n            });\n\n            if (currIdx <= 1) {\n                return null;\n            }\n\n            return minDiff;\n        }\n\n        /**\n         * Returns the format specified in the input schema while creating field.\n         *\n         * @public\n         * @return {string} Returns the datetime format.\n         */\n\n    }, {\n        key: 'format',\n        value: function format() {\n            return this.partialField.schema.format;\n        }\n\n        /**\n         * Returns the formatted version of the underlying field data.\n         *\n         * @public\n         * @override\n         * @return {Array} Returns the formatted data.\n         */\n\n    }, {\n        key: 'formattedData',\n        value: function formattedData() {\n            var _this4 = this;\n\n            var data = [];\n            Object(_operator_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_0__[\"rowDiffsetIterator\"])(this.rowDiffset, function (i) {\n                data.push(_utils__WEBPACK_IMPORTED_MODULE_2__[\"DateTimeFormatter\"].formatAs(_this4.partialField.data[i], _this4.format()));\n            });\n            return data;\n        }\n    }]);\n\n    return Temporal;\n}(_dimension__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Temporal);\n\n/***/ }),\n\n/***/ \"./src/helper.js\":\n/*!***********************!*\\\n  !*** ./src/helper.js ***!\n  \\***********************/\n/*! exports provided: prepareJoinData, updateFields, persistDerivation, selectHelper, filterPropagationModel, cloneWithSelect, cloneWithProject, sanitizeUnitSchema, sanitizeSchema, updateData, fieldInSchema, getOperationArguments, getRootGroupByModel, getRootDataModel, getPathToRootModel, propagateToAllDataModels, propagateImmutableActions, addToPropNamespace */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"prepareJoinData\", function() { return prepareJoinData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateFields\", function() { return updateFields; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"persistDerivation\", function() { return persistDerivation; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"selectHelper\", function() { return selectHelper; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"filterPropagationModel\", function() { return filterPropagationModel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cloneWithSelect\", function() { return cloneWithSelect; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"cloneWithProject\", function() { return cloneWithProject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sanitizeUnitSchema\", function() { return sanitizeUnitSchema; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sanitizeSchema\", function() { return sanitizeSchema; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"updateData\", function() { return updateData; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fieldInSchema\", function() { return fieldInSchema; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getOperationArguments\", function() { return getOperationArguments; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRootGroupByModel\", function() { return getRootGroupByModel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getRootDataModel\", function() { return getRootDataModel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getPathToRootModel\", function() { return getPathToRootModel; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"propagateToAllDataModels\", function() { return propagateToAllDataModels; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"propagateImmutableActions\", function() { return propagateImmutableActions; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"addToPropNamespace\", function() { return addToPropNamespace; });\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums */ \"./src/enums/index.js\");\n/* harmony import */ var _field_store__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./field-store */ \"./src/field-store.js\");\n/* harmony import */ var _value__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./value */ \"./src/value.js\");\n/* harmony import */ var _operator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./operator */ \"./src/operator/index.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./constants */ \"./src/constants/index.js\");\n/* harmony import */ var _field_creator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./field-creator */ \"./src/field-creator.js\");\n/* harmony import */ var _default_config__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./default-config */ \"./src/default-config.js\");\n/* harmony import */ var _converter__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./converter */ \"./src/converter/index.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./utils */ \"./src/utils/index.js\");\nvar _this = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Prepares the selection data.\n */\nfunction prepareSelectionData(fields, i) {\n    var resp = {};\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n        for (var _iterator = fields[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var field = _step.value;\n\n            resp[field.name()] = new _value__WEBPACK_IMPORTED_MODULE_2__[\"default\"](field.partialField.data[i], field);\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n            }\n        } finally {\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n\n    return resp;\n}\n\nfunction prepareJoinData(fields) {\n    var resp = {};\n    Object.keys(fields).forEach(function (key) {\n        resp[key] = new _value__WEBPACK_IMPORTED_MODULE_2__[\"default\"](fields[key], key);\n    });\n    return resp;\n}\n\nvar updateFields = function updateFields(_ref, partialFieldspace, fieldStoreName) {\n    var _ref2 = _slicedToArray(_ref, 2),\n        rowDiffset = _ref2[0],\n        colIdentifier = _ref2[1];\n\n    var collID = colIdentifier.length ? colIdentifier.split(',') : [];\n    var partialFieldMap = partialFieldspace.fieldsObj();\n    var newFields = collID.map(function (coll) {\n        return Object(_field_creator__WEBPACK_IMPORTED_MODULE_5__[\"createUnitFieldFromPartial\"])(partialFieldMap[coll].partialField, rowDiffset);\n    });\n    return _field_store__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createNamespace(newFields, fieldStoreName);\n};\n\nvar persistDerivation = function persistDerivation(model, operation) {\n    var config = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var criteriaFn = arguments[3];\n\n    var derivative = void 0;\n    if (operation !== _constants__WEBPACK_IMPORTED_MODULE_4__[\"DM_DERIVATIVES\"].COMPOSE) {\n        derivative = {\n            op: operation,\n            meta: config,\n            criteria: criteriaFn\n        };\n        model._derivation.push(derivative);\n    } else {\n        var _model$_derivation;\n\n        derivative = [].concat(_toConsumableArray(criteriaFn));\n        model._derivation.length = 0;\n        (_model$_derivation = model._derivation).push.apply(_model$_derivation, _toConsumableArray(derivative));\n    }\n};\n\nvar selectHelper = function selectHelper(rowDiffset, fields, selectFn, config, sourceDm) {\n    var newRowDiffSet = [];\n    var lastInsertedValue = -1;\n    var mode = config.mode;\n\n    var li = void 0;\n    var cachedStore = {};\n    var cloneProvider = function cloneProvider() {\n        return sourceDm.detachedRoot();\n    };\n    var selectorHelperFn = function selectorHelperFn(index) {\n        return selectFn(prepareSelectionData(fields, index), index, cloneProvider, cachedStore);\n    };\n\n    var checker = void 0;\n    if (mode === _enums__WEBPACK_IMPORTED_MODULE_0__[\"FilteringMode\"].INVERSE) {\n        checker = function checker(index) {\n            return !selectorHelperFn(index);\n        };\n    } else {\n        checker = function checker(index) {\n            return selectorHelperFn(index);\n        };\n    }\n\n    Object(_operator__WEBPACK_IMPORTED_MODULE_3__[\"rowDiffsetIterator\"])(rowDiffset, function (i) {\n        if (checker(i)) {\n            if (lastInsertedValue !== -1 && i === lastInsertedValue + 1) {\n                li = newRowDiffSet.length - 1;\n                newRowDiffSet[li] = newRowDiffSet[li].split('-')[0] + '-' + i;\n            } else {\n                newRowDiffSet.push('' + i);\n            }\n            lastInsertedValue = i;\n        }\n    });\n    return newRowDiffSet.join(',');\n};\n\nvar filterPropagationModel = function filterPropagationModel(model, propModels) {\n    var config = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    var operation = config.operation || _constants__WEBPACK_IMPORTED_MODULE_4__[\"LOGICAL_OPERATORS\"].AND;\n    var filterByMeasure = config.filterByMeasure || false;\n    var fns = [];\n    if (!propModels.length) {\n        fns = [function () {\n            return false;\n        }];\n    } else {\n        fns = propModels.map(function (propModel) {\n            return function (dataModel) {\n                var dataObj = dataModel.getData();\n                var schema = dataObj.schema;\n                var fieldsConfig = dataModel.getFieldsConfig();\n                var fieldsSpace = dataModel.getFieldspace().fieldsObj();\n                var data = dataObj.data;\n                var domain = Object.values(fieldsConfig).reduce(function (acc, v) {\n                    acc[v.def.name] = fieldsSpace[v.def.name].domain();\n                    return acc;\n                }, {});\n\n                return function (fields) {\n                    var include = !data.length ? false : data.some(function (row) {\n                        return schema.every(function (propField) {\n                            if (!(propField.name in fields)) {\n                                return true;\n                            }\n                            var value = fields[propField.name].valueOf();\n                            if (filterByMeasure && propField.type === _enums__WEBPACK_IMPORTED_MODULE_0__[\"FieldType\"].MEASURE) {\n                                return value >= domain[propField.name][0] && value <= domain[propField.name][1];\n                            }\n\n                            if (propField.type !== _enums__WEBPACK_IMPORTED_MODULE_0__[\"FieldType\"].DIMENSION) {\n                                return true;\n                            }\n                            var idx = fieldsConfig[propField.name].index;\n                            return row[idx] === fields[propField.name].valueOf();\n                        });\n                    });\n                    return include;\n                };\n            }(propModel);\n        });\n    }\n\n    var filteredModel = void 0;\n    if (operation === _constants__WEBPACK_IMPORTED_MODULE_4__[\"LOGICAL_OPERATORS\"].AND) {\n        var clonedModel = model.clone(false, false);\n        filteredModel = clonedModel.select(function (fields) {\n            return fns.every(function (fn) {\n                return fn(fields);\n            });\n        }, {\n            saveChild: false,\n            mode: _enums__WEBPACK_IMPORTED_MODULE_0__[\"FilteringMode\"].ALL\n        });\n    } else {\n        filteredModel = model.clone(false, false).select(function (fields) {\n            return fns.some(function (fn) {\n                return fn(fields);\n            });\n        }, {\n            mode: _enums__WEBPACK_IMPORTED_MODULE_0__[\"FilteringMode\"].ALL,\n            saveChild: false\n        });\n    }\n\n    return filteredModel;\n};\n\nvar cloneWithSelect = function cloneWithSelect(sourceDm, selectFn, selectConfig, cloneConfig) {\n    var cloned = sourceDm.clone(cloneConfig.saveChild);\n    var rowDiffset = selectHelper(cloned._rowDiffset, cloned.getPartialFieldspace().fields, selectFn, selectConfig, sourceDm);\n    cloned._rowDiffset = rowDiffset;\n    cloned.__calculateFieldspace().calculateFieldsConfig();\n    // Store reference to child model and selector function\n    if (cloneConfig.saveChild) {\n        persistDerivation(cloned, _constants__WEBPACK_IMPORTED_MODULE_4__[\"DM_DERIVATIVES\"].SELECT, { config: selectConfig }, selectFn);\n    }\n\n    return cloned;\n};\n\nvar cloneWithProject = function cloneWithProject(sourceDm, projField, config, allFields) {\n    var cloned = sourceDm.clone(config.saveChild);\n    var projectionSet = projField;\n    if (config.mode === _enums__WEBPACK_IMPORTED_MODULE_0__[\"FilteringMode\"].INVERSE) {\n        projectionSet = allFields.filter(function (fieldName) {\n            return projField.indexOf(fieldName) === -1;\n        });\n    }\n    // cloned._colIdentifier = sourceDm._colIdentifier.split(',')\n    //                         .filter(coll => projectionSet.indexOf(coll) !== -1).join();\n    cloned._colIdentifier = projectionSet.join(',');\n    cloned.__calculateFieldspace().calculateFieldsConfig();\n    // Store reference to child model and projection fields\n    if (config.saveChild) {\n        persistDerivation(cloned, _constants__WEBPACK_IMPORTED_MODULE_4__[\"DM_DERIVATIVES\"].PROJECT, { projField: projField, config: config, actualProjField: projectionSet }, null);\n    }\n\n    return cloned;\n};\n\nvar sanitizeUnitSchema = function sanitizeUnitSchema(unitSchema) {\n    // Do deep clone of the unit schema as the user might change it later.\n    unitSchema = Object(_utils__WEBPACK_IMPORTED_MODULE_8__[\"extend2\"])({}, unitSchema);\n    if (!unitSchema.type) {\n        unitSchema.type = _enums__WEBPACK_IMPORTED_MODULE_0__[\"FieldType\"].DIMENSION;\n    }\n\n    if (!unitSchema.subtype) {\n        switch (unitSchema.type) {\n            case _enums__WEBPACK_IMPORTED_MODULE_0__[\"FieldType\"].MEASURE:\n                unitSchema.subtype = _enums__WEBPACK_IMPORTED_MODULE_0__[\"MeasureSubtype\"].CONTINUOUS;\n                break;\n            default:\n            case _enums__WEBPACK_IMPORTED_MODULE_0__[\"FieldType\"].DIMENSION:\n                unitSchema.subtype = _enums__WEBPACK_IMPORTED_MODULE_0__[\"DimensionSubtype\"].CATEGORICAL;\n                break;\n        }\n    }\n\n    return unitSchema;\n};\n\nvar sanitizeSchema = function sanitizeSchema(schema) {\n    return schema.map(function (unitSchema) {\n        return sanitizeUnitSchema(unitSchema);\n    });\n};\n\nvar updateData = function updateData(relation, data, schema, options) {\n    schema = sanitizeSchema(schema);\n    options = Object.assign(Object.assign({}, _default_config__WEBPACK_IMPORTED_MODULE_6__[\"default\"]), options);\n    var converterFn = _converter__WEBPACK_IMPORTED_MODULE_7__[options.dataFormat];\n\n    if (!(converterFn && typeof converterFn === 'function')) {\n        throw new Error('No converter function found for ' + options.dataFormat + ' format');\n    }\n\n    var _converterFn = converterFn(data, options),\n        _converterFn2 = _slicedToArray(_converterFn, 2),\n        header = _converterFn2[0],\n        formattedData = _converterFn2[1];\n\n    var fieldArr = Object(_field_creator__WEBPACK_IMPORTED_MODULE_5__[\"createFields\"])(formattedData, schema, header);\n\n    // This will create a new fieldStore with the fields\n    var nameSpace = _field_store__WEBPACK_IMPORTED_MODULE_1__[\"default\"].createNamespace(fieldArr, options.name);\n    relation._partialFieldspace = nameSpace;\n    // If data is provided create the default colIdentifier and rowDiffset\n    relation._rowDiffset = formattedData.length && formattedData[0].length ? '0-' + (formattedData[0].length - 1) : '';\n    relation._colIdentifier = schema.map(function (_) {\n        return _.name;\n    }).join();\n    relation._dataFormat = options.dataFormat === _enums__WEBPACK_IMPORTED_MODULE_0__[\"DataFormat\"].AUTO ? Object(_utils__WEBPACK_IMPORTED_MODULE_8__[\"detectDataFormat\"])(data) : options.dataFormat;\n    return relation;\n};\n\nvar fieldInSchema = function fieldInSchema(schema, field) {\n    var i = 0;\n\n    for (; i < schema.length; ++i) {\n        if (field === schema[i].name) {\n            return {\n                type: schema[i].subtype || schema[i].type,\n                index: i\n            };\n        }\n    }\n    return null;\n};\n\nvar getOperationArguments = function getOperationArguments(child) {\n    var derivation = child._derivation;\n    var params = [];\n    var operation = void 0;\n    if (derivation && derivation.length === 1) {\n        operation = derivation[0].op;\n        switch (operation) {\n            case _constants__WEBPACK_IMPORTED_MODULE_4__[\"DM_DERIVATIVES\"].SELECT:\n                params = [derivation[0].criteria];\n                break;\n            case _constants__WEBPACK_IMPORTED_MODULE_4__[\"DM_DERIVATIVES\"].PROJECT:\n                params = [derivation[0].meta.actualProjField];\n                break;\n            case _constants__WEBPACK_IMPORTED_MODULE_4__[\"DM_DERIVATIVES\"].GROUPBY:\n                operation = 'groupBy';\n                params = [derivation[0].meta.groupByString.split(','), derivation[0].criteria];\n                break;\n            default:\n                break;\n        }\n    }\n\n    return {\n        operation: operation,\n        params: params\n    };\n};\n\nvar applyExistingOperationOnModel = function applyExistingOperationOnModel(propModel, dataModel) {\n    var _getOperationArgument = getOperationArguments(dataModel),\n        operation = _getOperationArgument.operation,\n        params = _getOperationArgument.params;\n\n    var selectionModel = propModel[0];\n    var rejectionModel = propModel[1];\n    if (operation && params.length) {\n        var _propModel$, _propModel$2;\n\n        selectionModel = (_propModel$ = propModel[0])[operation].apply(_propModel$, _toConsumableArray(params).concat([{\n            saveChild: false\n        }]));\n        rejectionModel = (_propModel$2 = propModel[1])[operation].apply(_propModel$2, _toConsumableArray(params).concat([{\n            saveChild: false\n        }]));\n    }\n    return [selectionModel, rejectionModel];\n};\n\nvar getFilteredModel = function getFilteredModel(propModel, path) {\n    for (var i = 0, len = path.length; i < len; i++) {\n        var model = path[i];\n        propModel = applyExistingOperationOnModel(propModel, model);\n    }\n    return propModel;\n};\n\nvar propagateIdentifiers = function propagateIdentifiers(dataModel, propModel) {\n    var config = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var propModelInf = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n    var nonTraversingModel = propModelInf.nonTraversingModel;\n    var excludeModels = propModelInf.excludeModels || [];\n\n    if (dataModel === nonTraversingModel) {\n        return;\n    }\n\n    var propagate = excludeModels.length ? excludeModels.indexOf(dataModel) === -1 : true;\n\n    propagate && dataModel.handlePropagation(propModel, config);\n\n    var children = dataModel._children;\n    children.forEach(function (child) {\n        var _applyExistingOperati = applyExistingOperationOnModel(propModel, child),\n            _applyExistingOperati2 = _slicedToArray(_applyExistingOperati, 2),\n            selectionModel = _applyExistingOperati2[0],\n            rejectionModel = _applyExistingOperati2[1];\n\n        propagateIdentifiers(child, [selectionModel, rejectionModel], config, propModelInf);\n    });\n};\n\nvar getRootGroupByModel = function getRootGroupByModel(model) {\n    if (model._parent && model._derivation.find(function (d) {\n        return d.op !== 'group';\n    })) {\n        return getRootGroupByModel(model._parent);\n    }\n    return model;\n};\n\nvar getRootDataModel = function getRootDataModel(model) {\n    if (model._parent) {\n        return getRootDataModel(model._parent);\n    }\n    return model;\n};\n\nvar getPathToRootModel = function getPathToRootModel(model) {\n    var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    if (model._parent !== null) {\n        path.push(model);\n        getPathToRootModel(model._parent, path);\n    }\n    return path;\n};\n\nvar propagateToAllDataModels = function propagateToAllDataModels(identifiers, rootModels, propagationInf, config) {\n    var criteria = void 0;\n    var propModel = void 0;\n    var propagationNameSpace = propagationInf.propagationNameSpace,\n        propagateToSource = propagationInf.propagateToSource;\n\n    var propagationSourceId = propagationInf.sourceId;\n    var propagateInterpolatedValues = config.propagateInterpolatedValues;\n    var filterFn = function filterFn(entry) {\n        var filter = config.filterFn || function () {\n            return true;\n        };\n        return filter(entry, config);\n    };\n\n    var criterias = [];\n\n    if (identifiers === null && config.persistent !== true) {\n        criterias = [{\n            criteria: []\n        }];\n    } else {\n        var _ref3;\n\n        var actionCriterias = Object.values(propagationNameSpace.mutableActions);\n        if (propagateToSource !== false) {\n            actionCriterias = actionCriterias.filter(function (d) {\n                return d.config.sourceId !== propagationSourceId;\n            });\n        }\n\n        var filteredCriteria = actionCriterias.filter(filterFn).map(function (action) {\n            return action.config.criteria;\n        });\n\n        var excludeModels = [];\n\n        if (propagateToSource !== false) {\n            var sourceActionCriterias = Object.values(propagationNameSpace.mutableActions);\n\n            sourceActionCriterias.forEach(function (actionInf) {\n                var actionConf = actionInf.config;\n                if (actionConf.applyOnSource === false && actionConf.action === config.action && actionConf.sourceId !== propagationSourceId) {\n                    excludeModels.push(actionInf.model);\n                    criteria = sourceActionCriterias.filter(function (d) {\n                        return d !== actionInf;\n                    }).map(function (d) {\n                        return d.config.criteria;\n                    });\n                    criteria.length && criterias.push({\n                        criteria: criteria,\n                        models: actionInf.model,\n                        path: getPathToRootModel(actionInf.model)\n                    });\n                }\n            });\n        }\n\n        criteria = (_ref3 = []).concat.apply(_ref3, [].concat(_toConsumableArray(filteredCriteria), [identifiers])).filter(function (d) {\n            return d !== null;\n        });\n        criterias.push({\n            criteria: criteria,\n            excludeModels: [].concat(excludeModels, _toConsumableArray(config.excludeModels || []))\n        });\n    }\n\n    var rootModel = rootModels.model;\n\n    var propConfig = Object.assign({\n        sourceIdentifiers: identifiers,\n        propagationSourceId: propagationSourceId\n    }, config);\n\n    var rootGroupByModel = rootModels.groupByModel;\n    if (propagateInterpolatedValues && rootGroupByModel) {\n        propModel = filterPropagationModel(rootGroupByModel, criteria, {\n            filterByMeasure: propagateInterpolatedValues\n        });\n        propagateIdentifiers(rootGroupByModel, propModel, propConfig);\n    }\n\n    criterias.forEach(function (inf) {\n        var propagationModel = filterPropagationModel(rootModel, inf.criteria);\n        var path = inf.path;\n\n        if (path) {\n            var filteredModel = getFilteredModel(propagationModel, path.reverse());\n            inf.models.handlePropagation(filteredModel, propConfig);\n        } else {\n            propagateIdentifiers(rootModel, propagationModel, propConfig, {\n                excludeModels: inf.excludeModels,\n                nonTraversingModel: propagateInterpolatedValues && rootGroupByModel\n            });\n        }\n    });\n};\n\nvar propagateImmutableActions = function propagateImmutableActions(propagationNameSpace, rootModels, propagationInf) {\n    var immutableActions = propagationNameSpace.immutableActions;\n\n    for (var action in immutableActions) {\n        var actionInf = immutableActions[action];\n        var actionConf = actionInf.config;\n        var propagationSourceId = propagationInf.config.sourceId;\n        var filterImmutableAction = propagationInf.propConfig.filterImmutableAction ? propagationInf.propConfig.filterImmutableAction(actionConf, propagationInf.config) : true;\n        if (actionConf.sourceId !== propagationSourceId && filterImmutableAction) {\n            var criteriaModel = actionConf.criteria;\n            propagateToAllDataModels(criteriaModel, rootModels, {\n                propagationNameSpace: propagationNameSpace,\n                propagateToSource: false,\n                sourceId: propagationSourceId\n            }, actionConf);\n        }\n    }\n};\n\nvar addToPropNamespace = function addToPropNamespace(propagationNameSpace) {\n    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var model = arguments[2];\n\n    var sourceNamespace = void 0;\n    var isMutableAction = config.isMutableAction;\n    var criteria = config.criteria;\n    var key = config.action + '-' + config.sourceId;\n\n    if (isMutableAction) {\n        sourceNamespace = propagationNameSpace.mutableActions;\n    } else {\n        sourceNamespace = propagationNameSpace.immutableActions;\n    }\n\n    if (criteria === null) {\n        delete sourceNamespace[key];\n    } else {\n        sourceNamespace[key] = {\n            model: model,\n            config: config\n        };\n    }\n\n    return _this;\n};\n\n/***/ }),\n\n/***/ \"./src/index.js\":\n/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar DataModel = __webpack_require__(/*! ./export */ \"./src/export.js\");\n\nmodule.exports = DataModel.default ? DataModel.default : DataModel;\n\n/***/ }),\n\n/***/ \"./src/operator/bucket-creator.js\":\n/*!****************************************!*\\\n  !*** ./src/operator/bucket-creator.js ***!\n  \\****************************************/\n/*! exports provided: createBinnedFieldData */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createBinnedFieldData\", function() { return createBinnedFieldData; });\n/* harmony import */ var _row_diffset_iterator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./row-diffset-iterator */ \"./src/operator/row-diffset-iterator.js\");\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n\n\n/**\n * Creates bin f from the data and the supplied config.\n *\n * @param {Array} data - The input data.\n * @param {Object} config - The config object.\n * @param {number} config.binSize - The size of the bin.\n * @param {number} config.numOfBins - The number of bins to be created.\n * @return {Array} Returns an array of created bins.\n */\nfunction createBinnedFieldData(field, rowDiffset, config) {\n    var buckets = config.buckets,\n        binCount = config.binCount,\n        binSize = config.binSize,\n        start = config.start;\n\n    var dataStore = [];\n    var binnedData = [];\n\n    var _field$domain = field.domain(),\n        _field$domain2 = _slicedToArray(_field$domain, 2),\n        min = _field$domain2[0],\n        max = _field$domain2[1];\n\n    var oriMax = max;\n    var stops = [];\n    var binEnd = void 0;\n    var prevEndpoint = void 0;\n    var mid = void 0;\n    var range = void 0;\n\n    // create dataStore with index according to rowDiffSet\n    Object(_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_0__[\"rowDiffsetIterator\"])(rowDiffset, function (i) {\n        dataStore.push({\n            data: field.partialField.data[i],\n            index: i\n        });\n    });\n\n    // create buckets if buckets not given\n    if (!buckets) {\n        max += 1;\n        binSize = binSize || (max - min) / binCount;\n\n        var extraBinELm = (max - min) % binSize;\n        if (!binCount && extraBinELm !== 0) {\n            max = max + binSize - extraBinELm;\n        }\n        binEnd = min + binSize;\n        while (binEnd <= max) {\n            stops.push(binEnd);\n            binEnd += binSize;\n        }\n        start = start || min;\n        buckets = { start: start, stops: stops };\n    }\n\n    // initialize intial bucket start\n    prevEndpoint = buckets.start === 0 ? 0 : buckets.start || min;\n\n    // mark each data in dataStore to respective buckets\n    buckets.stops.forEach(function (endPoint) {\n        var tempStore = dataStore.filter(function (datum) {\n            return datum.data >= prevEndpoint && datum.data < endPoint;\n        });\n        tempStore.forEach(function (datum) {\n            binnedData[datum.index] = prevEndpoint + '-' + endPoint;\n        });\n        prevEndpoint = endPoint;\n    });\n\n    // create a bin for values less than start\n    dataStore.filter(function (datum) {\n        return datum.data < buckets.start;\n    }).forEach(function (datum) {\n        binnedData[datum.index] = min + '-' + buckets.start;\n    });\n\n    // create a bin for values more than end\n    dataStore.filter(function (datum) {\n        return datum.data >= buckets.stops[buckets.stops.length - 1];\n    }).forEach(function (datum) {\n        binnedData[datum.index] = buckets.stops[buckets.stops.length - 1] + '-' + oriMax;\n    });\n\n    // create range and mid\n    // append start to bucket marks\n    buckets.stops.unshift(buckets.start);\n    range = new Set(buckets.stops);\n\n    // Add endpoints to buckets marks if not added\n    if (min < buckets.start) {\n        range.add(min);\n    }\n    if (oriMax > buckets.stops[buckets.stops.length - 1]) {\n        range.add(oriMax);\n    }\n\n    range = [].concat(_toConsumableArray(range)).sort(function (a, b) {\n        return a - b;\n    });\n    mid = [];\n\n    for (var i = 1; i < range.length; i++) {\n        mid.push((range[i - 1] + range[i]) / 2);\n    }\n    return { data: binnedData, mid: mid, range: range };\n}\n\n/***/ }),\n\n/***/ \"./src/operator/compose.js\":\n/*!*********************************!*\\\n  !*** ./src/operator/compose.js ***!\n  \\*********************************/\n/*! exports provided: select, project, bin, groupBy, compose */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"select\", function() { return select; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"project\", function() { return project; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"bin\", function() { return bin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"groupBy\", function() { return groupBy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"compose\", function() { return compose; });\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n/**\n * DataModel's opearators are exposed as composable functional operators as well as chainable operators. Chainable\n * operators are called on the instances of {@link Datamodel} and {@link Relation} class.\n *\n * Those same operators can be used as composable operators from `DataModel.Operators` namespace.\n *\n * All these operators have similar behaviour. All these operators when called with the argument returns a function\n * which expects a DataModel instance.\n *\n * @public\n * @module Operators\n * @namespace DataModel\n */\n\n/**\n * This is functional version of selection operator. {@link link_to_selection | Selection} is a row filtering operation.\n * It takes {@link SelectionPredicate | predicate} for filtering criteria and returns a function.\n * The returned function is called with the DataModel instance on which the action needs to be performed.\n *\n * {@link SelectionPredicate} is a function which returns a boolean value. For selection opearation the selection\n * function is called for each row of DataModel instance with the current row passed as argument.\n *\n * After executing {@link SelectionPredicate} the rows are labeled as either an entry of selection set or an entry\n * of rejection set.\n *\n * {@link FilteringMode} operates on the selection and rejection set to determine which one would reflect in the\n * resulatant datamodel.\n *\n * @warning\n * [Warn] Selection and rejection set is only a logical idea for concept explanation purpose.\n *\n * @error\n * [Error] `FilteringMode.ALL` is not a valid working mode for functional version of `select`. Its only avialable on the\n * chained version.\n *\n * @example\n * const select = DataModel.Operators.select;\n * usaCarsFn = select(fields => fields.Origin.value === 'USA');\n * usaCarsDm = usaCarsFn(dm);\n * console.log(usaCarsDm);\n *\n * @public\n * @namespace DataModel\n * @module Operators\n *\n * @param {SelectionPredicate} selectFn - Predicate funciton which is called for each row with the current row\n *      ```\n *          function (row, i)  { ... }\n *      ```\n * @param {Object} [config] - The configuration object to control the inclusion exclusion of a row in resultant\n *      DataModel instance\n * @param {FilteringMode} [config.mode=FilteringMode.NORMAL] - The mode of the selection\n *\n * @return {PreparatorFunction} Function which expects an instance of DataModel on which the operator needs to be\n *      applied.\n */\nvar select = function select() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return function (dm) {\n    return dm.select.apply(dm, args);\n  };\n};\n\n/**\n * This is functional version of projection operator. {@link link_to_projection | Projection} is a column filtering\n * operation.It expects list of fields name and either include those or exclude those based on {@link FilteringMode} on\n * the  resultant variable.It returns a function which is called with the DataModel instance on which the action needs\n * to be performed.\n *\n * Projection expects array of fields name based on which it creates the selection and rejection set. All the field\n * whose name is present in array goes in selection set and rest of the fields goes in rejection set.\n *\n * {@link FilteringMode} operates on the selection and rejection set to determine which one would reflect in the\n * resulatant datamodel.\n *\n * @warning\n * Selection and rejection set is only a logical idea for concept explanation purpose.\n *\n * @error\n * `FilteringMode.ALL` is not a valid working mode for functional version of `select`. Its only avialable on the\n * chained version.\n *\n * @public\n * @namespace DataModel\n * @module Operators\n *\n * @param {Array.<string | Regexp>} projField - An array of column names in string or regular expression.\n * @param {Object} [config] - An optional config to control the creation of new DataModel\n * @param {FilteringMode} [config.mode=FilteringMode.NORMAL] - Mode of the projection\n *\n * @return {PreparatorFunction} Function which expects an instance of DataModel on which the operator needs to be\n *      applied.\n */\nvar project = function project() {\n  for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  return function (dm) {\n    return dm.project.apply(dm, args);\n  };\n};\n\n/**\n * This is functional version of binnig operator. Binning happens on a measure field based on a binning configuration.\n * Binning in DataModel does not aggregate the number of rows present in DataModel instance after binning, it just adds\n * a new field with the binned value. Refer binning {@link example_of_binning | example} to have a intuition of what\n * binning is and the use case.\n *\n * Binning can be configured by\n * - providing custom bin configuration with non uniform buckets\n * - providing bin count\n * - providing each bin size\n *\n * When custom buckets are provided as part of binning configuration\n * @example\n *  // DataModel already prepared and assigned to dm vairable\n *  const buckets = {\n *      start: 30\n *      stops: [80, 100, 110]\n *  };\n *  const config = { buckets, name: 'binnedHP' }\n *  const binFn = bin('horsepower', config);\n *  const binnedDm = binFn(dm);\n *\n * @text\n * When `binCount` is defined as part of binning configuration\n * @example\n *  // DataModel already prepared and assigned to dm vairable\n *  const config = { binCount: 5, name: 'binnedHP' }\n *  const binFn = bin('horsepower', config);\n *  const binnedDm = binFn(Dm);\n *\n * @text\n * When `binSize` is defined as part of binning configuration\n * @example\n *  // DataModel already prepared and assigned to dm vairable\n *  const config = { binSize: 200, name: 'binnedHorsepower' }\n *  const binnedDm = dataModel.bin('horsepower', config);\n *  const binnedDm = binFn(Dm);\n *\n * @public\n * @namespace DataModel\n * @module Operators\n *\n * @param {String} name Name of measure which will be used to create bin\n * @param {Object} config Config required for bin creation\n * @param {Array.<Number>} config.bucketObj.stops Defination of bucket ranges. Two subsequent number from arrays\n *      are picked and a range is created. The first number from range is inclusive and the second number from range\n *      is exclusive.\n * @param {Number} [config.bucketObj.startAt] Force the start of the bin from a particular number.\n *      If not mentioned, the start of the bin or the lower domain of the data if stops is not mentioned, else its\n *      the first value of the stop.\n * @param {Number} config.binSize Bucket size for each bin\n * @param {Number} config.binCount Number of bins which will be created\n * @param {String} config.name Name of the new binned field to be created\n *\n * @return {PreparatorFunction} Function which expects an instance of DataModel on which the operator needs to be\n *      applied.\n */\nvar bin = function bin() {\n  for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n    args[_key3] = arguments[_key3];\n  }\n\n  return function (dm) {\n    return dm.bin.apply(dm, args);\n  };\n};\n\n/**\n * This is functional version of `groupBy` operator.Groups the data using particular dimensions and by reducing\n * measures. It expects a list of dimensions using which it projects the datamodel and perform aggregations to reduce\n * the duplicate tuples. Refer this {@link link_to_one_example_with_group_by | document} to know the intuition behind\n * groupBy.\n *\n * DataModel by default provides definition of few {@link reducer | Reducers}.\n * {@link ReducerStore | User defined reducers} can also be registered.\n *\n * This is the chained implementation of `groupBy`.\n * `groupBy` also supports {@link link_to_compose_groupBy | composability}\n *\n * @example\n * const groupBy = DataModel.Operators.groupBy;\n * const groupedFn = groupBy(['Year'], { horsepower: 'max' } );\n * groupedDM = groupByFn(dm);\n *\n * @public\n *\n * @param {Array.<string>} fieldsArr - Array containing the name of dimensions\n * @param {Object} [reducers={}] - A map whose key is the variable name and value is the name of the reducer. If its\n *      not passed, or any variable is ommitted from the object, default aggregation function is used from the\n *      schema of the variable.\n *\n * @return {PreparatorFunction} Function which expects an instance of DataModel on which the operator needs to be\n *      applied.\n */\nvar groupBy = function groupBy() {\n  for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    args[_key4] = arguments[_key4];\n  }\n\n  return function (dm) {\n    return dm.groupBy.apply(dm, args);\n  };\n};\n\n/**\n * Enables composing operators to run multiple operations and save group of operataion as named opration on a DataModel.\n * The resulting DataModel will be the result of all the operation provided. The operations provided will be executed in\n * a serial manner ie. result of one operation will be the input for the next operations (like pipe operator in unix).\n *\n * Suported operations in compose are\n * - `select`\n * - `project`\n * - `groupBy`\n * - `bin`\n * - `compose`\n *\n * @example\n * const compose = DataModel.Operators.compose;\n * const select = DataModel.Operators.select;\n * const project = DataModel.Operators.project;\n *\n * let composedFn = compose(\n *    select(fields => fields.netprofit.value <= 15),\n *    project(['netprofit', 'netsales']));\n *\n * const dataModel = new DataModel(data1, schema1);\n *\n * let composedDm = composedFn(dataModel);\n *\n * @public\n * @namespace DataModel\n * @module Operators\n *\n * @param {Array.<Operators>} operators: An array of operation that will be applied on the\n * datatable.\n *\n * @returns {DataModel} Instance of resultant DataModel\n */\nvar compose = function compose() {\n  for (var _len5 = arguments.length, operations = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n    operations[_key5] = arguments[_key5];\n  }\n\n  return function (dm) {\n    var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { saveChild: true };\n\n    var currentDM = dm;\n    var frstChild = void 0;\n    var derivations = [];\n    var saveChild = config.saveChild;\n\n    operations.forEach(function (operation) {\n      currentDM = operation(currentDM);\n      derivations.push.apply(derivations, _toConsumableArray(currentDM._derivation));\n      if (!frstChild) {\n        frstChild = currentDM;\n      }\n    });\n\n    saveChild && currentDM.addParent(dm, derivations);\n    if (derivations.length > 1) {\n      frstChild.dispose();\n    }\n\n    return currentDM;\n  };\n};\n\n/***/ }),\n\n/***/ \"./src/operator/cross-product.js\":\n/*!***************************************!*\\\n  !*** ./src/operator/cross-product.js ***!\n  \\***************************************/\n/*! exports provided: crossProduct */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"crossProduct\", function() { return crossProduct; });\n/* harmony import */ var _datamodel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../datamodel */ \"./src/datamodel.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _get_common_schema__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./get-common-schema */ \"./src/operator/get-common-schema.js\");\n/* harmony import */ var _row_diffset_iterator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./row-diffset-iterator */ \"./src/operator/row-diffset-iterator.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../constants */ \"./src/constants/index.js\");\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../helper */ \"./src/helper.js\");\n\n\n\n\n\n\n/**\n * Default filter function for crossProduct.\n *\n * @return {boolean} Always returns true.\n */\nfunction defaultFilterFn() {\n    return true;\n}\n\n/**\n * Implementation of cross product operation between two DataModel instances.\n * It internally creates the data and schema for the new DataModel.\n *\n * @param {DataModel} dataModel1 - The left DataModel instance.\n * @param {DataModel} dataModel2 - The right DataModel instance.\n * @param {Function} filterFn - The filter function which is used to filter the tuples.\n * @param {boolean} [replaceCommonSchema=false] - The flag if the common name schema should be there.\n * @return {DataModel} Returns The newly created DataModel instance from the crossProduct operation.\n */\nfunction crossProduct(dm1, dm2, filterFn) {\n    var replaceCommonSchema = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    var jointype = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : _constants__WEBPACK_IMPORTED_MODULE_4__[\"JOINS\"].CROSS;\n\n    var schema = [];\n    var data = [];\n    var applicableFilterFn = filterFn || defaultFilterFn;\n    var dm1FieldStore = dm1.getFieldspace();\n    var dm2FieldStore = dm2.getFieldspace();\n    var dm1FieldStoreName = dm1FieldStore.name;\n    var dm2FieldStoreName = dm2FieldStore.name;\n    var name = dm1FieldStore.name + '.' + dm2FieldStore.name;\n    var commonSchemaList = Object(_get_common_schema__WEBPACK_IMPORTED_MODULE_2__[\"getCommonSchema\"])(dm1FieldStore, dm2FieldStore);\n\n    if (dm1FieldStoreName === dm2FieldStoreName) {\n        throw new Error('DataModels must have different alias names');\n    }\n    // Here prepare the schema\n    dm1FieldStore.fields.forEach(function (field) {\n        var tmpSchema = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"extend2\"])({}, field.schema());\n        if (commonSchemaList.indexOf(tmpSchema.name) !== -1 && !replaceCommonSchema) {\n            tmpSchema.name = dm1FieldStore.name + '.' + tmpSchema.name;\n        }\n        schema.push(tmpSchema);\n    });\n    dm2FieldStore.fields.forEach(function (field) {\n        var tmpSchema = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"extend2\"])({}, field.schema());\n        if (commonSchemaList.indexOf(tmpSchema.name) !== -1) {\n            if (!replaceCommonSchema) {\n                tmpSchema.name = dm2FieldStore.name + '.' + tmpSchema.name;\n                schema.push(tmpSchema);\n            }\n        } else {\n            schema.push(tmpSchema);\n        }\n    });\n\n    // Here prepare Data\n    Object(_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_3__[\"rowDiffsetIterator\"])(dm1._rowDiffset, function (i) {\n        var rowAdded = false;\n        var rowPosition = void 0;\n        Object(_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_3__[\"rowDiffsetIterator\"])(dm2._rowDiffset, function (ii) {\n            var tuple = [];\n            var userArg = {};\n            userArg[dm1FieldStoreName] = {};\n            userArg[dm2FieldStoreName] = {};\n            dm1FieldStore.fields.forEach(function (field) {\n                tuple.push(field.partialField.data[i]);\n                userArg[dm1FieldStoreName][field.name()] = field.partialField.data[i];\n            });\n            dm2FieldStore.fields.forEach(function (field) {\n                if (!(commonSchemaList.indexOf(field.schema().name) !== -1 && replaceCommonSchema)) {\n                    tuple.push(field.partialField.data[ii]);\n                }\n                userArg[dm2FieldStoreName][field.name()] = field.partialField.data[ii];\n            });\n\n            var cachedStore = {};\n            var cloneProvider1 = function cloneProvider1() {\n                return dm1.detachedRoot();\n            };\n            var cloneProvider2 = function cloneProvider2() {\n                return dm2.detachedRoot();\n            };\n\n            var dm1Fields = Object(_helper__WEBPACK_IMPORTED_MODULE_5__[\"prepareJoinData\"])(userArg[dm1FieldStoreName]);\n            var dm2Fields = Object(_helper__WEBPACK_IMPORTED_MODULE_5__[\"prepareJoinData\"])(userArg[dm2FieldStoreName]);\n            if (applicableFilterFn(dm1Fields, dm2Fields, cloneProvider1, cloneProvider2, cachedStore)) {\n                var tupleObj = {};\n                tuple.forEach(function (cellVal, iii) {\n                    tupleObj[schema[iii].name] = cellVal;\n                });\n                if (rowAdded && _constants__WEBPACK_IMPORTED_MODULE_4__[\"JOINS\"].CROSS !== jointype) {\n                    data[rowPosition] = tupleObj;\n                } else {\n                    data.push(tupleObj);\n                    rowAdded = true;\n                    rowPosition = i;\n                }\n            } else if ((jointype === _constants__WEBPACK_IMPORTED_MODULE_4__[\"JOINS\"].LEFTOUTER || jointype === _constants__WEBPACK_IMPORTED_MODULE_4__[\"JOINS\"].RIGHTOUTER) && !rowAdded) {\n                var _tupleObj = {};\n                var len = dm1FieldStore.fields.length - 1;\n                tuple.forEach(function (cellVal, iii) {\n                    if (iii <= len) {\n                        _tupleObj[schema[iii].name] = cellVal;\n                    } else {\n                        _tupleObj[schema[iii].name] = null;\n                    }\n                });\n                rowAdded = true;\n                rowPosition = i;\n                data.push(_tupleObj);\n            }\n        });\n    });\n\n    return new _datamodel__WEBPACK_IMPORTED_MODULE_0__[\"default\"](data, schema, { name: name });\n}\n\n/***/ }),\n\n/***/ \"./src/operator/data-builder.js\":\n/*!**************************************!*\\\n  !*** ./src/operator/data-builder.js ***!\n  \\**************************************/\n/*! exports provided: dataBuilder */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"dataBuilder\", function() { return dataBuilder; });\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums */ \"./src/enums/index.js\");\n/* harmony import */ var _row_diffset_iterator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./row-diffset-iterator */ \"./src/operator/row-diffset-iterator.js\");\n/* harmony import */ var _merge_sort__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./merge-sort */ \"./src/operator/merge-sort.js\");\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../helper */ \"./src/helper.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n\n\n\n\n\n/**\n * Generates the sorting functions to sort the data of a DataModel instance\n * according to the input data type.\n *\n * @param {string} dataType - The data type e.g. 'measure', 'datetime' etc.\n * @param {string} sortType - The sorting order i.e. 'asc' or 'desc'.\n * @param {integer} index - The index of the data which will be sorted.\n * @return {Function} Returns the the sorting function.\n */\nfunction getSortFn(dataType, sortType, index) {\n    var retFunc = void 0;\n    switch (dataType) {\n        case _enums__WEBPACK_IMPORTED_MODULE_0__[\"MeasureSubtype\"].CONTINUOUS:\n        case _enums__WEBPACK_IMPORTED_MODULE_0__[\"DimensionSubtype\"].TEMPORAL:\n            if (sortType === 'desc') {\n                retFunc = function retFunc(a, b) {\n                    return b[index] - a[index];\n                };\n            } else {\n                retFunc = function retFunc(a, b) {\n                    return a[index] - b[index];\n                };\n            }\n            break;\n        default:\n            retFunc = function retFunc(a, b) {\n                var a1 = '' + a[index];\n                var b1 = '' + b[index];\n                if (a1 < b1) {\n                    return sortType === 'desc' ? 1 : -1;\n                }\n                if (a1 > b1) {\n                    return sortType === 'desc' ? -1 : 1;\n                }\n                return 0;\n            };\n    }\n    return retFunc;\n}\n\n/**\n * Groups the data according to the specified target field.\n *\n * @param {Array} data - The input data array.\n * @param {number} fieldIndex - The target field index within schema array.\n * @return {Array} Returns an array containing the grouped data.\n */\nfunction groupData(data, fieldIndex) {\n    var hashMap = new Map();\n    var groupedData = [];\n\n    data.forEach(function (datum) {\n        var fieldVal = datum[fieldIndex];\n        if (hashMap.has(fieldVal)) {\n            groupedData[hashMap.get(fieldVal)][1].push(datum);\n        } else {\n            groupedData.push([fieldVal, [datum]]);\n            hashMap.set(fieldVal, groupedData.length - 1);\n        }\n    });\n\n    return groupedData;\n}\n\n/**\n * Creates the argument value used for sorting function when sort is done\n * with another fields.\n *\n * @param {Array} groupedDatum - The grouped datum for a single dimension field value.\n * @param {Array} targetFields - An array of the sorting fields.\n * @param {Array} targetFieldDetails - An array of the sorting field details in schema.\n * @return {Object} Returns an object containing the value of sorting fields and the target field name.\n */\nfunction createSortingFnArg(groupedDatum, targetFields, targetFieldDetails) {\n    var arg = {\n        label: groupedDatum[0]\n    };\n\n    targetFields.reduce(function (acc, next, idx) {\n        acc[next] = groupedDatum[1].map(function (datum) {\n            return datum[targetFieldDetails[idx].index];\n        });\n        return acc;\n    }, arg);\n\n    return arg;\n}\n\n/**\n * Sorts the data before return in dataBuilder.\n *\n * @param {Object} dataObj - An object containing the data and schema.\n * @param {Array} sortingDetails - An array containing the sorting configs.\n */\nfunction sortData(dataObj, sortingDetails) {\n    var data = dataObj.data,\n        schema = dataObj.schema;\n\n    var fieldName = void 0;\n    var sortMeta = void 0;\n    var fDetails = void 0;\n    var i = sortingDetails.length - 1;\n\n    for (; i >= 0; i--) {\n        fieldName = sortingDetails[i][0];\n        sortMeta = sortingDetails[i][1];\n        fDetails = Object(_helper__WEBPACK_IMPORTED_MODULE_3__[\"fieldInSchema\"])(schema, fieldName);\n\n        if (!fDetails) {\n            // eslint-disable-next-line no-continue\n            continue;\n        }\n\n        if (Object(_utils__WEBPACK_IMPORTED_MODULE_4__[\"isCallable\"])(sortMeta)) {\n            // eslint-disable-next-line no-loop-func\n            Object(_merge_sort__WEBPACK_IMPORTED_MODULE_2__[\"mergeSort\"])(data, function (a, b) {\n                return sortMeta(a[fDetails.index], b[fDetails.index]);\n            });\n        } else if (Object(_utils__WEBPACK_IMPORTED_MODULE_4__[\"isArray\"])(sortMeta)) {\n            (function () {\n                var groupedData = groupData(data, fDetails.index);\n                var sortingFn = sortMeta[sortMeta.length - 1];\n                var targetFields = sortMeta.slice(0, sortMeta.length - 1);\n                var targetFieldDetails = targetFields.map(function (f) {\n                    return Object(_helper__WEBPACK_IMPORTED_MODULE_3__[\"fieldInSchema\"])(schema, f);\n                });\n\n                groupedData.forEach(function (groupedDatum) {\n                    groupedDatum.push(createSortingFnArg(groupedDatum, targetFields, targetFieldDetails));\n                });\n\n                Object(_merge_sort__WEBPACK_IMPORTED_MODULE_2__[\"mergeSort\"])(groupedData, function (a, b) {\n                    var m = a[2];\n                    var n = b[2];\n                    return sortingFn(m, n);\n                });\n\n                // Empty the array\n                data.length = 0;\n                groupedData.forEach(function (datum) {\n                    data.push.apply(data, _toConsumableArray(datum[1]));\n                });\n            })();\n        } else {\n            sortMeta = String(sortMeta).toLowerCase() === 'desc' ? 'desc' : 'asc';\n            Object(_merge_sort__WEBPACK_IMPORTED_MODULE_2__[\"mergeSort\"])(data, getSortFn(fDetails.type, sortMeta, fDetails.index));\n        }\n    }\n\n    dataObj.uids = [];\n    data.forEach(function (value) {\n        dataObj.uids.push(value.pop());\n    });\n}\n\n/**\n * Builds the actual data array.\n *\n * @param {Array} fieldStore - An array of field.\n * @param {string} rowDiffset - A string consisting of which rows to be included eg. '0-2,4,6';\n * @param {string} colIdentifier - A string consisting of the details of which column\n * to be included eg 'date,sales,profit';\n * @param {Object} sortingDetails - An object containing the sorting details of the DataModel instance.\n * @param {Object} options - The options required to create the type of the data.\n * @return {Object} Returns an object containing the multidimensional array and the relative schema.\n */\nfunction dataBuilder(fieldStore, rowDiffset, colIdentifier, sortingDetails, options) {\n    var defOptions = {\n        addUid: false,\n        columnWise: false\n    };\n    options = Object.assign({}, defOptions, options);\n\n    var retObj = {\n        schema: [],\n        data: [],\n        uids: []\n    };\n    var addUid = options.addUid;\n    var reqSorting = sortingDetails && sortingDetails.length > 0;\n    // It stores the fields according to the colIdentifier argument\n    var tmpDataArr = [];\n    // Stores the fields according to the colIdentifier argument\n    var colIArr = colIdentifier.split(',');\n\n    colIArr.forEach(function (colName) {\n        for (var i = 0; i < fieldStore.length; i += 1) {\n            if (fieldStore[i].name() === colName) {\n                tmpDataArr.push(fieldStore[i]);\n                break;\n            }\n        }\n    });\n\n    // Inserts the schema to the schema object\n    tmpDataArr.forEach(function (field) {\n        /** @todo Need to use extend2 here otherwise user can overwrite the schema. */\n        retObj.schema.push(field.schema());\n    });\n\n    if (addUid) {\n        retObj.schema.push({\n            name: 'uid',\n            type: 'identifier'\n        });\n    }\n\n    Object(_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_1__[\"rowDiffsetIterator\"])(rowDiffset, function (i) {\n        retObj.data.push([]);\n        var insertInd = retObj.data.length - 1;\n        var start = 0;\n        tmpDataArr.forEach(function (field, ii) {\n            retObj.data[insertInd][ii + start] = field.partialField.data[i];\n        });\n        if (addUid) {\n            retObj.data[insertInd][tmpDataArr.length] = i;\n        }\n        // Creates an array of unique identifiers for each row\n        retObj.uids.push(i);\n\n        // If sorting needed then there is the need to expose the index\n        // mapping from the old index to its new index\n        if (reqSorting) {\n            retObj.data[insertInd].push(i);\n        }\n    });\n\n    // Handles the sort functionality\n    if (reqSorting) {\n        sortData(retObj, sortingDetails);\n    }\n\n    if (options.columnWise) {\n        var tmpData = Array.apply(undefined, _toConsumableArray(Array(retObj.schema.length))).map(function () {\n            return [];\n        });\n        retObj.data.forEach(function (tuple) {\n            tuple.forEach(function (data, i) {\n                tmpData[i].push(data);\n            });\n        });\n        retObj.data = tmpData;\n    }\n\n    return retObj;\n}\n\n/***/ }),\n\n/***/ \"./src/operator/difference.js\":\n/*!************************************!*\\\n  !*** ./src/operator/difference.js ***!\n  \\************************************/\n/*! exports provided: difference */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"difference\", function() { return difference; });\n/* harmony import */ var _datamodel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../datamodel */ \"./src/datamodel.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _row_diffset_iterator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./row-diffset-iterator */ \"./src/operator/row-diffset-iterator.js\");\n/* harmony import */ var _utils_helper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/helper */ \"./src/utils/helper.js\");\n\n\n\n\n\n/**\n * Performs the union operation between two dm instances.\n *\n * @todo Fix the conflicts between union and difference terminology here.\n *\n * @param {dm} dm1 - The first dm instance.\n * @param {dm} dm2 - The second dm instance.\n * @return {dm} Returns the newly created dm after union operation.\n */\nfunction difference(dm1, dm2) {\n    var hashTable = {};\n    var schema = [];\n    var schemaNameArr = [];\n    var data = [];\n    var dm1FieldStore = dm1.getFieldspace();\n    var dm2FieldStore = dm2.getFieldspace();\n    var dm1FieldStoreFieldObj = dm1FieldStore.fieldsObj();\n    var dm2FieldStoreFieldObj = dm2FieldStore.fieldsObj();\n    var name = dm1FieldStore.name + ' union ' + dm2FieldStore.name;\n\n    // For union the columns should match otherwise return a clone of the dm1\n    if (!Object(_utils_helper__WEBPACK_IMPORTED_MODULE_3__[\"isArrEqual\"])(dm1._colIdentifier.split(',').sort(), dm2._colIdentifier.split(',').sort())) {\n        return null;\n    }\n\n    // Prepare the schema\n    dm1._colIdentifier.split(',').forEach(function (fieldName) {\n        var field = dm1FieldStoreFieldObj[fieldName];\n        schema.push(Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"extend2\"])({}, field.schema()));\n        schemaNameArr.push(field.schema().name);\n    });\n\n    /**\n     * The helper function to create the data.\n     *\n     * @param {dm} dm - The dm instance for which the data is inserted.\n     * @param {Object} fieldsObj - The fieldStore object format.\n     * @param {boolean} addData - If true only tuple will be added to the data.\n     */\n    function prepareDataHelper(dm, fieldsObj, addData) {\n        Object(_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_2__[\"rowDiffsetIterator\"])(dm._rowDiffset, function (i) {\n            var tuple = {};\n            var hashData = '';\n            schemaNameArr.forEach(function (schemaName) {\n                var value = fieldsObj[schemaName].partialField.data[i];\n                hashData += '-' + value;\n                tuple[schemaName] = value;\n            });\n            if (!hashTable[hashData]) {\n                if (addData) {\n                    data.push(tuple);\n                }\n                hashTable[hashData] = true;\n            }\n        });\n    }\n\n    // Prepare the data\n    prepareDataHelper(dm2, dm2FieldStoreFieldObj, false);\n    prepareDataHelper(dm1, dm1FieldStoreFieldObj, true);\n\n    return new _datamodel__WEBPACK_IMPORTED_MODULE_0__[\"default\"](data, schema, { name: name });\n}\n\n/***/ }),\n\n/***/ \"./src/operator/get-common-schema.js\":\n/*!*******************************************!*\\\n  !*** ./src/operator/get-common-schema.js ***!\n  \\*******************************************/\n/*! exports provided: getCommonSchema */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getCommonSchema\", function() { return getCommonSchema; });\n/**\n * The helper function that returns an array of common schema\n * from two fieldStore instances.\n *\n * @param {FieldStore} fs1 - The first FieldStore instance.\n * @param {FieldStore} fs2 - The second FieldStore instance.\n * @return {Array} An array containing the common schema.\n */\nfunction getCommonSchema(fs1, fs2) {\n    var retArr = [];\n    var fs1Arr = [];\n    fs1.fields.forEach(function (field) {\n        fs1Arr.push(field.schema().name);\n    });\n    fs2.fields.forEach(function (field) {\n        if (fs1Arr.indexOf(field.schema().name) !== -1) {\n            retArr.push(field.schema().name);\n        }\n    });\n    return retArr;\n}\n\n/***/ }),\n\n/***/ \"./src/operator/group-by-function.js\":\n/*!*******************************************!*\\\n  !*** ./src/operator/group-by-function.js ***!\n  \\*******************************************/\n/*! exports provided: defaultReducerName, defReducer, fnList */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"defaultReducerName\", function() { return defaultReducerName; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"defReducer\", function() { return sum; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fnList\", function() { return fnList; });\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n/**\n * Reducer function that takes care about the sum aggregation\n * @param  {Array} arr array of values\n * @return {number}     sum of the array\n */\nfunction sum(arr) {\n    var allNulls = true;\n    var isNestedArray = arr[0] instanceof Array;\n    var sumVal = arr.reduce(function (carry, a) {\n        if (isNestedArray) {\n            return carry.map(function (x, i) {\n                return x + a[i];\n            });\n        }\n        allNulls = allNulls && a === null;\n        return carry + a;\n    }, isNestedArray ? Array.apply(undefined, _toConsumableArray(Array(arr[0].length))).map(function () {\n        return 0;\n    }) : 0);\n    return allNulls ? null : sumVal;\n}\n\n/**\n * reducer function that takes care about the mean aggregation\n * @param  {Array} arr array of values\n * @return {number}     mean of the array\n */\nfunction avg(arr) {\n    var isNestedArray = arr[0] instanceof Array;\n    var len = arr.length || 1;\n    var arrSum = sum(arr);\n    if (isNestedArray) {\n        return arrSum.map(function (x) {\n            return x / len;\n        });\n    }\n    return arrSum === null ? null : arrSum / len;\n}\n\n/**\n * reducer function that gives the min value\n * @param  {Array} arr array of values\n * @return {number}     min of the array\n */\nfunction min(arr) {\n    var isNestedArray = arr[0] instanceof Array;\n    if (isNestedArray) {\n        return arr.reduce(function (carry, a) {\n            return carry.map(function (x, i) {\n                return Math.min(x, a[i]);\n            });\n        }, Array.apply(undefined, _toConsumableArray(Array(arr[0].length))).map(function () {\n            return Infinity;\n        }));\n    }\n    return arr.every(function (d) {\n        return d === null;\n    }) ? null : Math.min.apply(Math, _toConsumableArray(arr));\n}\n\n/**\n * reducer function that gives the max value\n * @param  {Array} arr array of values\n * @return {number}     max of the array\n */\nfunction max(arr) {\n    var isNestedArray = arr[0] instanceof Array;\n    if (isNestedArray) {\n        return arr.reduce(function (carry, a) {\n            return carry.map(function (x, i) {\n                return Math.max(x, a[i]);\n            });\n        }, Array.apply(undefined, _toConsumableArray(Array(arr[0].length))).map(function () {\n            return -Infinity;\n        }));\n    }\n    return arr.every(function (d) {\n        return d === null;\n    }) ? null : Math.max.apply(Math, _toConsumableArray(arr));\n}\n\n/**\n * reducer function that gives the first value\n * @param  {Array} arr array of values\n * @return {number}     first value of the array\n */\nfunction first(arr) {\n    return arr[0];\n}\n\n/**\n * reducer function that gives the last value\n * @param  {Array} arr array of values\n * @return {number}     last value of the array\n */\nfunction last(arr) {\n    return arr[arr.length - 1];\n}\n\n/**\n * reducer function that gives the count value\n * @param  {Array} arr array of values\n * @return {number}     count of the array\n */\nfunction count(arr) {\n    var isNestedArray = arr[0] instanceof Array;\n    var len = arr.length;\n    if (isNestedArray) {\n        return Array.apply(undefined, _toConsumableArray(Array(arr[0].length))).map(function () {\n            return len;\n        });\n    }\n    return len;\n}\n\n/**\n * Calculates the variance of the input array.\n *\n * @param {Array.<number>} arr - The input array.\n * @return {number} Returns the variance of the input array.\n */\nfunction variance(arr) {\n    var mean = avg(arr);\n    return avg(arr.map(function (num) {\n        return Math.pow(num - mean, 2);\n    }));\n}\n\n/**\n * Calculates the square root of the variance of the input array.\n *\n * @param {Array.<number>} arr - The input array.\n * @return {number} Returns the square root of the variance.\n */\nfunction std(arr) {\n    return Math.sqrt(variance(arr));\n}\n\nvar fnList = {\n    sum: sum,\n    avg: avg,\n    min: min,\n    max: max,\n    first: first,\n    last: last,\n    count: count,\n    std: std\n};\n\nvar defaultReducerName = 'sum';\n\n\n\n/***/ }),\n\n/***/ \"./src/operator/group-by.js\":\n/*!**********************************!*\\\n  !*** ./src/operator/group-by.js ***!\n  \\**********************************/\n/*! exports provided: groupBy, getFieldArr, getReducerObj */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"groupBy\", function() { return groupBy; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getFieldArr\", function() { return getFieldArr; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getReducerObj\", function() { return getReducerObj; });\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _row_diffset_iterator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./row-diffset-iterator */ \"./src/operator/row-diffset-iterator.js\");\n/* harmony import */ var _export__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../export */ \"./src/export.js\");\n/* harmony import */ var _utils_reducer_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/reducer-store */ \"./src/utils/reducer-store.js\");\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../enums */ \"./src/enums/index.js\");\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\n\n\n\n\n\n\n/**\n * This function sanitize the user given field and return a common Array structure field\n * list\n * @param  {DataModel} dataModel the dataModel operating on\n * @param  {Array} fieldArr  user input of field Array\n * @return {Array}           arrays of field name\n */\nfunction getFieldArr(dataModel, fieldArr) {\n    var retArr = [];\n    var fieldStore = dataModel.getFieldspace();\n    var dimensions = fieldStore.getDimension();\n\n    Object.entries(dimensions).forEach(function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 1),\n            key = _ref2[0];\n\n        if (fieldArr && fieldArr.length) {\n            if (fieldArr.indexOf(key) !== -1) {\n                retArr.push(key);\n            }\n        } else {\n            retArr.push(key);\n        }\n    });\n\n    return retArr;\n}\n\n/**\n * This sanitize the reducer provide by the user and create a common type of object.\n * user can give function Also\n * @param  {DataModel} dataModel     dataModel to worked on\n * @param  {Object|function} [reducers={}] reducer provided by the users\n * @return {Object}               object containing reducer function for every measure\n */\nfunction getReducerObj(dataModel) {\n    var reducers = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    var retObj = {};\n    var pReducers = reducers;\n    var fieldStore = dataModel.getFieldspace();\n    var measures = fieldStore.getMeasure();\n    var reducer = _utils_reducer_store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].defaultReducer();\n    if (typeof reducers === 'function') {\n        reducer = reducers;\n    }\n    Object.entries(measures).forEach(function (_ref3) {\n        var _ref4 = _slicedToArray(_ref3, 1),\n            key = _ref4[0];\n\n        if (typeof reducers[key] === 'string') {\n            pReducers[key] = _utils_reducer_store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].resolve(pReducers[key]) ? _utils_reducer_store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].resolve(pReducers[key]) : reducer;\n        }\n        if (typeof reducers[key] !== 'function') {\n            pReducers[key] = undefined;\n        }\n        retObj[key] = pReducers[key] || _utils_reducer_store__WEBPACK_IMPORTED_MODULE_3__[\"default\"].resolve(measures[key].defAggFn()) || reducer;\n    });\n    return retObj;\n}\n\n/**\n * main function which perform the group-by operations which reduce the measures value is the\n * fields are common according to the reducer function provided\n * @param  {DataModel} dataModel the dataModel to worked\n * @param  {Array} fieldArr  fields according to which the groupby should be worked\n * @param  {Object|Function} reducers  reducers function\n * @param {DataModel} existingDataModel Existing datamodel instance\n * @return {DataModel} new dataModel with the group by\n */\nfunction groupBy(dataModel, fieldArr, reducers, existingDataModel) {\n    var sFieldArr = getFieldArr(dataModel, fieldArr);\n    var reducerObj = getReducerObj(dataModel, reducers);\n    var fieldStore = dataModel.getFieldspace();\n    var fieldStoreObj = fieldStore.fieldsObj();\n    var dbName = fieldStore.name;\n    var dimensionArr = [];\n    var measureArr = [];\n    var schema = [];\n    var hashMap = {};\n    var data = [];\n    var newDataModel = void 0;\n\n    // Prepare the schema\n    Object.entries(fieldStoreObj).forEach(function (_ref5) {\n        var _ref6 = _slicedToArray(_ref5, 2),\n            key = _ref6[0],\n            value = _ref6[1];\n\n        if (sFieldArr.indexOf(key) !== -1 || reducerObj[key]) {\n            schema.push(Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"extend2\"])({}, value.schema()));\n\n            switch (value.schema().type) {\n                case _enums__WEBPACK_IMPORTED_MODULE_4__[\"FieldType\"].MEASURE:\n                    measureArr.push(key);\n                    break;\n                default:\n                case _enums__WEBPACK_IMPORTED_MODULE_4__[\"FieldType\"].DIMENSION:\n                    dimensionArr.push(key);\n            }\n        }\n    });\n    // Prepare the data\n    var rowCount = 0;\n    Object(_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_1__[\"rowDiffsetIterator\"])(dataModel._rowDiffset, function (i) {\n        var hash = '';\n        dimensionArr.forEach(function (_) {\n            hash = hash + '-' + fieldStoreObj[_].partialField.data[i];\n        });\n        if (hashMap[hash] === undefined) {\n            hashMap[hash] = rowCount;\n            data.push({});\n            dimensionArr.forEach(function (_) {\n                data[rowCount][_] = fieldStoreObj[_].partialField.data[i];\n            });\n            measureArr.forEach(function (_) {\n                data[rowCount][_] = [fieldStoreObj[_].partialField.data[i]];\n            });\n            rowCount += 1;\n        } else {\n            measureArr.forEach(function (_) {\n                data[hashMap[hash]][_].push(fieldStoreObj[_].partialField.data[i]);\n            });\n        }\n    });\n\n    // reduction\n    var cachedStore = {};\n    var cloneProvider = function cloneProvider() {\n        return dataModel.detachedRoot();\n    };\n    data.forEach(function (row) {\n        var tuple = row;\n        measureArr.forEach(function (_) {\n            tuple[_] = reducerObj[_](row[_], cloneProvider, cachedStore);\n        });\n    });\n    if (existingDataModel) {\n        existingDataModel.__calculateFieldspace();\n        newDataModel = existingDataModel;\n    } else {\n        newDataModel = new _export__WEBPACK_IMPORTED_MODULE_2__[\"default\"](data, schema, { name: dbName });\n    }\n    return newDataModel;\n}\n\n\n\n/***/ }),\n\n/***/ \"./src/operator/index.js\":\n/*!*******************************!*\\\n  !*** ./src/operator/index.js ***!\n  \\*******************************/\n/*! exports provided: createBinnedFieldData, compose, bin, select, project, groupby, calculateVariable, sort, crossProduct, dataBuilder, difference, getCommonSchema, defReducer, fnList, groupBy, getFieldArr, getReducerObj, mergeSort, naturalJoinFilter, naturalJoin, leftOuterJoin, rightOuterJoin, fullOuterJoin, rowDiffsetIterator, union */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _bucket_creator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bucket-creator */ \"./src/operator/bucket-creator.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"createBinnedFieldData\", function() { return _bucket_creator__WEBPACK_IMPORTED_MODULE_0__[\"createBinnedFieldData\"]; });\n\n/* harmony import */ var _compose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./compose */ \"./src/operator/compose.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"compose\", function() { return _compose__WEBPACK_IMPORTED_MODULE_1__[\"compose\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"bin\", function() { return _compose__WEBPACK_IMPORTED_MODULE_1__[\"bin\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"select\", function() { return _compose__WEBPACK_IMPORTED_MODULE_1__[\"select\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"project\", function() { return _compose__WEBPACK_IMPORTED_MODULE_1__[\"project\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"groupby\", function() { return _compose__WEBPACK_IMPORTED_MODULE_1__[\"groupBy\"]; });\n\n/* harmony import */ var _pure_operators__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./pure-operators */ \"./src/operator/pure-operators.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"calculateVariable\", function() { return _pure_operators__WEBPACK_IMPORTED_MODULE_2__[\"calculateVariable\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"sort\", function() { return _pure_operators__WEBPACK_IMPORTED_MODULE_2__[\"sort\"]; });\n\n/* harmony import */ var _cross_product__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cross-product */ \"./src/operator/cross-product.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"crossProduct\", function() { return _cross_product__WEBPACK_IMPORTED_MODULE_3__[\"crossProduct\"]; });\n\n/* harmony import */ var _data_builder__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./data-builder */ \"./src/operator/data-builder.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"dataBuilder\", function() { return _data_builder__WEBPACK_IMPORTED_MODULE_4__[\"dataBuilder\"]; });\n\n/* harmony import */ var _difference__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./difference */ \"./src/operator/difference.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"difference\", function() { return _difference__WEBPACK_IMPORTED_MODULE_5__[\"difference\"]; });\n\n/* harmony import */ var _get_common_schema__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./get-common-schema */ \"./src/operator/get-common-schema.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getCommonSchema\", function() { return _get_common_schema__WEBPACK_IMPORTED_MODULE_6__[\"getCommonSchema\"]; });\n\n/* harmony import */ var _group_by_function__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./group-by-function */ \"./src/operator/group-by-function.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"defReducer\", function() { return _group_by_function__WEBPACK_IMPORTED_MODULE_7__[\"defReducer\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"fnList\", function() { return _group_by_function__WEBPACK_IMPORTED_MODULE_7__[\"fnList\"]; });\n\n/* harmony import */ var _group_by__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./group-by */ \"./src/operator/group-by.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"groupBy\", function() { return _group_by__WEBPACK_IMPORTED_MODULE_8__[\"groupBy\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getFieldArr\", function() { return _group_by__WEBPACK_IMPORTED_MODULE_8__[\"getFieldArr\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getReducerObj\", function() { return _group_by__WEBPACK_IMPORTED_MODULE_8__[\"getReducerObj\"]; });\n\n/* harmony import */ var _merge_sort__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./merge-sort */ \"./src/operator/merge-sort.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"mergeSort\", function() { return _merge_sort__WEBPACK_IMPORTED_MODULE_9__[\"mergeSort\"]; });\n\n/* harmony import */ var _natural_join_filter_function__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./natural-join-filter-function */ \"./src/operator/natural-join-filter-function.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"naturalJoinFilter\", function() { return _natural_join_filter_function__WEBPACK_IMPORTED_MODULE_10__[\"naturalJoinFilter\"]; });\n\n/* harmony import */ var _natural_join__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./natural-join */ \"./src/operator/natural-join.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"naturalJoin\", function() { return _natural_join__WEBPACK_IMPORTED_MODULE_11__[\"naturalJoin\"]; });\n\n/* harmony import */ var _outer_join__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./outer-join */ \"./src/operator/outer-join.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"leftOuterJoin\", function() { return _outer_join__WEBPACK_IMPORTED_MODULE_12__[\"leftOuterJoin\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"rightOuterJoin\", function() { return _outer_join__WEBPACK_IMPORTED_MODULE_12__[\"rightOuterJoin\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"fullOuterJoin\", function() { return _outer_join__WEBPACK_IMPORTED_MODULE_12__[\"fullOuterJoin\"]; });\n\n/* harmony import */ var _row_diffset_iterator__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./row-diffset-iterator */ \"./src/operator/row-diffset-iterator.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"rowDiffsetIterator\", function() { return _row_diffset_iterator__WEBPACK_IMPORTED_MODULE_13__[\"rowDiffsetIterator\"]; });\n\n/* harmony import */ var _union__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./union */ \"./src/operator/union.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"union\", function() { return _union__WEBPACK_IMPORTED_MODULE_14__[\"union\"]; });\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/***/ }),\n\n/***/ \"./src/operator/merge-sort.js\":\n/*!************************************!*\\\n  !*** ./src/operator/merge-sort.js ***!\n  \\************************************/\n/*! exports provided: mergeSort */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mergeSort\", function() { return mergeSort; });\n/**\n * The default sort function.\n *\n * @param {*} a - The first value.\n * @param {*} b - The second value.\n * @return {number} Returns the comparison result e.g. 1 or 0 or -1.\n */\nfunction defSortFn(a, b) {\n    var a1 = \"\" + a;\n    var b1 = \"\" + b;\n    if (a1 < b1) {\n        return -1;\n    }\n    if (a1 > b1) {\n        return 1;\n    }\n    return 0;\n}\n\n/**\n * The helper function for merge sort which creates the sorted array\n * from the two halves of the input array.\n *\n * @param {Array} arr - The target array which needs to be merged.\n * @param {number} lo - The starting index of the first array half.\n * @param {number} mid - The ending index of the first array half.\n * @param {number} hi - The ending index of the second array half.\n * @param {Function} sortFn - The sort function.\n */\nfunction merge(arr, lo, mid, hi, sortFn) {\n    var mainArr = arr;\n    var auxArr = [];\n    for (var i = lo; i <= hi; i += 1) {\n        auxArr[i] = mainArr[i];\n    }\n    var a = lo;\n    var b = mid + 1;\n\n    for (var _i = lo; _i <= hi; _i += 1) {\n        if (a > mid) {\n            mainArr[_i] = auxArr[b];\n            b += 1;\n        } else if (b > hi) {\n            mainArr[_i] = auxArr[a];\n            a += 1;\n        } else if (sortFn(auxArr[a], auxArr[b]) <= 0) {\n            mainArr[_i] = auxArr[a];\n            a += 1;\n        } else {\n            mainArr[_i] = auxArr[b];\n            b += 1;\n        }\n    }\n}\n\n/**\n * The helper function for merge sort which would be called\n * recursively for sorting the array halves.\n *\n * @param {Array} arr - The target array which needs to be sorted.\n * @param {number} lo - The starting index of the array half.\n * @param {number} hi - The ending index of the array half.\n * @param {Function} sortFn - The sort function.\n * @return {Array} Returns the target array itself.\n */\nfunction sort(arr, lo, hi, sortFn) {\n    if (hi === lo) {\n        return arr;\n    }\n\n    var mid = lo + Math.floor((hi - lo) / 2);\n    sort(arr, lo, mid, sortFn);\n    sort(arr, mid + 1, hi, sortFn);\n    merge(arr, lo, mid, hi, sortFn);\n\n    return arr;\n}\n\n/**\n * The implementation of merge sort.\n * It is used in DataModel for stable sorting as it is not sure\n * what the sorting algorithm used by browsers is stable or not.\n *\n * @param {Array} arr - The target array which needs to be sorted.\n * @param {Function} [sortFn=defSortFn] - The sort function.\n * @return {Array} Returns the input array itself in sorted order.\n */\nfunction mergeSort(arr) {\n    var sortFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defSortFn;\n\n    if (arr.length > 1) {\n        sort(arr, 0, arr.length - 1, sortFn);\n    }\n    return arr;\n}\n\n/***/ }),\n\n/***/ \"./src/operator/natural-join-filter-function.js\":\n/*!******************************************************!*\\\n  !*** ./src/operator/natural-join-filter-function.js ***!\n  \\******************************************************/\n/*! exports provided: naturalJoinFilter */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"naturalJoinFilter\", function() { return naturalJoinFilter; });\n/* harmony import */ var _get_common_schema__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./get-common-schema */ \"./src/operator/get-common-schema.js\");\n\n\n/**\n * The filter function used in natural join.\n * It generates a function that will have the logic to join two\n * DataModel instances by the process of natural join.\n *\n * @param {DataModel} dm1 - The left DataModel instance.\n * @param {DataModel} dm2 - The right DataModel instance.\n * @return {Function} Returns a function that is used in cross-product operation.\n */\nfunction naturalJoinFilter(dm1, dm2) {\n    var dm1FieldStore = dm1.getFieldspace();\n    var dm2FieldStore = dm2.getFieldspace();\n    // const dm1FieldStoreName = dm1FieldStore.name;\n    // const dm2FieldStoreName = dm2FieldStore.name;\n    var commonSchemaArr = Object(_get_common_schema__WEBPACK_IMPORTED_MODULE_0__[\"getCommonSchema\"])(dm1FieldStore, dm2FieldStore);\n\n    return function (dm1Fields, dm2Fields) {\n        var retainTuple = true;\n        commonSchemaArr.forEach(function (fieldName) {\n            if (dm1Fields[fieldName].value === dm2Fields[fieldName].value && retainTuple) {\n                retainTuple = true;\n            } else {\n                retainTuple = false;\n            }\n        });\n        return retainTuple;\n    };\n}\n\n/***/ }),\n\n/***/ \"./src/operator/natural-join.js\":\n/*!**************************************!*\\\n  !*** ./src/operator/natural-join.js ***!\n  \\**************************************/\n/*! exports provided: naturalJoin */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"naturalJoin\", function() { return naturalJoin; });\n/* harmony import */ var _cross_product__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cross-product */ \"./src/operator/cross-product.js\");\n/* harmony import */ var _natural_join_filter_function__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./natural-join-filter-function */ \"./src/operator/natural-join-filter-function.js\");\n\n\n\nfunction naturalJoin(dataModel1, dataModel2) {\n    return Object(_cross_product__WEBPACK_IMPORTED_MODULE_0__[\"crossProduct\"])(dataModel1, dataModel2, Object(_natural_join_filter_function__WEBPACK_IMPORTED_MODULE_1__[\"naturalJoinFilter\"])(dataModel1, dataModel2), true);\n}\n\n/***/ }),\n\n/***/ \"./src/operator/outer-join.js\":\n/*!************************************!*\\\n  !*** ./src/operator/outer-join.js ***!\n  \\************************************/\n/*! exports provided: leftOuterJoin, rightOuterJoin, fullOuterJoin */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"leftOuterJoin\", function() { return leftOuterJoin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rightOuterJoin\", function() { return rightOuterJoin; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fullOuterJoin\", function() { return fullOuterJoin; });\n/* harmony import */ var _cross_product__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./cross-product */ \"./src/operator/cross-product.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../constants */ \"./src/constants/index.js\");\n/* harmony import */ var _union__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./union */ \"./src/operator/union.js\");\n\n\n\n\nfunction leftOuterJoin(dataModel1, dataModel2, filterFn) {\n    return Object(_cross_product__WEBPACK_IMPORTED_MODULE_0__[\"crossProduct\"])(dataModel1, dataModel2, filterFn, false, _constants__WEBPACK_IMPORTED_MODULE_1__[\"JOINS\"].LEFTOUTER);\n}\n\nfunction rightOuterJoin(dataModel1, dataModel2, filterFn) {\n    return Object(_cross_product__WEBPACK_IMPORTED_MODULE_0__[\"crossProduct\"])(dataModel2, dataModel1, filterFn, false, _constants__WEBPACK_IMPORTED_MODULE_1__[\"JOINS\"].RIGHTOUTER);\n}\n\nfunction fullOuterJoin(dataModel1, dataModel2, filterFn) {\n    return Object(_union__WEBPACK_IMPORTED_MODULE_2__[\"union\"])(leftOuterJoin(dataModel1, dataModel2, filterFn), rightOuterJoin(dataModel1, dataModel2, filterFn));\n}\n\n/***/ }),\n\n/***/ \"./src/operator/pure-operators.js\":\n/*!****************************************!*\\\n  !*** ./src/operator/pure-operators.js ***!\n  \\****************************************/\n/*! exports provided: calculateVariable, sort */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"calculateVariable\", function() { return calculateVariable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sort\", function() { return sort; });\n/**\n * Wrapper on calculateVariable() method of DataModel to behave\n * the pure-function functionality.\n *\n * @param {Array} args - The argument list.\n * @return {any} Returns the returned value of calling function.\n */\nvar calculateVariable = function calculateVariable() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  return function (dm) {\n    return dm.calculateVariable.apply(dm, args);\n  };\n};\n\n/**\n * Wrapper on sort() method of DataModel to behave\n * the pure-function functionality.\n *\n * @param {Array} args - The argument list.\n * @return {any} Returns the returned value of calling function.\n */\nvar sort = function sort() {\n  for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  return function (dm) {\n    return dm.sort.apply(dm, args);\n  };\n};\n\n/***/ }),\n\n/***/ \"./src/operator/row-diffset-iterator.js\":\n/*!**********************************************!*\\\n  !*** ./src/operator/row-diffset-iterator.js ***!\n  \\**********************************************/\n/*! exports provided: rowDiffsetIterator */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rowDiffsetIterator\", function() { return rowDiffsetIterator; });\n/**\n * Iterates through the diffSet array and call the callback with the current\n * index.\n *\n * @param {string} rowDiffset - The row diffset string e.g. '0-4,6,10-13'.\n * @param {Function} callback - The callback function to be called with every index.\n */\nfunction rowDiffsetIterator(rowDiffset, callback) {\n    if (rowDiffset.length > 0) {\n        var rowDiffArr = rowDiffset.split(',');\n        rowDiffArr.forEach(function (diffStr) {\n            var diffStsArr = diffStr.split('-');\n            var start = +diffStsArr[0];\n            var end = +(diffStsArr[1] || diffStsArr[0]);\n            if (end >= start) {\n                for (var i = start; i <= end; i += 1) {\n                    callback(i);\n                }\n            }\n        });\n    }\n}\n\n/***/ }),\n\n/***/ \"./src/operator/union.js\":\n/*!*******************************!*\\\n  !*** ./src/operator/union.js ***!\n  \\*******************************/\n/*! exports provided: union */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"union\", function() { return union; });\n/* harmony import */ var _export__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../export */ \"./src/export.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils */ \"./src/utils/index.js\");\n/* harmony import */ var _row_diffset_iterator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./row-diffset-iterator */ \"./src/operator/row-diffset-iterator.js\");\n/* harmony import */ var _utils_helper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/helper */ \"./src/utils/helper.js\");\n\n\n\n\n/**\n * Performs the union operation between two dm instances.\n *\n * @param {dm} dm1 - The first dm instance.\n * @param {dm} dm2 - The second dm instance.\n * @return {dm} Returns the newly created dm after union operation.\n */\nfunction union(dm1, dm2) {\n    var hashTable = {};\n    var schema = [];\n    var schemaNameArr = [];\n    var data = [];\n    var dm1FieldStore = dm1.getFieldspace();\n    var dm2FieldStore = dm2.getFieldspace();\n    var dm1FieldStoreFieldObj = dm1FieldStore.fieldsObj();\n    var dm2FieldStoreFieldObj = dm2FieldStore.fieldsObj();\n    var name = dm1FieldStore.name + ' union ' + dm2FieldStore.name;\n\n    // For union the columns should match otherwise return a clone of the dm1\n    if (!Object(_utils_helper__WEBPACK_IMPORTED_MODULE_3__[\"isArrEqual\"])(dm1._colIdentifier.split(',').sort(), dm2._colIdentifier.split(',').sort())) {\n        return null;\n    }\n\n    // Prepare the schema\n    dm1._colIdentifier.split(',').forEach(function (fieldName) {\n        var field = dm1FieldStoreFieldObj[fieldName];\n        schema.push(Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"extend2\"])({}, field.schema()));\n        schemaNameArr.push(field.schema().name);\n    });\n\n    /**\n     * The helper function to create the data.\n     *\n     * @param {dm} dm - The dm instance for which the data is inserted.\n     * @param {Object} fieldsObj - The fieldStore object format.\n     */\n    function prepareDataHelper(dm, fieldsObj) {\n        Object(_row_diffset_iterator__WEBPACK_IMPORTED_MODULE_2__[\"rowDiffsetIterator\"])(dm._rowDiffset, function (i) {\n            var tuple = {};\n            var hashData = '';\n            schemaNameArr.forEach(function (schemaName) {\n                var value = fieldsObj[schemaName].partialField.data[i];\n                hashData += '-' + value;\n                tuple[schemaName] = value;\n            });\n            if (!hashTable[hashData]) {\n                data.push(tuple);\n                hashTable[hashData] = true;\n            }\n        });\n    }\n\n    // Prepare the data\n    prepareDataHelper(dm1, dm1FieldStoreFieldObj);\n    prepareDataHelper(dm2, dm2FieldStoreFieldObj);\n\n    return new _export__WEBPACK_IMPORTED_MODULE_0__[\"default\"](data, schema, { name: name });\n}\n\n/***/ }),\n\n/***/ \"./src/relation.js\":\n/*!*************************!*\\\n  !*** ./src/relation.js ***!\n  \\*************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./enums */ \"./src/enums/index.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"./src/utils/index.js\");\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./helper */ \"./src/helper.js\");\n/* harmony import */ var _operator__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./operator */ \"./src/operator/index.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./constants */ \"./src/constants/index.js\");\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\n\n/**\n * Relation provides the definitions of basic operators of relational algebra like *selection*, *projection*, *union*,\n * *difference* etc.\n *\n * It is extended by {@link DataModel} to inherit the functionalities of relational algebra concept.\n *\n * @class\n * @public\n * @module Relation\n * @namespace DataModel\n */\n\nvar Relation = function () {\n\n    /**\n     * Creates a new Relation instance by providing underlying data and schema.\n     *\n     * @private\n     *\n     * @param {Object | string | Relation} data - The input tabular data in dsv or json format or\n     * an existing Relation instance object.\n     * @param {Array} schema - An array of data schema.\n     * @param {Object} [options] - The optional options.\n     */\n    function Relation() {\n        _classCallCheck(this, Relation);\n\n        var source = void 0;\n\n        this._parent = null;\n        this._derivation = [];\n        this._children = [];\n\n        for (var _len = arguments.length, params = Array(_len), _key = 0; _key < _len; _key++) {\n            params[_key] = arguments[_key];\n        }\n\n        if (params.length === 1 && (source = params[0]) instanceof Relation) {\n            // parent datamodel was passed as part of source\n            this._colIdentifier = source._colIdentifier;\n            this._rowDiffset = source._rowDiffset;\n            this._dataFormat = source._dataFormat;\n            this._parent = source;\n            this._partialFieldspace = this._parent._partialFieldspace;\n            this._fieldStoreName = Object(_utils__WEBPACK_IMPORTED_MODULE_1__[\"getUniqueId\"])();\n            this.__calculateFieldspace().calculateFieldsConfig();\n        } else {\n            _helper__WEBPACK_IMPORTED_MODULE_2__[\"updateData\"].apply(undefined, [this].concat(params));\n            this._fieldStoreName = this._partialFieldspace.name;\n            this.__calculateFieldspace().calculateFieldsConfig();\n            this._propagationNameSpace = {\n                mutableActions: {},\n                immutableActions: {}\n            };\n        }\n    }\n\n    /**\n     * Retrieves the {@link Schema | schema} details for every {@link Field | field} as an array.\n     *\n     * @public\n     *\n     * @return {Array.<Schema>} Array of fields schema.\n     *      ```\n     *      [\n     *          { name: 'Name', type: 'dimension' },\n     *          { name: 'Miles_per_Gallon', type: 'measure', numberFormat: (val) => `${val} miles / gallon` },\n     *          { name: 'Cylinder', type: 'dimension' },\n     *          { name: 'Displacement', type: 'measure', defAggFn: 'max' },\n     *          { name: 'HorsePower', type: 'measure', defAggFn: 'max' },\n     *          { name: 'Weight_in_lbs', type: 'measure', defAggFn: 'avg',  },\n     *          { name: 'Acceleration', type: 'measure', defAggFn: 'avg' },\n     *          { name: 'Year', type: 'dimension', subtype: 'datetime', format: '%Y' },\n     *          { name: 'Origin' }\n     *      ]\n     *      ```\n     */\n\n\n    _createClass(Relation, [{\n        key: 'getSchema',\n        value: function getSchema() {\n            return this.getFieldspace().fields.map(function (d) {\n                return d.schema();\n            });\n        }\n\n        /**\n         * Returns the name of the {@link DataModel} instance. If no name was specified during {@link DataModel}\n         * initialization, then it returns a auto-generated name.\n         *\n         * @public\n         *\n         * @return {string} Name of the DataModel instance.\n         */\n\n    }, {\n        key: 'getName',\n        value: function getName() {\n            return this._fieldStoreName;\n        }\n    }, {\n        key: 'getFieldspace',\n        value: function getFieldspace() {\n            return this._fieldspace;\n        }\n    }, {\n        key: '__calculateFieldspace',\n        value: function __calculateFieldspace() {\n            this._fieldspace = Object(_helper__WEBPACK_IMPORTED_MODULE_2__[\"updateFields\"])([this._rowDiffset, this._colIdentifier], this.getPartialFieldspace(), this._fieldStoreName);\n            return this;\n        }\n    }, {\n        key: 'getPartialFieldspace',\n        value: function getPartialFieldspace() {\n            return this._partialFieldspace;\n        }\n\n        /**\n         * Performs {@link link_of_cross_product | cross-product} between two {@link DataModel} instances and returns a\n         * new {@link DataModel} instance containing the results. This operation is also called theta join.\n         *\n         * Cross product takes two set and create one set where each value of one set is paired with each value of another\n         * set.\n         *\n         * This method takes an optional predicate which filters the generated result rows. If the predicate returns true\n         * the combined row is included in the resulatant table.\n         *\n         * @example\n         *  let originDM = dm.project(['Origin','Origin_Formal_Name']);\n         *  let carsDM = dm.project(['Name','Miles_per_Gallon','Origin'])\n         *\n         *  console.log(carsDM.join(originDM)));\n         *\n         *  console.log(carsDM.join(originDM,\n         *      obj => obj.[originDM.getName()].Origin === obj.[carsDM.getName()].Origin));\n         *\n         * @text\n         * This is chained version of `join` operator. `join` can also be used as\n         * {@link link_to_join_op | functional operator}.\n         *\n         * @public\n         *\n         * @param {DataModel} joinWith - The DataModel to be joined with the current instance DataModel.\n         * @param {SelectionPredicate} filterFn - The predicate function that will filter the result of the crossProduct.\n         *\n         * @return {DataModel} New DataModel instance created after joining.\n         */\n\n    }, {\n        key: 'join',\n        value: function join(joinWith, filterFn) {\n            return Object(_operator__WEBPACK_IMPORTED_MODULE_3__[\"crossProduct\"])(this, joinWith, filterFn);\n        }\n\n        /**\n         * {@link natural_join | Natural join} is a special kind of cross-product join where filtering of rows are performed\n         * internally by resolving common fields are from both table and the rows with common value are included.\n         *\n         * @example\n         *  let originDM = dm.project(['Origin','Origin_Formal_Name']);\n         *  let carsDM = dm.project(['Name','Miles_per_Gallon','Origin'])\n         *\n         *  console.log(carsDM.naturalJoin(originDM));\n         *\n         * @text\n         * This is chained version of `naturalJoin` operator. `naturalJoin` can also be used as\n         * {@link link_to_join_op | functional operator}.\n         *\n         * @public\n         *\n         * @param {DataModel} joinWith - The DataModel with which the current instance of DataModel on which the method is\n         *      called will be joined.\n         * @return {DataModel} New DataModel instance created after joining.\n         */\n\n    }, {\n        key: 'naturalJoin',\n        value: function naturalJoin(joinWith) {\n            return Object(_operator__WEBPACK_IMPORTED_MODULE_3__[\"crossProduct\"])(this, joinWith, Object(_operator__WEBPACK_IMPORTED_MODULE_3__[\"naturalJoinFilter\"])(this, joinWith), true);\n        }\n\n        /**\n         * {@link link_to_union | Union} operation can be termed as vertical stacking of all rows from both the DataModel\n         * instances, provided that both of the {@link DataModel} instances should have same column names.\n         *\n         * @example\n         * console.log(EuropeanMakerDM.union(USAMakerDM));\n         *\n         * @text\n         * This is chained version of `naturalJoin` operator. `naturalJoin` can also be used as\n         * {@link link_to_join_op | functional operator}.\n         *\n         * @public\n         *\n         * @param {DataModel} unionWith - DataModel instance for which union has to be applied with the instance on which\n         *      the method is called\n         *\n         * @return {DataModel} New DataModel instance with the result of the operation\n         */\n\n    }, {\n        key: 'union',\n        value: function union(unionWith) {\n            return Object(_operator__WEBPACK_IMPORTED_MODULE_3__[\"union\"])(this, unionWith);\n        }\n\n        /**\n         * {@link link_to_difference | Difference } operation only include rows which are present in the datamodel on which\n         * it was called but not on the one passed as argument.\n         *\n         * @example\n         * console.log(highPowerDM.difference(highExpensiveDM));\n         *\n         * @text\n         * This is chained version of `naturalJoin` operator. `naturalJoin` can also be used as\n         * {@link link_to_join_op | functional operator}.\n         *\n         * @public\n         *\n         * @param {DataModel} differenceWith - DataModel instance for which difference has to be applied with the instance\n         *      on which the method is called\n         * @return {DataModel} New DataModel instance with the result of the operation\n         */\n\n    }, {\n        key: 'difference',\n        value: function difference(differenceWith) {\n            return Object(_operator__WEBPACK_IMPORTED_MODULE_3__[\"difference\"])(this, differenceWith);\n        }\n\n        /**\n         * {@link link_to_selection | Selection} is a row filtering operation. It expects a predicate and an optional mode\n         * which control which all rows should be included in the resultant DataModel instance.\n         *\n         * {@link SelectionPredicate} is a function which returns a boolean value. For selection operation the selection\n         * function is called for each row of DataModel instance with the current row passed as argument.\n         *\n         * After executing {@link SelectionPredicate} the rows are labeled as either an entry of selection set or an entry\n         * of rejection set.\n         *\n         * {@link FilteringMode} operates on the selection and rejection set to determine which one would reflect in the\n         * resultant datamodel.\n         *\n         * @warning\n         * Selection and rejection set is only a logical idea for concept explanation purpose.\n         *\n         * @example\n         *  // with selection mode NORMAL:\n         *  const normDt = dt.select(fields => fields.Origin.value === \"USA\")\n         *  console.log(normDt));\n         *\n         * // with selection mode INVERSE:\n         * const inverDt = dt.select(fields => fields.Origin.value === \"USA\", { mode: DataModel.FilteringMode.INVERSE })\n         * console.log(inverDt);\n         *\n         * // with selection mode ALL:\n         * const dtArr = dt.select(fields => fields.Origin.value === \"USA\", { mode: DataModel.FilteringMode.ALL })\n         * // print the selected parts\n         * console.log(dtArr[0]);\n         * // print the inverted parts\n         * console.log(dtArr[1]);\n         *\n         * @text\n         * This is chained version of `select` operator. `select` can also be used as\n         * {@link link_to_join_op | functional operator}.\n         *\n         * @public\n         *\n         * @param {Function} selectFn - The predicate function which is called for each row with the current row.\n         * ```\n         *  function (row, i, cloneProvider, store)  { ... }\n         * ```\n         * @param {Object} config - The configuration object to control the inclusion exclusion of a row in resultant\n         * DataModel instance.\n         * @param {FilteringMode} [config.mode=FilteringMode.NORMAL] - The mode of the selection.\n         * @return {DataModel} Returns the new DataModel instance(s) after operation.\n         */\n\n    }, {\n        key: 'select',\n        value: function select(selectFn, config) {\n            var defConfig = {\n                mode: _enums__WEBPACK_IMPORTED_MODULE_0__[\"FilteringMode\"].NORMAL,\n                saveChild: true\n            };\n            config = Object.assign({}, defConfig, config);\n\n            var cloneConfig = { saveChild: config.saveChild };\n            var oDm = void 0;\n\n            if (config.mode === _enums__WEBPACK_IMPORTED_MODULE_0__[\"FilteringMode\"].ALL) {\n                var selectDm = Object(_helper__WEBPACK_IMPORTED_MODULE_2__[\"cloneWithSelect\"])(this, selectFn, { mode: _enums__WEBPACK_IMPORTED_MODULE_0__[\"FilteringMode\"].NORMAL }, cloneConfig);\n                var rejectDm = Object(_helper__WEBPACK_IMPORTED_MODULE_2__[\"cloneWithSelect\"])(this, selectFn, { mode: _enums__WEBPACK_IMPORTED_MODULE_0__[\"FilteringMode\"].INVERSE }, cloneConfig);\n                oDm = [selectDm, rejectDm];\n            } else {\n                oDm = Object(_helper__WEBPACK_IMPORTED_MODULE_2__[\"cloneWithSelect\"])(this, selectFn, config, cloneConfig);\n            }\n\n            return oDm;\n        }\n\n        /**\n         * Retrieves a boolean value if the current {@link DataModel} instance has data.\n         *\n         * @example\n         * const schema = [\n         *    { name: 'CarName', type: 'dimension' },\n         *    { name: 'HorsePower', type: 'measure' },\n         *    { name: \"Origin\", type: 'dimension' }\n         * ];\n         * const data = [];\n         *\n         * const dt = new DataModel(schema, data);\n         * console.log(dt.isEmpty());\n         *\n         * @public\n         *\n         * @return {Boolean} True if the datamodel has no data, otherwise false.\n         */\n\n    }, {\n        key: 'isEmpty',\n        value: function isEmpty() {\n            return !this._rowDiffset.length || !this._colIdentifier.length;\n        }\n\n        /**\n         * Creates a clone from the current DataModel instance with child parent relationship.\n         *\n         * @private\n         * @param {boolean} [saveChild=true] - Whether the cloned instance would be recorded in the parent instance.\n         * @return {DataModel} - Returns the newly cloned DataModel instance.\n         */\n\n    }, {\n        key: 'clone',\n        value: function clone() {\n            var saveChild = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n            var linkParent = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n\n            var retDataModel = void 0;\n            if (linkParent === false) {\n                var dataObj = this.getData({\n                    getAllFields: true\n                });\n                var data = dataObj.data;\n                var schema = dataObj.schema;\n                var jsonData = data.map(function (row) {\n                    var rowObj = {};\n                    schema.forEach(function (field, i) {\n                        rowObj[field.name] = row[i];\n                    });\n                    return rowObj;\n                });\n                retDataModel = new this.constructor(jsonData, schema);\n            } else {\n                retDataModel = new this.constructor(this);\n            }\n\n            if (saveChild) {\n                this._children.push(retDataModel);\n            }\n            return retDataModel;\n        }\n\n        /**\n         * {@link Projection} is filter column (field) operation. It expects list of fields' name and either include those\n         * or exclude those based on {@link FilteringMode} on the resultant variable.\n         *\n         * Projection expects array of fields name based on which it creates the selection and rejection set. All the field\n         * whose name is present in array goes in selection set and rest of the fields goes in rejection set.\n         *\n         * {@link FilteringMode} operates on the selection and rejection set to determine which one would reflect in the\n         * resulatant datamodel.\n         *\n         * @warning\n         * Selection and rejection set is only a logical idea for concept explanation purpose.\n         *\n         * @example\n         *  const dm = new DataModel(schema, data);\n         *\n         *  // with projection mode NORMAL:\n         *  const normDt = dt.project([\"Name\", \"HorsePower\"]);\n         *  console.log(normDt.getData());\n         *\n         *  // with projection mode INVERSE:\n         *  const inverDt = dt.project([\"Name\", \"HorsePower\"], { mode: DataModel.FilteringMode.INVERSE })\n         *  console.log(inverDt.getData());\n         *\n         *  // with selection mode ALL:\n         *  const dtArr = dt.project([\"Name\", \"HorsePower\"], { mode: DataModel.FilteringMode.ALL })\n         *  // print the normal parts\n         *  console.log(dtArr[0].getData());\n         *  // print the inverted parts\n         *  console.log(dtArr[1].getData());\n         *\n         * @text\n         * This is chained version of `select` operator. `select` can also be used as\n         * {@link link_to_join_op | functional operator}.\n         *\n         * @public\n         *\n         * @param {Array.<string | Regexp>} projField - An array of column names in string or regular expression.\n         * @param {Object} [config] - An optional config to control the creation of new DataModel\n         * @param {FilteringMode} [config.mode=FilteringMode.NORMAL] - Mode of the projection\n         *\n         * @return {DataModel} Returns the new DataModel instance after operation.\n         */\n\n    }, {\n        key: 'project',\n        value: function project(projField, config) {\n            var defConfig = {\n                mode: _enums__WEBPACK_IMPORTED_MODULE_0__[\"FilteringMode\"].NORMAL,\n                saveChild: true\n            };\n            config = Object.assign({}, defConfig, config);\n            var fieldConfig = this.getFieldsConfig();\n            var allFields = Object.keys(fieldConfig);\n            var _config = config,\n                mode = _config.mode;\n\n\n            var normalizedProjField = projField.reduce(function (acc, field) {\n                if (field.constructor.name === 'RegExp') {\n                    acc.push.apply(acc, _toConsumableArray(allFields.filter(function (fieldName) {\n                        return fieldName.search(field) !== -1;\n                    })));\n                } else if (field in fieldConfig) {\n                    acc.push(field);\n                }\n                return acc;\n            }, []);\n\n            normalizedProjField = Array.from(new Set(normalizedProjField)).map(function (field) {\n                return field.trim();\n            });\n            var dataModel = void 0;\n\n            if (mode === _enums__WEBPACK_IMPORTED_MODULE_0__[\"FilteringMode\"].ALL) {\n                var projectionClone = Object(_helper__WEBPACK_IMPORTED_MODULE_2__[\"cloneWithProject\"])(this, normalizedProjField, {\n                    mode: _enums__WEBPACK_IMPORTED_MODULE_0__[\"FilteringMode\"].NORMAL,\n                    saveChild: config.saveChild\n                }, allFields);\n                var rejectionClone = Object(_helper__WEBPACK_IMPORTED_MODULE_2__[\"cloneWithProject\"])(this, normalizedProjField, {\n                    mode: _enums__WEBPACK_IMPORTED_MODULE_0__[\"FilteringMode\"].INVERSE,\n                    saveChild: config.saveChild\n                }, allFields);\n                dataModel = [projectionClone, rejectionClone];\n            } else {\n                var _projectionClone = Object(_helper__WEBPACK_IMPORTED_MODULE_2__[\"cloneWithProject\"])(this, normalizedProjField, config, allFields);\n                dataModel = _projectionClone;\n            }\n\n            return dataModel;\n        }\n    }, {\n        key: 'getFieldsConfig',\n        value: function getFieldsConfig() {\n            return this._fieldConfig;\n        }\n    }, {\n        key: 'calculateFieldsConfig',\n        value: function calculateFieldsConfig() {\n            this._fieldConfig = this._fieldspace.fields.reduce(function (acc, fieldDef, i) {\n                acc[fieldDef.name()] = {\n                    index: i,\n                    def: { name: fieldDef.name(), type: fieldDef.type(), subtype: fieldDef.subtype() }\n                };\n                return acc;\n            }, {});\n            return this;\n        }\n\n        /**\n         * Frees up the resources associated with the current DataModel instance and breaks all the links instance has in\n         * the DAG.\n         *\n         * @public\n         */\n\n    }, {\n        key: 'dispose',\n        value: function dispose() {\n            this._parent.removeChild(this);\n            this._parent = null;\n        }\n\n        /**\n         * Removes the specified child {@link DataModel} from the child list of the current {@link DataModel} instance.\n         *\n         * @example\n         * const schema = [\n         *    { name: 'Name', type: 'dimension' },\n         *    { name: 'HorsePower', type: 'measure' },\n         *    { name: \"Origin\", type: 'dimension' }\n         * ];\n         *\n         * const data = [\n         *    { Name: \"chevrolet chevelle malibu\", Horsepower: 130, Origin: \"USA\" },\n         *    { Name: \"citroen ds-21 pallas\", Horsepower: 115, Origin: \"Europe\" },\n         *    { Name: \"datsun pl510\", Horsepower: 88, Origin: \"Japan\" },\n         *    { Name: \"amc rebel sst\", Horsepower: 150, Origin: \"USA\"},\n         * ]\n         *\n         * const dt = new DataModel(schema, data);\n         *\n         * const dt2 = dt.select(fields => fields.Origin.value === \"USA\")\n         * dt.removeChild(dt2);\n         *\n         * @private\n         *\n         * @param {DataModel} child - Delegates the parent to remove this child.\n         */\n\n    }, {\n        key: 'removeChild',\n        value: function removeChild(child) {\n            var idx = this._children.findIndex(function (sibling) {\n                return sibling === child;\n            });\n            idx !== -1 ? this._children.splice(idx, 1) : true;\n        }\n\n        /**\n         * Adds the specified {@link DataModel} as a parent for the current {@link DataModel} instance.\n         *\n         * The optional criteriaQueue is an array containing the history of transaction performed on parent\n         *  {@link DataModel} to get the current one.\n         *\n         * @param {DataModel} parent - The datamodel instance which will act as parent.\n         * @param {Array} criteriaQueue - Queue contains in-between operation meta-data.\n         */\n\n    }, {\n        key: 'addParent',\n        value: function addParent(parent) {\n            var criteriaQueue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n            Object(_helper__WEBPACK_IMPORTED_MODULE_2__[\"persistDerivation\"])(this, _constants__WEBPACK_IMPORTED_MODULE_4__[\"DM_DERIVATIVES\"].COMPOSE, null, criteriaQueue);\n            this._parent = parent;\n            parent._children.push(this);\n        }\n    }]);\n\n    return Relation;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Relation);\n\n/***/ }),\n\n/***/ \"./src/stats/index.js\":\n/*!****************************!*\\\n  !*** ./src/stats/index.js ***!\n  \\****************************/\n/*! exports provided: sum, avg, min, max, first, last, count, sd */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sum\", function() { return sum; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"avg\", function() { return avg; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"min\", function() { return min; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"max\", function() { return max; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"first\", function() { return first; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"last\", function() { return last; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"count\", function() { return count; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"sd\", function() { return sd; });\n/* harmony import */ var _operator_group_by_function__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../operator/group-by-function */ \"./src/operator/group-by-function.js\");\n\n\nvar sum = _operator_group_by_function__WEBPACK_IMPORTED_MODULE_0__[\"fnList\"].sum,\n    avg = _operator_group_by_function__WEBPACK_IMPORTED_MODULE_0__[\"fnList\"].avg,\n    min = _operator_group_by_function__WEBPACK_IMPORTED_MODULE_0__[\"fnList\"].min,\n    max = _operator_group_by_function__WEBPACK_IMPORTED_MODULE_0__[\"fnList\"].max,\n    first = _operator_group_by_function__WEBPACK_IMPORTED_MODULE_0__[\"fnList\"].first,\n    last = _operator_group_by_function__WEBPACK_IMPORTED_MODULE_0__[\"fnList\"].last,\n    count = _operator_group_by_function__WEBPACK_IMPORTED_MODULE_0__[\"fnList\"].count,\n    sd = _operator_group_by_function__WEBPACK_IMPORTED_MODULE_0__[\"fnList\"].std;\n\n\n/***/ }),\n\n/***/ \"./src/utils/column-major.js\":\n/*!***********************************!*\\\n  !*** ./src/utils/column-major.js ***!\n  \\***********************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * The utility function to calculate major column.\n *\n * @param {Object} store - The store object.\n * @return {Function} Returns the push function.\n */\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (store) {\n    var i = 0;\n    return function () {\n        for (var _len = arguments.length, fields = Array(_len), _key = 0; _key < _len; _key++) {\n            fields[_key] = arguments[_key];\n        }\n\n        fields.forEach(function (val, fieldIndex) {\n            if (!(store[fieldIndex] instanceof Array)) {\n                store[fieldIndex] = Array.from({ length: i });\n            }\n            store[fieldIndex].push(val);\n        });\n        i++;\n    };\n});\n\n/***/ }),\n\n/***/ \"./src/utils/date-time-formatter.js\":\n/*!******************************************!*\\\n  !*** ./src/utils/date-time-formatter.js ***!\n  \\******************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DateTimeFormatter; });\n/**\n * Creates a JS native date object from input\n *\n * @param {string | number | Date} date Input using which date object to be created\n * @return {Date} : JS native date object\n */\nfunction convertToNativeDate(date) {\n    if (date instanceof Date) {\n        return date;\n    }\n\n    return new Date(date);\n}\n/**\n * Apply padding before a number if its less than 1o. This is used when constant digit's number to be returned\n * between 0 - 99\n *\n * @param {number} n Input to be padded\n * @return {string} Padded number\n */\nfunction pad(n) {\n    return n < 10 ? '0' + n : n;\n}\n/*\n * DateFormatter utility to convert any date format to any other date format\n * DateFormatter parse a date time stamp specified by a user abiding by rules which are defined\n * by user in terms of token. It creates JS native date object from the user specified format.\n * That native date can also be displayed\n * in any specified format.\n * This utility class only takes care of format conversion only\n */\n\n/*\n * Escapes all the special character that are used in regular expression.\n * Like\n * RegExp.escape('sgfd-$') // Output: sgfd\\-\\$\n *\n * @param text {String} : text which is to be escaped\n */\nRegExp.escape = function (text) {\n    return text.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n};\n\n/**\n * DateTimeFormatter class to convert any user format of date time stamp to any other format\n * of date time stamp.\n *\n * @param {string} format Format of the date given. For the above date,\n * 'year: %Y, month: %b, day: %d'.\n * @class\n */\n/* istanbul ignore next */function DateTimeFormatter(format) {\n    this.format = format;\n    this.dtParams = undefined;\n    this.nativeDate = undefined;\n}\n\n// The identifier of the tokens\nDateTimeFormatter.TOKEN_PREFIX = '%';\n\n// JS native Date constructor takes the date params (year, month, etc) in a certail sequence.\n// This defines the sequence of the date parameters in the constructor.\nDateTimeFormatter.DATETIME_PARAM_SEQUENCE = {\n    YEAR: 0,\n    MONTH: 1,\n    DAY: 2,\n    HOUR: 3,\n    MINUTE: 4,\n    SECOND: 5,\n    MILLISECOND: 6\n};\n\n/*\n * This is a default number parsing utility. It tries to parse a number in integer, if parsing is unsuccessful, it\n * gives back a default value.\n *\n * @param: defVal {Number} : Default no if the parsing to integer is not successful\n * @return {Function} : An closure function which is to be called by passing an the value which needs to be parsed.\n */\nDateTimeFormatter.defaultNumberParser = function (defVal) {\n    return function (val) {\n        var parsedVal = void 0;\n        if (isFinite(parsedVal = parseInt(val, 10))) {\n            return parsedVal;\n        }\n\n        return defVal;\n    };\n};\n\n/*\n * This is a default number range utility. It tries to find an element in the range. If not found it returns a\n * default no as an index.\n *\n * @param: range {Array} : The list which is to be serached\n * @param: defVal {Number} : Default no if the serach and find does not return anything\n * @return {Function} : An closure function which is to be called by passing an the value which needs to be found\n */\nDateTimeFormatter.defaultRangeParser = function (range, defVal) {\n    return function (val) {\n        var i = void 0;\n        var l = void 0;\n\n        if (!val) {\n            return defVal;\n        }\n\n        var nVal = val.toLowerCase();\n\n        for (i = 0, l = range.length; i < l; i++) {\n            if (range[i].toLowerCase() === nVal) {\n                return i;\n            }\n        }\n\n        if (i === undefined) {\n            return defVal;\n        }\n        return null;\n    };\n};\n\n/*\n * Defines the tokens which are supporter by the dateformatter. Using this definitation a value gets extracted from\n * the user specifed date string. This also formats the value for display purpose from native JS date.\n * The definition of each token contains the following named properties\n * {\n *     %token_name% : {\n *         name: name of the token, this is used in reverse lookup,\n *         extract: a function that returns the regular expression to extract that piece of information. All the\n *                  regex should be gouped by using ()\n *         parser: a function which receives value extracted by the above regex and parse it to get the date params\n *         formatter: a formatter function that takes milliseconds or JS Date object and format the param\n *                  represented by the token only.\n *     }\n * }\n *\n * @return {Object} : Definition of the all the supported tokens.\n */\nDateTimeFormatter.getTokenDefinitions = function () {\n    var daysDef = {\n        short: ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat'],\n        long: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n    };\n    var monthsDef = {\n        short: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],\n        long: ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December']\n    };\n\n    var definitions = {\n        H: {\n            // 24 hours format\n            name: 'H',\n            index: 3,\n            extract: function extract() {\n                return '(\\\\d+)';\n            },\n\n            parser: DateTimeFormatter.defaultNumberParser(),\n            formatter: function formatter(val) {\n                var d = convertToNativeDate(val);\n\n                return d.getHours().toString();\n            }\n        },\n        l: {\n            // 12 hours format\n            name: 'l',\n            index: 3,\n            extract: function extract() {\n                return '(\\\\d+)';\n            },\n\n            parser: DateTimeFormatter.defaultNumberParser(),\n            formatter: function formatter(val) {\n                var d = convertToNativeDate(val);\n                var hours = d.getHours() % 12;\n\n                return (hours === 0 ? 12 : hours).toString();\n            }\n        },\n        p: {\n            // AM or PM\n            name: 'p',\n            index: 3,\n            extract: function extract() {\n                return '(AM|PM)';\n            },\n\n            parser: function parser(val) {\n                if (val) {\n                    return val.toLowerCase();\n                }\n                return null;\n            },\n            formatter: function formatter(val) {\n                var d = convertToNativeDate(val);\n                var hours = d.getHours();\n\n                return hours < 12 ? 'AM' : 'PM';\n            }\n        },\n        P: {\n            // am or pm\n            name: 'P',\n            index: 3,\n            extract: function extract() {\n                return '(am|pm)';\n            },\n\n            parser: function parser(val) {\n                if (val) {\n                    return val.toLowerCase();\n                }\n                return null;\n            },\n            formatter: function formatter(val) {\n                var d = convertToNativeDate(val);\n                var hours = d.getHours();\n\n                return hours < 12 ? 'am' : 'pm';\n            }\n        },\n        M: {\n            // Two digit minutes 00 - 59\n            name: 'M',\n            index: 4,\n            extract: function extract() {\n                return '(\\\\d+)';\n            },\n\n            parser: DateTimeFormatter.defaultNumberParser(),\n            formatter: function formatter(val) {\n                var d = convertToNativeDate(val);\n                var mins = d.getMinutes();\n\n                return pad(mins);\n            }\n        },\n        S: {\n            // Two digit seconds 00 - 59\n            name: 'S',\n            index: 5,\n            extract: function extract() {\n                return '(\\\\d+)';\n            },\n\n            parser: DateTimeFormatter.defaultNumberParser(),\n            formatter: function formatter(val) {\n                var d = convertToNativeDate(val);\n                var seconds = d.getSeconds();\n\n                return pad(seconds);\n            }\n        },\n        K: {\n            // Milliseconds\n            name: 'K',\n            index: 6,\n            extract: function extract() {\n                return '(\\\\d+)';\n            },\n\n            parser: DateTimeFormatter.defaultNumberParser(),\n            formatter: function formatter(val) {\n                var d = convertToNativeDate(val);\n                var ms = d.getMilliseconds();\n\n                return ms.toString();\n            }\n        },\n        a: {\n            // Short name of day, like Mon\n            name: 'a',\n            index: 2,\n            extract: function extract() {\n                return '(' + daysDef.short.join('|') + ')';\n            },\n\n            parser: DateTimeFormatter.defaultRangeParser(daysDef.short),\n            formatter: function formatter(val) {\n                var d = convertToNativeDate(val);\n                var day = d.getDay();\n\n                return daysDef.short[day].toString();\n            }\n        },\n        A: {\n            // Long name of day, like Monday\n            name: 'A',\n            index: 2,\n            extract: function extract() {\n                return '(' + daysDef.long.join('|') + ')';\n            },\n\n            parser: DateTimeFormatter.defaultRangeParser(daysDef.long),\n            formatter: function formatter(val) {\n                var d = convertToNativeDate(val);\n                var day = d.getDay();\n\n                return daysDef.long[day].toString();\n            }\n        },\n        e: {\n            // 8 of March, 11 of November\n            name: 'e',\n            index: 2,\n            extract: function extract() {\n                return '(\\\\d+)';\n            },\n\n            parser: DateTimeFormatter.defaultNumberParser(),\n            formatter: function formatter(val) {\n                var d = convertToNativeDate(val);\n                var day = d.getDate();\n\n                return day.toString();\n            }\n        },\n        d: {\n            // 08 of March, 11 of November\n            name: 'd',\n            index: 2,\n            extract: function extract() {\n                return '(\\\\d+)';\n            },\n\n            parser: DateTimeFormatter.defaultNumberParser(),\n            formatter: function formatter(val) {\n                var d = convertToNativeDate(val);\n                var day = d.getDate();\n\n                return pad(day);\n            }\n        },\n        b: {\n            // Short month, like Jan\n            name: 'b',\n            index: 1,\n            extract: function extract() {\n                return '(' + monthsDef.short.join('|') + ')';\n            },\n\n            parser: DateTimeFormatter.defaultRangeParser(monthsDef.short),\n            formatter: function formatter(val) {\n                var d = convertToNativeDate(val);\n                var month = d.getMonth();\n\n                return monthsDef.short[month].toString();\n            }\n        },\n        B: {\n            // Long month, like January\n            name: 'B',\n            index: 1,\n            extract: function extract() {\n                return '(' + monthsDef.long.join('|') + ')';\n            },\n\n            parser: DateTimeFormatter.defaultNumberParser(monthsDef.long),\n            formatter: function formatter(val) {\n                var d = convertToNativeDate(val);\n                var month = d.getMonth();\n\n                return monthsDef.long[month].toString();\n            }\n        },\n        m: {\n            // Two digit month of year like 01 for January\n            name: 'm',\n            index: 1,\n            extract: function extract() {\n                return '(\\\\d+)';\n            },\n            parser: function parser(val) {\n                return DateTimeFormatter.defaultNumberParser()(val) - 1;\n            },\n            formatter: function formatter(val) {\n                var d = convertToNativeDate(val);\n                var month = d.getMonth();\n\n                return pad(month + 1);\n            }\n        },\n        y: {\n            // Short year like 90 for 1990\n            name: 'y',\n            index: 0,\n            extract: function extract() {\n                return '(\\\\d{4})';\n            },\n            parser: function parser(val) {\n                if (val) {\n                    var l = val.length;\n                    val = val.substring(l - 2, l);\n                }\n\n                return DateTimeFormatter.defaultNumberParser()(val);\n            },\n            formatter: function formatter(val) {\n                var d = convertToNativeDate(val);\n                var year = d.getFullYear().toString();\n                var l = void 0;\n\n                if (year) {\n                    l = year.length;\n                    year = year.substring(l - 2, l);\n                }\n\n                return year;\n            }\n        },\n        Y: {\n            // Long year like 1990\n            name: 'Y',\n            index: 0,\n            extract: function extract() {\n                return '(\\\\d{4})';\n            },\n\n            parser: DateTimeFormatter.defaultNumberParser(),\n            formatter: function formatter(val) {\n                var d = convertToNativeDate(val);\n                var year = d.getFullYear().toString();\n\n                return year;\n            }\n        }\n    };\n\n    return definitions;\n};\n\n/*\n * The tokens which works internally is not user friendly in terms of memorizing the names. This gives a formal\n * definition to the informal notations.\n *\n * @return {Object} : Formal definition of the tokens\n */\nDateTimeFormatter.getTokenFormalNames = function () {\n    var definitions = DateTimeFormatter.getTokenDefinitions();\n\n    return {\n        HOUR: definitions.H,\n        HOUR_12: definitions.l,\n        AMPM_UPPERCASE: definitions.p,\n        AMPM_LOWERCASE: definitions.P,\n        MINUTE: definitions.M,\n        SECOND: definitions.S,\n        SHORT_DAY: definitions.a,\n        LONG_DAY: definitions.A,\n        DAY_OF_MONTH: definitions.e,\n        DAY_OF_MONTH_CONSTANT_WIDTH: definitions.d,\n        SHORT_MONTH: definitions.b,\n        LONG_MONTH: definitions.B,\n        MONTH_OF_YEAR: definitions.m,\n        SHORT_YEAR: definitions.y,\n        LONG_YEAR: definitions.Y\n    };\n};\n\n/*\n * This defines the rules and declares dependencies that resolves a date parameter (year, month etc) from\n * the date time parameter array.\n *\n * @return {Object} : An object that contains dependencies and a resolver function. The dependencies values are fed\n *                  to the resolver function in that particular sequence only.\n */\nDateTimeFormatter.tokenResolver = function () {\n    var definitions = DateTimeFormatter.getTokenDefinitions();\n    var defaultResolver = function defaultResolver() {\n        // eslint-disable-line require-jsdoc\n        var i = 0;\n        var arg = void 0;\n        var targetParam = void 0;\n        var l = arguments.length;\n\n        for (; i < l; i++) {\n            arg = arguments.length <= i ? undefined : arguments[i];\n            if (arguments.length <= i ? undefined : arguments[i]) {\n                targetParam = arg;\n            }\n        }\n\n        if (!targetParam) {\n            return null;\n        }\n\n        return targetParam[0].parser(targetParam[1]);\n    };\n\n    return {\n        YEAR: [definitions.y, definitions.Y, defaultResolver],\n        MONTH: [definitions.b, definitions.B, definitions.m, defaultResolver],\n        DAY: [definitions.a, definitions.A, definitions.e, definitions.d, defaultResolver],\n        HOUR: [definitions.H, definitions.l, definitions.p, definitions.P, function (hourFormat24, hourFormat12, ampmLower, ampmUpper) {\n            var targetParam = void 0;\n            var amOrpm = void 0;\n            var isPM = void 0;\n            var val = void 0;\n\n            if (hourFormat12 && (amOrpm = ampmLower || ampmUpper)) {\n                if (amOrpm[0].parser(amOrpm[1]) === 'pm') {\n                    isPM = true;\n                }\n\n                targetParam = hourFormat12;\n            } else if (hourFormat12) {\n                targetParam = hourFormat12;\n            } else {\n                targetParam = hourFormat24;\n            }\n\n            if (!targetParam) {\n                return null;\n            }\n\n            val = targetParam[0].parser(targetParam[1]);\n            if (isPM) {\n                val += 12;\n            }\n            return val;\n        }],\n        MINUTE: [definitions.M, defaultResolver],\n        SECOND: [definitions.S, defaultResolver]\n    };\n};\n\n/*\n * Finds token from the format rule specified by a user.\n * @param format {String} : The format of the input date specified by the user\n * @return {Array} : An array of objects which contains the available token and their occurence index in the format\n */\nDateTimeFormatter.findTokens = function (format) {\n    var tokenPrefix = DateTimeFormatter.TOKEN_PREFIX;\n    var definitions = DateTimeFormatter.getTokenDefinitions();\n    var tokenLiterals = Object.keys(definitions);\n    var occurrence = [];\n    var i = void 0;\n    var forwardChar = void 0;\n\n    while ((i = format.indexOf(tokenPrefix, i + 1)) >= 0) {\n        forwardChar = format[i + 1];\n        if (tokenLiterals.indexOf(forwardChar) === -1) {\n            continue;\n        }\n\n        occurrence.push({\n            index: i,\n            token: forwardChar\n        });\n    }\n\n    return occurrence;\n};\n\n/*\n * Format any JS date to a specified date given by user.\n *\n * @param date {Number | Date} : The date object which is to be formatted\n * @param format {String} : The format using which the date will be formatted for display\n */\nDateTimeFormatter.formatAs = function (date, format) {\n    var nDate = convertToNativeDate(date);\n    var occurrence = DateTimeFormatter.findTokens(format);\n    var definitions = DateTimeFormatter.getTokenDefinitions();\n    var formattedStr = String(format);\n    var tokenPrefix = DateTimeFormatter.TOKEN_PREFIX;\n    var token = void 0;\n    var formattedVal = void 0;\n    var i = void 0;\n    var l = void 0;\n\n    for (i = 0, l = occurrence.length; i < l; i++) {\n        token = occurrence[i].token;\n        formattedVal = definitions[token].formatter(nDate);\n        formattedStr = formattedStr.replace(new RegExp(tokenPrefix + token, 'g'), formattedVal);\n    }\n\n    return formattedStr;\n};\n\n/*\n * Parses the user specified date string to extract the date time params.\n *\n * @return {Array} : Value of date time params in an array [year, month, day, hour, minutes, seconds, milli]\n */\nDateTimeFormatter.prototype.parse = function (dateTimeStamp, options) {\n    var tokenResolver = DateTimeFormatter.tokenResolver();\n    var dtParams = this.extractTokenValue(dateTimeStamp);\n    var dtParamSeq = DateTimeFormatter.DATETIME_PARAM_SEQUENCE;\n    var noBreak = options && options.noBreak;\n    var dtParamArr = [];\n    var args = [];\n    var resolverKey = void 0;\n    var resolverParams = void 0;\n    var resolverFn = void 0;\n    var val = void 0;\n    var i = void 0;\n    var param = void 0;\n    var resolvedVal = void 0;\n    var l = void 0;\n\n    for (resolverKey in tokenResolver) {\n        if (!{}.hasOwnProperty.call(tokenResolver, resolverKey)) {\n            continue;\n        }\n\n        args.length = 0;\n        resolverParams = tokenResolver[resolverKey];\n        resolverFn = resolverParams.splice(resolverParams.length - 1, 1)[0];\n\n        for (i = 0, l = resolverParams.length; i < l; i++) {\n            param = resolverParams[i];\n            val = dtParams[param.name];\n\n            if (val === undefined) {\n                args.push(null);\n            } else {\n                args.push([param, val]);\n            }\n        }\n\n        resolvedVal = resolverFn.apply(this, args);\n\n        if ((resolvedVal === undefined || resolvedVal === null) && !noBreak) {\n            break;\n        }\n\n        dtParamArr[dtParamSeq[resolverKey]] = resolvedVal;\n    }\n\n    return dtParamArr;\n};\n\n/*\n * Extract the value of the token from user specified date time string.\n *\n * @return {Object} : An key value pair which contains the tokens as key and value as pair\n */\nDateTimeFormatter.prototype.extractTokenValue = function (dateTimeStamp) {\n    var format = this.format;\n    var definitions = DateTimeFormatter.getTokenDefinitions();\n    var tokenPrefix = DateTimeFormatter.TOKEN_PREFIX;\n    var occurrence = DateTimeFormatter.findTokens(format);\n    var tokenObj = {};\n\n    var lastOccurrenceIndex = void 0;\n    var occObj = void 0;\n    var occIndex = void 0;\n    var targetText = void 0;\n    var regexFormat = void 0;\n\n    var l = void 0;\n    var i = void 0;\n\n    regexFormat = String(format);\n\n    var tokenArr = occurrence.map(function (obj) {\n        return obj.token;\n    });\n    var occurrenceLength = occurrence.length;\n    for (i = occurrenceLength - 1; i >= 0; i--) {\n        occIndex = occurrence[i].index;\n\n        if (occIndex + 1 === regexFormat.length - 1) {\n            lastOccurrenceIndex = occIndex;\n            continue;\n        }\n\n        if (lastOccurrenceIndex === undefined) {\n            lastOccurrenceIndex = regexFormat.length;\n        }\n\n        targetText = regexFormat.substring(occIndex + 2, lastOccurrenceIndex);\n        regexFormat = regexFormat.substring(0, occIndex + 2) + RegExp.escape(targetText) + regexFormat.substring(lastOccurrenceIndex, regexFormat.length);\n\n        lastOccurrenceIndex = occIndex;\n    }\n\n    for (i = 0; i < occurrenceLength; i++) {\n        occObj = occurrence[i];\n        regexFormat = regexFormat.replace(tokenPrefix + occObj.token, definitions[occObj.token].extract());\n    }\n\n    var extractValues = dateTimeStamp.match(new RegExp(regexFormat)) || [];\n    extractValues.shift();\n\n    for (i = 0, l = tokenArr.length; i < l; i++) {\n        tokenObj[tokenArr[i]] = extractValues[i];\n    }\n    return tokenObj;\n};\n\n/*\n * Give back the JS native date formed from  user specified date string\n *\n * @return {Date} : Native JS Date\n */\nDateTimeFormatter.prototype.getNativeDate = function (dateTimeStamp) {\n    if (dateTimeStamp instanceof Date) {\n        return dateTimeStamp;\n    } else if (isFinite(dateTimeStamp) && !!this.format) {\n        return new Date(dateTimeStamp);\n    }\n\n    var dtParams = this.dtParams = this.parse(dateTimeStamp);\n\n    dtParams.unshift(null);\n    this.nativeDate = new (Function.prototype.bind.apply(Date, dtParams))();\n    return this.nativeDate;\n};\n\n/*\n * Represents JS native date to a user specified format.\n *\n * @param format {String} : The format according to which the date is to be represented\n * @return {String} : The formatted date string\n */\nDateTimeFormatter.prototype.formatAs = function (format, dateTimeStamp) {\n    var nativeDate = void 0;\n\n    if (dateTimeStamp) {\n        nativeDate = this.nativeDate = this.getNativeDate(dateTimeStamp);\n    } else if (!(nativeDate = this.nativeDate)) {\n        nativeDate = this.getNativeDate(dateTimeStamp);\n    }\n\n    return DateTimeFormatter.formatAs(nativeDate, format);\n};\n\n\n\n/***/ }),\n\n/***/ \"./src/utils/domain-generator.js\":\n/*!***************************************!*\\\n  !*** ./src/utils/domain-generator.js ***!\n  \\***************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/**\n * Generates domain for measure field.\n *\n * @param {Array} data - The array of data.\n * @return {Array} Returns the measure domain.\n */\n/* harmony default export */ __webpack_exports__[\"default\"] = (function (data) {\n    var min = Number.POSITIVE_INFINITY;\n    var max = Number.NEGATIVE_INFINITY;\n\n    data.forEach(function (d) {\n        if (d < min) {\n            min = d;\n        }\n        if (d > max) {\n            max = d;\n        }\n    });\n\n    return [min, max];\n});\n\n/***/ }),\n\n/***/ \"./src/utils/extend2.js\":\n/*!******************************!*\\\n  !*** ./src/utils/extend2.js ***!\n  \\******************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return extend2; });\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/* eslint-disable */\nvar OBJECTSTRING = 'object';\nvar objectToStrFn = Object.prototype.toString;\nvar objectToStr = '[object Object]';\nvar arrayToStr = '[object Array]';\n\nfunction checkCyclicRef(obj, parentArr) {\n    var i = parentArr.length;\n    var bIndex = -1;\n\n    while (i) {\n        if (obj === parentArr[i]) {\n            bIndex = i;\n            return bIndex;\n        }\n        i -= 1;\n    }\n\n    return bIndex;\n}\n\nfunction merge(obj1, obj2, skipUndef, tgtArr, srcArr) {\n    var item, srcVal, tgtVal, str, cRef;\n    // check whether obj2 is an array\n    // if array then iterate through it's index\n    // **** MOOTOOLS precution\n\n    if (!srcArr) {\n        tgtArr = [obj1];\n        srcArr = [obj2];\n    } else {\n        tgtArr.push(obj1);\n        srcArr.push(obj2);\n    }\n\n    if (obj2 instanceof Array) {\n        for (item = 0; item < obj2.length; item += 1) {\n            try {\n                srcVal = obj1[item];\n                tgtVal = obj2[item];\n            } catch (e) {\n                continue;\n            }\n\n            if ((typeof tgtVal === 'undefined' ? 'undefined' : _typeof(tgtVal)) !== OBJECTSTRING) {\n                if (!(skipUndef && tgtVal === undefined)) {\n                    obj1[item] = tgtVal;\n                }\n            } else {\n                if (srcVal === null || (typeof srcVal === 'undefined' ? 'undefined' : _typeof(srcVal)) !== OBJECTSTRING) {\n                    srcVal = obj1[item] = tgtVal instanceof Array ? [] : {};\n                }\n                cRef = checkCyclicRef(tgtVal, srcArr);\n                if (cRef !== -1) {\n                    srcVal = obj1[item] = tgtArr[cRef];\n                } else {\n                    merge(srcVal, tgtVal, skipUndef, tgtArr, srcArr);\n                }\n            }\n        }\n    } else {\n        for (item in obj2) {\n            try {\n                srcVal = obj1[item];\n                tgtVal = obj2[item];\n            } catch (e) {\n                continue;\n            }\n\n            if (tgtVal !== null && (typeof tgtVal === 'undefined' ? 'undefined' : _typeof(tgtVal)) === OBJECTSTRING) {\n                // Fix for issue BUG: FWXT-602\n                // IE < 9 Object.prototype.toString.call(null) gives\n                // '[object Object]' instead of '[object Null]'\n                // that's why null value becomes Object in IE < 9\n                str = objectToStrFn.call(tgtVal);\n                if (str === objectToStr) {\n                    if (srcVal === null || (typeof srcVal === 'undefined' ? 'undefined' : _typeof(srcVal)) !== OBJECTSTRING) {\n                        srcVal = obj1[item] = {};\n                    }\n                    cRef = checkCyclicRef(tgtVal, srcArr);\n                    if (cRef !== -1) {\n                        srcVal = obj1[item] = tgtArr[cRef];\n                    } else {\n                        merge(srcVal, tgtVal, skipUndef, tgtArr, srcArr);\n                    }\n                } else if (str === arrayToStr) {\n                    if (srcVal === null || !(srcVal instanceof Array)) {\n                        srcVal = obj1[item] = [];\n                    }\n                    cRef = checkCyclicRef(tgtVal, srcArr);\n                    if (cRef !== -1) {\n                        srcVal = obj1[item] = tgtArr[cRef];\n                    } else {\n                        merge(srcVal, tgtVal, skipUndef, tgtArr, srcArr);\n                    }\n                } else {\n                    obj1[item] = tgtVal;\n                }\n            } else {\n                if (skipUndef && tgtVal === undefined) {\n                    continue;\n                }\n                obj1[item] = tgtVal;\n            }\n        }\n    }\n    return obj1;\n}\n\nfunction extend2(obj1, obj2, skipUndef) {\n    //if none of the arguments are object then return back\n    if ((typeof obj1 === 'undefined' ? 'undefined' : _typeof(obj1)) !== OBJECTSTRING && (typeof obj2 === 'undefined' ? 'undefined' : _typeof(obj2)) !== OBJECTSTRING) {\n        return null;\n    }\n\n    if ((typeof obj2 === 'undefined' ? 'undefined' : _typeof(obj2)) !== OBJECTSTRING || obj2 === null) {\n        return obj1;\n    }\n\n    if ((typeof obj1 === 'undefined' ? 'undefined' : _typeof(obj1)) !== OBJECTSTRING) {\n        obj1 = obj2 instanceof Array ? [] : {};\n    }\n    merge(obj1, obj2, skipUndef);\n    return obj1;\n}\n\n\n\n/***/ }),\n\n/***/ \"./src/utils/helper.js\":\n/*!*****************************!*\\\n  !*** ./src/utils/helper.js ***!\n  \\*****************************/\n/*! exports provided: isArray, isObject, isString, isCallable, uniqueValues, getUniqueId, getMinDiff, isArrEqual, formatNumber, detectDataFormat */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isArray\", function() { return isArray; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isObject\", function() { return isObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isString\", function() { return isString; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isCallable\", function() { return isCallable; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"uniqueValues\", function() { return uniqueValues; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getUniqueId\", function() { return getUniqueId; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getMinDiff\", function() { return getMinDiff; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isArrEqual\", function() { return isArrEqual; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"formatNumber\", function() { return formatNumber; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"detectDataFormat\", function() { return detectDataFormat; });\n/* harmony import */ var _enums__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../enums */ \"./src/enums/index.js\");\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n\n\n/**\n * Checks whether the value is an array.\n *\n * @param  {*} val - The value to be checked.\n * @return {boolean} Returns true if the value is an array otherwise returns false.\n */\nfunction isArray(val) {\n    return Array.isArray(val);\n}\n\n/**\n * Checks whether the value is an object.\n *\n * @param  {*} val - The value to be checked.\n * @return {boolean} Returns true if the value is an object otherwise returns false.\n */\nfunction isObject(val) {\n    return val === Object(val);\n}\n\n/**\n * Checks whether the value is a string value.\n *\n * @param  {*} val - The value to be checked.\n * @return {boolean} Returns true if the value is a string value otherwise returns false.\n */\nfunction isString(val) {\n    return typeof val === 'string';\n}\n\n/**\n * Checks whether the value is callable.\n *\n * @param {*} val - The value to be checked.\n * @return {boolean} Returns true if the value is callable otherwise returns false.\n */\nfunction isCallable(val) {\n    return typeof val === 'function';\n}\n\n/**\n * Returns the unique values from the input array.\n *\n * @param {Array} data - The input array.\n * @return {Array} Returns a new array of unique values.\n */\nfunction uniqueValues(data) {\n    return [].concat(_toConsumableArray(new Set(data)));\n}\n\nvar getUniqueId = function getUniqueId() {\n    return 'id-' + new Date().getTime() + Math.round(Math.random() * 10000);\n};\n\nvar unique = function unique(arr) {\n    return [].concat(_toConsumableArray(new Set(arr)));\n};\n\n/**\n * Gets the minimum difference between two consecutive numbers  in an array.\n * @param {Array} arr Array of numbers\n * @param {number} index index of the value\n * @return {number} minimum difference between values\n */\nvar getMinDiff = function getMinDiff(arr, index) {\n    var diff = void 0;\n    var uniqueVals = void 0;\n    if (index !== undefined) {\n        uniqueVals = unique(arr.map(function (d) {\n            return d[index];\n        }));\n    } else {\n        uniqueVals = unique(arr);\n    }\n    if (uniqueVals.length > 1) {\n        diff = Math.abs(uniqueVals[1] - uniqueVals[0]);\n        for (var i = 2, len = uniqueVals.length; i < len; i++) {\n            diff = Math.min(diff, Math.abs(uniqueVals[i] - uniqueVals[i - 1]));\n        }\n    } else {\n        diff = uniqueVals[0];\n    }\n\n    return diff;\n};\n\n/**\n * Checks Whether two arrays have same content.\n *\n * @param {Array} arr1 - The first array.\n * @param {Array} arr2 - The 2nd array.\n * @return {boolean} Returns whether two array have same content.\n */\nfunction isArrEqual(arr1, arr2) {\n    if (!isArray(arr1) || !isArray(arr2)) {\n        return arr1 === arr2;\n    }\n\n    if (arr1.length !== arr2.length) {\n        return false;\n    }\n\n    for (var i = 0; i < arr1.length; i++) {\n        if (arr1[i] !== arr2[i]) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\n/**\n * Checks Whether two arrays have same content.\n *\n * @param {Array} arr1 - The first array.\n * @param {Array} arr2 - The 2nd array.\n * @return {boolean} Returns whether two array have same content.\n */\nfunction formatNumber(val) {\n    return val;\n}\n\n/**\n * Returns the detected data format.\n *\n * @param {any} data - The input data to be tested.\n * @return {string} Returns the data format name.\n */\nvar detectDataFormat = function detectDataFormat(data) {\n    if (isString(data)) {\n        return _enums__WEBPACK_IMPORTED_MODULE_0__[\"DataFormat\"].DSV_STR;\n    } else if (isArray(data) && isArray(data[0])) {\n        return _enums__WEBPACK_IMPORTED_MODULE_0__[\"DataFormat\"].DSV_ARR;\n    } else if (isArray(data) && (data.length === 0 || isObject(data[0]))) {\n        return _enums__WEBPACK_IMPORTED_MODULE_0__[\"DataFormat\"].FLAT_JSON;\n    }\n    return null;\n};\n\n/***/ }),\n\n/***/ \"./src/utils/index.js\":\n/*!****************************!*\\\n  !*** ./src/utils/index.js ***!\n  \\****************************/\n/*! exports provided: DateTimeFormatter, columnMajor, generateMeasureDomain, extend2, isArray, isObject, isString, isCallable, uniqueValues, getUniqueId, getMinDiff, isArrEqual, formatNumber, detectDataFormat */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _date_time_formatter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./date-time-formatter */ \"./src/utils/date-time-formatter.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"DateTimeFormatter\", function() { return _date_time_formatter__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\n/* harmony import */ var _column_major__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./column-major */ \"./src/utils/column-major.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"columnMajor\", function() { return _column_major__WEBPACK_IMPORTED_MODULE_1__[\"default\"]; });\n\n/* harmony import */ var _domain_generator__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./domain-generator */ \"./src/utils/domain-generator.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"generateMeasureDomain\", function() { return _domain_generator__WEBPACK_IMPORTED_MODULE_2__[\"default\"]; });\n\n/* harmony import */ var _extend2__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./extend2 */ \"./src/utils/extend2.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"extend2\", function() { return _extend2__WEBPACK_IMPORTED_MODULE_3__[\"default\"]; });\n\n/* harmony import */ var _helper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./helper */ \"./src/utils/helper.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"isArray\", function() { return _helper__WEBPACK_IMPORTED_MODULE_4__[\"isArray\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"isObject\", function() { return _helper__WEBPACK_IMPORTED_MODULE_4__[\"isObject\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"isString\", function() { return _helper__WEBPACK_IMPORTED_MODULE_4__[\"isString\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"isCallable\", function() { return _helper__WEBPACK_IMPORTED_MODULE_4__[\"isCallable\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"uniqueValues\", function() { return _helper__WEBPACK_IMPORTED_MODULE_4__[\"uniqueValues\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getUniqueId\", function() { return _helper__WEBPACK_IMPORTED_MODULE_4__[\"getUniqueId\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"getMinDiff\", function() { return _helper__WEBPACK_IMPORTED_MODULE_4__[\"getMinDiff\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"isArrEqual\", function() { return _helper__WEBPACK_IMPORTED_MODULE_4__[\"isArrEqual\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"formatNumber\", function() { return _helper__WEBPACK_IMPORTED_MODULE_4__[\"formatNumber\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"detectDataFormat\", function() { return _helper__WEBPACK_IMPORTED_MODULE_4__[\"detectDataFormat\"]; });\n\n\n\n\n\n\n\n/***/ }),\n\n/***/ \"./src/utils/reducer-store.js\":\n/*!************************************!*\\\n  !*** ./src/utils/reducer-store.js ***!\n  \\************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _operator__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../operator */ \"./src/operator/index.js\");\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n/**\n * A page level storage which stores, registers, unregisters reducers for all the datamodel instances. There is only one\n * reducer store available in a page. All the datamodel instances receive same instance of reducer store. DataModel\n * out of the box provides handful of {@link reducer | reducers} which can be used as reducer funciton.\n *\n * @public\n * @namespace DataModel\n */\n\nvar ReducerStore = function () {\n    function ReducerStore() {\n        var _this = this;\n\n        _classCallCheck(this, ReducerStore);\n\n        this.store = new Map();\n        this.store.set('defReducer', _operator__WEBPACK_IMPORTED_MODULE_0__[\"defReducer\"]);\n\n        Object.entries(_operator__WEBPACK_IMPORTED_MODULE_0__[\"fnList\"]).forEach(function (key) {\n            _this.store.set(key[0], key[1]);\n        });\n    }\n\n    /**\n     * Changes the `defaultReducer` globally. For all the fields which does not have `defAggFn` mentioned in schema, the\n     * value of `defaultReducer` is used for aggregation.\n     *\n     * @public\n     *\n     * @param {string} [reducer='sum'] name of the default reducer. It picks up the definition from store by doing name\n     *      lookup. If no name is found then it takes `sum` as the default reducer.\n     *\n     * @return {ReducerStore} instance of the singleton store in page.\n     */\n\n\n    _createClass(ReducerStore, [{\n        key: 'defaultReducer',\n        value: function defaultReducer() {\n            if (arguments.length) {\n                var reducer = arguments.length <= 0 ? undefined : arguments[0];\n                if (typeof reducer === 'function') {\n                    this.store.set('defReducer', reducer);\n                } else if (typeof reducer === 'string') {\n                    if (Object.keys(_operator__WEBPACK_IMPORTED_MODULE_0__[\"fnList\"]).indexOf(reducer) !== -1) {\n                        this.store.set('defReducer', _operator__WEBPACK_IMPORTED_MODULE_0__[\"fnList\"][reducer]);\n                    }\n                }\n                return this;\n            }\n\n            return this.store.get('defReducer');\n        }\n\n        /**\n         *\n         * Registers a {@link reducer | reducer}.\n         * A {@link reducer | reducer} has to be registered before it is used.\n         *\n         * @example\n         *  // find the mean squared value of a given set\n         *  const reducerStore = DataModel.Reducers();\n         *\n         *  reducers.register('meanSquared', (arr) => {\n         *      const squaredVal = arr.map(item => item * item);\n         *      let sum = 0;\n         *      for (let i = 0, l = squaredVal.length; i < l; i++) {\n         *          sum += squaredVal[i++];\n         *      }\n         *\n         *      return sum;\n         *  })\n         *\n         *  // datamodel (dm) is already prepared with cars.json\n         *  const dm1 = dm.groupBy(['origin'], {\n         *      accleration: 'meanSquared'\n         *  });\n         *\n         * @public\n         *\n         * @param {string} name formal name for a reducer. If the given name already exists in store it is overridden by new\n         *      definition.\n         * @param {Function} reducer definition of {@link reducer} function.\n         *\n         * @return {Function} function for unregistering the reducer.\n         */\n\n    }, {\n        key: 'register',\n        value: function register(name, reducer) {\n            var _this2 = this;\n\n            if (typeof name === 'string' && typeof reducer === 'function') {\n                this.store.set(name, reducer);\n            }\n\n            return function () {\n                _this2.__unregister(name);\n            };\n        }\n    }, {\n        key: '__unregister',\n        value: function __unregister(name) {\n            if (this.store.has(name)) {\n                this.store.delete(name);\n            }\n        }\n    }, {\n        key: 'resolve',\n        value: function resolve(name) {\n            if (name instanceof Function) {\n                return name;\n            }\n            return this.store.get(name);\n        }\n    }]);\n\n    return ReducerStore;\n}();\n\nvar reducerStore = function () {\n    var store = null;\n\n    function getStore() {\n        if (store === null) {\n            store = new ReducerStore();\n        }\n        return store;\n    }\n    return getStore();\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (reducerStore);\n\n/***/ }),\n\n/***/ \"./src/value.js\":\n/*!**********************!*\\\n  !*** ./src/value.js ***!\n  \\**********************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * The wrapper class on top of the primitive value of a field.\n *\n * @todo Need to have support for StringValue, NumberValue, DateTimeValue\n * and GeoValue. These types should expose predicate API mostly.\n */\nvar Value = function () {\n\n    /**\n     * Creates new Value instance.\n     *\n     * @param {*} val - the primitive value from the field cell.\n     * @param {string | Field} field - The field from which the value belongs.\n     */\n    function Value(val, field) {\n        _classCallCheck(this, Value);\n\n        Object.defineProperty(this, '_value', {\n            enumerable: false,\n            configurable: false,\n            writable: false,\n            value: val\n        });\n\n        this.field = field;\n    }\n\n    /**\n     * Returns the field value.\n     *\n     * @return {*} Returns the current value.\n     */\n\n\n    _createClass(Value, [{\n        key: 'toString',\n\n\n        /**\n         * Converts to human readable string.\n         *\n         * @override\n         * @return {string} Returns a human readable string of the field value.\n         *\n         */\n        value: function toString() {\n            return String(this.value);\n        }\n\n        /**\n         * Returns the value of the field.\n         *\n         * @override\n         * @return {*} Returns the field value.\n         */\n\n    }, {\n        key: 'valueOf',\n        value: function valueOf() {\n            return this.value;\n        }\n    }, {\n        key: 'value',\n        get: function get() {\n            return this._value;\n        }\n    }]);\n\n    return Value;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Value);\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=datamodel.js.map","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"hyperdis\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"hyperdis\"] = factory();\n\telse\n\t\troot[\"hyperdis\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./src/electric-node.js\":\n/*!******************************!*\\\n  !*** ./src/electric-node.js ***!\n  \\******************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./src/utils/index.js\");\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar ElectricNode = function () {\n    function ElectricNode() {\n        _classCallCheck(this, ElectricNode);\n\n        this.edges = [];\n        this.listeners = {\n            nextFrame: [],\n            currentFrame: []\n        };\n    }\n\n    _createClass(ElectricNode, [{\n        key: 'addEdges',\n        value: function addEdges() {\n            var _edges;\n\n            (_edges = this.edges).push.apply(_edges, arguments);\n            return this;\n        }\n    }, {\n        key: 'regListenerForCurrFrame',\n        value: function regListenerForCurrFrame(fn) {\n            var _this = this;\n\n            var lstnrs = this.listeners.currentFrame;\n            var index = lstnrs.push(Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"pullableRecent\"])(this.edges, fn)) - 1;\n\n            return function () {\n                _this.listeners.currentFrame = lstnrs.filter(function (fn, i) {\n                    return i !== index;\n                });\n            };\n        }\n    }, {\n        key: 'regListenerForNextFrame',\n        value: function regListenerForNextFrame(fn) {\n            var _this2 = this;\n\n            var lstnrs = this.listeners.nextFrame;\n            var index = lstnrs.push(Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"pullableEnd\"])(this.edges, fn)) - 1;\n\n            return function () {\n                _this2.listeners.nextFrame = lstnrs.filter(function (fn, i) {\n                    return i !== index;\n                });\n            };\n        }\n    }, {\n        key: 'hasNextFrameListener',\n        value: function hasNextFrameListener() {\n            return !!this.listeners.nextFrame.length;\n        }\n    }]);\n\n    return ElectricNode;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ElectricNode);\n\n/***/ }),\n\n/***/ \"./src/graph-node.js\":\n/*!***************************!*\\\n  !*** ./src/graph-node.js ***!\n  \\***************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar GraphNode = function () {\n    function GraphNode(name, qualifiedName, options) {\n        _classCallCheck(this, GraphNode);\n\n        /* istanbul ignore next */options = options || {};\n        this.name = name;\n        this.qualifiedName = qualifiedName;\n        this.edges = [];\n        this.outgoingEdges = [];\n        this._seed = null;\n        this.requireResolve = true;\n        this.retriever = options.retriever;\n        this.history = [];\n        this.resolver = null;\n        this.electricEdges = [];\n    }\n\n    _createClass(GraphNode, [{\n        key: \"addDependencies\",\n        value: function addDependencies() {\n            var _edges,\n                _this = this;\n\n            for (var _len = arguments.length, dep = Array(_len), _key = 0; _key < _len; _key++) {\n                dep[_key] = arguments[_key];\n            }\n\n            (_edges = this.edges).push.apply(_edges, dep);\n            dep.forEach(function (entry) {\n                return entry.outgoingEdges.push(_this);\n            });\n            return this;\n        }\n    }, {\n        key: \"addElectricNode\",\n        value: function addElectricNode(node) {\n            this.electricEdges.push(node);\n            return this;\n        }\n    }, {\n        key: \"resolve\",\n        value: function resolve() {\n            this.seed = this.resolver.apply(this, _toConsumableArray(this.retrieveDetails()));\n            this.history.push(this.seed);\n            this.requireResolve = false;\n            return this;\n        }\n    }, {\n        key: \"retrieveDetails\",\n        value: function retrieveDetails() {\n            if (this.edges.length === 0) {\n                return [{\n                    name: this.name,\n                    qualifiedName: this.qualifiedName,\n                    value: this.seed\n                }];\n            }\n            return this.retriever.apply(this, _toConsumableArray(this.edges.map(function (edge) {\n                return edge.qualifiedName;\n            })));\n        }\n    }, {\n        key: \"repeatHead\",\n        value: function repeatHead() {\n            var history = this.history,\n                head = history[history.length - 1];\n            // @todo- Akash, write test case if history.length === 0 to pass code coverage\n            if (history.length === 0) {\n                return this;\n            }\n            history.push(head);\n            return this;\n        }\n    }, {\n        key: \"flush\",\n        value: function flush() {\n            var hist = this.history,\n                head = hist[hist.length - 1];\n            hist.length = 0;\n            hist.push(head);\n            return this;\n        }\n    }, {\n        key: \"isRoot\",\n        value: function isRoot() {\n            return this.name === null;\n        }\n    }, {\n        key: \"seed\",\n        get: function get() {\n            return this._seed;\n        },\n        set: function set(value) {\n            this._seed = value;\n            this.requireResolve = true;\n            return this;\n        }\n    }]);\n\n    return GraphNode;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (GraphNode);\n\n/***/ }),\n\n/***/ \"./src/graph.js\":\n/*!**********************!*\\\n  !*** ./src/graph.js ***!\n  \\**********************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils */ \"./src/utils/index.js\");\n/* harmony import */ var _graph_node__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./graph-node */ \"./src/graph-node.js\");\n/* harmony import */ var _electric_node__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./electric-node */ \"./src/electric-node.js\");\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\nvar Graph = function () {\n    function Graph() {\n        var _this = this;\n\n        _classCallCheck(this, Graph);\n\n        this.qualifiedNodeMap = {};\n        this.retriever = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"fetch\"])(this.qualifiedNodeMap);\n        this.root = new _graph_node__WEBPACK_IMPORTED_MODULE_1__[\"default\"](null, null, { retriever: this.retriever });\n        this.root.resolver = _utils__WEBPACK_IMPORTED_MODULE_0__[\"resolver\"].accumulate;\n\n        this._wholeSet = null;\n        this._propagate = true;\n        this.propagationOverride = {\n            currentFrameListeners: false,\n            nextFrameListeners: false\n        };\n\n        this._schedule = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"scheduler\"])(function (payload) {\n            var qname = void 0;\n            for (qname in payload.flushTarget) {\n                if (!{}.hasOwnProperty.call(_this.qualifiedNodeMap, qname)) {\n                    return;\n                }\n                _this.qualifiedNodeMap[qname].flush();\n            }\n        });\n    }\n\n    _createClass(Graph, [{\n        key: 'createNodesFrom',\n        value: function createNodesFrom(obj, mount) {\n            var val = void 0,\n                resolveReqList = void 0;\n            var qualifiedNodeMap = this.qualifiedNodeMap,\n                root = this.root,\n                retriever = this.retriever;\n\n            (function rec(objn, qualifiedName, history) {\n                var key = void 0,\n                    qname = void 0,\n                    perv = void 0,\n                    node = void 0;\n\n                for (key in objn) {\n                    if (!{}.hasOwnProperty.call(objn, key)) {\n                        continue;\n                    }\n                    qname = '' + qualifiedName + key;\n                    node = new _graph_node__WEBPACK_IMPORTED_MODULE_1__[\"default\"](key, qname, { retriever: retriever });\n                    qualifiedNodeMap[qname] = node;\n\n                    if ((perv = history.perv) !== undefined) {\n                        perv.addDependencies(node);\n                    } else {\n                        // top most level entries\n                        root.addDependencies(node);\n                    }\n\n                    if (Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"isSimpleObject\"])(val = objn[key])) {\n                        rec(val, '' + qualifiedName + key + '.', { perv: node });\n                        node.resolver = _utils__WEBPACK_IMPORTED_MODULE_0__[\"resolver\"].accumulate;\n                    } else if (val instanceof _utils__WEBPACK_IMPORTED_MODULE_0__[\"CustomResolver\"]) {\n                        var _node;\n\n                        node.resolver = val.get();\n                        (_node = node).addDependencies.apply(_node, _toConsumableArray(val.getDependencies().map(function (qname) {\n                            return qualifiedNodeMap[qname];\n                        })));\n                    } else {\n                        node.resolver = _utils__WEBPACK_IMPORTED_MODULE_0__[\"resolver\"].identity;\n                        node.seed = val;\n                        // node.resolve();\n                    }\n                }\n            })(obj, mount === null ? '' : mount + '.', {\n                perv: qualifiedNodeMap[mount]\n            });\n\n            this._wholeSet = new _utils__WEBPACK_IMPORTED_MODULE_0__[\"ForeignSet\"](Object.keys(this.qualifiedNodeMap));\n\n            // Recalculate the model without firing the listeners\n            // @todo selective branch resolve. Currently resolve gets called even for a branch which was updated\n            resolveReqList = this.constructor.getResolvedList(root).concat(root).filter(function (node) {\n                return node.requireResolve;\n            });\n            resolveReqList.forEach(function (node) {\n                return node.resolve();\n            });\n            Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getUpstreamNodes\"])(resolveReqList).forEach(function (node) {\n                return node.resolve();\n            });\n            return this;\n        }\n    }, {\n        key: 'getNodeValue',\n        value: function getNodeValue(prop) {\n            if (prop in this.qualifiedNodeMap) {\n                return this.qualifiedNodeMap[prop].seed;\n            }\n            return undefined;\n        }\n    }, {\n        key: 'createElectricNodeOf',\n        value: function createElectricNodeOf(props, fnSpec) {\n            var _this2 = this,\n                _ref;\n\n            var nodes = props.map(function (prop) {\n                return _this2.qualifiedNodeMap[prop];\n            }),\n                eNode = (_ref = new _electric_node__WEBPACK_IMPORTED_MODULE_2__[\"default\"]()).addEdges.apply(_ref, _toConsumableArray(nodes));\n\n            nodes.forEach(function (node) {\n                return node.addElectricNode(eNode);\n            });\n            return eNode['regListenerFor' + fnSpec.type](fnSpec.fn);\n        }\n    }, {\n        key: 'update',\n        value: function update() {\n            var changedSet = void 0,\n                upstreamNodes = void 0;\n\n            for (var _len = arguments.length, params = Array(_len), _key = 0; _key < _len; _key++) {\n                params[_key] = arguments[_key];\n            }\n\n            var electricEdges = [],\n                nodes = params.map(function (entry) {\n                entry[0].seed = entry[1];\n                return entry[0];\n            });\n            nodes.forEach(function (node) {\n                return node.resolve();\n            });\n            electricEdges.push.apply(electricEdges, _toConsumableArray(_utils__WEBPACK_IMPORTED_MODULE_0__[\"flat\"].apply(undefined, _toConsumableArray(nodes.map(function (node) {\n                return node.electricEdges;\n            })))));\n            changedSet = new _utils__WEBPACK_IMPORTED_MODULE_0__[\"ForeignSet\"](nodes.map(function (node) {\n                return node.qualifiedName;\n            }));\n\n            if (!this._propagate) {\n                this.__execUniqueElectricEdges(electricEdges);\n                this._propagate = true;\n                return this;\n            }\n\n            upstreamNodes = Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"getUpstreamNodes\"])(nodes);\n            upstreamNodes.forEach(function (upstreamNode) {\n                return upstreamNode.resolve();\n            });\n            changedSet.append(upstreamNodes.map(function (node) {\n                return node.qualifiedName;\n            }));\n            electricEdges.push.apply(electricEdges, _toConsumableArray(_utils__WEBPACK_IMPORTED_MODULE_0__[\"flat\"].apply(undefined, _toConsumableArray(upstreamNodes.map(function (node) {\n                return node.electricEdges;\n            })))));\n\n            this.__execUniqueElectricEdges(Array.from(new Set(electricEdges)), changedSet);\n            return this;\n        }\n    }, {\n        key: '__execUniqueElectricEdges',\n        value: function __execUniqueElectricEdges(electricEdges, changedSet) {\n            var _this3 = this;\n\n            var cfLstnrs = [],\n                // current frame listeners\n            nfLstnrs = []; // next frame listeners\n            if (changedSet) {\n                var differenceSet = _utils__WEBPACK_IMPORTED_MODULE_0__[\"ForeignSet\"].difference(this._wholeSet, changedSet),\n                    entries = differenceSet.toArray();\n\n                entries.forEach(function (entry) {\n                    return _this3.qualifiedNodeMap[entry].repeatHead();\n                });\n            }\n\n            electricEdges.forEach(function (e) {\n                cfLstnrs.push.apply(cfLstnrs, _toConsumableArray(e.listeners.currentFrame));\n            });\n            electricEdges.forEach(function (e) {\n                nfLstnrs.push.apply(nfLstnrs, _toConsumableArray(e.listeners.nextFrame));\n            });\n\n            !this.propagationOverride.currentFrameListeners && cfLstnrs.forEach(function (fn) {\n                return fn();\n            });\n            !this.propagationOverride.nextFrameListeners && this._schedule(nfLstnrs, { flushTarget: changedSet });\n            this.resetPropagationOverride();\n            return this;\n        }\n    }, {\n        key: 'resetNodeValue',\n        value: function resetNodeValue() {\n            var _this4 = this;\n\n            for (var _len2 = arguments.length, qnames = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                qnames[_key2] = arguments[_key2];\n            }\n\n            var nodes = qnames.map(function (qname) {\n                return _this4.qualifiedNodeMap[qname];\n            }),\n                args = nodes.map(function (node) {\n                return [node, node.seed];\n            });\n            this.update.apply(this, _toConsumableArray(args));\n            return this;\n        }\n    }, {\n        key: 'stopPropagation',\n        value: function stopPropagation() {\n            this._propagate = false;\n            return this;\n        }\n    }, {\n        key: 'resetPropagationOverride',\n        value: function resetPropagationOverride() {\n            this.propagationOverride.currentFrameListeners = false;\n            this.propagationOverride.nextFrameListeners = false;\n            return this;\n        }\n    }, {\n        key: 'setPropagationOverride',\n        value: function setPropagationOverride(key) {\n            this.propagationOverride[key + 'Listeners'] = true;\n            return this;\n        }\n    }, {\n        key: 'getNodeFromQualifiedName',\n        value: function getNodeFromQualifiedName(qname) {\n            return this.qualifiedNodeMap[qname];\n        }\n    }], [{\n        key: 'getResolvedList',\n        value: function getResolvedList(node) {\n            var resolved = [];\n            Object(_utils__WEBPACK_IMPORTED_MODULE_0__[\"resolveDependencyOrder\"])(node, resolved, {});\n            return resolved;\n        }\n    }]);\n\n    return Graph;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Graph);\n\n/***/ }),\n\n/***/ \"./src/index.js\":\n/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./model */ \"./src/model.js\");\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_model__WEBPACK_IMPORTED_MODULE_0__[\"default\"]);\n\n/***/ }),\n\n/***/ \"./src/model.js\":\n/*!**********************!*\\\n  !*** ./src/model.js ***!\n  \\**********************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _graph__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./graph */ \"./src/graph.js\");\n/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils */ \"./src/utils/index.js\");\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n/**\n * The container class for Hyperdis. Hyperdis is an enabler for observable object with few interesting features like,\n * calculated property, next frame and same frame listeners, multiple listeners etc with a dependency resolving system.\n * It internally uses a graph to hold the hierarchial relationship of a object. Model is merely a container which\n * ties all the components together.\n *\n * @todo Circular dependency detection is not present\n *\n * @example check src/index.spec.js\n * @class\n */\n\nvar Model = function () {\n    function Model() {\n        _classCallCheck(this, Model);\n\n        this._graph = new _graph__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n        this._lockFlag = false;\n        this._reqQ = [];\n    }\n\n    /**\n     * Static method to create and init the model with an observable seed\n     *\n     * @param {Object} obj The target object which is required to be made observable\n     * @return {Model} instance of the observable object model\n     */\n\n\n    _createClass(Model, [{\n        key: 'append',\n\n\n        /**\n         * Appends more observable property on the already observable instance. This mutates the original model.\n         *\n         * This function works in two mode. One being\n         * @param {String} mountPoint the property on which the new set of properties will be mounted. If its a nested\n         *                          property then the mountPoint has to be written such a way so it feels like you are\n         *                          accessing the object. If the mount point is not found then he obeservables are added in\n         *                          the root.\n         * @param {Object} The target object which is required to be made observable\n         *\n         * Another being\n         * @param {Object} The target object which is required to be made observable\n         *\n         * @return {Model} instance of the observable object model\n         */\n        value: function append() {\n            var mountPoint = void 0,\n                obj = void 0;\n\n            if (arguments.length === 1) {\n                mountPoint = null;\n                obj = arguments.length <= 0 ? undefined : arguments[0];\n            } else {\n                mountPoint = arguments.length <= 0 ? undefined : arguments[0];\n                obj = arguments.length <= 1 ? undefined : arguments[1];\n            }\n\n            this._addPropInModel(mountPoint, obj);\n            return this;\n        }\n\n        /**\n         * Creates a calculated variable from existing variable. This variable can't be updated from outside.\n         * @param {string} mountpoint property path on which the new variable will be placed\n         * @param {string} name name of the variable. If the variable could have hierarchy like `limits.start`\n         * @param {Function} fn funtion where the dependent variables are injected based on the dependency requirement\n         */\n\n    }, {\n        key: 'calculatedProp',\n        value: function calculatedProp() {\n            var _customResolver;\n\n            var calculationConfig = void 0,\n                customResolver = void 0,\n                varName = void 0,\n                mount = void 0,\n                fetchFn = void 0;\n\n            if (arguments.length > 2) {\n                mount = arguments.length <= 0 ? undefined : arguments[0];\n                varName = arguments.length <= 1 ? undefined : arguments[1];\n                fetchFn = arguments.length <= 2 ? undefined : arguments[2];\n            } else {\n                mount = null;\n                varName = arguments.length <= 0 ? undefined : arguments[0];\n                fetchFn = arguments.length <= 1 ? undefined : arguments[1];\n            }\n\n            calculationConfig = fetchFn(_utils__WEBPACK_IMPORTED_MODULE_1__[\"fetchAggregator\"]);\n            customResolver = new _utils__WEBPACK_IMPORTED_MODULE_1__[\"CustomResolver\"](calculationConfig.fn);\n            (_customResolver = customResolver).addDependencies.apply(_customResolver, _toConsumableArray(calculationConfig.dependencies));\n\n            this._addPropInModel(mount, _defineProperty({}, varName, customResolver));\n            return this;\n        }\n\n        // eslint-disable-next-line require-jsdoc\n\n    }, {\n        key: '_addPropInModel',\n        value: function _addPropInModel(mountPoint, obj) {\n            this._graph.createNodesFrom(obj, mountPoint);\n            return this;\n        }\n\n        /**\n         * Register a listener in the current frame when a property or group of properties is changed.\n         *\n         * @example\n         * This function takes a single or group of property and handler which is called when any of the properties are\n         * changed.\n         * When a single property is changed the handler is called with two parameter, what was the old value of the state\n         * property and what is the new value.\n         * myState.on('range.start', (oldValue, newValue) => {\n         *      console.log('Value before prop change', oldValue);\n         *      console.log('Value after prop change', newValue);\n         * });\n         *\n         * myState.prop('range.start', 9);\n         * // Output\n         * Value before prop change 1\n         * Value after prop change 9\n         *\n         * If a handler is registered on change of a property which has another state property as value, then the handler\n         * gets called whenever any state property connected to it gets changed\n         *\n         * myState.on('range', (oldValue, newValue) => {\n         *      console.log('Value before prop change', oldValue);\n         *      console.log('Value after prop change', newValue);\n         * });\n         *\n         * myState.prop('range.start', 10);\n         * myState.prop('range.type.absolute', false);\n         *\n         * // Output\n         * Value before prop change\n         * range {\n         *      start: 9,\n         *      end: 5,\n         *      type: {\n         *          absolute: true\n         *      }\n         * }\n         * Value after prop change\n         * range: {\n         *      start: 10,\n         *      end: 5,\n         *      type: {\n         *          absolute: false\n         *      }\n         * }\n         * If a handler is registered with more than one property change then, the handler is called when any of the\n         * properties gets changed. In this cast the handler is called with more than one parameter: each for one state\n         * property which is registered for listening. Each parameter is of type array containing [oldValue, newValue]\n         *\n         * myState.on('range.start', 'range.end', (start, end) => {\n         *      console.log('Start', start);\n         *      console.log('End', end);\n         * });\n         *\n         * myState.prop('range.start', 12);\n         *\n         * // Output\n         * Start [10, 12]\n         * End [5, 5]\n         *\n         * myState.prop('range.end', 7);\n         *\n         * // Output\n         * Start [12, 12]\n         * End [5, 7]\n         *\n         * The on returns a function which is when called the listener registered gets unregistered\n         *\n         * let unsub = myState.on(['range.start', 'range.end'], (start, end) => {\n         *      console.log('Start', start);\n         *      console.log('End', end);\n         * });\n         *\n         * // Unsubscribe\n         * unsub()\n         *\n         * On takes an optional boolean value as the last parameter, which if passed as a true value the handler gets called\n         * during registration itself.\n         *\n         * @param {Array.<String>} props List of properties which is of interest\n         * @param {Function} fn Listener to be executed when any of them is changed. The listener is called with the old\n         *                      value and new value of the properties\n         * @param {*} instantCall When registered if the function is to be triggered with the value of the property\n         *\n         * @return {Function} function to unsubscribe from the listeners registry\n         */\n\n    }, {\n        key: 'on',\n        value: function on(props, fn, instantCall) {\n            var propsArr = props instanceof Array ? props : [props],\n\n            // All there listeners will be executed in the current stack frame\n            unsub = this._graph.createElectricNodeOf(propsArr, {\n                type: 'CurrFrame',\n                fn: fn\n            });\n\n            if (instantCall) {\n                var _graph$stopPropagatio;\n\n                // Bar current next frame listeners from getting fired\n                (_graph$stopPropagatio = this._graph.stopPropagation().setPropagationOverride('nextFrame')).resetNodeValue.apply(_graph$stopPropagatio, _toConsumableArray(props));\n            }\n            return unsub;\n        }\n\n        /**\n         * Register a listener for the next frame when a property or group of properties is changed.\n         *\n         * @example\n         * See the examples for the on listener\n         *\n         * @param {Array.<String>} props List of properties which is of interest\n         * @param {Function} fn Listener to be executed when any of them is changed. The listener is called with the old\n         *                      value and new value of the properties. Here the oldvalue is last value of the last frame\n         * @param {*} instantCall When registered if the function is to be triggered with the value of the property\n         *\n         * @return {Function} function to unsubscribe from the listeners registry\n         */\n\n    }, {\n        key: 'next',\n        value: function next(props, fn, instantCall) {\n            var propsArr = props instanceof Array ? props : [props],\n\n            // All there listeners will be executed at the tick of next animation frame\n            unsub = this._graph.createElectricNodeOf(propsArr, {\n                type: 'NextFrame',\n                fn: fn\n            });\n\n            // @todo check support for this from the graph side\n            if (instantCall) {\n                var _graph$stopPropagatio2;\n\n                // Bar current frame listeners from getting fired\n                (_graph$stopPropagatio2 = this._graph.stopPropagation().setPropagationOverride('currentFrame')).resetNodeValue.apply(_graph$stopPropagatio2, _toConsumableArray(props));\n            }\n\n            return unsub;\n        }\n\n        /**\n         * Lock queues the request of property change and releases the change when unlock is called. This is helpful when\n         * multiple property is getting called and the model listeners are to be fired once at the end of update.\n         *\n         * @return {Model} instance of the model\n         */\n\n    }, {\n        key: 'lock',\n        value: function lock() {\n            this._lockFlag = true;\n            this._reqQ.length = 0;\n            return this;\n        }\n\n        /**\n         * Unlock unleashes the change done after the lock was called.\n          * @return {Model} instance of the model\n         */\n\n    }, {\n        key: 'unlock',\n        value: function unlock() {\n            this._lockFlag = false;\n            this.setProp.apply(this, _toConsumableArray(this._reqQ));\n            this._reqQ.length = 0;\n            return this;\n        }\n\n        /**\n         * This acts as getter and setter. If the function is called by passing only one argument, it retrieve the value\n         * associated with the property. If the same function is called using two parameters, first one being the property\n         * and second one being the value, then the value is set for the property and the handlers are called (if any)\n         * which got registered using the on function\n         *\n         * Getter\n         * @param {string} prop property path whose value to be retrieved\n         * @return {Object} value of the property at the time of call\n         *\n         * Setter\n         * @param {string} property property path whose value to be ser\n         * @return {Model} instance of the model\n         */\n\n    }, {\n        key: 'prop',\n        value: function prop() {\n            var prop = void 0,\n                val = void 0,\n                len = void 0;\n\n            switch (len = arguments.length) {\n                case 1:\n                    prop = arguments.length <= 0 ? undefined : arguments[0];\n                    break;\n\n                case 2:\n                    prop = arguments.length <= 0 ? undefined : arguments[0];\n                    val = arguments.length <= 1 ? undefined : arguments[1];\n                    break;\n\n                default:\n                    return this;\n            }\n\n            if (len === 2) {\n                this._lockFlag ? this._reqQ.push([prop, val]) : this.setProp([prop, val]);\n                return this;\n            }\n\n            return this._graph.getNodeValue(prop);\n        }\n\n        // eslint-disable-next-line require-jsdoc\n\n    }, {\n        key: 'setProp',\n        value: function setProp() {\n            var _graph,\n                _this = this;\n\n            for (var _len = arguments.length, props = Array(_len), _key = 0; _key < _len; _key++) {\n                props[_key] = arguments[_key];\n            }\n\n            // Filter out the calculated variables, so that it cant be changed from outside\n            // @todo if a node is not leafValue, and change is called, ignore it too\n            // props = props.filter(prop => !(VirtualObj.walkTill(prop[0].split('.'), this._vObj).leafValue()\n            //     instanceof CalculatedVar));\n\n            if (props.length === 0) {\n                return this;\n            }\n\n            (_graph = this._graph).update.apply(_graph, _toConsumableArray(props.map(function (prop) {\n                return [_this._graph.getNodeFromQualifiedName(prop[0]), prop[1]];\n            })));\n            return this;\n        }\n\n        /**\n         * Retrieves the graph representation of the object\n         * @return {Graph} instance of the graph associated to the model\n         */\n\n    }, {\n        key: 'graph',\n        value: function graph() {\n            return this._graph;\n        }\n\n        /**\n         * Get serialized data from the model\n         *\n         * @return {Object} Serialized data\n         */\n\n    }, {\n        key: 'serialize',\n        value: function serialize() {\n            return this._graph.root.seed;\n        }\n    }], [{\n        key: 'create',\n        value: function create(obj) {\n            return new Model()._addPropInModel(null, obj);\n        }\n    }]);\n\n    return Model;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Model);\n\n/***/ }),\n\n/***/ \"./src/utils/index.js\":\n/*!****************************!*\\\n  !*** ./src/utils/index.js ***!\n  \\****************************/\n/*! exports provided: isSimpleObject, scheduler, compose, flat, identityMap, pullableEnd, pullableRecent, unique, splitPathProp, resolver, ForeignSet, resolveDependencyOrder, fetch, fetchAggregator, CustomResolver, getUpstreamNodes */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"isSimpleObject\", function() { return isSimpleObject; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"scheduler\", function() { return scheduler; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"compose\", function() { return compose; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"flat\", function() { return flat; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"identityMap\", function() { return identityMap; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pullableEnd\", function() { return pullableEnd; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"pullableRecent\", function() { return pullableRecent; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"unique\", function() { return unique; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"splitPathProp\", function() { return splitPathProp; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resolver\", function() { return resolver; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"resolveDependencyOrder\", function() { return resolveDependencyOrder; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fetch\", function() { return fetch; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"fetchAggregator\", function() { return fetchAggregator; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"CustomResolver\", function() { return CustomResolver; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getUpstreamNodes\", function() { return getUpstreamNodes; });\n/* harmony import */ var _set__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./set */ \"./src/utils/set.js\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"ForeignSet\", function() { return _set__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; });\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n/* global window */\n\n\n\nvar isSimpleObject = function isSimpleObject(obj) {\n    var token = void 0;\n    if ((typeof obj === 'undefined' ? 'undefined' : _typeof(obj)) === 'object') {\n        if (obj === null) {\n            return false;\n        }\n        token = Object.prototype.toString.call(obj);\n        if (token === '[object Object]') {\n            return (obj.constructor.toString().match(/^function (.*)\\(\\)/m) || [])[1] === 'Object';\n        }\n    }\n    return false;\n},\n    minMsThreshold = 16,\n\n/* istanbul ignore next */win = typeof window === 'undefined' ? undefined || {} : window,\n\n/* istanbul ignore next */reqAnimFrame = win.requestAnimationFrame || win.webkitRequestAnimationFrame || win.mozRequestAnimationFrame || win.oRequestAnimationFrame || win.msRequestAnimationFrame || function (callback) {\n    setTimeout(callback, minMsThreshold);\n},\n    getTimeBasedId = function getTimeBasedId() {\n    if (getTimeBasedId.__lastTime === new Date().getTime()) {\n        return getTimeBasedId.__lastTime.toString() + (getTimeBasedId.__id++).toString();\n    }\n\n    getTimeBasedId.__id = 0;\n    getTimeBasedId.__lastTime = new Date().getTime();\n    return getTimeBasedId.__lastTime.toString() + (getTimeBasedId.__id++).toString();\n},\n    pullableRecent = function pullableRecent(nodes, fn) {\n    var nFn = function nFn() {\n        fn.apply(undefined, _toConsumableArray(nodes.map(function (node) {\n            var hist = node.history,\n                l = hist.length - 1;\n            return [hist[l - 1 < 0 ? 0 : l - 1], hist[l]];\n        })));\n    };\n    nFn.__id = getTimeBasedId();\n    return nFn;\n},\n    pullableEnd = function pullableEnd(nodes, fn) {\n    var nFn = function nFn() {\n        fn.apply(undefined, _toConsumableArray(nodes.map(function (node) {\n            var hist = node.history;\n            return [hist[0], hist[hist.length - 1]];\n        })));\n    };\n    nFn.__id = getTimeBasedId();\n    return nFn;\n},\n    unique = function unique(fns) {\n    return fns.reduce(function (store, fn) {\n        // @warn function with side effect, it mutates the store passed during initialization\n        if (fn.__id in store.map) {\n            return store;\n        }\n\n        store.map[fn.__id] = 1;\n        store.unique.push(fn);\n\n        return store;\n    }, { map: {}, unique: [] }).unique;\n},\n    compose = function compose(fns) {\n    return function () {\n        fns.forEach(function (fn) {\n            return fn();\n        });\n    };\n},\n    flat = function flat() {\n    for (var _len = arguments.length, params = Array(_len), _key = 0; _key < _len; _key++) {\n        params[_key] = arguments[_key];\n    }\n\n    var res = [];\n    params.forEach(function (param) {\n        return res.push.apply(res, _toConsumableArray(param));\n    });\n    return res;\n},\n    identityMap = function identityMap(arrays) {\n    return arrays;\n},\n    splitPathProp = function splitPathProp(path) {\n    var pathArr = path.split('.'),\n        len = pathArr.length;\n    return [pathArr.slice(0, len - 1), pathArr[len - 1]];\n},\n    scheduler = function scheduler(onFinishCallback) {\n    var queue = [],\n        animationFrame = null;\n\n    onFinishCallback = onFinishCallback && typeof onFinishCallback === 'function' && onFinishCallback || function () {};\n\n    return function (listeners, payload) {\n        [].push.apply(queue, listeners);\n        if (animationFrame === null) {\n            animationFrame = reqAnimFrame(function () {\n                var tempQ = queue.slice(0);\n                queue.length = 0;\n                animationFrame = null;\n\n                unique(tempQ).forEach(function (fn) {\n                    return fn();\n                });\n                onFinishCallback(payload);\n            });\n        }\n    };\n},\n    fetch = function fetch(namedNode) {\n    return function () {\n        for (var _len2 = arguments.length, params = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n            params[_key2] = arguments[_key2];\n        }\n\n        return params.map(function (param) {\n            var node = namedNode[param];\n            return {\n                name: node.name,\n                qualifiedName: node.qualifiedName,\n                value: node.seed\n            };\n        });\n    };\n},\n    fetchAggregator = function fetchAggregator() {\n    for (var _len3 = arguments.length, params = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        params[_key3] = arguments[_key3];\n    }\n\n    return {\n        dependencies: params.slice(0, params.length - 1),\n        fn: params[params.length - 1]\n    };\n},\n    getUpstreamNodes = function getUpstreamNodes(list) {\n    var res = [];\n    var map = {};\n    list.forEach(function (node) {\n        return map[node.qualifiedName] = -1;\n    });\n    function rec(arr) {\n        arr.forEach(function (node) {\n            var qname = void 0,\n                placedIndex = void 0,\n                preArr = void 0,\n                postArr = void 0;\n            if (!((qname = node.qualifiedName) in map)) {\n                map[qname] = res.push(node) - 1;\n            } else {\n                placedIndex = map[qname];\n                if (placedIndex !== -1 && placedIndex !== res.length - 1) {\n                    // If not the last element, readjust the array so that the later dependency position is saved\n                    preArr = res.slice(0, placedIndex);\n                    postArr = res.slice(placedIndex + 1);\n                    res = preArr.concat(postArr);\n\n                    // reset the index in map\n                    postArr.forEach(function (elem, i) {\n                        return map[elem.qualifiedName] = i + preArr.length;\n                    });\n                    map[qname] = res.push(node) - 1;\n                }\n            }\n            rec(node.outgoingEdges);\n        });\n    }\n    rec(list);\n    return res;\n},\n    resolver = {\n    accumulate: function accumulate() {\n        for (var _len4 = arguments.length, params = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n            params[_key4] = arguments[_key4];\n        }\n\n        var resp = {};\n        params.forEach(function (nodeDetails) {\n            Object.assign(resp, _defineProperty({}, nodeDetails.name, nodeDetails.value));\n        });\n        return resp;\n    },\n    identity: function identity(nodeDetails) {\n        return nodeDetails.value;\n    }\n};\n\nfunction resolveDependencyOrder(node, resolved, resolveMap) {\n    var qname = void 0;\n    node.edges.forEach(function (neighbour) {\n        resolveDependencyOrder(neighbour, resolved, resolveMap);\n    });\n\n    if (node.isRoot() || (qname = node.qualifiedName) in resolveMap) {\n        return;\n    }\n    resolved.push(node);\n    resolveMap[qname] = 1;\n}\n\nvar CustomResolver = function () {\n    function CustomResolver(resolver) {\n        _classCallCheck(this, CustomResolver);\n\n        this.fn = resolver;\n        this.dep = [];\n    }\n\n    _createClass(CustomResolver, [{\n        key: 'addDependencies',\n        value: function addDependencies() {\n            var _dep;\n\n            (_dep = this.dep).push.apply(_dep, arguments);\n            return this;\n        }\n    }, {\n        key: 'getDependencies',\n        value: function getDependencies() {\n            return this.dep;\n        }\n    }, {\n        key: 'get',\n        value: function get() {\n            return this.fn;\n        }\n    }]);\n\n    return CustomResolver;\n}();\n\n\n\n/***/ }),\n\n/***/ \"./src/utils/set.js\":\n/*!**************************!*\\\n  !*** ./src/utils/set.js ***!\n  \\**************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar makeEntry = function makeEntry(arr, sCon) {\n    arr.forEach(function (elem) {\n        if (elem === undefined || elem === null) {\n            return;\n        }\n        sCon[elem] = 1;\n    });\n};\n\nvar ForeignSet = function () {\n    function ForeignSet(arr) {\n        _classCallCheck(this, ForeignSet);\n\n        this._set = {};\n        makeEntry(arr, this._set);\n    }\n\n    _createClass(ForeignSet, [{\n        key: \"append\",\n        value: function append(arr) {\n            makeEntry(arr, this._set);\n            return this;\n        }\n    }, {\n        key: \"toArray\",\n        value: function toArray() {\n            return Object.keys(this._set);\n        }\n    }], [{\n        key: \"difference\",\n        value: function difference(set1, set2) {\n            var key = void 0;\n            var filteredKeys = [],\n                s1 = set1._set,\n                s2 = set2._set;\n            for (key in s1) {\n                if (!{}.hasOwnProperty.call(s1, key)) {\n                    continue;\n                }\n                if (key in s2) {\n                    continue;\n                }\n                filteredKeys.push(key);\n            }\n            return new ForeignSet(filteredKeys);\n        }\n    }]);\n\n    return ForeignSet;\n}();\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (ForeignSet);\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=hyperdis.js.map","module.exports = function(module) {\r\n\tif (!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tif (!module.children) module.children = [];\r\n\t\tObject.defineProperty(module, \"loaded\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.l;\r\n\t\t\t}\r\n\t\t});\r\n\t\tObject.defineProperty(module, \"id\", {\r\n\t\t\tenumerable: true,\r\n\t\t\tget: function() {\r\n\t\t\t\treturn module.i;\r\n\t\t\t}\r\n\t\t});\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n};\r\n","/**\n * This file exports constants that will be used to\n * create the state store of the table layout.\n */\n/**\n * The index of top, bottom and center in the matrix\n */\nexport const VIEW_INDEX = {\n    top: 0,\n    center: 1,\n    bottom: 2\n};\n\n/**\n * The width of the grid suppied by the user.\n */\nexport const GRID_WIDTH = 'width';\n\n/**\n * The height of the grid supplied by the user.\n */\nexport const GRID_HEIGHT = 'height';\n\n/**\n  * The border for the grid\n  */\nexport const BORDER = 'border';\n\n /**\n  *  The index of the first visible row in view matrix.\n  */\nexport const ROW_POINTER = 'rowPointer';\n\n/**\n * The index of the first visible column in the view matrix.\n */\nexport const COLUMN_POINTER = 'columnPointer';\n\n/**\n * Flag to specify whether row sizes should be equal.\n */\nexport const ROW_SIZE_IS_EQUAL = 'isRowSizeEqual';\n\n/**\n * Flag to specify whether column sizes are equal.\n */\nexport const COLUMN_SIZE_IS_EQUAL = 'isColumnSizeEqual';\n\n/**\n * Field to store an array an of the widths of visible columns.\n * @computed\n */\nexport const COLUMN_WIDTHS = 'visibleColumnWidths';\n\n/**\n * Field to store an array of heights of visible rows.\n * @computed\n */\nexport const ROW_HEIGHTS = 'visibleRowHeights';\n\n/**\n * Field to store the width of the left matrix.\n * @computed\n */\nexport const LEFT_MATRIX_WIDTH = 'leftMatrixWidth';\n\n/**\n * Field to store the width of the right matrix.\n * @computed\n */\nexport const RIGHT_MATRIX_WIDTH = 'rightMatrixWidth';\n\n/**\n * Field to store the height of the top matrix.\n * @computed\n */\nexport const TOP_MATRIX_HEIGHT = 'topMatrixHeight';\n\n/**\n * Field to store the height of the bottom matrix.\n * @computed\n */\nexport const BOTTOM_MATRIX_HEIGHT = 'bottomMatrixHeight';\n\n/**\n * The dom element to render the layout inside.\n */\nexport const MOUNT_POINT = 'mount';\n\n/**\n * The id attribute of the left table element.\n */\nexport const LEFT_TABLE_ID = 'grid-left';\n\n/**\n * The id attribute of the right table element.\n */\nexport const RIGHT_TABLE_ID = 'grid-right';\n\n/**\n * The id attribute of the top table.\n */\nexport const TOP_TABLE_ID = 'grid-top';\n\n/**\n * The id attribute of the bottom table.\n */\nexport const BOTTOM_TABLE_ID = 'grid-bottom';\n\n/**\n * The id attribute of the center table.\n */\nexport const CENTER_TABLE_ID = 'grid-center';\n\n/**\n * The id attribute of the top div.\n */\nexport const TOP_DIV_ID = 'muze-div-top';\n\n/**\n * The id attribute of the bottom div.\n */\nexport const BOTTOM_DIV_ID = 'muze-div-bottom';\n\n/**\n * The id attribute of the center div.\n */\nexport const CENTER_DIV_ID = 'muze-div-center';\n\n/**\n * Field that indicates if the row configuration has changed\n */\nexport const HAVE_ROWS_CHANGED = 'haveRowsChanged';\n\n/**\n * Field that indicates if the column configuration has changed\n */\nexport const HAVE_COLUMNS_CHANGED = 'haveColumnsChanged';\n\n/**\n * Field that indicates if the values configuration for the center matrix has changed\n */\nexport const HAVE_VALUES_CHANGED = 'haveValuesChanged';\n\n/**\n * Field that indicates the width of row matrix\n */\nexport const ROW_MATRIX_WIDTH = 'rowMatrixWidth';\n\n/**\n * Field that indicates the height of row matrix\n */\nexport const COLUMN_MATRIX_HEIGHT = 'columnMatrixHeight';\n\n/**\n * Field that indicates the unit width of layout\n */\nexport const UNIT_WIDTH = 'unitWidth';\n\n/**\n * Field that indicates the unit height of layout\n */\nexport const UNIT_HEIGHT = 'unitHeight';\n\n/**\n * Field that indicates the style object\n */\nexport const STYLE = 'style';\n\n/**\n * Field that indicates the color configuration\n */\nexport const COLOR = 'color';\n\n/**\n * Field that indicates width\n */\nexport const WIDTH = 'width';\n\n/**\n * Field that indicates collpase property for border\n */\nexport const COLLAPSE = 'collapse';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const SPACING = 'spacing';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const DISTRIBUTION = 'distribution';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const GUTTERSPACE = 'gutterSpace';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const BREAK_PAGE = 'breakPage';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const SHOW_ROW_BORDERS = 'showRowBorders';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const SHOW_COL_BORDERS = 'showColBorders';\n\n/**\n * Field that indicates spacing property for border\n */\nexport const SHOW_VALUE_BORDERS = 'showValueBorders';\n\nexport const HEIGHT = 'height';\nexport const COLUMN = 'column';\nexport const ROW = 'row';\nexport const TOP = 'top';\nexport const LEFT = 'left';\nexport const RIGHT = 'right';\nexport const BOTTOM = 'bottom';\nexport const CENTER = 'center';\nexport const CLICK = 'click';\nexport const ROW_LEFT = 'rowLeft';\nexport const ROW_RIGHT = 'rowRight';\nexport const COLUMN_BOTTOM = 'colBottom';\nexport const COLUMN_TOP = 'colTop';\nexport const AUTO = 'auto';\nexport const ROW_SPAN = 'rowSpan';\nexport const COL_SPAN = 'colSpan';\nexport const ROW_ROOT = 'rowRoot';\nexport const COLUMN_ROOT = 'columnRoot';\nexport const PRIMARY = 'primary';\nexport const SECONDARY = 'secondary';\n","import { sanitizeIP, mergeRecursive } from 'muze-utils';\nimport { TOP, CENTER, BOTTOM } from '../enums/constants';\n\n/*\n * This is the abstract implementation of the root layout. This takes care of common work which all the layouts\n * has to handle. The common work includes sanitizaion of inputs, update, rerender, dispose etc. This class can't be\n * used directly (as ofcourse this is an abstract implementaiton), the class which is implementing it has to implement\n * the necessary methods and gives its on visual.\n */\n\n/**\n * This class is used to create a generic layout. It can be extended to create layouts\n * of different types\n * @class GenericLayout\n */\nexport default class GenericLayout {\n\n    /**\n     * Creates an instance of TableLayout.\n     * @param {HTMLElement} mountPoint DOM element/d3 selection where the layout is to be mounted\n     * @param {Object} measurement The dimensions of the layout\n     * @param {Object} config configuration to be given for the layout\n     * @param {Object} dependencies external dependencies.\n     *\n     * @memberof GenericLayout\n     *\n     */\n    constructor (mountPoint, measurement, config, dependencies) {\n        this._config = {};\n        this._measurement = {};\n        this._matrices = [];\n        // External dependencies to be included for the layout. This includes the ext global dependencies like\n        // smartlabel which has one single implementation of throughout the page or per isntance\n        this._dependencies = dependencies;\n\n        this.measurement(measurement);\n        this.mountPoint(mountPoint);\n        this.config(config);\n    }\n\n    /**\n     * Returns an object which is used to recreate the layout.\n     * @return {Object} the serialized components\n     */\n    serialize () {\n        return {\n            measurement: this.measurement(),\n            config: this.config(),\n            matrices: this.matrices()\n        };\n    }\n\n     /**\n     * Sets/Gets the config for the layout\n     * @param {Object} config configuration for the layout\n     * @return {Layout|Object} Gets the Config/ Returns this instance when set\n     */\n    config (config) {\n        if (config) {\n            this._config = mergeRecursive(this._config || {}, config);\n            return this;\n        }\n        return this._config;\n    }\n\n    /**\n     * Sets/Gets the measurement for the layout\n     * @param {Object} measurement measurement for the layout\n     * @return {Layout|Object} Gets the measurement/ Returns this instance when set\n     */\n    measurement (measurement) {\n        if (measurement) {\n            this._measurement = mergeRecursive(this._measurement || {}, measurement);\n\n            return this;\n        }\n        return this._measurement;\n    }\n\n    /**\n     * Sets/Gets the matrices for the layout\n     * @param {Object} matrices matrices for the layout\n     * @return {Layout|Object} Gets the matrices/ Returns this instance when set\n     */\n    matrices (matrices) {\n        if (matrices) {\n            this._matrices = sanitizeIP.typeObj([TOP, CENTER, BOTTOM], matrices);\n\n            return this;\n        }\n        return this._matrices;\n    }\n\n    /**\n     * Sets/Gets the matrix for row\n     * @param {Object} matrix matrices for the layout\n     * @return {Layout|Object} Gets the matrix/ Returns this instance when set\n     */\n    rowMatrix (matrix) {\n        if (matrix) {\n            this._rowMatrix = matrix;\n            return this;\n        }\n        return this._rowMatrix;\n    }\n\n    /**\n     * Sets/Gets the matrix for columns\n     * @param {Object} matrix matrices for the layout\n     * @return {Layout|Object} Gets the matrix/ Returns this instance when set\n     */\n    columnMatrix (matrix) {\n        if (matrix) {\n            this._columnMatrix = matrix;\n            return this;\n        }\n        return this._columnMatrix;\n    }\n\n   /**\n     * Sets/Gets the matrix for value\n     * @param {Object} matrix matrices for the layout\n     * @return {Layout|Object} Gets the matrix/ Returns this instance when set\n     */\n    centerMatrix (matrix) {\n        if (matrix) {\n            this._centerMatrix = matrix;\n            return this;\n        }\n        return this._centerMatrix;\n    }\n\n    /**\n     * Sets/Gets the mountPoint for the layout\n     * @param {Object} mountPoint mountPoint for the layout\n     * @return {Layout|Object} Gets the mountPoint/ Returns this instance when set\n     */\n    mountPoint (mountPoint) {\n        if (mountPoint) {\n            this._mountPoint = mountPoint;\n\n            return this;\n        }\n        return this._mountPoint;\n    }\n}\n","import { HEIGHT, WIDTH, COLUMN, ROW } from '../enums/constants';\n\n/**\n * Gets measurement for an instance of visual matrix\n *\n * @param {Array} matrix instance of visual matrix\n * @param {string} type height/width\n * @return {Object} Logical height/width of the matrix\n */\nexport function getMatrixMeasurement (matrix, type) {\n    if (matrix) {\n        return matrix.getLogicalSpace()[type];\n    }\n    return 0;\n}\n\n/**\n * Sets available space for an instance of visual matrix\n *\n * @param {Array} matrix instance of visual matrix\n * @param {string} type height/width\n * @param {number} value Value of measurement\n */\nexport function setMatrixMeasurement (matrix, type, value) {\n    if (matrix) {\n        const spaces = matrix.getLogicalSpace();\n        if (value && spaces[type] !== value) {\n            type === HEIGHT ? matrix.setAvailableSpace(spaces.width, value) :\n                matrix.setAvailableSpace(value, spaces.height);\n        }\n    }\n}\n\nconst setAvailableSpace = (matrix, widths, heights) => {\n    matrix.forEach((row, rIdx) => {\n        row.forEach((placeholder, cIdx) => {\n            placeholder.setAvailableSpace(widths[cIdx], heights[rIdx]);\n        });\n    });\n};\n\nconst setViewSpaces = (layout, pointerType, viewSpaces) => {\n    let pointer = layout.config()[`${pointerType}Pointer`];\n    if (viewSpaces.length - 1 < pointer) {\n        pointer = 0;\n        layout.config({ [`${pointerType}Pointer`]: pointer });\n    }\n    return pointer;\n};\n\n/**\n * Computes the measurements of space for all matrices in the\n * layout\n *\n * @param {Object} layout Instance of grid layout\n * @return {Object} set of measurements for the layout\n */\nexport const computeLayoutMeasurements = (layout) => {\n    const rowMatrix = layout.rowMatrix();\n    const columnMatrix = layout.columnMatrix();\n    const centerMatrix = layout.centerMatrix();\n    const {\n        width,\n        height\n    } = layout.measurement();\n    const {\n        border\n    } = layout.config();\n    const matrices = layout.matrices();\n    const {\n        top,\n        bottom\n    } = matrices;\n\n    // Get width of row matrix\n    const rowMatrixWidth = getMatrixMeasurement(rowMatrix, WIDTH);\n    const maxRowMatrixWidth = Math.min(rowMatrixWidth, width / 2);\n\n    // Border adjustment for each cell in the central matrix\n    const borderWidth = border.width;\n\n    // Set width for column matrix\n    const columnMatrixWidth = width - maxRowMatrixWidth - borderWidth;\n\n    const maxColumnMatrixHeight = Math.min(columnMatrix.getLogicalSpace().height, height / 2);\n\n    columnMatrix.setAvailableSpace(columnMatrixWidth, maxColumnMatrixHeight);\n    const columnViewPages = columnMatrix.getViewableSpaces();\n\n    setViewSpaces(layout, COLUMN, columnViewPages);\n\n    // Figuring out total space needed by current view space\n    const columnViewSpace = columnViewPages[layout.config().columnPointer];\n\n    // Getting height of column matrix\n    const columnMatrixHeight = columnViewSpace.height.primary + columnViewSpace.height.secondary;\n\n    // Set height for row matrix\n    const rowMatrixHeight = height - columnMatrixHeight;\n\n    rowMatrix.setAvailableSpace(maxRowMatrixWidth, rowMatrixHeight);\n    // Get heights of each cell of row matrix\n    const rowViewableSpaces = rowMatrix.getViewableSpaces();\n    setViewSpaces(layout, ROW, rowViewableSpaces);\n    const rowHeights = [].concat(...rowViewableSpaces.map(e => e.rowHeights.primary));\n    const rowWidthsPrimary = [].concat(...rowViewableSpaces.map(e => e.columnWidths.primary));\n    const rowWidthsSecondary = [].concat(...rowViewableSpaces.map(e => e.columnWidths.secondary));\n    const columnViewableSpaces = columnMatrix.getViewableSpaces();\n    // Get widths of each cell of column matrix\n    const columnWidths = [].concat(...columnViewableSpaces.map(e => e.columnWidths.primary));\n    const columnHeightsPrimary = columnViewableSpaces[0].rowHeights.primary;\n\n    const columnHeightsSecondary = [].concat(...columnViewableSpaces.map(e => e.rowHeights.secondary));\n\n    // Setting the available space for each cell in the centre matrix\n    centerMatrix.forEach((matrix, rIdx) => {\n        matrix.forEach((placeholder, cIdx) => {\n            placeholder.setAvailableSpace(columnWidths[cIdx] - borderWidth, rowHeights[rIdx] - borderWidth);\n        });\n    });\n    setAvailableSpace(top[0], rowWidthsPrimary, columnHeightsPrimary);\n    setAvailableSpace(top[2], rowWidthsSecondary, columnHeightsPrimary);\n    setAvailableSpace(bottom[0], rowWidthsPrimary, columnHeightsSecondary);\n    setAvailableSpace(bottom[2], rowWidthsSecondary, columnHeightsSecondary);\n\n    return {\n        rowMatrixHeight,\n        rowMatrixWidth,\n        columnMatrixHeight,\n        columnMatrixWidth\n    };\n};\n\n/**\n * Gets view matrices based on current pointers for row and column\n *\n * @param {Object} layout instance of layout\n * @param {number} rowPointer current row pointer\n * @param {number} columnPointer current column pointer\n * @return {Object} returns the view matrix and its relevant information\n */\nexport const getViewMatrices = (layout, rowPointer, columnPointer) => {\n    const rowMatrix = layout.rowMatrix();\n    const columnMatrix = layout.columnMatrix();\n    const centerMatrix = layout.centerMatrix();\n    const matrices = layout.matrices();\n    const rowMatrices = rowMatrix.getViewableMatrices();\n    const columnMatrices = columnMatrix.getViewableMatrices();\n    const centralMatrixPointer = {\n        row: 0,\n        column: 0\n    };\n\n    for (let i = rowPointer - 1; i >= 0; i--) {\n        const length = Math.max(rowMatrices[i].primaryMatrix.length,\n            rowMatrices[i].secondaryMatrix.length);\n        centralMatrixPointer.row += length;\n    }\n     /* istanbul ignore next */\n    for (let i = columnPointer - 1; i >= 0; i--) {\n        const matrix = columnMatrices[i];\n        const { primaryMatrix, secondaryMatrix } = matrix;\n        const length = Math.max(primaryMatrix[0] ? primaryMatrix[0].length : 0,\n            secondaryMatrix[0] ? secondaryMatrix[0].length : 0);\n        centralMatrixPointer.column += length;\n    }\n\n    matrices.top[1] = columnMatrices[columnPointer].primaryMatrix;\n    matrices.bottom[1] = columnMatrices[columnPointer].secondaryMatrix;\n\n    matrices.center[0] = rowMatrices[rowPointer].primaryMatrix;\n    matrices.center[2] = rowMatrices[rowPointer].secondaryMatrix;\n\n    const rowMatrixLen = Math.max(matrices.center[0].length, matrices.center[2].length);\n     /* istanbul ignore next */\n    const columnMatrixLen = Math.max(matrices.top[1][0] ? matrices.top[1][0].length : 0, matrices.bottom[1][0] ?\n            matrices.bottom[1][0].length : 0);\n    matrices.center[1] = centerMatrix.slice(centralMatrixPointer.row, centralMatrixPointer.row + rowMatrixLen)\n        .map(matrix => matrix.slice(centralMatrixPointer.column, centralMatrixPointer.column + columnMatrixLen));\n\n    return {\n        matrices,\n        rowPages: rowMatrices.length,\n        columnPages: columnMatrices.length\n    };\n};\n/**\n * Returns measurements of the cells of the current matrix\n *\n * @param {Object} layout instance of layout\n * @return {Object} returns the measurements for current view matrix\n */\nexport const getViewMeasurements = (layout) => {\n    const rowMatrix = layout.rowMatrix();\n    const columnMatrix = layout.columnMatrix();\n    const {\n        width,\n        height\n    } = layout.measurement();\n    const {\n        columnPointer,\n        rowPointer\n    } = layout.config();\n\n    const rowMatrixWidth = rowMatrix.getViewableSpaces()[rowPointer].width;\n    const { primary: leftWidth, secondary: rightWidth } = rowMatrixWidth;\n\n    const columnMatrixHeight = columnMatrix.getViewableSpaces()[columnPointer].height;\n    const { primary: topHeight, secondary: bottomHeight } = columnMatrixHeight;\n\n    const centerHeight = height - (topHeight + bottomHeight);\n    const centerWidth = width - (leftWidth + rightWidth);\n\n    return {\n        viewWidth: [leftWidth, centerWidth, rightWidth],\n        viewHeight: [topHeight, centerHeight, bottomHeight]\n    };\n};\n","import * as FieldNames from '../enums/constants';\n\n/**\n * Default configuration of the layout\n * @return {Object} returns the default configuration\n */\nexport const DEFAULT_CONFIGURATION = {\n    [FieldNames.BORDER]: {\n        [FieldNames.STYLE]: 'solid',\n        [FieldNames.COLOR]: '#d6d6d6',\n        [FieldNames.WIDTH]: 2,\n        [FieldNames.COLLAPSE]: true,\n        [FieldNames.SPACING]: 0\n    },\n    [FieldNames.GUTTERSPACE]: { rows: [], columns: [] },\n    [FieldNames.DISTRIBUTION]: { rows: [], columns: [] },\n    [FieldNames.BREAK_PAGE]: { rows: [], columns: [] },\n    [FieldNames.ROW_SIZE_IS_EQUAL]: false,\n    [FieldNames.COLUMN_SIZE_IS_EQUAL]: false,\n    [FieldNames.COLUMN_POINTER]: 0,\n    [FieldNames.ROW_POINTER]: 0\n};\n\n/**\n * Default measurements for the layout\n * @return {Object} returns the default measurements\n */\nexport const DEFAULT_MEASUREMENTS = {\n    [FieldNames.GRID_WIDTH]: 100,\n    [FieldNames.GRID_HEIGHT]: 100,\n    [FieldNames.UNIT_WIDTH]: 100,\n    [FieldNames.UNIT_HEIGHT]: 100\n};\n\nexport const BLANK_BORDERS = 'rgba(0,0,0,0)';\n","export { default as GridLayout } from './layout';\n\n","import RowMatrix from '../visual-matrix/row-matrix';\nimport ColumnMatrix from '../visual-matrix/column-matrix';\n\nexport const generateVisualMatrices = (context, matrices) => {\n    // Set of matrices for layout is generated starting with the left matrix\n    let leftMatrix = [];\n    let rightMatrix = [];\n    let topMatrix = [];\n    let bottomMatrix = [];\n    let begColCells;\n    let endColCells;\n    const {\n        isRowSizeEqual,\n        isColumnSizeEqual,\n        gutterSpace,\n        distribution,\n        border,\n        breakPage,\n        priority\n    } = context.config();\n    const {\n        minUnitHeight,\n        minUnitWidth\n    } = context.measurement();\n    const { top, center, bottom } = matrices;\n    const [topLeft, topColumns, topRight] = top;\n    const [leftRows, valueMatrix, rightRows] = center;\n    const [bottomLeft, bottomColumns, bottomRight] = bottom;\n\n    if (leftRows.length > 0) {\n        // If no left matrix is present, context will be empty\n        leftMatrix = [...topLeft, ...leftRows, ...bottomLeft];\n    }\n    if (rightRows.length > 0) {\n        // If no right matrix is present, context will be empty\n        rightMatrix = [...topRight, ...rightRows, ...bottomRight];\n    }\n    if (topColumns.length > 0 && topColumns[0].length > 0) {\n        // If no top matrix is present, context will be empty\n        topMatrix = topColumns.map((d, i) => [...topLeft[i], ...d, ...topRight[i]]);\n    }\n    if (bottomColumns.length > 0 && bottomColumns[0].length > 0) {\n        // If no bottom matrix is present, context will be empty\n        bottomMatrix = bottomColumns.map((d, i) => [...bottomLeft[i], ...d, ...bottomRight[i]]);\n    }\n\n    context.rowMatrix(new RowMatrix([leftMatrix, rightMatrix], {\n        isDistributionEqual: isRowSizeEqual,\n        distribution: distribution.rows,\n        gutter: gutterSpace.rows,\n        unitMeasures: {\n            width: minUnitWidth,\n            height: minUnitHeight,\n            border: border.width\n        },\n        priority: priority.row,\n        breakPage: breakPage.rows.map(e => e + Math.max(topLeft.length, topRight.length)),\n        extraCellLengths: [topLeft.length, bottomLeft.length]\n    }));\n\n    if (topLeft.length > 0) {\n        begColCells = topLeft[0].length;\n    } else {\n        begColCells = bottomLeft.length > 0 ? bottomLeft[0].length : 0;\n    }\n\n    if (topRight.length > 0) {\n        endColCells = topRight[0].length;\n    } else {\n        endColCells = bottomRight.length > 0 ? bottomRight[0].length : 0;\n    }\n\n    context.columnMatrix(new ColumnMatrix([topMatrix, bottomMatrix], {\n        isDistributionEqual: isColumnSizeEqual,\n        distribution: distribution.columns,\n        gutter: gutterSpace.columns,\n        isTransposed: true,\n        unitMeasures: {\n            width: minUnitWidth,\n            height: minUnitHeight,\n            border: border.width\n        },\n        priority: priority.col,\n        breakPage: breakPage.columns,\n        extraCellLengths: [begColCells, endColCells]\n    }));\n    context.centerMatrix(valueMatrix);\n\n    return matrices;\n};\n","/**\n * This file declares a table that can be extended to create a Datagrid, crosstab\n * and man other visualzations that require a tabular structure.\n */\n\nimport { getUniqueId } from 'muze-utils';\nimport GenericLayout from '../generic-layout';\nimport { DEFAULT_CONFIGURATION, DEFAULT_MEASUREMENTS } from './defaults';\nimport {\n    renderMatrices\n} from './renderer';\nimport { generateVisualMatrices } from './layout-helper';\nimport { computeLayoutMeasurements, getViewMeasurements, getViewMatrices } from './computations';\n/**\n * This class is used to create a tabular structure that\n * can house charts and values.\n *\n * @class GridLayout\n */\nexport default class GridLayout extends GenericLayout {\n\n    /**\n     * Creates an instance of TableLayout.\n     * @param {HTMLElement} matrices Set of upto 9 matrices containing the cells to be rendered\n     * @param {HTMLElement} mountPoint DOM element/d3 selection where the layout is to be mounted\n     * @param {Object} measurement The dimensions of the layout\n     * @param {Object} config external configurations.\n     * @memberof GenericLayout\n     */\n    constructor (matrices, mountPoint, measurement, config) {\n        super(mountPoint, measurement, config);\n        this.matrices(matrices);\n        this.config(this.constructor.defaultConfig());\n        this._layoutId = getUniqueId();\n        this._viewInfo = this.constructor.defaultViewInfo();\n    }\n\n    static defaultViewInfo () {\n        return Object.assign({}, {\n            layoutDimensions: {\n                border: this.defaultConfig().border,\n                viewHeight: [0, 0, 0],\n                viewWidth: [0, 0, 0]\n            },\n            viewMatricesInfo: {\n                columnPages: 0,\n                rowPages: 0,\n                matrices: { top: [], center: [], bottom: [] }\n            }\n        });\n    }\n\n    /**\n     * Returns initial set of measurements for the grid layout\n     *\n     * @static\n     * @return {Object} Returns initial set of measurements\n     * @memberof GridLayout\n     */\n    static defaultMeasurement () {\n        return DEFAULT_MEASUREMENTS;\n    }\n\n    /**\n     * Returns initialconfiguration for grid layout\n     *\n     * @static\n     * @return {Object} Returns initial configuration for grid layout\n     * @memberof GridLayout\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIGURATION;\n    }\n\n    /**\n     * This function is used to return an instance of GridLayout\n     *\n     * @return {GridLayout} Instance of grid layout.\n     * @static\n     * @memberof GridLayout\n     */\n    static create () {\n        return new GridLayout(null, null, this.defaultMeasurement(), this.defaultConfig());\n    }\n\n    /**\n     * Sets/Gets the matrices for the layout\n     *\n     * @param {Array} matrices Set of matrices\n     * @return {Object} Getter/Setter\n     * @memberof GridLayout\n     */\n    matrices (matrices) {\n        if (matrices) {\n            this._matrices = generateVisualMatrices(this, matrices);\n            return this;\n        }\n        return super.matrices(matrices);\n    }\n\n    /**\n     * Triggers the computations for the layout based on the matrices available\n     * This causes a reflow in the entire layout system.\n     *\n     * @return {Object} Layout instance\n     * @memberof GridLayout\n     */\n    triggerReflow () {\n        computeLayoutMeasurements(this);\n        this.setViewInformation();\n        return this;\n    }\n\n    gotoPage (type, pageNumber) {\n        const pageType = type.toLowerCase();\n        const { viewMatricesInfo } = this.viewInfo();\n        const totalPages = viewMatricesInfo[`${pageType}Pages`];\n        const pointer = Math.min(Math.max(1, pageNumber), totalPages);\n        this.config({\n            [`${pageType}Pointer`]: pointer - 1\n        });\n        this.setViewInformation();\n        this.renderGrid();\n        return this;\n    }\n\n    pages (type) {\n        const { viewMatricesInfo } = this.viewInfo();\n        const pageType = type.toLowerCase();\n        return {\n            totalPages: viewMatricesInfo[`${pageType}Pages`],\n            currentPage: this.config()[`${pageType}Pointer`] + 1\n        };\n    }\n\n    viewInfo (...viewInfo) {\n        if (viewInfo.length) {\n            this._viewInfo = viewInfo[0];\n            return this;\n        }\n        return this._viewInfo;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof GridLayout\n     */\n    setViewInformation () {\n        const {\n            rowPointer,\n            columnPointer,\n            border\n        } = this.config();\n        const viewMatricesInfo = getViewMatrices(this, rowPointer, columnPointer);\n        const layoutDimensions = getViewMeasurements(this);\n        layoutDimensions.border = border;\n        this.viewInfo({\n            viewMatricesInfo,\n            layoutDimensions\n        });\n        return this;\n    }\n\n    /**\n     * Renders the layout\n     *\n     * @return {Object} current instance\n     * @memberof GridLayout\n     */\n    renderGrid (mountPoint) {\n        this.mountPoint(mountPoint);\n        if (!this.mountPoint()) {\n            return this;\n        }\n        const viewInfo = this.viewInfo();\n        const {\n                viewMatricesInfo,\n                layoutDimensions\n            } = viewInfo;\n            // Render matrices\n        renderMatrices(this, viewMatricesInfo.matrices, layoutDimensions);\n        return this;\n    }\n}\n","import { makeElement, selectElement } from 'muze-utils';\nimport { cellSpanMaker } from './span-maker';\nimport {\n     TOP, LEFT, RIGHT, BOTTOM, CENTER, WIDTH, ROW_SPAN, COL_SPAN\n} from '../enums/constants';\nimport { BLANK_BORDERS } from './defaults';\n\n/**\n * Creates a table element of the layout\n *\n * @param {Object} mount Mount point for table elements\n * @param {string} className defines class name\n * @param {Array} rowData set of rows for the table\n * @return {Selection} set of selections for the table\n */\nfunction renderTable (mount, className, rowData) {\n    const table = makeElement(mount, 'table', ['layout'], `${className}-table`);\n    const body = makeElement(table, 'tbody', ['layout'], `${className}-body`);\n    const rows = makeElement(body, 'tr', rowData, `${className}-tr`);\n    const cells = makeElement(rows, 'td', (d, i) => d.filter(e => e !== null && e.config().show).map(e =>\n                                ({ placeholder: e, rowIndex: i })), `${className}-td`, {}, key => key.placeholder.id);\n\n    return { table, body, rows, cells };\n}\n\nfunction applyRowBorders (cells, borderStyle, showBorders, color) {\n    [TOP, BOTTOM].forEach((borderType) => {\n        const style = `${borderStyle} ${showBorders[borderType] ? color : BLANK_BORDERS}`;\n        cells.style(`border-${borderType}`, style);\n    });\n}\n\nfunction applyColBorders (cells, borderStyle, showBorders, color) {\n    [LEFT, RIGHT].forEach((borderType) => {\n        const style = `${borderStyle} ${showBorders[borderType] ? color : BLANK_BORDERS}`;\n        cells.style(`border-${borderType}`, style);\n    });\n}\n\n/**\n * Applies borders to the cells in a matrix\n *\n * @param {Selection} cells Set of cells made from the matrix\n * @param {Object} border Border info for layout\n * @param {string} type Type of matrix(top/center/bottom)\n * @param {number} index Column index of matrix in the row\n */\nfunction applyBorders (cells, border, type, index) {\n    const {\n        width,\n        style,\n        color,\n        showRowBorders,\n        showColBorders,\n        showValueBorders\n    } = border;\n    const borderStyle = `${width}px ${style}`;\n\n    if (type === CENTER && index === 1) {\n        [TOP, BOTTOM, LEFT, RIGHT].forEach((borderType) => {\n            cells.style(`border-${borderType}`, `${borderStyle} ${showValueBorders[borderType] ?\n                color : BLANK_BORDERS}`);\n        });\n    } else if (type === CENTER) {\n        applyRowBorders(cells, borderStyle, showRowBorders, color);\n    } else if (index === 1) {\n        applyColBorders(cells, borderStyle, showColBorders, color);\n    }\n}\n\n/**\n * Renders a set of matrices in a row\n *\n * @param {Array} matrices Set of matrices in a row\n * @param {Selection} mountPoint Mount point for the row\n * @param {string} type top/center/bottom\n * @param {Object} dimensions dimensions of the matrix\n */\nfunction renderMatrix (matrices, mountPoint, type, dimensions, classPrefix) {\n    matrices.forEach((matrix, index) => {\n        // Creating containers for each matrix individually\n        const containerForMatrix = makeElement(mountPoint, 'div', [1], `${classPrefix}-grid-${type}-${index + 1}`)\n        .classed(`${classPrefix}-grid-${type}`, true)\n        .classed(`${classPrefix}-grid`, true);\n\n        const {\n            viewMatrix,\n            spans\n        } = cellSpanMaker(matrix, type, index);\n\n        // Rendering the table components\n        const { cells } = renderTable(containerForMatrix, `${classPrefix}-grid`, viewMatrix);\n\n        if (type === CENTER && spans) {\n            cells.attr(ROW_SPAN, function (cell, colIndex) {\n                const span = spans[cell.rowIndex][colIndex];\n                const placeholder = cell.placeholder;\n                selectElement(this).style('height', `${placeholder.availHeight() + dimensions.border.width}px`);\n                if (span > 1) {\n                    placeholder.setAvailableSpace(placeholder.availWidth(), placeholder.availHeight() * span);\n                }\n                return span;\n            });\n        } else if ((type === TOP || type === BOTTOM) && index === 1) {\n            cells.attr(COL_SPAN, function (cell, colIndex) {\n                const span = spans[cell.rowIndex][colIndex];\n                const placeholder = cell.placeholder;\n                if (span > 1) {\n                    placeholder.setAvailableSpace(placeholder.availWidth() * span, placeholder.availHeight());\n                }\n                selectElement(this).style('height', `${placeholder.availHeight()}px`);\n                return span;\n            });\n        }\n        // Rendering content within placeholders\n        cells.each(function (cell) {\n            cell.placeholder && cell.placeholder.render(this);\n        }).exit().each((cell) => {\n            cell.placeholder && cell.placeholder.remove();\n        });\n\n        applyBorders(cells, dimensions.border, type, index);\n    });\n}\n\n/**\n * Renders all the matrices of the layout\n *\n * @export\n * @param {Array} matrices Set of matrices in the layout\n * @param {Array} mountPoints Mount points for each row of matrix\n * @param {Array} layoutDimensions Dimensions(height/width) of all the matrices\n */\nexport function renderMatrices (context, matrices, layoutDimensions) {\n    const {\n        top,\n        center,\n        bottom\n    } = matrices;\n    const {\n        classPrefix\n    } = context.config();\n    const {\n        width\n    } = context.measurement();\n    const mount = context.mountPoint();\n\n    const data = [\n        { type: TOP, matrix: top },\n        { type: CENTER, matrix: center },\n        { type: BOTTOM, matrix: bottom }\n    ];\n    makeElement(mount, 'div', data, `${classPrefix}-grid-layout-row`)\n                    .each(function (d, i) {\n                        const row = selectElement(this);\n                        row.classed(`${classPrefix}-grid-layout-row-${i}`, true);\n                        renderMatrix(d.matrix, row, d.type, layoutDimensions, classPrefix);\n                    })\n                    .style(WIDTH, `${Math.ceil(width)}px`);\n}\n","import { ROW_LEFT, ROW_RIGHT, COLUMN_BOTTOM, COLUMN_TOP, TOP, BOTTOM } from '../enums/constants';\n/**\n * This callback is used to filter the array of\n * placeholder cells and filter out cells which have\n * appeared in a previous row.\n *\n * @param {Placeholder} colData Instance of placeholder.\n * @param {number} colIdx The index of the placeholder in array.\n * @param {Array} matrix The 2d array for which filtering is to be done\n * @param {number} rIdx The index of the row of the placeholder in array.\n * @param {string} type The type of matrix it is (rowLeft, rowRight, colTop, colBottom)\n * @return {boolean} flag to keep/remove element.\n */\nconst columnFilter = (colData, colIdx, matrix, rIdx, type) => {\n    const previousRow = matrix[rIdx - 1];\n    const currentRow = matrix[rIdx];\n\n    // Row Span for left\n    if (type === ROW_LEFT) {\n        if (!previousRow) {\n            return colData;\n        }\n        let i = 0;\n        for (;i <= colIdx; i += 1) {\n            if (currentRow[i].valueOf() !== previousRow[i].valueOf()) {\n                break;\n            }\n        }\n        return (i - 1 === colIdx) ? null : colData;\n    } else if (type === ROW_RIGHT) {\n        if (!previousRow || colIdx === 0) {\n            return colData;\n        }\n        let j = colIdx;\n        for (; j < currentRow.length; j += 1) {\n            if (previousRow[j].valueOf() !== currentRow[j].valueOf()) {\n                break;\n            }\n        }\n        return (j === currentRow.length) ? null : colData;\n    } else if (type === COLUMN_BOTTOM) {\n        if (rIdx === 0) {\n            return colData;\n        }\n        const prevCell = currentRow[colIdx - 1];\n        if (prevCell) {\n            if (prevCell.valueOf() === colData.valueOf()) {\n                const nextRow = matrix[rIdx + 1];\n                if (!nextRow) {\n                    return null;\n                }\n                if (nextRow[colIdx].valueOf() === nextRow[colIdx - 1].valueOf()) {\n                    return null;\n                }\n                return colData;\n            }\n            return colData;\n        }\n        return colData;\n    } else if (type === COLUMN_TOP) {\n        if (rIdx === matrix.length - 1 && matrix.length > 1) {\n            return colData;\n        }\n        const prevCell = currentRow[colIdx - 1];\n        if (prevCell && (prevCell.valueOf() === colData.valueOf())) {\n            const prevRow = matrix[rIdx - 1];\n            if (prevRow) {\n                if (prevRow[colIdx].valueOf() === prevRow[colIdx - 1].valueOf()) {\n                    return null;\n                }\n                return colData;\n            }\n            return null;\n        }\n        return colData;\n    }\n    return colData;\n};\n\n/**\n * This callback is used to calculate the rowspan\n * by checking for repeating entries in subsequent rows\n * at the specified column.\n *\n * @param {Placeholder} colData Instance of placeholder.\n * @param {number} colIdx The index of the placeholder in the array.\n * @param {Array} matrix The 2d array for which filtering is to be done\n * @param {number} rIdx The index of the row of the placeholder in array.\n * @return {number} The row span.\n */\nconst calcRowSpan = (colData, colIdx, matrix, rIdx) => {\n    let count = 1;\n    // if data is not header cell then rowspan\n    // has to be 1\n    if (!colData || typeof colData.valueOf() !== 'string') {\n        return 1;\n    }\n    let isNull = false;\n    while (!isNull) {\n        if (matrix[rIdx + count] && matrix[rIdx + count][colIdx] === null) {\n            count += 1;\n        } else {\n            isNull = true;\n        }\n    }\n    return count;\n};\n/**\n * This callback is used to calculate the rowspan\n * by checking for repeating entries in subsequent rows\n * at the specified column.\n *\n * @param {Placeholder} colData Instance of placeholder.\n * @param {number} colIdx The index of the placeholder in the array.\n * @param {Array} matrix The 2d array for which filtering is to be done\n * @param {number} rIdx The index of the row of the placeholder in array.\n * @return {number} The row span.\n */\nconst calcColSpan = (colData, colIdx, matrix, rIdx) => {\n    let count = 1;\n    // if data is not header cell then rowspan\n    // has to be 1\n    if (!colData || typeof colData.valueOf() !== 'string') {\n        return 1;\n    }\n    let isNull = false;\n    while (!isNull) {\n        if (matrix[rIdx][colIdx + count] === null) {\n            count += 1;\n        } else {\n            isNull = true;\n        }\n    }\n    return count;\n};\n\n// create a masking matrix to strip out repeating columns\n// and calculate rowspan.\nconst mask = function (matrix, type) {\n    return matrix.map((row, rIdx) => {\n        if (type === ROW_LEFT || type === ROW_RIGHT) {\n            const filteredRow = row.map((col, colIndex) => columnFilter(col, colIndex, matrix, rIdx, type));\n            const temp = [];\n            const diff = row.length - filteredRow.length;\n            for (let i = 0; i < diff; i += 1) {\n                temp.push(null);\n            }\n            if (type === ROW_RIGHT) {\n                temp.unshift(...filteredRow);\n                return temp;\n            }\n            temp.push(...filteredRow);\n            return temp;\n        }\n\n        const filteredRow = row.map((col, colIndex) => columnFilter(col, colIndex, matrix, rIdx, type));\n        const temp = [];\n        temp.push(...filteredRow);\n        return temp;\n    });\n};\n\n/**\n * This function is used to set the col and row spans\n * for the matrices based on repeated/hierarchichal data\n *\n * @export\n * @param {Array} matrix The 2d array for which filtering is to be done\n * @param {string} type Type of array (center, top, bottom)\n * @param {number} index Index of array in the row\n * @return {Object} containing the view matrix and their spans\n */\nexport function cellSpanMaker (matrix, type, index) {\n    let span = '';\n    if (type === TOP || type === BOTTOM) {\n        span = type === TOP ? COLUMN_TOP : COLUMN_BOTTOM;\n        const viewMatrix = mask(matrix, span);\n        const spans = viewMatrix.map((row, ridx) => row.map((col, i) => calcColSpan(col, i, viewMatrix, ridx))\n                        .filter(col => col !== 1));\n        return { viewMatrix, spans };\n    } else if (index === 0 || index === 2) {\n        span = index === 0 ? ROW_LEFT : ROW_RIGHT;\n        const viewMatrix = mask(matrix, span);\n        const spans = [];\n        viewMatrix.forEach((row, ridx) => {\n            spans[ridx] = spans[ridx] || [];\n            row.forEach((col, i) => {\n                if (viewMatrix[ridx][i]) {\n                    const currSpan = calcRowSpan(col, i, viewMatrix, ridx);\n                    currSpan && spans[ridx].push(currSpan);\n                }\n            });\n        });\n        return { viewMatrix, spans };\n    }\n    return { viewMatrix: matrix };\n}\n","/**\n * This file is used to export all the public classes in this module.\n * @module Layout\n */\n\nexport { GridLayout } from './grid-layout';\n","/**\n * This file exports utility functions that are used across the layout module\n */\nimport { Symbols } from 'muze-utils';\nimport { PRIMARY, SECONDARY, HEIGHT, WIDTH } from '../enums/constants';\n\nconst nest = Symbols.nest;\n/**\n *\n *\n * @param {*} isTransposed\n *\n */\nconst getMeasureInfo = (isTransposed) => {\n    if (isTransposed) {\n        return {\n            firstMeasure: HEIGHT,\n            secondMeasure: WIDTH\n        };\n    }\n    return {\n        firstMeasure: WIDTH,\n        secondMeasure: HEIGHT\n    };\n};\n\n/**\n *\n *\n * @param {*} i\n * @param {*} page\n *\n */\nconst findInPage = (i, page) => {\n    let count = 0;\n    for (const x in page) {\n        if (i < page[x]) {\n            count = x;\n            break;\n        }\n    }\n    return count;\n};\n\n/**\n * Creates a single matrix from two matrices\n *\n * @param {Array<Array>} matrix Input matrix\n * @return {Array<Array>} Joined matrix\n * @memberof VisualMatrix\n */\nexport const combineMatrices = (matrix, config) => {\n    const { isTransposed } = config;\n    let joinedMatrix = matrix[0].length > 0 ? matrix[0] : matrix[1];\n    if (isTransposed) {\n        joinedMatrix = matrix[0].length > 0 ? [...matrix[0]] : [];\n        joinedMatrix = matrix[1].length > 0 ? [...joinedMatrix, ...matrix[1]] : joinedMatrix;\n    } else {\n        joinedMatrix = joinedMatrix.map((row, rowIndex) => {\n            let rowData = [];\n            if (matrix[0].length > 0) {\n                rowData = [...matrix[0][rowIndex]];\n            }\n            if (matrix[1].length > 0) {\n                rowData = [...rowData, ...matrix[1][rowIndex]];\n            }\n            return rowData;\n        });\n    }\n    return joinedMatrix;\n};\n\n/**\n * Creates a hirachical tree from the context\n *\n * @param {Object} context context for creating tree\n * @return {Object} nested tree\n */\nexport const createTree = (context) => {\n    let matrixTree = {};\n    let lastLevelKey = 0;\n    let facet = PRIMARY;\n    const nestFn = nest();\n    const keys = [];\n    const layoutMatrix = context._layoutMatrix;\n    const primaryMatrix = context.primaryMatrix();\n    const secondaryMatrix = context.secondaryMatrix();\n    const { isTransposed, breakPage } = context.config();\n\n    if (!isTransposed) {\n        if (primaryMatrix.length === 0) {\n            facet = PRIMARY;\n        } else if (secondaryMatrix.length === 0) {\n            facet = SECONDARY;\n        } else {\n            facet = primaryMatrix.length >= secondaryMatrix.length ? PRIMARY : SECONDARY;\n        }\n        if (primaryMatrix.length > 0) {\n            for (let i = 0; i < primaryMatrix[0].length - 1; i++) {\n                keys.push(i);\n            }\n            keys.push(primaryMatrix[0].length - 1);\n            if (facet === SECONDARY || secondaryMatrix.length === 0) {\n                lastLevelKey = primaryMatrix[0].length - 1;\n            }\n        }\n        if (secondaryMatrix.length > 0) {\n            const keyLength = primaryMatrix.length > 0 ? primaryMatrix[0].length : 0;\n            for (let i = secondaryMatrix[0].length - 1; i > 0; i--) {\n                keys.push(i + keyLength);\n            }\n            keys.push(keyLength);\n\n            if (facet === PRIMARY) {\n                lastLevelKey = keyLength;\n            }\n        } else {\n            lastLevelKey = primaryMatrix.length > 0 ? primaryMatrix[0].length - 1 : 0;\n        }\n        keys.forEach((key) => {\n            let counter = -1;\n            return nestFn.key((d) => {\n                counter++;\n                return `${d[key].valueOf()}-${findInPage(counter, breakPage)}`;\n            });\n        });\n        matrixTree = nestFn.entries(layoutMatrix);\n    } else {\n        if (primaryMatrix.length === 0) {\n            facet = PRIMARY;\n        } else if (secondaryMatrix.length === 0) {\n            facet = SECONDARY;\n        } else {\n            facet = primaryMatrix.length >= secondaryMatrix.length ? PRIMARY : SECONDARY;\n        }\n        if (primaryMatrix.length > 0) {\n            for (let i = 0; i < primaryMatrix.length - 1; i++) {\n                keys.push(i);\n            }\n            // if (facet === PRIMARY) {\n            keys.push(primaryMatrix.length - 1);\n            // } else {\n            if (facet === SECONDARY) {\n                lastLevelKey = primaryMatrix.length - 1;\n            }\n        }\n        if (secondaryMatrix.length > 0) {\n            const primaryMatrixLength = primaryMatrix.length;\n            for (let i = secondaryMatrix.length - 1; i > 0; i--) {\n                keys.push(i + primaryMatrixLength);\n            }\n            // if (facet === SECONDARY) {\n            keys.push(primaryMatrixLength);\n            // }\n            if (facet === PRIMARY) {\n                lastLevelKey = primaryMatrixLength;\n            }\n        }\n        keys.forEach((key) => {\n            let counter = -1;\n            return nestFn.key((d) => {\n                counter++;\n                return `${d[key].valueOf()}-${findInPage(counter, breakPage)}`;\n            });\n        });\n        let newMatrix = [];\n        newMatrix = layoutMatrix[0].map((col, colIndex) => layoutMatrix.map(row => row[colIndex]));\n        matrixTree = nestFn.entries(newMatrix);\n    }\n    return { tree: matrixTree, lastLevelKey };\n};\n\n/**\n * Gives the min measues\n *\n * @param {boolean} isTransposed is column matrix\n * @param {Object} unitMeasures min measures to be given to cells\n * @return {Object} dimension min cell\n */\nexport const getMinMeasures = (isTransposed, unitMeasures) => {\n    if (!isTransposed) {\n        return {\n            height: unitMeasures.height,\n            width: 0\n        };\n    }\n    return {\n        height: 0,\n        width: unitMeasures.width\n    };\n};\n\n/**\n * Get the logical space from the tree\n *\n * @param {Node} item tree to be calculated\n * @param {number} measures width and height\n * @param {Array} minMeasures min measures for a cell\n * @param {Array} maxMeasure max measures for a col/row\n * @return {Object} dimension\n */\nexport const getLogicalSpace = (item, measures, minMeasures, maxMeasure = []) => {\n    const { firstMeasure, secondMeasure } = measures;\n    let firstMeasureValue = 0;\n    let secondMeasureValue = 0;\n    item.values.forEach((valueArray) => {\n        let fMeasure = 0;\n        let sMeasure = 0;\n        valueArray.forEach((placeholder, colIndex) => {\n            placeholder.setAvailableSpace();\n            const space = placeholder.getLogicalSpace();\n\n            sMeasure = Math.max(sMeasure, +space[secondMeasure], minMeasures[secondMeasure]);\n            maxMeasure[colIndex] = Math.max(maxMeasure[colIndex] || 0, space[firstMeasure]);\n            fMeasure += +maxMeasure[colIndex];\n        });\n        secondMeasureValue += sMeasure;\n        firstMeasureValue = Math.max(firstMeasureValue, fMeasure);\n        item.space = {\n            [secondMeasure]: Math.ceil(secondMeasureValue),\n            [firstMeasure]: Math.ceil(firstMeasureValue)\n        };\n    });\n    return {\n        [secondMeasure]: secondMeasureValue,\n        [firstMeasure]: firstMeasureValue\n    };\n};\n\n/**\n * Computes the logical spcae taken by the matrix tree\n *\n * @param {*} [item={}] tree to be viewed\n * @param {boolean} [isTransposed=false] is column matrix\n * @param {*} unitMeasures min measues for a cell\n * @param {Array} maxMeasure max measures for a col/row\n * @return {Object} logical space taken\n */\nexport const computeLogicalSpace = (item = {}, config, maxMeasures) => {\n    const { isTransposed = false, unitMeasures } = config;\n    const { firstMeasure, secondMeasure } = getMeasureInfo(isTransposed);\n    const { values } = item;\n    const minMeasures = getMinMeasures(isTransposed, unitMeasures);\n    if (values[0].key) {\n        const logicalSpace = { [firstMeasure]: 0, [secondMeasure]: 0 };\n\n        values.forEach((valueItem) => {\n            // Compute logical space for lowest level\n            const space = computeLogicalSpace(valueItem, config, maxMeasures);\n            // Set logical space for first measure\n            logicalSpace[firstMeasure] = Math.max(logicalSpace[firstMeasure], space[firstMeasure],\n                minMeasures[firstMeasure]);\n            // Set logical space for second measure\n            logicalSpace[secondMeasure] += +space[secondMeasure];\n        });\n        item.space = logicalSpace;\n        return logicalSpace;\n    }\n    return getLogicalSpace(item, { firstMeasure, secondMeasure }, minMeasures, maxMeasures);\n};\n\n/**\n * Gives the space taken by a row\n *\n * @param {Array} row matrix array of rows\n * @return {Object} dimension of the row\n */\nexport const spaceTakenByRow = (row) => {\n    let height = 0;\n    let width = 0;\n    row.forEach((col) => {\n        const spaces = col.getLogicalSpace();\n        height = Math.max(height, spaces.height);\n        width += spaces.width;\n    });\n    return {\n        width,\n        height\n    };\n};\n\n/**\n * Gives the space taken by a column\n *\n * @param {Array<Array>} matrix column matrix\n * @param {number} colIndex column index\n * @return {Object} dimension of the column\n */\nexport const spaceTakenByColumn = (matrix, colIndex) => {\n    let height = 0;\n    let width = 0;\n    matrix.forEach((row) => {\n        const col = row[colIndex];\n        const spaces = col.getLogicalSpace();\n        width = Math.max(width, spaces.width);\n        height += spaces.height;\n    });\n    return {\n        width,\n        height\n    };\n};\n\n/**\n * Creates different level matrices\n *\n * @param {Object} item matrix tree\n * @param {boolean} isTransposed is column matrix\n * @return {Object} matrix of each level\n */\nexport const createMatrixEachLevel = (item, isTransposed) => {\n    if (item.values[0].key) {\n        const arr = [];\n        item.values.forEach((child) => {\n            if (!isTransposed) {\n                arr.push(...createMatrixEachLevel(child, isTransposed));\n            } else {\n                const eachLevel = createMatrixEachLevel(child, isTransposed);\n                eachLevel.forEach((e, i) => {\n                    arr[i] = arr[i] || [];\n                    arr[i].push(...e);\n                });\n            }\n        });\n        item.matrix = arr;\n        return arr;\n    }\n    if (!isTransposed) {\n        item.matrix = item.values;\n    } else {\n        item.matrix = item.values[0].map((col, colIndex) => item.values.map(row => row[colIndex]));\n    }\n    return item.matrix;\n};\n\n/**\n * Breaks the matrix into two part\n *\n * @param {Array<Array>} matrix input matrix\n * @param {boolean} isTransposed is column matrix\n * @param {number} breakPointer point in matrix where it is to be broken\n * @return {Array} two broken matrix\n */\nexport const breakMatrix = (matrix, isTransposed, breakPointer) => {\n    const primaryMatrix = [];\n    const secondaryMatrix = [];\n    if (isTransposed) {\n        matrix.forEach((row, rowIndex) => {\n            if (rowIndex >= breakPointer) {\n                secondaryMatrix.push(row);\n            } else {\n                primaryMatrix.push(row);\n            }\n        });\n    } else {\n        matrix.forEach((row, rowIndex) => {\n            row.forEach((column, columnIndex) => {\n                if (columnIndex >= breakPointer) {\n                    secondaryMatrix[rowIndex] = secondaryMatrix[rowIndex] || [];\n                    secondaryMatrix[rowIndex].push(column);\n                } else {\n                    primaryMatrix[rowIndex] = primaryMatrix[rowIndex] || [];\n                    primaryMatrix[rowIndex].push(column);\n                }\n            });\n        });\n    }\n    return [primaryMatrix, secondaryMatrix];\n};\n\n/**\n * Distributed width returned\n *\n * @param {Object} context context for the width distibution\n * @return {number} distributed widths\n */\nexport const getDistributedWidth = (context, layoutConfig) => {\n    const {\n        availableWidth,\n        width,\n        row\n    } = context;\n    const {\n        isDistributionEqual,\n        isTransposed,\n        distribution\n    } = layoutConfig;\n    let distSum = 0;\n    if (distribution && distribution[0]) {\n        distSum = distribution.reduce((t, n) => {\n            t += n;\n            return t;\n        });\n    }\n    return row.map((col, colIndex) => {\n        const space = col.getLogicalSpace().width;\n        let distWidth = (space + (availableWidth - width) * (space / width));\n        if (isTransposed) {\n            if (distribution.length > 0) {\n                distWidth = (availableWidth * distribution[colIndex] / distSum);\n            } else if (isDistributionEqual || width === 0) {\n                const rowLen = row.length;\n                distWidth = (availableWidth / rowLen);\n            }\n        }\n        return Math.floor(distWidth);\n    });\n};\n\n/**\n * Distributeed heights returned\n *\n * @param {Object} context input for the height distribution\n * @return {Object} distribured heights\n */\nexport const getDistributedHeight = (context) => {\n    let distSum = 0;\n    let gutterSum = 0;\n    let heightWithoutGutter = 0;\n    const {\n        isTransposed,\n        distribution,\n        availableHeight,\n        height,\n        isDistributionEqual,\n        gutter,\n        matrix,\n        cIdx\n    } = context;\n\n    if (distribution && distribution[0] !== undefined) {\n        distSum = distribution.reduce((t, n) => {\n            t += n;\n            return t;\n        });\n    }\n    if (gutter && gutter[0] !== undefined) {\n        gutterSum = gutter.reduce((t, n) => {\n            t += n;\n            return t;\n        });\n    }\n    heightWithoutGutter = availableHeight - Math.floor(availableHeight * gutterSum);\n\n    const colLen = matrix.length;\n    return matrix.map((row, rIdx) => {\n        const col = row[cIdx];\n        const space = col.getLogicalSpace().height;\n        let distHeight = (space + (heightWithoutGutter - height) * (space / height));\n\n        if (!isTransposed) {\n            if (distribution.length > 0 && colLen === distribution.length) {\n                distHeight = (heightWithoutGutter * distribution[rIdx] / distSum);\n            } else if (isDistributionEqual || context.height === 0) {\n                distHeight = (heightWithoutGutter / colLen);\n            }\n        }\n        return Math.floor(distHeight);\n    });\n};\n\n/**\n *\n *\n * @param {*} arr\n * @param {*} beg\n * @param {*} end\n */\nexport const extraCellsRemover = (arr, beg, end) => arr.slice(beg, -end);\n\n/**\n * Creates matrix instancess\n *\n * @param {Array} [arr=[]] mutated arry\n * @param {number} depth depth of the tree\n * @param {Array} matrixInfo Details about the matrix(tree, etc) to be inserted\n * @param {boolean} layout Instance of layout\n */\nexport const createMatrixInstances = (arr = [], depth, matrixInfo, layout) => {\n    const breakPointer = layout._breakPointer;\n    const config = layout.config();\n    const {\n        isTransposed\n    } = config;\n    const {\n        tree,\n        layoutMatrix\n    } = matrixInfo;\n\n    if (depth === 0) {\n        const brokenMatrix = breakMatrix(tree.matrix, isTransposed, breakPointer);\n        arr.push({\n            matrix: tree.matrix,\n            primaryMatrix: brokenMatrix[0],\n            secondaryMatrix: brokenMatrix[1],\n            space: tree.space\n        });\n        return arr;\n    }\n    const nextLevel = depth - 1;\n    tree.values.forEach((e) => {\n        createMatrixInstances(arr, nextLevel, {\n            tree: e,\n            layoutMatrix\n        }, layout);\n    });\n    return arr;\n};\n","import { mergeRecursive } from 'muze-utils';\nimport {\n    extraCellsRemover,\n    getDistributedWidth,\n    spaceTakenByRow,\n    createMatrixEachLevel,\n    computeLogicalSpace\n  } from '../utils';\nimport { COLUMN_ROOT } from '../enums/constants';\nimport VisualMatrix from './visual-matrix';\n\n/**\n * This class used to create column / row matrix for GridLayout\n *\n * @class VisualMatrix\n */\nexport default class ColumnVisualMatrix extends VisualMatrix {\n\n    /**\n     *Creates an instance of VisualMatrix.\n     * @param {any} matrix Two set of matrices\n     * @param {any} [config={}] Configuration for VisualMatrix\n     * @memberof VisualMatrix\n     */\n    constructor (matrix, config = {}) {\n        super(matrix, config);\n\n        this._breakPointer = matrix[0].length;\n\n        // Create Tree\n        this._tree = {\n            key: COLUMN_ROOT,\n            values: this.createTree()\n        };\n        this._logicalSpace = this.computeLogicalSpace();\n    }\n\n    /**\n     * Computes the logical space taken by the entire matrixTree\n     *\n     * @return {Object} Logical space taken\n     * @memberof VisualMatrix\n     */\n    computeLogicalSpace () {\n        const matrixTree = this.tree();\n        createMatrixEachLevel(matrixTree, true);\n        return computeLogicalSpace(matrixTree, this.config(), this.maxMeasures());\n    }\n\n    computeViewableSpaces (measures) {\n        const {\n            maxHeights,\n            maxWidths,\n            height,\n            width\n        } = measures;\n\n        return this.viewableMatrix.map((matrixInst, i) => {\n            const cellDimOptions = { matrixInst, maxWidths, maxHeights, matrixIndex: i, height };\n            const {\n                heights,\n                rowHeights,\n                columnWidths\n            } = this.getCellDimensions(cellDimOptions);\n            const heightMeasures = heights;\n            const columnMeasures = [width, width];\n\n            return {\n                rowHeights: {\n                    primary: rowHeights[0],\n                    secondary: rowHeights[1]\n                },\n                columnWidths: {\n                    primary: columnWidths[0],\n                    secondary: columnWidths[1]\n                },\n                height: {\n                    primary: heightMeasures[0],\n                    secondary: heightMeasures[1]\n                },\n                width: {\n                    primary: columnMeasures[0],\n                    secondary: columnMeasures[1]\n                }\n            };\n        });\n    }\n\n    /**\n     *\n     *\n     * @return\n     * @memberof VisualMatrix\n     */\n    removeExtraCells () {\n        const {\n            isTransposed,\n            extraCellLengths\n        } = this.config();\n        const matrix = this._layoutMatrix;\n        const tree = mergeRecursive({}, this.tree());\n        const begCellLen = extraCellLengths[0];\n        const endCellLen = extraCellLengths[1] || Number.NEGATIVE_INFINITY;\n        const layoutMatrix = !isTransposed ? extraCellsRemover(matrix, begCellLen, endCellLen) :\n        matrix.slice(0).map(e => extraCellsRemover(e, begCellLen, endCellLen));\n\n        tree.values = extraCellsRemover(tree.values, begCellLen, endCellLen);\n\n        tree.matrix = tree.matrix.map(e => extraCellsRemover(e, begCellLen, endCellLen));\n\n        return {\n            tree,\n            layoutMatrix\n        };\n    }\n\n    getPriorityDistribution (measures) {\n        const {\n            height,\n            maxHeights\n        } = measures;\n        let remainaingHeight = height;\n        let heightDist = [];\n        let conditions = [];\n        let divider = 2;\n        const priority = this.config().priority;\n        const primaryMatrixLength = this.primaryMatrix().length;\n\n        if (priority === 2) {\n            conditions = [primaryMatrixLength - 1, primaryMatrixLength];\n            divider = 2;\n        } else {\n            conditions = priority === 0 ? [primaryMatrixLength - 1] : [primaryMatrixLength];\n            divider = 1;\n        }\n        maxHeights.forEach((e, i) => {\n            if (conditions.indexOf(i) === -1) {\n                heightDist[i] = e;\n                remainaingHeight -= e;\n            }\n        });\n        if (remainaingHeight < 0) {\n            heightDist = heightDist.map(() => 0);\n        } else {\n            conditions.forEach((e) => {\n                if (remainaingHeight / divider < maxHeights[e]) {\n                    heightDist[e] = 0;\n                } else {\n                    heightDist[e] = Math.min(maxHeights[e], (remainaingHeight) / divider);\n                }\n            });\n        }\n        return heightDist;\n    }\n\n    /**\n     * Calculates the depth of the tree that can be viewed\n     *\n     * @param {Array} widthMeasures array of widths\n     * @param {Array} heightMeasures array of heights\n     * @return {number} depth of the tree\n     * @memberof VisualMatrix\n     */\n    calculateDepth (widthMeasures) {\n        let j;\n        const { width } = this.availableSpace();\n\n        for (j = 0; j < widthMeasures.length; j++) {\n            if (widthMeasures[j] <= width) break;\n        }\n        return Math.min(widthMeasures.length - 1, j);\n    }\n\n     /**\n     * Redistributes the provied space to all cells\n     *\n     * @param {*} viewableMatrix current viewport matrix\n     * @param {*} width provied width\n     * @param {*} height provied height\n     * @return {Object} current viewports matrixes with measures\n     * @memberof VisualMatrix\n     */\n    redistributeSpaces (width, height) {\n        let maxHeights = [];\n        let maxWidths = [];\n\n        this.viewableMatrix.forEach((matrixInst) => {\n            const matrix = matrixInst.matrix;\n            const mWidth = 0;\n            const mHeight = 0;\n            const options = { mWidth, mHeight, matrix, width, height, maxHeights, maxWidths };\n            const maxMeasures = this.redistributeViewSpaces(options);\n            maxWidths = maxMeasures.maxWidths;\n            maxHeights = maxMeasures.maxHeights;\n        });\n\n        return this.computeViewableSpaces({ height, width, maxHeights, maxWidths });\n    }\n\n    /**\n     * Distibutes the given space column wisely\n     *\n     * @param {Object} measures Redistribution information\n     * @memberof VisualMatrix\n     */\n    redistributeViewSpaces (measures) {\n        let rHeights = [];\n        const {\n            matrix,\n            width,\n            maxHeights,\n            maxWidths\n        } = measures;\n        const borderWidth = this.config().unitMeasures.border;\n\n        const mWidth = spaceTakenByRow(matrix[this._lastLevelKey]).width;\n        const cWidths = getDistributedWidth({\n            row: matrix[this._lastLevelKey],\n            width: mWidth,\n            availableWidth: width\n        }, this.config());\n\n        matrix.forEach((row, rIdx) => row.forEach((col, cIdx) => {\n            const oldLogicalSpace = col.getLogicalSpace();\n\n            col.setAvailableSpace(cWidths[cIdx] - borderWidth, oldLogicalSpace.height);\n            rHeights[rIdx] = Math.max(rHeights[rIdx] || 0, Math.floor(col.getLogicalSpace().height));\n        }));\n        if (maxHeights.length > 0) {\n            rHeights = rHeights.map((e, i) => Math.max(e, maxHeights[0][i]));\n        }\n        maxHeights.push(rHeights);\n        for (let x = 0; x < maxHeights.length; x++) {\n            maxHeights[x] = rHeights;\n        }\n        maxWidths.push(cWidths);\n        return { maxHeights, maxWidths };\n    }\n\n    /**\n     * Dispatch the calculated cell dimensions to all the cells\n     *\n     * @param {Object} measures cell dimension information\n     * @return {Object} row and column heights / widths\n     * @memberof VisualMatrix\n     */\n    getCellDimensions (measures) {\n        const {\n            unitMeasures\n        } = this.config();\n        const borderWidth = unitMeasures.border;\n        const { matrixInst, height, maxWidths, maxHeights, matrixIndex } = measures;\n        const matrix = matrixInst.matrix;\n        const rowHeights = [[0], [0]];\n        const columnWidths = [[0], [0]];\n        const heights = [0, 0];\n        const widths = [0, 0];\n        const breakPointer = this._breakPointer;\n\n        const heightDistribution = this.getPriorityDistribution({ height, maxHeights: maxHeights[0] || [] });\n\n        matrix.forEach((row, rIdx) => {\n            row.forEach((cell, cIdx) => {\n                const colHeight = heightDistribution[rIdx] || 0;\n                const colWidth = maxWidths[matrixIndex][cIdx];\n\n                cell.setAvailableSpace(colWidth - borderWidth, colHeight);\n\n                if (cIdx === 0 && rIdx < breakPointer) {\n                    rowHeights[0][rIdx] = colHeight;\n                    heights[0] = (heights[0] || 0) + colHeight;\n                } else if (cIdx === 0 && rIdx >= breakPointer) {\n                    rowHeights[1][rIdx - breakPointer] = colHeight;\n                    heights[1] = (heights[1] || 0) + colHeight;\n                }\n                if (rIdx === this._lastLevelKey) {\n                    columnWidths[0][cIdx] = colWidth;\n                    columnWidths[1][cIdx] = colWidth;\n                }\n            });\n        });\n        return {\n            heights,\n            widths,\n            rowHeights,\n            columnWidths\n        };\n    }\n}\n\n","import { PRIMARY } from '../enums/constants';\n/**\n *\n *\n */\nexport const defaultConfig = {\n    distribution: [],\n    classPrefix: 'muze',\n    isDistributionEqual: true,\n    unitMeasures: {\n        height: 100,\n        width: 100,\n        border: 1\n    },\n    isTransposed: false,\n    facet: PRIMARY,\n    extraCellLengths: []\n};\n","import { mergeRecursive } from 'muze-utils';\n\nexport const PROPS = {\n    config: {\n        sanitization: (context, value) => mergeRecursive(context._config || {}, value)\n    },\n    maxMeasures: {},\n    availableSpace: {},\n    logicalSpace: {}\n};\n","import { mergeRecursive } from 'muze-utils';\nimport {\n    extraCellsRemover,\n    combineMatrices,\n    spaceTakenByColumn,\n    getDistributedHeight,\n    computeLogicalSpace,\n    createMatrixEachLevel\n  } from '../utils';\nimport { ROW_ROOT } from '../enums/constants';\nimport VisualMatrix from './visual-matrix';\n\n/**\n * This class used to create column / row matrix for GridLayout\n *\n * @class VisualMatrix\n */\nexport default class RowVisualMatrix extends VisualMatrix {\n\n    /**\n     *Creates an instance of VisualMatrix.\n     * @param {any} matrix Two set of matrices\n     * @param {any} [config={}] Configuration for VisualMatrix\n     * @memberof VisualMatrix\n     */\n    constructor (matrix, config = {}) {\n        super(matrix, config);\n\n        this._breakPointer = (matrix[0].length > 0 ? matrix[0][0].length : 0);\n        this._layoutMatrix = combineMatrices([matrix[0] || [], matrix[1] || []], this.config());\n\n        // Create Tree\n        this._tree = {\n            key: ROW_ROOT,\n            values: this.createTree()\n        };\n        this._logicalSpace = this.computeLogicalSpace();\n    }\n\n    /**\n     * Computes the logical space taken by the entire matrixTree\n     *\n     * @return {Object} Logical space taken\n     * @memberof VisualMatrix\n     */\n    computeLogicalSpace () {\n        const matrixTree = this.tree();\n        createMatrixEachLevel(matrixTree, false);\n        return computeLogicalSpace(matrixTree, this.config(), this.maxMeasures());\n    }\n\n    computeViewableSpaces (measures) {\n        const {\n            maxHeights,\n            maxWidths,\n            height\n        } = measures;\n        return this.viewableMatrix.map((matrixInst, i) => {\n            const cellDimOptions = { matrixInst, maxWidths, maxHeights, matrixIndex: i };\n            const { widths, rowHeights, columnWidths } = this.getCellDimensions(cellDimOptions);\n            const heightMeasures = [height, height];\n            const columnMeasures = widths;\n\n            return {\n                rowHeights: {\n                    primary: rowHeights[0],\n                    secondary: rowHeights[1]\n                },\n                columnWidths: {\n                    primary: columnWidths[0],\n                    secondary: columnWidths[1]\n                },\n                height: {\n                    primary: heightMeasures[0],\n                    secondary: heightMeasures[1]\n                },\n                width: {\n                    primary: columnMeasures[0],\n                    secondary: columnMeasures[1]\n                }\n            };\n        });\n    }\n\n    /**\n     *\n     *\n     * @return\n     * @memberof VisualMatrix\n     */\n    removeExtraCells () {\n        const {\n            isTransposed,\n            extraCellLengths\n        } = this.config();\n        const matrix = this._layoutMatrix;\n        const tree = mergeRecursive({}, this.tree());\n        const begCellLen = extraCellLengths[0];\n        const endCellLen = extraCellLengths[1] || Number.NEGATIVE_INFINITY;\n        const layoutMatrix = !isTransposed ? extraCellsRemover(matrix, begCellLen, endCellLen) :\n        matrix.slice(0).map(e => extraCellsRemover(e, begCellLen, endCellLen));\n\n        tree.values = extraCellsRemover(tree.values, begCellLen, endCellLen);\n        tree.matrix = extraCellsRemover(tree.matrix, begCellLen, endCellLen);\n\n        return {\n            tree,\n            layoutMatrix\n        };\n    }\n\n    getPriorityDistribution (measures) {\n        let remainaingAvailWidth;\n        let remainaingWidth;\n        let cWidths = [];\n        let conditions = [];\n        let maxPrioritySpace = 0;\n        const {\n            matrix,\n            width: availableWidth,\n            maxMeasures: maxWidths,\n            maxWidth: currentWidth,\n            height\n        } = measures;\n        const priority = this.config().priority;\n        const primaryMatrixLength = this.primaryMatrix().length ? this.primaryMatrix()[0].length : 0;\n\n        const dist = [];\n\n        remainaingAvailWidth = availableWidth;\n        remainaingWidth = currentWidth;\n\n        if (priority === 2) {\n            conditions = [primaryMatrixLength - 1, primaryMatrixLength];\n            // divider = Math.min(2, matrixLen);\n        } else {\n            conditions = priority === 0 ? [primaryMatrixLength - 1] : [primaryMatrixLength];\n            // divider = Math.min(1, matrixLen);\n        }\n        conditions.forEach((i) => {\n            dist[i] = maxWidths[i];\n            maxPrioritySpace += maxWidths[i];\n            remainaingAvailWidth -= dist[i];\n            remainaingWidth -= dist[i];\n        });\n        matrix[0].forEach((e, i) => {\n            if (conditions.indexOf(i) === -1) {\n                dist[i] = remainaingAvailWidth * (maxWidths[i] / remainaingWidth);\n            }\n        });\n        matrix.forEach(row => row.forEach((col, cIdx) => {\n            if (conditions.indexOf(cIdx) === -1) {\n                col.setAvailableSpace(dist[cIdx], height);\n\n                cWidths[cIdx] = Math.max(cWidths[cIdx] || 0, Math.floor(col.getLogicalSpace().width));\n            } else {\n                cWidths[cIdx] = 0;\n            }\n        }));\n\n        const prioritySpace = availableWidth - cWidths.reduce((t, n) => t + n);\n        if (prioritySpace < 0) {\n            cWidths = cWidths.map(() => 0);\n        } else {\n            conditions.forEach((i) => {\n                cWidths[i] = Math.floor(prioritySpace * (dist[i] / maxPrioritySpace));\n            });\n        }\n        return cWidths;\n    }\n\n    /**\n     * Calculates the depth of the tree that can be viewed\n     *\n     * @param {Array} widthMeasures array of widths\n     * @param {Array} heightMeasures array of heights\n     * @return {number} depth of the tree\n     * @memberof VisualMatrix\n     */\n    calculateDepth (widthMeasures, heightMeasures) {\n        let i;\n        const { height } = this.availableSpace();\n\n        for (i = 0; i < heightMeasures.length; i++) {\n            if (heightMeasures[i] <= height) break;\n        }\n\n        return Math.min(widthMeasures.length - 1, i);\n    }\n\n    /**\n     * Redistributes the provied space to all cells\n     *\n     * @param {*} viewableMatrix current viewport matrix\n     * @param {*} width provied width\n     * @param {*} height provied height\n     * @return {Object} current viewports matrixes with measures\n     * @memberof VisualMatrix\n     */\n    redistributeSpaces (width, height) {\n        let maxHeights = [];\n        let maxWidths = [];\n        const maxMeasures = this.maxMeasures();\n\n        const maxWidth = maxMeasures.reduce((t, n) => {\n            t += n;\n            return t;\n        });\n        const logicalWidths = this.getPriorityDistribution({\n            matrix: this._layoutMatrix,\n            maxWidth,\n            maxMeasures,\n            width,\n            height\n        });\n\n        this.viewableMatrix.forEach((matrixInst) => {\n            const matrix = matrixInst.matrix;\n            const mWidth = 0;\n            const mHeight = 0;\n            const options = { mWidth, mHeight, matrix, width, height, maxHeights, maxWidths, logicalWidths };\n            const measures = this.redistributeViewSpaces(options);\n            maxWidths = measures.maxWidths;\n            maxHeights = measures.maxHeights;\n        });\n        return this.computeViewableSpaces({ height, width, maxHeights, maxWidths });\n    }\n\n    /**\n     * Distibutes the given space row wisely\n     *\n     * @param {Object} measures Redistribution information\n     * @memberof VisualMatrix\n     */\n    redistributeViewSpaces (measures) {\n        let cWidths = [];\n        let rHeights = [];\n        let mHeight = 0;\n        const maxMeasures = this.maxMeasures();\n\n        const {\n            isDistributionEqual,\n            distribution,\n            isTransposed,\n            gutter\n        } = this.config();\n        const { matrix, height, maxHeights, maxWidths, logicalWidths } = measures;\n        mHeight = spaceTakenByColumn(matrix, this._lastLevelKey).height;\n\n        const maxWidth = maxMeasures.reduce((t, n) => {\n            t += n;\n            return t;\n        });\n        measures.maxMeasures = maxMeasures;\n        measures.maxWidth = maxWidth;\n        if (maxWidth > 0) {\n            cWidths = logicalWidths;\n        } else {\n            cWidths = maxMeasures.map(() => 0);\n        }\n        rHeights = getDistributedHeight({\n            matrix,\n            cIdx: this._lastLevelKey,\n            height: mHeight,\n            availableHeight: height,\n            isDistributionEqual,\n            distribution,\n            isTransposed,\n            gutter\n        });\n        if (maxWidths.length > 0) {\n            cWidths = cWidths.map((e, i) => Math.max(e, maxWidths[0][i] || 0));\n        }\n        maxWidths.push(cWidths);\n        for (let x = 0; x < maxWidths.length; x++) {\n            maxWidths[x] = cWidths;\n        }\n        maxHeights.push(rHeights);\n        return { maxWidths, maxHeights };\n    }\n\n    /**\n     * Dispatch the calculated cell dimensions to all the cells\n     *\n     * @param {Object} measures cell dimension information\n     * @return {Object} row and column heights / widths\n     * @memberof VisualMatrix\n     */\n    getCellDimensions (measures) {\n        const {\n            unitMeasures\n        } = this.config();\n        const borderWidth = unitMeasures.border;\n        const { matrixInst, maxWidths, maxHeights, matrixIndex } = measures;\n        const matrix = matrixInst.matrix;\n        const rowHeights = [[0], [0]];\n        const columnWidths = [[0], [0]];\n        const heights = [0, 0];\n        const widths = [0, 0];\n        const breakPointer = this._breakPointer;\n\n        matrix.forEach((row, rIdx) => {\n            row.forEach((cell, cIdx) => {\n                const colHeight = maxHeights[matrixIndex][rIdx] || 0;\n                const colWidth = maxWidths[matrixIndex][cIdx];\n\n                cell.setAvailableSpace(colWidth, colHeight - borderWidth);\n\n                if (rIdx === 0 && cIdx < breakPointer) {\n                    columnWidths[0][cIdx] = colWidth;\n                    widths[0] = (widths[0] || 0) + colWidth;\n                } else if (rIdx === 0 && cIdx >= breakPointer) {\n                    columnWidths[1][cIdx - breakPointer] = colWidth;\n                    widths[1] = (widths[1] || 0) + colWidth;\n                }\n                if (cIdx === this._lastLevelKey) {\n                    rowHeights[0][rIdx] = colHeight;\n                    rowHeights[1][rIdx] = colHeight;\n                }\n            });\n        });\n        return {\n            heights,\n            widths,\n            rowHeights,\n            columnWidths\n        };\n    }\n}\n\n","import { mergeRecursive, generateGetterSetters, ERROR_MSG } from 'muze-utils';\nimport {\n    createTree,\n    combineMatrices,\n    createMatrixInstances\n  } from '../utils';\nimport { PROPS } from './props';\nimport { HEIGHT, WIDTH } from '../enums/constants';\nimport { defaultConfig } from './default-config';\n\n/**\n * This class used to create column / row matrix for GridLayout\n *\n * @class VisualMatrix\n */\nexport default class VisualMatrix {\n\n    /**\n     *Creates an instance of VisualMatrix.\n     * @param {any} matrix Two set of matrices\n     * @param {any} [config={}] Configuration for VisualMatrix\n     * @memberof VisualMatrix\n     */\n    constructor (matrix, config = {}) {\n        // Prepare matrices\n        this._lastLevelKey = 0;\n        this._primaryMatrix = matrix[0] || [];\n        this._secondaryMatrix = matrix[1] || [];\n        this._maxMeasures = [];\n        this._availableSpace = {};\n\n        // Store the config\n        generateGetterSetters(this, PROPS);\n        const defCon = Object.assign({}, this.constructor.defaultConfig());\n        this.config(mergeRecursive(defCon, config));\n\n        this._layoutMatrix = combineMatrices([matrix[0] || [], matrix[1] || []], this.config());\n    }\n\n     /**\n     * Computes the logical space taken by the entire matrixTree\n     *\n     * @return {Object} Logical space taken\n     * @memberof VisualMatrix\n     */\n    computeLogicalSpace () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    computeViewableSpaces () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     *\n     *\n     * @return\n     * @memberof VisualMatrix\n     */\n    removeExtraCells () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    getPriorityDistribution () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Calculates the depth of the tree that can be viewed\n     *\n     * @param {Array} widthMeasures array of widths\n     * @param {Array} heightMeasures array of heights\n     * @return {number} depth of the tree\n     * @memberof VisualMatrix\n     */\n    calculateDepth () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Redistributes the provied space to all cells\n     *\n     * @param {*} viewableMatrix current viewport matrix\n     * @param {*} width provied width\n     * @param {*} height provied height\n     * @return {Object} current viewports matrixes with measures\n     * @memberof VisualMatrix\n     */\n    redistributeSpaces () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Distibutes the given space row wisely\n     *\n     * @param {Object} measures Redistribution information\n     * @memberof VisualMatrix\n     */\n    redistributeViewSpaces () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Dispatch the calculated cell dimensions to all the cells\n     *\n     * @param {Object} measures cell dimension information\n     * @return {Object} row and column heights / widths\n     * @memberof VisualMatrix\n     */\n    getCellDimensions () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     *\n     *\n     * @param {*} params\n     * @returns\n     * @memberof VisualMatrix\n     */\n    primaryMatrix (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this._primaryMatrix;\n    }\n\n    secondaryMatrix (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this._secondaryMatrix;\n    }\n\n    tree (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this._tree;\n    }\n\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    createTree () {\n        const { tree, lastLevelKey } = createTree(this);\n        this._lastLevelKey = lastLevelKey;\n        return tree;\n    }\n\n    /**\n     * Returns the space taken by visual matrix\n     *\n     * @return {Object} space taken by the matrix\n     * @memberof VisualMatrix\n     */\n    getLogicalSpace () {\n        return this.logicalSpace();\n    }\n\n    /**\n     * Sets the provied space to the visual matrix\n     *\n     * @param {number} width width provided\n     * @param {number} height height provided\n     * @memberof VisualMatrix\n     */\n    setAvailableSpace (width, height) {\n        this.availableSpace({ width, height });\n        const tree = this.tree();\n        const heightMeasures = this.populateMaxMeasures(HEIGHT, tree);\n        const widthMeasures = this.populateMaxMeasures(WIDTH, tree);\n        const depth = this.calculateDepth(widthMeasures, heightMeasures);\n\n        this.viewableMatrix = this.createViewPortMatrix(depth);\n        this.viewableMeasures = this.redistributeSpaces(width, height);\n        return this;\n    }\n\n    /**\n     * Populate the max measures in the array\n     *\n     * @param {Array} measures array to be filled with max measures\n     * @param {Object} matrixTree matrix tree of visual matrix\n     * @param {number} measure width or height\n     * @param {number} [depth=0] depth of the tree that to be calculated\n     * @memberof VisualMatrix\n     */\n    populateMaxMeasures (type, matrixTree, depth = 0, measures = []) {\n        measures[depth] = Math.max(measures[depth] || 0, matrixTree.space[type]);\n        if (matrixTree.values) {\n            const childDepth = depth + 1;\n            matrixTree.values.forEach((child) => {\n                if (child.space) {\n                    measures = this.populateMaxMeasures(type, child, childDepth, measures);\n                }\n            });\n        }\n        return measures;\n    }\n\n    /**\n     * Gets the viewable measures for the current viewable matrix\n     *\n     * @return {Object} Set of viewable measures\n     * @memberof VisualMatrix\n     */\n    getViewableSpaces () {\n        return this.viewableMeasures;\n    }\n\n    /**\n     * Returns the matrix that can be viewed in the current viewport\n     *\n     * @return {Array} Set of matrices that can be viewed\n     * @memberof VisualMatrix\n     */\n    getViewableMatrices () {\n        return this.viewableMatrix;\n    }\n\n    /**\n     * Creates the viewport that can be viewed together\n     *\n     * @param {number} depth maxDepth that can be viewed in the viewport\n     * @return {Array<Object>} Set of matrices that can be viewed\n     * @memberof VisualMatrix\n     */\n    createViewPortMatrix (depth) {\n        const arr = [];\n        createMatrixInstances(arr, depth, this.removeExtraCells(), this);\n        return arr;\n    }\n}\n\n","/**\n * This file exports functionality that is used to render axis.\n */\nimport { selectElement, makeElement, angleToRadian } from 'muze-utils';\nimport * as AxisOrientation from './enums/axis-orientation';\nimport { LINEAR, HIDDEN, BOTTOM, TOP } from './enums/constants';\n\n/**\n *\n *\n * @param {*} instance\n * @param {*} container\n * @param {*} labelManager\n * @param {*} config\n */\nconst rotateAxis = (instance, tickText, labelManager) => {\n    let rotation;\n    const axis = instance.axis();\n    const config = instance.config();\n    const renderConfig = instance.renderConfig();\n    const smartTicks = instance.smartTicks();\n    const ticks = axis.scale().ticks();\n    const {\n        orientation,\n        fixedBaseline,\n        type\n    } = config;\n    const {\n        labels\n    } = renderConfig;\n\n    rotation = labels.rotation;\n\n    const tickSize = instance.getTickSize();\n    tickText.each(function (d, index) {\n        let yShift;\n        let xShift;\n        let datum = smartTicks[index] ? smartTicks[index].text : d;\n\n        const tickFormatter = axis.tickFormat() ? axis.tickFormat : null;\n\n        const temp = tickSize ? (tickFormatter ? tickFormatter()(datum) : datum) : '';\n\n        datum = temp.toString();\n\n        const tickLabelDim = labelManager.getOriSize(datum);\n\n        const width = tickLabelDim.width * 0.5;\n        const height = tickLabelDim.height * 0.5;\n\n        if (rotation < 0) {\n            rotation = 360 + rotation;\n        }\n\n        const quadrant = 4 - Math.floor(rotation / 90);\n        const rotationNormalizer = ((quadrant % 2 === 0) ? rotation : 180 * Math.ceil(rotation / 180) - rotation) % 180;\n\n        yShift = Math.sqrt(height ** 2 + width ** 2) * Math.sin(angleToRadian(rotationNormalizer));\n\n        if ((quadrant === 3 || quadrant === 2) && !(rotationNormalizer > 67.5 && rotationNormalizer <= 90)) {\n            yShift += height * 2;\n        }\n        xShift = width;\n\n        if (rotation === 90) {\n            xShift = height;\n        } else if (rotation === 270) {\n            xShift = -height;\n        } else {\n            xShift = 0;\n        }\n\n        if (orientation === AxisOrientation.TOP) {\n            xShift = (ticks[0] === d && fixedBaseline && type === LINEAR) ? xShift + xShift / 2 : xShift;\n            selectElement(this)\n                            .attr('transform', `translate(${-xShift + tickSize}\n                                ${-yShift - tickSize}) rotate(${rotation})`);\n        } else {\n            xShift = (ticks[0] === d && fixedBaseline && type === LINEAR) ? xShift - xShift / 2 : xShift;\n\n            selectElement(this)\n                            .attr('transform', `translate(${xShift - tickSize}\n                                ${yShift + tickSize}) rotate(${rotation})`);\n        }\n        selectElement(this).transition()\n                        .duration(1000).text(datum);\n    });\n    return tickText;\n};\n\n/**\n *\n *\n * @param {*} tickText\n * @param {*} axisInstance\n */\nconst changeTickOrientation = (selectContainer, axisInstance, tickSize) => {\n    const {\n        _smartTicks\n    } = axisInstance;\n    const config = axisInstance.config();\n    const renderConfig = axisInstance.renderConfig();\n    const labelManager = axisInstance.dependencies().labelManager;\n    const {\n        orientation,\n        classPrefix\n    } = config;\n    const {\n        labels\n    } = renderConfig;\n    const {\n        rotation,\n        smartTicks: isSmartTicks\n    } = labels;\n\n    const tickText = selectContainer.selectAll('.tick text');\n    tickText.selectAll('tspan').remove();\n\n   // rotate labels if not enough space is available\n    if (rotation && (orientation === TOP || orientation === BOTTOM)) {\n        rotateAxis(axisInstance, tickText, labelManager);\n    } else if (!rotation && !isSmartTicks) {\n        tickText.attr('transform', '');\n    } else {\n        tickText.text('');\n        if (orientation === TOP || orientation === BOTTOM) {\n            tickText.attr('y', 0)\n                            .attr('x', 0)\n                            .attr('transform', '')\n                            .text('');\n            const tspan = makeElement(tickText, 'tspan', (d, i) => {\n                if (_smartTicks[i]) {\n                    return _smartTicks[i].lines;\n                } return [];\n            }, `${classPrefix}-smart-text`);\n\n            tspan.attr('dy', '0')\n                            .style('opacity', '0')\n\n                            .transition()\n                            .duration(1000)\n                            .attr('dy', (d, i) => {\n                                if (orientation === BOTTOM || i !== 0) {\n                                    return _smartTicks[0].oriTextHeight;\n                                }\n                                return -_smartTicks[0].oriTextHeight * (_smartTicks[0].lines.length - 1) - tickSize;\n                            })\n                            .style('opacity', 1)\n                            .text(e => e)\n                            .attr('x', 0);\n        } else {\n            const tspan = makeElement(tickText, 'tspan', (d, i) => _smartTicks[i].lines, `${classPrefix}-smart-text`);\n            tspan.text(e => e);\n        }\n    }\n\n    return tickText;\n};\n\nconst setFixedBaseline = (axisInstance) => {\n    const {\n        fixedBaseline\n    } = axisInstance.config();\n    if (fixedBaseline) {\n        axisInstance.setFixedBaseline();\n    }\n};\n\n/**\n *\n *\n * @param {*} textNode\n * @param {*} orientation\n * @param {*} measures\n */\nconst setAxisNamePos = (textNode, orientation, measures) => {\n    const {\n        axisNameHeight,\n        yOffset,\n        labelOffset,\n        availableSpace\n    } = measures;\n    switch (orientation) {\n    case AxisOrientation.LEFT:\n        textNode.attr('transform',\n            `translate(${-(availableSpace.width - axisNameHeight)},${yOffset + labelOffset})rotate(-90)`);\n        break;\n    case AxisOrientation.RIGHT:\n        textNode.attr('transform',\n             `translate(${(availableSpace.width - axisNameHeight)},${yOffset + labelOffset})rotate(90)`);\n        break;\n    case AxisOrientation.TOP:\n        textNode.attr('transform',\n             `translate(${availableSpace.width / 2},${-availableSpace.height + axisNameHeight})`);\n        break;\n    case AxisOrientation.BOTTOM:\n        textNode.attr('transform',\n             `translate(${availableSpace.width / 2},${availableSpace.height - axisNameHeight / 2})`);\n        break;\n    default:\n    }\n    return textNode;\n};\n\n/**\n * This method is used to render the axis inside an\n * svg container.\n *\n * @export\n * @param {Object} axisInstance the nput object required to render axis\n * @param {string} axisInstance.orientation the orientation of axis\n * @param {Object} axisInstance.scale instance of d3 scale\n * @param {SVGElement} axisInstance.container the container in which to render\n */\nexport function renderAxis (axisInstance) {\n    const config = axisInstance.config();\n    const renderConfig = axisInstance.renderConfig();\n    const labelManager = axisInstance.dependencies().labelManager;\n    const mount = axisInstance.mount();\n    const range = axisInstance.range();\n    const axis = axisInstance.axis();\n    const scale = axisInstance.scale();\n    const domain = axisInstance.domain() || [];\n    const {\n        _axisNameStyle,\n        _tickLabelStyle,\n        formatter,\n        tickValues\n     } = axisInstance;\n    const {\n        orientation,\n        name,\n        xOffset,\n        yOffset,\n        axisNamePadding,\n        className,\n        id,\n        classPrefix\n     } = config;\n    const {\n        show,\n        showAxisName,\n        labels\n    } = renderConfig;\n    if (!show || !domain.length) {\n        return;\n    }\n\n    const tickSize = axisInstance.getTickSize();\n\n    const selectContainer = makeElement(selectElement(mount), 'g', [axisInstance], `${className}`, {},\n        key => key.config().id);\n\n    // Set style for tick labels\n    labelManager.setStyle(_tickLabelStyle);\n\n    const labelFunc = scale.ticks || scale.quantile || scale.domain;\n\n    formatter && axis.tickFormat(formatter(tickValues || axis.tickValues() || labelFunc()));\n\n    // Get range(length of range)\n    const availableSpace = Math.abs(range[0] - range[1]);\n\n    // Get width and height taken by axis labels\n    const labelProps = axisInstance.axisComponentDimensions().largestTickDimensions;\n\n    // Draw axis ticks\n    selectContainer.attr('transform', `translate(${xOffset},${yOffset})`);\n    setFixedBaseline(axisInstance);\n    if (labels.smartTicks === false || tickSize === 0) {\n        selectContainer.transition()\n                        .duration(1000).call(axis);\n    } else {\n        selectContainer.call(axis);\n    }\n    selectContainer.selectAll('.tick').classed(`${classPrefix}-ticks`, true);\n    selectContainer.selectAll('.tick line').classed(`${classPrefix}-tick-lines`, true);\n\n    // Set classes for ticks\n    const tickText = selectContainer.selectAll('.tick text');\n    tickText.classed(`${classPrefix}-ticks`, true)\n                    .classed(`${classPrefix}-ticks-${id}`, true);\n\n    changeTickOrientation(selectContainer, axisInstance, tickSize);\n\n    // Create axis name\n    const textNode = makeElement(selectContainer, 'text', [name], `${classPrefix}-axis-name`)\n                    .attr('text-anchor', 'middle')\n                    .classed(`${classPrefix}-axis-name-${id}`, true)\n                    .text(d => d);\n\n    // Hide axis name if show is off\n    textNode.classed(HIDDEN, !showAxisName);\n\n     // render labels based on orientation of axis\n    const labelOffset = availableSpace / 2;\n\n    // Set style for axis name\n    labelManager.setStyle(_axisNameStyle);\n    const axisNameSpace = labelManager.getOriSize(name);\n    const measures = {\n        labelProps,\n        tickSize,\n        axisNamePadding,\n        axisNameHeight: axisNameSpace.height,\n        axisNameWidth: axisNameSpace.width,\n        yOffset,\n        xOffset,\n        labelOffset,\n        availableSpace: axisInstance.availableSpace()\n    };\n    // Set position for axis name\n    setAxisNamePos(textNode, orientation, measures);\n}\n","import SimpleAxis from './simple-axis';\nimport { BAND } from '../enums/scale-type';\nimport { TOP, BOTTOM } from '../enums/axis-orientation';\nimport { calculateBandSpace, setOffset, getRotatedSpaces } from './helper';\nimport { spaceSetter } from './space-setter';\n\nexport default class BandAxis extends SimpleAxis {\n\n    /**\n     *\n     *\n     * @param {*} range\n     *\n     * @memberof BandAxis\n     */\n    createScale (range) {\n        const scale = super.createScale(range);\n        const { padding } = this.config();\n        if (typeof padding === 'number') {\n            scale.padding(padding);\n        }\n        return scale;\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof BandAxis\n     */\n    static type () {\n        return BAND;\n    }\n\n     /**\n     * This method is used to set the space availiable to render\n     * the SimpleCell.\n     *\n     * @param {number} width The width of SimpleCell.\n     * @param {number} height The height of SimpleCell.\n     * @memberof AxisCell\n     */\n    setAvailableSpace (width = 0, height, padding, isOffset) {\n        let labelConfig = {};\n        const {\n           orientation\n       } = this.config();\n\n        this.availableSpace({ width, height, padding });\n\n        if (orientation === TOP || orientation === BOTTOM) {\n            labelConfig = spaceSetter(this, { isOffset }).band.x();\n        } else {\n            labelConfig = spaceSetter(this, { isOffset }).band.y();\n        }\n\n        // Set config\n        this.renderConfig({\n            labels: labelConfig\n        });\n        this.setTickConfig();\n        return this;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof BandAxis\n     */\n    setTickConfig () {\n        let smartTicks = '';\n        let smartlabel;\n        const domain = this.domain();\n        const { labelManager } = this._dependencies;\n        const { tickValues, tickFormat } = this.config();\n        const { labels } = this.renderConfig();\n        const { height: availHeight, width: availWidth, noWrap } = this.maxTickSpaces();\n        const { width, height } = getRotatedSpaces(labels.rotation, availWidth, availHeight);\n        const tickFormatter = tickFormat || (val => val);\n\n        tickValues && this.axis().tickValues(tickValues);\n        smartTicks = tickValues || domain;\n        // set the style on the shared label manager instance\n        labelManager.setStyle(this._tickLabelStyle);\n\n        if (domain && domain.length) {\n            const values = tickValues || domain;\n            smartTicks = values.map((d, i) => {\n                labelManager.useEllipsesOnOverflow(true);\n\n                smartlabel = labelManager.getSmartText(tickFormatter(d, i, values), width, height, noWrap);\n                return labelManager.constructor.textToLines(smartlabel);\n            });\n        }\n        this.smartTicks(smartTicks);\n        return this;\n    }\n\n    /**\n     * Gets the space occupied by the axis\n     *\n     * @return {Object} object with details about size of the axis.\n     * @memberof SimpleAxis\n     */\n    getLogicalSpace () {\n        if (!this.logicalSpace()) {\n            this.logicalSpace(calculateBandSpace(this));\n            setOffset(this);\n            this.logicalSpace();\n        }\n        return this.logicalSpace();\n    }\n\n    /**\n     *\n     *\n     * @memberof BandAxis\n     */\n    getTickValues () {\n        return this.axis().scale().domain();\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof BandAxis\n     */\n    getUnitWidth () {\n        return this.scale().bandwidth();\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    getTickSize () {\n        const {\n            showInnerTicks,\n            showOuterTicks\n        } = this.renderConfig();\n        const axis = this.axis();\n\n        axis.tickSizeInner(showInnerTicks ? 6 : 0);\n        axis.tickSizeOuter(showOuterTicks ? 6 : 0);\n        return axis.tickSize();\n    }\n\n    /**\n     * Returns the value from the domain when given a value from the range.\n     * @param {number} value Value from the range.\n     * @return {number} Value\n     */\n    invert (...value) {\n        const values = value.map(d => this.scale().invert(d)) || [];\n        return value.length === 1 ? values[0] && values[0].toString() : values.map(d => d.toString());\n    }\n}\n","import { getSmallestDiff } from 'muze-utils';\nimport SimpleAxis from './simple-axis';\nimport { BOTTOM, TOP, LEFT, RIGHT } from '../enums/axis-orientation';\nimport { spaceSetter } from './space-setter';\nimport { LINEAR, LOG, POW } from '../enums/scale-type';\nimport { LogInterpolator, PowInterpolator, LinearInterpolator } from './interpolators';\nimport {\n    getNumberOfTicks,\n    setContinousAxisDomain\n} from './helper';\n\nexport const interpolatorMap = {\n    [LOG]: LogInterpolator,\n    [POW]: PowInterpolator,\n    [LINEAR]: LinearInterpolator\n};\n\nexport default class ContinousAxis extends SimpleAxis {\n    constructor (config, dependencies) {\n        config.tickFormat = config.tickFormat || (val => val);\n        super(config, dependencies);\n    }\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    createScale (config) {\n        const {\n            base,\n            padding,\n            interpolator,\n            exponent\n        } = config;\n        const range = this.range();\n        const InterpolatorCls = interpolatorMap[interpolator];\n\n        this._interpolator = new InterpolatorCls();\n        let scale = this._interpolator.createScale({\n            padding,\n            exponent,\n            base,\n            range\n        });\n\n        scale = scale.nice();\n        return scale;\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof ContinousAxis\n     */\n    static type () {\n        return LINEAR;\n    }\n\n    getScaleValue (domainVal) {\n        if (domainVal === null || domainVal === undefined) {\n            return undefined;\n        }\n        return this._interpolator.getScaleValue(domainVal);\n    }\n /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    getTickSize () {\n        const {\n            showInnerTicks,\n            showOuterTicks\n        } = this.renderConfig();\n        const axis = this.axis();\n        axis.tickSizeInner(showInnerTicks === false ? 0 : 6);\n        axis.tickSizeOuter(showOuterTicks === false ? 0 : 6);\n\n        return axis.tickSize();\n    }\n\n    /**\n     *\n     *\n     * @param {*} d\n     *\n     * @memberof SimpleAxis\n     */\n    domain (domain) {\n        if (domain && domain.length) {\n            setContinousAxisDomain(this, domain);\n            this.setAxisComponentDimensions();\n            this.logicalSpace(null);\n            return this;\n        } else if (domain) {\n            this._domain = [];\n        } return this._domain;\n    }\n\n    /**\n     * This method is used to set the space availiable to render\n     * the SimpleCell.\n     *\n     * @param {number} width The width of SimpleCell.\n     * @param {number} height The height of SimpleCell.\n     * @memberof AxisCell\n     */\n    setAvailableSpace (width = 0, height, padding, isOffset) {\n        let labelConfig = {};\n        const {\n           orientation\n       } = this.config();\n\n        this.availableSpace({ width, height, padding });\n\n        if (orientation === TOP || orientation === BOTTOM) {\n            labelConfig = spaceSetter(this, { isOffset }).continous.x();\n        } else {\n            labelConfig = spaceSetter(this, { isOffset }).continous.y();\n        }\n\n        // Set config\n        this.renderConfig({\n            labels: labelConfig\n        });\n        this.setTickConfig();\n        this.getTickSize();\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} tickValues\n     *\n     * @memberof SimpleAxis\n     */\n    setTickConfig () {\n        const {\n            tickValues\n        } = this.config();\n        const {\n            showInnerTicks\n        } = this.renderConfig();\n        const axis = this.axis();\n\n        if (!showInnerTicks) {\n            axis.tickValues([]);\n            return this;\n        }\n\n        if (tickValues) {\n            tickValues instanceof Array && this.axis().tickValues(tickValues);\n            return this;\n        }\n        axis.tickValues(this.getTickValues());\n\n        return this;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    getTickValues () {\n        let labelDim = 0;\n        const {\n            orientation,\n            tickValues\n        } = this.config();\n        const range = this.range();\n        const axis = this.axis();\n\n        const availableSpace = Math.abs(range[0] - range[1]);\n\n        const labelProps = this.axisComponentDimensions().largestTickDimensions;\n\n        if (tickValues) {\n            return axis.scale().ticks(tickValues);\n        }\n        labelDim = labelProps[orientation === BOTTOM || orientation === TOP ? 'width' : 'height'];\n\n        return getNumberOfTicks(availableSpace, labelDim, axis, this);\n    }\n\n    getMinTickDifference () {\n        return getSmallestDiff(this.config().tickValues);\n    }\n\n    /**\n     * Sets a fixed baseline for the first ticks so that they can render effectively within\n     * the given area\n     *\n     * @param {*} tickText\n     * @param {*} config\n     * @param {*} labelManager\n     */\n    setFixedBaseline (tickText) {\n        const {\n            orientation\n        } = this.config();\n        const {\n            labels\n        } = this.renderConfig();\n\n        const {\n            rotation\n        } = labels;\n        const axis = this.axis();\n        const ticks = axis.scale().ticks();\n        const { width, height } = this.axisComponentDimensions().allTickDimensions[0];\n        axis.tickTransform((d) => {\n            if (d === ticks[0]) {\n                if ((orientation === LEFT || orientation === RIGHT)) {\n                    return `translate(0, -${(height) / 3}px)`;\n                }\n                if ((orientation === TOP || orientation === BOTTOM) && !rotation) {\n                    return `translate(${width / 2}px,  ${0}px)`;\n                }\n            } return '';\n        });\n        return tickText;\n    }\n\n}\n","import { getUniqueId } from 'muze-utils';\nimport { CLASSPREFIX } from '../enums/constants';\n\n/**\n *\n *\n */\nexport const defaultConfig = {\n    id: getUniqueId(),\n    axisName: {\n        defClassName: 'axis-name'\n    },\n    axisNamePadding: 12,\n    base: 10,\n    classPrefix: CLASSPREFIX,\n    className: `${CLASSPREFIX}-axis`,\n    exponent: 1,\n    interpolator: 'linear',\n    fixedBaseline: true,\n    labels: {\n        rotation: null,\n        smartTicks: null\n    },\n    orientation: 'left',\n    numberFormat: val => val,\n    padding: 0.3,\n    nice: true,\n    numberOfTicks: 10,\n    rotate: false,\n    show: true,\n    showAxisName: true,\n    showInnerTicks: true,\n    showOuterTicks: true,\n    style: {},\n    type: 'linear',\n    tickFormat: null,\n    tickValues: null,\n    xOffset: 0,\n    yOffset: 0\n};\n\n","import { TOP, LEFT, BOTTOM } from '../enums/axis-orientation';\n\nexport const getRotatedSpaces = (rotation = 0, width, height) => {\n    let rotatedHeight = height;\n    let rotatedWidth = width;\n    if (rotation) {\n        const angle = ((rotation || 0) * Math.PI) / 180;\n        rotatedWidth = Math.abs(height * Math.sin(angle)) + Math.abs(width * Math.cos(angle));\n        rotatedHeight = Math.abs(width * Math.sin(angle)) + Math.abs(height * Math.cos(angle));\n    }\n    return { width: rotatedWidth, height: rotatedHeight };\n};\n\n// /**\n//  * Listener attached to the axis on change of parameters.\n//  *\n//  * @param {Function} callback to be excuted on change of domain range etc\n//  * @memberof SimpleAxis\n//  */\n// export const registerChangeListeners = (context) => {\n//     const store = context.store();\n\n//     store.model.next(\n//     ['domain', 'range', 'mount', 'config'],\n//     (...params) => {\n//         context.setTickConfig();\n//         context.render();\n//         context._domainLock = false;\n//     },\n//     true\n//   );\n//     return context;\n// };\n\nexport const setOffset = (context) => {\n    let x = 0;\n    let y = 0;\n    const logicalSpace = context.logicalSpace();\n    const config = context.config();\n    const {\n        orientation,\n        xOffset,\n        yOffset\n    } = config;\n    if (orientation === LEFT) {\n        x = xOffset === undefined ? logicalSpace.width : xOffset;\n    }\n    if (orientation === TOP) {\n        y = yOffset === undefined ? logicalSpace.height : yOffset;\n    }\n    context.config({ xOffset: x, yOffset: y });\n};\n\nexport const getNumberOfTicks = (availableSpace, labelDim, axis, axisInstance) => {\n    const ticks = axis.scale().ticks();\n    const { numberOfTicks } = axisInstance.config();\n    const tickLength = ticks.length;\n    let numberOfValues = tickLength;\n\n    if (tickLength * (labelDim * 1.5) > availableSpace) {\n        numberOfValues = Math.floor(availableSpace / (labelDim * 1.5));\n    }\n\n    numberOfValues = Math.min(numberOfTicks, Math.max(2, numberOfValues));\n\n    return axis.scale().ticks(numberOfValues);\n};\n\nexport const getAxisComponentDimensions = (context) => {\n    let largestTick = '';\n    let largestTickDimensions = { width: 0, height: 0 };\n    let smartTick = {};\n    let axisTicks;\n    const allTickDimensions = [];\n    const scale = context.scale();\n    const { showAxisName } = context.renderConfig();\n    const { tickValues, name } = context.config();\n    const { labelManager } = context.dependencies();\n    const labelFunc = scale.ticks || scale.quantile || scale.domain;\n\n    // set the style on the shared label manager instance\n    labelManager.setStyle(context._tickLabelStyle);\n\n    // get the values along the domain\n    axisTicks = tickValues || labelFunc();\n\n    // Get the tick labels\n    axisTicks = axisTicks.map((originalLabel, i) => {\n        const label = context.getFormattedText(originalLabel, i, axisTicks);\n\n    // convert to string for quant values\n        const tickDimensions = labelManager.getOriSize(label);\n\n    // Get spaces for all labels\n        allTickDimensions.push(tickDimensions);\n\n    // Getting largest label\n        if (tickDimensions.width > largestTickDimensions.width) {\n            largestTick = label;\n            smartTick = context.smartTicks() ? context.smartTicks()[i] : {};\n            largestTickDimensions = tickDimensions;\n        }\n        return label;\n    });\n\n    labelManager.setStyle(context._axisNameStyle);\n    const axisNameDimensions = showAxisName ? labelManager.getOriSize(name) : { width: 0, height: 0 };\n\n    return {\n        axisNameDimensions,\n        largestTick,\n        largestTickDimensions,\n        allTickDimensions,\n        axisTicks,\n        smartTick,\n        tickSize: context.getTickSize()\n    };\n};\n\nexport const computeAxisDimensions = (context) => {\n    let tickDimensions = {};\n    const { labels } = context.renderConfig();\n    const { smartTicks, rotation } = labels;\n    const {\n        largestTickDimensions,\n        axisTicks,\n        smartTick,\n        axisNameDimensions,\n        allTickDimensions,\n        tickSize\n    } = getAxisComponentDimensions(context);\n    const { height: labelHeight, width: labelWidth } = largestTickDimensions;\n\n    // get the domain of axis\n    const domain = context.domain();\n    // const angle = ((rotation || 0) * Math.PI) / 180;\n\n    if (domain.length === 0) {\n        return null;\n    }\n    if (smartTicks) {\n        tickDimensions = smartTick;\n    } else {\n        tickDimensions = { width: labelWidth, height: labelHeight };\n    }\n    tickDimensions = getRotatedSpaces(rotation, tickDimensions.width, tickDimensions.height);\n\n    if (tickSize === 0) {\n        tickDimensions = { width: 0, height: 0 };\n    }\n    return {\n        allTickDimensions,\n        tickSize,\n        tickDimensions,\n        axisNameDimensions,\n        largestTickDimensions,\n        axisTicks\n    };\n};\n\n/**\n *\n *\n * @param {*} axisDimensions\n * @param {*} config\n * @param {*} range\n *\n */\nexport const getHorizontalAxisSpace = (context, axisDimensions, range) => {\n    let width;\n    let height;\n    const domain = context.domain();\n    const { tickSize, tickDimensions, axisNameDimensions } = axisDimensions;\n    const { axisNamePadding, tickValues } = context.config();\n    const { showAxisName } = context.renderConfig();\n    const { height: axisDimHeight } = axisNameDimensions;\n    const { height: tickDimHeight, width: tickDimWidth } = tickDimensions;\n\n    width = range && range.length ? range[1] - range[0] : 0;\n\n    height = 0;\n    if (tickValues) {\n        const minTickDiff = context.getMinTickDifference();\n        const [min, max] = [\n            Math.min(...tickValues, ...domain),\n            Math.max(...tickValues, ...domain)\n        ];\n\n        width = ((max - min) / Math.abs(minTickDiff)) * (tickDimWidth + context._minTickDistance.width);\n    }\n    if (!width || width === 0) {\n        height = Math.max(tickDimWidth, tickDimHeight);\n    } else {\n        height = tickDimHeight;\n    }\n    height += (showAxisName ? axisDimHeight + axisNamePadding : 0) + tickSize;\n\n    return {\n        width,\n        height\n    };\n};\n\n/**\n *\n *\n * @param {*} axisDimensions\n * @param {*} config\n * @param {*} range\n *\n */\nexport const getVerticalAxisSpace = (context, axisDimensions) => {\n    let height;\n    let width;\n    const domain = context.domain();\n    const { tickSize, tickDimensions, axisNameDimensions } = axisDimensions;\n    const { axisNamePadding, tickValues } = context.config();\n    const { showAxisName } = context.renderConfig();\n    const { height: axisDimHeight } = axisNameDimensions;\n    const { height: tickDimHeight, width: tickDimWidth } = tickDimensions;\n\n    height = 0;\n    width = tickDimWidth;\n    if (tickValues) {\n        const minTickDiff = context.getMinTickDifference();\n        const [min, max] = [\n            Math.min(...tickValues, ...domain),\n            Math.max(...tickValues, ...domain)\n        ];\n\n        height = ((max - min) / Math.abs(minTickDiff)) * tickDimHeight;\n    }\n    width += (showAxisName ? axisDimHeight : 0) + tickSize + axisNamePadding;\n\n    return {\n        height,\n        width\n    };\n};\n\n/**\n * Calculates the logical space of the axis\n * @return {Object} Width and height occupied by the axis.\n */\nexport const calculateBandSpace = (context) => {\n    const range = context.range();\n    const axisDimensions = context.getAxisDimensions();\n    const { orientation } = context.config();\n    const { show } = context.renderConfig();\n    const { largestTickDimensions, axisTicks, allTickDimensions } = axisDimensions;\n    const { height: largestDimHeight } = largestTickDimensions;\n    const minTickWidth = context._minTickDistance.width;\n    if (orientation === TOP || orientation === BOTTOM) {\n        let {\n            width,\n            height\n        } = getHorizontalAxisSpace(context, axisDimensions, range);\n\n        if (!width || width === 0) {\n            width = allTickDimensions.reduce((t, n) =>\n                t + Math.min(n.width, n.height) + minTickWidth, 0);\n        }\n        if (show === false) {\n            height = 0;\n        }\n\n        return {\n            width,\n            height\n        };\n    }\n\n    let {\n        width,\n        height\n    } = getVerticalAxisSpace(context, axisDimensions, range);\n\n    if (!height || height === 0) {\n        height = axisTicks.length * (largestDimHeight + context._minTickDistance.height) + largestDimHeight;\n    }\n    if (show === false) {\n        width = 0;\n    }\n\n    return {\n        width,\n        height\n    };\n};\n\n/**\n * Calculates the logical space of the axis\n * @return {Object} Width and height occupied by the axis.\n */\nexport const calculateContinousSpace = (context) => {\n    const range = context.range();\n    const axisDimensions = context.getAxisDimensions();\n    const { orientation } = context.config();\n    const { show, showAxisName } = context.renderConfig();\n    const { axisNameDimensions } = axisDimensions;\n\n    if (show === false) {\n        return {\n            width: 0,\n            height: 0\n        };\n    }\n\n    const { width: axisNameWidth } = axisNameDimensions;\n\n    if (orientation === TOP || orientation === BOTTOM) {\n        const {\n            width,\n            height\n        } = getHorizontalAxisSpace(context, axisDimensions, range);\n        const axisWidth = Math.max(width, axisNameWidth);\n\n        return {\n            width: axisWidth,\n            height\n        };\n    }\n    const {\n        width,\n        height\n    } = getVerticalAxisSpace(context, axisDimensions, range);\n\n    const effHeight = Math.max(height, showAxisName ? axisNameWidth : 0);\n\n    return {\n        width,\n        height: effHeight\n    };\n};\n\nexport const setContinousAxisDomain = (context, domain) => {\n    const { nice, domain: userDom } = context.config();\n    if (userDom) {\n        domain = userDom;\n    }\n    if (domain.length && domain[0] === domain[1]) {\n        domain = [0, +domain[0] * 2];\n    }\n    context.scale().domain(domain);\n    nice && context.scale().nice();\n    context._domain = context.scale().domain();\n};\n","export { default as ContinousAxis } from './continous-axis';\nexport { default as BandAxis } from './band-axis';\nexport { default as TimeAxis } from './time-axis';\nexport { default as SimpleAxis } from './simple-axis';\n","export { default as LinearInterpolator } from './linear';\nexport { default as LogInterpolator } from './log';\nexport { default as PowInterpolator } from './pow';\n","import { scaleMap } from '../../scale-creator';\n\nexport default class LinearInterpolator {\n\n    createScale (config) {\n        const {\n            range\n        } = config;\n        const scaleFactory = scaleMap.linear;\n        this._scale = scaleFactory().range(range);\n        return this._scale;\n    }\n\n    getScaleValue (domainVal) {\n        return this._scale(domainVal) + 0.5;\n    }\n\n    sanitizeDomain (domain) {\n        return domain;\n    }\n}\n","import { scaleMap } from '../../scale-creator';\n\nexport default class LogInterpolator {\n\n    createScale (config) {\n        const {\n            range,\n            base\n        } = config;\n        const scaleFactory = scaleMap.log;\n        this._scale = scaleFactory().range(range).base(base);\n        return this._scale;\n    }\n\n    getScaleValue (domainVal) {\n        if (domainVal <= 0) {\n            return 1;\n        }\n\n        return this._scale(domainVal) + 0.5;\n    }\n\n    sanitizeDomain (domain) {\n        if (domain[0] <= 0) {\n            return [Math.max(1, domain[0]), Math.max(1, domain[1])];\n        } return domain;\n    }\n}\n","import { scaleMap } from '../../scale-creator';\n\nexport default class PowInterpolator {\n\n    createScale (config) {\n        const {\n            range,\n            exponent\n        } = config;\n        const scaleFactory = scaleMap.pow;\n        this._scale = scaleFactory().range(range).exponent(exponent);\n        return this._scale;\n    }\n\n    getScaleValue (domainVal) {\n        return this._scale(domainVal) + 0.5;\n    }\n\n    sanitizeDomain (domain) {\n        return domain;\n    }\n}\n","import { mergeRecursive } from 'muze-utils';\n\nexport const PROPS = {\n    availableSpace: {},\n    axisDimensions: {},\n    axisComponentDimensions: {},\n    config: {\n        sanitization: (context, value) => {\n            const oldConfig = Object.assign({}, context._config || {});\n            value = mergeRecursive(oldConfig, value);\n            value.axisNamePadding = Math.max(value.axisNamePadding, 0);\n            if (value.orientation !== oldConfig.orientation) {\n                context.axis(context.createAxis(value));\n            }\n            const {\n                labels,\n                show,\n                showInnerTicks,\n                showOuterTicks,\n                showAxisName\n            } = value;\n            context.renderConfig({\n                labels,\n                show,\n                showInnerTicks,\n                showOuterTicks,\n                showAxisName\n            });\n            return value;\n        }\n    },\n    renderConfig: {\n        sanitization: (context, value) => {\n            const oldConfig = Object.assign({}, context._renderConfig || {});\n            value = mergeRecursive(oldConfig, value);\n            return value;\n        }\n    },\n    logicalSpace: {},\n    mount: {\n    },\n    range: {\n        sanitization: (context, value) => {\n            context.scale().range(value);\n            context.logicalSpace(null);\n            return value;\n        }\n    },\n\n    smartTicks: {},\n    store: {},\n    tickSize: {},\n    maxTickSpaces: {}\n};\n","import {\n    mergeRecursive,\n    getSmartComputedStyle,\n    selectElement,\n    generateGetterSetters,\n    getUniqueId\n} from 'muze-utils';\nimport { createScale } from '../scale-creator';\nimport { axisOrientationMap, BOTTOM, TOP } from '../enums/axis-orientation';\nimport { defaultConfig } from './default-config';\nimport { renderAxis } from '../axis-renderer';\nimport { BAND } from '../enums/constants';\nimport { spaceSetter } from './space-setter';\nimport {\n    getAxisComponentDimensions,\n    computeAxisDimensions,\n    calculateContinousSpace\n} from './helper';\nimport { PROPS } from './props';\n\nexport default class SimpleAxis {\n\n    /**\n     * Creates an instance of SimpleAxis.\n     * @memberof SimpleAxis\n     */\n    constructor (config, dependencies) {\n        this._id = getUniqueId();\n\n        this._dependencies = dependencies;\n        this._mount = null;\n        this._range = [];\n        this._domain = [];\n        this._domainLock = false;\n        this._axisDimensions = {};\n        this._smartTicks = [];\n\n        const defCon = mergeRecursive({}, this.constructor.defaultConfig());\n        const simpleConfig = mergeRecursive(defCon, config);\n\n        const bodyElem = selectElement('body');\n        const classPrefix = simpleConfig.classPrefix;\n        this._tickLabelStyle = getSmartComputedStyle(bodyElem, `${classPrefix}-ticks`);\n        this._axisNameStyle = getSmartComputedStyle(bodyElem, `${classPrefix}-axis-name`);\n\n        dependencies.labelManager.setStyle(this._tickLabelStyle);\n        const dist = dependencies.labelManager.getOriSize('w');\n\n        this._minTickDistance = { width: dist.width * 3 / 4, height: dist.height / 2 };\n        this._minTickSpace = dependencies.labelManager.getOriSize('www');\n\n        generateGetterSetters(this, PROPS);\n        this.config(simpleConfig);\n\n        this._scale = this.createScale(this._config);\n        this._axis = this.createAxis(this._config);\n    }\n\n    /**\n     * Returns the default configuration of simple axis\n     *  @return {Object} default configurations\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    /**\n     * Sets a fixed baseline for the first ticks so that they can render effectively within\n     * the given area\n     *\n     * @param {*} tickText\n     * @param {*} config\n     * @param {*} labelManager\n     */\n    setFixedBaseline () {\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @readonly\n     * @memberof SimpleAxis\n     */\n    scale (...params) {\n        if (params.length) {\n            this._scale = params[0];\n            return this;\n        }\n        return this._scale;\n    }\n\n    resetDomain () {\n        this._domain = [];\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @readonly\n     * @memberof SimpleAxis\n     */\n    axis (...params) {\n        if (params.length) {\n            this._axis = params[0];\n            return this;\n        }\n        return this._axis;\n    }\n\n    /**\n     *\n     *\n     * @param {*} d\n     *\n     * @memberof SimpleAxis\n     */\n    domain (...domain) {\n        if (domain.length) {\n            let dom = domain[0];\n            const userDom = this.config().domain;\n            if (userDom) {\n                dom = userDom;\n            }\n            this.scale().domain(dom);\n            this._domain = this.scale().domain();\n            this.setAxisComponentDimensions();\n            this.logicalSpace(null);\n            return this;\n        }\n        return this._domain;\n    }\n\n    setAxisComponentDimensions () {\n        this.axisComponentDimensions(getAxisComponentDimensions(this));\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    dependencies () {\n        return this._dependencies;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    createScale (config) {\n        const {\n            base,\n            padding,\n            interpolator,\n            exponent\n        } = config;\n        const range = this.range();\n        const scale = createScale({\n            padding,\n            interpolator,\n            exponent,\n            base,\n            range,\n            type: this.constructor.type()\n        });\n\n        return scale;\n    }\n\n    getTickFormatter (tickFormat, numberFormat) {\n        if (tickFormat) {\n            return ticks => (val, i) => tickFormat(numberFormat(val), i, ticks);\n        }\n        return () => val => numberFormat(val);\n    }\n\n    resetLogicalSpace () {\n        this.logicalSpace(null);\n        this.range([]);\n        const {\n            labels,\n            show,\n            showInnerTicks,\n            showOuterTicks,\n            showAxisName\n        } = this.config();\n        this.renderConfig({\n            labels,\n            show,\n            showInnerTicks,\n            showOuterTicks,\n            showAxisName\n        });\n    }\n\n    getFormattedText (text, index, axisTicks) {\n        const formatter = this.formatter;\n        const scale = this.scale();\n        return formatter ? formatter(axisTicks)(text, index) : (scale.tickFormat ? scale.tickFormat()(text) : text);\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    createAxis (config) {\n        const {\n            tickFormat,\n            numberFormat,\n            orientation\n        } = config;\n        const axisClass = axisOrientationMap[orientation];\n\n        if (axisClass) {\n            const axis = axisClass(this.scale());\n            this.formatter = this.getTickFormatter(tickFormat, numberFormat);\n\n            return axis;\n        }\n        return null;\n    }\n\n    /**\n     * This method is used to set the space availiable to render\n     * the SimpleCell.\n     *\n     * @param {number} width The width of SimpleCell.\n     * @param {number} height The height of SimpleCell.\n     * @memberof AxisCell\n     */\n    setAvailableSpace (width = 0, height, padding, isOffset) {\n        let labelConfig = {};\n        const {\n           orientation\n       } = this.config();\n\n        this.availableSpace({ width, height, padding });\n\n        if (orientation === TOP || orientation === BOTTOM) {\n            labelConfig = spaceSetter(this, { isOffset }).continous.x();\n        } else {\n            labelConfig = spaceSetter(this, { isOffset }).continous.y();\n        }\n\n        // Set config\n        this.renderConfig({\n            labels: labelConfig\n        });\n        this.setTickConfig();\n        this.getTickSize();\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    setTickConfig () {\n        return this;\n    }\n\n    getScaleValue (domainVal) {\n        if (domainVal === null || domainVal === undefined) {\n            return undefined;\n        }\n        return this.scale()(domainVal);\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    getTickSize () {\n        return this.axis().tickSize();\n    }\n\n    /**\n     * Gets the space occupied by the parts of an axis\n     *\n     * @return {Object} object with details about sizes of the axis.\n     * @memberof SimpleAxis\n     */\n    getAxisDimensions (...params) {\n        this.axisDimensions(computeAxisDimensions(this, ...params));\n        return this.axisDimensions();\n    }\n\n    /**\n     * Gets the space occupied by the axis\n     *\n     * @return {Object} object with details about size of the axis.\n     * @memberof SimpleAxis\n     */\n    getLogicalSpace () {\n        if (!this.logicalSpace()) {\n            this.logicalSpace(calculateContinousSpace(this));\n            this.logicalSpace();\n        }\n\n        return this.logicalSpace();\n    }\n\n    /**\n     * Returns the value from the domain when given a value from the range.\n     * @param {number} value Value from the range.\n     * @return {number} Value\n     */\n    invert (...value) {\n        const values = value.map(d => this.scale().invert(d)) || [];\n        return value.length === 1 ? values[0] : values;\n    }\n\n    /**\n     * Gets the nearest range value from the given range values.\n     * @param {number} v1 Start range value\n     * @param {number} v2 End range value\n     * @return {Array} range values\n     */\n    getNearestRange (v1, v2) {\n        let p1;\n        let p2;\n        let extent;\n        const {\n            type\n        } = this.config();\n        const scale = this.scale();\n        const range = scale.range();\n        const reverse = range[0] > range[1];\n\n        if (type === BAND) {\n            extent = scale.invertExtent(v1, v2);\n            p1 = scale(reverse ? extent[extent.length - 1] : extent[0]);\n            p2 = scale(reverse ? extent[0] : extent[extent.length - 1]) + scale.bandwidth();\n            return [p1, p2];\n        }\n        return [v1, v2];\n    }\n\n    getMinTickDifference () {\n        return this.domain();\n    }\n\n    getFormattedTickValues (tickValues) {\n        return tickValues;\n    }\n\n    /**\n     * This method returns the width in pixels for one\n     * unit along the axis. It is only applicable to band scale\n     * and returns undefined for other scale type.\n     *\n     * @return {number} the width of one band along band scale axis\n     * @memberof SimpleAxis\n     */\n    getUnitWidth () {\n        return 0;\n    }\n\n    /**\n     * This method returns an object that can be used to\n     * reconstruct this instance.\n     *\n     * @return {Object} the serializable props of axis\n     * @memberof SimpleAxis\n     */\n    serialize () {\n        return {\n            name: this.name,\n            type: this.type,\n            range: this.range(),\n            config: this.config()\n        };\n    }\n\n    /**\n     * Returns the id of the axis.\n     * @return {string} Unique identifier of the axis.\n     */\n    get id () {\n        return this._id;\n    }\n\n    /**\n     * This method is used to render the axis inside\n     * the supplied svg container.\n     *\n     * @param {SVGElement} svg the svg element in which to render the path\n     * @memberof SimpleAxis\n     */\n    /* istanbul ignore next */render () {\n        if (this.mount()) {\n            this.setTickConfig();\n            renderAxis(this);\n        }\n        return this;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    remove () {\n        selectElement(this.mount()).remove();\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    unsubscribe () {\n        return this;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    isReverse () {\n        const range = this.range();\n        return range[0] > range[1];\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    getPixelToValueRatio () {\n        const scale = this.scale();\n        const range = scale.range();\n        const domain = scale.domain();\n\n        return Math.abs(range[1] - range[0]) / (domain[1] - domain[0]);\n    }\n}\n\n","import { BOTTOM, TOP } from '../enums/axis-orientation';\n\nconst setAxisRange = (context, type, rangeBounds, offset) => {\n    context.range(rangeBounds);\n    offset && context.config({ [`${type}Offset`]: offset });\n};\n\nconst getAxisOffset = (timeDiff, range, domain) => {\n    const pvr = Math.abs(range[1] - range[0]) / (domain[1] - domain[0]);\n    const width = (pvr * timeDiff);\n    const avWidth = (range[1] - range[0]);\n    const bars = avWidth / width;\n    const barWidth = avWidth / (bars + 1);\n    const diff = avWidth - barWidth * bars;\n\n    return diff / 2;\n};\n\nexport const adjustRange = (minDiff, range, domain, orientation) => {\n    const diff = getAxisOffset(minDiff, range, domain);\n\n    if (orientation === TOP || orientation === BOTTOM) {\n        range[0] += diff;\n        range[1] -= diff;\n    } else {\n        range[0] -= diff;\n        range[1] += diff;\n    }\n    return range;\n};\n\nexport const spaceSetter = (context, spaceConfig) => {\n    let tickInterval;\n    let heightForTicks;\n    const {\n        width: availWidth,\n        height: availHeight,\n        padding\n    } = context.availableSpace();\n    const {\n        top,\n        left,\n        bottom,\n        right\n    } = padding;\n    const {\n        isOffset\n    } = spaceConfig;\n    const {\n        showAxisName,\n        labels\n    } = context.renderConfig();\n    const {\n        rotation\n    } = labels;\n    const {\n        orientation,\n        fixedBaseline,\n        axisNamePadding,\n        tickValues\n    } = context.config();\n    const {\n        tickDimensions,\n        allTickDimensions,\n        axisNameDimensions,\n        tickSize\n    } = context.getAxisDimensions();\n    const {\n        height: tickDimHeight,\n        width: tickDimWidth\n    } = tickDimensions;\n    const namePadding = showAxisName ? axisNamePadding : 0;\n    const labelConfig = { smartTicks: true, rotation: labels.rotation };\n    const minTickDistance = context._minTickDistance;\n    const minTickSpace = context._minTickSpace;\n    const minDiff = context._minDiff;\n    const domain = context.domain();\n    const axisNameHeight = axisNameDimensions.height;\n\n    return {\n        time: {\n            x: () => {\n                const tickShifter = tickDimWidth / 2;\n\n                setAxisRange(context, 'y', adjustRange(minDiff,\n                    [tickShifter, availWidth - left - right - tickShifter], domain, orientation),\n                        isOffset ? availHeight : null);\n\n                tickInterval = ((availWidth) / context.getTickValues().length)\n                                     - minTickDistance.width;\n\n                heightForTicks = availHeight - axisNameDimensions.availHeight - tickSize - namePadding;\n\n                if (tickInterval < minTickSpace.width && rotation !== 0) {\n                    // set smart ticks and rotation config\n                    labelConfig.rotation = labels.rotation === null ? -90 : rotation;\n\n                    // Remove ticks if not enough height\n                    if (tickInterval < minTickSpace.height) {\n                        heightForTicks = availHeight;\n                        tickInterval = minTickSpace.height;\n                        context.renderConfig({ showInnerTicks: false, showOuterTicks: false });\n                    }\n                }\n                if (availHeight < axisNameHeight) {\n                    context.renderConfig({ show: false });\n                }\n\n                context.maxTickSpaces({\n                    width: tickInterval,\n                    height: heightForTicks,\n                    noWrap: rotation !== null\n                });\n                return labelConfig;\n            },\n            y: () => {\n                let widthForTicks = availWidth;\n                const tickShifter = tickDimHeight / 2;\n\n                setAxisRange(context, 'x', adjustRange(minDiff,\n                    [availHeight - top - bottom - tickShifter, tickShifter], domain, orientation),\n                        isOffset ? availWidth : null);\n\n                if ((availWidth - axisNameHeight - namePadding) <= minTickDistance.width) {\n                    widthForTicks = 0;\n                    context.renderConfig({ showInnerTicks: false, showOuterTicks: false });\n                }\n\n                context.maxTickSpaces({\n                    width: widthForTicks,\n                    height: availHeight,\n                    noWrap: true\n                });\n                if (availWidth < axisNameHeight) {\n                    context.renderConfig({ show: false });\n                }\n                return labelConfig;\n            }\n        },\n        band: {\n            x: () => {\n                setAxisRange(context, 'y', [0, availWidth - left - right], isOffset ? availHeight : null);\n                const range = context.range();\n\n                // Get Tick Interval\n                tickInterval = ((range[1] - range[0]) / (tickValues || domain).length) - minTickDistance.width;\n\n                // Get height available for ticks\n                heightForTicks = availHeight - axisNameHeight - tickSize - namePadding;\n\n                if (tickInterval < minTickSpace.width && rotation !== 0) {\n                    // set smart ticks and rotation config\n                    labelConfig.rotation = rotation === null ? -90 : rotation;\n                    labelConfig.smartTicks = false;\n\n                    // Ticks with overlapping height\n                    if (tickInterval < minTickSpace.height) {\n                        heightForTicks = 0;\n                        tickInterval = 0;\n                        context.renderConfig({ showInnerTicks: false, showOuterTicks: false });\n                        context.range([minTickSpace.height / 2, availWidth - minTickSpace.height / 2]);\n                    }\n                } else if (tickValues) {\n                    const interval = (availWidth / domain.length) - minTickDistance.width;\n                    if (interval < minTickSpace.width) {\n                        context.range([minTickSpace.height / 2, availWidth - minTickSpace.height / 2]);\n                    }\n                }\n                if (availHeight < axisNameHeight) {\n                    context.renderConfig({ show: false, showInnerTicks: false, showOuterTicks: false });\n                }\n\n                context.maxTickSpaces({\n                    width: tickInterval,\n                    height: heightForTicks,\n                    noWrap: rotation !== null\n                });\n                return labelConfig;\n            },\n            y: () => {\n                setAxisRange(context, 'x', [availHeight - bottom, top], isOffset ? availWidth : null);\n\n                let widthForTicks = availWidth;\n                if (availWidth - axisNameHeight - namePadding <= minTickDistance.width) {\n                    widthForTicks = 0;\n                    context.renderConfig({ showInnerTicks: false, showOuterTicks: false });\n                }\n\n                context.maxTickSpaces({\n                    width: widthForTicks,\n                    height: availHeight,\n                    noWrap: true\n                });\n                if (availWidth < axisNameHeight) {\n                    context.renderConfig({ show: false });\n                }\n                return labelConfig;\n            }\n        },\n        continous: {\n            x: () => {\n                labelConfig.smartTicks = false;\n                const tickShifter = tickDimensions.width / 2;\n                const baseline = fixedBaseline ? 0 : tickShifter;\n\n                setAxisRange(context, 'y', [baseline + left, availWidth - right - tickShifter],\n                    isOffset ? availHeight : null);\n\n                const range = context.range();\n\n                // Get Tick widths and available space\n                const totalTickWidth = allTickDimensions.length * (tickDimensions.width + minTickDistance.width);\n                const availableSpace = range[1] - range[0];\n\n                 // Rotate labels if not enough width\n                if (availableSpace < totalTickWidth && labels.rotation === null) {\n                    labelConfig.rotation = -90;\n                }\n\n                // Remove ticks if not enough height\n                if (availHeight - axisNameHeight - namePadding < tickDimensions.height) {\n                    context.renderConfig({ showInnerTicks: false });\n                    if (availHeight < axisNameHeight) {\n                        context.renderConfig({ show: false });\n                    }\n                }\n                return labelConfig;\n            },\n            y: () => {\n                labelConfig.smartTicks = false;\n                const tickShifter = tickDimensions.height / 2;\n                const baseline = fixedBaseline ? 1 : tickShifter;\n\n                setAxisRange(context, 'x', [availHeight - bottom - baseline, tickShifter + top],\n                    isOffset ? availWidth : null);\n\n                // Remove display of ticks if no space is left\n                if (availWidth < tickDimensions.width + axisNameHeight + namePadding) {\n                    context.renderConfig({ showInnerTicks: false });\n                    if (availWidth < axisNameHeight) {\n                        context.renderConfig({ show: false });\n                    }\n                }\n                return labelConfig;\n            }\n        }\n    };\n};\n","import { getSmallestDiff } from 'muze-utils';\nimport SimpleAxis from './simple-axis';\nimport { TIME } from '../enums/scale-type';\nimport { axisOrientationMap, BOTTOM, TOP } from '../enums/axis-orientation';\nimport { calculateBandSpace, getRotatedSpaces, setContinousAxisDomain } from './helper';\nimport { spaceSetter } from './space-setter';\n\n/**\n *\n *\n * @export\n * @class TimeAxis\n * @extends {SimpleAxis}\n */\nexport default class TimeAxis extends SimpleAxis {\n\n    constructor (...params) {\n        super(...params);\n        this._minDiff = Infinity;\n    }\n\n    /**\n     *\n     *\n     * @param {*} range\n     *\n     * @memberof TimeAxis\n     */\n    createScale (range) {\n        let scale = super.createScale(range);\n\n        scale = scale.nice();\n        return scale;\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof TimeAxis\n     */\n    static type () {\n        return TIME;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof SimpleAxis\n     */\n    createAxis (config) {\n        const {\n            tickFormat,\n            orientation\n        } = config;\n        const axisClass = axisOrientationMap[orientation];\n\n        if (axisClass) {\n            const axis = axisClass(this.scale());\n            this.formatter = this.getTickFormatter(tickFormat);\n            return axis;\n        }\n        return null;\n    }\n\n    getTickFormatter (tickFormat) {\n        if (tickFormat) {\n            return ticks => (val, i) => tickFormat(val, i, ticks);\n        }\n        return null;\n    }\n\n     /**\n     *\n     *\n     *\n     * @memberof SimpleAxis\n     */\n    getTickSize () {\n        const {\n            showInnerTicks,\n            showOuterTicks\n        } = this.renderConfig();\n        const axis = this.axis();\n        axis.tickSizeInner(showInnerTicks === false ? 0 : 6);\n        axis.tickSizeOuter(showOuterTicks === false ? 0 : 6);\n        return super.getTickSize();\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof TimeAxis\n     */\n    getTickValues () {\n        return this.config().tickValues || this.scale().ticks();\n    }\n\n    /**\n     *\n     *\n     * @param {*} diff\n     *\n     * @memberof TimeAxis\n     */\n    minDiff (diff) {\n        this._minDiff = Math.min(this._minDiff, diff);\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} d\n     *\n     * @memberof SimpleAxis\n     */\n    domain (domain) {\n        if (domain) {\n            setContinousAxisDomain(this, domain);\n            this.setAxisComponentDimensions();\n            this.logicalSpace(null);\n            return this;\n        } return this._domain;\n    }\n\n    /**\n     * Gets the space occupied by the axis\n     *\n     * @return {Object} object with details about size of the axis.\n     * @memberof SimpleAxis\n     */\n    getLogicalSpace () {\n        if (!this.logicalSpace()) {\n            this.logicalSpace(calculateBandSpace(this));\n            this.logicalSpace();\n        }\n        return this.logicalSpace();\n    }\n\n    getMinTickDifference () {\n        return getSmallestDiff(this.config().tickValues);\n    }\n\n    /**\n     * This method is used to set the space availiable to render\n     * the SimpleCell.\n     *\n     * @param {number} width The width of SimpleCell.\n     * @param {number} height The height of SimpleCell.\n     * @memberof AxisCell\n     */\n    setAvailableSpace (width = 0, height, padding, isOffset) {\n        let labelConfig = {};\n        const {\n           orientation\n       } = this.config();\n\n        this.availableSpace({ width, height, padding });\n\n        if (orientation === TOP || orientation === BOTTOM) {\n            labelConfig = spaceSetter(this, { isOffset }).time.x();\n        } else {\n            labelConfig = spaceSetter(this, { isOffset }).time.y();\n        }\n\n        // Set config\n        this.renderConfig({\n            labels: labelConfig\n        });\n        this.setTickConfig();\n        this.getTickSize();\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @returns\n     * @memberof BandAxis\n     */\n    setTickConfig () {\n        let smartTicks;\n        let smartlabel;\n        const { tickFormat, tickValues } = this.config();\n        const { labels } = this.renderConfig();\n        const { height: availHeight, width: availWidth, noWrap } = this.maxTickSpaces();\n        const { labelManager } = this._dependencies;\n        const domain = this.getTickValues();\n        const scale = this.scale();\n        tickValues && this.axis().tickValues(tickValues);\n\n        const { width, height } = getRotatedSpaces(labels.rotation, availWidth, availHeight);\n\n        smartTicks = tickValues || domain;\n        const tickFormatter = tickFormat || scale.tickFormat();\n         // set the style on the shared label manager instance\n        labelManager.setStyle(this._tickLabelStyle);\n\n        if (domain && domain.length) {\n            const values = tickValues || domain;\n            smartTicks = values.map((d, i) => {\n                labelManager.useEllipsesOnOverflow(true);\n\n                smartlabel = labelManager.getSmartText(tickFormatter(d, i, values), width, height, noWrap);\n                return labelManager.constructor.textToLines(smartlabel);\n            });\n        }\n        this.smartTicks(smartTicks);\n        return this;\n    }\n}\n","/**\n * @module Axis\n * This file declares a class that is used to render an axis to add  meaning to\n * plots.\n */\nimport { getUniqueId, generateGetterSetters, rgbToHsv } from 'muze-utils';\nimport { createScale, getScheme, getSchemeType } from '../scale-creator';\nimport { CONTINOUS, DISCRETE, COLOR } from '../enums/constants';\nimport { strategyGetter } from './color-strategy';\nimport { DEFAULT_CONFIG } from './defaults';\nimport { PROPS, getHslString } from './props';\n\n/**\n* This class is used to instantiate a SimpleAxis.\n* @class SimpleAxis\n*/\nexport default class ColorAxis {\n\n    /**\n    * Creates an instance of SimpleAxis.\n    * @param {Object} config input parameters.\n    * @param {Object | undefined} params.range Type of color range.\n    * @param {string} params.name the label to show on axis.\n    * @param {string} params.type The type of scale to handle.\n    * @memberof ColorAxis\n    */\n    constructor (config) {\n        generateGetterSetters(this, PROPS);\n        this.config(config);\n\n        this._domainType = this._config.type === 'linear' ? CONTINOUS : DISCRETE;\n        this._rangeType = (this._config.type === 'linear' && !this._config.step) ? CONTINOUS : DISCRETE;\n\n        this._schemeType = getSchemeType(this._config.range);\n\n        this._colorStrategy = this.setColorStrategy(this._domainType, this._rangeType, this._schemeType);\n        this._scale = this.createScale(this._colorStrategy);\n\n        this._id = getUniqueId();\n\n        this.updateDomain(config.domain);\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof ColorAxis\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof ColorAxis\n     */\n    static type () {\n        return COLOR;\n    }\n\n    /**\n     *\n     *\n     * @param {*} colorStrategy\n     *\n     * @memberof ColorAxis\n     */\n    createScale (colorStrategy) {\n        const { range } = this.config();\n        if (range && typeof (range) === 'string') {\n            return getScheme(range);\n        }\n        return createScale({\n            type: colorStrategy.scale,\n            range\n        });\n    }\n\n    /**\n     *\n     *\n     * @param {*} domainType\n     * @param {*} rangeType\n     * @param {*} schemeType\n     *\n     * @memberof ColorAxis\n     */\n    setColorStrategy (domainType, rangeType, schemeType) {\n        const { stops } = this.config();\n\n        return strategyGetter(domainType, rangeType, schemeType, stops);\n    }\n\n    /**\n     *\n     *\n     * @param {*} domainVal\n     *\n     * @memberof ColorAxis\n     */\n    getHslString (hslColorArray) {\n        return getHslString(hslColorArray);\n    }\n    /**\n     *\n     *\n     * @param {*} domainVal\n     *\n     * @memberof ColorAxis\n     */\n    getColor (domainVal) {\n        return this.getHslString(this.getRawColor(domainVal));\n    }\n    /**\n     *\n     *\n     * @param {*} domainVal\n     *\n     * @memberof ColorAxis\n     */\n    getRawColor (domainVal) {\n        if (this.domain() && domainVal !== undefined) {\n            const scale = this.scale();\n            const range = scale.range ? scale.range() : null;\n            const color = this._colorStrategy.value(range)(domainVal, scale, this.domain(), this.uniqueValues());\n\n            if (typeof color === 'string') {\n                const col = color.substring(color.indexOf('(') + 1, color.lastIndexOf(')')).split(/,\\s*/);\n                return rgbToHsv(...col);\n            }\n            return [...color];\n        }\n        return [...this.config().value];\n    }\n\n    /**\n     *\n     *\n     * @param {*} [domain=[]]\n     *\n     * @memberof ColorAxis\n     */\n    updateDomain (domain = []) {\n        if (domain.length) {\n            const scale = this.scale();\n            const range = scale.range ? scale.range() : null;\n            const domainRangeFn = this._colorStrategy.domainRange();\n            const scaleInfo = domainRangeFn(domain, this.config().stops, range);\n\n            this.domain(scaleInfo.domain);\n            scaleInfo.range && this.scale().range(scaleInfo.range);\n            this.uniqueValues(scaleInfo.uniqueVals);\n            this.scale().domain(scaleInfo.scaleDomain || this.domain());\n        }\n        return this;\n    }\n\n    /**\n     * This method returns an object that can be used to\n     * reconstruct this instance.\n     *\n     * @return {Object} the serializable props of axis\n     * @memberof ShapeAxis\n     */\n    serialize () {\n        return {\n            type: this.constructor.type(),\n            scale: this.scale(),\n            domain: this.domain(),\n            config: this.config()\n        };\n    }\n\n    transformColor (color, transformationArr) {\n        const h = color[0] * 360;\n        const s = color[1] * 100;\n        const l = color[2] * 100;\n        const a = color[3] || 1;\n        const newH = h + transformationArr[0];\n        const newS = s + transformationArr[1];\n        const newL = l + transformationArr[2];\n        const newA = a + transformationArr[3] || 0;\n\n        return { color: `hsla(${newH},${newS}%,${newL}%,${newA})`, hsla: [newH / 360, newS / 100, newL / 100, newA] };\n    }\n\n    /**\n     * Returns the id of the axis.\n     * @return {string} Unique identifier of the axis.\n     */\n    id () {\n        return this._id;\n    }\n\n}\n","export const x11Colors = {\n    Pink: { hex: 'ffc0cb', rgb: '255,192,203' },\n    LightPink: { hex: 'ffb6c1', rgb: '255,182,193' },\n    HotPink: { hex: 'ff69b4', rgb: '255,105,180' },\n    DeepPink: { hex: 'ff1493', rgb: '255,20,147' },\n    PaleVioletRed: { hex: 'db7093', rgb: '219,112,147' },\n    MediumVioletRed: { hex: 'c71585', rgb: '199,21,133' },\n    LightSalmon: { hex: 'ffa07a', rgb: '255,160,122' },\n    Salmon: { hex: 'fa8072', rgb: '250,128,114' },\n    DarkSalmon: { hex: 'e9967a', rgb: '233,150,122' },\n    LightCoral: { hex: 'f08080', rgb: '240,128,128' },\n    IndianRed: { hex: 'cd5c5c', rgb: '205,92,92' },\n    Crimson: { hex: 'dc143c', rgb: '220,20,60' },\n    FireBrick: { hex: 'b22222', rgb: '178,34,34' },\n    DarkRed: { hex: '8b0000', rgb: '139,0,0' },\n    Red: { hex: 'ff0000', rgb: '255,0,0' },\n    OrangeRed: { hex: 'ff4500', rgb: '255,69,0' },\n    Tomato: { hex: 'ff6347', rgb: '255,99,71' },\n    Coral: { hex: 'ff7f50', rgb: '255,127,80' },\n    DarkOrange: { hex: 'ff8c00', rgb: '255,140,0' },\n    Orange: { hex: 'ffa500', rgb: '255,165,0' },\n    Gold: { hex: 'ffd700', rgb: '255,215,0' },\n    Yellow: { hex: 'ffff00', rgb: '255,255,0' },\n    LightYellow: { hex: 'ffffe0', rgb: '255,255,224' },\n    LemonChiffon: { hex: 'fffacd', rgb: '255,250,205' },\n    LightGoldenrodYellow: { hex: 'fafad2', rgb: '250,250,210' },\n    PapayaWhip: { hex: 'ffefd5', rgb: '255,239,213' },\n    Moccasin: { hex: 'ffe4b5', rgb: '255,228,181' },\n    PeachPuff: { hex: 'ffdab9', rgb: '255,218,185' },\n    PaleGoldenrod: { hex: 'eee8aa', rgb: '238,232,170' },\n    Khaki: { hex: 'f0e68c', rgb: '240,230,140' },\n    DarkKhaki: { hex: 'bdb76b', rgb: '189,183,107' },\n    Cornsilk: { hex: 'fff8dc', rgb: '255,248,220' },\n    BlanchedAlmond: { hex: 'ffebcd', rgb: '255,235,205' },\n    Bisque: { hex: 'ffe4c4', rgb: '255,228,196' },\n    NavajoWhite: { hex: 'ffdead', rgb: '255,222,173' },\n    Wheat: { hex: 'f5deb3', rgb: '245,222,179' },\n    BurlyWood: { hex: 'deb887', rgb: '222,184,135' },\n    Tan: { hex: 'd2b48c', rgb: '210,180,140' },\n    RosyBrown: { hex: 'bc8f8f', rgb: '188,143,143' },\n    SandyBrown: { hex: 'f4a460', rgb: '244,164,96' },\n    Goldenrod: { hex: 'daa520', rgb: '218,165,32' },\n    DarkGoldenrod: { hex: 'b8860b', rgb: '184,134,11' },\n    Peru: { hex: 'cd853f', rgb: '205,133,63' },\n    Chocolate: { hex: 'd2691e', rgb: '210,105,30' },\n    SaddleBrown: { hex: '8b4513', rgb: '139,69,19' },\n    Sienna: { hex: 'a0522d', rgb: '160,82,45' },\n    Brown: { hex: 'a52a2a', rgb: '165,42,42' },\n    Maroon: { hex: '800000', rgb: '128,0,0' },\n    DarkOliveGreen: { hex: '556b2f', rgb: '85,107,47' },\n    Olive: { hex: '808000', rgb: '128,128,0' },\n    OliveDrab: { hex: '6b8e23', rgb: '107,142,35' },\n    YellowGreen: { hex: '9acd32', rgb: '154,205,50' },\n    LimeGreen: { hex: '32cd32', rgb: '50,205,50' },\n    Lime: { hex: '00ff00', rgb: '0,255,0' },\n    LawnGreen: { hex: '7cfc00', rgb: '124,252,0' },\n    Chartreuse: { hex: '7fff00', rgb: '127,255,0' },\n    GreenYellow: { hex: 'adff2f', rgb: '173,255,47' },\n    SpringGreen: { hex: '00ff7f', rgb: '0,255,127' },\n    MediumSpringGreen: { hex: '00fa9a', rgb: '0,250,154' },\n    LightGreen: { hex: '90ee90', rgb: '144,238,144' },\n    PaleGreen: { hex: '98fb98', rgb: '152,251,152' },\n    DarkSeaGreen: { hex: '8fbc8f', rgb: '143,188,143' },\n    MediumSeaGreen: { hex: '3cb371', rgb: '60,179,113' },\n    SeaGreen: { hex: '2e8b57', rgb: '46,139,87' },\n    ForestGreen: { hex: '228b22', rgb: '34,139,34' },\n    Green: { hex: '008000', rgb: '0,128,0' },\n    DarkGreen: { hex: '006400', rgb: '0,100,0' },\n    MediumAquamarine: { hex: '66cdaa', rgb: '102,205,170' },\n    Aqua: { hex: '00ffff', rgb: '0,255,255' },\n    Cyan: { hex: '00ffff', rgb: '0,255,255' },\n    LightCyan: { hex: 'e0ffff', rgb: '224,255,255' },\n    PaleTurquoise: { hex: 'afeeee', rgb: '175,238,238' },\n    Aquamarine: { hex: '7fffd4', rgb: '127,255,212' },\n    Turquoise: { hex: '40e0d0', rgb: '64,224,208' },\n    MediumTurquoise: { hex: '48d1cc', rgb: '72,209,204' },\n    DarkTurquoise: { hex: '00ced1', rgb: '0,206,209' },\n    LightSeaGreen: { hex: '20b2aa', rgb: '32,178,170' },\n    CadetBlue: { hex: '5f9ea0', rgb: '95,158,160' },\n    DarkCyan: { hex: '008b8b', rgb: '0,139,139' },\n    Teal: { hex: '008080', rgb: '0,128,128' },\n    LightSteelBlue: { hex: 'b0c4de', rgb: '176,196,222' },\n    PowderBlue: { hex: 'b0e0e6', rgb: '176,224,230' },\n    LightBlue: { hex: 'add8e6', rgb: '173,216,230' },\n    SkyBlue: { hex: '87ceeb', rgb: '135,206,235' },\n    LightSkyBlue: { hex: '87cefa', rgb: '135,206,250' },\n    DeepSkyBlue: { hex: '00bfff', rgb: '0,191,255' },\n    DodgerBlue: { hex: '1e90ff', rgb: '30,144,255' },\n    CornflowerBlue: { hex: '6495ed', rgb: '100,149,237' },\n    SteelBlue: { hex: '4682b4', rgb: '70,130,180' },\n    RoyalBlue: { hex: '4169e1', rgb: '65,105,225' },\n    Blue: { hex: '0000ff', rgb: '0,0,255' },\n    MediumBlue: { hex: '0000cd', rgb: '0,0,205' },\n    DarkBlue: { hex: '00008b', rgb: '0,0,139' },\n    Navy: { hex: '000080', rgb: '0,0,128' },\n    MidnightBlue: { hex: '191970', rgb: '25,25,112' },\n    Lavender: { hex: 'e6e6fa', rgb: '230,230,250' },\n    Thistle: { hex: 'd8bfd8', rgb: '216,191,216' },\n    Plum: { hex: 'dda0dd', rgb: '221,160,221' },\n    Violet: { hex: 'ee82ee', rgb: '238,130,238' },\n    Orchid: { hex: 'da70d6', rgb: '218,112,214' },\n    Fuchsia: { hex: 'ff00ff', rgb: '255,0,255' },\n    Magenta: { hex: 'ff00ff', rgb: '255,0,255' },\n    MediumOrchid: { hex: 'ba55d3', rgb: '186,85,211' },\n    MediumPurple: { hex: '9370db', rgb: '147,112,219' },\n    BlueViolet: { hex: '8a2be2', rgb: '138,43,226' },\n    DarkViolet: { hex: '9400d3', rgb: '148,0,211' },\n    DarkOrchid: { hex: '9932cc', rgb: '153,50,204' },\n    DarkMagenta: { hex: '8b008b', rgb: '139,0,139' },\n    Purple: { hex: '800080', rgb: '128,0,128' },\n    Indigo: { hex: '4b0082', rgb: '75,0,130' },\n    DarkSlateBlue: { hex: '483d8b', rgb: '72,61,139' },\n    SlateBlue: { hex: '6a5acd', rgb: '106,90,205' },\n    MediumSlateBlue: { hex: '7b68ee', rgb: '123,104,238' },\n    White: { hex: 'ffffff', rgb: '255,255,255' },\n    Snow: { hex: 'fffafa', rgb: '255,250,250' },\n    Honeydew: { hex: 'f0fff0', rgb: '240,255,240' },\n    MintCream: { hex: 'f5fffa', rgb: '245,255,250' },\n    Azure: { hex: 'f0ffff', rgb: '240,255,255' },\n    AliceBlue: { hex: 'f0f8ff', rgb: '240,248,255' },\n    GhostWhite: { hex: 'f8f8ff', rgb: '248,248,255' },\n    WhiteSmoke: { hex: 'f5f5f5', rgb: '245,245,245' },\n    Seashell: { hex: 'fff5ee', rgb: '255,245,238' },\n    Beige: { hex: 'f5f5dc', rgb: '245,245,220' },\n    OldLace: { hex: 'fdf5e6', rgb: '253,245,230' },\n    FloralWhite: { hex: 'fffaf0', rgb: '255,250,240' },\n    Ivory: { hex: 'fffff0', rgb: '255,255,240' },\n    AntiqueWhite: { hex: 'faebd7', rgb: '250,235,215' },\n    Linen: { hex: 'faf0e6', rgb: '250,240,230' },\n    LavenderBlush: { hex: 'fff0f5', rgb: '255,240,245' },\n    MistyRose: { hex: 'ffe4e1', rgb: '255,228,225' },\n    Gainsboro: { hex: 'dcdcdc', rgb: '220,220,220' },\n    LightGray: { hex: 'd3d3d3', rgb: '211,211,211' },\n    Silver: { hex: 'c0c0c0', rgb: '192,192,192' },\n    DarkGrey: { hex: 'a9a9a9', rgb: '169,169,169' },\n    Grey: { hex: '808080', rgb: '128,128,128' },\n    DimGrey: { hex: '696969', rgb: '105,105,105' },\n    LightSlateGrey: { hex: '778899', rgb: '119,136,153' },\n    SlateGrey: { hex: '708090', rgb: '112,128,144' },\n    DarkSlateGrey: { hex: '2f4f4f', rgb: '47,79,79' },\n    Black: { hex: '000000', rgb: '0,0,0' }\n};\n","import { numberInterpolator, piecewiseInterpolator, hslInterpolator } from 'muze-utils';\nimport { CONTINOUS, DISCRETE } from '../enums/constants';\nimport { LINEAR, SEQUENTIAL, ORDINAL, QUANTILE } from '../enums/scale-type';\nimport { getHslString } from './props';\n\nconst getStops = (domain, stops) => {\n    let newStops = [];\n\n    if (stops instanceof Array) {\n        newStops = stops.slice().sort();\n        newStops = [...new Set([domain[0], ...stops, domain[1]])].sort();\n    } else {\n        const interpolator = numberInterpolator()(...domain);\n        for (let i = 0; i <= stops; i++) {\n            newStops[i] = interpolator(i / stops);\n        }\n    }\n\n    if (newStops[0] < domain[0]) {\n        newStops.shift();\n    }\n    return { domain, newStops };\n};\n\nconst rangeStops = (newStopsLength, range) => {\n    let newRange = [];\n    const maxRangeLength = Math.min(range.length, 18);\n\n    if (newStopsLength > maxRangeLength) {\n        const interpolator = piecewiseInterpolator()(hslInterpolator(), range.map(e => getHslString(e)));\n        for (let i = 0; i < newStopsLength; i++) {\n            newRange[i] = interpolator(i / (newStopsLength - 1));\n        }\n    } else {\n        newRange = range.slice(0, newStopsLength);\n    }\n    return { newRange };\n};\n\n/**\n*\n*\n* @param {*} domain\n*\n*/\nconst indexedDomain = (domain) => {\n    const uniqueVals = domain;\n    const retDomain = domain.map((d, i) => (i) / (domain.length - 1));\n    return { domain: retDomain, uniqueVals, scaleDomain: [0, 1] };\n};\n\n/**\n *\n *\n * @param {*} domain\n *\n */\nconst indexedDomainMeasure = (domain, stops, range) => {\n    const uniqueVals = domain;\n    return { domain, uniqueVals, scaleDomain: [0, 1], range };\n};\n\n/**\n *\n *\n * @param {*} domain\n *\n */\nconst normalDomain = (domain, stops, range) => {\n    const uniqueVals = domain;\n    return { uniqueVals, domain, nice: true, range };\n};\n\n/**\n *\n *\n * @param {*} domain\n * @param {*} stops\n *\n */\nconst steppedDomain = (domain, stops, range) => {\n    const { domain: uniqueVals, newStops } = getStops(domain, stops);\n    const { newRange } = rangeStops(newStops.length - 1, range);\n\n    return { uniqueVals, domain: newStops, nice: true, range: newRange };\n};\n\nconst continousSteppedDomain = (domain, stops, range) => {\n    const { domain: uniqueVals, newStops } = getStops(domain, range.length - 1);\n    const hslRange = range.map(e => getHslString(e));\n    return { uniqueVals, domain: newStops, nice: true, range: hslRange };\n};\n\n/**\n *\n *\n * @param {*} domainValue\n * @param {*} scale\n * @param {*} domain\n * @param {*} uniqueVals\n *\n */\nconst uniqueRange = (domainValue, scale, domain, uniqueVals) => {\n    const index = uniqueVals.indexOf(domainValue);\n    const numVal = domain[index];\n    return scale(numVal);\n};\n\n/**\n *\n *\n * @param {*} domainValue\n * @param {*} scale\n * @param {*} domain\n *\n */\nconst indexedRange = (domainValue, scale, domain) => {\n    const numVal = (domainValue - domain[0]) / (domain[domain.length - 1] - domain[0]);\n\n    return scale(numVal);\n};\n\n/**\n *\n *\n * @param {*} domainValue\n * @param {*} scale\n */\nconst normalRange = (domainValue, scale) => scale(domainValue);\n\n/**\n *\n *\n * @param {*} stops\n */\nconst strategies = () => ({\n    [`${CONTINOUS}-${CONTINOUS}-${SEQUENTIAL}`]: {\n        scale: SEQUENTIAL,\n        domainRange: () => indexedDomainMeasure,\n        value: () => indexedRange\n    },\n    [`${CONTINOUS}-${DISCRETE}-${SEQUENTIAL}`]: {\n        scale: SEQUENTIAL,\n        domainRange: () => indexedDomainMeasure,\n        value: () => indexedRange\n    },\n    [`${DISCRETE}-${DISCRETE}-${SEQUENTIAL}`]: {\n        scale: SEQUENTIAL,\n        domainRange: () => indexedDomain,\n        value: () => uniqueRange\n    },\n    [`${DISCRETE}-${DISCRETE}-${ORDINAL}`]: {\n        scale: ORDINAL,\n        domainRange: () => normalDomain,\n        value: () => normalRange\n    },\n    [`${CONTINOUS}-${CONTINOUS}-${ORDINAL}`]: {\n        scale: LINEAR,\n        domainRange: () => continousSteppedDomain,\n        value: () => normalRange\n    },\n    [`${CONTINOUS}-${DISCRETE}-${ORDINAL}`]: {\n        scale: QUANTILE,\n        domainRange: () => steppedDomain,\n        value: () => normalRange\n\n    }\n});\n\n/**\n *\n *\n * @param {*} domainType\n * @param {*} rangeType\n * @param {*} schemeType\n * @param {*} stops\n */\nexport const strategyGetter = (domainType, rangeType, schemeType, stops) =>\n     strategies(stops)[`${domainType}-${rangeType}-${schemeType || ''}`];\n","import {\n    LINEAR\n} from '../enums/constants';\n/**\n * Set of default colors\n */\nexport const palette = [\n    '#086bb6',\n    '#f37d45',\n    '#f5ce02',\n    '#67bda0',\n    '#c54e4e',\n    '#ae70af'\n];\n\nexport const DEFAULT_GRADIENT_COLOR = '#eaeaea';\n\nexport const DEFAULT_CONFIG = {\n    range: palette,\n    value: palette[0],\n    step: false,\n    stops: 5,\n    type: LINEAR\n};\n","export { default as ColorAxis } from './color-axis';\n","import { mergeRecursive, detectColor, hexToHsv, rgbToHsv } from 'muze-utils';\nimport { x11Colors } from './color-maps';\nimport { palette, DEFAULT_GRADIENT_COLOR } from './defaults';\nimport { LINEAR, RGB, HEX, HSL, HSLA } from '../enums/constants';\n\nexport const getHslString = hslArr => `hsla(${hslArr[0] * 360},${hslArr[1] * 100}%,${hslArr[2] * 100}%,\\\n${hslArr[3] || 1})`;\n\nexport const convertToXllString = baseString => (baseString.split(' ') || [])\n                .reduce((x, e) => `${x}${e.charAt(0).toUpperCase()}${e.slice(1)}`, '');\n\nexport const getActualHslColor = (e, paletteColor) => {\n    let color = '';\n    if (typeof e === 'string') {\n        e = e.replace(/ /g, '');\n        e = e.toLowerCase();\n        if (detectColor(e) === HSL || detectColor(e) === HSLA) {\n            color = e.match(/(\\d+(\\.\\d+)?)/g);\n            color = [color[0] / 360, color[1] / 100, color[2] / 100, color[3] || 1];\n        } else if (detectColor(e) === HEX) {\n            color = hexToHsv(e);\n        } else if (detectColor(e) === RGB) {\n            const col = e.substring(e.indexOf('(') + 1, e.lastIndexOf(')')).split(/,\\s*/);\n            color = rgbToHsv(...col);\n        } else if (x11Colors[convertToXllString(e)]) {\n            color = rgbToHsv(...x11Colors[convertToXllString(e)].rgb.split(','));\n        }\n    } else if (!(e instanceof Array)) {\n        color = rgbToHsv(paletteColor);\n    } else {\n        color = e;\n    }\n    return color;\n};\n\nexport const PROPS = {\n    config: {\n        sanitization: (context, config) => {\n            const defCon = mergeRecursive({}, context.constructor.defaultConfig());\n            if (config.type === LINEAR) {\n                config.range = config.range || [defCon.range[0]];\n                config.range = config.range.length > 1 ? config.range : [DEFAULT_GRADIENT_COLOR, ...config.range];\n            }\n            const oldConfig = mergeRecursive(defCon, context.config());\n            const newConfig = mergeRecursive(oldConfig, config);\n\n            if (newConfig.range instanceof Array) {\n                newConfig.range = newConfig.range.map((e, i) => getActualHslColor(e, palette[i]));\n                newConfig.stops = config.stops || newConfig.range.length;\n            }\n            newConfig.value = getActualHslColor(newConfig.value, newConfig.value);\n            return newConfig;\n        }\n    },\n    domain: {},\n    scale: {},\n    uniqueValues: {}\n};\n","import * as ScaleType from './enums/scale-type';\n\nconst DATA_TYPES = {\n    DIMENSION: 'dimension',\n    CATEGORICAL: 'categorical',\n    MEASURE: 'measure',\n    TEMPORAL: 'temporal'\n};\n\n/**\n * Map of DataModel types to associated field types.\n */\nexport const dataTypeScaleMap = {\n    [DATA_TYPES.DIMENSION]: ScaleType.BAND,\n    [DATA_TYPES.MEASURE]: ScaleType.LINEAR,\n    [DATA_TYPES.TEMPORAL]: ScaleType.TIME\n};\n\n","/**\n * @module Axis\n * This file declares a class that is used to render an axis to add  meaning to\n * plots.\n */\nimport { Symbols } from 'muze-utils';\nimport * as AxisOrientation from '../enums/axis-orientation';\n\n/**\n * @module Axis\n * This file exports constants that are used to reference axis orientations\n * in a consistent manner.\n */\nexport const BOTTOM = 'bottom';\nexport const TOP = 'top';\nexport const LEFT = 'left';\nexport const RIGHT = 'right';\n\n/**\n  * This object is used to associate the axis orientation with the d3 class\n  * used to represent that axis.\n  */\nexport const axisOrientationMap = {\n    [AxisOrientation.LEFT]: Symbols.axisLeft,\n    [AxisOrientation.BOTTOM]: Symbols.axisBottom,\n    [AxisOrientation.RIGHT]: Symbols.axisRight,\n    [AxisOrientation.TOP]: Symbols.axisTop\n};\n","export const CLASSPREFIX = 'muze';\n\nexport const CONTINOUS = 'continous';\nexport const DISCRETE = 'discrete';\nexport const SEQUENTIAL = 'sequential';\nexport const ORDINAL = 'ordinal';\nexport const LINEAR = 'linear';\nexport const THRESHOLD = 'threshold';\nexport const QUANTIZE = 'quantize';\nexport const QUANTILE = 'quantile';\n\nexport const COLOR = 'color';\nexport const SHAPE = 'shape';\nexport const SIZE = 'size';\n\nexport const DOMAIN = 'domain';\nexport const BAND = 'band';\nexport const HIDDEN = 'hidden';\nexport const NUMBER = 'number';\nexport const BOTTOM = 'bottom';\nexport const TOP = 'top';\n\nexport const RGB = 'rgb';\nexport const HEX = 'hex';\nexport const HSLA = 'hsla';\nexport const HSL = 'hsl';\n\n","/**\n * @module axis\n * This file exports constants used to reference scale type\n * consistently throughout the project.\n */\nexport const LINEAR = 'linear';\nexport const BAND = 'band';\nexport const TIME = 'temporal';\nexport const COLOR = 'color';\nexport const ORDINAL = 'ordinal';\nexport const QUANTIZE = 'quantize';\nexport const QUANTILE = 'quantile';\nexport const LOG = 'log';\nexport const POW = 'pow';\nexport const IDENTITY = 'identity';\nexport const SEQUENTIAL = 'sequential';\nexport const THRESHOLD = 'threshold';\n","/**\n * @module Axis\n * This file exports all the public methods and classes in the axis module.\n */\nimport * as AxisOrientation from './enums/axis-orientation';\nimport * as ScaleType from './enums/scale-type';\nimport './styles.scss';\n\nexport { SimpleAxis, ContinousAxis, BandAxis, TimeAxis } from './cartesian-axis';\nexport { ColorAxis } from './color-axis';\nexport { SizeAxis } from './size-axis';\nexport { ShapeAxis } from './shape-axis';\nexport { dataTypeScaleMap } from './data-type-scale-map';\nexport { AxisOrientation, ScaleType };\n","import { scales, colorSchemes } from 'muze-utils';\n\nimport {\n    SEQUENTIAL,\n    ORDINAL,\n    LINEAR,\n    CONTINOUS,\n    THRESHOLD,\n    QUANTIZE\n} from './enums/constants';\n\nimport * as ScaleType from './enums/scale-type';\n\nconst {\n    scaleLinear,\n    scaleThreshold,\n    scaleLog,\n    scalePow,\n    scaleIdentity,\n    scaleOrdinal,\n    scaleSequential,\n    scaleQuantize,\n    scaleQuantile,\n    schemeCategory10,\n    schemeCategory20,\n    schemeCategory20b,\n    scaleBand,\n    scaleTime\n} = scales;\nexport const scaleMap = {\n    [ScaleType.LINEAR]: scaleLinear,\n    [ScaleType.BAND]: scaleBand,\n    [ScaleType.QUANTIZE]: scaleQuantize,\n    [ScaleType.QUANTILE]: scaleQuantile,\n    [ScaleType.THRESHOLD]: scaleThreshold,\n    [ScaleType.SEQUENTIAL]: scaleSequential,\n    [ScaleType.LOG]: scaleLog,\n    [ScaleType.POW]: scalePow,\n    [ScaleType.IDENTITY]: scaleIdentity,\n    [ScaleType.TIME]: scaleTime,\n    [ScaleType.COLOR]: scaleLinear,\n    [ScaleType.ORDINAL]: scaleOrdinal\n};\nexport const SCHEMES = {\n    SCHEME1: schemeCategory10,\n    SCHEME2: schemeCategory20,\n    SCHEME3: schemeCategory20b\n};\n\n/**\n * Accepts a scheme in a string format and returns the scale from d3-scale-chromatic\n *\n * @export\n * @param {string} scheme a string representing the kind of scheme for the color axis\n * @return {Object} The corresponding scale from a scheme type from d3 chromatic scale\n */\nexport function getScheme (scheme) {\n    if (scheme[0] === 'i') {\n        return scaleSequential(colorSchemes[scheme]);\n    }\n    return scaleOrdinal(colorSchemes[scheme]);\n}\n\n/**\n *\n *\n * @export\n * @param {*} scheme\n *\n */\nexport function getSchemeType (scheme) {\n    let schemeType = '';\n    if (scheme && typeof (scheme) === 'string') {\n        schemeType = scheme[0] === 'i' ? SEQUENTIAL : ORDINAL;\n    } else {\n        schemeType = ORDINAL;\n    }\n    return schemeType;\n}\n\n/**\n * This function is used to create a scale that is assigned to\n * an instance of axis.\n *\n * @export\n * @param {Object} params the input parameters to create a Scale object\n * @param {string} params.type the type of scale\n * @param {Array} params.range the range of scale\n * @return {Object} instance of scale\n */\nexport function createScale (params) {\n    if (!params.type || !scaleMap[params.type]) {\n        throw new Error(`${params.type} is not a valid scale type`);\n    }\n    if (!Array.isArray(params.range)) {\n        throw new Error('range parameter must be an array');\n    }\n    let scaleFactory = null;\n    const range = params.range;\n    // @todo: do it using scale decorator\n    if (params.type === LINEAR && params.interpolator) {\n        scaleFactory = scaleMap[params.interpolator];\n        if (params.interpolator === ScaleType.POW) {\n            return scaleFactory().range(range).exponent(params.exponent);\n        } else if (params.interpolator === ScaleType.LOG) {\n            return scaleFactory().range(range).base([params.base]);\n        }\n    } else {\n        scaleFactory = scaleMap[params.type];\n    }\n\n    if (params.type === QUANTIZE) {\n        scaleFactory().nice();\n    }\n    return scaleFactory().range(range);\n}\n\n/**\n * This method is used to update the range of a scale\n * so that the core module can remain agnostic of the d3\n * scale api.\n *\n * @export\n * @param {Scale} scale Instance of d3 Scale.\n * @param {Array} range new range of the scale.\n * @return {Scale} Updated scale.\n */\nexport function updateScaleRange (scale, range) {\n    return scale.range(range);\n}\n\n/**\n *\n *\n * @export\n * @param {*} domainType\n * @param {*} rangeType\n * @param {*} steps\n *\n */\nexport function getScaleType (domainType, rangeType, steps) {\n    if (rangeType === CONTINOUS) {\n        return LINEAR;\n    }\n    if (domainType === CONTINOUS) {\n        if (steps instanceof Array) {\n            return THRESHOLD;\n        }\n        return QUANTIZE;\n    }\n    return ORDINAL;\n}\n","export const DEFAULT_CONFIG = {\n    generator: null,\n    value: 'circle',\n    range: ['circle', 'diamond', 'star', 'cross', 'square', 'wye', 'triangle']\n};\n","/**\n *\n *\n * @param {*} domain\n * @param {*} generatorFn\n *\n */\nexport const shapeGenerator = (domain, generatorFn) => {\n    const generatedShapes = {};\n    domain.forEach((value) => {\n        generatedShapes[value] = generatorFn(value);\n    });\n    return generatedShapes;\n};\n","export { default as ShapeAxis } from './shape-axis';\n","export const PROPS = {\n    config: {},\n    domain: {},\n    scale: {},\n    uniqueValues: {},\n    generator: {}\n};\n\n","/**\n * @module Axis\n * This file declares a class that is used to render an axis to add  meaning to\n * plots.\n */\nimport { getUniqueId, getSymbol, generateGetterSetters, mergeRecursive } from 'muze-utils';\nimport { createScale } from '../scale-creator';\nimport { DEFAULT_CONFIG } from './defaults';\nimport { SHAPE } from '../enums/constants';\nimport { shapeGenerator } from './helper';\nimport { PROPS } from './props';\n\n/**\n* This class is used to instantiate a SimpleAxis.\n* @class SimpleAxis\n*/\nexport default class ShapeAxis {\n    /**\n    * Creates an instance of SimpleAxis.\n    * @param {Object} params input parameters.\n    * @param {Object | undefined} params.range Type of color scheme.\n    * @memberof ShapeAxis\n    */\n    constructor (config) {\n        generateGetterSetters(this, PROPS);\n\n        this._id = getUniqueId();\n        this._config = Object.assign({}, this.constructor.defaultConfig());\n        this._config = mergeRecursive(this._config, config);\n\n        this._scale = createScale({\n            type: 'ordinal',\n            range: this._config.range\n        });\n        this.updateDomain(config.domain);\n    }\n\n     /**\n     *\n     *\n     * @static\n     *\n     * @memberof ColorAxis\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n     /**\n     *\n     *\n     * @static\n     *\n     * @memberof ColorAxis\n     */\n    static type () {\n        return SHAPE;\n    }\n\n    /**\n     *\n     *\n     * @param {*} value\n     *\n     * @memberof ShapeAxis\n     */\n    getShape (value) {\n        if (!this.scale() || !this.domain() || !value) {\n            return this.config().value;\n        }\n\n        if (this._generatedShapes) {\n            return this._generatedShapes[value];\n        }\n\n        const shapeType = this.scale()(value);\n        if (shapeType === 'string') {\n            return getSymbol(shapeType);\n        }\n\n        return shapeType;\n    }\n\n    /**\n     * This method is used to assign a domain to the axis.\n     *\n     * @param {Array} domain the domain of the scale\n     * @memberof ShapeAxis\n     */\n    updateDomain (domain = []) {\n        if (domain.length) {\n            this.uniqueValues(domain);\n            this.domain(domain);\n            this.scale().domain(domain);\n\n            if (this.config().generator) {\n                this._generatedShapes = shapeGenerator(domain, this.config().generator);\n            }\n        }\n        return this;\n    }\n\n    /**\n     * This method returns an object that can be used to\n     * reconstruct this instance.\n     *\n     * @return {Object} the serializable props of axis\n     * @memberof ShapeAxis\n     */\n    serialize () {\n        return {\n            type: this.constructor.type(),\n            scale: this.scale(),\n            domain: this.domain(),\n            range: this.config().range,\n            config: this.config()\n        };\n    }\n\n    /**\n     * Returns the id of the axis.\n     * @return {string} Unique identifier of the axis.\n     */\n    id () {\n        return this._id;\n    }\n}\n","export const DEFAULT_CONFIG = {\n    value: 36,\n    range: [36, 1000]\n};\n","export { default as SizeAxis } from './size-axis';\n","export const PROPS = {\n    config: {},\n    domain: {\n        sanitization: (context, value) => {\n            context.scale().domain(value);\n            return value;\n        }\n    },\n    range: {},\n    scale: {},\n    uniqueValues: {}\n};\n","/**\n * @module Axis\n * This file declares a class that is used to render an axis to add  meaning to\n * plots.\n */\nimport { getUniqueId, generateGetterSetters } from 'muze-utils';\nimport { createScale } from '../scale-creator';\nimport { DEFAULT_CONFIG } from './defaults';\nimport { SIZE, CONTINOUS, DISCRETE } from '../enums/constants';\nimport { strategyGetter } from './size-strategy';\nimport { PROPS } from './props';\n\n/**\n* This class is used to instantiate a SimpleAxis.\n* @class SimpleAxis\n*/\nexport default class SizeAxis {\n\n    /**\n     * Creates an instance of SimpleAxis.\n     * @param {Object} config input parameters.\n     * @memberof SizeAxis\n     */\n    constructor (config) {\n        generateGetterSetters(this, PROPS);\n\n        this._id = getUniqueId();\n        this._config = Object.assign({}, this.constructor.defaultConfig(), config);\n        // @todo: Will use configuration override using scale decorator\n        this._domainType = this._config.type === 'linear' ? CONTINOUS : DISCRETE;\n        this._rangeType = CONTINOUS;\n\n        this._sizeStrategy = this.setStrategy(this._domainType, this._rangeType);\n        this._scale = this.createScale(this._sizeStrategy);\n        this._range = this._config.range;\n\n        this.updateDomain(config.domain);\n    }\n\n     /**\n     *\n     *\n     * @param {*} domainType\n     * @param {*} rangeType\n     * @param {*} schemeType\n     *\n     * @memberof ColorAxis\n     */\n    setStrategy (domainType, rangeType) {\n        return strategyGetter(domainType, rangeType);\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof SizeAxis\n     */\n    createScale (strategy) {\n        const {\n            range\n        } = this.config();\n        return createScale({\n            type: strategy.scale,\n            range\n        });\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof ColorAxis\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n     /**\n     *\n     *\n     * @static\n     *\n     * @memberof ColorAxis\n     */\n    static type () {\n        return SIZE;\n    }\n\n    /**\n     *\n     *\n     * @param {*} domainVal\n     *\n     * @memberof SizeAxis\n     */\n    getSize (domainVal = 0) {\n        let sizeVal = 1;\n        const {\n            value\n        } = this.config();\n        const scale = this.scale();\n        const domain = this.domain() || [1, 1];\n\n        if (!scale || domain[0] === domain[1]) {\n            sizeVal = value;\n        } else {\n            return this._sizeStrategy.range(domainVal, scale, this.domain(), this.uniqueValues());\n        }\n        return sizeVal;\n    }\n\n    /**\n     * This method is used to assign a domain to the axis.\n     *\n     * @param {Array} domain the domain of the scale\n     * @memberof SizeAxis\n     */\n    updateDomain (domain) {\n        if (domain) {\n            const domainFn = this._sizeStrategy.domain;\n\n            const domainInfo = domainFn(domain, this.config().intervals);\n\n            this.domain(domainInfo.domain);\n            this.uniqueValues(domainInfo.uniqueVals);\n\n            this.scale().domain(domainInfo.scaleDomain || this.domain());\n        }\n        return this;\n    }\n\n    /**\n     * This method returns an object that can be used to\n     * reconstruct this instance.\n     *\n     * @return {Object} the serializable props of axis\n     * @memberof ShapeAxis\n     */\n    serialize () {\n        return {\n            type: this.constructor.type(),\n            scale: this.scale(),\n            domain: this.domain(),\n            range: this.range(),\n            config: this.config()\n        };\n    }\n\n    /**\n     * Returns the id of the axis.\n     * @return {string} Unique identifier of the axis.\n     */\n    id () {\n        return this._id;\n    }\n}\n","import { numberInterpolator, piecewiseInterpolator } from 'muze-utils';\nimport { CONTINOUS, DISCRETE } from '../enums/constants';\nimport { LINEAR, THRESHOLD } from '../enums/scale-type';\n\n/**\n *\n *\n * @param {*} domain\n *\n */\nconst indexedDomain = (domain) => {\n    const uniqueVals = domain;\n    const retDomain = domain.map((d, i) => (i) / (domain.length - 1));\n    return { domain: retDomain, uniqueVals, scaleDomain: [0, 1] };\n};\n\n/**\n *\n *\n * @param {*} domain\n *\n */\nconst normalDomain = (domain) => {\n    const uniqueVals = domain;\n    return { uniqueVals, domain };\n};\n\n/**\n *\n *\n * @param {*} domain\n * @param {*} intervals\n *\n */\nconst steppedDomain = (domain, intervals) => {\n    let newIntervals = [];\n    if (intervals instanceof Array) {\n        newIntervals = intervals.slice().sort();\n    } else {\n        const interpolator = numberInterpolator()(...domain);\n        for (let i = 0; i < intervals; i++) {\n            newIntervals[i] = interpolator(i / (intervals - 1));\n        }\n    }\n    if (newIntervals[0] < domain[0]) {\n        newIntervals.shift();\n    }\n    const retDomain = newIntervals;\n    return { uniqueVals: newIntervals, domain: retDomain, nice: true };\n};\n\n/**\n *\n *\n * @param {*} domainValue\n * @param {*} scale\n * @param {*} domain\n * @param {*} uniqueVals\n *\n */\nconst discreteRange = (domainValue, scale, domain) => {\n    const numVal = (domainValue - domain[0]) / (domain[domain.length - 1] - domain[0]);\n    const interpolator = numberInterpolator()(...scale.range());\n    return interpolator(numVal);\n};\n\n/**\n *\n *\n * @param {*} domainValue\n * @param {*} scale\n * @param {*} domain\n *\n */\nconst pieceWiseRange = (domainValue, scale, domain, uniqueVals) => {\n    const index = uniqueVals.indexOf(domainValue);\n    const numVal = domain[index];\n    const fn = piecewiseInterpolator()(numberInterpolator(), [...scale.range()]);\n    return fn(numVal);\n};\n\n/**\n *\n *\n * @param {*} domainValue\n * @param {*} scale\n */\nconst normalRange = (domainValue, scale) => scale(domainValue);\n\n/**\n *\n *\n * @param {*} intervals\n */\nconst strategies = {\n    [`${DISCRETE}-${CONTINOUS}`]: {\n        scale: LINEAR,\n        domain: indexedDomain,\n        range: pieceWiseRange\n    },\n    [`${CONTINOUS}-${CONTINOUS}`]: {\n        scale: LINEAR,\n        domain: normalDomain,\n        range: normalRange\n    },\n    [`${CONTINOUS}-${DISCRETE}`]: {\n        scale: THRESHOLD,\n        domain: steppedDomain,\n        range: discreteRange\n    }\n};\n\n/**\n *\n *\n * @param {*} domainType\n * @param {*} rangeType\n * @param {*} schemeType\n * @param {*} intervals\n */\nexport const strategyGetter = (domainType, rangeType) =>\n     strategies[`${domainType}-${rangeType}`];\n","// extracted by mini-css-extract-plugin","import VolatileBehaviour from './volatile';\nimport * as BEHAVIOURNAMES from '../../enums/behaviours';\n\n/**\n * This is the behaviour for brushing a region on the chart. It accepts a payload\n * which contains the x and y range of the data and other configuration. It will then\n * create a selection box from the range and select the points which fall within the range.\n */\nexport default class BrushBehaviour extends VolatileBehaviour {\n    static formalName () {\n        return BEHAVIOURNAMES.BRUSH;\n    }\n}\n","import VolatileBehaviour from './volatile';\nimport { FILTER } from '../../enums/behaviours';\n\nexport default class FilterBehaviour extends VolatileBehaviour {\n    static formalName () {\n        return FILTER;\n    }\n\n    static mutates () {\n        return true;\n    }\n}\n","import { getSetInfo, getMergedSet, getSourceFields } from '../../helper';\n\n/**\n * This is the base class has all the common functionalities needed for all behavioural actions. Any other behavioural\n * action needs to extend this class.\n *\n * @public\n * @class GenericBehaviour\n * @module GenericBehaviour\n */\nexport default class GenericBehaviour {\n    constructor (firebolt) {\n        this.firebolt = firebolt;\n        this._enabled = true;\n    }\n\n    /**\n     * Returns entry and exit set information. This method is called by firebolt when ```dispatchBehaviour``` is called\n     * dynamically or when any physical action is triggered on the chart.\n     *\n     * @param {Object} payload Payload information.\n     * @param {Object|Array} payload.criteria Identifiers of data interacted with.\n     *\n     * @return {Array} Entry and exit set information.\n     */\n    dispatch (payload) {\n        const criteria = payload.criteria;\n        const firebolt = this.firebolt;\n        const formalName = this.constructor.formalName();\n        const selectionSets = firebolt.getSelectionSets(formalName);\n        const {\n            model: filteredDataModel,\n            uids\n        } = this.firebolt.getAddSetFromCriteria(criteria, this.firebolt.getPropagationInf());\n        const entryExitSets = selectionSets.map((selectionSet) => {\n            this.setSelectionSet(uids, selectionSet);\n            return this.getEntryExitSet(selectionSet, filteredDataModel, payload);\n        });\n\n        return entryExitSets;\n    }\n\n    /**\n     * Updates the selection set by adding uids to the instance of {@link SelectionSet} or removing them.\n     * {@link SelectionSet} keeps the information of which rows are in the entry set and exit set.\n     *\n     * @public\n     * @param {Array} addSet Array of row ids which got affected during interaction.\n     * @param {SelectionSet} selectionSet Instance of selection set.\n     *\n     * @return {GenericBehaviour} Instance of behaviour.\n     */\n    setSelectionSet () {\n        return this;\n    }\n\n    getEntryExitSet (selectionSet, filteredDataModel, payload) {\n        const {\n            entrySet,\n            exitSet,\n            completeSet\n        } = selectionSet.getSets();\n        const propagationInf = this.firebolt.getPropagationInf();\n        const dataModel = this.firebolt.getFullData();\n        const setConfig = {\n            isSourceFieldPresent: propagationInf.isSourceFieldPresent,\n            dataModel,\n            filteredDataModel,\n            propagationData: propagationInf.data,\n            selectionSet\n        };\n\n        return {\n            entrySet: [getSetInfo('oldEntry', entrySet[0], setConfig),\n                getSetInfo('newEntry', entrySet[1], setConfig)],\n            exitSet: [getSetInfo('oldEntry', exitSet[0], setConfig),\n                getSetInfo('newExit', exitSet[1], setConfig)],\n            mergedEnter: getSetInfo('mergedEnter', getMergedSet(entrySet), setConfig),\n            mergedExit: getSetInfo('mergedExit', getMergedSet(exitSet), setConfig),\n            completeSet: getSetInfo('complete', completeSet, setConfig),\n            isSourceFieldPresent: propagationInf.isSourceFieldPresent,\n            fields: getSourceFields(propagationInf, payload.criteria),\n            sourceSelectionSet: selectionSet._volatile === true\n        };\n    }\n\n    static mutates () {\n        return false;\n    }\n\n    enable () {\n        this._enabled = true;\n    }\n\n    disable () {\n        this._enabled = false;\n    }\n\n    isEnabled () {\n        return this._enabled;\n    }\n}\n\n","import VolatileBehaviour from './volatile';\nimport { HIGHLIGHT } from '../../enums/behaviours';\n\nexport default class HighlightBehaviour extends VolatileBehaviour {\n    static formalName () {\n        return HIGHLIGHT;\n    }\n}\n","export { default as HighlightBeahviour } from './highlight';\nexport { default as BrushBehaviour } from './brush';\nexport { default as FilterBehaviour } from './filter';\nexport { default as SelectBehaviour } from './select';\n\n","import GenericBehaviour from './generic';\nimport { getMergedSet } from '../../helper';\nimport * as SELECTION from '../../enums/selection';\n\nexport default class PersistentBehaviour extends GenericBehaviour {\n    setSelectionSet (addSet, selectionSet) {\n        if (addSet === null) {\n            selectionSet.reset();\n        } else if (addSet.length) {\n            const propagationInf = this.firebolt.getPropagationInf();\n            // new add set\n            const existingAddSet = addSet.filter(d => selectionSet._set[d] === SELECTION.SELECTION_NEW_ENTRY\n                || selectionSet._set[d] === SELECTION.SELECTION_OLD_ENTRY);\n            if (propagationInf.propagate === false) {\n                selectionSet.updateExit();\n                const { entrySet } = selectionSet.getSets();\n                selectionSet.reset(getMergedSet(entrySet));\n                selectionSet.add(addSet);\n                selectionSet.update(existingAddSet);\n            } else {\n                // existing add set\n                if (existingAddSet.length) {\n                    selectionSet.updateExit();\n                    selectionSet.remove(existingAddSet);\n                } else {\n                    selectionSet.updateEntry();\n                    selectionSet.add(addSet);\n                }\n                const { exitSet } = selectionSet.getSets();\n                const mergedExitSet = getMergedSet(exitSet);\n                const completeSetCount = selectionSet.getCompleteSet().length;\n                if (mergedExitSet.length === completeSetCount) {\n                    selectionSet.reset();\n                }\n            }\n        } else {\n            selectionSet.remove(selectionSet.getCompleteSet());\n        }\n\n        return this;\n    }\n}\n","import PersistentBehaviour from './persistent';\nimport { SELECT } from '../../enums/behaviours';\n\nexport default class SelectBehaviour extends PersistentBehaviour {\n    static formalName () {\n        return SELECT;\n    }\n}\n\n","import GenericBehaviour from './generic';\nimport { getMergedSet } from '../../helper';\nimport * as SELECTION from '../../enums/selection';\n\nexport default class VolatileBehaviour extends GenericBehaviour {\n    setSelectionSet (addSet, selectionSet) {\n        if (addSet === null) {\n            selectionSet.reset();\n        } else if (addSet.length) {\n                // new add set\n            const existingAddSet = addSet.filter(d => selectionSet._set[d] === SELECTION.SELECTION_NEW_ENTRY\n                    || selectionSet._set[d] === SELECTION.SELECTION_OLD_ENTRY);\n            selectionSet.updateExit();\n            const { entrySet } = selectionSet.getSets();\n            selectionSet.reset(getMergedSet(entrySet));\n            selectionSet.add(addSet);\n            selectionSet.update(existingAddSet);\n        } else {\n            selectionSet.remove(selectionSet.getCompleteSet());\n        }\n    }\n}\n","import { getEvent } from 'muze-utils';\nimport { generatePayloadFromEvent } from './helpers';\n\n/**\n * Adds mouse interactions to target element.\n * @param {VisualUnit} instance instance of visual unit.\n * @param {SVGElement} targetEl Element on which the event listeners will be attached.\n * @param {Array} behaviours Array of behaviours\n */\n/* istanbul ignore next */ const click = firebolt => (targetEl, behaviours) => {\n    const dispatchBehaviour = function (args) {\n        const event = getEvent();\n        const payload = generatePayloadFromEvent(args, event, firebolt);\n        behaviours.forEach(beh => firebolt.dispatchBehaviour(beh, payload));\n        event.stopPropagation();\n    };\n\n    targetEl.on('click', dispatchBehaviour);\n};\nexport default click;\n","import { attachDragEvent } from './helpers/drag-event';\n\n/**\n * Adds dragging action to the target element.\n * @param {VisualUnit} instance Instance of visual unit.\n * @param {SVGElement} targetEl Element on which brushing action is needed.\n * @param {Array} behaviours Array of behaviours\n */\n/* istanbul ignore next */ const drag = firebolt => (targetEl, behaviours) => {\n    attachDragEvent(targetEl, behaviours, firebolt);\n};\n\nexport default drag;\n","import { DimensionSubtype, MeasureSubtype } from 'muze-utils';\n/**\n * Gets the drag action configuration\n * @param {VisualUnit} instance instance of visual unit\n * @param {Object} config x y positions\n * @return {Object} Payload of behaviour\n*/\n/* istanbul ignore next */ const getDragActionConfig = (sourceInfo, config, fieldsConfig) => {\n    if (!(sourceInfo.axes.x || sourceInfo.axes.y)) {\n        return {\n            criteria: null\n        };\n    }\n\n    const axes = sourceInfo.axes;\n    const xAxis = axes.x[0];\n    const yAxis = axes.y[0];\n    const axisFields = sourceInfo.fields;\n    const xField = axisFields.x[0].getMembers()[0];\n    const yField = axisFields.y[0].getMembers()[0];\n    const xFieldType = fieldsConfig[xField].def.subtype;\n    const yFieldType = fieldsConfig[yField].def.subtype;\n    const dimensions = {};\n    const stPos = config.startPos;\n    const endPos = config.endPos;\n\n    if (stPos.x === endPos.x && stPos.y === endPos.y) {\n        return {\n            criteria: null\n        };\n    }\n\n    const dragDim = xFieldType === MeasureSubtype.CONTINUOUS ? (yFieldType === MeasureSubtype.CONTINUOUS ?\n        ['x', 'y'] : ['y']) : ['x'];\n    const criteria = {};\n    const isXDimension = xFieldType === DimensionSubtype.CATEGORICAL;\n    const isYDimension = yFieldType === DimensionSubtype.CATEGORICAL;\n    const xRange = xAxis.constructor.type() === 'band' ? xAxis.scale().invertExtent(stPos.x, endPos.x) :\n        xAxis.invert(stPos.x, endPos.x);\n    const yRange = yAxis.constructor.type() === 'band' ? yAxis.scale().invertExtent(stPos.y, endPos.y) :\n        yAxis.invert(stPos.y, endPos.y);\n    const selectedDomains = {\n        x: stPos.x === endPos.x ? [] : (isXDimension ? xRange : xRange.sort((a, b) => a - b)),\n        y: stPos.y === endPos.y ? [] : (isYDimension ? yRange : yRange.sort((a, b) => a - b))\n    };\n    const rangeObj = {};\n\n    if (dragDim.length === 2) {\n        rangeObj[xField] = selectedDomains.x;\n        rangeObj[yField] = selectedDomains.y;\n        if (xField === yField) {\n            const xdom = selectedDomains.x;\n            const ydom = selectedDomains.y;\n            const min = xdom[0] > ydom[0] ? ydom : xdom;\n            const max = min === ydom ? xdom : ydom;\n            if (min[1] < max[0]) {\n                rangeObj[xField] = [];\n            } else {\n                rangeObj[xField] = [max[0], min[1] < max[1] ? min[1] : max[1]];\n            }\n            dimensions.x = [stPos.x, endPos.x];\n            dimensions.y = [stPos.y, endPos.y];\n        }\n    } else {\n        criteria[dragDim[0]] = selectedDomains[dragDim[0]] || [];\n\n        if (dragDim[0] === 'x') {\n            rangeObj[xField] = criteria.x;\n            if (xFieldType === DimensionSubtype.CATEGORICAL) {\n                dimensions.x = (config.snap && stPos.x !== endPos.x) ? xAxis.getNearestRange(stPos.x, endPos.x) :\n                    [stPos.x, endPos.x];\n            }\n        } else {\n            rangeObj[yField] = criteria.y;\n            if (yFieldType === DimensionSubtype.CATEGORICAL) {\n                dimensions.y = (config.snap && stPos.y !== endPos.y) ? yAxis.getNearestRange(stPos.y, endPos.y) :\n                    [stPos.y, endPos.y];\n            }\n        }\n    }\n\n    return {\n        criteria: rangeObj,\n        dimensions\n    };\n};\n\nexport default getDragActionConfig;\n","import {\n    getEvent,\n    getD3Drag\n } from 'muze-utils';\n\nimport getDragActionConfig from './drag-action-config';\n\n/**\n * Adds dragging action to the target element.\n * @param {VisualUnit} instance Instance of visual unit.\n * @param {SVGElement} targetEl Element on which brushing action is needed.\n * @param {Array} behaviours Array of behaviours\n */\nexport const attachDragEvent = (targetEl, behaviours, firebolt, touch) => {\n    let startPos = {};\n    let endPos = {};\n    let drawingInf;\n\n    const d3Drag = getD3Drag();\n    let touchStart;\n    targetEl.call(d3Drag().on('start', () => {\n        const event = getEvent();\n        startPos = {\n            x: event.x,\n            y: event.y\n        };\n        drawingInf = firebolt.context.getDrawingContext();\n        touchStart = new Date().getTime();\n    }).on('drag', () => {\n        const event = getEvent();\n        endPos = {\n            x: event.x,\n            y: event.y\n        };\n        if (touch && Math.abs(startPos.x - endPos.x) <= 5) {\n            return;\n        }\n        endPos.x = Math.max(0, Math.min(endPos.x, drawingInf.width));\n        endPos.y = Math.max(0, Math.min(endPos.y, drawingInf.height));\n\n        const payload = getDragActionConfig(firebolt.context.getSourceInfo(), {\n            startPos,\n            endPos\n        }, firebolt.context.data().getFieldsConfig());\n        behaviours.forEach(beh => firebolt.dispatchBehaviour(beh, payload));\n    }).on('end', () => {\n        const event = getEvent();\n        endPos = {\n            x: event.x,\n            y: event.y\n        };\n        const duration = new Date().getTime() - touchStart;\n\n        if (touch && duration > 100 && Math.abs(startPos.x - endPos.x) <= 5) {\n            return;\n        }\n        endPos.x = Math.max(0, Math.min(endPos.x, drawingInf.width));\n        endPos.y = Math.max(0, Math.min(endPos.y, drawingInf.height));\n\n        const payload = getDragActionConfig(firebolt.context.getSourceInfo(), {\n            startPos,\n            endPos,\n            snap: true\n        }, firebolt.context.data().getFieldsConfig());\n        payload.dragEnd = true;\n        behaviours.forEach(beh => firebolt.dispatchBehaviour(beh, payload));\n    }));\n};\n\n","import { getClientPoint } from 'muze-utils';\n\nexport const generatePayloadFromEvent = function (args, event, firebolt) {\n    const context = firebolt.context;\n    const pos = getClientPoint(context.getDrawingContext().svgContainer, event.touches ? event.touches[0] : event);\n    const nearestPoint = context.getNearestPoint(pos.x, pos.y, {\n        data: args,\n        event\n    });\n    return {\n        criteria: nearestPoint ? nearestPoint.id : null,\n        showInPosition: nearestPoint.showInPosition,\n        target: nearestPoint.target,\n        position: pos\n    };\n};\n","import { getClientPoint, getEvent } from 'muze-utils';\nimport { CONSOLIDATED, FRAGMENTED } from '../../enums/constants';\n\n/**\n * Adds mouse interactions to target element.\n * @param {Firebolt} instance instance of firebolt.\n * @param {SVGElement} targetEl Element on which the event listeners will be attached.\n * @param {Array} behaviours Array of behaviours\n */\n/* istanbul ignore next */ const hover = firebolt => (targetEl, behaviours) => {\n    const dispatchBehaviour = function (args) {\n        const event = getEvent();\n        const context = firebolt.context;\n        const tooltipConf = context.config().interaction.tooltip;\n        const mode = tooltipConf.mode;\n        const pos = getClientPoint(context.getDrawingContext().svgContainer, event);\n        const nearestPoint = context.getNearestPoint(pos.x, pos.y, {\n            getAllPoints: mode === CONSOLIDATED || mode === FRAGMENTED,\n            data: args,\n            event\n        });\n        const payload = {\n            criteria: nearestPoint ? nearestPoint.id : null,\n            showInPosition: nearestPoint.showInPosition,\n            target: nearestPoint.target,\n            position: pos,\n            mode\n        };\n\n        behaviours.forEach(beh => firebolt.dispatchBehaviour(beh, payload));\n        event.stopPropagation();\n    };\n\n    targetEl.on('mouseover', dispatchBehaviour)\n                    .on('mousemove', dispatchBehaviour)\n                    .on('mouseout', () => {\n                        behaviours.forEach(beh => firebolt.dispatchBehaviour(beh, {\n                            criteria: null\n                        }));\n                    });\n};\n\nexport default hover;\n","import drag from './drag';\nimport hover from './hover';\nimport { longtouch } from './longtouch';\nimport { touchdrag } from './touch-drag';\nimport * as ACTIONNAMES from '../../enums/actions';\nimport click from './click';\n\nexport const physicalActions = {\n    [ACTIONNAMES.DRAG]: drag,\n    [ACTIONNAMES.HOVER]: hover,\n    [ACTIONNAMES.CLICK]: click,\n    [ACTIONNAMES.LONGTOUCH]: longtouch,\n    [ACTIONNAMES.TOUCHDRAG]: touchdrag\n};\n\n","/* global setTimeout */\nimport { getEvent } from 'muze-utils';\nimport { generatePayloadFromEvent } from './helpers';\n\n/**\n * Adds mouse interactions to target element.\n * @param {VisualUnit} instance instance of visual unit.\n * @param {SVGElement} targetEl Element on which the event listeners will be attached.\n * @param {Array} behaviours Array of behaviours\n */\nexport const longtouch = firebolt => (targetEl, behaviours) => {\n    let event;\n    let touchEnd;\n    const dispatchBehaviour = function (args) {\n        const payload = generatePayloadFromEvent(args, event, firebolt);\n        behaviours.forEach(beh => firebolt.dispatchBehaviour(beh, payload));\n        event.stopPropagation();\n    };\n\n    touchEnd = false;\n    event = getEvent();\n    targetEl.on('touchstart', (args) => {\n        event = getEvent();\n        touchEnd = false;\n        setTimeout(() => {\n            if (!touchEnd) {\n                dispatchBehaviour(args);\n            } else {\n                behaviours.forEach(beh => firebolt.dispatchBehaviour(beh, {\n                    criteria: null\n                }));\n            }\n        }, 100);\n    }).on('touchend', () => {\n        touchEnd = true;\n    });\n};\n","import {\n    getEvent,\n    getD3Drag\n } from 'muze-utils';\n\nimport getDragActionConfig from './helpers/drag-action-config';\n\nexport const selectionBoxDrag = firebolt => (targetEl, behaviours) => {\n    let subject;\n    let drawingInf;\n    const context = firebolt.context;\n    const onDrag = (payload) => {\n        behaviours.forEach(action => firebolt.dispatchBehaviour(action, payload));\n    };\n    const d3Drag = getD3Drag();\n\n    targetEl.call(d3Drag().on('start', () => {\n        const event = getEvent();\n        drawingInf = context.getDrawingContext();\n        subject = event.subject;\n    }).on('drag', () => {\n        const event = getEvent();\n        subject.x += event.dx;\n        subject.y += event.dy;\n        const width = drawingInf.width;\n        const height = drawingInf.height;\n        const x = Math.min(width - subject.width, Math.max(subject.x, 0));\n        const y = Math.min(height - subject.height, Math.max(subject.y, 0));\n        const y2 = y + subject.height;\n        const x2 = x + subject.width;\n\n        if (x >= 0 && x2 <= width && y >= 0 && y2 <= height) {\n            const payload = getDragActionConfig(context.getSourceInfo(), {\n                startPos: {\n                    x,\n                    y\n                },\n                endPos: {\n                    x: x2,\n                    y: y2\n                }\n            }, context.data().getFieldsConfig());\n            onDrag(payload);\n        }\n    }).on('end', () => {\n        const width = drawingInf.width;\n        const height = drawingInf.height;\n        const x = Math.min(width - subject.width, Math.max(subject.x, 0));\n        const y = Math.min(height - subject.height, Math.max(subject.y, 0));\n        const y2 = y + subject.height;\n        const x2 = x + subject.width;\n\n        if (x >= 0 && x2 <= width && y >= 0 && y2 <= height) {\n            const payload = getDragActionConfig(context.getSourceInfo(), {\n                startPos: {\n                    x,\n                    y\n                },\n                endPos: {\n                    x: x2,\n                    y: y2\n                },\n                snap: true\n            }, context.data().getFieldsConfig());\n            payload.dragEnd = true;\n            onDrag(payload);\n        }\n    }));\n};\n","import { attachDragEvent } from './helpers/drag-event';\n\n/**\n * Adds dragging action to the target element.\n * @param {VisualUnit} instance Instance of visual unit.\n * @param {SVGElement} targetEl Element on which brushing action is needed.\n * @param {Array} behaviours Array of behaviours\n */\nexport const touchdrag = firebolt => (targetEl, behaviours) => {\n    attachDragEvent(targetEl, behaviours, firebolt, true);\n};\n\n","import * as BEHAVIOURS from './enums/behaviours';\n\nexport const behaviourEffectMap = {\n    [BEHAVIOURS.BRUSH]: ['selectionBox', {\n        name: 'highlighter',\n        options: {\n            strategy: 'fade'\n        }\n    }, 'brush-anchors'],\n    [`${BEHAVIOURS.BRUSH},${BEHAVIOURS.SELECT}`]: [{\n        name: 'tooltip',\n        options: {\n            strategy: 'showSelectedItems',\n            order: 0,\n            filter: context => context.config().mode === 'fragmented'\n        }\n    }],\n    [BEHAVIOURS.HIGHLIGHT]: [{\n        name: 'highlighter',\n        options: {\n            strategy: 'highlight'\n        }\n    }, 'crossline', {\n        name: 'tooltip',\n        options: {\n            order: 9999\n        }\n    }, 'anchors'],\n    [BEHAVIOURS.FILTER]: ['filter'],\n    [BEHAVIOURS.SELECT]: [{\n        name: 'highlighter',\n        options: {\n            strategy: 'focus'\n        }\n    }, 'persistent-anchors']\n};\n","export const DRAG = 'drag';\nexport const HOVER = 'hover';\nexport const SELECTIONDRAG = 'selectiondrag';\nexport const CLICK = 'click';\nexport const LONGTOUCH = 'longtouch';\nexport const TOUCHDRAG = 'touchdrag';\nexport const ALL_ACTIONS = '*';\n","export const BRUSH = 'brush';\nexport const HIGHLIGHT = 'highlight';\nexport const TOOLTIP = 'tooltip';\nexport const FILTER = 'filter';\nexport const SELECT = 'select';\n","export const CLASSPREFIX = 'muze';\nexport const CONSOLIDATED = 'consolidated';\nexport const FRAGMENTED = 'fragmented';\n\n","const SELECTION_NEW_ENTRY = 1;\nconst SELECTION_NEW_EXIT = -1;\nconst SELECTION_NULL = 0;\nconst SELECTION_OLD_ENTRY = 2;\nconst SELECTION_OLD_EXIT = -2;\n\nexport {\n    SELECTION_NEW_ENTRY,\n    SELECTION_NEW_EXIT,\n    SELECTION_NULL,\n    SELECTION_OLD_ENTRY,\n    SELECTION_OLD_EXIT\n};\n","import {\n    mergeRecursive,\n    hasTouch,\n    filterPropagationModel,\n    FieldType,\n    selectElement,\n    isSimpleObject\n} from 'muze-utils';\nimport { ALL_ACTIONS } from './enums/actions';\nimport SelectionSet from './selection-set';\nimport {\n    initializeBehaviouralActions,\n    initializeSideEffects,\n    changeSideEffectAvailability,\n    initializePhysicalActions,\n    unionSets,\n    getSideEffects\n} from './helper';\n\n/**\n * This class is responsible for dispatching behavioural actions and side effects. It also keeps the information of\n * registered physical actions, behavioural actions and side effects. Also, it keeps the map of physical and behavioural\n * actions and behavioural actions and side effects. Whenever any behavioural action is dispatched, it also propagates\n * the rows which got affected to the other datamodels. This class is initialized by {@link VisualUnit} and legend to\n * manage it's interaction.\n *\n * @public\n * @class Firebolt\n * @module Firebolt\n */\nexport default class Firebolt {\n    constructor (context, actions, sideEffects, behaviourEffectMap) {\n        this.context = context;\n        this._sideEffectDefinitions = {};\n        this._sideEffects = {};\n        this._propagationInf = {};\n        this._actions = {\n            behavioural: {},\n            physical: {}\n        };\n        this._selectionSet = {};\n        this._volatileSelectionSet = {};\n        this._propagationFields = {};\n        this._sourceSideEffects = {\n            selectionBox: () => false\n        };\n        this._propagationBehaviourMap = {};\n        this._sourceBehaviours = {};\n        this._actionBehaviourMap = {};\n        this._config = {};\n        this._behaviourEffectMap = {};\n        this._entryExitSet = {};\n        this._actionHistory = {};\n        this._queuedSideEffects = {};\n\n        this.mapSideEffects(behaviourEffectMap);\n        this.registerBehaviouralActions(actions.behavioural);\n        this.registerSideEffects(sideEffects);\n        this.registerPhysicalBehaviouralMap(actions.physicalBehaviouralMap);\n        this.registerPhysicalActions(actions.physical);\n    }\n\n    config (...config) {\n        if (config.length) {\n            this._config = mergeRecursive(this._config, config[0]);\n            return this;\n        }\n        return this._config;\n    }\n\n    mapSideEffects (behEffectMap) {\n        const behaviourEffectMap = this._behaviourEffectMap;\n        for (const key in behEffectMap) {\n            if ({}.hasOwnProperty.call(behEffectMap, key)) {\n                const sideEffects = behEffectMap[key] || [];\n                let preventDefaultActions = false;\n                let effectNames;\n                if (isSimpleObject(sideEffects)) {\n                    effectNames = sideEffects.effects;\n                    preventDefaultActions = sideEffects.preventDefaultActions;\n                } else {\n                    effectNames = sideEffects;\n                }\n                !behaviourEffectMap[key] && (behaviourEffectMap[key] = []);\n                this._behaviourEffectMap[key] = [...new Set(preventDefaultActions ? effectNames :\n                    [...behaviourEffectMap[key], ...effectNames])];\n            }\n        }\n        return this;\n    }\n\n    registerBehaviouralActions (actions) {\n        const behaviours = initializeBehaviouralActions(this, actions);\n        this.prepareSelectionSets(behaviours);\n        Object.assign(this._actions.behavioural, behaviours);\n        return this;\n    }\n\n    prepareSelectionSets () {\n        return this;\n    }\n\n    registerSideEffects (sideEffects) {\n        for (const key in sideEffects) {\n            this._sideEffectDefinitions[sideEffects[key].formalName()] = sideEffects[key];\n        }\n        this.initializeSideEffects();\n        return this;\n    }\n\n    applySideEffects (sideEffects, selectionSet, payload) {\n        const sideEffectStore = this.sideEffects();\n        const actionHistory = this._actionHistory;\n        const queuedSideEffects = this._queuedSideEffects;\n        sideEffects.forEach((sideEffect) => {\n            let options;\n            let name;\n            const effects = sideEffect.effects;\n            const behaviours = sideEffect.behaviours;\n            const combinedSet = unionSets(this, behaviours, selectionSet);\n            effects.forEach((effect) => {\n                if (typeof effect === 'object') {\n                    name = effect.name;\n                    options = effect.options;\n                } else {\n                    name = effect;\n                }\n\n                const sideEffectInstance = sideEffectStore[name];\n                if (sideEffectInstance.isEnabled()) {\n                    if (!sideEffectInstance.constructor.mutates() &&\n                        Object.values(actionHistory).some(d => d.isMutableAction)) {\n                        queuedSideEffects[`${name}-${behaviours.join()}`] = {\n                            name,\n                            params: [combinedSet, payload, options]\n                        };\n                    } else {\n                        this.dispatchSideEffect(name, combinedSet, payload, options);\n                    }\n                }\n            });\n        });\n        return this;\n    }\n\n    dispatchSideEffect (name, selectionSet, payload, options = {}) {\n        const sideEffectStore = this.sideEffects();\n        const sideEffect = sideEffectStore[name];\n        let disable = false;\n        if (options.filter && options.filter(sideEffect)) {\n            disable = true;\n        }\n        !disable && sideEffectStore[name].apply(selectionSet, payload, options);\n    }\n\n    registerPropagationBehaviourMap (map) {\n        this._propagationBehaviourMap = Object.assign(this._propagationBehaviourMap, map || {});\n        return this;\n    }\n\n    dispatchBehaviour (behaviour, payload, propagationInfo = {}) {\n        const propagate = propagationInfo.propagate !== undefined ? propagationInfo.propagate : true;\n        const behaviouralActions = this._actions.behavioural;\n        const action = behaviouralActions[behaviour];\n        const behaviourEffectMap = this._behaviourEffectMap;\n        const sideEffects = getSideEffects(behaviour, behaviourEffectMap);\n        this._propagationInf = propagationInfo;\n\n        if (action) {\n            const selectionSet = action.dispatch(payload);\n            const propagationSelectionSet = this.getPropagationSelectionSet(selectionSet);\n            this._entryExitSet[behaviour] = propagationSelectionSet;\n            const shouldApplySideEffects = this.shouldApplySideEffects(propagate);\n\n            if (propagate) {\n                this.propagate(behaviour, payload, selectionSet.find(d => d.sourceSelectionSet), sideEffects);\n            }\n            if (shouldApplySideEffects) {\n                const applicableSideEffects = this.getApplicableSideEffects(sideEffects, payload, propagationInfo);\n                this.applySideEffects(applicableSideEffects, propagationSelectionSet, payload);\n            }\n        }\n\n        return this;\n    }\n\n    getPropagationSelectionSet (selectionSet) {\n        return selectionSet.find(d => !d.sourceSelectionSet);\n    }\n\n    shouldApplySideEffects () {\n        return true;\n    }\n\n    changeBehaviourStateOnPropagation (behaviour, value) {\n        if (value instanceof Function) {\n            this._sourceBehaviours[behaviour] = value;\n        } else {\n            this._sourceBehaviours[behaviour] = () => value;\n        }\n        return this;\n    }\n\n    changeSideEffectStateOnPropagation (sideEffect, value) {\n        if (value instanceof Function) {\n            this._sourceSideEffects[sideEffect] = value;\n        } else {\n            this._sourceSideEffects[sideEffect] = () => value;\n        }\n    }\n\n    propagate () {\n        return this;\n    }\n\n    sideEffects (...sideEffects) {\n        if (sideEffects.length) {\n            this._sideEffects = sideEffects[0];\n            return this;\n        }\n        return this._sideEffects;\n    }\n\n    enableSideEffects (fn) {\n        changeSideEffectAvailability(this, fn, true);\n        return this;\n    }\n\n    disableSideEffects (fn) {\n        changeSideEffectAvailability(this, fn, false);\n        return this;\n    }\n\n    dissociateBehaviour (behaviour, physicalAction) {\n        const actionBehaviourMap = this._actionBehaviourMap;\n        for (const key in actionBehaviourMap) {\n            if (key === physicalAction) {\n                const behaviourMap = actionBehaviourMap[key];\n                behaviourMap.behaviours = behaviourMap.behaviours.filter(d => d !== behaviour);\n            }\n        }\n\n        return this;\n    }\n\n    dissociateSideEffect (sideEffect, behaviour) {\n        const behaviourEffectMap = this._behaviourEffectMap;\n        behaviourEffectMap[behaviour] = behaviourEffectMap[behaviour].filter(d => (d.name || d) !== sideEffect);\n        return this;\n    }\n\n    getApplicableSideEffects (sideEffects) {\n        return sideEffects;\n    }\n\n    attachPropagationListener (dataModel) {\n        dataModel.unsubscribe('propagation');\n        dataModel.on('propagation', this.onDataModelPropagation());\n        return this;\n    }\n\n    onDataModelPropagation () {\n        return (propValue) => {\n            const payload = propValue.payload;\n            const action = payload.action;\n\n            this.dispatchBehaviour(action, payload, {\n                propagate: false\n            });\n        };\n    }\n\n    createSelectionSet (uniqueIds, behaviouralActions) {\n        const behaviours = behaviouralActions || this._actions.behavioural;\n        const selectionSet = this._selectionSet;\n        const volatileSelectionSet = this._volatileSelectionSet;\n\n        for (const key in behaviours) {\n            if ({}.hasOwnProperty.call(behaviours, key)) {\n                selectionSet[key] = new SelectionSet(uniqueIds);\n                volatileSelectionSet[key] = new SelectionSet(uniqueIds, true);\n            }\n        }\n        this._volatileSelectionSet = volatileSelectionSet;\n        this.selectionSet(selectionSet);\n        return this;\n    }\n\n    selectionSet (...selectionSet) {\n        if (selectionSet.length) {\n            this._selectionSet = selectionSet[0];\n            return this;\n        }\n        return this._selectionSet;\n    }\n\n    initializeSideEffects () {\n        const sideEffectDefinitions = this._sideEffectDefinitions;\n        this.sideEffects(initializeSideEffects(this, sideEffectDefinitions));\n        return this;\n    }\n\n    registerPhysicalActions (actions) {\n        const initedActions = initializePhysicalActions(this, actions);\n        Object.assign(this._actions.physical, initedActions);\n        return this;\n    }\n\n    /**\n     * Allows to propagate the datamodel with only the supplied fields. When propagation is done, then the fields\n     * which are supplied for the specified behavioural action is propagated.\n     *\n     * @public\n     *\n     * @param {string} action Name of behavioural action. If '*' is specified, then for all behavioural actions it is\n     * applied.\n     * @param {Array} fields Array of field names which will be propagated.\n     * @param {boolean} append If true, then it is appended to the existing propagation data model fields else only\n     * those fields are projected from propagation data model and propagated.\n     *\n     * @return {Firebolt} Instance of firebolt\n     */\n    propagateWith (action, fields, append = false) {\n        const behaviouralActions = this._actions.behavioural;\n        if (fields.length) {\n            if (action === ALL_ACTIONS) {\n                for (const key in behaviouralActions) {\n                    this._propagationFields[key] = {\n                        fields,\n                        append\n                    };\n                }\n            } else {\n                this._propagationFields[action] = {\n                    fields,\n                    append\n                };\n            }\n            return this;\n        }\n        return this._propagationFields;\n    }\n\n    /**\n     * Map actions and behaviours\n     * @return {Firebolt} Firebolt instance\n     */\n    mapActionsAndBehaviour () {\n        const initedPhysicalActions = this._actions.physical;\n        const map = this._actionBehaviourMap;\n\n        for (const action in map) {\n            if (!({}).hasOwnProperty.call(action, map)) {\n                let target;\n                const mapObj = map[action];\n                target = mapObj.target;\n                const touch = mapObj.touch;\n                if (!target) {\n                    target = this.context.getDefaultTargetContainer();\n                }\n                const bind = hasTouch() ? touch === true || touch === undefined : !touch;\n                bind && this.bindActionWithBehaviour(initedPhysicalActions[action],\n                    target, mapObj.behaviours);\n            }\n        }\n        return this;\n    }\n\n    registerPhysicalBehaviouralMap (map) {\n        Object.assign(this._actionBehaviourMap, map);\n        return this;\n    }\n\n    /**\n     * Binds a target element with an action.\n     *\n     * @param {Function} action Action method\n     * @param {string} target Class name of element\n     * @param {Array} behaviourList Array of behaviours\n     * @return {FireBolt} Instance of firebolt\n     */\n    bindActionWithBehaviour (action, targets, behaviourList) {\n        if (typeof (targets) === 'string') {\n            targets = [targets];\n        }\n        targets.forEach((target) => {\n            const mount = this.context.mount();\n            const nodes = target.node instanceof Function ? target : selectElement(mount).selectAll(target);\n            if (behaviourList.length && !nodes.empty()) {\n                if (nodes instanceof Array) {\n                    nodes.forEach((node) => {\n                        action(selectElement(node), behaviourList);\n                    });\n                } else {\n                    action(nodes, behaviourList);\n                }\n            }\n        });\n        return this;\n    }\n\n    getPropagationInf () {\n        return this._propagationInf;\n    }\n\n    getAddSetFromCriteria (criteria, propagationInf = {}) {\n        const context = this.context;\n        const filteredDataModel = propagationInf.data ? propagationInf.data :\n            context.getDataModelFromIdentifiers(criteria, 'all');\n        const xFields = context.fields().x || [];\n        const yFields = context.fields().y || [];\n        const xMeasures = xFields.every(field => field.type() === FieldType.MEASURE);\n        const yMeasures = yFields.every(field => field.type() === FieldType.MEASURE);\n        return {\n            model: filteredDataModel,\n            uids: criteria === null ? null : (propagationInf.data ? filterPropagationModel(this.getFullData(),\n                propagationInf.data[0], xMeasures && yMeasures).getData().uids : filteredDataModel[0].getData().uids)\n        };\n    }\n\n    getSelectionSets (action) {\n        const sourceId = this.context.id();\n        const propagationInf = this._propagationInf || {};\n        const propagationSource = propagationInf.sourceId;\n        let applicableSelectionSets = [];\n        if (propagationSource !== sourceId) {\n            applicableSelectionSets = [this._volatileSelectionSet[action]];\n        }\n\n        if (propagationSource) {\n            applicableSelectionSets.push(this.selectionSet()[action]);\n        }\n        return applicableSelectionSets;\n    }\n\n    getFullData () {\n        return this.context.data();\n    }\n\n    resetted () {\n        return this._resetted;\n    }\n\n    /**\n     * Returns the entry and exit set information of the specified behavioural action.\n     *\n     * @public\n     *\n     * @param {string} behaviour Name of behavioural action.\n     *\n     * @return {Object} Entry exit set information.\n     */\n    getEntryExitSet (behaviour) {\n        return this._entryExitSet[behaviour];\n    }\n}\n","import { clone } from 'muze-utils';\nimport * as SELECTION from '../enums/selection';\n\nexport const initializeSideEffects = (context, sideEffects) => {\n    const sideEffectsMap = context._sideEffects;\n    const config = context.config();\n    sideEffects = sideEffects instanceof Array ? sideEffects : Object.values(sideEffects);\n    sideEffects.forEach((SideEffect) => {\n        const formalName = SideEffect.formalName();\n        const sideEffectInstance = sideEffectsMap[formalName];\n        sideEffectsMap[formalName] = sideEffectInstance || new SideEffect(context);\n        const sideEffectConf = config[formalName];\n        sideEffectConf && sideEffectsMap[formalName].config(sideEffectConf);\n    });\n    return sideEffectsMap;\n};\n\nexport const initializeBehaviouralActions = (context, actions) => {\n    const dispatchableBehaviours = {};\n\n    actions = actions instanceof Array ? actions : Object.values(actions);\n    actions.forEach((Action) => {\n        dispatchableBehaviours[Action.formalName()] = new Action(context);\n    });\n    return dispatchableBehaviours;\n};\n\nexport const initializePhysicalActions = (context, actions) => {\n    const physicalActions = {};\n\n    for (const name in actions) {\n        if (!({}).hasOwnProperty.call(name, actions)) {\n            physicalActions[name] = actions[name](context);\n        }\n    }\n    return physicalActions;\n};\n\nexport const changeSideEffectAvailability = (context, fn, toEnable) => {\n    const sideEffects = context.sideEffects();\n    for (const key in sideEffects) {\n        if ({}.hasOwnProperty.call(sideEffects, key)) {\n            let change = true;\n            if (fn && fn(key) === false) {\n                change = false;\n            }\n            if (change) {\n                toEnable ? sideEffects[key].enable() : sideEffects[key].disable();\n            }\n        }\n    }\n};\n\nexport const getMergedSet = set => [...new Set([...set[0], ...set[1]])];\n\nexport const getSourceFields = (propagationInf, criteria = {}) => {\n    const sourceIdentifiers = propagationInf.sourceIdentifiers;\n    let sourceFields;\n    if (sourceIdentifiers) {\n        sourceFields = sourceIdentifiers.getSchema().map(d => d.name);\n    } else if (criteria instanceof Array) {\n        sourceFields = criteria[0];\n    } else {\n        sourceFields = Object.keys(criteria || {});\n    }\n    return sourceFields;\n};\n\nconst conditionsMap = {\n    newEntry: [SELECTION.SELECTION_NEW_ENTRY],\n    oldEntry: [SELECTION.SELECTION_OLD_ENTRY],\n    mergedEnter: [SELECTION.SELECTION_NEW_ENTRY, SELECTION.SELECTION_OLD_ENTRY],\n    newExit: [SELECTION.SELECTION_NEW_EXIT],\n    oldExit: [SELECTION.SELECTION_OLD_EXIT],\n    mergedExit: [SELECTION.SELECTION_NEW_EXIT, SELECTION.SELECTION_OLD_EXIT],\n    complete: []\n};\n\nexport const getModelFromSet = (type, model, set) => {\n    if (model) {\n        return model.select((fields, i) =>\n           (conditionsMap[type].some(condition => set[i] === condition)), {\n               saveChild: false\n           });\n    }\n    return null;\n};\n\nexport const getSetInfo = (type, set, config) => {\n    let model = null;\n    const filteredDataModel = config.filteredDataModel;\n    const selectionSet = config.selectionSet;\n    if (!config.propagationData) {\n        if (selectionSet.resetted()) {\n            model = null;\n        } else {\n            model = getModelFromSet(type, config.dataModel, config.selectionSet._set);\n        }\n    } else if (filteredDataModel) {\n        model = type === 'mergedEnter' ? filteredDataModel[0] : filteredDataModel[1];\n    }\n    return {\n        uids: set,\n        length: set.length,\n        model\n    };\n};\n\nexport const getSideEffects = (behaviour, behaviourEffectMap) => {\n    const sideEffects = [];\n    for (const key in behaviourEffectMap) {\n        const behaviours = key.split(',');\n        const found = behaviours.some(d => d === behaviour);\n        if (found) {\n            sideEffects.push({\n                effects: behaviourEffectMap[key],\n                behaviours\n            });\n        }\n    }\n    return sideEffects;\n};\n\nexport const unionSets = (context, behaviours) => {\n    let combinedSet = {};\n    const models = {\n        mergedEnter: null,\n        mergedExit: null\n    };\n    behaviours.forEach((behaviour) => {\n        const entryExitSet = context._entryExitSet[behaviour];\n        if (entryExitSet) {\n            combinedSet = Object.assign(combinedSet, clone(entryExitSet));\n            ['mergedEnter', 'mergedExit'].forEach((type) => {\n                const model = entryExitSet[type].model;\n                let existingModel = models[type];\n                if (!existingModel) {\n                    existingModel = models[type] = model;\n                } else if (`${model.getSchema().map(d => d.name).sort()}` ===\n                    `${existingModel.getSchema().map(d => d.name).sort()}`) {\n                    existingModel = models[type] = model.union(existingModel);\n                } else {\n                    existingModel = model;\n                }\n                combinedSet[type].model = existingModel;\n            });\n        }\n    });\n    return combinedSet;\n};\n","import Firebolt from './firebolt';\nimport * as behaviouralActions from './actions/behavioural';\nimport PersistentBehaviour from './actions/behavioural/persistent';\nimport GenericBehaviour from './actions/behavioural/generic';\nimport VolatileBehaviour from './actions/behavioural/volatile';\nimport { physicalActions } from './actions/physical';\nimport * as BEHAVIOURS from './enums/behaviours';\nimport * as ACTIONS from './enums/actions';\nimport * as SELECTION from './enums/selection';\nimport SurrogateSideEffect from './side-effects/surrogate';\nimport SpawnableSideEffect from './side-effects/spawnable';\nimport GenericSideEffect from './side-effects/generic';\nimport * as sideEffects from './side-effects';\nimport SelectionSet from './selection-set';\nimport { behaviourEffectMap } from './behaviour-effect-map';\n\nexport {\n    behaviouralActions,\n    VolatileBehaviour,\n    GenericBehaviour,\n    PersistentBehaviour,\n    physicalActions,\n    Firebolt,\n    BEHAVIOURS,\n    ACTIONS,\n    sideEffects,\n    SelectionSet,\n    behaviourEffectMap,\n    SurrogateSideEffect,\n    SpawnableSideEffect,\n    GenericSideEffect,\n    SELECTION\n};\n","import SelectionSet from './selection-set';\n\nexport default SelectionSet;\n","import {\n    SELECTION_NEW_ENTRY, SELECTION_NEW_EXIT, SELECTION_NULL, SELECTION_OLD_ENTRY, SELECTION_OLD_EXIT\n} from '../enums/selection';\n/* eslint-disable guard-for-in */\n\n/**\n * This component is used to keep track of the row tuples of the data which gets added and removed. This keeps\n * information of which rows are in previous and new entry set and previous and new exit set. This is initialized by\n * {@link Firebolt}.\n *\n * @public\n *\n * @class SelectionSet\n */\nclass SelectionSet {\n    /**\n     * Creates an instance of selection set\n     *\n     * @param {Array.<string>} completeSet Set of unique ids.\n     */\n    constructor (completeSet, _volatile) {\n        this.completeSet = completeSet;\n        this._set = completeSet.reduce((obj, key) => {\n            obj[key] = SELECTION_NULL;\n            return obj;\n        }, {});\n        this._volatile = _volatile;\n        this._completeSetCount = completeSet.length;\n        this._lockedSelection = {};\n        this._resetted = true;\n    }\n\n    /**\n     * Adds a set of ids to the selection set. This also moves the other rows to exit set.\n     *\n     * @public\n     * @param {Array.<number|string>} ids Array of unique ids.\n     *\n     * @return {SelectionSet} Instance of selection set.\n     */\n    add (ids) {\n        this._resetted = false;\n\n        const set = this._set;\n        // from exitset to entryset\n        ids.forEach((i) => {\n            set[i] = SELECTION_NEW_ENTRY;\n        });\n\n        for (const key in set) {\n            if (set[key] !== SELECTION_NEW_ENTRY && set[key] !== SELECTION_OLD_ENTRY) {\n                set[key] = set[key] < 0 ? SELECTION_OLD_EXIT : SELECTION_NEW_EXIT;\n            }\n        }\n        return this;\n    }\n\n    /**\n     * Adds an array of ids to the old entry set.\n     *\n     * @param {Array.<number|string>} ids Array of unique ids\n     *\n     * @return {SelectionSet} Instance of selection set.\n     */\n    update (ids) {\n        const set = this._set;\n        // from exitset to entryset\n        ids.forEach((i) => {\n            set[i] = SELECTION_OLD_ENTRY;\n        });\n\n        return this;\n    }\n\n    /**\n     * Moves all ids which in new entry set  to old entry set.\n     *\n     * @public\n     * @param {Array.<number|string>} ids Array of unique ids\n     *\n     * @return {SelectionSet} Instance of selection set.\n     */\n    updateEntry () {\n        const set = this._set;\n\n        // from exitset to entryset\n        for (const key in set) {\n            set[key] = set[key] === SELECTION_NEW_ENTRY ? SELECTION_OLD_ENTRY : set[key];\n        }\n        return this;\n    }\n\n    /**\n     * Moves an array of ids which are in new exit set to old exit set.\n     *\n     * @public\n     *\n     * @param {Array.<number|string>} ids Array of unique ids.\n     *\n     * @return {SelectionSet} Instance of selection set.\n     */\n    updateExit () {\n        const set = this._set;\n        // from exitset to entryset\n        for (const key in set) {\n            set[key] = set[key] === SELECTION_NEW_EXIT ? SELECTION_OLD_EXIT : set[key];\n        }\n        return this;\n    }\n\n    /**\n     * Removes an array of ids from the selection set. It also moves the remaining row ids to entry set.\n     *\n     * @public\n     * @param {Array.<string>} ids Array of unique ids\n     *\n     * @return {SelectionSet}  Instance of selection set\n     */\n    remove (ids) {\n        this._resetted = false;\n\n        const set = this._set;\n        ids.forEach((i) => {\n            set[i] = SELECTION_NEW_EXIT;\n        });\n\n        for (const key in set) {\n            if (set[key] !== SELECTION_NEW_EXIT && set[key] !== SELECTION_OLD_EXIT) {\n                set[key] = set[key] === 0 ? SELECTION_NEW_ENTRY : SELECTION_OLD_ENTRY;\n            }\n        }\n\n        return this;\n    }\n\n    getSets () {\n        const set = this._set;\n        const retObj = {\n            entrySet: [[], []],\n            exitSet: [[], []],\n            completeSet: []\n        };\n\n        for (const key in set) {\n            if (set[key] > 0) {\n                set[key] === SELECTION_OLD_ENTRY && retObj.entrySet[0].push(key);\n                set[key] === SELECTION_NEW_ENTRY && retObj.entrySet[1].push(key);\n            } else if (set[key] < 0) {\n                set[key] === SELECTION_OLD_EXIT && retObj.exitSet[0].push(key);\n                set[key] === SELECTION_NEW_EXIT && retObj.exitSet[1].push(key);\n            }\n            retObj.completeSet.push(key);\n        }\n\n        ['entrySet', 'exitSet'].forEach((type) => {\n            retObj[type] = retObj[type].map(e => e.map(Number));\n        });\n        retObj.completeSet = retObj.completeSet.map(Number);\n\n        return retObj;\n    }\n\n    /**\n     * Resets an array of ids in the selection set to initial state. It sets the value of every unique id value to\n     * null in the selection set which means they are neither in entry set nor in exit set. If no ids are passed,\n     * then it resets all the ids to null.\n     *\n     * @public\n     *\n     * @param {Array} ids Array of unique ids.\n     * @return {SelectionSet} Instance of selection set.\n     */\n    reset (ids) {\n        const set = this._set;\n        if (ids) {\n            ids.forEach((i) => {\n                set[i] = SELECTION_NULL;\n            });\n        } else {\n            const lockedSel = this._lockedSelection;\n            for (const key in set) {\n                if (!(key in lockedSel)) {\n                    set[key] = SELECTION_NULL;\n                }\n            }\n        }\n        this._resetted = true;\n        return this;\n    }\n\n    /**\n     * Gets the set of ids which are added in the selection set.\n     *\n     * @public\n     *\n     * @return {Array.<string>} Array of unique ids\n     */\n    getEntrySet () {\n        const set = this._set;\n        const addSet = [];\n\n        for (const key in set) {\n            set[key] === SELECTION_NEW_ENTRY && addSet.push(key);\n        }\n\n        return addSet;\n    }\n\n    /**\n     * Returns a set of unique ids which are already present in entry set.\n     *\n     * @public\n     * @param {Array} addSet Array of unique ids which are added\n     *\n     * @return {Array} Array of unique ids which are already in old entry set or new entry set\n     */\n    getExistingEntrySet (addSet) {\n        const set = this._set;\n        return addSet.filter(d => set[d] === SELECTION_NEW_ENTRY || set[d] === SELECTION_OLD_ENTRY);\n    }\n\n    /**\n     * Returns a set of unique ids which are already present in exit set.\n     *\n     * @public\n     * @param {Array} addSet Array of unique ids which are added\n     *\n     * @return {Array} Array of unique ids which are already in old exit set or new exit set\n     */\n    getExistingExitSet (removeSet) {\n        const set = this._set;\n        return removeSet.filter(d => set[d] === SELECTION_NEW_EXIT || set[d] === SELECTION_OLD_EXIT);\n    }\n\n    /**\n     * Gets the set of ids which are added in the selection set.\n     * @return {Array.<string>} Array of unique ids\n     */\n    getOldEntry () {\n        const set = this._set;\n        const updateSet = [];\n\n        for (const key in set) {\n            set[key] === SELECTION_OLD_ENTRY && updateSet.push(key);\n        }\n        return updateSet;\n    }\n\n    /**\n     * Gets the set of ids which are added in the selection set.\n     * @return {Array.<string>} Array of unique ids\n     */\n    getOldExit () {\n        const set = this._set;\n        const updateSet = [];\n\n        for (const key in set) {\n            set[key] === SELECTION_OLD_EXIT && updateSet.push(key);\n        }\n\n        return updateSet;\n    }\n\n    /**\n     * Gets the array of ids which are in the exit set.\n     *\n     * @public\n     * @return {Array.<string>} Array of unique ids\n     */\n    getExitSet () {\n        const set = this._set;\n        const removeSet = [];\n\n        for (const key in set) {\n            set[key] === SELECTION_NEW_EXIT && removeSet.push(key);\n        }\n        return removeSet;\n    }\n\n    /**\n     * Gets all the ids which are either in exit or entry set.\n     *\n     * @public\n     * @return {Array} Array of unique ids\n     */\n    getCompleteSet () {\n        const set = this._set;\n        const completeSet = [];\n\n        for (const key in set) {\n            completeSet.push(key);\n        }\n\n        return completeSet;\n    }\n\n    getCompleteSetCount () {\n        return this._completeSetCount;\n    }\n\n    resetted () {\n        return this._resetted;\n    }\n\n    /**\n     * Swaps the add set and remove set in the selection set.\n     * @return {SelectionSet} Instance of selection set.\n     */\n    toggle () {\n        const set = this._set;\n\n        for (const key in set) {\n            if (set[key] === SELECTION_NEW_ENTRY) {\n                set[key] = SELECTION_NEW_EXIT;\n            } else if (set[key] === SELECTION_NEW_EXIT) {\n                set[key] = SELECTION_NEW_ENTRY;\n            } else if (set[key] === SELECTION_OLD_ENTRY) {\n                set[key] = SELECTION_OLD_EXIT;\n            } else {\n                set[key] = SELECTION_OLD_ENTRY;\n            }\n        }\n\n        return this;\n    }\n}\n\nexport default SelectionSet;\n","import { DataModel, STATE_NAMESPACES, getObjProp } from 'muze-utils';\nimport { CLASSPREFIX } from '../../enums/constants';\nimport SpawnableSideEffect from '../spawnable';\n\nimport './styles.scss';\n\nconst addLayer = (layerDefs, layerRegistry, context, sideEffect) => {\n    const layers = [];\n    if (layerDefs) {\n        layerDefs.forEach((layerDef) => {\n            const mark = layerDef.mark;\n            const layerCls = layerRegistry[mark];\n            if (layerCls && layerCls.shouldDrawAnchors()) {\n                const depLayerEncoding = layerDef.def.encoding;\n                const encoding = {\n                    x: getObjProp(depLayerEncoding, 'x', 'field'),\n                    y: getObjProp(depLayerEncoding, 'y', 'field'),\n                    color: getObjProp(depLayerEncoding, 'color', 'field'),\n                    size: {\n                        field: getObjProp(depLayerEncoding, 'size', 'field'),\n                        value: sideEffect.defaultSizeValue()\n                    }\n                };\n                const name = `${layerDef.def.name}-${sideEffect.constructor.formalName()}`;\n                const layerObj = {\n                    instances: context.addLayer({\n                        name,\n                        mark: 'point',\n                        className: sideEffect.constructor.defaultConfig().className,\n                        encoding,\n                        transform: {\n                            type: 'identity'\n                        },\n                        transition: sideEffect.getTransitionConfig(),\n                        calculateDomain: false,\n                        source: dm => dm.select(() => false, {\n                            saveChild: false\n                        }),\n                        interactive: false,\n                        render: false\n                    }),\n                    linkedLayer: layerDef.def.name\n                };\n                layers.push(layerObj);\n            }\n        });\n    }\n    return layers;\n};\n\nexport default class AnchorEffect extends SpawnableSideEffect {\n    constructor (...params) {\n        super(...params);\n        this._layersMap = {};\n        this.addAnchorLayers();\n    }\n\n    static target () {\n        return 'visual-unit';\n    }\n\n    static defaultConfig () {\n        return {\n            className: `${CLASSPREFIX}-anchors-group`\n        };\n    }\n\n    static formalName () {\n        return 'anchors';\n    }\n\n    addAnchorLayers () {\n        const context = this.firebolt.context;\n        const metaInf = context.metaInf();\n        const layerRegistry = context.registry().layerRegistry;\n        const layerDefsVal = context.layerDef();\n        context.store().registerImmediateListener(\n            `${STATE_NAMESPACES.UNIT_LOCAL_NAMESPACE}.layerDef.${metaInf.namespace}`, ([, layerDefs]) => {\n                this._layers = addLayer(layerDefs, layerRegistry, context, this);\n            });\n        this._layers = addLayer(layerDefsVal, layerRegistry, context, this);\n        return this;\n    }\n\n    getTransitionConfig () {\n        return {\n            disabled: true\n        };\n    }\n\n    /**\n     * Returns the default area value of the anchor point.\n     * @return { number } Default area value of anchor.\n     */\n    defaultSizeValue () {\n        return 100;\n    }\n\n    apply (selectionSet) {\n        const self = this;\n        const dataModel = selectionSet.mergedEnter.model;\n        if (selectionSet.isSourceFieldPresent !== false) {\n            const drawingInf = this.drawingContext();\n            const sideEffectGroup = drawingInf.sideEffectGroup;\n            const className = `${this.config().className}`;\n            const layers = this._layers;\n            const parentGroup = this.createElement(sideEffectGroup, 'g', [1], `${className}-container`);\n            const anchorGroups = this.createElement(parentGroup, 'g', Object.values(layers));\n            anchorGroups.each(function (layer) {\n                const instances = layer.instances;\n                const elems = self.createElement(this, 'g', instances, className);\n                const linkedLayer = self.firebolt.context.getLayerByName(layer.linkedLayer);\n                const [transformedData, schema] = linkedLayer.getTransformedDataFromIdentifiers(dataModel);\n                const transformedDataModel = new DataModel(transformedData, schema);\n                elems.each(function (d, i) {\n                    instances[i].data(transformedDataModel).mount(this);\n                });\n            });\n        }\n        return this;\n    }\n}\n","// extracted by mini-css-extract-plugin","import AnchorEffect from './anchors';\nimport { CLASSPREFIX } from '../enums/constants';\n\nexport default class BrushAnchors extends AnchorEffect {\n    static formalName () {\n        return 'brush-anchors';\n    }\n\n    static defaultConfig () {\n        return {\n            className: `${CLASSPREFIX}-brush-anchors`\n        };\n    }\n\n    getTransitionConfig () {\n        return {\n            disabled: true\n        };\n    }\n}\n","import { selectElement, FieldType } from 'muze-utils';\n\nimport './styles.scss';\nimport { CLASSPREFIX } from '../../enums/constants';\nimport SpawnableSideEffect from '../spawnable';\n\nexport default class Crossline extends SpawnableSideEffect {\n    static defaultConfig () {\n        return {\n            className: `${CLASSPREFIX}-crossline-group`,\n            bandClass: `${CLASSPREFIX}-crossband`,\n            lineClass: `${CLASSPREFIX}-crossline`\n        };\n    }\n\n    static formalName () {\n        return 'crossline';\n    }\n\n    apply (selectionSet, payload) {\n        let height;\n        let bandWidth;\n        let px;\n        let width;\n        const {\n            className,\n            bandClass,\n            lineClass\n        } = this.config();\n        const dataModel = selectionSet.mergedEnter.model;\n        const drawingInf = this.drawingContext();\n        if (payload.criteria && dataModel && dataModel.isEmpty()) {\n            return this;\n        }\n        if (payload.criteria === null || !dataModel) {\n            this.hide();\n            return this;\n        }\n\n        const dataObj = dataModel.getData();\n        const sourceInf = this.firebolt.context.getSourceInfo();\n        const axes = sourceInf.axes;\n        const axisFields = sourceInf.fields;\n        const fields = selectionSet.fields;\n        const data = dataObj.data;\n        const fieldsConfig = dataModel.getFieldsConfig();\n        const svgContainer = drawingInf.sideEffectGroup;\n\n        const elemData = [];\n        fields.forEach((field) => {\n            const fieldIndex = fieldsConfig[field] && fieldsConfig[field].index;\n            const dataArr = data.map(d => d[fieldIndex]);\n            const axisIndex = [['x', 0], ['x', 1], ['y', 0], ['y', 1]].find((arr) => {\n                const fieldInst = axisFields[arr[0]][arr[1]];\n                return fieldInst && fieldInst.type() === FieldType.DIMENSION &&\n                    fieldInst.getMembers().indexOf(field) !== -1;\n            });\n            if (axisIndex !== undefined && data.length) {\n                const type = axisIndex[0];\n                const axis = axes[type][axisIndex[1]];\n                const value = dataArr[0];\n                bandWidth = axis.getUnitWidth() || 0;\n                px = axis.getScaleValue(value) + bandWidth / 2 + drawingInf.xOffset;\n                const plotWidth = Math.max(...this.firebolt.context.layers().map(layer => layer.getPlotSpan()[type]));\n                const pad = Math.max(...this.firebolt.context.layers().map(layer => layer.getPlotPadding()[type]));\n                height = drawingInf.height;\n                width = drawingInf.width;\n                const startPx = px - plotWidth / 2 - pad / 2;\n                const endPx = px + plotWidth / 2 + pad / 2;\n                const dataPoint = {};\n                if (type === 'y') {\n                    dataPoint.d = `M 0 ${startPx} L 0 ${endPx} L ${width} ${endPx} L ${width} ${startPx} Z`;\n                } else {\n                    dataPoint.d = `M ${startPx} 0 L ${endPx} 0 L ${endPx} ${height} L ${startPx} ${height} Z`;\n                }\n                dataPoint.className = plotWidth ? bandClass : lineClass;\n                elemData.push(dataPoint);\n            }\n        });\n        if (elemData.length) {\n            const parentGroup = this.createElement(svgContainer, 'g', [1], className);\n            const elem = this.createElement(parentGroup, 'path', elemData);\n            elem.attr('d', d => d.d).style('pointer-events', 'none')\n                            .attr('class', d => d.className);\n        }\n        return this;\n    }\n\n    hide () {\n        const className = this.config().className;\n        const drawingInf = this.drawingContext();\n        selectElement(drawingInf.sideEffectGroup).selectAll(`.${className}`).remove();\n    }\n}\n","// extracted by mini-css-extract-plugin","import SurrogateSideEffect from '../surrogate';\n\nexport default class FilterEffect extends SurrogateSideEffect {\n    static formalName () {\n        return 'filter';\n    }\n\n    static target () {\n        return 'visual-unit';\n    }\n\n    static mutates () {\n        return true;\n    }\n\n    apply (selectionSet, payload) {\n        const context = this.firebolt.context;\n        const entryModel = selectionSet.mergedEnter.model;\n        if (payload.criteria === null) {\n            context.clearCaching().resetData();\n        } else {\n            context.enableCaching().data(entryModel);\n        }\n        return this;\n    }\n}\n","import { mergeRecursive, getUniqueId } from 'muze-utils';\n\n/**\n * This is the base class of all side effects. It contains all common methods like setting configuration, disabling,\n * enabling side effect, etc. Every new side effect has to inherit this class or {@link SpawnableSideEffect} or\n * {@link SurrogateSideEffect} class. All side effects are initialized by firebolt. The instance of firebolt is\n * passed on initialization. The firebolt instance contains ```context``` which is the instance of visual unit with\n * which the firebolt is attached.\n *\n * @public\n * @class\n * @module GenericSideEffect\n */\nexport default class GenericSideEffect {\n    constructor (firebolt) {\n        this.firebolt = firebolt;\n        this._enabled = true;\n        this._strategy = 'default';\n        this._config = {};\n        this._id = getUniqueId();\n        this._strategies = {};\n        this.config(this.constructor.defaultConfig());\n    }\n\n    /**\n     * Returns the default configuration of the side effect.\n     *\n     * @public\n     * @return {Object} Default configuration of side effect.\n     */\n    static defaultConfig () {\n        return {};\n    }\n\n    /**\n     * Returns the formal name of a side effect. This method must be implemented by all side effects which changes\n     * or adds any element in the visualization.\n     *\n     * @return {string} Formal name of side effect.\n     */\n    static formalName () {\n        return 'generic';\n    }\n\n    static target () {\n        return 'all';\n    }\n\n    /**\n     * Returns true if the side effects mutates the data of chart.\n     *\n     * @public\n     *\n     * @return {boolean} If the side effect mutates the data of chart.\n     */\n    static mutates () {\n        return false;\n    }\n\n    /**\n     * Sets or gets the configuration of side effect.\n     *\n     * When setter,\n     * @param {Object} config Configuration of side effect.\n     * @return {GenericSideEffect} Side effect instance.\n     *\n     * When getter,\n     * @return {Object} Side effect configuration.\n     */\n    config (...params) {\n        if (params.length) {\n            this._config = mergeRecursive(this._config, params[0]);\n            return this;\n        }\n        return this._config;\n    }\n\n    disable () {\n        this._enabled = false;\n        return this;\n    }\n\n    enable () {\n        this._enabled = true;\n        return this;\n    }\n\n    isEnabled () {\n        return this._enabled;\n    }\n\n    /**\n     * Applies the interaction effect on the chart. This is where the implemntation of the side effect is defined.\n     *\n     * @param {Object} selectionSet Contains the entry and exit set of data which got affected during interaction.\n     * @param {Object} selectionSet.mergedEnter Combined previous entry and new entry set.\n     * @param {DataModel} selectionSet.mergedEnter.model Instance of data model containing all rows which got\n     * affected during interaction.\n     * @param {Array} selectionSet.mergedEnter.uids Ids of all rows which were affected during interaction.\n     * @param {Object} selectionSet.mergedExit Combined previous exit and new exit set.\n     * @param {DataModel} selectionSet.mergedExit.model Instance of data model containing rows which were not affected\n     * during interaction.\n     * @param {Array} selectionSet.mergedExit.uids Ids of all rows which were not affected during interaction.\n     * @param {Object} selectionSet.entrySet Entry set information.\n     * @param {Array} selectionSet.entrySet[0].uids All row ids which got affected during previous interaction.\n     * @param {Array} selectionSet.entrySet[1].uids All row ids which got affected during current interaction.\n     * @param {Array} selectionSet.exitSet[0].uids All row ids which were not affected during previous interaction.\n     * @param {Array} selectionSet.exitSet[1].uids All row ids which were not affected during current interaction.\n     * @param {Object} payload Payload information of the behavioural action on trigger of which this side effect\n     * is applied.\n     * @param {Object} options Optional information for side effect like strategy, etc.\n     */\n    apply () {\n        return this;\n    }\n\n    /**\n     * Adds a new strategy method for this side effect. The strategy method is implemented by side effect class.\n     *\n     * @param {string} name Name of the strategy.\n     * @param {Function} fn Strategy method.\n     *\n     * @return {GenericSideEffect} Instance of side effect.\n     */\n    addStrategy (name, fn) {\n        this._strategies[name] = fn;\n        return this;\n    }\n}\n","import GenericSideEffect from './generic-sideeffect';\n\nexport default GenericSideEffect;\n","export const spaceOutBoxes = (boxes, extent, showVertically) => {\n    let y;\n    let height;\n    let x;\n    let width;\n    let i;\n    const pad = 5;\n    const len = boxes.length;\n    const spaceOutIfOverlap = (firstBox, secondBox, opposite) => {\n        x = firstBox.x;\n        width = firstBox.width;\n        y = firstBox.y;\n        height = firstBox.height;\n        const bottom = y + height;\n        const right = x + width;\n\n        if (showVertically) {\n            if (opposite ? y < (secondBox.y + secondBox.height) : bottom > secondBox.y) {\n                secondBox.y = opposite ? firstBox.y - secondBox.height - pad :\n                        bottom + pad;\n            }\n        } else if (opposite ? x < (secondBox.x + secondBox.width) : right > secondBox.x) {\n            secondBox.x = opposite ? firstBox.x - secondBox.width - pad :\n                    right + pad;\n        }\n    };\n\n    boxes.sort((a, b) => (showVertically ? a.y - b.y : a.x - b.x));\n    i = 0;\n\n    for (i = 0; i < len - 1; i++) {\n        spaceOutIfOverlap(boxes[i], boxes[i + 1]);\n    }\n\n    if ((boxes[i].y + boxes[i].height) > extent.height ||\n            (boxes[i].x + boxes[i].width) > extent.width) {\n        if (showVertically) {\n            boxes[i].y -= (boxes[i].height + boxes[i].y) - extent.height;\n        } else {\n            boxes[i].x -= (boxes[i].width + boxes[i].x) - extent.width;\n        }\n        for (i = len - 1; i > 0; i--) {\n            spaceOutIfOverlap(boxes[i], boxes[i - 1], true);\n        }\n    }\n    return boxes;\n}\n;\n","export { default as SelectionBox } from './selection-box';\nexport { default as Tooltip } from './tooltip';\nexport { default as Crossline } from './crossline';\nexport { default as PlotHighlighter } from './plot-highlighter';\nexport { default as FilterEffect } from './filter';\nexport { default as PersistentAnchors } from './persistent-anchors';\nexport { default as BrushAnchors } from './brush-anchors';\nexport { default as AnchorEffect } from './anchors';\n","import AnchorEffect from './anchors';\nimport { CLASSPREFIX } from '../enums/constants';\n\nexport default class PersistentAnchors extends AnchorEffect {\n    static formalName () {\n        return 'persistent-anchors';\n    }\n\n    static defaultConfig () {\n        return {\n            className: `${CLASSPREFIX}-persistent-anchors`\n        };\n    }\n\n    getTransitionConfig () {\n        return {\n            disabled: true\n        };\n    }\n}\n","import SurrogateSideEffect from '../surrogate';\nimport { strategies } from './strategy';\n\nexport default class PlotHighlighter extends SurrogateSideEffect {\n    constructor (...params) {\n        super(...params);\n        this._strategy = 'highlight';\n        this._strategies = strategies;\n    }\n\n    static formalName () {\n        return 'highlighter';\n    }\n\n    static target () {\n        return 'visual-unit';\n    }\n\n    apply (selectionSet, payload, options = {}) {\n        const strategy = this._strategies[options.strategy || this._strategy];\n\n        if (selectionSet.isSourceFieldPresent !== false) {\n            strategy(selectionSet, this, options.strategy || this._strategy);\n        }\n\n        return this;\n    }\n}\n","const fadeFn = (set, context, strategy) => {\n    const {\n        mergedEnter,\n        mergedExit,\n        exitSet,\n        completeSet\n    } = set;\n\n    if (!mergedEnter.length && !mergedExit.length) {\n        context.applyInteractionStyle(completeSet, {}, strategy, false);\n    } else {\n        context.applyInteractionStyle(exitSet[1], {}, strategy, true);\n        context.applyInteractionStyle(mergedEnter, {}, strategy, false);\n    }\n};\n\nexport const strategies = {\n    fade: fadeFn,\n    focus: (set, context) => {\n        const {\n            mergedEnter,\n            mergedExit,\n            completeSet\n        } = set;\n        if (!mergedEnter.length && !mergedExit.length) {\n            context.applyInteractionStyle(completeSet, {}, 'focus', false);\n        } else {\n            context.applyInteractionStyle(mergedExit, {}, 'focus', true);\n            context.applyInteractionStyle(mergedEnter, {}, 'focus', false);\n        }\n    },\n    highlight: (set, context) => {\n        const {\n            mergedEnter,\n            mergedExit,\n            entrySet,\n            exitSet,\n            completeSet\n        } = set;\n        if (!mergedEnter.length && !mergedExit.length) {\n            context.applyInteractionStyle(completeSet, {}, 'highlight', false);\n        } else {\n            context.applyInteractionStyle(entrySet[1], {}, 'highlight', true);\n            context.applyInteractionStyle(exitSet[1], {}, 'highlight', false);\n        }\n    }\n};\n","import { selectElement } from 'muze-utils';\n\nexport const getBoxDimensionsFromPayload = (payload, axes, axisFields) => {\n    let x1;\n    let x2;\n    let y1;\n    let y2;\n    let xRange;\n    let yRange;\n    let direction;\n    const criteria = payload.criteria;\n    const dimensions = payload.dimensions || {};\n    const xDim = dimensions.x;\n    const yDim = dimensions.y;\n\n    if (criteria === null) {\n        return null;\n    }\n\n    const xAxis = axes.x[0];\n    const yAxis = axes.y[0];\n    const xLinear = xAxis.constructor.type() === 'linear';\n    const yLinear = yAxis.constructor.type() === 'linear';\n    const xField = `${axisFields.x[0]}`;\n    const yField = `${axisFields.y[0]}`;\n    const xCriteria = criteria[xField];\n    const yCriteria = criteria[yField];\n\n    if (xCriteria && xCriteria[0] instanceof Array) {\n        xRange = xCriteria[0];\n        yRange = xCriteria[1];\n    } else {\n        xRange = xCriteria || [];\n        yRange = yCriteria || [];\n    }\n    direction = xCriteria && yCriteria ? 'both' : (xCriteria ? 'vertical' : 'horizontal');\n    if (xRange && xRange.length) {\n        if ((yAxis.constructor.type() === 'band' && xLinear)) {\n            x1 = x2 = undefined;\n            direction = 'horizontal';\n        } else {\n            const domain = xAxis.domain();\n            const bandScale = xAxis.constructor.type() === 'band';\n            let x1Val;\n            let x2Val;\n            if (bandScale) {\n                let x1DomainIndex = domain.indexOf(xRange[0]);\n                let x2DomainIndex = domain.indexOf(xRange[xRange.length - 1]);\n                [x1DomainIndex, x2DomainIndex] = [x1DomainIndex, x2DomainIndex].sort((a, b) => a - b);\n                x1Val = domain[x1DomainIndex];\n                x2Val = domain[x2DomainIndex];\n            } else {\n                x1Val = xRange[0];\n                x2Val = xRange[xRange.length - 1];\n            }\n            x1 = xAxis.getScaleValue(x1Val);\n            x2 = xAxis.getScaleValue(x2Val);\n            x2 += bandScale ? xAxis.getUnitWidth() : 0;\n        }\n    } else {\n        x1 = x2 = undefined;\n    }\n    if (yRange && yRange.length) {\n        if ((xAxis.constructor.type() === 'band' && yLinear)) {\n            y1 = y2 = undefined;\n            direction = 'vertical';\n        } else {\n            const domain = yAxis.domain();\n            const bandScale = yAxis.constructor.type() === 'band';\n            let y1Val;\n            let y2Val;\n            if (bandScale) {\n                let y1DomainIndex = domain.indexOf(yRange[0]);\n                let y2DomainIndex = domain.indexOf(yRange[yRange.length - 1]);\n                [y1DomainIndex, y2DomainIndex] = [y1DomainIndex, y2DomainIndex].sort(((a, b) => b - a));\n                y1Val = domain[y1DomainIndex];\n                y2Val = domain[y2DomainIndex];\n            } else {\n                y1Val = yRange[0];\n                y2Val = yRange[yRange.length - 1];\n            }\n            y1 = yAxis.getScaleValue(y1Val);\n            y2 = yAxis.getScaleValue(y2Val);\n            y2 += yAxis.constructor.type() === 'band' ? yAxis.getUnitWidth() : 0;\n        }\n    } else {\n        y1 = y2 = undefined;\n    }\n\n    if ((yLinear && xLinear) || !payload.dragEnd) {\n        if (xDim) {\n            [x1, x2] = xDim;\n        }\n        if (yDim) {\n            [y1, y2] = yDim;\n        }\n    }\n\n    return {\n        dimension: {\n            x1,\n            x2,\n            y1,\n            y2\n        },\n        direction\n    };\n};\n\nexport const changeVisibility = (context, sideEffectGroup, visible) => {\n    const config = context.config();\n    const className = config.defClassName;\n    const classPrefix = config.classPrefix;\n    selectElement(sideEffectGroup).selectAll(`.${classPrefix}-${className}`)\n                    .style('display', visible ? 'block' : 'none');\n};\n","import {\n    getQualifiedClassName,\n    selectElement,\n    makeElement,\n    isValidValue\n} from 'muze-utils';\nimport { CLASSPREFIX } from '../../enums/constants';\nimport './styles.scss';\nimport SpawnableSideEffect from '../spawnable';\nimport { selectionBoxDrag } from '../../actions/physical/selection-box-drag';\nimport { getBoxDimensionsFromPayload, changeVisibility } from './helper';\n\n/**\n * This class is used to create a selection box which is used by visual unit for brushing and\n * selection in the canvas.\n * @class SelectionBox\n */\nclass SelectionBox extends SpawnableSideEffect {\n    /**\n     * It returns the default configuration needed by selectionbox.\n     * @return {Object} Default configuration of the selection box.\n     */\n    static defaultConfig () {\n        return {\n            defClassName: 'selection-box-group',\n            className: '',\n            classPrefix: CLASSPREFIX,\n            box: {\n                defClassName: 'selection-box',\n                className: ''\n            },\n            transition: {\n                duration: 200\n            }\n        };\n    }\n\n    static formalName () {\n        return 'selectionBox';\n    }\n\n    /**\n     * Draws the selectionbox with the specified dimensions.\n     * @param {Object} dimension Dimensions of the selection box.\n     * @param {number} dimension.x1 Starting x position\n     * @param {number} dimension.x2 Ending x position\n     * @param {number} dimension.y1 Starting y position\n     * @param {number} dimension.y2 Ending y position\n     * @param {Object} conf Configuration needed to draw the selection box\n     * @param {number} unitWidth Width of the visual unit.\n     * @param {number} unitHeight Height of the visual unit.\n     */\n    apply (selectionSet, payload) {\n        let x;\n        let y;\n        let width;\n        let height;\n        const config = this._config;\n        const boxConf = config.box;\n        const firebolt = this.firebolt;\n        const drawingInf = this.drawingContext();\n        const mountPoint = drawingInf.sideEffectGroup;\n        const unitWidth = drawingInf.width;\n        const unitHeight = drawingInf.height;\n        const classPrefix = config.classPrefix;\n        const selectionGroupClassName = config.defClassName;\n\n        if (payload.criteria === null) {\n            this.hide(drawingInf);\n            return this;\n        }\n\n        const sourceInf = firebolt.context.getSourceInfo();\n        const { dimension, direction } = getBoxDimensionsFromPayload(payload, sourceInf.axes,\n            sourceInf.fields);\n        const transition = payload.dragEnd && config.transition;\n\n        if (direction === 'both' || direction === 'vertical') {\n            x = Math.min(dimension.x1, dimension.x2);\n            width = Math.abs(dimension.x2 - dimension.x1);\n        } else {\n            x = 0;\n            width = unitWidth;\n        }\n        if (direction === 'both' || direction === 'horizontal') {\n            y = Math.min(dimension.y1, dimension.y2);\n            height = Math.abs(dimension.y2 - dimension.y1);\n        } else {\n            height = unitHeight;\n            y = 0;\n        }\n        this.show(drawingInf);\n        // Create the data array for drawing the rectangle\n        const points = [\n            {\n                x,\n                y,\n                width,\n                height\n            }\n        ];\n        // Create the container group for selection box.\n        const selectionGroup = makeElement(selectElement(mountPoint), 'g', [1],\n            `.${classPrefix}-${selectionGroupClassName}`);\n        const sideEffect = this;\n        const selection = selectionGroup.selectAll('rect').data(points);\n        const selectionBox = selection.enter().append('rect')\n                        .each(function () {\n                            selectionBoxDrag(firebolt)(selectElement(this), ['brush'], sideEffect);\n                        })\n                        .merge(selection)\n                        .each(function (attrs) {\n                            let element = selectElement(this);\n                            transition && (element = element.transition().duration(transition.duration));\n                            for (const key in attrs) {\n                                if ({}.hasOwnProperty.call(attrs, key)) {\n                                    isValidValue(attrs[key]) && element.attr(key, attrs[key]);\n                                }\n                            }\n                        });\n        // Get the qualified class name for selection box rectangle\n        const boxClassName = getQualifiedClassName(boxConf.defClassName, this._id, classPrefix);\n        selectionBox.classed(boxClassName.join(' '), true);\n        selectionBox.classed(boxConf.className, true);\n\n        return this;\n    }\n\n    hide (drawingInf) {\n        changeVisibility(this, drawingInf.sideEffectGroup, false);\n    }\n\n    show (drawingInf) {\n        changeVisibility(this, drawingInf.sideEffectGroup, true);\n    }\n}\n\nexport default SelectionBox;\n\n","// extracted by mini-css-extract-plugin","import { makeElement } from 'muze-utils';\n\nimport GenericSideEffect from './generic';\n\n/**\n * Any side effect which will add any new element to the chart like drawing a rectangular box or any annotation over\n * the chart needs to inherit this class. This class has methods which returns the container where the dom elements\n * needs to be created.\n *\n * To use this,\n * ```\n *      const SpawnableSideEffect = muze.SideEffects.standards.SpawnableSideEffect;\n *\n *      class SelectionBox extends SpawnableSideEffect {\n *          static formalName () {\n *              return 'selectionBox';\n *          }\n *\n *          // Implement the logic of applying the style here.\n *          apply () {\n *          }\n *      }\n * ```\n * @public\n * @class\n * @extends GenericSideEffect\n * @module SpawnableSideEffect\n */\nexport default class SpawnableSideEffect extends GenericSideEffect {\n    /**\n     * Creates a html or svg element in the container.\n     *\n     * @public\n     * @param {SVGElement|HTMLElement} container Container where the dom element will be rendered.\n     * @param {string} elemType Type of dom element.\n     * @param {Array} data Array of objects with which the dom elements will be binded.\n     * @param {string} className class name of the element.\n     *\n     * @return {Selection} D3 Selection of the element.\n     */\n    createElement (container, elemType, data, className, callbacks) {\n        return makeElement(container, elemType, data, className, callbacks);\n    }\n\n    /**\n     * Returns the drawing information for side effect like svg container, dimensions of the visual unit.\n     *\n     * @public\n     * @return {Object} Drawing information for side effect.\n     * ```\n     *      sideEffectGroup: // svg container where the side effect needs to be appended.\n     *      svgContainer: // svg container of the {@link VisualUnit}.\n     *      htmlContainer: // html div container of the {@link VisualUnit}.\n     *      width: // Width of the {@link VisualUnit}\n     *      height: // Height of the {@link VisualUnit}\n     * ```\n     */\n    drawingContext (...drawingContext) {\n        if (drawingContext.length) {\n            this._drawingContext = drawingContext[0];\n            return this;\n        }\n        return this._drawingContext();\n    }\n\n    show () {\n        return this;\n    }\n\n    hide () {\n        return this;\n    }\n}\n","import GenericSideEffect from './generic';\n\n/**\n * This class is inherited by all side effects which changes the look of any existing elements in the visualization.\n * For example, if a side effect wants to change the color of bar plots, then it is a surrogate side effect.\n *\n * To use this,\n * ```\n *      const SurrogateSideEffect = muze.SideEffects.standards.SurrogateSideEffect;\n *\n *      class BarColorChanger extends SurrogateSideEffect {\n *          static formalName () {\n *              return 'colorChanger';\n *          }\n *\n *          // Implement the logic of applying the style here.\n *          apply () {\n *          }\n *      }\n * ```\n * @public\n *\n * @module SurrogateSideEffect\n * @class\n * @extends GenericSideEffect\n */\nexport default class SurrogateSideEffect extends GenericSideEffect {\n    /**\n     * Applies or removes interaction styles from plot elements. An array of row ids needs to be passed\n     * which identifies the plot elements and applies styles to them.\n     *\n     * To apply the interaction style,\n     * ```\n     *      const entryRowIds = entrySet[0].uids;\n     *      const interactionStyle = [{\n     *          type: 'fill',\n     *          intensity: [0, 0, 15, 0] // hsla configuration\n     *      }];\n     *\n     *      this.applyInteractionStyle(entryRowIds, interactionStyle, 'brighten', true);\n     * ```\n     * @public\n     * @param {Array} set Array of row ids.\n     * @param {Array} config Style configuration.\n     * @param {Object} config[0] fill or stroke configuration.\n     * @param {string} config[0].type Type of style - fill or stroke.\n     * @param {Array} config[0].intensity hsla configuration.\n     * @param {string} interactionType Type of interaction. This is needed for storing the styles for\n     * each type of interaction in the plot elements.\n     * @param {boolean} apply Whether to apply or remove the interaction style.\n     *\n     * @return {SurrogateSideEffect} Instance of surrogate side effect.\n     */\n    applyInteractionStyle (set, config = {}, interactionType, apply) {\n        const layers = this.firebolt.context.layers();\n        layers.forEach(layer => layer.config().interactive !== false &&\n            layer.applyInteractionStyle(interactionType, set.uids, apply));\n        return this;\n    }\n}\n","import { Tooltip as TooltipRenderer } from '@chartshq/muze-tooltip';\nimport { FieldType } from 'muze-utils';\nimport { spaceOutBoxes } from '../helper';\nimport { strategies } from './strategies';\nimport { FRAGMENTED } from '../../enums/constants';\nimport SpawnableSideEffect from '../spawnable';\n\nimport './styles.scss';\n\nexport default class Tooltip extends SpawnableSideEffect {\n    constructor (...params) {\n        super(...params);\n        this._tooltips = {};\n        this._strategies = strategies;\n        this._strategy = 'default';\n    }\n\n    static defaultConfig () {\n        return {\n            padding: 5,\n            offset: {\n                x: 0,\n                y: 0\n            }\n        };\n    }\n\n    static formalName () {\n        return 'tooltip';\n    }\n\n    apply (selectionSet, payload, options = {}) {\n        let totalHeight = 0;\n        let totalWidth = 0;\n        const dataModel = selectionSet.mergedEnter.model;\n        const context = this.firebolt.context;\n        const drawingInf = this.drawingContext();\n        if ((dataModel.isEmpty() || payload.criteria === null) || selectionSet.isSourceFieldPresent === false) {\n            this.hide(options, null);\n            return this;\n        }\n\n        const tooltips = this._tooltips;\n        const config = this.config();\n        const boundBox = {\n            width: drawingInf.width,\n            height: drawingInf.height\n        };\n        const showInPosition = payload.showInPosition;\n        const pad = config.padding;\n        const dataModels = [];\n        const fragmented = config.mode === FRAGMENTED;\n        const sourceInf = context.getSourceInfo();\n        const fields = sourceInf.fields;\n        const xFieldDim = fields.x[0] ? fields.x[0].type() === FieldType.DIMENSION : false;\n        const showVertically = !!xFieldDim;\n        const tooltipPos = payload.position;\n        const boxes = [];\n        const enter = {};\n        const uids = dataModel.getData().uids;\n        if (fragmented) {\n            dataModels.push(...uids.map(d => dataModel.select((fieldsArr, i) => i === d, {\n                saveChild: false\n            })));\n        } else {\n            dataModels.push(dataModel);\n        }\n\n        let target = payload.target;\n        let targetFields = [];\n        if (target) {\n            targetFields = target[0] || [];\n            const sourceFields = payload.sourceFields;\n            const indices = [];\n            for (let i = 0, len = targetFields.length; i < len; i++) {\n                if (sourceFields.indexOf(targetFields[i]) !== -1) {\n                    indices.push(i);\n                }\n            }\n            target = target.map(d => d.filter((v, i) => indices.indexOf(i) !== -1));\n        }\n\n        const plotDimensions = context.getPlotPointsFromIdentifiers(target || payload.criteria, {\n            getBBox: true\n        });\n\n        // Show tooltip for each datamodel\n        for (let i = 0; i < dataModels.length; i++) {\n            let plotDim = plotDimensions[i];\n            if (fragmented) {\n                const dimensions = dataModels[i].getData().schema.filter(d => d.type === FieldType.DIMENSION)\n                    .map(d => d.name);\n                plotDim = context.getPlotPointsFromIdentifiers(dataModels[i].project(dimensions), { getBBox: true });\n                plotDim = plotDim && plotDim[0];\n            }\n\n            let dt = dataModels[i];\n            if (config.fields) {\n                dt = dt.project(config.fields, {\n                    saveChild: false\n                });\n            }\n            if (config.dataTransform) {\n                dt = config.dataTransform(dt, i);\n            }\n\n            enter[i] = true;\n            const layoutContainer = drawingInf.parentContainer;\n            const layoutBoundBox = layoutContainer.getBoundingClientRect();\n            const unitBoundBox = drawingInf.htmlContainer.getBoundingClientRect();\n\n            const offsetLeft = unitBoundBox.left - layoutBoundBox.left;\n            const offsetTop = unitBoundBox.top - layoutBoundBox.top;\n            const tooltipInst = tooltips[i] = tooltips[i] || new TooltipRenderer(layoutContainer,\n                    drawingInf.svgContainer);\n\n            sourceInf.payload = payload;\n            sourceInf.firebolt = this.firebolt;\n            sourceInf.detailFields = context.detailFields();\n            sourceInf.timeDiffs = context.timeDiffsByField();\n            tooltipInst.context(sourceInf);\n            const strategy = strategies[options.strategy];\n            tooltipInst.content(options.strategy || this._strategy, dt, {\n                formatter: strategy,\n                order: options.order\n            })\n                            .config(this.config())\n                            .extent({\n                                x: 0,\n                                y: 0,\n                                width: layoutBoundBox.width,\n                                height: layoutBoundBox.height\n                            })\n                            .offset({\n                                x: offsetLeft + (config.offset.x || 0),\n                                y: offsetTop + (config.offset.y || 0)\n                            });\n\n            if (showInPosition) {\n                tooltipInst.position(tooltipPos.x + pad, tooltipPos.y + pad);\n            } else if (plotDim) {\n                tooltipInst.positionRelativeTo({\n                    x: plotDim.x,\n                    y: plotDim.y,\n                    width: plotDim.width || 0,\n                    height: plotDim.height || 0\n                }, {\n                    orientation: fragmented ?\n                        (showVertically ? 'horizontal' : 'vertical') : undefined\n                });\n            } else {\n                tooltipInst.hide();\n                break;\n            }\n\n            if (fragmented) {\n                const position = tooltipInst._position;\n                const tooltipBoundBox = tooltipInst._tooltipContainer.node().getBoundingClientRect();\n\n                totalHeight += tooltipBoundBox.height + pad;\n                totalWidth += tooltipBoundBox.width + pad;\n                if (showVertically ? totalHeight > drawingInf.height : totalWidth > drawingInf.width) {\n                    break;\n                }\n                boxes.push({\n                    x: position.x,\n                    y: position.y,\n                    width: tooltipBoundBox.width,\n                    height: tooltipBoundBox.height,\n                    tooltip: tooltipInst\n                });\n            }\n        }\n\n        for (const key in tooltips) {\n            if (!enter[key]) {\n                const tooltip = tooltips[key];\n                tooltip.content(payload.action, null);\n                if (!tooltip.getContents().length) {\n                    tooltip.remove();\n                    delete tooltips[key];\n                }\n            }\n        }\n        if (fragmented) {\n            spaceOutBoxes(boxes, boundBox, showVertically);\n            boxes.forEach(box => box.tooltip.position(box.x, box.y, {\n                repositionArrow: true\n            }));\n        }\n        return this;\n    }\n\n    hide (options) {\n        const tooltips = this._tooltips;\n        for (const key in tooltips) {\n            if ({}.hasOwnProperty.call(tooltips, key)) {\n                const strategy = options.strategy || this._strategy;\n                tooltips[key].content(strategy, null);\n                tooltips[key].hide();\n            }\n        }\n    }\n}\n","import { FieldType } from 'muze-utils';\n\nexport const strategies = {\n    showSelectedItems: (dm) => {\n        const dataObj = dm.getData();\n        const measures = dataObj.schema.filter(d => d.type === FieldType.MEASURE);\n        const aggregatedModel = dm.groupBy([''], measures.reduce((acc, v) => {\n            acc[v.name] = v.defAggFn === 'count' ? 'sum' : v.defAggFn;\n            return acc;\n        }, {}));\n        const fieldsObj = dm.getFieldspace().fieldsObj();\n        const fieldsConf = aggregatedModel.getFieldsConfig();\n        let values = [{\n            value: `${dataObj.data.length}`,\n            style: {\n                'font-weight': 'bold'\n            }\n        }, 'Items Selected'];\n        const measureNames = measures.map(d => d.name);\n        if (measureNames.length) {\n            values = [...values, ...[`(${fieldsObj[measureNames[0]].defAggFn().toUpperCase()}) ${measureNames[0]}`,\n                {\n                    value: `${aggregatedModel.getData().data[0][fieldsConf[measureNames[0]].index].toFixed(2)}`,\n                    style: {\n                        'font-weight': 'bold'\n                    }\n                }]];\n        }\n        return [values];\n    }\n};\n","// extracted by mini-css-extract-plugin","export const DRAG = 'drag';\nexport const HOVER = 'hover';\nexport const SELECTIONDRAG = 'selectiondrag';\nexport const CLICK = 'click';\n","export const BRUSH = 'brush';\nexport const HIGHLIGHT = 'highlight';\nexport const TOOLTIP = 'tooltip';\nexport const FILTER = 'filter';\nexport const SELECT = 'select';\n\n","export const CLASSPREFIX = 'muze';\nexport const IDFIELD = '__id__';\nexport const CONFIG = 'config';\nexport const DATAMODEL = 'dataModel';\nexport const AXES = 'axes';\nexport const LAYERDEFS = 'layerDef';\nexport const WIDTH = 'width';\nexport const HEIGHT = 'height';\nexport const MOUNTPOINT = 'mountPoint';\nexport const GRIDLINEPARENTGROUPCLASS = 'grid-lines';\nexport const TRANSFORM = 'transform';\nexport const CONSOLIDATED = 'consolidated';\nexport const FRAGMENTED = 'fragmented';\nexport const DEFAULTCOLOR = '#F44336';\nexport const DEFAULTSIZE = 50;\nexport const DEFAULTSHAPE = 'circle';\nexport const STEP = 'step';\nexport const GRADIENT = 'gradient';\nexport const ORDINAL = 'ordinal';\nexport const SCALE_FUNCTIONS = {\n    size: 'getSize',\n    shape: 'getShape',\n    color: 'getColor'\n};\nexport const TOP = 'top';\nexport const LEFT = 'left';\nexport const RIGHT = 'right';\nexport const BOTTOM = 'bottom';\nexport const HORIZONTAL = 'horizontal';\nexport const VERTICAL = 'vertical';\nexport const CENTER = 'center';\nexport const VALUE = 'value';\nexport const PATH = 'path';\nexport const SHAPE = 'shape';\nexport const ICON = 'icon';\nexport const RECT = 'rect';\nexport const START = 'start';\nexport const UPPER = 'upper';\nexport const LOWER = 'lower';\nexport const END = 'end';\nexport const SIZE = 'size';\nexport const DISCRETE = 'discrete';\nexport const MEASURE = 'measure';\n\n","export const SELECTIONBOX = 'selectionBox';\nexport const Highlighter = 'highlighter';\n\n","import { BEHAVIOURS, ACTIONS } from '@chartshq/muze-firebolt';\n\nconst CLASSPREFIX = 'muze';\n\nexport const actionBehaviourMap = {\n    [ACTIONS.DRAG]: {\n        target: `.${CLASSPREFIX}-gradient-rect`,\n        behaviours: [BEHAVIOURS.BRUSH]\n    },\n    [ACTIONS.HOVER]: {\n        target: [`.${CLASSPREFIX}-legend-columns`],\n        behaviours: [BEHAVIOURS.HIGHLIGHT]\n    },\n    [ACTIONS.CLICK]: {\n        target: [`.${CLASSPREFIX}-legend-columns`],\n        behaviours: [BEHAVIOURS.SELECT]\n    }\n};\n\nexport const propagationBehaviourMap = {\n    [BEHAVIOURS.SELECT]: BEHAVIOURS.FILTER,\n    [BEHAVIOURS.BRUSH]: BEHAVIOURS.HIGHLIGHT\n};\n","import * as BEHAVIOURS from '../enums/behaviours';\nimport * as sideEffects from '../enums/side-effects';\n\nexport const behaviourEffectMap = {\n    [BEHAVIOURS.BRUSH]: [sideEffects.SELECTIONBOX, {\n        name: sideEffects.Highlighter,\n        options: {\n            strategy: 'fade'\n        }\n    }],\n    [BEHAVIOURS.HIGHLIGHT]: [sideEffects.Highlighter],\n    select: [{\n        name: sideEffects.Highlighter,\n        options: {\n            strategy: 'fade'\n        }\n    }]\n};\n\nexport const propagationSideEffects = {\n    [BEHAVIOURS.BRUSH]: [{\n        name: sideEffects.Highlighter,\n        options: {\n            strategy: 'fade'\n        }\n    }],\n    [BEHAVIOURS.HIGHLIGHT]: [{\n        name: sideEffects.Highlighter,\n        options: {\n            strategy: 'fade'\n        }\n    }],\n    [BEHAVIOURS.SELECT]: ['filter']\n};\n\n","export { default as SelectBehaviour } from './select';\n","import { PersistentBehaviour, SELECTION } from '@chartshq/muze-firebolt';\n\nexport default class SelectBehaviour extends PersistentBehaviour {\n    static formalName () {\n        return 'select';\n    }\n\n    setSelectionSet (addSet, selectionSet) {\n        if (addSet === null) {\n            selectionSet.reset();\n        } else if (addSet.length) {\n            // new add set\n            const existingRemoveSet = addSet.filter(d => selectionSet._set[d] === SELECTION.SELECTION_OLD_EXIT\n                || selectionSet._set[d] === SELECTION.SELECTION_NEW_EXIT);\n                // existing add set\n            if (existingRemoveSet.length) {\n                selectionSet.updateEntry();\n                selectionSet.add(existingRemoveSet);\n            } else {\n                selectionSet.updateExit();\n                selectionSet.remove(addSet);\n            }\n            const { exitSet } = selectionSet.getSets();\n            const mergedExitSet = [...new Set(exitSet[1]), ...new Set(exitSet[0])];\n            const completeSetCount = selectionSet.getCompleteSet().length;\n            if (exitSet[1].length !== completeSetCount && mergedExitSet.length === completeSetCount) {\n                selectionSet.reset();\n            }\n        } else {\n            selectionSet.remove(selectionSet.getCompleteSet());\n        }\n        return this;\n    }\n}\n","import { assembleModelFromIdentifiers, getDataModelFromRange } from 'muze-utils';\nimport { propagationBehaviourMap } from './action-behaviour-map';\nimport { propagationSideEffects } from './behaviour-effect-map';\nimport { STEP, GRADIENT, DISCRETE, MEASURE } from '../enums/constants';\n\nexport const propagate = (firebolt, action, selectionSet, config = {}) => {\n    let propagationData;\n    const type = firebolt.context.constructor.type();\n    const payload = config.payload;\n    const data = firebolt.context.data();\n    const metaData = firebolt.context.metaData();\n    const fieldType = metaData.getData().schema[0].type;\n\n    const propPayload = {};\n    const sourceId = firebolt.context._id;\n    propPayload.action = propagationBehaviourMap[action] || action;\n    propPayload.sideEffects = propagationSideEffects[action];\n    propPayload.sourceCanvas = firebolt.context.canvasAlias();\n    const isMutableAction = firebolt._actions.behavioural[propPayload.action].constructor.mutates();\n    if (payload.criteria === null) {\n        propagationData = null;\n    } else {\n        const entrySet = selectionSet.mergedEnter;\n        let values = data.filter(d => entrySet.uids.indexOf(d.id) !== -1).map(d => d.value);\n        if (type === STEP || (type === DISCRETE && fieldType === MEASURE)) {\n            const field = Object.keys(payload.criteria || {})[0];\n            values = data.filter(d => entrySet.uids.indexOf(d.id) !== -1).map(d => d.range);\n            propagationData = values.length ? metaData.select((fields) => {\n                let check = false;\n                for (let i = 0; i < values.length; i++) {\n                    check = fields[field].value >= values[i][0] && fields[field].value <= values[i][1];\n                    if (check === true) {\n                        break;\n                    }\n                }\n                return check;\n            }, {\n                saveChild: false\n            }) : null;\n        } else if (type === GRADIENT) {\n            propagationData = getDataModelFromRange(metaData, payload.criteria);\n        } else if (values.length) {\n            propagationData = assembleModelFromIdentifiers(metaData, [payload.criteria[0], ...values.map(d => [d])]);\n        } else {\n            propPayload.criteria = null;\n            propagationData = metaData.select(() => true, {\n                saveChild: false\n            });\n        }\n    }\n\n    let propagateInterpolatedValues = false;\n\n    if (propagationData) {\n        const schema = propagationData.getSchema();\n        propagateInterpolatedValues = schema.every(d => d.type === fieldType.MEASURE);\n    }\n\n    const propConfig = {\n        sourceId: `legend-${sourceId}`,\n        payload: propPayload,\n        criteria: propPayload.criteria === null ? null : propagationData,\n        isMutableAction,\n        propagateInterpolatedValues,\n        action: propPayload.action\n    };\n\n    metaData.propagate(propagationData, propConfig, true);\n};\n","import { Firebolt } from '@chartshq/muze-firebolt';\nimport { propagate } from './helper';\nimport { STEP, GRADIENT } from '../enums/constants';\n\n/**\n * This class manages the interactions of legend.\n * @export\n * @class LegendFireBolt\n * @extends {Firebolt}\n */\nexport class LegendFireBolt extends Firebolt {\n    constructor (...params) {\n        super(...params);\n        this.initializeSideEffects();\n    }\n\n    getPropagationSelectionSet (selectionSet) {\n        return selectionSet[0];\n    }\n\n    propagate (behaviourName, payload, selectionSet) {\n        propagate(this, behaviourName, selectionSet, {\n            payload\n        });\n    }\n\n    getAddSetFromCriteria (criteria) {\n        let values;\n        let uniqueIds;\n        const type = this.context.constructor.type();\n\n        if (criteria === null) {\n            uniqueIds = null;\n        } else if (type === STEP) {\n            values = Object.values(criteria);\n            uniqueIds = this.context.data().filter(d => values.indexOf(d.range) !== -1).map(d => d.id);\n        } else if (type === GRADIENT) {\n            uniqueIds = [];\n        } else {\n            values = criteria[1];\n            if (values) {\n                uniqueIds = this.context.data().filter(d => values.indexOf(d.value) !== -1).map(d => d.id);\n            } else {\n                values = Object.values(criteria);\n                uniqueIds = this.context.data().filter(d => values.indexOf(d.range) !== -1).map(d => d.id);\n            }\n        }\n        return {\n            uids: uniqueIds,\n            model: null\n        };\n    }\n\n    getFullData () {\n        return null;\n    }\n}\n","/**\n * Adds mouse interactions to target element.\n * @param {VisualUnit} instance instance of visual unit.\n * @param {SVGElement} targetEl Element on which the event listeners will be attached.\n * @param {Array} behaviours Array of behaviours\n */\nconst click = firebolt => (targetEl, behaviours) => {\n    const dispatchBehaviour = function (args) {\n        const payload = {\n            criteria: firebolt.context.getCriteriaFromData(args)\n        };\n        behaviours.forEach(behaviour => firebolt.dispatchBehaviour(behaviour, payload));\n    };\n\n    targetEl.on('click', dispatchBehaviour);\n};\n\nexport default click;\n","import {\n    getEvent,\n    getD3Drag\n } from 'muze-utils';\n\n/**\n * Adds dragging action to the target element.\n * @param {firebolt} firebolt firebolt\n * @param {SVGElement} targetEl Element on which brushing action is needed.\n * @param {Array} behaviours Array of behaviours\n */\n/* istanbul ignore next */ const drag = firebolt => (targetEl, behaviours) => {\n    let startPos = {};\n    let endPos = {};\n    let payload;\n    const d3Drag = getD3Drag();\n    const context = firebolt.context;\n    const boundingBox = context.measurement().gradientDimensions;\n    const axisType = context.config().align === 'horizontal' ? 'x' : 'y';\n    const axisScale = context.axis().source().scale();\n    const rangeShifter = axisScale.range()[axisType === 'x' ? 0 : 1];\n\n    targetEl.call(d3Drag().on('start', () => {\n        const event = getEvent();\n        startPos = {\n            x: event.x,\n            y: event.y\n        };\n    }).on('drag', () => {\n        const event = getEvent();\n\n        endPos = {\n            x: event.x,\n            y: event.y\n        };\n        endPos.x = Math.max(0, Math.min(endPos.x, boundingBox.width));\n        endPos.y = Math.max(0, Math.min(endPos.y, boundingBox.height));\n\n        payload = {\n            criteria: {\n                [context.fieldName()]: [axisScale.invert(startPos[axisType] + rangeShifter * 2),\n                    axisScale.invert(endPos[axisType] + rangeShifter * 2)].sort((a, b) => a - b)\n            }\n        };\n        behaviours.forEach(behaviour => firebolt.dispatchBehaviour(behaviour, payload));\n    }).on('end', () => {\n        const event = getEvent();\n\n        endPos = {\n            x: event.x,\n            y: event.y\n        };\n        endPos.x = Math.max(0, Math.min(endPos.x, boundingBox.width));\n        endPos.y = Math.max(0, Math.min(endPos.y, boundingBox.height));\n        if (startPos[axisType] === endPos[axisType]) {\n            payload = {\n                criteria: {}\n            };\n        } else {\n            payload = {\n                criteria: {\n                    [context.fieldName()]: [axisScale.invert(startPos[axisType] + rangeShifter * 2),\n                        axisScale.invert(endPos[axisType] + rangeShifter * 2)].sort((a, b) => a - b)\n                }\n            };\n        }\n        behaviours.forEach(behaviour => firebolt.dispatchBehaviour(behaviour, payload));\n    }));\n};\n\nexport default drag;\n","import { getEvent } from 'muze-utils';\n\n/**\n * Adds mouse interactions to target element.\n * @param {Firebolt} Firebolt instance of firebolt.\n * @param {SVGElement} targetEl Element on which the event listeners will be attached.\n * @param {Array} behaviours Array of behaviours\n */\n/* istanbul ignore next */ const hover = firebolt => (targetEl, behaviours) => {\n    const dispatchBehaviour = function (args) {\n        const event = getEvent();\n        const payload = {\n            criteria: firebolt.context.getCriteriaFromData(args)\n        };\n        behaviours.forEach(behaviour => firebolt.dispatchBehaviour(behaviour, payload));\n        event.stopPropagation();\n    };\n\n    targetEl.on('mouseover', dispatchBehaviour)\n                    .on('mousemove', dispatchBehaviour)\n                    .on('mouseout', () => {\n                        const event = getEvent();\n                        behaviours.forEach(behaviour => firebolt.dispatchBehaviour(behaviour, {\n                            criteria: null\n                        }));\n                        event.stopPropagation();\n                    });\n};\n\nexport default hover;\n","import drag from './drag';\nimport hover from './hover';\nimport click from './click';\nimport * as ACTIONNAMES from '../../enums/actions';\n\nexport const physicalActions = {\n    [ACTIONNAMES.DRAG]: drag,\n    [ACTIONNAMES.HOVER]: hover,\n    [ACTIONNAMES.CLICK]: click\n};\n\n","import {\n    getMousePos,\n    getEvent,\n    getD3Drag\n } from 'muze-utils';\nimport { HEIGHT, WIDTH, HORIZONTAL } from '../../enums/constants';\n\nconst getSelectionCriteria = (subject, axis, measures) => {\n    let criteria = [];\n    const {\n        axisScale,\n        axisType\n    } = axis;\n    const {\n        startPos,\n        endPos,\n        selectionBoxMeasure,\n        drawingInfMeasure,\n        offset\n    } = measures;\n    const subjectStartPoint = subject[axisType];\n\n    if (startPos[axisType] === endPos[axisType]) {\n        criteria = [];\n    } else if (subjectStartPoint + selectionBoxMeasure >= drawingInfMeasure + offset) {\n        criteria = [axisScale.invert(drawingInfMeasure + offset - selectionBoxMeasure),\n            axisScale.invert(drawingInfMeasure + offset)];\n    } else if (subjectStartPoint - offset < offset) {\n        criteria = [axisScale.invert(offset * 2), axisScale.invert(selectionBoxMeasure + offset * 2)];\n    } else {\n        criteria = [axisScale.invert(subjectStartPoint), axisScale.invert(subjectStartPoint + selectionBoxMeasure)];\n    }\n    axisType === 'x' ? criteria : criteria.reverse();\n    return criteria;\n};\n\nexport const selectionBoxDrag = firebolt => (targetEl, behaviours) => {\n    let startPos = {};\n    let payload;\n    const endPos = {};\n    const d3Drag = getD3Drag();\n    const context = firebolt.context;\n    const axisScale = context.axis().source().scale();\n    const axisType = context.config().align === HORIZONTAL ? 'x' : 'y';\n    const drawingInfMeasure = context.measurement().gradientDimensions[axisType === 'x' ?\n        WIDTH : HEIGHT];\n    const offset = axisScale.range()[axisType === 'x' ? 0 : 1];\n    const measures = {\n        drawingInfMeasure,\n        offset\n    };\n    let subject = {};\n\n    targetEl.call(d3Drag().on('start', function () {\n        const event = getEvent();\n        startPos = getMousePos(this, event.sourceEvent);\n        subject = event.subject;\n    }).on('drag', () => {\n        const event = getEvent();\n        const selectionBoxMeasure = subject[axisType === 'x' ? WIDTH : HEIGHT];\n\n        subject.x += event.dx;\n        subject.y += event.dy;\n\n        measures.selectionBoxMeasure = selectionBoxMeasure;\n        measures.startPos = startPos;\n        measures.endPos = endPos;\n        const criteria = getSelectionCriteria(subject, { axisScale, axisType }, measures);\n\n        payload = {\n            criteria: {\n                [context.fieldName()]: criteria\n            },\n            fadeOut: true\n        };\n        firebolt.dispatchBehaviour(behaviours[0], payload);\n    }).on('end', () => {\n        const event = getEvent();\n        const selectionBoxMeasure = subject[axisType === 'x' ? WIDTH : HEIGHT];\n        measures.selectionBoxMeasure = selectionBoxMeasure;\n        measures.startPos = startPos;\n        measures.endPos = endPos;\n        const criteria = getSelectionCriteria(event, { axisScale, axisType }, measures);\n        payload = {\n            criteria: {\n                [context.fieldName()]: criteria\n            },\n            fadeOut: true,\n            config: {\n                transition: {\n                    duration: 200\n                }\n            }\n        };\n        firebolt.dispatchBehaviour(behaviours[0], payload);\n    }));\n};\n\n","import SelectionBox from './selection-box';\nimport LegendHighlighter from './legend-highlighter';\n\nexport {\n    SelectionBox,\n    LegendHighlighter\n};\n\n","import { GenericSideEffect } from '@chartshq/muze-firebolt';\nimport { strategies } from './strategies';\nimport { Highlighter } from '../../../enums/side-effects';\n\nexport default class LegendHighlighter extends GenericSideEffect {\n    constructor (...params) {\n        super(...params);\n        this._strategies = strategies(this.firebolt);\n        this._strategy = 'brighten';\n    }\n\n    static formalName () {\n        return Highlighter;\n    }\n\n    apply (selectionSet, payload, options = {}) {\n        const strategy = this._strategies[options.strategy || this._strategy];\n\n        strategy(selectionSet, this);\n    }\n}\n","import { selectElement } from 'muze-utils';\n\nexport const strategies = (firebolt) => {\n    const context = firebolt.context;\n    const classed = (set, className, change) => {\n        const classPrefix = context.config().classPrefix;\n        selectElement(context.mount())\n                        .selectAll(`.${classPrefix}-legend-columns`)\n                        .filter(d => set.uids.indexOf(d.id) !== -1)\n                        .selectAll('div')\n                        .classed(className, change);\n    };\n\n    return {\n        fade: (set, config = {}) => {\n            const classPrefix = context.config().classPrefix;\n            if (!set.mergedEnter.length && !set.mergedExit.length) {\n                classed(set.completeSet, config.className || `${classPrefix}-legend-fadeout`, false);\n            } else {\n                classed(set.mergedExit, config.className || `${classPrefix}-legend-brighten`, false);\n                classed(set.mergedExit, config.className || `${classPrefix}-legend-fadeout`, true);\n                classed(set.mergedEnter, config.className || `${classPrefix}-legend-fadeout`, false);\n            }\n        },\n        brighten: (set, config = {}) => {\n            const classPrefix = context.config().classPrefix;\n            if (!set.mergedEnter.length && !set.mergedExit.length) {\n                classed(set.completeSet, config.className || `${classPrefix}-legend-brighten`, false);\n            } else {\n                classed(set.mergedEnter, config.className || `${classPrefix}-legend-brighten`, true);\n                classed(set.mergedExit, config.className || `${classPrefix}-legend-brighten`, false);\n            }\n        }\n    };\n};\n","import { makeElement } from 'muze-utils';\nimport { SpawnableSideEffect } from '@chartshq/muze-firebolt';\nimport { CLASSPREFIX, HEIGHT, WIDTH, HORIZONTAL, RECT } from '../../../enums/constants';\nimport { SELECTIONBOX } from '../../../enums/side-effects';\nimport { selectionBoxDrag } from '../../physical/selection-box-drag';\nimport './styles.scss';\n\n/**\n * This class is used to create a selection box which is used by visual unit for brushing and\n * selection in the canvas.\n * @class SelectionBox\n */\n/* istanbul ignore next */ class SelectionBox extends SpawnableSideEffect {\n    static formalName () {\n        return SELECTIONBOX;\n    }\n\n    /**\n     * It returns the default configuration needed by selectionbox.\n     * @return {Object} Default configuration of the selection box.\n     */\n    static defaultConfig () {\n        return {\n            className: 'legend-selection-box',\n            classPrefix: CLASSPREFIX\n        };\n    }\n\n    /**\n     * Draws the selectionbox with the specified dimensions.\n     */\n    /* istanbul ignore next */ apply (selectionSet, payload) {\n        let x;\n        let y;\n        let width;\n        let height;\n        const firebolt = this.firebolt;\n        const context = firebolt.context;\n        const config = this.config();\n        const axis = context.axis().source();\n        const className = `${config.classPrefix}-${config.className}`;\n\n        const domain = payload.criteria[firebolt.context.fieldName()];\n        const axisScale = axis.scale();\n        const range = domain ? [axis.getScaleValue(domain[0]), axis.getScaleValue(domain[1])] : [];\n\n        const axisType = context.config().align === HORIZONTAL ? 'x' : 'y';\n\n        const gradientDimension = firebolt.context.measurement().gradientDimensions[axisType === 'x' ?\n            HEIGHT : WIDTH];\n\n        const rangeShifter = axisScale.range()[axisType === 'x' ? 0 : 1];\n        const legendGradContainer = context.getDrawingContext().svgContainer;\n        const legendSelGroup = makeElement(legendGradContainer, 'g', [1], `${config.classPrefix}-selection-box-group`);\n\n        if (firebolt.context.config().align === HORIZONTAL) {\n            x = range[0] - rangeShifter || 0;\n            y = 0;\n            width = range[1] - range[0] || 0;\n            height = gradientDimension;\n        } else {\n            x = 0;\n            y = range[1] - rangeShifter || 0;\n            height = range[0] - range[1] || 0;\n            width = gradientDimension;\n        }\n        const enterFn = function (el) {\n            selectionBoxDrag(firebolt)(el, ['brush']);\n        };\n        const selBox = makeElement(legendSelGroup, RECT, [{ domain, x, y, width, height }], className,\n            { enter: enterFn });\n        selBox.attr('y', y)\n                        .attr('x', x)\n                        .attr(WIDTH, width)\n                        .attr(HEIGHT, height);\n    }\n}\n\nexport default SelectionBox;\n\n","// extracted by mini-css-extract-plugin","import './styles.scss';\n\nexport { DiscreteLegend, GradientLegend, SimpleLegend, StepLegend } from './legend';\n","import { getSymbol } from 'muze-utils';\nimport {\n    CENTER,\n    LEFT,\n    RIGHT\n} from '../enums/constants';\n\nexport const ALIGN = {\n    HORIZONTAL: 'horizontal',\n    VERTICAL: 'vertical'\n};\n\nexport const DEFAULT_MEASUREMENT = {\n    height: 30,\n    width: 30,\n    maxWidth: Infinity,\n    maxHeight: Infinity,\n    padding: 2,\n    margin: 2,\n    border: 1\n};\n\nexport const LEGEND_TITLE = {\n    text: '',\n    orientation: (pos) => {\n        if (pos === LEFT || pos === RIGHT) {\n            return LEFT;\n        } return CENTER;\n    }\n};\n\nexport const DEFAULT_CONFIG = {\n    classPrefix: 'muze',\n    borderStyle: 'solid',\n    borderColor: 'rgba(0,0,0,0)',\n    formatter: {\n        bounds: {\n            lower: 'less than',\n            upper: 'more than'\n        }\n    },\n    item: {\n        text: {\n            orientation: 'right',\n            width: 10,\n            formatter: val => val\n        },\n        icon: {\n            className: 'legend-icon',\n            height: 20,\n            width: 20,\n            color: 'rgba(0,0,0,.5)',\n            type: 'square'\n        }\n    }\n};\n\n/**\n * Creates a map of pre defined icons\n *\n * @param {string} icon Accepts a icon name like 'square', 'cross', 'diamond' etc\n * @return {Object} icon object which can be used to draw the icons\n */\nexport const ICON_MAP = (icon) => {\n    if (icon && typeof (icon) === 'string') {\n        return getSymbol(icon);\n    } return icon;\n};\n","import SimpleLegend from './simple-legend';\nimport { DISCRETE, LEFT, SIZE } from '../enums/constants';\nimport { getScaleInfo } from './legend-helper';\nimport { createLegendSkeleton, createItemSkeleton, renderDiscreteItem } from './renderer';\nimport '../styles.scss';\n\n/**\n * Creates a Legend from the axes of a canvas\n *\n * @param {Object} dependencies : legend data\n * @class Legend\n */\nexport default class DiscreteLegend extends SimpleLegend {\n\n    /**\n     * Initializes an instance of the class\n     *\n     * @static\n     * @param {Object} dependencies Set of dependencies required by the legend\n     * @return {Instance} returns a new instance of Legend\n     * @memberof Legend\n     */\n    static create (dependencies) {\n        return new DiscreteLegend(dependencies);\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof DiscreteLegend\n     */\n    static type () {\n        return DISCRETE;\n    }\n\n    /**\n     *\n     *\n     * @param {*} scale\n     *\n     * @memberof DiscreteLegend\n     */\n    dataFromScale (scale) {\n        const { scaleType, domain, scaleFn } = getScaleInfo(scale);\n        let domainForLegend = [...new Set(domain)];\n        const type = this.metaData().getData().schema[0].type;\n\n        domainForLegend = domainForLegend.map((ele, i) => {\n            let value = 0;\n            let range = 0;\n            if (type === 'measure') {\n                value = (+domainForLegend[i]).toFixed(0);\n                const nextVal = domainForLegend[i + 1] ? +domainForLegend[i + 1] : +value;\n                range = [value, nextVal.toFixed(0)];\n            } else {\n                value = domainForLegend[i];\n                range = [domainForLegend[i]];\n            }\n            return {\n                [scaleType]: scale[scaleFn](ele),\n                value,\n                id: i,\n                range\n            };\n        }).filter(d => d.value !== null);\n\n        domainForLegend = scaleType === SIZE ? domainForLegend.sort((a, b) => a[scaleType] - b[scaleType])\n            : domainForLegend;\n        return domainForLegend;\n    }\n\n    /**\n     * Render the legend with its title\n     *\n     * @param {DOM} mountPoint Point where the legend and title are to be appended\n     * @return {Instance} Current instance of legend\n     * @memberof Legend\n     */\n    render () {\n        const firebolt = this.firebolt();\n        const data = this.data();\n        const { classPrefix } = this.config();\n        const legendContainer = super.render(this.mount());\n        // create Legend\n        const { legendItem } = createLegendSkeleton(this, legendContainer, classPrefix, data);\n        const { itemSkeleton } = createItemSkeleton(this, legendItem);\n        renderDiscreteItem(this, itemSkeleton);\n        legendContainer.selectAll('div').style('float', LEFT);\n        firebolt.mapActionsAndBehaviour();\n        firebolt.createSelectionSet(this.data().map(d => d.id));\n        return legendContainer;\n    }\n}\n","import { makeElement, applyStyle } from 'muze-utils';\nimport { ContinousAxis } from '@chartshq/muze-axis';\nimport { BOTTOM, RIGHT } from '../enums/constants';\nimport { ALIGN } from './defaults';\nimport '../styles.scss';\n\n/**\n *\n *\n * @param {*} data\n *\n */\nexport const getGradientDomain = (data) => {\n    if (typeof data[0].value === 'number') {\n        return data.reduce((accumulator, currentValue) =>\n            [Math.min(currentValue.value, accumulator[0]), Math.max(currentValue.value, accumulator[1])],\n                [Number.MAX_VALUE, Number.MIN_VALUE]);\n    }\n    return data.map(e => e.value);\n};\n\n/**\n *\n *\n * @param {*} container\n * @param {*} data\n * @param {*} domain\n *\n */\nexport const makeLinearGradient = (container, data, domain) => {\n    const defs = makeElement(container, 'defs', [1]);\n    const linearGradient = makeElement(defs, 'linearGradient', [1])\n                .attr('id', 'linear-gradient')\n                .attr('x1', '0%')\n                .attr('y2', '0%');\n    makeElement(linearGradient, 'stop', data, 'stop-gradient')\n                    .attr('offset', d => `${(d.value - domain[0]) * 100 / (domain[1] - domain[0])}%`)\n                    .attr('stop-color', d => d.color);\n    return linearGradient;\n};\n\n/**\n * Creates an axis cell with a linear axis for computing space and\n * creating gradient legend\n *\n * @return {AxisCell} Instance of Axis Cell for the gradient axis\n * @memberof Legend\n */\nexport const createAxis = (context) => {\n    const data = context.data();\n    const { align } = context.config();\n    const AxisCell = context._cells.AxisCell;\n    const newAxis = new ContinousAxis({\n        id: `legend-${context._id}`,\n        orientation: align === ALIGN.VERTICAL ? RIGHT : BOTTOM,\n        style: context._computedStyle,\n        nice: false,\n        showAxisName: false,\n        tickValues: data.map(d => d.value),\n        fixedBaseline: false,\n        labels: {\n            rotation: 0\n        }\n    }, { labelManager: context._labelManager });\n\n    newAxis.domain(getGradientDomain(data));\n    newAxis.range([1, 1]);\n    return new AxisCell().source(newAxis).config({\n        margin: { left: 0, bottom: 0, top: 0, right: 0 }\n    });\n};\n\n/**\n *\n *\n * @param {*} container\n * @param {*} data\n * @param {*} classPrefix\n *\n * @memberof GradientLegend\n */\nconst createLegendSkeleton = (container, classPrefix, data) => {\n    const domain = getGradientDomain(data);\n    const legendContainer = makeElement(container, 'div', [1], `${classPrefix}-legend-body`);\n    const legendGradSvg = makeElement(legendContainer, 'svg', [1], `${classPrefix}-gradient`);\n    const legendGradCont = makeElement(legendGradSvg, 'g', [1], `${classPrefix}-gradient-group`);\n    const linearGradient = makeLinearGradient(legendGradSvg, data, domain);\n    const legendRect = makeElement(legendGradCont, 'rect', [1], `${classPrefix}-gradient-rect`);\n\n    return {\n        legendContainer,\n        legendGradCont,\n        legendGradSvg,\n        linearGradient,\n        legendRect\n    };\n};\n\n/**\n * Renders the axis for the gradient\n *\n * @param {Selection} container Point where axis is to be mounted\n * @param {number} height Height for axis\n * @param {number} width Width for axis\n * @memberof Legend\n */\nexport const renderAxis = (context, container, height, width) => {\n    const axis = context.axis();\n\n    axis.setAvailableSpace(width, height);\n    axis.render(container.node());\n    axis.source().render();\n};\n\n/**\n * Renders gradient legends\n *\n * @param {Selection} container Point where the legend is to be appended\n * @memberof GradientLegend\n */\nexport const renderGradient = (context, container) => {\n    let gradHeight = 0;\n    let gradWidth = 0;\n    const {\n        align,\n        classPrefix,\n        item\n    } = context.config();\n    const data = context.data();\n    // Create the skeleton for the legend\n    const {\n        legendContainer,\n        legendGradSvg,\n        legendGradCont,\n        linearGradient,\n        legendRect\n    } = createLegendSkeleton(container, classPrefix, data);\n    const labelDim = context.axis().source().getAxisDimensions().tickDimensions;\n    const {\n        padding,\n        margin,\n        border,\n        titleSpaces,\n        maxHeight,\n        maxWidth,\n        height,\n        width\n    } = context.measurement();\n    const gradientDimensions = {};\n\n    gradHeight = Math.floor(height - (titleSpaces.height + 2 * margin + 2 * border));\n    gradWidth = Math.floor(width - (margin * 2 + border * 2));\n\n    if (align === ALIGN.HORIZONTAL) {\n        gradientDimensions.height = item.icon.height;\n        gradientDimensions.width = gradWidth - 2 * padding - labelDim.width / 2;\n        linearGradient.attr('x2', '100%').attr('y1', '0%');\n        legendGradCont.attr('transform', `translate( ${labelDim.width / 2} 0)`);\n        renderAxis(context, legendContainer, gradHeight - item.icon.height - padding, gradWidth - 2 * padding - 1);\n        legendContainer.classed(`${classPrefix}-overflow-x`, width > maxWidth);\n\n        applyStyle(legendContainer, {\n            height: `${height}px`,\n            width: `${Math.min(width, maxWidth)}px`,\n            padding: `${padding}px`\n        });\n\n        legendRect.attr('height', gradientDimensions.height);\n        legendRect.attr('width', gradientDimensions.width - labelDim.width / 2);\n    } else {\n        gradientDimensions.height = gradHeight - 2 * padding - labelDim.height / 2;\n        gradientDimensions.width = item.icon.width;\n        linearGradient.attr('x2', '0%').attr('y1', '100%');\n        legendGradCont.attr('transform', `translate(0 ${labelDim.height / 2})`);\n        renderAxis(context, legendContainer, gradHeight - 2 * padding - 1, gradWidth - item.icon.width - padding * 2);\n        legendContainer.classed(`${classPrefix}-overflow-y`, height > maxHeight);\n        applyStyle(legendContainer, {\n            height: `${Math.min(height, maxHeight)}px`,\n            width: `${width}px`,\n            padding: `${padding}px`\n        });\n        legendRect.attr('height', gradientDimensions.height - labelDim.height / 2);\n        legendRect.attr('width', gradientDimensions.width);\n    }\n\n    // Apply Styles to the legend plot area\n    applyStyle(legendGradSvg, {\n        height: `${gradientDimensions.height}px`,\n        width: `${gradientDimensions.width}px`\n    });\n\n        // Apply styles to the legend rect\n    applyStyle(legendRect, {\n        fill: 'url(#linear-gradient)'\n    });\n    legendGradSvg.attr('height', gradientDimensions.height);\n    legendGradSvg.attr('width', gradientDimensions.width);\n\n    context.measurement({\n        gradientDimensions\n    });\n    context._legendGradientSvg = legendGradSvg;\n    return context;\n};\n","import SimpleLegend from './simple-legend';\nimport { getScaleInfo, getInterpolatedData } from './legend-helper';\nimport { GRADIENT, LEFT, SIZE } from '../enums/constants';\nimport { renderGradient, createAxis } from './gradient-helper';\nimport '../styles.scss';\n\n/**\n * Creates a Legend from the axes of a canvas\n *\n * @param {Object} dependencies : legend data\n * @class Legend\n */\nexport default class GradientLegend extends SimpleLegend {\n\n    /**\n     * Initializes an instance of the class\n     *\n     * @static\n     * @param {Object} dependencies Set of dependencies required by the legend\n     * @return {Instance} returns a new instance of Legend\n     * @memberof Legend\n     */\n    static create (dependencies) {\n        return new GradientLegend(dependencies);\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof GradientLegend\n     */\n    static type () {\n        return GRADIENT;\n    }\n\n    /**\n     *\n     *\n     * @param {*} axis\n     *\n     * @memberof GradientLegend\n     */\n    axis (...axis) {\n        if (axis.length) {\n            this._axis = axis[0];\n            return this;\n        }\n        return this._axis;\n    }\n\n    /**\n     *\n     *\n     * @param {*} scale\n     *\n     * @memberof GradientLegend\n     */\n    dataFromScale (scale) {\n        let domainForLegend = [];\n        const { scaleType, domain, steps, scaleFn } = getScaleInfo(scale);\n\n        if (steps instanceof Array) {\n            if (domain[0] < steps[0]) {\n                domainForLegend[0] = domain[0];\n            }\n            domainForLegend = [...domainForLegend, ...steps];\n            if (domain[domain.length - 1] > steps[steps.length - 1]) {\n                domainForLegend.push(domain[1]);\n            }\n        } else {\n            domainForLegend = getInterpolatedData(domain, steps - 1);\n        }\n        domainForLegend = [...new Set(domainForLegend)].sort((a, b) => a - b);\n\n        return domainForLegend.map((ele, i) => {\n            const value = domainForLegend[i];\n            return {\n                [scaleType]: scaleType === SIZE ? scale[scaleFn](ele) * scale.getScaleFactor()\n                    : scale[scaleFn](Math.floor(ele)),\n                value: +value.toFixed(2),\n                id: i\n            };\n        }).filter(d => d.value !== null);\n    }\n\n    /**\n     *\n     *\n     * @param {*} effPadding\n     * @param {*} align\n     *\n     * @memberof Legend\n     */\n    getLabelSpaces (effPadding) {\n        this.config({\n            item: {\n                text: {\n                    orientation: this.config().position\n                }\n            }\n        });\n        const axis = createAxis(this);\n        const axisSpace = axis.getLogicalSpace();\n        const space = { width: axisSpace.width - effPadding, height: axisSpace.height - effPadding };\n        const axisDomainLength = axis.source().domain().length;\n        const labelSpaces = new Array(axisDomainLength).fill(space);\n\n        this.axis(axis);\n        return labelSpaces;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof GradientLegend\n     */\n    getDrawingContext () {\n        return {\n            svgContainer: this._legendGradientSvg\n        };\n    }\n\n    /**\n     * Render the legend with its title\n     *\n     * @param {DOM} mountPoint Point where the legend and title are to be appended\n     * @return {Instance} Current instance of legend\n     * @memberof Legend\n     */\n    render () {\n        const firebolt = this.firebolt();\n        const legendContainer = super.render(this.mount());\n        // create Legend\n        renderGradient(this, legendContainer);\n        legendContainer.selectAll('div').style('float', LEFT);\n        firebolt.mapActionsAndBehaviour();\n        firebolt.createSelectionSet(this.data().map(d => d.id));\n        return legendContainer;\n    }\n /**\n     *\n     *\n     * @param {*} data\n     *\n     * @memberof SimpleLegend\n     */\n    getCriteriaFromData (data) {\n        return [[this.fieldName()], [data.value]];\n    }\n}\n","import DiscreteLegend from './discrete-legend';\nimport GradientLegend from './gradient-legend';\nimport SimpleLegend from './simple-legend';\nimport StepLegend from './step-legend';\n\nexport {\n    DiscreteLegend,\n    GradientLegend,\n    SimpleLegend,\n    StepLegend\n};\n","import { makeElement, numberInterpolator } from 'muze-utils';\n\nimport {\n    SCALE_FUNCTIONS,\n    WIDTH,\n    HEIGHT,\n    LEFT,\n    RIGHT,\n    TOP,\n    BOTTOM\n} from '../enums/constants';\n\n/**\n *\n *\n * @param {*} scale\n *\n */\nexport const getScaleInfo = (scale) => {\n    const scaleType = scale.constructor.type();\n    const domain = scale.uniqueValues();\n    const steps = scale.config().stops || 1;\n    const scaleFn = SCALE_FUNCTIONS[scaleType];\n\n    return { scaleType, domain, steps, scaleFn };\n};\n\n/**\n *\n *\n * @param {*} domain\n * @param {*} steps\n *\n */\nexport const getInterpolatedData = (domain, steps) => {\n    const domainForLegend = [];\n    const interpolatedFn = numberInterpolator()(domain[0], domain[1]);\n\n    for (let i = 0; i <= steps; i++) {\n        domainForLegend[i] = interpolatedFn(i / steps);\n    }\n    return domainForLegend;\n};\n\n/**\n *\n *\n * @param {*} container\n * @param {*} text\n * @param {*} measurement\n * @param {*} classPrefix\n */\nexport const titleCreator = (container, title, measurement, config) => {\n    const titleContainer = makeElement(container, 'table', [1], `${config.classPrefix}-legend-title`)\n            .style(WIDTH, `${measurement.width}px`)\n            .style(HEIGHT, `${measurement.height}px`)\n            .style('border-bottom', `${measurement.border}px ${config.borderStyle} ${config.borderColor}`)\n            .style('text-align', title.orientation instanceof Function ?\n                    title.orientation(config.position) : title.orientation);\n    return makeElement(titleContainer, 'td', [1], `${config.classPrefix}-legend-title-text`)\n                    .style(WIDTH, `${measurement.width}px`)\n                    .style(HEIGHT, '100%')\n                    .style('padding', `${measurement.padding}px`)\n                    .text(title.text)\n                    .node();\n};\n\n                                /**\n *\n *\n * @param {*} data\n * @param {*} prop\n * @param {*} labelManager\n *\n */\nexport const getMaxMeasures = (data, prop, labelManager) => {\n    let maxHeight = -Infinity;\n    let maxWidth = -Infinity;\n\n    data.forEach((item) => {\n        const value = prop ? item[prop] : item;\n        const space = labelManager.getOriSize(value);\n        maxHeight = Math.max(space.height + 2, maxHeight);\n        maxWidth = Math.max(space.width + 2, maxWidth);\n    });\n\n    return { height: maxHeight, width: maxWidth };\n};\n\n/**\n *\n *\n * @param {*} data\n * @param {*} prop\n * @param {*} labelManager\n *\n */\nexport const getItemMeasures = (data, prop, labelManager, formatter) => {\n    const space = [];\n\n    data.forEach((item, index) => {\n        const value = prop ? item[prop] : item;\n        const { height, width } = labelManager.getOriSize(formatter(value));\n        space[index] = { height: height + 1, width: width + 1 };\n    });\n    return space;\n};\n\n/**\n *\n *\n * @param {*} textOrientation\n * @param {*} effPadding\n * @param {*} titleSpace\n *\n * @memberof Legend\n */\nexport const computeItemSpaces = (config, measures, data) => {\n    let totalHeight = 0;\n    let totalWidth = 0;\n    let maxItemSpaces = {\n        width: 0, height: 0\n    };\n    const {\n        effPadding,\n        titleWidth,\n        labelSpaces,\n        titleHeight,\n        maxWidth\n    } = measures;\n    const {\n        item,\n        align\n    } = config;\n    const {\n        icon,\n        text\n    } = item;\n    const textOrientation = text.orientation;\n    const itemSpaces = [];\n    const iconSpaces = [];\n    let maxIconWidth = 0;\n    labelSpaces.forEach((labelSpace, i) => {\n        const itemSpace = { width: 0, height: 0 };\n        const iconSpace = { width: 0, height: 0 };\n        const datum = data[i] || {};\n            // Compute each legend item height/width\n        if (textOrientation === LEFT || textOrientation === RIGHT) {\n            // Get label, icon and item widths\n            labelSpace.width += effPadding;\n            iconSpace.width = (datum.size ? 2 * Math.sqrt(datum.size / Math.PI) : icon.width) + effPadding;\n            maxIconWidth = Math.max(iconSpace.width, maxIconWidth);\n            itemSpace.width = labelSpace.width + maxIconWidth;\n\n            // Get label, icon and item heights\n            labelSpace.height = Math.max(labelSpace.height, icon.height) + effPadding;\n            iconSpace.height = labelSpace.height;\n            itemSpace.height = labelSpace.height;\n        } else {\n            // Get label, icon and item widths\n            labelSpace.width = Math.max(labelSpace.width, datum.size ? 2 * Math.sqrt(datum.size / Math.PI)\n            : icon.width) + effPadding;\n            iconSpace.width = labelSpace.width;\n            itemSpace.width = labelSpace.width;\n            maxIconWidth = Math.max(iconSpace.width, maxIconWidth);\n\n            // Get label, icon and item heights\n            labelSpace.height += effPadding;\n            iconSpace.height = icon.height + effPadding;\n            itemSpace.height = labelSpace.height + iconSpace.height;\n        }\n        // Compute height and width of legend for each alignment\n        if (align === 'horizontal') {\n            totalHeight = Math.max(totalHeight, itemSpace.height);\n        } else {\n            totalHeight += itemSpace.height;\n            totalWidth = Math.max(totalWidth, itemSpace.width, titleWidth) + effPadding;\n        }\n        maxItemSpaces = {\n            width: Math.max(itemSpace.width, maxItemSpaces.width),\n            height: Math.max(itemSpace.height, maxItemSpaces.height)\n        };\n        itemSpaces.push(itemSpace);\n        iconSpaces.push(iconSpace);\n    });\n    itemSpaces.forEach((itemSpace, i) => {\n        if (align === 'horizontal') {\n            itemSpace.height = totalHeight;\n            iconSpaces[i].width = maxIconWidth;\n            if (textOrientation === LEFT || textOrientation === RIGHT) {\n                labelSpaces[i].height = totalHeight;\n                iconSpaces[i].height = totalHeight;\n                itemSpaces[i].width = labelSpaces[i].width + maxIconWidth;\n            } else {\n                labelSpaces[i].width = maxIconWidth;\n                itemSpaces[i].width = maxIconWidth;\n                labelSpaces[i].width = maxIconWidth;\n            }\n            totalWidth = Math.max(totalWidth + itemSpaces[i].width);\n        } else {\n            itemSpace.width = Math.max(totalWidth, maxWidth);\n            if (textOrientation === TOP || textOrientation === BOTTOM) {\n                labelSpaces[i].width = totalWidth;\n                iconSpaces[i].width = totalWidth;\n                maxIconWidth = totalWidth;\n            } else {\n                iconSpaces[i].width = maxIconWidth;\n                itemSpaces[i].width = labelSpaces[i].width + maxIconWidth;\n                labelSpaces[i].width = maxItemSpaces.width - maxIconWidth;\n                totalWidth = Math.max(totalWidth, itemSpace.width) + effPadding;\n            }\n        }\n    });\n    totalWidth = Math.max(totalWidth, titleWidth);\n    totalHeight += titleHeight + effPadding;\n\n    return { totalHeight, totalWidth, itemSpaces, iconSpaces, maxItemSpaces, maxIconWidth };\n};\n\n/**\n *\n *\n * @param {*} type\n * @param {*} scaleInfo\n * @param {*} domainInfo\n *\n */\nexport const getDomainBounds = (type, scaleInfo, domainInfo) => {\n    const {\n        scaleFn,\n        scaleType,\n        scale\n    } = scaleInfo;\n    const {\n        domain,\n        domainBounds,\n        domainLeg,\n        steps\n    } = domainInfo;\n    const ele = domain[type === 'lower' ? 0 : domain.length - 1];\n    const step = steps[type === 'lower' ? 0 : steps.length - 1];\n\n    return {\n        [scaleType]: scaleType === 'size' ? scale[scaleFn](ele) * scale.getScaleFactor() : scale[scaleFn](ele),\n        value: domainBounds[type],\n        id: type === 'lower' ? 0 : domainLeg.length + 2,\n        range: [ele, step]\n    };\n};\n","import {\n    LEFT,\n    RIGHT,\n    START,\n    END,\n    TOP,\n    BOTTOM,\n    HORIZONTAL,\n    VERTICAL,\n    CENTER,\n    SHAPE,\n    VALUE\n} from '../enums/constants';\n\nconst legendOrientation = {\n    [HORIZONTAL]: {\n        datasets: data => ({\n            row: [1],\n            column: data\n        }),\n        itemContainerMeasures: (measurement) => {\n            const {\n                itemSpaces,\n                width\n            } = measurement;\n            return {\n                row: {\n                    width: `${width}px`,\n                    padding: `${0}px`\n                },\n                column: {\n                    width: (d, i) => `${itemSpaces[i].width}px`,\n                    padding: `${0}px`\n                }\n            };\n        },\n        getStepSpacesInfo: (measurement) => {\n            const { maxItemSpaces, height } = measurement;\n            return {\n                iconHeight: height,\n                iconWidth: maxItemSpaces.width,\n                stepPadding: {\n                    horizontal: true,\n                    vertical: false\n                }\n            };\n        }\n    },\n    [VERTICAL]: {\n        datasets: data => ({\n            row: data,\n            column: d => [d]\n        }),\n        itemContainerMeasures: (measurement, config) => {\n            const {\n                width\n            } = measurement;\n            const { padding } = config;\n            return {\n                row: {\n                    width: `${width}px`,\n                    padding: `${padding}px`\n                },\n                column: {\n                    width: `${width}px`,\n                    padding: `${0}px`\n                }\n            };\n        },\n        getStepSpacesInfo: (measurement) => {\n            const { maxItemSpaces, width } = measurement;\n            return {\n                iconHeight: maxItemSpaces.height,\n                iconWidth: width,\n                stepPadding: {\n                    horizontal: false,\n                    vertical: true\n                }\n            };\n        }\n    }\n};\n\nexport const positionConfig = {\n    [LEFT]: legendOrientation[VERTICAL],\n    [RIGHT]: legendOrientation[VERTICAL],\n    [TOP]: legendOrientation[HORIZONTAL],\n    [BOTTOM]: legendOrientation[HORIZONTAL]\n};\n\nexport const alignmentMap = {\n    [LEFT]: END,\n    [RIGHT]: START,\n    [TOP]: CENTER,\n    [BOTTOM]: CENTER\n};\n\n// Reverses data for step legend\nexport const stepData = data => ({\n    [LEFT]: data.reverse(),\n    [RIGHT]: data.reverse(),\n    [TOP]: data,\n    [BOTTOM]: data\n});\n\n// Changes the item layout based on the position of the text\nexport const itemStack = {\n    [LEFT]: [VALUE, SHAPE],\n    [RIGHT]: [SHAPE, VALUE],\n    [TOP]: [VALUE, SHAPE],\n    [BOTTOM]: [SHAPE, VALUE]\n};\n","import { mergeRecursive } from 'muze-utils';\n\nexport const PROPS = {\n    config: {\n        sanitization: (context, value) => mergeRecursive(context._config || {}, value)\n    },\n    data: {},\n    fieldName: {},\n    legendContainer: {},\n    measurement: {\n        sanitization: (context, value) => {\n            const measurement = mergeRecursive(context._measurement, value);\n            ['padding', 'border', 'margin'].forEach((space) => {\n                measurement[space] = Math.min(measurement[space] > 0 ? measurement[space] : 0,\n                     measurement.maxWidth * 0.1, measurement.maxHeight * 0.1);\n            });\n            return measurement;\n        }\n    },\n    logicalSpace: {},\n    metaData: {},\n    range: {\n        sanitization: (context, value) => {\n            context.scale().range(value);\n            context.resetLogicalSpace();\n            context.store().commit('range', value);\n            return value;\n        }\n    },\n    scale: {},\n    smartTicks: {},\n    store: {},\n    title: {\n        sanitization: (context, value) => mergeRecursive(context._title || {}, value)\n    }\n};\n","import { makeElement, selectElement, applyStyle } from 'muze-utils';\nimport { ICON_MAP } from './defaults';\nimport { positionConfig, alignmentMap, itemStack } from './position-config';\nimport {\n    WIDTH,\n    HEIGHT,\n    CENTER,\n    VALUE,\n    RECT,\n    LEFT,\n    RIGHT\n} from '../enums/constants';\n\n/**\n *\n *\n * @param {*} container\n * @param {*} data\n * @param {*} legendInstance\n * @param {*} align\n *\n */\nexport const getItemContainers = (container, data, legendInstance) => {\n    const measurement = legendInstance.measurement();\n    const config = legendInstance.config();\n    const {\n        itemSpaces\n    } = measurement;\n    const {\n        classPrefix,\n        position\n    } = config;\n    const positionObj = positionConfig[position];\n    const datasets = positionObj.datasets(data);\n    const measures = positionObj.itemContainerMeasures(measurement, config);\n\n    const rows = makeElement(container, 'div', datasets.row, `${classPrefix}-legend-row`);\n    rows.style(HEIGHT, (d, i) => `${itemSpaces[i].height}px`);\n    rows.style(WIDTH, measures.row.width);\n    rows.style('padding', measures.row.padding);\n\n    const columns = makeElement(rows, 'div', datasets.column, `${classPrefix}-legend-columns`);\n    columns.style(WIDTH, measures.column.width);\n    columns.style('padding', measures.column.padding);\n\n    return columns;\n};\n\n/**\n *\n *\n * @param {*} container\n * @param {*} classPrefix\n * @param {*} data\n *\n * @memberof DiscreteLegend\n */\nexport const createLegendSkeleton = (context, container, classPrefix, data) => {\n    let gradWidth = 0;\n    let gradHeight = 0;\n    let maxGradHeight = 0;\n    let maxGradWidth = 0;\n    const measurement = context.measurement();\n    const {\n            margin,\n            border,\n            titleSpaces,\n            width,\n            height,\n            maxWidth,\n            maxHeight\n        } = measurement;\n\n    gradHeight = height - (titleSpaces.height + 2 * margin + 2 * border);\n    gradWidth = width - (margin * 2 + border * 2);\n\n    maxGradHeight = maxHeight - (titleSpaces.height + margin * 2 + border * 2);\n    maxGradWidth = maxWidth - (margin * 2 + border * 2);\n\n    let legendBody = makeElement(container, 'div', [1], `${classPrefix}-legend-body`);\n    legendBody.select(`.${classPrefix}-legend-overflow`).remove();\n        // Create a div with scroll when overflow\n    if (maxGradWidth && maxGradWidth < gradWidth) {\n        legendBody = legendBody.style(WIDTH, `${maxGradWidth}px`).style('overflow-x', 'scroll');\n    }\n        // Create a div with scroll when overflow\n    if (maxGradHeight && maxGradHeight < gradHeight) {\n        legendBody.style(HEIGHT, `${maxGradHeight}px`).style('overflow-y', 'scroll');\n    }\n\n    legendBody = makeElement(legendBody, 'div', [1], `${classPrefix}-legend-overflow`);\n\n    legendBody.style(WIDTH, `${gradWidth}px`);\n    legendBody.style(HEIGHT, `${gradHeight}px`);\n\n    const legendItem = getItemContainers(legendBody, data, context);\n    return { legendItem };\n};\n\n/**\n * Creates legend item based on alignment and text orientation\n *\n * @param {Selection} container Point where items are to be mounted\n * @return {Instance} Current instance\n * @memberof Legend\n */\nexport const createItemSkeleton = (context, container) => {\n    const {\n        classPrefix,\n        item\n    } = context.config();\n    const textOrientation = item.text.orientation;\n\n    const stack = itemStack[textOrientation];\n    const itemSkeleton = makeElement(container, 'div', (d, i) => stack.map(e => [e, d[e], d.color, d.size,\n        d.value, context.fieldName(), i]), `${classPrefix}-legend-item-info`);\n\n    const alignClass = alignmentMap[textOrientation];\n\n    itemSkeleton.classed(alignClass, true);\n    return { itemSkeleton };\n};\n\n/**\n *\n *\n * @param {*} measureType\n * @param {*} stepColorCheck\n */\nexport const applyItemStyle = (item, measureType, stepColorCheck, context) => {\n    const {\n        padding,\n        labelSpaces,\n        iconSpaces,\n        maxIconWidth\n    } = context.measurement();\n    const diff = stepColorCheck ? -padding * 2 : 0;\n\n    if (item[0] === VALUE) {\n        return `${labelSpaces[item[6]][measureType]}px`;\n    }\n    return `${measureType === 'width' && !stepColorCheck ? maxIconWidth : iconSpaces[item[6]][measureType] - diff}px`;\n};\n\n/**\n *\n *\n * @param {*} str\n *\n */\nconst checkPath = (str) => {\n    if (/^[mzlhvcsqta]\\s*[-+.0-9][^mlhvzcsqta]+/i.test(str) && /[\\dz]$/i.test(str) && str.length > 4) {\n        return true;\n    }\n    return false;\n};\n\n/**\n *\n *\n * @param {*} d\n * @param {*} elem\n */\nconst createShape = function (d, elem, defaultIcon, width, height) {\n    const groupElement = elem;\n    // const { shape, size, update } = d;\n    const size = d[3] || Math.min(width, height) * Math.PI;\n    const shape = d[1] || defaultIcon;\n\n    if (shape instanceof Promise) {\n        shape.then((res) => {\n            d.shape = res;\n            return createShape(d, elem);\n        });\n    } else if (shape instanceof Element) {\n        let newShape = shape.cloneNode(true);\n\n        if (newShape.nodeName.toLowerCase() === 'img') {\n            const src = newShape.src || newShape.href;\n            newShape = document.createElementNS('http://www.w3.org/2000/svg', 'image');\n            newShape.setAttribute('href', src);\n        }\n        const shapeElement = selectElement(newShape);\n        shapeElement.attr('transform', `scale(${size / 100})`);\n        return selectElement(groupElement.node().appendChild(newShape));\n    } else if (typeof shape === 'string') {\n        let pathStr;\n        if (checkPath(shape)) {\n            pathStr = shape;\n        } else {\n            pathStr = ICON_MAP(shape).size(size)();\n        }\n        return makeElement(groupElement, 'path', data => [data]).attr('d', pathStr);\n    }\n    d[1] = 'circle';\n    return createShape(d, elem, 'circle');\n};\n\n/**\n * Returns the icon of the legend item\n *\n * @param {Object} datum Data property attached to the item\n * @param {number} width width of the item\n * @param {number} height height of the item\n * @return {Object|string} returns the path string or the string name of the icon\n * @memberof Legend\n */\nexport const getLegendIcon = (datum, width, height, defaultIcon) => {\n    const icon = ICON_MAP(datum[1]);\n\n    if (icon) {\n        return icon.size(datum[3] || Math.min(width, height) * Math.PI);\n    }\n    return ICON_MAP(datum[3] ? 'circle' : defaultIcon).size(datum[3] || Math.min(width, height) * Math.PI);\n};\n\n/**\n *\n *\n */\nexport const renderIcon = (icon, container, datum, context) => {\n    const {\n        classPrefix,\n        iconHeight,\n        iconWidth,\n        maxIconWidth,\n        padding,\n        color\n    } = context;\n    const svg = makeElement(container, 'svg', f => [f], `${classPrefix}-legend-icon-svg`)\n    .attr(WIDTH, maxIconWidth)\n    .attr(HEIGHT, iconHeight)\n    .style(WIDTH, `${maxIconWidth}px`)\n    .style(HEIGHT, `${iconHeight}px`);\n\n    if (icon !== RECT) {\n        const group = makeElement(svg, 'g', [datum[1]], `${classPrefix}-legend-icon`);\n        createShape(datum, group, datum[3] ? 'circle' : 'square', iconWidth, iconHeight)\n                        .attr('transform', `translate(${maxIconWidth / 2 - padding} ${iconHeight / 2})`)\n                        .attr('fill', datum[2] || color);\n    } else {\n        makeElement(svg, RECT, [datum[1]], `${classPrefix}-legend-icon`)\n                        .attr('x', 0)\n                        .attr('y', 0)\n                        .attr(WIDTH, maxIconWidth)\n                        .attr(HEIGHT, iconHeight)\n                        .attr('fill', datum[2] || color);\n    }\n};\n\n/**\n * Renders the items in the legend i.e, icon and text\n *\n * @param {DOM} container Point where item is to be mounted\n * @memberof Legend\n */\nexport const renderDiscreteItem = (context, container) => {\n    const labelManager = context._labelManager;\n    const {\n           item,\n           classPrefix\n    } = context.config();\n    const {\n        maxIconWidth,\n        padding\n    } = context.measurement();\n    const {\n            width: iconWidth,\n            height: iconHeight,\n            color,\n            className\n        } = item.icon;\n\n    const textOrientation = item.text.orientation;\n    const formatter = item.text.formatter;\n\n    labelManager.useEllipsesOnOverflow(true);\n    applyStyle(container, {\n        width: d => applyItemStyle(d, WIDTH, false, context),\n        height: d => applyItemStyle(d, HEIGHT, false, context),\n        'text-align': CENTER,\n        padding: `${padding}px`\n    });\n\n    labelManager.setStyle(context._computedStyle);\n    container.each(function (d, i) {\n        if (d[0] === VALUE) {\n            selectElement(this).text(formatter(d[1]))\n                            .style(`padding-${textOrientation === RIGHT ? LEFT : RIGHT}`, '0px');\n        } else {\n            // const icon = getLegendIcon(d, iconWidth, iconHeight, type);\n            selectElement(this).classed(`${classPrefix}-${className}`, true);\n            selectElement(this).classed(`${classPrefix}-${className}-${i}`, true);\n            renderIcon('circle', selectElement(this), d, {\n                classPrefix,\n                iconWidth,\n                // iconWidth: 2 * Math.sqrt(d[3] / Math.PI) || iconWidth,\n                iconHeight,\n                maxIconWidth,\n                padding,\n                color\n            });\n        }\n    });\n};\n\n/**\n* Renders the items in the legend i.e, icon and text\n*\n* @param {DOM} container Point where item is to be mounted\n* @memberof Legend\n*/\nexport const renderStepItem = (context, container) => {\n    const labelManager = context._labelManager;\n    const {\n      item,\n      position,\n      classPrefix\n   } = context.config();\n    const {\n      maxItemSpaces,\n      maxIconWidth,\n      padding\n   } = context.measurement();\n    const {\n       width,\n       height,\n       color\n   } = item.icon;\n    const {\n        formatter\n   } = item.text;\n\n    labelManager.useEllipsesOnOverflow(true);\n    const { iconHeight, iconWidth, stepPadding } = positionConfig[position].getStepSpacesInfo({\n        maxItemSpaces, height, width\n    });\n\n    applyStyle(container, {\n        width: d => applyItemStyle(d, WIDTH, stepPadding.horizontal, context),\n        height: d => applyItemStyle(d, HEIGHT, stepPadding.vertical, context),\n        'text-align': 'center',\n        padding: `${padding}px`\n    });\n\n    labelManager.setStyle(context._computedStyle);\n    container.each(function (d) {\n        if (d[0] === VALUE) {\n            selectElement(this).text(formatter(d[1]));\n        } else {\n            renderIcon(RECT, selectElement(this), d, {\n                classPrefix,\n                iconWidth,\n                iconHeight,\n                maxIconWidth,\n                color\n            });\n        }\n    });\n};\n","import {\n    makeElement,\n    selectElement,\n    getUniqueId,\n    getSmartComputedStyle,\n    generateGetterSetters,\n    mergeRecursive\n} from 'muze-utils';\nimport { behaviouralActions } from '@chartshq/muze-firebolt';\nimport * as legendBehaviours from '../firebolt/behavioural';\n\nimport { LegendFireBolt } from '../firebolt/legend-firebolt';\nimport { actionBehaviourMap } from '../firebolt/action-behaviour-map';\nimport { physicalActions } from '../firebolt/physical';\nimport * as sideEffects from '../firebolt/side-effects';\nimport { behaviourEffectMap } from '../firebolt/behaviour-effect-map';\nimport { VALUE, PATH } from '../enums/constants';\nimport { PROPS } from './props';\nimport { DEFAULT_MEASUREMENT, DEFAULT_CONFIG, LEGEND_TITLE } from './defaults';\nimport { getItemMeasures, titleCreator, computeItemSpaces } from './legend-helper';\n\n/**\n * Creates a Legend from the axes of a canvas\n *\n * @param {Object} dependencies : legend data\n * @class SimpleLegend\n */\nexport default class SimpleLegend {\n\n    /**\n     * Creates an instance of Legend.\n     * @param {Object} dependencies Set of dependencies required by the legend\n     * @memberof Legend\n     */\n    constructor (dependencies) {\n        this._data = [];\n        this._metaData = [];\n        this._mount = null;\n        this._fieldName = null;\n        this._title = Object.assign({}, LEGEND_TITLE);\n        this._metaData = null;\n        this._labelManager = dependencies.labelManager;\n        this._cells = dependencies.cells;\n        this._id = getUniqueId();\n        this._measurement = Object.assign({}, this.constructor.defaultMeasurement());\n        this._config = mergeRecursive({}, this.constructor.defaultConfig());\n\n        generateGetterSetters(this, PROPS);\n        this._computedStyle = getSmartComputedStyle(selectElement('body'),\n            `${this.config().classPrefix}-legend-item-info`);\n\n        this._firebolt = new LegendFireBolt(this, {\n            behavioural: Object.assign({}, behaviouralActions, legendBehaviours),\n            physical: physicalActions,\n            physicalBehaviouralMap: actionBehaviourMap\n        }, sideEffects, behaviourEffectMap);\n    }\n\n    id () {\n        return this._id;\n    }\n    /**\n     * Initializes an instance of the class\n     *\n     * @static\n     * @param {Object} dependencies Set of dependencies required by the legend\n     * @return {Instance} returns a new instance of Legend\n     * @memberof Legend\n     */\n    static create (dependencies) {\n        return new SimpleLegend(dependencies);\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof SimpleLegend\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof SimpleLegend\n     */\n    static defaultMeasurement () {\n        return DEFAULT_MEASUREMENT;\n    }\n\n    /**\n     *\n     *\n     * @readonly\n     * @memberof SimpleLegend\n     */\n    firebolt (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this._firebolt;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof Legend\n     */\n    elemType () {\n        return PATH;\n    }\n\n    canvasAlias (...alias) {\n        if (alias.length) {\n            this._canvasAlias = alias[0];\n            return this;\n        }\n        return this._canvasAlias;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof Legend\n     */\n    mount (...params) {\n        if (params.length) {\n            this._mount = params[0];\n            this.render();\n            return this;\n        }\n        return this._mount;\n    }\n\n    /**\n     *\n     *\n     * @param {*} effPadding\n     * @param {*} align\n     *\n     * @memberof Legend\n     */\n    getLabelSpaces () {\n        const {\n            item,\n            classPrefix\n        } = this.config();\n        this._labelManager.setStyle(getSmartComputedStyle(selectElement('body'),\n            `${classPrefix}-legend-item-info`));\n        return getItemMeasures(this.data(), VALUE, this._labelManager, item.text.formatter);\n    }\n\n    /**\n     * Sets the height and width of a legend based on provided max\n     * height and width and based on its contents\n     *\n     * @return {Instance} Current instance\n     * @memberof Legend\n     */\n    setLegendMeasures () {\n        const {\n           width,\n           height,\n           maxWidth,\n           maxHeight,\n           padding,\n           margin,\n           border\n       } = this.measurement();\n        const {\n            align\n        } = this.config();\n\n        // Effective padding, margin and padding\n        const effPadding = padding * 2;\n        const effBorder = border * 2;\n        const effMargin = margin * 2;\n\n        this.data(this.dataFromScale(this.scale()));\n        // Get space occupied by title\n        const titleSpace = this.getTitleSpace();\n        const titleHeight = titleSpace.height > 0 ? titleSpace.height + effPadding : 0;\n        const titleWidth = titleSpace.width + effPadding;\n\n        // Get space occupied by labels\n        const labelSpaces = this.getLabelSpaces(effPadding, align);\n\n        const {\n            totalHeight, totalWidth, itemSpaces, iconSpaces, maxItemSpaces, maxIconWidth\n        } = computeItemSpaces(this.config(),\n        { effPadding, titleWidth, labelSpaces, titleHeight, maxWidth, maxHeight }, this.data());\n\n        this.measurement({\n            width: Math.max(totalWidth, width) + effMargin + effBorder,\n            height: Math.max(totalHeight, height) + effMargin + effBorder,\n            labelSpaces,\n            iconSpaces,\n            itemSpaces,\n            maxItemSpaces,\n            maxIconWidth,\n            titleSpaces: {\n                width: Math.min(maxWidth, this.measurement().width) - effMargin - effBorder,\n                height: titleHeight\n            }\n        });\n        return this;\n    }\n\n    /**\n     * Returns the space occupied by the legend title\n     *\n     * @return {Object} Space occupied by title\n     * @memberof Legend\n     */\n    getTitleSpace () {\n        this._labelManager.setStyle(getSmartComputedStyle(selectElement('body'),\n                                                 `${this.config().classPrefix}-legend-title`));\n        return this._labelManager.getOriSize(this.title().text ? this.title().text : '');\n    }\n\n    /**\n     * Creates the title for the legend\n     *\n     * @param {DOM} container Container made for the title\n     * @return {Selection} Title and it's node\n     * @memberof Legend\n     */\n    renderTitle (container) {\n        const { titleSpaces, border, padding, width } = this.measurement();\n        const { borderStyle, borderColor } = this.config();\n        return titleCreator(container, this.title(), {\n            height: titleSpaces.height,\n            width,\n            border,\n            padding,\n            borderStyle,\n            borderColor\n        }, this.config());\n    }\n\n    /**\n     * Render the legend with its title\n     *\n     * @param {DOM} mountPoint Point where the legend and title are to be appended\n     * @return {Instance} Current instance of legend\n     * @memberof Legend\n     */\n    render () {\n        const firebolt = this.firebolt();\n        const {\n            classPrefix,\n            borderStyle,\n            borderColor\n        } = this.config();\n        const {\n           maxWidth,\n           maxHeight,\n           width,\n           height,\n           margin,\n           border\n       } = this.measurement();\n        const legendContainer = makeElement(selectElement(this.mount()), 'div', [1], `${classPrefix}-legend-box`);\n\n        legendContainer.classed(`${classPrefix}-legend-box-${this._id}`, true);\n        legendContainer.style('float', 'left');\n        // set height and width\n        legendContainer.style('width', `${Math.min(maxWidth, width) - margin * 2}px`)\n                        .style('height', `${Math.min(maxHeight, height) - margin * 2}px`)\n                        .style('margin', `${margin}px`)\n                        .style('border', `${border}px ${borderStyle} ${borderColor}`);\n        this.legendContainer(legendContainer.node());\n\n        // create title\n        this.renderTitle(legendContainer);\n        firebolt.createSelectionSet(this.data().map(d => d.id));\n        return legendContainer;\n    }\n  /**\n     *\n     *\n     * @param {*} data\n     *\n     * @memberof StepLegend\n     */\n    getCriteriaFromData (data) {\n        const fieldName = this.fieldName();\n        const type = this.metaData().getData().schema[0].type;\n        if (type === 'measure') {\n            return {\n                [fieldName]: data.range\n            };\n        }\n        return [[fieldName], [data.value]];\n    }\n}\n","import SimpleLegend from './simple-legend';\nimport {\n    getScaleInfo,\n    getInterpolatedData,\n    getDomainBounds\n} from './legend-helper';\nimport {\n    createLegendSkeleton,\n    createItemSkeleton,\n    renderStepItem\n} from './renderer';\nimport { STEP, RECT, LEFT, SIZE, UPPER, LOWER } from '../enums/constants';\nimport { stepData } from './position-config';\nimport '../styles.scss';\n\n/**\n * Creates a Legend from the axes of a canvas\n *\n * @param {Object} dependencies : legend data\n * @class Legend\n */\nexport default class StepLegend extends SimpleLegend {\n\n    /**\n     * Initializes an instance of the class\n     *\n     * @static\n     * @param {Object} dependencies Set of dependencies required by the legend\n     * @return {Instance} returns a new instance of Legend\n     * @memberof Legend\n     */\n    static create (dependencies) {\n        return new StepLegend(dependencies);\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof StepLegend\n     */\n    static type () {\n        return STEP;\n    }\n\n    /**\n     *\n     *\n     * @param {*} scale\n     *\n     * @memberof StepLegend\n     */\n    dataFromScale (scale) {\n        let domainLeg = [];\n        const { scaleType, domain, steps, scaleFn } = getScaleInfo(scale);\n\n        const { formatter } = this.config();\n        const domainBounds = {\n            lower: null, upper: null\n        };\n\n        if (steps instanceof Array) {\n            if (domain[0] < steps[0]) {\n                domainBounds.lower = [`${formatter.bounds.lower} ${steps[0]}`];\n            }\n            domainLeg = [...domainLeg, ...steps];\n            if (domain[domain.length - 1] > steps[steps.length - 1]) {\n                domainBounds.upper = [`${formatter.bounds.upper} ${steps[steps.length - 1]}`];\n            }\n        } else {\n            domainLeg = getInterpolatedData(domain, steps);\n        }\n\n        domainLeg = [...new Set(domainLeg)].sort((a, b) => a - b);\n        domainLeg = domainLeg.map((ele, i) => {\n            let value = null;\n            if (i < domainLeg.length - 1) {\n                value = `${(ele.toFixed(1))} - ${(+domainLeg[i + 1].toFixed(1))}`;\n            }\n            return {\n                [scaleType]: scaleType === SIZE ? scale[scaleFn](ele) * scale.getScaleFactor() : scale[scaleFn](ele),\n                value,\n                id: i + 1,\n                range: [ele, domainLeg[i + 1]]\n            };\n        }).filter(d => d.value !== null);\n\n        if (domainBounds.lower) {\n            const lowerBounds = getDomainBounds(LOWER, { scale, scaleFn, scaleType },\n                { domain, steps, domainBounds });\n            domainLeg = [lowerBounds, ...domainLeg];\n        }\n        if (domainBounds.upper) {\n            const upperBounds = getDomainBounds(UPPER, { scale, scaleFn, scaleType },\n            { domain, steps, domainBounds, domainLeg });\n            domainLeg = [...domainLeg, upperBounds];\n        }\n        return domainLeg;\n    }\n\n     /**\n     *\n     *\n     * @param {*} effPadding\n     * @param {*} align\n     *\n     * @memberof Legend\n     */\n    getLabelSpaces (effPadding, align) {\n        this.config({\n            item: {\n                text: {\n                    orientation: this.config().position\n                }\n            }\n        });\n        return super.getLabelSpaces(effPadding, align);\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof Legend\n     */\n    elemType () {\n        return RECT;\n    }\n\n     /**\n     * Render the legend with its title\n     *\n     * @param {DOM} mountPoint Point where the legend and title are to be appended\n     * @return {Instance} Current instance of legend\n     * @memberof Legend\n     */\n    render () {\n        const firebolt = this.firebolt();\n        const { classPrefix, position } = this.config();\n        const data = stepData(this.data())[position];\n\n        const legendContainer = super.render(this.mount());\n\n        // create Legend\n        const { legendItem } = createLegendSkeleton(this, legendContainer, classPrefix, data);\n        const { itemSkeleton } = createItemSkeleton(this, legendItem);\n\n        renderStepItem(this, itemSkeleton);\n        legendContainer.selectAll('div').style('float', LEFT);\n        firebolt.mapActionsAndBehaviour();\n        firebolt.createSelectionSet(this.data().map(d => d.id));\n        return legendContainer;\n    }\n\n    /**\n     *\n     *\n     * @param {*} data\n     *\n     * @memberof StepLegend\n     */\n    getCriteriaFromData (data) {\n        const fieldName = this.fieldName();\n        return {\n            [fieldName]: data.range\n        };\n    }\n}\n","// extracted by mini-css-extract-plugin","export const CLASSPREFIX = 'muze';\nexport const ARROW_RIGHT = 'right';\nexport const ARROW_TOP = 'top';\nexport const ARROW_BOTTOM = 'bottom';\nexport const ARROW_LEFT = 'left';\nexport const TOOLTIP_LEFT = 'left';\nexport const TOOLTIP_RIGHT = 'right';\nexport const TOOLTIP_BOTTOM = 'bottom';\nexport const TOOLTIP_TOP = 'top';\nexport const INITIAL_STYLE = {\n    position: 'absolute',\n    width: 0,\n    height: 0\n};\n","import {\n    selectElement,\n    mergeRecursive,\n    makeElement,\n    setAttrs,\n    setStyles,\n    getSymbol,\n    isSimpleObject\n} from 'muze-utils';\nimport { DEFAULT_STRATEGY, strategy } from './strategy';\nimport { defaultConfig } from './default-config';\n\n/**\n * This class is used to manage the content of tooltip.\n */\nexport default class Content {\n    /**\n     * Creates an instance of content.\n     */\n    constructor () {\n        this._model = null;\n        this._strategy = DEFAULT_STRATEGY;\n        this._formatter = null;\n        this._config = this.constructor.defaultConfig();\n    }\n   /**\n     * Returns the default configuration of tooltip\n     * @return {Object} Configuration of tooltip.\n     */\n    static defaultConfig () {\n        const config = defaultConfig.content;\n        config.classPrefix = defaultConfig.classPrefix;\n        return config;\n    }\n\n    config (...c) {\n        if (c.length > 0) {\n            this._config = mergeRecursive(this._config, c[0]);\n            return this;\n        }\n        return this._config;\n    }\n\n    /**\n     * Update model. The format contains presentation strategy which determines how to show the content.\n     * If no strategy is mentioned then default is to show key value pair\n    */\n    update (item) {\n        this._model = item.model;\n        this._strategy = item.strategy !== undefined ? item.strategy : DEFAULT_STRATEGY;\n        this._formatter = item.formatter;\n        return this;\n    }\n\n    context (ctx) {\n        this._context = ctx;\n        return this;\n    }\n\n    render (mount) {\n        let data;\n        const config = this._config;\n        const iconContainerSize = config.iconContainerSize;\n        const formatter = this._formatter;\n        const rowMargin = config.rowMargin;\n        const model = this._model;\n\n        this._mount = mount;\n        if (model instanceof Array) {\n            data = model;\n        } else {\n            data = formatter instanceof Function ? formatter(this._model, this._context) :\n                strategy[this._strategy](this._model, this.config(), this._context);\n        }\n\n        if (data instanceof Function) {\n            mount.html(data());\n        } else {\n            let content = data;\n            let displayFormat = 'default';\n\n            if (isSimpleObject(data)) {\n                content = data.content;\n                displayFormat = data.displayFormat;\n            }\n\n            const body = makeElement(mount, 'div', [displayFormat], `${config.classPrefix}-tooltip-content`, {},\n                d => d);\n\n            if (displayFormat === 'table') {\n                const table = makeElement(body, 'table', [1], `${config.classPrefix}-tooltip-table`);\n                const tbody = makeElement(table, 'tbody', [1], `${config.classPrefix}-tooltip-table-tbody`);\n                const rows = makeElement(tbody, 'tr', content, `${config.classPrefix}-tooltip-table-row`);\n                rows.each(function (d, i) {\n                    selectElement(this).classed(`${config.classPrefix}-tooltip-table-row-${i}`, true);\n                });\n                const cells = makeElement(rows, 'td', d => d, `${config.classPrefix}-tooltip-table-cell`);\n                cells.each(function (d) {\n                    selectElement(this).html(d);\n                });\n            } else {\n                const rows = makeElement(body, 'div', content, `${config.classPrefix}-tooltip-row`);\n                const cells = makeElement(rows, 'span', d => d, `${config.classPrefix}-tooltip-content`);\n                cells.attr('class', `${config.classPrefix}-tooltip-content`);\n                setStyles(rows, {\n                    margin: rowMargin\n                });\n                setStyles(cells, {\n                    display: 'inline-block',\n                    'margin-right': `${config.spacing}px`\n                });\n\n                cells.each(function (d) {\n                    const el = selectElement(this);\n                    el.html('');\n                    if (d instanceof Object) {\n                        if (d.type === 'icon') {\n                            const svg = makeElement(el, 'svg', [1]);\n                            const path = makeElement(svg, 'path', [1]);\n                            const shape = d.shape instanceof Function ? d.shape : getSymbol(d.shape);\n\n                            setAttrs(svg, {\n                                x: 0,\n                                y: 0,\n                                width: iconContainerSize,\n                                height: iconContainerSize\n                            });\n                            setAttrs(path, {\n                                d: shape.size(d.size)(),\n                                transform: `translate(${iconContainerSize / 2}, ${iconContainerSize / 2})`\n                            });\n                            setStyles(path, {\n                                fill: d.color\n                            });\n                            setStyles(svg, {\n                                width: `${iconContainerSize}px`,\n                                height: `${iconContainerSize}px`\n                            });\n                        } else {\n                            el.html(d.value);\n                            d.className && el.classed(d.className, true);\n                            setStyles(el, d.style);\n                        }\n                    } else {\n                        el.html(d);\n                    }\n                });\n            }\n        }\n        return this;\n    }\n\n    clear () {\n        this._model = null;\n        return this;\n    }\n}\n","import { CLASSPREFIX } from './constants';\n\nexport const defaultConfig = {\n    classPrefix: CLASSPREFIX,\n    defClassName: 'tooltip-box',\n    connectorClassName: 'tooltip-connectors',\n    className: '',\n    row: {\n        margin: 0\n    },\n    content: {\n        spacing: 5,\n        iconContainerSize: 10,\n        iconScale: 1,\n        iconShape: 'circle',\n        iconColor: '#ff0000',\n        rowMargin: '0px',\n        margin: 10,\n        separator: ':',\n        className: 'tooltip-content-container',\n        parentClassName: 'tooltip-content-parent-container'\n    },\n    arrow: {\n        size: 10,\n        disabled: false,\n        defClassName: 'tooltip-arrow',\n        className: '',\n        color: 'rgba(195,195,195,0.85)'\n    }\n};\n","import { getQualifiedClassName } from 'muze-utils';\nimport { TOOLTIP_LEFT, TOOLTIP_RIGHT, ARROW_RIGHT, ARROW_LEFT, TOOLTIP_BOTTOM } from './constants';\n\nexport const getArrowPos = (orient, dim, measurement, config) => {\n    let arrowPos;\n    const { x, y, boxHeight, boxWidth } = measurement;\n    const arrowDisabled = config.arrow.disabled;\n    const arrowWidth = arrowDisabled ? 0 : config.arrow.size;\n\n    if (orient === ARROW_LEFT || orient === ARROW_RIGHT) {\n        let start = 0;\n        let diff = boxHeight / 2;\n        const plotBottom = dim.y + dim.height;\n        const boxBottom = y + boxHeight;\n\n        if (dim.y > y) {\n            start = dim.y - y;\n            diff = (plotBottom >= boxBottom ? (boxBottom - dim.y) : dim.height) / 2;\n        } else if (boxBottom > plotBottom) {\n            diff = Math.abs(y - (dim.y + dim.height)) / 2;\n        }\n        arrowPos = start + diff - arrowWidth / 2;\n    } else {\n        let start = 0;\n        let diff = boxWidth / 2;\n        const plotRight = dim.x + dim.width;\n        const boxRight = x + boxWidth;\n\n        if (dim.x > x) {\n            start = dim.x - x;\n            diff = (plotRight >= boxRight ? (boxRight - dim.x) : dim.width) / 2;\n        } else if (boxRight > plotRight) {\n            diff = Math.abs(x - (dim.x + dim.width)) / 2;\n        }\n        arrowPos = start + diff - arrowWidth / 2;\n    }\n    return arrowPos;\n};\n\n/**\n * Places the arrow in the specified arrow position. It also applies appropriate arrow\n * class name to the arrow element.\n * @param {string} position Left, bottom or right position of the arrow;\n * @param {number} arrowPos position of arrow in pixels\n * @return {Tooltip} Instance of tooltip.\n */\nexport const placeArrow = (context, position, arrowPos) => {\n    const tooltipArrow = context._tooltipArrow;\n    const tooltipBackground = context._tooltipBackground;\n    const config = context._config;\n    const classPrefix = config.classPrefix;\n    const arrowConf = config.arrow;\n    const className = getQualifiedClassName(arrowConf.defClassName, context._id, config.classPrefix);\n\n    tooltipArrow.style('display', 'block');\n    tooltipArrow.attr('class', `${className.join(' ')}`);\n    if (position === TOOLTIP_LEFT || position === TOOLTIP_RIGHT) {\n        tooltipArrow.style('top', `${arrowPos}px`);\n        tooltipArrow.style('left', '');\n        tooltipBackground.style('top', `${arrowPos}px`);\n        tooltipBackground.style('left', '');\n    } else {\n        position === TOOLTIP_BOTTOM ? tooltipArrow.style('top', '100%') : tooltipArrow.style('top',\n            `-${arrowConf.size}px`);\n        tooltipArrow.style('left', `${arrowPos}px`);\n        position === TOOLTIP_BOTTOM ? tooltipBackground.style('top', '100%') : tooltipBackground.style('top',\n            `-${arrowConf.size + 3}px`);\n        tooltipBackground.style('left', `${arrowPos}px`);\n    }\n    tooltipArrow.classed(`${classPrefix}-tooltip-arrow`, true);\n    tooltipArrow.classed(`${classPrefix}-tooltip-arrow-${context._arrowOrientation}`, false);\n    tooltipArrow.classed(`${classPrefix}-tooltip-arrow-${position}`, true);\n    tooltipBackground.classed(`${classPrefix}-tooltip-background-arrow`, true);\n    tooltipBackground.classed(`${classPrefix}-tooltip-background-arrow-${context._arrowOrientation}`, false);\n    tooltipBackground.classed(`${classPrefix}-tooltip-background-arrow-${position}`, true);\n    return this;\n};\n\nexport const reorderContainers = (parentContainer, className) => {\n    parentContainer.selectAll(className).sort((a, b) => a - b);\n};\n","export { default as Tooltip } from './tooltip';\n\n","import {\n    getClosestIndexOf,\n    DateTimeFormatter,\n    DimensionSubtype,\n    MeasureSubtype,\n    FieldType\n} from 'muze-utils';\n\nconst timeFormats = {\n    millisecond: '%A, %b %e, %H:%M:%S.%L',\n    second: '%A, %b %e, %H:%M:%S',\n    minute: '%A, %b %e, %H:%M',\n    hour: '%A, %b %e, %H:%M',\n    day: '%A, %b %e, %Y',\n    month: '%B %Y',\n    year: '%Y'\n};\nconst timeDurations = [\n    ['millisecond', 'second', 'minute', 'hour', 'day', 'month', 'year'],\n    [1, 1000, 60000, 3600000, 86400000, 2592000000, 31536000000]\n];\nconst getNearestInterval = (interval) => {\n    const index = getClosestIndexOf(timeDurations[1], interval);\n    return timeDurations[0][index];\n};\nconst defaultTooltipFormatters = (type, formatter) => {\n    const formatters = {\n        [DimensionSubtype.TEMPORAL]: (value, interval) => {\n            const nearestInterval = getNearestInterval(interval);\n            return DateTimeFormatter.formatAs(value, timeFormats[nearestInterval]);\n        },\n        [MeasureSubtype.CONTINUOUS]: value => formatter(value ? value.toFixed(2) : value),\n        [DimensionSubtype.CATEGORICAL]: value => value\n    };\n    return formatters[type];\n};\n\nconst getTabularData = (data, schema, fieldspace, timeDiffs) => {\n    const rows = [];\n    rows.push(schema.map(d => d.name));\n    data.forEach((d) => {\n        const row = [];\n        schema.forEach((fieldObj, i) => {\n            const interval = fieldObj.subtype === DimensionSubtype.TEMPORAL ? timeDiffs[fieldObj.name] : 0;\n            const numberFormat = fieldObj.type === FieldType.MEASURE && fieldspace.fields[i].numberFormat();\n            const formatterFn = defaultTooltipFormatters(fieldObj.subtype || fieldObj.type, numberFormat);\n            const value = formatterFn(d[i], interval);\n            row.push(value);\n        });\n        rows.push(row);\n    });\n    return rows;\n};\n\nexport const buildTooltipData = (dataModel, config = {}, context) => {\n    let fieldValues = [];\n    const dataObj = dataModel.getData();\n    const data = dataObj.data;\n    const schema = dataObj.schema;\n    const formatters = config.formatters;\n    const separator = config.separator;\n    const fieldsConfig = dataModel.getFieldsConfig();\n    const fieldspace = dataModel.getFieldspace();\n    const dimensionMeasureMap = context.dimensionMeasureMap;\n    const axes = context.axes;\n    const detailFields = context.detailFields || [];\n    const dimensions = schema.filter(d => d.type === FieldType.DIMENSION);\n    const measures = schema.filter(d => d.type === FieldType.MEASURE);\n    // const containsRetinalField = schema.find(d => d.name in dimensionMeasureMap);\n    const containsDetailField = schema.find(d => detailFields.indexOf(d.name) !== -1);\n    const timeDiffs = context.timeDiffs;\n    const dataLen = data.length;\n    const getRowContent = (field, type) => {\n        let value;\n        let formattedValue;\n        let measureIndex;\n        const values = [];\n        const index = fieldsConfig[field].index;\n        const interval = fieldsConfig[field].def.subtype === DimensionSubtype.TEMPORAL ?\n                timeDiffs[field] : 0;\n        const formatterFn = (formatters && formatters[field]) || defaultTooltipFormatters(type, val => val);\n\n        if (value !== null) {\n            let uniqueVals = type === MeasureSubtype.CONTINUOUS ? data.map(d => d[index]) :\n                [...new Set(data.map(d => d[index]))];\n            uniqueVals = uniqueVals.filter(d => d !== '');\n            const colorAxis = axes.color[0];\n            const shapeAxis = axes.shape[0];\n            const sizeAxis = axes.size[0];\n            const isRetinalField = (colorAxis || shapeAxis || sizeAxis) && dataLen > 1 &&\n                    type !== MeasureSubtype.CONTINUOUS;\n\n            uniqueVals.forEach((val, i) => {\n                let key;\n                const associatedMeasures = dimensionMeasureMap[field];\n\n                if (associatedMeasures && associatedMeasures.length && dataLen > 1) {\n                    key = val;\n                    let icon = {\n                        value: ''\n                    };\n\n                    if (isRetinalField) {\n                        icon = {\n                            type: 'icon',\n                            color: colorAxis.getColor(val),\n                            shape: shapeAxis.getShape(val),\n                            size: sizeAxis.getSize(val) * config.iconScale\n                        };\n                    }\n                    if (associatedMeasures.length > 1) {\n                        values.push([icon, `${key}`]);\n                        associatedMeasures.forEach((measure) => {\n                            measureIndex = fieldsConfig[measure].index;\n                            value = data[i][measureIndex];\n                            formattedValue = defaultTooltipFormatters(MeasureSubtype.CONTINUOUS,\n                                fieldspace.fields[measureIndex].numberFormat())(value, interval);\n                            values.push([{\n                                value: `${measure}${separator}`,\n                                style: {\n                                    'margin-left': `${config.margin}px}`\n                                },\n                                className: `${config.classPrefix}-tooltip-key`\n                            }, {\n                                value: `${formattedValue}`,\n                                className: `${config.classPrefix}-tooltip-value`\n                            }]);\n                        });\n                    } else {\n                        measureIndex = fieldsConfig[associatedMeasures[0]].index;\n                        value = data[i][measureIndex];\n                        formattedValue = defaultTooltipFormatters(MeasureSubtype.CONTINUOUS,\n                            fieldspace.fields[measureIndex].numberFormat())(value, interval);\n                        values.push([icon, {\n                            value: `${key}${separator}`,\n                            className: `${config.classPrefix}-tooltip-key`\n                        }, {\n                            value: `${formattedValue}`,\n                            className: `${config.classPrefix}-tooltip-value`\n                        }]);\n                    }\n                } else {\n                    key = field;\n                    value = val;\n                    formattedValue = formatterFn(value, interval);\n                    values.push([{\n                        value: `${key}${separator}`,\n                        className: `${config.classPrefix}-tooltip-key`\n                    }, {\n                        value: `${formattedValue}`,\n                        className: `${config.classPrefix}-tooltip-value`\n                    }]);\n                }\n            });\n        }\n        return values;\n    };\n    let displayFormat = 'keyValue';\n\n    if (dataLen > 1 && containsDetailField) {\n        fieldValues = getTabularData(data, schema, fieldspace, timeDiffs);\n        displayFormat = 'table';\n    } else {\n        dimensions.forEach((item) => {\n            const type = item.subtype ? item.subtype : item.type;\n            fieldValues = [...fieldValues, ...getRowContent(item.name, type)];\n        });\n\n        const allMeasures = [...new Set(...Object.values(dimensionMeasureMap))];\n        const filteredMeasures = dataLen > 1 ? measures.filter(d => allMeasures.indexOf(d.name) === -1)\n            : measures;\n\n        filteredMeasures.forEach((item) => {\n            const type = item.subtype ? item.subtype : item.type;\n            fieldValues = [...fieldValues, ...getRowContent(item.name, type)];\n        });\n    }\n\n    return {\n        content: fieldValues,\n        displayFormat\n    };\n};\n\n/**\n * This contains the strategy methods for showing tooltip in the chart.\n * @param {VisualUnit} context Attached instance.\n */\nexport const strategy = {\n    keyValue: (data, config, context) => {\n        const values = buildTooltipData(data, config, context);\n        return values;\n    }\n};\n\nexport const DEFAULT_STRATEGY = 'keyValue';\n","// extracted by mini-css-extract-plugin","import {\n    mergeRecursive,\n    getQualifiedClassName,\n    getUniqueId,\n    selectElement,\n    setStyles,\n    makeElement\n} from 'muze-utils';\nimport { ARROW_BOTTOM, ARROW_LEFT, ARROW_RIGHT, TOOLTIP_LEFT, TOOLTIP_RIGHT, TOOLTIP_BOTTOM, TOOLTIP_TOP,\n    INITIAL_STYLE } from './constants';\nimport { defaultConfig } from './default-config';\nimport { getArrowPos, placeArrow, reorderContainers } from './helper';\nimport './styles.scss';\nimport Content from './content';\n\n/**\n * This component is responsible for creating a tooltip element. It appends the tooltip\n * in the body element.\n * @class Tooltip\n */\nexport default class Tooltip {\n    /**\n     * Initializes the tooltip with the container element and configuration\n     * @param {HTMLElement} container container where the tooltip will be mounted.\n     * @param {string} className Class name of the tooltip.\n     */\n    constructor (htmlContainer, svgContainer) {\n        let connectorContainer = svgContainer;\n        this._id = getUniqueId();\n        this._config = {};\n        this.config({});\n        const tooltipConf = this._config;\n        const classPrefix = tooltipConf.classPrefix;\n        const contentClass = tooltipConf.content.parentClassName;\n        const container = makeElement(htmlContainer, 'div', [1], `${classPrefix}-tooltip-container`);\n        this._container = container;\n        this._tooltipContainer = container.append('div').style('position', 'absolute');\n        this._contentContainer = this._tooltipContainer.append('div').attr('class', `${classPrefix}-${contentClass}`);\n        this._tooltipBackground = this._tooltipContainer.append('div').style('position', 'relative');\n        this._tooltipArrow = this._tooltipContainer.append('div');\n\n        if (!svgContainer) {\n            connectorContainer = htmlContainer.append('svg').style('pointer-events', 'none');\n        }\n        this._contents = {};\n        this._tooltipConnectorContainer = selectElement(connectorContainer)\n            .append('g')\n            .attr('class', `${tooltipConf.classPrefix}-${tooltipConf.connectorClassName}`);\n        const id = this._id;\n        const defClassName = tooltipConf.defClassName;\n        const qualifiedClassName = getQualifiedClassName(defClassName, id, tooltipConf.classPrefix);\n\n        setStyles(this._tooltipArrow, INITIAL_STYLE);\n        setStyles(this._tooltipBackground, INITIAL_STYLE);\n        this.addClass(qualifiedClassName.join(' '));\n        this.addClass(tooltipConf.className);\n        this.hide();\n    }\n\n    /**\n     * Sets the configuration of tooltip.\n     * @param {Object} config Configuration of tooltip\n     * @return {Tooltip} Instance of tooltip\n     */\n    config (...config) {\n        if (config.length > 0) {\n            const defConf = mergeRecursive({}, this.constructor.defaultConfig());\n            this._config = mergeRecursive(defConf, config[0]);\n            return this;\n        }\n        return this._config;\n    }\n\n    /**\n     * Returns the default configuration of tooltip\n     * @return {Object} Configuration of tooltip.\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n    /**\n     * Sets the class name of tooltip\n     * @param {string} className tooltip class name\n     * @return {Tooltip} Instance of tooltip.\n     */\n    addClass (className) {\n        this._tooltipContainer.classed(className, true);\n        return this;\n    }\n\n    context (...ctx) {\n        if (ctx.length) {\n            this._context = ctx[0];\n            return this;\n        }\n        return this._context;\n    }\n\n    content (name, data, contentConfig = {}) {\n        const config = this.config();\n        const { classPrefix } = config;\n        const contentClass = config.content.className;\n        const formatter = config.formatter;\n        const className = contentConfig.className || `${classPrefix}-${contentClass}-${name}`;\n        const content = this._contents[name] = this._contents[name] || new Content();\n        const container = makeElement(this._contentContainer, 'div', [contentConfig.order], className);\n        container.attr('class', `${classPrefix}-${contentClass} ${className}`);\n        reorderContainers(this._contentContainer, `.${classPrefix}-${contentClass}`);\n        const contentConf = config.content;\n        contentConfig.classPrefix = this._config.classPrefix;\n        content.config(contentConf);\n\n        if (data === null) {\n            content.clear();\n            container.remove();\n            delete this._contents[name];\n        } else {\n            content.update({\n                model: data,\n                formatter: contentConfig.formatter || formatter\n            });\n            content.context(this._context);\n            content.render(container);\n        }\n\n        if (!Object.keys(this._contents).length) {\n            this.hide();\n        }\n        return this;\n    }\n\n    getContents () {\n        return Object.values(this._contents);\n    }\n\n    /**\n     * Positions the tooltip at the given x and y position.\n     * @param {number} x x position\n     * @param {number} y y position\n     * @return {Tooltip} Instance of tooltip.\n     */\n    position (x, y, conf = {}) {\n        if (!Object.keys(this._contents).length) {\n            this.hide();\n            return this;\n        }\n        this.show();\n        const target = this._target;\n        const repositionArrow = conf.repositionArrow;\n\n        if (target && repositionArrow) {\n            const node = this._tooltipContainer.node();\n            const config = this._config;\n            const arrowDisabled = config.arrow.disabled;\n            const arrowWidth = arrowDisabled ? 0 : config.arrow.size;\n            const arrowOrient = this._arrowOrientation;\n            const outsidePlot = arrowOrient === ARROW_LEFT || arrowOrient === ARROW_RIGHT ?\n                (y + node.offsetHeight - arrowWidth) < target.y || y > (target.y + target.height) :\n                (x + node.offsetWidth - arrowWidth) < target.x || x > (target.x + target.width);\n\n            if (!arrowDisabled) {\n                if (outsidePlot) {\n                    let path;\n                    this._tooltipArrow.style('display', 'none');\n                    this._tooltipBackground.style('display', 'none');\n                    this._tooltipConnectorContainer.style('display', 'block');\n                    const connector = this._tooltipConnectorContainer.selectAll('path').data([1]);\n                    const enter = connector.enter().append('path');\n                    if (arrowOrient === ARROW_LEFT) {\n                        path = `M ${x} ${y + node.offsetHeight / 2} L ${target.x + target.width}`\n                            + ` ${target.y + target.height / 2}`;\n                    } else if (arrowOrient === ARROW_RIGHT) {\n                        path = `M ${x + node.offsetWidth} ${y + node.offsetHeight / 2}`\n                                + ` L ${target.x} ${target.y + target.height / 2}`;\n                    } else if (arrowOrient === ARROW_BOTTOM) {\n                        path = `M ${x + node.offsetWidth / 2} ${y + node.offsetHeight}`\n                            + ` L ${target.x + target.width / 2} ${target.y}`;\n                    }\n                    enter.merge(connector).attr('d', path).style('display', 'block');\n                } else {\n                    const arrowPos = getArrowPos(arrowOrient, target, {\n                        x,\n                        y,\n                        boxHeight: node.offsetHeight,\n                        boxWidth: node.offsetWidth\n                    }, this._config);\n\n                    placeArrow(this, this._arrowOrientation, arrowPos);\n                    this._tooltipConnectorContainer.style('display', 'none');\n                }\n            }\n        }\n\n        const offset = this._offset || {\n            x: 0,\n            y: 0\n        };\n        this._tooltipContainer.style('left', `${offset.x + x}px`).style('top',\n            `${offset.y + y}px`);\n\n        return this;\n    }\n\n    /**\n     * Positions the tooltip relative to a rectangular box. It takes care of tooltip overflowing the\n     * boundaries.\n     * @param {Object} dim Dimensions of the plot.\n     */\n    positionRelativeTo (dim, tooltipConf = {}) {\n        let obj;\n        let orientation = tooltipConf.orientation;\n        this.show();\n        if (!dim) {\n            this.hide();\n            return this;\n        }\n\n        const extent = this._extent;\n        const node = this._tooltipContainer.node();\n\n        this._tooltipContainer.style('top', '0px')\n                        .style('left', '0px');\n        const offsetWidth = node.offsetWidth + 2;\n        const offsetHeight = node.offsetHeight + 2;\n        const config = this._config;\n        const offset = this._offset;\n        const arrowDisabled = config.arrow.disabled;\n        const arrowSize = arrowDisabled ? 0 : config.arrow.size;\n        const draw = tooltipConf.draw !== undefined ? tooltipConf.draw : true;\n        const topSpace = dim.y;\n        // When there is no space in right\n        const dimX = dim.x + dim.width + offset.x;\n        const rightSpace = extent.width - dimX;\n        const leftSpace = dim.x + offset.x - extent.x;\n        const positionTop = topSpace > (offsetHeight + arrowSize);\n        const positionRight = rightSpace >= offsetWidth + arrowSize;\n        const positionLeft = leftSpace >= offsetWidth + arrowSize;\n\n        const positionHorizontal = () => {\n            let position;\n            let x = dim.x + dim.width;\n            let y = dim.y;\n\n            if (positionRight) {\n                position = TOOLTIP_LEFT;\n                x += arrowSize;\n            } else if (positionLeft) {\n                x = dim.x - offsetWidth;\n                position = TOOLTIP_RIGHT;\n                x -= arrowSize;\n            } else {\n                position = 'left';\n                x += arrowSize;\n            }\n            if (dim.height < offsetHeight) {\n                y = Math.max(0, dim.y + dim.height / 2 - offsetHeight / 2);\n            }\n\n            const arrowPos = getArrowPos(position, dim, {\n                x,\n                y,\n                boxHeight: offsetHeight,\n                boxWidth: offsetWidth\n            }, this._config);\n\n            return {\n                position,\n                arrowPos,\n                x,\n                y\n            };\n        };\n\n        const positionVertical = () => {\n            let position;\n            let y;\n            // Position tooltip at the center of plot\n            let x = dim.x - offsetWidth / 2 + dim.width / 2;\n\n            // Overflows to the right\n            if ((extent.width - (dim.x + offset.x)) < offsetWidth) {\n                x = extent.width - offsetWidth - offset.x;\n            } else if ((x + offset.x) < extent.x) { // Overflows to the left\n                x = extent.x;\n            }\n\n            if (positionTop) {\n                y = dim.y - offsetHeight - arrowSize;\n                position = TOOLTIP_BOTTOM;\n            } else {\n                y = dim.y + dim.height + arrowSize;\n                position = TOOLTIP_TOP;\n            }\n\n            const arrowPos = getArrowPos(position, dim, {\n                x,\n                y,\n                boxHeight: offsetHeight,\n                boxWidth: offsetWidth\n            }, this._config);\n\n            return {\n                position,\n                arrowPos,\n                x,\n                y\n            };\n        };\n\n        this._target = dim;\n        if (!orientation) {\n            if (positionTop) {\n                orientation = 'vertical';\n            } else if (positionRight || positionLeft) {\n                orientation = 'horizontal';\n            } else {\n                orientation = 'vertical';\n            }\n        }\n\n        if (orientation === 'horizontal') {\n            obj = positionHorizontal();\n        } else if (orientation === 'vertical') {\n            obj = positionVertical();\n        }\n\n        this._position = {\n            x: obj.x,\n            y: obj.y\n        };\n\n        this._arrowPos = obj.arrowPos;\n        if (!arrowDisabled) {\n            placeArrow(this, obj.position, obj.arrowPos);\n        } else {\n            this._tooltipArrow.style('display', 'none');\n            this._tooltipBackground.style('display', 'none');\n        }\n        this._arrowOrientation = obj.position;\n        draw && this.position(obj.x, obj.y);\n        return this;\n    }\n\n    /**\n     * Hides the tooltip element.\n     * @return {Tooltip} Instance of tooltip.\n     */\n    hide () {\n        this._tooltipContainer.style('display', 'none');\n        this._tooltipConnectorContainer.style('display', 'none');\n        return this;\n    }\n\n    /**\n     * Shows the tooltip element.\n     * @return {Tooltip} Instance of tooltip.\n     */\n    show () {\n        this._tooltipContainer.style('display', 'block');\n        return this;\n    }\n\n    extent (extent) {\n        this._extent = extent;\n        return this;\n    }\n\n    offset (offset) {\n        this._offset = offset;\n        return this;\n    }\n\n    remove () {\n        this._tooltipContainer.remove();\n        this._tooltipBackground.remove();\n        this._tooltipConnectorContainer.remove();\n        return this;\n    }\n}\n","var array = Array.prototype;\n\nexport var slice = array.slice;\nexport var map = array.map;\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {pair} from \"./pairs\";\n\nexport default function(values0, values1, reduce) {\n  var n0 = values0.length,\n      n1 = values1.length,\n      values = new Array(n0 * n1),\n      i0,\n      i1,\n      i,\n      value0;\n\n  if (reduce == null) reduce = pair;\n\n  for (i0 = i = 0; i0 < n0; ++i0) {\n    for (value0 = values0[i0], i1 = 0; i1 < n1; ++i1, ++i) {\n      values[i] = reduce(value0, values1[i1]);\n    }\n  }\n\n  return values;\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","import variance from \"./variance\";\n\nexport default function(array, f) {\n  var v = variance(array, f);\n  return v ? Math.sqrt(v) : v;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null) {\n            if (min > value) min = value;\n            if (max < value) max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return [min, max];\n}\n","import {slice} from \"./array\";\nimport bisect from \"./bisect\";\nimport constant from \"./constant\";\nimport extent from \"./extent\";\nimport identity from \"./identity\";\nimport range from \"./range\";\nimport {tickStep} from \"./ticks\";\nimport sturges from \"./threshold/sturges\";\n\nexport default function() {\n  var value = identity,\n      domain = extent,\n      threshold = sturges;\n\n  function histogram(data) {\n    var i,\n        n = data.length,\n        x,\n        values = new Array(n);\n\n    for (i = 0; i < n; ++i) {\n      values[i] = value(data[i], i, data);\n    }\n\n    var xz = domain(values),\n        x0 = xz[0],\n        x1 = xz[1],\n        tz = threshold(values, x0, x1);\n\n    // Convert number of thresholds into uniform thresholds.\n    if (!Array.isArray(tz)) {\n      tz = tickStep(x0, x1, tz);\n      tz = range(Math.ceil(x0 / tz) * tz, x1, tz); // exclusive\n    }\n\n    // Remove any thresholds outside the domain.\n    var m = tz.length;\n    while (tz[0] <= x0) tz.shift(), --m;\n    while (tz[m - 1] > x1) tz.pop(), --m;\n\n    var bins = new Array(m + 1),\n        bin;\n\n    // Initialize bins.\n    for (i = 0; i <= m; ++i) {\n      bin = bins[i] = [];\n      bin.x0 = i > 0 ? tz[i - 1] : x0;\n      bin.x1 = i < m ? tz[i] : x1;\n    }\n\n    // Assign data to bins by value, ignoring any outside the domain.\n    for (i = 0; i < n; ++i) {\n      x = values[i];\n      if (x0 <= x && x <= x1) {\n        bins[bisect(tz, x, 0, m)].push(data[i]);\n      }\n    }\n\n    return bins;\n  }\n\n  histogram.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(_), histogram) : value;\n  };\n\n  histogram.domain = function(_) {\n    return arguments.length ? (domain = typeof _ === \"function\" ? _ : constant([_[0], _[1]]), histogram) : domain;\n  };\n\n  histogram.thresholds = function(_) {\n    return arguments.length ? (threshold = typeof _ === \"function\" ? _ : Array.isArray(_) ? constant(slice.call(_)) : constant(_), histogram) : threshold;\n  };\n\n  return histogram;\n}\n","export default function(x) {\n  return x;\n}\n","export {default as bisect, bisectRight, bisectLeft} from \"./bisect\";\nexport {default as ascending} from \"./ascending\";\nexport {default as bisector} from \"./bisector\";\nexport {default as cross} from \"./cross\";\nexport {default as descending} from \"./descending\";\nexport {default as deviation} from \"./deviation\";\nexport {default as extent} from \"./extent\";\nexport {default as histogram} from \"./histogram\";\nexport {default as thresholdFreedmanDiaconis} from \"./threshold/freedmanDiaconis\";\nexport {default as thresholdScott} from \"./threshold/scott\";\nexport {default as thresholdSturges} from \"./threshold/sturges\";\nexport {default as max} from \"./max\";\nexport {default as mean} from \"./mean\";\nexport {default as median} from \"./median\";\nexport {default as merge} from \"./merge\";\nexport {default as min} from \"./min\";\nexport {default as pairs} from \"./pairs\";\nexport {default as permute} from \"./permute\";\nexport {default as quantile} from \"./quantile\";\nexport {default as range} from \"./range\";\nexport {default as scan} from \"./scan\";\nexport {default as shuffle} from \"./shuffle\";\nexport {default as sum} from \"./sum\";\nexport {default as ticks, tickIncrement, tickStep} from \"./ticks\";\nexport {default as transpose} from \"./transpose\";\nexport {default as variance} from \"./variance\";\nexport {default as zip} from \"./zip\";\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      max;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        max = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && value > max) {\n            max = value;\n          }\n        }\n      }\n    }\n  }\n\n  return max;\n}\n","import number from \"./number\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      m = n,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) sum += value;\n      else --m;\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) sum += value;\n      else --m;\n    }\n  }\n\n  if (m) return sum / m;\n}\n","import ascending from \"./ascending\";\nimport number from \"./number\";\nimport quantile from \"./quantile\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      numbers = [];\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) {\n        numbers.push(value);\n      }\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) {\n        numbers.push(value);\n      }\n    }\n  }\n\n  return quantile(numbers.sort(ascending), 0.5);\n}\n","export default function(arrays) {\n  var n = arrays.length,\n      m,\n      i = -1,\n      j = 0,\n      merged,\n      array;\n\n  while (++i < n) j += arrays[i].length;\n  merged = new Array(j);\n\n  while (--n >= 0) {\n    array = arrays[n];\n    m = array.length;\n    while (--m >= 0) {\n      merged[--j] = array[m];\n    }\n  }\n\n  return merged;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      min;\n\n  if (valueof == null) {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = values[i]) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = values[i]) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  else {\n    while (++i < n) { // Find the first comparable value.\n      if ((value = valueof(values[i], i, values)) != null && value >= value) {\n        min = value;\n        while (++i < n) { // Compare the remaining values.\n          if ((value = valueof(values[i], i, values)) != null && min > value) {\n            min = value;\n          }\n        }\n      }\n    }\n  }\n\n  return min;\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n","export default function(array, f) {\n  if (f == null) f = pair;\n  var i = 0, n = array.length - 1, p = array[0], pairs = new Array(n < 0 ? 0 : n);\n  while (i < n) pairs[i] = f(p, p = array[++i]);\n  return pairs;\n}\n\nexport function pair(a, b) {\n  return [a, b];\n}\n","export default function(array, indexes) {\n  var i = indexes.length, permutes = new Array(i);\n  while (i--) permutes[i] = array[indexes[i]];\n  return permutes;\n}\n","import number from \"./number\";\n\nexport default function(values, p, valueof) {\n  if (valueof == null) valueof = number;\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","import ascending from \"./ascending\";\n\nexport default function(values, compare) {\n  if (!(n = values.length)) return;\n  var n,\n      i = 0,\n      j = 0,\n      xi,\n      xj = values[j];\n\n  if (compare == null) compare = ascending;\n\n  while (++i < n) {\n    if (compare(xi = values[i], xj) < 0 || compare(xj, xj) !== 0) {\n      xj = xi, j = i;\n    }\n  }\n\n  if (compare(xj, xj) === 0) return j;\n}\n","export default function(array, i0, i1) {\n  var m = (i1 == null ? array.length : i1) - (i0 = i0 == null ? 0 : +i0),\n      t,\n      i;\n\n  while (m) {\n    i = Math.random() * m-- | 0;\n    t = array[m + i0];\n    array[m + i0] = array[i + i0];\n    array[i + i0] = t;\n  }\n\n  return array;\n}\n","export default function(values, valueof) {\n  var n = values.length,\n      i = -1,\n      value,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (value = +values[i]) sum += value; // Note: zero and null are equivalent.\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (value = +valueof(values[i], i, values)) sum += value;\n    }\n  }\n\n  return sum;\n}\n","import {map} from \"../array\";\nimport ascending from \"../ascending\";\nimport number from \"../number\";\nimport quantile from \"../quantile\";\n\nexport default function(values, min, max) {\n  values = map.call(values, number).sort(ascending);\n  return Math.ceil((max - min) / (2 * (quantile(values, 0.75) - quantile(values, 0.25)) * Math.pow(values.length, -1 / 3)));\n}\n","import deviation from \"../deviation\";\n\nexport default function(values, min, max) {\n  return Math.ceil((max - min) / (3.5 * deviation(values) * Math.pow(values.length, -1 / 3)));\n}\n","export default function(values) {\n  return Math.ceil(Math.log(values.length) / Math.LN2) + 1;\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    start = Math.ceil(start / step);\n    stop = Math.floor(stop / step);\n    ticks = new Array(n = Math.ceil(stop - start + 1));\n    while (++i < n) ticks[i] = (start + i) * step;\n  } else {\n    start = Math.floor(start * step);\n    stop = Math.ceil(stop * step);\n    ticks = new Array(n = Math.ceil(start - stop + 1));\n    while (++i < n) ticks[i] = (start - i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","import min from \"./min\";\n\nexport default function(matrix) {\n  if (!(n = matrix.length)) return [];\n  for (var i = -1, m = min(matrix, length), transpose = new Array(m); ++i < m;) {\n    for (var j = -1, n, row = transpose[i] = new Array(n); ++j < n;) {\n      row[j] = matrix[j][i];\n    }\n  }\n  return transpose;\n}\n\nfunction length(d) {\n  return d.length;\n}\n","import number from \"./number\";\n\nexport default function(values, valueof) {\n  var n = values.length,\n      m = 0,\n      i = -1,\n      mean = 0,\n      value,\n      delta,\n      sum = 0;\n\n  if (valueof == null) {\n    while (++i < n) {\n      if (!isNaN(value = number(values[i]))) {\n        delta = value - mean;\n        mean += delta / ++m;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n\n  else {\n    while (++i < n) {\n      if (!isNaN(value = number(valueof(values[i], i, values)))) {\n        delta = value - mean;\n        mean += delta / ++m;\n        sum += delta * (value - mean);\n      }\n    }\n  }\n\n  if (m > 1) return sum / (m - 1);\n}\n","import transpose from \"./transpose\";\n\nexport default function() {\n  return transpose(arguments);\n}\n","export {\n  axisTop,\n  axisRight,\n  axisBottom,\n  axisLeft\n} from \"./src/axis\";\n","export var slice = Array.prototype.slice;\n","import {slice} from \"./array\";\nimport identity from \"./identity\";\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + (x + 0.5) + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + (y + 0.5) + \")\";\n}\n\nfunction number(scale) {\n  return function(d) {\n    return +scale(d);\n  };\n}\n\nfunction center(scale) {\n  var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n  if (scale.round()) offset = Math.round(offset);\n  return function(d) {\n    return +scale(d) + offset;\n  };\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickTransform = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + 0.5,\n        range1 = +range[range.length - 1] + 0.5,\n        position = (scale.bandwidth ? center : number)(scale.copy()),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"#000\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"#000\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"#000\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"))\n        .style('transform', tickTransform);\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient == right\n            ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter\n            : \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter);\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d)); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.tickTransform = function(_) {\n    return arguments.length ? (tickTransform = _, axis) : tickTransform;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  return axis;\n}\n\nexport function axisTop(scale) {\n  return axis(top, scale);\n}\n\nexport function axisRight(scale) {\n  return axis(right, scale);\n}\n\nexport function axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nexport function axisLeft(scale) {\n  return axis(left, scale);\n}\n","export default function(x) {\n  return x;\n}\n","export {default as nest} from \"./src/nest\";\nexport {default as set} from \"./src/set\";\nexport {default as map} from \"./src/map\";\nexport {default as keys} from \"./src/keys\";\nexport {default as values} from \"./src/values\";\nexport {default as entries} from \"./src/entries\";\n","export default function(map) {\n  var entries = [];\n  for (var key in map) entries.push({key: key, value: map[key]});\n  return entries;\n}\n","export default function(map) {\n  var keys = [];\n  for (var key in map) keys.push(key);\n  return keys;\n}\n","export var prefix = \"$\";\n\nfunction Map() {}\n\nMap.prototype = map.prototype = {\n  constructor: Map,\n  has: function(key) {\n    return (prefix + key) in this;\n  },\n  get: function(key) {\n    return this[prefix + key];\n  },\n  set: function(key, value) {\n    this[prefix + key] = value;\n    return this;\n  },\n  remove: function(key) {\n    var property = prefix + key;\n    return property in this && delete this[property];\n  },\n  clear: function() {\n    for (var property in this) if (property[0] === prefix) delete this[property];\n  },\n  keys: function() {\n    var keys = [];\n    for (var property in this) if (property[0] === prefix) keys.push(property.slice(1));\n    return keys;\n  },\n  values: function() {\n    var values = [];\n    for (var property in this) if (property[0] === prefix) values.push(this[property]);\n    return values;\n  },\n  entries: function() {\n    var entries = [];\n    for (var property in this) if (property[0] === prefix) entries.push({key: property.slice(1), value: this[property]});\n    return entries;\n  },\n  size: function() {\n    var size = 0;\n    for (var property in this) if (property[0] === prefix) ++size;\n    return size;\n  },\n  empty: function() {\n    for (var property in this) if (property[0] === prefix) return false;\n    return true;\n  },\n  each: function(f) {\n    for (var property in this) if (property[0] === prefix) f(this[property], property.slice(1), this);\n  }\n};\n\nfunction map(object, f) {\n  var map = new Map;\n\n  // Copy constructor.\n  if (object instanceof Map) object.each(function(value, key) { map.set(key, value); });\n\n  // Index array by numeric index or specified key function.\n  else if (Array.isArray(object)) {\n    var i = -1,\n        n = object.length,\n        o;\n\n    if (f == null) while (++i < n) map.set(i, object[i]);\n    else while (++i < n) map.set(f(o = object[i], i, object), o);\n  }\n\n  // Convert object to map.\n  else if (object) for (var key in object) map.set(key, object[key]);\n\n  return map;\n}\n\nexport default map;\n","import map from \"./map\";\n\nexport default function() {\n  var keys = [],\n      sortKeys = [],\n      sortValues,\n      rollup,\n      nest;\n\n  function apply(array, depth, createResult, setResult) {\n    if (depth >= keys.length) {\n      if (sortValues != null) array.sort(sortValues);\n      return rollup != null ? rollup(array) : array;\n    }\n\n    var i = -1,\n        n = array.length,\n        key = keys[depth++],\n        keyValue,\n        value,\n        valuesByKey = map(),\n        values,\n        result = createResult();\n\n    while (++i < n) {\n      if (values = valuesByKey.get(keyValue = key(value = array[i]) + \"\")) {\n        values.push(value);\n      } else {\n        valuesByKey.set(keyValue, [value]);\n      }\n    }\n\n    valuesByKey.each(function(values, key) {\n      setResult(result, key, apply(values, depth, createResult, setResult));\n    });\n\n    return result;\n  }\n\n  function entries(map, depth) {\n    if (++depth > keys.length) return map;\n    var array, sortKey = sortKeys[depth - 1];\n    if (rollup != null && depth >= keys.length) array = map.entries();\n    else array = [], map.each(function(v, k) { array.push({key: k, values: entries(v, depth)}); });\n    return sortKey != null ? array.sort(function(a, b) { return sortKey(a.key, b.key); }) : array;\n  }\n\n  return nest = {\n    object: function(array) { return apply(array, 0, createObject, setObject); },\n    map: function(array) { return apply(array, 0, createMap, setMap); },\n    entries: function(array) { return entries(apply(array, 0, createMap, setMap), 0); },\n    key: function(d) { keys.push(d); return nest; },\n    sortKeys: function(order) { sortKeys[keys.length - 1] = order; return nest; },\n    sortValues: function(order) { sortValues = order; return nest; },\n    rollup: function(f) { rollup = f; return nest; }\n  };\n}\n\nfunction createObject() {\n  return {};\n}\n\nfunction setObject(object, key, value) {\n  object[key] = value;\n}\n\nfunction createMap() {\n  return map();\n}\n\nfunction setMap(map, key, value) {\n  map.set(key, value);\n}\n","import {default as map, prefix} from \"./map\";\n\nfunction Set() {}\n\nvar proto = map.prototype;\n\nSet.prototype = set.prototype = {\n  constructor: Set,\n  has: proto.has,\n  add: function(value) {\n    value += \"\";\n    this[prefix + value] = value;\n    return this;\n  },\n  remove: proto.remove,\n  clear: proto.clear,\n  values: proto.keys,\n  size: proto.size,\n  empty: proto.empty,\n  each: proto.each\n};\n\nfunction set(object, f) {\n  var set = new Set;\n\n  // Copy constructor.\n  if (object instanceof Set) object.each(function(value) { set.add(value); });\n\n  // Otherwise, assume it’s an array.\n  else if (object) {\n    var i = -1, n = object.length;\n    if (f == null) while (++i < n) set.add(object[i]);\n    else while (++i < n) set.add(f(object[i], i, object));\n  }\n\n  return set;\n}\n\nexport default set;\n","export default function(map) {\n  var values = [];\n  for (var key in map) values.push(map[key]);\n  return values;\n}\n","import define, {extend} from \"./define\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex3 = /^#([0-9a-f]{3})$/,\n    reHex6 = /^#([0-9a-f]{6})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: function() {\n    return this.rgb().hex();\n  },\n  toString: function() {\n    return this.rgb() + \"\";\n  }\n});\n\nexport default function color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format])\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (0 <= this.r && this.r <= 255)\n        && (0 <= this.g && this.g <= 255)\n        && (0 <= this.b && this.b <= 255)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: function() {\n    return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n  },\n  toString: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","export {default as color, rgb, hsl} from \"./color\";\nexport {default as lab, hcl, lch, gray} from \"./lab\";\nexport {default as cubehelix} from \"./cubehelix\";\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\n// https://beta.observablehq.com/@mbostock/lab-and-rgb\nvar K = 18,\n    Xn = 0.96422,\n    Yn = 1,\n    Zn = 0.82521,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) {\n    if (isNaN(o.h)) return new Lab(o.l, 0, 0, o.opacity);\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = rgb2lrgb(o.r),\n      g = rgb2lrgb(o.g),\n      b = rgb2lrgb(o.b),\n      y = xyz2lab((0.2225045 * r + 0.7168786 * g + 0.0606169 * b) / Yn), x, z;\n  if (r === g && g === b) x = z = y; else {\n    x = xyz2lab((0.4360747 * r + 0.3850649 * g + 0.1430804 * b) / Xn);\n    z = xyz2lab((0.0139322 * r + 0.0971045 * g + 0.7141733 * b) / Zn);\n  }\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport function gray(l, opacity) {\n  return new Lab(l, 0, 0, opacity == null ? 1 : opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - K * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    x = Xn * lab2xyz(x);\n    y = Yn * lab2xyz(y);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      lrgb2rgb( 3.1338561 * x - 1.6168667 * y - 0.4906146 * z),\n      lrgb2rgb(-0.9787684 * x + 1.9161415 * y + 0.0334540 * z),\n      lrgb2rgb( 0.0719453 * x - 0.2289914 * y + 1.4052427 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction lrgb2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2lrgb(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  if (o.a === 0 && o.b === 0) return new Hcl(NaN, 0, o.l, o.opacity);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function lch(l, c, h, opacity) {\n  return arguments.length === 1 ? hclConvert(l) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + K * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - K * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return labConvert(this).rgb();\n  }\n}));\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","var noop = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","export {default as dispatch} from \"./dispatch\";\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {event, customEvent, select, mouse, touch} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag\";\nimport noevent, {nopropagation} from \"./noevent\";\nimport constant from \"./constant\";\nimport DragEvent from \"./event\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return \"ontouchstart\" in this;\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var gesture = beforestart(\"mouse\", container.apply(this, arguments), mouse, this, arguments);\n    if (!gesture) return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n    nodrag(event.view);\n    nopropagation();\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\");\n  }\n\n  function mousemoved() {\n    noevent();\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\");\n  }\n\n  function mouseupped() {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent();\n    gestures.mouse(\"end\");\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.changedTouches,\n        c = container.apply(this, arguments),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(touches[i].identifier, c, touch, this, arguments)) {\n        nopropagation();\n        gesture(\"start\");\n      }\n    }\n  }\n\n  function touchmoved() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent();\n        gesture(\"drag\");\n      }\n    }\n  }\n\n  function touchended() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation();\n        gesture(\"end\");\n      }\n    }\n  }\n\n  function beforestart(id, container, point, that, args) {\n    var p = point(container, id), s, dx, dy,\n        sublisteners = listeners.copy();\n\n    if (!customEvent(new DragEvent(drag, \"beforestart\", s, id, active, p[0], p[1], 0, 0, sublisteners), function() {\n      if ((event.subject = s = subject.apply(that, args)) == null) return false;\n      dx = s.x - p[0] || 0;\n      dy = s.y - p[1] || 0;\n      return true;\n    })) return;\n\n    return function gesture(type) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[id] = gesture, n = active++; break;\n        case \"end\": delete gestures[id], --active; // nobreak\n        case \"drag\": p = point(container, id), n = active; break;\n      }\n      customEvent(new DragEvent(drag, type, s, id, n, p[0] + dx, p[1] + dy, p[0] - p0[0], p[1] - p0[1], sublisteners), sublisteners.apply, sublisteners, [type, that, args]);\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","export default function DragEvent(target, type, subject, id, active, x, y, dx, dy, dispatch) {\n  this.target = target;\n  this.type = type;\n  this.subject = subject;\n  this.identifier = id;\n  this.active = active;\n  this.x = x;\n  this.y = y;\n  this.dx = dx;\n  this.dy = dy;\n  this._ = dispatch;\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","export {default as drag} from \"./drag\";\nexport {default as dragDisable, yesdrag as dragEnable} from \"./nodrag\";\n","import {select} from \"d3-selection\";\nimport noevent from \"./noevent\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","import {event} from \"d3-selection\";\n\nexport function nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nexport default function() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","var overshoot = 1.70158;\n\nexport var backIn = (function custom(s) {\n  s = +s;\n\n  function backIn(t) {\n    return t * t * ((s + 1) * t - s);\n  }\n\n  backIn.overshoot = custom;\n\n  return backIn;\n})(overshoot);\n\nexport var backOut = (function custom(s) {\n  s = +s;\n\n  function backOut(t) {\n    return --t * t * ((s + 1) * t + s) + 1;\n  }\n\n  backOut.overshoot = custom;\n\n  return backOut;\n})(overshoot);\n\nexport var backInOut = (function custom(s) {\n  s = +s;\n\n  function backInOut(t) {\n    return ((t *= 2) < 1 ? t * t * ((s + 1) * t - s) : (t -= 2) * t * ((s + 1) * t + s) + 2) / 2;\n  }\n\n  backInOut.overshoot = custom;\n\n  return backInOut;\n})(overshoot);\n","var b1 = 4 / 11,\n    b2 = 6 / 11,\n    b3 = 8 / 11,\n    b4 = 3 / 4,\n    b5 = 9 / 11,\n    b6 = 10 / 11,\n    b7 = 15 / 16,\n    b8 = 21 / 22,\n    b9 = 63 / 64,\n    b0 = 1 / b1 / b1;\n\nexport function bounceIn(t) {\n  return 1 - bounceOut(1 - t);\n}\n\nexport function bounceOut(t) {\n  return (t = +t) < b1 ? b0 * t * t : t < b3 ? b0 * (t -= b2) * t + b4 : t < b6 ? b0 * (t -= b5) * t + b7 : b0 * (t -= b8) * t + b9;\n}\n\nexport function bounceInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - bounceOut(1 - t) : bounceOut(t - 1) + 1) / 2;\n}\n","export function circleIn(t) {\n  return 1 - Math.sqrt(1 - t * t);\n}\n\nexport function circleOut(t) {\n  return Math.sqrt(1 - --t * t);\n}\n\nexport function circleInOut(t) {\n  return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","var tau = 2 * Math.PI,\n    amplitude = 1,\n    period = 0.3;\n\nexport var elasticIn = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticIn(t) {\n    return a * Math.pow(2, 10 * --t) * Math.sin((s - t) / p);\n  }\n\n  elasticIn.amplitude = function(a) { return custom(a, p * tau); };\n  elasticIn.period = function(p) { return custom(a, p); };\n\n  return elasticIn;\n})(amplitude, period);\n\nexport var elasticOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticOut(t) {\n    return 1 - a * Math.pow(2, -10 * (t = +t)) * Math.sin((t + s) / p);\n  }\n\n  elasticOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticOut.period = function(p) { return custom(a, p); };\n\n  return elasticOut;\n})(amplitude, period);\n\nexport var elasticInOut = (function custom(a, p) {\n  var s = Math.asin(1 / (a = Math.max(1, a))) * (p /= tau);\n\n  function elasticInOut(t) {\n    return ((t = t * 2 - 1) < 0\n        ? a * Math.pow(2, 10 * t) * Math.sin((s - t) / p)\n        : 2 - a * Math.pow(2, -10 * t) * Math.sin((s + t) / p)) / 2;\n  }\n\n  elasticInOut.amplitude = function(a) { return custom(a, p * tau); };\n  elasticInOut.period = function(p) { return custom(a, p); };\n\n  return elasticInOut;\n})(amplitude, period);\n","export function expIn(t) {\n  return Math.pow(2, 10 * t - 10);\n}\n\nexport function expOut(t) {\n  return 1 - Math.pow(2, -10 * t);\n}\n\nexport function expInOut(t) {\n  return ((t *= 2) <= 1 ? Math.pow(2, 10 * t - 10) : 2 - Math.pow(2, 10 - 10 * t)) / 2;\n}\n","export {\n  linear as easeLinear\n} from \"./linear\";\n\nexport {\n  quadInOut as easeQuad,\n  quadIn as easeQuadIn,\n  quadOut as easeQuadOut,\n  quadInOut as easeQuadInOut\n} from \"./quad\";\n\nexport {\n  cubicInOut as easeCubic,\n  cubicIn as easeCubicIn,\n  cubicOut as easeCubicOut,\n  cubicInOut as easeCubicInOut\n} from \"./cubic\";\n\nexport {\n  polyInOut as easePoly,\n  polyIn as easePolyIn,\n  polyOut as easePolyOut,\n  polyInOut as easePolyInOut\n} from \"./poly\";\n\nexport {\n  sinInOut as easeSin,\n  sinIn as easeSinIn,\n  sinOut as easeSinOut,\n  sinInOut as easeSinInOut\n} from \"./sin\";\n\nexport {\n  expInOut as easeExp,\n  expIn as easeExpIn,\n  expOut as easeExpOut,\n  expInOut as easeExpInOut\n} from \"./exp\";\n\nexport {\n  circleInOut as easeCircle,\n  circleIn as easeCircleIn,\n  circleOut as easeCircleOut,\n  circleInOut as easeCircleInOut\n} from \"./circle\";\n\nexport {\n  bounceOut as easeBounce,\n  bounceIn as easeBounceIn,\n  bounceOut as easeBounceOut,\n  bounceInOut as easeBounceInOut\n} from \"./bounce\";\n\nexport {\n  backInOut as easeBack,\n  backIn as easeBackIn,\n  backOut as easeBackOut,\n  backInOut as easeBackInOut\n} from \"./back\";\n\nexport {\n  elasticOut as easeElastic,\n  elasticIn as easeElasticIn,\n  elasticOut as easeElasticOut,\n  elasticInOut as easeElasticInOut\n} from \"./elastic\";\n","export function linear(t) {\n  return +t;\n}\n","var exponent = 3;\n\nexport var polyIn = (function custom(e) {\n  e = +e;\n\n  function polyIn(t) {\n    return Math.pow(t, e);\n  }\n\n  polyIn.exponent = custom;\n\n  return polyIn;\n})(exponent);\n\nexport var polyOut = (function custom(e) {\n  e = +e;\n\n  function polyOut(t) {\n    return 1 - Math.pow(1 - t, e);\n  }\n\n  polyOut.exponent = custom;\n\n  return polyOut;\n})(exponent);\n\nexport var polyInOut = (function custom(e) {\n  e = +e;\n\n  function polyInOut(t) {\n    return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;\n  }\n\n  polyInOut.exponent = custom;\n\n  return polyInOut;\n})(exponent);\n","export function quadIn(t) {\n  return t * t;\n}\n\nexport function quadOut(t) {\n  return t * (2 - t);\n}\n\nexport function quadInOut(t) {\n  return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;\n}\n","var pi = Math.PI,\n    halfPi = pi / 2;\n\nexport function sinIn(t) {\n  return 1 - Math.cos(t * halfPi);\n}\n\nexport function sinOut(t) {\n  return Math.sin(t * halfPi);\n}\n\nexport function sinInOut(t) {\n  return (1 - Math.cos(pi * t)) / 2;\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  this.fill = match[1] || \" \";\n  this.align = match[2] || \">\";\n  this.sign = match[3] || \"-\";\n  this.symbol = match[4] || \"\";\n  this.zero = !!match[5];\n  this.width = match[6] && +match[6];\n  this.comma = !!match[7];\n  this.precision = match[8] && +match[8].slice(1);\n  this.trim = !!match[9];\n  this.type = match[10] || \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (i0 > 0) { if (!+s[i]) break out; i0 = 0; } break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import formatPrefixAuto from \"./formatPrefixAuto\";\nimport formatRounded from \"./formatRounded\";\n\nexport default {\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","export default function(x) {\n  return x;\n}\n","export {default as formatDefaultLocale, format, formatPrefix} from \"./defaultLocale\";\nexport {default as formatLocale} from \"./locale\";\nexport {default as formatSpecifier} from \"./formatSpecifier\";\nexport {default as precisionFixed} from \"./precisionFixed\";\nexport {default as precisionPrefix} from \"./precisionPrefix\";\nexport {default as precisionRound} from \"./precisionRound\";\n","import exponent from \"./exponent\";\nimport formatGroup from \"./formatGroup\";\nimport formatNumerals from \"./formatNumerals\";\nimport formatSpecifier from \"./formatSpecifier\";\nimport formatTrim from \"./formatTrim\";\nimport formatTypes from \"./formatTypes\";\nimport {prefixExponent} from \"./formatPrefixAuto\";\nimport identity from \"./identity\";\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n      currency = locale.currency,\n      decimal = locale.decimal,\n      numerals = locale.numerals ? formatNumerals(locale.numerals) : identity,\n      percent = locale.percent || \"%\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision == null && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Perform the initial formatting.\n        var valueNegative = value < 0;\n        value = formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero during formatting, treat as positive.\n        if (valueNegative && +value === 0) valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import exponent from \"./exponent\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import {basis} from \"./basis\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import constant from \"./constant\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b -= a, function(t) {\n    return d.setTime(a + b * t), d;\n  };\n}\n","export default function(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n","import {hcl as colorHcl} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction hcl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHcl(start)).h, (end = colorHcl(end)).h),\n        c = color(start.c, end.c),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.c = c(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hcl(hue);\nexport var hclLong = hcl(color);\n","import {hsl as colorHsl} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction hsl(hue) {\n  return function(start, end) {\n    var h = hue((start = colorHsl(start)).h, (end = colorHsl(end)).h),\n        s = color(start.s, end.s),\n        l = color(start.l, end.l),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.h = h(t);\n      start.s = s(t);\n      start.l = l(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n}\n\nexport default hsl(hue);\nexport var hslLong = hsl(color);\n","import {hue} from \"./color\";\n\nexport default function(a, b) {\n  var i = hue(+a, +b);\n  return function(t) {\n    var x = i(t);\n    return x - 360 * Math.floor(x / 360);\n  };\n}\n","export {default as interpolate} from \"./value\";\nexport {default as interpolateArray} from \"./array\";\nexport {default as interpolateBasis} from \"./basis\";\nexport {default as interpolateBasisClosed} from \"./basisClosed\";\nexport {default as interpolateDate} from \"./date\";\nexport {default as interpolateDiscrete} from \"./discrete\";\nexport {default as interpolateHue} from \"./hue\";\nexport {default as interpolateNumber} from \"./number\";\nexport {default as interpolateObject} from \"./object\";\nexport {default as interpolateRound} from \"./round\";\nexport {default as interpolateString} from \"./string\";\nexport {interpolateTransformCss, interpolateTransformSvg} from \"./transform/index\";\nexport {default as interpolateZoom} from \"./zoom\";\nexport {default as interpolateRgb, rgbBasis as interpolateRgbBasis, rgbBasisClosed as interpolateRgbBasisClosed} from \"./rgb\";\nexport {default as interpolateHsl, hslLong as interpolateHslLong} from \"./hsl\";\nexport {default as interpolateLab} from \"./lab\";\nexport {default as interpolateHcl, hclLong as interpolateHclLong} from \"./hcl\";\nexport {default as interpolateCubehelix, cubehelixLong as interpolateCubehelixLong} from \"./cubehelix\";\nexport {default as piecewise} from \"./piecewise\";\nexport {default as quantize} from \"./quantize\";\n","import {lab as colorLab} from \"d3-color\";\nimport color from \"./color\";\n\nexport default function lab(start, end) {\n  var l = color((start = colorLab(start)).l, (end = colorLab(end)).l),\n      a = color(start.a, end.a),\n      b = color(start.b, end.b),\n      opacity = color(start.opacity, end.opacity);\n  return function(t) {\n    start.l = l(t);\n    start.a = a(t);\n    start.b = b(t);\n    start.opacity = opacity(t);\n    return start + \"\";\n  };\n}\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return a + b * t;\n  };\n}\n","import value from \"./value\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","export default function piecewise(interpolate, values) {\n  var i = 0, n = values.length - 1, v = values[0], I = new Array(n < 0 ? 0 : n);\n  while (i < n) I[i] = interpolate(v, v = values[++i]);\n  return function(t) {\n    var i = Math.max(0, Math.min(n - 1, Math.floor(t *= n)));\n    return I[i](t - i);\n  };\n}\n","export default function(interpolator, n) {\n  var samples = new Array(n);\n  for (var i = 0; i < n; ++i) samples[i] = interpolator(i / (n - 1));\n  return samples;\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis\";\nimport basisClosed from \"./basisClosed\";\nimport nogamma, {gamma} from \"./color\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  return a = +a, b -= a, function(t) {\n    return Math.round(a + b * t);\n  };\n}\n","import number from \"./number\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import number from \"../number\";\nimport {parseCss, parseSvg} from \"./parse\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import decompose, {identity} from \"./decompose\";\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nexport function parseCss(value) {\n  if (value === \"none\") return identity;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb\";\nimport array from \"./array\";\nimport date from \"./date\";\nimport number from \"./number\";\nimport object from \"./object\";\nimport string from \"./string\";\nimport constant from \"./constant\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : Array.isArray(b) ? array\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","var rho = Math.SQRT2,\n    rho2 = 2,\n    rho4 = 4,\n    epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nexport default function(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0 ≅ u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    }\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    }\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n}\n","export {default as path} from \"./path\";\n","var pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","import colors from \"../colors\";\n\nexport default colors(\"7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666\");\n","import colors from \"../colors\";\n\nexport default colors(\"1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666\");\n","import colors from \"../colors\";\n\nexport default colors(\"a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928\");\n","import colors from \"../colors\";\n\nexport default colors(\"fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2\");\n","import colors from \"../colors\";\n\nexport default colors(\"b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc\");\n","import colors from \"../colors\";\n\nexport default colors(\"e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999\");\n","import colors from \"../colors\";\n\nexport default colors(\"66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3\");\n","import colors from \"../colors\";\n\nexport default colors(\"8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f\");\n","import colors from \"../colors\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","export default function(specifier) {\n  var n = specifier.length / 6 | 0, colors = new Array(n), i = 0;\n  while (i < n) colors[i] = \"#\" + specifier.slice(i * 6, ++i * 6);\n  return colors;\n}\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"d8b365f5f5f55ab4ac\",\n  \"a6611adfc27d80cdc1018571\",\n  \"a6611adfc27df5f5f580cdc1018571\",\n  \"8c510ad8b365f6e8c3c7eae55ab4ac01665e\",\n  \"8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e\",\n  \"8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e\",\n  \"8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e\",\n  \"5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30\",\n  \"5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"af8dc3f7f7f77fbf7b\",\n  \"7b3294c2a5cfa6dba0008837\",\n  \"7b3294c2a5cff7f7f7a6dba0008837\",\n  \"762a83af8dc3e7d4e8d9f0d37fbf7b1b7837\",\n  \"762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837\",\n  \"762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837\",\n  \"762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837\",\n  \"40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b\",\n  \"40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e9a3c9f7f7f7a1d76a\",\n  \"d01c8bf1b6dab8e1864dac26\",\n  \"d01c8bf1b6daf7f7f7b8e1864dac26\",\n  \"c51b7de9a3c9fde0efe6f5d0a1d76a4d9221\",\n  \"c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221\",\n  \"c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221\",\n  \"c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221\",\n  \"8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419\",\n  \"8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"998ec3f7f7f7f1a340\",\n  \"5e3c99b2abd2fdb863e66101\",\n  \"5e3c99b2abd2f7f7f7fdb863e66101\",\n  \"542788998ec3d8daebfee0b6f1a340b35806\",\n  \"542788998ec3d8daebf7f7f7fee0b6f1a340b35806\",\n  \"5427888073acb2abd2d8daebfee0b6fdb863e08214b35806\",\n  \"5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806\",\n  \"2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08\",\n  \"2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62f7f7f767a9cf\",\n  \"ca0020f4a58292c5de0571b0\",\n  \"ca0020f4a582f7f7f792c5de0571b0\",\n  \"b2182bef8a62fddbc7d1e5f067a9cf2166ac\",\n  \"b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac\",\n  \"b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac\",\n  \"b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac\",\n  \"67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061\",\n  \"67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"ef8a62ffffff999999\",\n  \"ca0020f4a582bababa404040\",\n  \"ca0020f4a582ffffffbababa404040\",\n  \"b2182bef8a62fddbc7e0e0e09999994d4d4d\",\n  \"b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d\",\n  \"b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d\",\n  \"b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d\",\n  \"67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a\",\n  \"67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91bfdb\",\n  \"d7191cfdae61abd9e92c7bb6\",\n  \"d7191cfdae61ffffbfabd9e92c7bb6\",\n  \"d73027fc8d59fee090e0f3f891bfdb4575b4\",\n  \"d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4\",\n  \"d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4\",\n  \"d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4\",\n  \"a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695\",\n  \"a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf91cf60\",\n  \"d7191cfdae61a6d96a1a9641\",\n  \"d7191cfdae61ffffbfa6d96a1a9641\",\n  \"d73027fc8d59fee08bd9ef8b91cf601a9850\",\n  \"d73027fc8d59fee08bffffbfd9ef8b91cf601a9850\",\n  \"d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850\",\n  \"d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850\",\n  \"a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837\",\n  \"a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fc8d59ffffbf99d594\",\n  \"d7191cfdae61abdda42b83ba\",\n  \"d7191cfdae61ffffbfabdda42b83ba\",\n  \"d53e4ffc8d59fee08be6f59899d5943288bd\",\n  \"d53e4ffc8d59fee08bffffbfe6f59899d5943288bd\",\n  \"d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd\",\n  \"d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd\",\n  \"9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2\",\n  \"9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2\"\n).map(colors);\n\nexport default ramp(scheme);\n","export {default as schemeCategory10} from \"./categorical/category10\";\nexport {default as schemeAccent} from \"./categorical/Accent\";\nexport {default as schemeDark2} from \"./categorical/Dark2\";\nexport {default as schemePaired} from \"./categorical/Paired\";\nexport {default as schemePastel1} from \"./categorical/Pastel1\";\nexport {default as schemePastel2} from \"./categorical/Pastel2\";\nexport {default as schemeSet1} from \"./categorical/Set1\";\nexport {default as schemeSet2} from \"./categorical/Set2\";\nexport {default as schemeSet3} from \"./categorical/Set3\";\nexport {default as interpolateBrBG, scheme as schemeBrBG} from \"./diverging/BrBG\";\nexport {default as interpolatePRGn, scheme as schemePRGn} from \"./diverging/PRGn\";\nexport {default as interpolatePiYG, scheme as schemePiYG} from \"./diverging/PiYG\";\nexport {default as interpolatePuOr, scheme as schemePuOr} from \"./diverging/PuOr\";\nexport {default as interpolateRdBu, scheme as schemeRdBu} from \"./diverging/RdBu\";\nexport {default as interpolateRdGy, scheme as schemeRdGy} from \"./diverging/RdGy\";\nexport {default as interpolateRdYlBu, scheme as schemeRdYlBu} from \"./diverging/RdYlBu\";\nexport {default as interpolateRdYlGn, scheme as schemeRdYlGn} from \"./diverging/RdYlGn\";\nexport {default as interpolateSpectral, scheme as schemeSpectral} from \"./diverging/Spectral\";\nexport {default as interpolateBuGn, scheme as schemeBuGn} from \"./sequential-multi/BuGn\";\nexport {default as interpolateBuPu, scheme as schemeBuPu} from \"./sequential-multi/BuPu\";\nexport {default as interpolateGnBu, scheme as schemeGnBu} from \"./sequential-multi/GnBu\";\nexport {default as interpolateOrRd, scheme as schemeOrRd} from \"./sequential-multi/OrRd\";\nexport {default as interpolatePuBuGn, scheme as schemePuBuGn} from \"./sequential-multi/PuBuGn\";\nexport {default as interpolatePuBu, scheme as schemePuBu} from \"./sequential-multi/PuBu\";\nexport {default as interpolatePuRd, scheme as schemePuRd} from \"./sequential-multi/PuRd\";\nexport {default as interpolateRdPu, scheme as schemeRdPu} from \"./sequential-multi/RdPu\";\nexport {default as interpolateYlGnBu, scheme as schemeYlGnBu} from \"./sequential-multi/YlGnBu\";\nexport {default as interpolateYlGn, scheme as schemeYlGn} from \"./sequential-multi/YlGn\";\nexport {default as interpolateYlOrBr, scheme as schemeYlOrBr} from \"./sequential-multi/YlOrBr\";\nexport {default as interpolateYlOrRd, scheme as schemeYlOrRd} from \"./sequential-multi/YlOrRd\";\nexport {default as interpolateBlues, scheme as schemeBlues} from \"./sequential-single/Blues\";\nexport {default as interpolateGreens, scheme as schemeGreens} from \"./sequential-single/Greens\";\nexport {default as interpolateGreys, scheme as schemeGreys} from \"./sequential-single/Greys\";\nexport {default as interpolatePurples, scheme as schemePurples} from \"./sequential-single/Purples\";\nexport {default as interpolateReds, scheme as schemeReds} from \"./sequential-single/Reds\";\nexport {default as interpolateOranges, scheme as schemeOranges} from \"./sequential-single/Oranges\";\nexport {default as interpolateCubehelixDefault} from \"./sequential-multi/cubehelix\";\nexport {default as interpolateRainbow, warm as interpolateWarm, cool as interpolateCool} from \"./sequential-multi/rainbow\";\nexport {default as interpolateSinebow} from \"./sequential-multi/sinebow\";\nexport {default as interpolateViridis, magma as interpolateMagma, inferno as interpolateInferno, plasma as interpolatePlasma} from \"./sequential-multi/viridis\";\n","import {interpolateRgbBasis} from \"d3-interpolate\";\n\nexport default function(scheme) {\n  return interpolateRgbBasis(scheme[scheme.length - 1]);\n}\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5f999d8c92ca25f\",\n  \"edf8fbb2e2e266c2a4238b45\",\n  \"edf8fbb2e2e266c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a42ca25f006d2c\",\n  \"edf8fbccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824\",\n  \"f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e0ecf49ebcda8856a7\",\n  \"edf8fbb3cde38c96c688419d\",\n  \"edf8fbb3cde38c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68856a7810f7c\",\n  \"edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b\",\n  \"f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e0f3dba8ddb543a2ca\",\n  \"f0f9e8bae4bc7bccc42b8cbe\",\n  \"f0f9e8bae4bc7bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc443a2ca0868ac\",\n  \"f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e\",\n  \"f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fee8c8fdbb84e34a33\",\n  \"fef0d9fdcc8afc8d59d7301f\",\n  \"fef0d9fdcc8afc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59e34a33b30000\",\n  \"fef0d9fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000\",\n  \"fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"ece7f2a6bddb2b8cbe\",\n  \"f1eef6bdc9e174a9cf0570b0\",\n  \"f1eef6bdc9e174a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d\",\n  \"f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b\",\n  \"fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"ece2f0a6bddb1c9099\",\n  \"f6eff7bdc9e167a9cf02818a\",\n  \"f6eff7bdc9e167a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf1c9099016c59\",\n  \"f6eff7d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450\",\n  \"fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e7e1efc994c7dd1c77\",\n  \"f1eef6d7b5d8df65b0ce1256\",\n  \"f1eef6d7b5d8df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0dd1c77980043\",\n  \"f1eef6d4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f\",\n  \"f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fde0ddfa9fb5c51b8a\",\n  \"feebe2fbb4b9f768a1ae017e\",\n  \"feebe2fbb4b9f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1c51b8a7a0177\",\n  \"feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177\",\n  \"fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"f7fcb9addd8e31a354\",\n  \"ffffccc2e69978c679238443\",\n  \"ffffccc2e69978c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67931a354006837\",\n  \"ffffccd9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32\",\n  \"ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"edf8b17fcdbb2c7fb8\",\n  \"ffffcca1dab441b6c4225ea8\",\n  \"ffffcca1dab441b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c42c7fb8253494\",\n  \"ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84\",\n  \"ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fff7bcfec44fd95f0e\",\n  \"ffffd4fed98efe9929cc4c02\",\n  \"ffffd4fed98efe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929d95f0e993404\",\n  \"ffffd4fee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04\",\n  \"ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"ffeda0feb24cf03b20\",\n  \"ffffb2fecc5cfd8d3ce31a1c\",\n  \"ffffb2fecc5cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cf03b20bd0026\",\n  \"ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026\",\n  \"ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026\"\n).map(colors);\n\nexport default ramp(scheme);\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar c = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  c.h = 360 * t - 100;\n  c.s = 1.5 - 1.5 * ts;\n  c.l = 0.8 - 0.9 * ts;\n  return c + \"\";\n}\n","import {rgb} from \"d3-color\";\n\nvar c = rgb(),\n    pi_1_3 = Math.PI / 3,\n    pi_2_3 = Math.PI * 2 / 3;\n\nexport default function(t) {\n  var x;\n  t = (0.5 - t) * Math.PI;\n  c.r = 255 * (x = Math.sin(t)) * x;\n  c.g = 255 * (x = Math.sin(t + pi_1_3)) * x;\n  c.b = 255 * (x = Math.sin(t + pi_2_3)) * x;\n  return c + \"\";\n}\n","import colors from \"../colors\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"deebf79ecae13182bd\",\n  \"eff3ffbdd7e76baed62171b5\",\n  \"eff3ffbdd7e76baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed63182bd08519c\",\n  \"eff3ffc6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594\",\n  \"f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"e5f5e0a1d99b31a354\",\n  \"edf8e9bae4b374c476238b45\",\n  \"edf8e9bae4b374c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47631a354006d2c\",\n  \"edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32\",\n  \"f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"f0f0f0bdbdbd636363\",\n  \"f7f7f7cccccc969696525252\",\n  \"f7f7f7cccccc969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696636363252525\",\n  \"f7f7f7d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525\",\n  \"fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fee6cefdae6be6550d\",\n  \"feeddefdbe85fd8d3cd94701\",\n  \"feeddefdbe85fd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3ce6550da63603\",\n  \"feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04\",\n  \"fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"efedf5bcbddc756bb1\",\n  \"f2f0f7cbc9e29e9ac86a51a3\",\n  \"f2f0f7cbc9e29e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8756bb154278f\",\n  \"f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486\",\n  \"fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d\"\n).map(colors);\n\nexport default ramp(scheme);\n","import colors from \"../colors\";\nimport ramp from \"../ramp\";\n\nexport var scheme = new Array(3).concat(\n  \"fee0d2fc9272de2d26\",\n  \"fee5d9fcae91fb6a4acb181d\",\n  \"fee5d9fcae91fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4ade2d26a50f15\",\n  \"fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d\",\n  \"fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d\"\n).map(colors);\n\nexport default ramp(scheme);\n","export {\n  default as scaleBand,\n  point as scalePoint\n} from \"./src/band\";\n\nexport {\n  default as scaleIdentity\n} from \"./src/identity\";\n\nexport {\n  default as scaleLinear\n} from \"./src/linear\";\n\nexport {\n  default as scaleLog\n} from \"./src/log\";\n\nexport {\n  default as scaleOrdinal,\n  implicit as scaleImplicit\n} from \"./src/ordinal\";\n\nexport {\n  default as scalePow,\n  sqrt as scaleSqrt\n} from \"./src/pow\";\n\nexport {\n  default as scaleQuantile\n} from \"./src/quantile\";\n\nexport {\n  default as scaleQuantize\n} from \"./src/quantize\";\n\nexport {\n  default as scaleThreshold\n} from \"./src/threshold\";\n\nexport {\n  default as scaleTime\n} from \"./src/time\";\n\nexport {\n  default as scaleUtc\n} from \"./src/utcTime\";\n\nexport {\n  default as schemeCategory10\n} from \"./src/category10\";\n\nexport {\n  default as schemeCategory20b\n} from \"./src/category20b\";\n\nexport {\n  default as schemeCategory20c\n} from \"./src/category20c\";\n\nexport {\n  default as schemeCategory20\n} from \"./src/category20\";\n\nexport {\n  default as interpolateCubehelixDefault\n} from \"./src/cubehelix\";\n\nexport {\n  default as interpolateRainbow,\n  warm as interpolateWarm,\n  cool as interpolateCool\n} from \"./src/rainbow\";\n\nexport {\n  default as interpolateViridis,\n  magma as interpolateMagma,\n  inferno as interpolateInferno,\n  plasma as interpolatePlasma\n} from \"./src/viridis\";\n\nexport {\n  default as scaleSequential\n} from \"./src/sequential\";\n","var array = Array.prototype;\n\nexport var map = array.map;\nexport var slice = array.slice;\n","import {range as sequence} from \"d3-array\";\nimport ordinal from \"./ordinal\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      range = [0, 1],\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n  function rescale() {\n    var n = domain().length,\n        reverse = range[1] < range[0],\n        start = range[reverse - 0],\n        stop = range[1 - reverse];\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = [+_[0], +_[1]], rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = [+_[0], +_[1]], round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.max(0, Math.min(1, _)), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = Math.max(0, Math.min(1, _)), rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band()\n        .domain(domain())\n        .range(range)\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  scale.invertExtent = function(r0, r1) {\n    var lo = +r0,\n        hi = arguments.length > 1 ? +r1 : lo,\n        reverse = range[1] < range[0],\n        values = reverse ? ordinalRange().reverse() : ordinalRange(),\n        n = values.length - 1, a, b, t,\n        hiIndex;\n    values.push(values[n] + this.step());\n    // order range inputs, bail if outside of scale range\n    if (hi < lo) t = lo, lo = hi, hi = t;\n    if (hi < values[0] || lo > range[1-reverse]) return undefined;\n\n    // binary search to index into scale range\n    a = Math.max(0, getClosestIndexOf(values, lo));\n    hiIndex = getClosestIndexOf(values, hi);\n    b = lo===hi ? a : Math.max(a, hiIndex - 1);\n\n    // increment index a if lo is within padding gap\n    // if (lo - values[a] > bandwidth + 1e-10) ++a;\n\n    if (reverse) t = a, a = n - b, b = n - t; // map + swap\n    return (a > b) ? undefined : domain().slice(a, b+1);\n  };\n\n  scale.invert = function (r0, r1) {\n    var lo = +r0,\n        hi = arguments.length > 1 ? +r1 : lo,\n        reverse = range[1] < range[0],\n        values = reverse ? ordinalRange().reverse() : ordinalRange(),\n        n = values.length - 1,\n        a,\n        t;\n\n    // order range inputs, bail if outside of scale range\n    if (hi < lo) t = lo, lo = hi, hi = t;\n    if (hi < values[0] || lo > range[1-reverse]) return undefined;\n\n    // binary search to index into scale range\n    a = Math.max(0, getClosestIndexOf(values, lo, 'left'));\n\n    // increment index a if lo is within padding gap\n    // if (lo - values[a] > bandwidth + 1e-10) ++a;\n\n    return domain()[reverse ? n - a : a];\n  }\n  return rescale();\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band().paddingInner(1));\n}\n\nfunction getClosestIndexOf (arr, value, side) {\n  var low = 0,\n      arrLen = arr.length,\n      high = arrLen - 1,\n      highVal,\n      mid,\n      d1,\n      d2;\n\n  while (low < high) {\n      mid = Math.floor((low + high) / 2);\n      d1 = Math.abs(arr[mid] - value);\n      d2 = Math.abs(arr[mid + 1] - value);\n\n      if (d2 <= d1) {\n          low = mid + 1;\n      }\n      else {\n          high = mid;\n      }\n  }\n\n  if (!side) {\n      return high;\n  }\n\n  highVal = arr[high];\n  if (highVal === value) {\n      return high;\n  } else if (highVal > value) {\n      if (high === 0) { return high; }\n      return side === 'left'? high - 1 : high;\n  } else {\n      if (high === arr.length - 1) { return high; }\n      return side === 'left'? high : high + 1;\n  }\n}","import colors from \"./colors\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5\");\n","import colors from \"./colors\";\n\nexport default colors(\"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6\");\n","import colors from \"./colors\";\n\nexport default colors(\"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9\");\n","export default function(s) {\n  return s.match(/.{6}/g).map(function(x) {\n    return \"#\" + x;\n  });\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateRound} from \"d3-interpolate\";\nimport {map, slice} from \"./array\";\nimport constant from \"./constant\";\nimport number from \"./number\";\n\nvar unit = [0, 1];\n\nexport function deinterpolateLinear(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(b);\n}\n\nfunction deinterpolateClamp(deinterpolate) {\n  return function(a, b) {\n    var d = deinterpolate(a = +a, b = +b);\n    return function(x) { return x <= a ? 0 : x >= b ? 1 : d(x); };\n  };\n}\n\nfunction reinterpolateClamp(reinterpolate) {\n  return function(a, b) {\n    var r = reinterpolate(a = +a, b = +b);\n    return function(t) { return t <= 0 ? a : t >= 1 ? b : r(t); };\n  };\n}\n\nfunction bimap(domain, range, deinterpolate, reinterpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = deinterpolate(d1, d0), r0 = reinterpolate(r1, r0);\n  else d0 = deinterpolate(d0, d1), r0 = reinterpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, deinterpolate, reinterpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = deinterpolate(domain[i], domain[i + 1]);\n    r[i] = reinterpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp());\n}\n\n// deinterpolate(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// reinterpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding domain value x in [a,b].\nexport default function continuous(deinterpolate, reinterpolate) {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      clamp = false,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    piecewise = Math.min(domain.length, range.length) > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return (output || (output = piecewise(domain, range, clamp ? deinterpolateClamp(deinterpolate) : deinterpolate, interpolate)))(+x);\n  }\n\n  scale.invert = function(y) {\n    return (input || (input = piecewise(range, domain, deinterpolateLinear, clamp ? reinterpolateClamp(reinterpolate) : reinterpolate)))(+y);\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = map.call(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = slice.call(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, rescale()) : clamp;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  return rescale();\n}\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {map} from \"./array\";\nimport {linearish} from \"./linear\";\nimport number from \"./number\";\n\nexport default function identity() {\n  var domain = [0, 1];\n\n  function scale(x) {\n    return +x;\n  }\n\n  scale.invert = scale;\n\n  scale.domain = scale.range = function(_) {\n    return arguments.length ? (domain = map.call(_, number), scale) : domain.slice();\n  };\n\n  scale.copy = function() {\n    return identity().domain(domain);\n  };\n\n  return linearish(scale);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport tickFormat from \"./tickFormat\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return tickFormat(domain(), count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain(),\n        i0 = 0,\n        i1 = d.length - 1,\n        start = d[i0],\n        stop = d[i1],\n        step;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n\n    step = tickIncrement(start, stop, count);\n\n    if (step > 0) {\n      start = Math.floor(start / step) * step;\n      stop = Math.ceil(stop / step) * step;\n      step = tickIncrement(start, stop, count);\n    } else if (step < 0) {\n      start = Math.ceil(start * step) / step;\n      stop = Math.floor(stop * step) / step;\n      step = tickIncrement(start, stop, count);\n    }\n\n    if (step > 0) {\n      d[i0] = Math.floor(start / step) * step;\n      d[i1] = Math.ceil(stop / step) * step;\n      domain(d);\n    } else if (step < 0) {\n      d[i0] = Math.ceil(start * step) / step;\n      d[i1] = Math.floor(stop * step) / step;\n      domain(d);\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous(deinterpolate, reinterpolate);\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  return linearish(scale);\n}\n","import {ticks} from \"d3-array\";\nimport {format} from \"d3-format\";\nimport constant from \"./constant\";\nimport nice from \"./nice\";\nimport {default as continuous, copy} from \"./continuous\";\n\nfunction deinterpolate(a, b) {\n  return (b = Math.log(b / a))\n      ? function(x) { return Math.log(x / a) / b; }\n      : constant(b);\n}\n\nfunction reinterpolate(a, b) {\n  return a < 0\n      ? function(t) { return -Math.pow(-b, t) * Math.pow(-a, 1 - t); }\n      : function(t) { return Math.pow(b, t) * Math.pow(a, 1 - t); };\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport default function log() {\n  var scale = continuous(deinterpolate, reinterpolate).domain([1, 10]),\n      domain = scale.domain,\n      base = 10,\n      logs = logp(10),\n      pows = powp(10);\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) logs = reflect(logs), pows = reflect(pows);\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.round(i) - 1, j = Math.round(j) + 1;\n      if (u > 0) for (; i < j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i < j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  scale.copy = function() {\n    return copy(scale, log().base(base));\n  };\n\n  return scale;\n}\n","export default function(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","export default function(x) {\n  return +x;\n}\n","import {map} from \"d3-collection\";\nimport {slice} from \"./array\";\n\nexport var implicit = {name: \"implicit\"};\n\nexport default function ordinal(range) {\n  var index = map(),\n      domain = [],\n      unknown = implicit;\n\n  range = range == null ? [] : slice.call(range);\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = map();\n    var i = -1, n = _.length, d, key;\n    while (++i < n) if (!index.has(key = (d = _[i]) + \"\")) index.set(key, domain.push(d));\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal()\n        .domain(domain)\n        .range(range)\n        .unknown(unknown);\n  };\n\n  return scale;\n}\n","import constant from \"./constant\";\nimport {linearish} from \"./linear\";\nimport {default as continuous, copy} from \"./continuous\";\n\nfunction raise(x, exponent) {\n  return x < 0 ? -Math.pow(-x, exponent) : Math.pow(x, exponent);\n}\n\nexport default function pow() {\n  var exponent = 1,\n      scale = continuous(deinterpolate, reinterpolate),\n      domain = scale.domain;\n\n  function deinterpolate(a, b) {\n    return (b = raise(b, exponent) - (a = raise(a, exponent)))\n        ? function(x) { return (raise(x, exponent) - a) / b; }\n        : constant(b);\n  }\n\n  function reinterpolate(a, b) {\n    b = raise(b, exponent) - (a = raise(a, exponent));\n    return function(t) { return raise(a + b * t, 1 / exponent); };\n  }\n\n  scale.exponent = function(_) {\n    return arguments.length ? (exponent = +_, domain(domain())) : exponent;\n  };\n\n  scale.copy = function() {\n    return copy(scale, pow().exponent(exponent));\n  };\n\n  return linearish(scale);\n}\n\nexport function sqrt() {\n  return pow().exponent(0.5);\n}\n","import {ascending, bisect, quantile as threshold} from \"d3-array\";\nimport {slice} from \"./array\";\n\nexport default function quantile() {\n  var domain = [],\n      range = [],\n      thresholds = [];\n\n  function rescale() {\n    var i = 0, n = Math.max(1, range.length);\n    thresholds = new Array(n - 1);\n    while (++i < n) thresholds[i - 1] = threshold(domain, i / n);\n    return scale;\n  }\n\n  function scale(x) {\n    if (!isNaN(x = +x)) return range[bisect(thresholds, x)];\n  }\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN] : [\n      i > 0 ? thresholds[i - 1] : domain[0],\n      i < thresholds.length ? thresholds[i] : domain[domain.length - 1]\n    ];\n  };\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [];\n    for (var i = 0, n = _.length, d; i < n; ++i) if (d = _[i], d != null && !isNaN(d = +d)) domain.push(d);\n    domain.sort(ascending);\n    return rescale();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), rescale()) : range.slice();\n  };\n\n  scale.quantiles = function() {\n    return thresholds.slice();\n  };\n\n  scale.copy = function() {\n    return quantile()\n        .domain(domain)\n        .range(range);\n  };\n\n  return scale;\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\nimport {linearish} from \"./linear\";\n\nexport default function quantize() {\n  var x0 = 0,\n      x1 = 1,\n      n = 1,\n      domain = [0.5],\n      range = [0, 1];\n\n  function scale(x) {\n    if (x <= x) return range[bisect(domain, x, 0, n)];\n  }\n\n  function rescale() {\n    var i = -1;\n    domain = new Array(n);\n    while (++i < n) domain[i] = ((i + 1) * x1 - (i - n) * x0) / (n + 1);\n    return scale;\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], rescale()) : [x0, x1];\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (n = (range = slice.call(_)).length - 1, rescale()) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return i < 0 ? [NaN, NaN]\n        : i < 1 ? [x0, domain[0]]\n        : i >= n ? [domain[n - 1], x1]\n        : [domain[i - 1], domain[i]];\n  };\n\n  scale.copy = function() {\n    return quantize()\n        .domain([x0, x1])\n        .range(range);\n  };\n\n  return linearish(scale);\n}\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar rainbow = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  rainbow.h = 360 * t - 100;\n  rainbow.s = 1.5 - 1.5 * ts;\n  rainbow.l = 0.8 - 0.9 * ts;\n  return rainbow + \"\";\n}\n","import {linearish} from \"./linear\";\n\nexport default function sequential(interpolator) {\n  var x0 = 0,\n      x1 = 1,\n      clamp = false;\n\n  function scale(x) {\n    var t = (x - x0) / (x1 - x0);\n    return interpolator(clamp ? Math.max(0, Math.min(1, t)) : t);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (x0 = +_[0], x1 = +_[1], scale) : [x0, x1];\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = !!_, scale) : clamp;\n  };\n\n  scale.interpolator = function(_) {\n    return arguments.length ? (interpolator = _, scale) : interpolator;\n  };\n\n  scale.copy = function() {\n    return sequential(interpolator).domain([x0, x1]).clamp(clamp);\n  };\n\n  return linearish(scale);\n}\n","import {bisect} from \"d3-array\";\nimport {slice} from \"./array\";\n\nexport default function threshold() {\n  var domain = [0.5],\n      range = [0, 1],\n      n = 1;\n\n  function scale(x) {\n    if (x <= x) return range[bisect(domain, x, 0, n)];\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = slice.call(_), n = Math.min(domain.length, range.length - 1), scale) : range.slice();\n  };\n\n  scale.invertExtent = function(y) {\n    var i = range.indexOf(y);\n    return [domain[i - 1], domain[i]];\n  };\n\n  scale.copy = function() {\n    return threshold()\n        .domain(domain)\n        .range(range);\n  };\n\n  return scale;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function(domain, count, specifier) {\n  var start = domain[0],\n      stop = domain[domain.length - 1],\n      step = tickStep(start, stop, count == null ? 10 : count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {bisector, tickStep} from \"d3-array\";\nimport {interpolateNumber as reinterpolate} from \"d3-interpolate\";\nimport {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport {map} from \"./array\";\nimport {default as continuous, copy, deinterpolateLinear as deinterpolate} from \"./continuous\";\nimport nice from \"./nice\";\n\nvar durationSecond = 1000,\n    durationMinute = durationSecond * 60,\n    durationHour = durationMinute * 60,\n    durationDay = durationHour * 24,\n    durationWeek = durationDay * 7,\n    durationMonth = durationDay * 30,\n    durationYear = durationDay * 365;\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(year, month, week, day, hour, minute, second, millisecond, format) {\n  var scale = continuous(deinterpolate, reinterpolate),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  var tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  function tickInterval(interval, start, stop, step) {\n    if (interval == null) interval = 10;\n\n    // If a desired tick count is specified, pick a reasonable tick interval\n    // based on the extent of the domain and a rough estimate of tick size.\n    // Otherwise, assume interval is already a time interval and use it.\n    if (typeof interval === \"number\") {\n      var target = Math.abs(stop - start) / interval,\n          i = bisector(function(i) { return i[2]; }).right(tickIntervals, target);\n      if (i === tickIntervals.length) {\n        step = tickStep(start / durationYear, stop / durationYear, interval);\n        interval = year;\n      } else if (i) {\n        i = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n        step = i[1];\n        interval = i[0];\n      } else {\n        step = Math.max(tickStep(start, stop, interval), 1);\n        interval = millisecond;\n      }\n    }\n\n    return step == null ? interval : interval.every(step);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(map.call(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval, step) {\n    var d = domain(),\n        t0 = d[0],\n        t1 = d[d.length - 1],\n        r = t1 < t0,\n        t;\n    if (r) t = t0, t0 = t1, t1 = t;\n    t = tickInterval(interval, t0, t1, step);\n    t = t ? t.range(t0, t1 + 1) : []; // inclusive stop\n    return r ? t.reverse() : t;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval, step) {\n    var d = domain();\n    return (interval = tickInterval(interval, d[0], d[d.length - 1], step))\n        ? domain(nice(d, interval))\n        : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(year, month, week, day, hour, minute, second, millisecond, format));\n  };\n\n  return scale;\n}\n\nexport default function() {\n  return calendar(timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeMillisecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]);\n}\n","import {calendar} from \"./time\";\nimport {utcFormat} from \"d3-time-format\";\nimport {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond} from \"d3-time\";\n\nexport default function() {\n  return calendar(utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcMillisecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]);\n}\n","import colors from \"./colors\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import creator from \"./creator\";\nimport select from \"./select\";\n\nexport default function(name) {\n  return select(creator(name).call(document.documentElement));\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","export {default as create} from \"./create\";\nexport {default as creator} from \"./creator\";\nexport {default as local} from \"./local\";\nexport {default as matcher} from \"./matcher\";\nexport {default as mouse} from \"./mouse\";\nexport {default as namespace} from \"./namespace\";\nexport {default as namespaces} from \"./namespaces\";\nexport {default as clientPoint} from \"./point\";\nexport {default as select} from \"./select\";\nexport {default as selectAll} from \"./selectAll\";\nexport {default as selection} from \"./selection/index\";\nexport {default as selector} from \"./selector\";\nexport {default as selectorAll} from \"./selectorAll\";\nexport {styleValue as style} from \"./selection/style\";\nexport {default as touch} from \"./touch\";\nexport {default as touches} from \"./touches\";\nexport {default as window} from \"./window\";\nexport {event, customEvent} from \"./selection/on\";\n","var nextId = 0;\n\nexport default function local() {\n  return new Local;\n}\n\nfunction Local() {\n  this._ = \"@\" + (++nextId).toString(36);\n}\n\nLocal.prototype = local.prototype = {\n  constructor: Local,\n  get: function(node) {\n    var id = this._;\n    while (!(id in node)) if (!(node = node.parentNode)) return;\n    return node[id];\n  },\n  set: function(node, value) {\n    return node[this._] = value;\n  },\n  remove: function(node) {\n    return this._ in node && delete node[this._];\n  },\n  toString: function() {\n    return this._;\n  }\n};\n","var matcher = function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n};\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!element.matches) {\n    var vendorMatches = element.webkitMatchesSelector\n        || element.msMatchesSelector\n        || element.mozMatchesSelector\n        || element.oMatchesSelector;\n    matcher = function(selector) {\n      return function() {\n        return vendorMatches.call(this, selector);\n      };\n    };\n  }\n}\n\nexport default matcher;\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","export default function(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function selection_cloneShallow() {\n  return this.parentNode.insertBefore(this.cloneNode(false), this.nextSibling);\n}\n\nfunction selection_cloneDeep() {\n  return this.parentNode.insertBefore(this.cloneNode(true), this.nextSibling);\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  return !this.node();\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_clone from \"./clone\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {event} from \"./selection/on\";\n\nexport default function() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n","import sourceEvent from \"./sourceEvent\";\nimport point from \"./point\";\n\nexport default function(node, touches) {\n  if (touches == null) touches = sourceEvent().touches;\n\n  for (var i = 0, n = touches ? touches.length : 0, points = new Array(n); i < n; ++i) {\n    points[i] = point(node, touches[i]);\n  }\n\n  return points;\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport {abs, acos, asin, atan2, cos, epsilon, halfPi, max, min, pi, sin, sqrt, tau} from \"./math\";\n\nfunction arcInnerRadius(d) {\n  return d.innerRadius;\n}\n\nfunction arcOuterRadius(d) {\n  return d.outerRadius;\n}\n\nfunction arcStartAngle(d) {\n  return d.startAngle;\n}\n\nfunction arcEndAngle(d) {\n  return d.endAngle;\n}\n\nfunction arcPadAngle(d) {\n  return d && d.padAngle; // Note: optional!\n}\n\nfunction intersect(x0, y0, x1, y1, x2, y2, x3, y3) {\n  var x10 = x1 - x0, y10 = y1 - y0,\n      x32 = x3 - x2, y32 = y3 - y2,\n      t = (x32 * (y0 - y2) - y32 * (x0 - x2)) / (y32 * x10 - x32 * y10);\n  return [x0 + t * x10, y0 + t * y10];\n}\n\n// Compute perpendicular offset line of length rc.\n// http://mathworld.wolfram.com/Circle-LineIntersection.html\nfunction cornerTangents(x0, y0, x1, y1, r1, rc, cw) {\n  var x01 = x0 - x1,\n      y01 = y0 - y1,\n      lo = (cw ? rc : -rc) / sqrt(x01 * x01 + y01 * y01),\n      ox = lo * y01,\n      oy = -lo * x01,\n      x11 = x0 + ox,\n      y11 = y0 + oy,\n      x10 = x1 + ox,\n      y10 = y1 + oy,\n      x00 = (x11 + x10) / 2,\n      y00 = (y11 + y10) / 2,\n      dx = x10 - x11,\n      dy = y10 - y11,\n      d2 = dx * dx + dy * dy,\n      r = r1 - rc,\n      D = x11 * y10 - x10 * y11,\n      d = (dy < 0 ? -1 : 1) * sqrt(max(0, r * r * d2 - D * D)),\n      cx0 = (D * dy - dx * d) / d2,\n      cy0 = (-D * dx - dy * d) / d2,\n      cx1 = (D * dy + dx * d) / d2,\n      cy1 = (-D * dx + dy * d) / d2,\n      dx0 = cx0 - x00,\n      dy0 = cy0 - y00,\n      dx1 = cx1 - x00,\n      dy1 = cy1 - y00;\n\n  // Pick the closer of the two intersection points.\n  // TODO Is there a faster way to determine which intersection to use?\n  if (dx0 * dx0 + dy0 * dy0 > dx1 * dx1 + dy1 * dy1) cx0 = cx1, cy0 = cy1;\n\n  return {\n    cx: cx0,\n    cy: cy0,\n    x01: -ox,\n    y01: -oy,\n    x11: cx0 * (r1 / r - 1),\n    y11: cy0 * (r1 / r - 1)\n  };\n}\n\nexport default function() {\n  var innerRadius = arcInnerRadius,\n      outerRadius = arcOuterRadius,\n      cornerRadius = constant(0),\n      padRadius = null,\n      startAngle = arcStartAngle,\n      endAngle = arcEndAngle,\n      padAngle = arcPadAngle,\n      context = null;\n\n  function arc() {\n    var buffer,\n        r,\n        r0 = +innerRadius.apply(this, arguments),\n        r1 = +outerRadius.apply(this, arguments),\n        a0 = startAngle.apply(this, arguments) - halfPi,\n        a1 = endAngle.apply(this, arguments) - halfPi,\n        da = abs(a1 - a0),\n        cw = a1 > a0;\n\n    if (!context) context = buffer = path();\n\n    // Ensure that the outer radius is always larger than the inner radius.\n    if (r1 < r0) r = r1, r1 = r0, r0 = r;\n\n    // Is it a point?\n    if (!(r1 > epsilon)) context.moveTo(0, 0);\n\n    // Or is it a circle or annulus?\n    else if (da > tau - epsilon) {\n      context.moveTo(r1 * cos(a0), r1 * sin(a0));\n      context.arc(0, 0, r1, a0, a1, !cw);\n      if (r0 > epsilon) {\n        context.moveTo(r0 * cos(a1), r0 * sin(a1));\n        context.arc(0, 0, r0, a1, a0, cw);\n      }\n    }\n\n    // Or is it a circular or annular sector?\n    else {\n      var a01 = a0,\n          a11 = a1,\n          a00 = a0,\n          a10 = a1,\n          da0 = da,\n          da1 = da,\n          ap = padAngle.apply(this, arguments) / 2,\n          rp = (ap > epsilon) && (padRadius ? +padRadius.apply(this, arguments) : sqrt(r0 * r0 + r1 * r1)),\n          rc = min(abs(r1 - r0) / 2, +cornerRadius.apply(this, arguments)),\n          rc0 = rc,\n          rc1 = rc,\n          t0,\n          t1;\n\n      // Apply padding? Note that since r1 ≥ r0, da1 ≥ da0.\n      if (rp > epsilon) {\n        var p0 = asin(rp / r0 * sin(ap)),\n            p1 = asin(rp / r1 * sin(ap));\n        if ((da0 -= p0 * 2) > epsilon) p0 *= (cw ? 1 : -1), a00 += p0, a10 -= p0;\n        else da0 = 0, a00 = a10 = (a0 + a1) / 2;\n        if ((da1 -= p1 * 2) > epsilon) p1 *= (cw ? 1 : -1), a01 += p1, a11 -= p1;\n        else da1 = 0, a01 = a11 = (a0 + a1) / 2;\n      }\n\n      var x01 = r1 * cos(a01),\n          y01 = r1 * sin(a01),\n          x10 = r0 * cos(a10),\n          y10 = r0 * sin(a10);\n\n      // Apply rounded corners?\n      if (rc > epsilon) {\n        var x11 = r1 * cos(a11),\n            y11 = r1 * sin(a11),\n            x00 = r0 * cos(a00),\n            y00 = r0 * sin(a00);\n\n        // Restrict the corner radius according to the sector angle.\n        if (da < pi) {\n          var oc = da0 > epsilon ? intersect(x01, y01, x00, y00, x11, y11, x10, y10) : [x10, y10],\n              ax = x01 - oc[0],\n              ay = y01 - oc[1],\n              bx = x11 - oc[0],\n              by = y11 - oc[1],\n              kc = 1 / sin(acos((ax * bx + ay * by) / (sqrt(ax * ax + ay * ay) * sqrt(bx * bx + by * by))) / 2),\n              lc = sqrt(oc[0] * oc[0] + oc[1] * oc[1]);\n          rc0 = min(rc, (r0 - lc) / (kc - 1));\n          rc1 = min(rc, (r1 - lc) / (kc + 1));\n        }\n      }\n\n      // Is the sector collapsed to a line?\n      if (!(da1 > epsilon)) context.moveTo(x01, y01);\n\n      // Does the sector’s outer ring have rounded corners?\n      else if (rc1 > epsilon) {\n        t0 = cornerTangents(x00, y00, x01, y01, r1, rc1, cw);\n        t1 = cornerTangents(x11, y11, x10, y10, r1, rc1, cw);\n\n        context.moveTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc1 < rc) context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc1, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r1, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), !cw);\n          context.arc(t1.cx, t1.cy, rc1, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the outer ring just a circular arc?\n      else context.moveTo(x01, y01), context.arc(0, 0, r1, a01, a11, !cw);\n\n      // Is there no inner ring, and it’s a circular sector?\n      // Or perhaps it’s an annular sector collapsed due to padding?\n      if (!(r0 > epsilon) || !(da0 > epsilon)) context.lineTo(x10, y10);\n\n      // Does the sector’s inner ring (or point) have rounded corners?\n      else if (rc0 > epsilon) {\n        t0 = cornerTangents(x10, y10, x11, y11, r0, -rc0, cw);\n        t1 = cornerTangents(x01, y01, x00, y00, r0, -rc0, cw);\n\n        context.lineTo(t0.cx + t0.x01, t0.cy + t0.y01);\n\n        // Have the corners merged?\n        if (rc0 < rc) context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t1.y01, t1.x01), !cw);\n\n        // Otherwise, draw the two corners and the ring.\n        else {\n          context.arc(t0.cx, t0.cy, rc0, atan2(t0.y01, t0.x01), atan2(t0.y11, t0.x11), !cw);\n          context.arc(0, 0, r0, atan2(t0.cy + t0.y11, t0.cx + t0.x11), atan2(t1.cy + t1.y11, t1.cx + t1.x11), cw);\n          context.arc(t1.cx, t1.cy, rc0, atan2(t1.y11, t1.x11), atan2(t1.y01, t1.x01), !cw);\n        }\n      }\n\n      // Or is the inner ring just a circular arc?\n      else context.arc(0, 0, r0, a10, a00, cw);\n    }\n\n    context.closePath();\n\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  arc.centroid = function() {\n    var r = (+innerRadius.apply(this, arguments) + +outerRadius.apply(this, arguments)) / 2,\n        a = (+startAngle.apply(this, arguments) + +endAngle.apply(this, arguments)) / 2 - pi / 2;\n    return [cos(a) * r, sin(a) * r];\n  };\n\n  arc.innerRadius = function(_) {\n    return arguments.length ? (innerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : innerRadius;\n  };\n\n  arc.outerRadius = function(_) {\n    return arguments.length ? (outerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : outerRadius;\n  };\n\n  arc.cornerRadius = function(_) {\n    return arguments.length ? (cornerRadius = typeof _ === \"function\" ? _ : constant(+_), arc) : cornerRadius;\n  };\n\n  arc.padRadius = function(_) {\n    return arguments.length ? (padRadius = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), arc) : padRadius;\n  };\n\n  arc.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : startAngle;\n  };\n\n  arc.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : endAngle;\n  };\n\n  arc.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), arc) : padAngle;\n  };\n\n  arc.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), arc) : context;\n  };\n\n  return arc;\n}\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport line from \"./line\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x0 = pointX,\n      x1 = null,\n      y0 = constant(0),\n      y1 = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial\";\nimport area from \"./area\";\nimport {lineRadial} from \"./lineRadial\"\n\nexport default function() {\n  var a = area().curve(curveRadialLinear),\n      c = a.curve,\n      x0 = a.lineX0,\n      x1 = a.lineX1,\n      y0 = a.lineY0,\n      y1 = a.lineY1;\n\n  a.angle = a.x, delete a.x;\n  a.startAngle = a.x0, delete a.x0;\n  a.endAngle = a.x1, delete a.x1;\n  a.radius = a.y, delete a.y;\n  a.innerRadius = a.y0, delete a.y0;\n  a.outerRadius = a.y1, delete a.y1;\n  a.lineStartAngle = function() { return lineRadial(x0()); }, delete a.lineX0;\n  a.lineEndAngle = function() { return lineRadial(x1()); }, delete a.lineX1;\n  a.lineInnerRadius = function() { return lineRadial(y0()); }, delete a.lineY0;\n  a.lineOuterRadius = function() { return lineRadial(y1()); }, delete a.lineY1;\n\n  a.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return a;\n}\n","export var slice = Array.prototype.slice;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","import noop from \"../noop\";\nimport {point} from \"./basis\";\n\nfunction BasisClosed(context) {\n  this._context = context;\n}\n\nBasisClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x2, this._y2);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.moveTo((this._x2 + 2 * this._x3) / 3, (this._y2 + 2 * this._y3) / 3);\n        this._context.lineTo((this._x3 + 2 * this._x2) / 3, (this._y3 + 2 * this._y2) / 3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x2, this._y2);\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x2 = x, this._y2 = y; break;\n      case 1: this._point = 2; this._x3 = x, this._y3 = y; break;\n      case 2: this._point = 3; this._x4 = x, this._y4 = y; this._context.moveTo((this._x0 + 4 * this._x1 + x) / 6, (this._y0 + 4 * this._y1 + y) / 6); break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisClosed(context);\n}\n","import {point} from \"./basis\";\n\nfunction BasisOpen(context) {\n  this._context = context;\n}\n\nBasisOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; var x0 = (this._x0 + 4 * this._x1 + x) / 6, y0 = (this._y0 + 4 * this._y1 + y) / 6; this._line ? this._context.lineTo(x0, y0) : this._context.moveTo(x0, y0); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new BasisOpen(context);\n}\n","import {Basis} from \"./basis\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop\";\nimport {point} from \"./cardinal\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {point} from \"./cardinal\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math\";\nimport {Cardinal} from \"./cardinal\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed\";\nimport noop from \"../noop\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalOpen} from \"./cardinalOpen\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","import noop from \"../noop\";\n\nfunction LinearClosed(context) {\n  this._context = context;\n}\n\nLinearClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._point) this._context.closePath();\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    if (this._point) this._context.lineTo(x, y);\n    else this._point = 1, this._context.moveTo(x, y);\n  }\n};\n\nexport default function(context) {\n  return new LinearClosed(context);\n}\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","function Natural(context) {\n  this._context = context;\n}\n\nNatural.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        n = x.length;\n\n    if (n) {\n      this._line ? this._context.lineTo(x[0], y[0]) : this._context.moveTo(x[0], y[0]);\n      if (n === 2) {\n        this._context.lineTo(x[1], y[1]);\n      } else {\n        var px = controlPoints(x),\n            py = controlPoints(y);\n        for (var i0 = 0, i1 = 1; i1 < n; ++i0, ++i1) {\n          this._context.bezierCurveTo(px[0][i0], py[0][i0], px[1][i0], py[1][i0], x[i1], y[i1]);\n        }\n      }\n    }\n\n    if (this._line || (this._line !== 0 && n === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n    this._x = this._y = null;\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\n// See https://www.particleincell.com/2012/bezier-splines/ for derivation.\nfunction controlPoints(x) {\n  var i,\n      n = x.length - 1,\n      m,\n      a = new Array(n),\n      b = new Array(n),\n      r = new Array(n);\n  a[0] = 0, b[0] = 2, r[0] = x[0] + 2 * x[1];\n  for (i = 1; i < n - 1; ++i) a[i] = 1, b[i] = 4, r[i] = 4 * x[i] + 2 * x[i + 1];\n  a[n - 1] = 2, b[n - 1] = 7, r[n - 1] = 8 * x[n - 1] + x[n];\n  for (i = 1; i < n; ++i) m = a[i] / b[i - 1], b[i] -= m, r[i] -= m * r[i - 1];\n  a[n - 1] = r[n - 1] / b[n - 1];\n  for (i = n - 2; i >= 0; --i) a[i] = (r[i] - a[i + 1]) / b[i];\n  b[n - 1] = (x[n] + a[n - 1]) / 2;\n  for (i = 0; i < n - 1; ++i) b[i] = 2 * x[i + 1] - a[i + 1];\n  return [a, b];\n}\n\nexport default function(context) {\n  return new Natural(context);\n}\n","import curveLinear from \"./linear\";\n\nexport var curveRadialLinear = curveRadial(curveLinear);\n\nfunction Radial(curve) {\n  this._curve = curve;\n}\n\nRadial.prototype = {\n  areaStart: function() {\n    this._curve.areaStart();\n  },\n  areaEnd: function() {\n    this._curve.areaEnd();\n  },\n  lineStart: function() {\n    this._curve.lineStart();\n  },\n  lineEnd: function() {\n    this._curve.lineEnd();\n  },\n  point: function(a, r) {\n    this._curve.point(r * Math.sin(a), r * -Math.cos(a));\n  }\n};\n\nexport default function curveRadial(curve) {\n\n  function radial(context) {\n    return new Radial(curve(context));\n  }\n\n  radial._curve = curve;\n\n  return radial;\n}\n","function Step(context, t) {\n  this._context = context;\n  this._t = t;\n}\n\nStep.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x = this._y = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (0 < this._t && this._t < 1 && this._point === 2) this._context.lineTo(this._x, this._y);\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    if (this._line >= 0) this._t = 1 - this._t, this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: {\n        if (this._t <= 0) {\n          this._context.lineTo(this._x, y);\n          this._context.lineTo(x, y);\n        } else {\n          var x1 = this._x * (1 - this._t) + x * this._t;\n          this._context.lineTo(x1, this._y);\n          this._context.lineTo(x1, y);\n        }\n        break;\n      }\n    }\n    this._x = x, this._y = y;\n  }\n};\n\nexport default function(context) {\n  return new Step(context, 0.5);\n}\n\nexport function stepBefore(context) {\n  return new Step(context, 0);\n}\n\nexport function stepAfter(context) {\n  return new Step(context, 1);\n}\n","export default function(a, b) {\n  return b < a ? -1 : b > a ? 1 : b >= a ? 0 : NaN;\n}\n","export default function(d) {\n  return d;\n}\n","export {default as arc} from \"./arc\";\nexport {default as area} from \"./area\";\nexport {default as line} from \"./line\";\nexport {default as pie} from \"./pie\";\nexport {default as areaRadial, default as radialArea} from \"./areaRadial\"; // Note: radialArea is deprecated!\nexport {default as lineRadial, default as radialLine} from \"./lineRadial\"; // Note: radialLine is deprecated!\nexport {default as pointRadial} from \"./pointRadial\";\nexport {linkHorizontal, linkVertical, linkRadial} from \"./link/index\";\n\nexport {default as symbol, symbols} from \"./symbol\";\nexport {default as symbolCircle} from \"./symbol/circle\";\nexport {default as symbolCross} from \"./symbol/cross\";\nexport {default as symbolDiamond} from \"./symbol/diamond\";\nexport {default as symbolSquare} from \"./symbol/square\";\nexport {default as symbolStar} from \"./symbol/star\";\nexport {default as symbolTriangle} from \"./symbol/triangle\";\nexport {default as symbolWye} from \"./symbol/wye\";\n\nexport {default as curveBasisClosed} from \"./curve/basisClosed\";\nexport {default as curveBasisOpen} from \"./curve/basisOpen\";\nexport {default as curveBasis} from \"./curve/basis\";\nexport {default as curveBundle} from \"./curve/bundle\";\nexport {default as curveCardinalClosed} from \"./curve/cardinalClosed\";\nexport {default as curveCardinalOpen} from \"./curve/cardinalOpen\";\nexport {default as curveCardinal} from \"./curve/cardinal\";\nexport {default as curveCatmullRomClosed} from \"./curve/catmullRomClosed\";\nexport {default as curveCatmullRomOpen} from \"./curve/catmullRomOpen\";\nexport {default as curveCatmullRom} from \"./curve/catmullRom\";\nexport {default as curveLinearClosed} from \"./curve/linearClosed\";\nexport {default as curveLinear} from \"./curve/linear\";\nexport {monotoneX as curveMonotoneX, monotoneY as curveMonotoneY} from \"./curve/monotone\";\nexport {default as curveNatural} from \"./curve/natural\";\nexport {default as curveStep, stepAfter as curveStepAfter, stepBefore as curveStepBefore} from \"./curve/step\";\n\nexport {default as stack} from \"./stack\";\nexport {default as stackOffsetExpand} from \"./offset/expand\";\nexport {default as stackOffsetDiverging} from \"./offset/diverging\";\nexport {default as stackOffsetNone} from \"./offset/none\";\nexport {default as stackOffsetSilhouette} from \"./offset/silhouette\";\nexport {default as stackOffsetWiggle} from \"./offset/wiggle\";\nexport {default as stackOrderAscending} from \"./order/ascending\";\nexport {default as stackOrderDescending} from \"./order/descending\";\nexport {default as stackOrderInsideOut} from \"./order/insideOut\";\nexport {default as stackOrderNone} from \"./order/none\";\nexport {default as stackOrderReverse} from \"./order/reverse\";\n","import {path} from \"d3-path\";\nimport constant from \"./constant\";\nimport curveLinear from \"./curve/linear\";\nimport {x as pointX, y as pointY} from \"./point\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  function line(data) {\n    var i,\n        n = data.length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import curveRadial, {curveRadialLinear} from \"./curve/radial\";\nimport line from \"./line\";\n\nexport function lineRadial(l) {\n  var c = l.curve;\n\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n\n  l.curve = function(_) {\n    return arguments.length ? c(curveRadial(_)) : c()._curve;\n  };\n\n  return l;\n}\n\nexport default function() {\n  return lineRadial(line().curve(curveRadialLinear));\n}\n","import {path} from \"d3-path\";\nimport {slice} from \"../array\";\nimport constant from \"../constant\";\nimport {x as pointX, y as pointY} from \"../point\";\nimport pointRadial from \"../pointRadial\";\n\nfunction linkSource(d) {\n  return d.source;\n}\n\nfunction linkTarget(d) {\n  return d.target;\n}\n\nfunction link(curve) {\n  var source = linkSource,\n      target = linkTarget,\n      x = pointX,\n      y = pointY,\n      context = null;\n\n  function link() {\n    var buffer, argv = slice.call(arguments), s = source.apply(this, argv), t = target.apply(this, argv);\n    if (!context) context = buffer = path();\n    curve(context, +x.apply(this, (argv[0] = s, argv)), +y.apply(this, argv), +x.apply(this, (argv[0] = t, argv)), +y.apply(this, argv));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  link.source = function(_) {\n    return arguments.length ? (source = _, link) : source;\n  };\n\n  link.target = function(_) {\n    return arguments.length ? (target = _, link) : target;\n  };\n\n  link.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), link) : x;\n  };\n\n  link.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), link) : y;\n  };\n\n  link.context = function(_) {\n    return arguments.length ? ((context = _ == null ? null : _), link) : context;\n  };\n\n  return link;\n}\n\nfunction curveHorizontal(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0 = (x0 + x1) / 2, y0, x0, y1, x1, y1);\n}\n\nfunction curveVertical(context, x0, y0, x1, y1) {\n  context.moveTo(x0, y0);\n  context.bezierCurveTo(x0, y0 = (y0 + y1) / 2, x1, y0, x1, y1);\n}\n\nfunction curveRadial(context, x0, y0, x1, y1) {\n  var p0 = pointRadial(x0, y0),\n      p1 = pointRadial(x0, y0 = (y0 + y1) / 2),\n      p2 = pointRadial(x1, y0),\n      p3 = pointRadial(x1, y1);\n  context.moveTo(p0[0], p0[1]);\n  context.bezierCurveTo(p1[0], p1[1], p2[0], p2[1], p3[0], p3[1]);\n}\n\nexport function linkHorizontal() {\n  return link(curveHorizontal);\n}\n\nexport function linkVertical() {\n  return link(curveVertical);\n}\n\nexport function linkRadial() {\n  var l = link(curveRadial);\n  l.angle = l.x, delete l.x;\n  l.radius = l.y, delete l.y;\n  return l;\n}\n","export var abs = Math.abs;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var max = Math.max;\nexport var min = Math.min;\nexport var sin = Math.sin;\nexport var sqrt = Math.sqrt;\n\nexport var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x >= 1 ? halfPi : x <= -1 ? -halfPi : Math.asin(x);\n}\n","export default function() {}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i, j = 0, d, dy, yp, yn, n, m = series[order[0]].length; j < m; ++j) {\n    for (yp = yn = 0, i = 0; i < n; ++i) {\n      if ((dy = (d = series[order[i]][j])[1] - d[0]) >= 0) {\n        d[0] = yp, d[1] = yp += dy;\n      } else if (dy < 0) {\n        d[1] = yn, d[0] = yn += dy;\n      } else {\n        d[0] = yp;\n      }\n    }\n  }\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var i, n, j = 0, m = series[0].length, y; j < m; ++j) {\n    for (y = i = 0; i < n; ++i) y += series[i][j][1] || 0;\n    if (y) for (i = 0; i < n; ++i) series[i][j][1] /= y;\n  }\n  none(series, order);\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0)) return;\n  for (var j = 0, s0 = series[order[0]], n, m = s0.length; j < m; ++j) {\n    for (var i = 0, y = 0; i < n; ++i) y += series[i][j][1] || 0;\n    s0[j][1] += s0[j][0] = -y / 2;\n  }\n  none(series, order);\n}\n","import none from \"./none\";\n\nexport default function(series, order) {\n  if (!((n = series.length) > 0) || !((m = (s0 = series[order[0]]).length) > 0)) return;\n  for (var y = 0, j = 1, s0, m, n; j < m; ++j) {\n    for (var i = 0, s1 = 0, s2 = 0; i < n; ++i) {\n      var si = series[order[i]],\n          sij0 = si[j][1] || 0,\n          sij1 = si[j - 1][1] || 0,\n          s3 = (sij0 - sij1) / 2;\n      for (var k = 0; k < i; ++k) {\n        var sk = series[order[k]],\n            skj0 = sk[j][1] || 0,\n            skj1 = sk[j - 1][1] || 0;\n        s3 += skj0 - skj1;\n      }\n      s1 += sij0, s2 += s3 * sij0;\n    }\n    s0[j - 1][1] += s0[j - 1][0] = y;\n    if (s1) y -= s2 / s1;\n  }\n  s0[j - 1][1] += s0[j - 1][0] = y;\n  none(series, order);\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  var sums = series.map(sum);\n  return none(series).sort(function(a, b) { return sums[a] - sums[b]; });\n}\n\nexport function sum(series) {\n  var s = 0, i = -1, n = series.length, v;\n  while (++i < n) if (v = +series[i][1]) s += v;\n  return s;\n}\n","import ascending from \"./ascending\";\n\nexport default function(series) {\n  return ascending(series).reverse();\n}\n","import none from \"./none\";\nimport {sum} from \"./ascending\";\n\nexport default function(series) {\n  var n = series.length,\n      i,\n      j,\n      sums = series.map(sum),\n      order = none(series).sort(function(a, b) { return sums[b] - sums[a]; }),\n      top = 0,\n      bottom = 0,\n      tops = [],\n      bottoms = [];\n\n  for (i = 0; i < n; ++i) {\n    j = order[i];\n    if (top < bottom) {\n      top += sums[j];\n      tops.push(j);\n    } else {\n      bottom += sums[j];\n      bottoms.push(j);\n    }\n  }\n\n  return bottoms.reverse().concat(tops);\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import none from \"./none\";\n\nexport default function(series) {\n  return none(series).reverse();\n}\n","import constant from \"./constant\";\nimport descending from \"./descending\";\nimport identity from \"./identity\";\nimport {tau} from \"./math\";\n\nexport default function() {\n  var value = identity,\n      sortValues = descending,\n      sort = null,\n      startAngle = constant(0),\n      endAngle = constant(tau),\n      padAngle = constant(0);\n\n  function pie(data) {\n    var i,\n        n = data.length,\n        j,\n        k,\n        sum = 0,\n        index = new Array(n),\n        arcs = new Array(n),\n        a0 = +startAngle.apply(this, arguments),\n        da = Math.min(tau, Math.max(-tau, endAngle.apply(this, arguments) - a0)),\n        a1,\n        p = Math.min(Math.abs(da) / n, padAngle.apply(this, arguments)),\n        pa = p * (da < 0 ? -1 : 1),\n        v;\n\n    for (i = 0; i < n; ++i) {\n      if ((v = arcs[index[i] = i] = +value(data[i], i, data)) > 0) {\n        sum += v;\n      }\n    }\n\n    // Optionally sort the arcs by previously-computed values or by data.\n    if (sortValues != null) index.sort(function(i, j) { return sortValues(arcs[i], arcs[j]); });\n    else if (sort != null) index.sort(function(i, j) { return sort(data[i], data[j]); });\n\n    // Compute the arcs! They are stored in the original data's order.\n    for (i = 0, k = sum ? (da - n * pa) / sum : 0; i < n; ++i, a0 = a1) {\n      j = index[i], v = arcs[j], a1 = a0 + (v > 0 ? v * k : 0) + pa, arcs[j] = {\n        data: data[j],\n        index: i,\n        value: v,\n        startAngle: a0,\n        endAngle: a1,\n        padAngle: p\n      };\n    }\n\n    return arcs;\n  }\n\n  pie.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), pie) : value;\n  };\n\n  pie.sortValues = function(_) {\n    return arguments.length ? (sortValues = _, sort = null, pie) : sortValues;\n  };\n\n  pie.sort = function(_) {\n    return arguments.length ? (sort = _, sortValues = null, pie) : sort;\n  };\n\n  pie.startAngle = function(_) {\n    return arguments.length ? (startAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : startAngle;\n  };\n\n  pie.endAngle = function(_) {\n    return arguments.length ? (endAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : endAngle;\n  };\n\n  pie.padAngle = function(_) {\n    return arguments.length ? (padAngle = typeof _ === \"function\" ? _ : constant(+_), pie) : padAngle;\n  };\n\n  return pie;\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","export default function(x, y) {\n  return [(y = +y) * Math.cos(x -= Math.PI / 2), y * Math.sin(x)];\n}\n","import {slice} from \"./array\";\nimport constant from \"./constant\";\nimport offsetNone from \"./offset/none\";\nimport orderNone from \"./order/none\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var kz = keys.apply(this, arguments),\n        i,\n        m = data.length,\n        n = kz.length,\n        sz = new Array(n),\n        oz;\n\n    for (i = 0; i < n; ++i) {\n      for (var ki = kz[i], si = sz[i] = new Array(m), j = 0, sij; j < m; ++j) {\n        si[j] = sij = [0, +value(data[j], ki, j, data)];\n        sij.data = data[j];\n      }\n      si.key = ki;\n    }\n\n    for (i = 0, oz = order(sz); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(slice.call(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","import {path} from \"d3-path\";\nimport circle from \"./symbol/circle\";\nimport cross from \"./symbol/cross\";\nimport diamond from \"./symbol/diamond\";\nimport star from \"./symbol/star\";\nimport square from \"./symbol/square\";\nimport triangle from \"./symbol/triangle\";\nimport wye from \"./symbol/wye\";\nimport constant from \"./constant\";\n\nexport var symbols = [\n  circle,\n  cross,\n  diamond,\n  square,\n  star,\n  triangle,\n  wye\n];\n\nexport default function() {\n  var type = constant(circle),\n      size = constant(64),\n      context = null;\n\n  function symbol() {\n    var buffer;\n    if (!context) context = buffer = path();\n    type.apply(this, arguments).draw(context, +size.apply(this, arguments));\n    if (buffer) return context = null, buffer + \"\" || null;\n  }\n\n  symbol.type = function(_) {\n    return arguments.length ? (type = typeof _ === \"function\" ? _ : constant(_), symbol) : type;\n  };\n\n  symbol.size = function(_) {\n    return arguments.length ? (size = typeof _ === \"function\" ? _ : constant(+_), symbol) : size;\n  };\n\n  symbol.context = function(_) {\n    return arguments.length ? (context = _ == null ? null : _, symbol) : context;\n  };\n\n  return symbol;\n}\n","import {pi, tau} from \"../math\";\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / pi);\n    context.moveTo(r, 0);\n    context.arc(0, 0, r, 0, tau);\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / 5) / 2;\n    context.moveTo(-3 * r, -r);\n    context.lineTo(-r, -r);\n    context.lineTo(-r, -3 * r);\n    context.lineTo(r, -3 * r);\n    context.lineTo(r, -r);\n    context.lineTo(3 * r, -r);\n    context.lineTo(3 * r, r);\n    context.lineTo(r, r);\n    context.lineTo(r, 3 * r);\n    context.lineTo(-r, 3 * r);\n    context.lineTo(-r, r);\n    context.lineTo(-3 * r, r);\n    context.closePath();\n  }\n};\n","var tan30 = Math.sqrt(1 / 3),\n    tan30_2 = tan30 * 2;\n\nexport default {\n  draw: function(context, size) {\n    var y = Math.sqrt(size / tan30_2),\n        x = y * tan30;\n    context.moveTo(0, -y);\n    context.lineTo(x, 0);\n    context.lineTo(0, y);\n    context.lineTo(-x, 0);\n    context.closePath();\n  }\n};\n","export default {\n  draw: function(context, size) {\n    var w = Math.sqrt(size),\n        x = -w / 2;\n    context.rect(x, x, w, w);\n  }\n};\n","import {pi, tau} from \"../math\";\n\nvar ka = 0.89081309152928522810,\n    kr = Math.sin(pi / 10) / Math.sin(7 * pi / 10),\n    kx = Math.sin(tau / 10) * kr,\n    ky = -Math.cos(tau / 10) * kr;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size * ka),\n        x = kx * r,\n        y = ky * r;\n    context.moveTo(0, -r);\n    context.lineTo(x, y);\n    for (var i = 1; i < 5; ++i) {\n      var a = tau * i / 5,\n          c = Math.cos(a),\n          s = Math.sin(a);\n      context.lineTo(s * r, -c * r);\n      context.lineTo(c * x - s * y, s * x + c * y);\n    }\n    context.closePath();\n  }\n};\n","var sqrt3 = Math.sqrt(3);\n\nexport default {\n  draw: function(context, size) {\n    var y = -Math.sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n","var c = -0.5,\n    s = Math.sqrt(3) / 2,\n    k = 1 / Math.sqrt(12),\n    a = (k / 2 + 1) * 3;\n\nexport default {\n  draw: function(context, size) {\n    var r = Math.sqrt(size / a),\n        x0 = r / 2,\n        y0 = r * k,\n        x1 = x0,\n        y1 = r * k + r,\n        x2 = -x1,\n        y2 = y1;\n    context.moveTo(x0, y0);\n    context.lineTo(x1, y1);\n    context.lineTo(x2, y2);\n    context.lineTo(c * x0 - s * y0, s * x0 + c * y0);\n    context.lineTo(c * x1 - s * y1, s * x1 + c * y1);\n    context.lineTo(c * x2 - s * y2, s * x2 + c * y2);\n    context.lineTo(c * x0 + s * y0, c * y0 - s * x0);\n    context.lineTo(c * x1 + s * y1, c * y1 - s * x1);\n    context.lineTo(c * x2 + s * y2, c * y2 - s * x2);\n    context.closePath();\n  }\n};\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","export {default as timeFormatDefaultLocale, timeFormat, timeParse, utcFormat, utcParse} from \"./defaultLocale\";\nexport {default as timeFormatLocale} from \"./locale\";\nexport {default as isoFormat} from \"./isoFormat\";\nexport {default as isoParse} from \"./isoParse\";\n","import {utcFormat} from \"./defaultLocale\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat\";\nimport {utcParse} from \"./defaultLocale\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newYear(d.y)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = newDate(newYear(d.y)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = (+n[0]) * 1000, i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import interval from \"./interval\";\nimport {durationDay, durationMinute} from \"./duration\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval\";\nimport {durationHour, durationMinute} from \"./duration\";\n\nvar hour = interval(function(date) {\n  var offset = date.getTimezoneOffset() * durationMinute % durationHour;\n  if (offset < 0) offset += durationHour;\n  date.setTime(Math.floor((+date - offset) / durationHour) * durationHour + offset);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","export {\n  default as timeInterval\n} from \"./interval\";\n\nexport {\n  default as timeMillisecond,\n  milliseconds as timeMilliseconds,\n  default as utcMillisecond,\n  milliseconds as utcMilliseconds\n} from \"./millisecond\";\n\nexport {\n  default as timeSecond,\n  seconds as timeSeconds,\n  default as utcSecond,\n  seconds as utcSeconds\n} from \"./second\";\n\nexport {\n  default as timeMinute,\n  minutes as timeMinutes\n} from \"./minute\";\n\nexport {\n  default as timeHour,\n  hours as timeHours\n} from \"./hour\";\n\nexport {\n  default as timeDay,\n  days as timeDays\n} from \"./day\";\n\nexport {\n  sunday as timeWeek,\n  sundays as timeWeeks,\n  sunday as timeSunday,\n  sundays as timeSundays,\n  monday as timeMonday,\n  mondays as timeMondays,\n  tuesday as timeTuesday,\n  tuesdays as timeTuesdays,\n  wednesday as timeWednesday,\n  wednesdays as timeWednesdays,\n  thursday as timeThursday,\n  thursdays as timeThursdays,\n  friday as timeFriday,\n  fridays as timeFridays,\n  saturday as timeSaturday,\n  saturdays as timeSaturdays\n} from \"./week\";\n\nexport {\n  default as timeMonth,\n  months as timeMonths\n} from \"./month\";\n\nexport {\n  default as timeYear,\n  years as timeYears\n} from \"./year\";\n\nexport {\n  default as utcMinute,\n  utcMinutes as utcMinutes\n} from \"./utcMinute\";\n\nexport {\n  default as utcHour,\n  utcHours as utcHours\n} from \"./utcHour\";\n\nexport {\n  default as utcDay,\n  utcDays as utcDays\n} from \"./utcDay\";\n\nexport {\n  utcSunday as utcWeek,\n  utcSundays as utcWeeks,\n  utcSunday as utcSunday,\n  utcSundays as utcSundays,\n  utcMonday as utcMonday,\n  utcMondays as utcMondays,\n  utcTuesday as utcTuesday,\n  utcTuesdays as utcTuesdays,\n  utcWednesday as utcWednesday,\n  utcWednesdays as utcWednesdays,\n  utcThursday as utcThursday,\n  utcThursdays as utcThursdays,\n  utcFriday as utcFriday,\n  utcFridays as utcFridays,\n  utcSaturday as utcSaturday,\n  utcSaturdays as utcSaturdays\n} from \"./utcWeek\";\n\nexport {\n  default as utcMonth,\n  utcMonths as utcMonths\n} from \"./utcMonth\";\n\nexport {\n  default as utcYear,\n  utcYears as utcYears\n} from \"./utcYear\";\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar minute = interval(function(date) {\n  date.setTime(Math.floor(date / durationMinute) * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval\";\nimport {durationSecond} from \"./duration\";\n\nvar second = interval(function(date) {\n  date.setTime(Math.floor(date / durationSecond) * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval\";\nimport {durationDay} from \"./duration\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval\";\nimport {durationHour} from \"./duration\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval\";\nimport {durationWeek} from \"./duration\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import interval from \"./interval\";\nimport {durationMinute, durationWeek} from \"./duration\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","export {\n  now,\n  timer,\n  timerFlush\n} from \"./timer\";\n\nexport {\n  default as timeout\n} from \"./timeout\";\n\nexport {\n  default as interval\n} from \"./interval\";\n","import {Timer, now} from \"./timer\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer, total = delay;\n  if (delay == null) return t.restart(callback, delay, time), t;\n  delay = +delay, time = time == null ? now() : +time;\n  t.restart(function tick(elapsed) {\n    elapsed += total;\n    t.restart(tick, total += delay, time);\n    callback(elapsed);\n  }, delay, time);\n  return t;\n}\n","import {Timer} from \"./timer\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Transition} from \"./transition/index\";\nimport {SCHEDULED} from \"./transition/schedule\";\n\nvar root = [null];\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      i;\n\n  if (schedules) {\n    name = name == null ? null : name + \"\";\n    for (i in schedules) {\n      if ((schedule = schedules[i]).state > SCHEDULED && schedule.name === name) {\n        return new Transition([[node]], root, name, +i);\n      }\n    }\n  }\n\n  return null;\n}\n","import \"./selection/index\";\nexport {default as transition} from \"./transition/index\";\nexport {default as active} from \"./active\";\nexport {default as interrupt} from \"./interrupt\";\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    if (active) schedule.on.call(\"interrupt\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt\";\nimport selection_transition from \"./transition\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","import {Transition, newId} from \"../transition/index\";\nimport schedule from \"../transition/schedule\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var value00,\n      interpolate0;\n  return function() {\n    var value0 = this.getAttribute(name);\n    return value0 === value1 ? null\n        : value0 === value00 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var value00,\n      interpolate0;\n  return function() {\n    var value0 = this.getAttributeNS(fullname.space, fullname.local);\n    return value0 === value1 ? null\n        : value0 === value00 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0, value1 = value(this);\n    if (value1 == null) return void this.removeAttribute(name);\n    value0 = this.getAttribute(name);\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0, value1 = value(this);\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    value0 = this.getAttributeNS(fullname.space, fullname.local);\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value + \"\"));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrTweenNS(fullname, value) {\n  function tween() {\n    var node = this, i = value.apply(node, arguments);\n    return i && function(t) {\n      node.setAttributeNS(fullname.space, fullname.local, i(t));\n    };\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  function tween() {\n    var node = this, i = value.apply(node, arguments);\n    return i && function(t) {\n      node.setAttribute(name, i(t));\n    };\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {get, set} from \"./schedule\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr\";\nimport transition_attrTween from \"./attrTween\";\nimport transition_delay from \"./delay\";\nimport transition_duration from \"./duration\";\nimport transition_ease from \"./ease\";\nimport transition_filter from \"./filter\";\nimport transition_merge from \"./merge\";\nimport transition_on from \"./on\";\nimport transition_remove from \"./remove\";\nimport transition_select from \"./select\";\nimport transition_selectAll from \"./selectAll\";\nimport transition_selection from \"./selection\";\nimport transition_style from \"./style\";\nimport transition_styleTween from \"./styleTween\";\nimport transition_text from \"./text\";\nimport transition_transition from \"./transition\";\nimport transition_tween from \"./tween\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease\n};\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {Transition} from \"./index\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {get, set, init} from \"./schedule\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTING) throw new Error(\"too late; already started\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      // Dispatch the interrupt event.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions. No interrupt event is dispatched\n      // because the cancelled transitions never started. Note that this also\n      // removes this transition from the pending list!\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(null, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {tweenValue} from \"./tween\";\nimport interpolate from \"./interpolate\";\n\nfunction styleRemove(name, interpolate) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0 = style(this, name),\n        value1 = (this.style.removeProperty(name), style(this, name));\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nfunction styleRemoveEnd(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var value00,\n      interpolate0;\n  return function() {\n    var value0 = style(this, name);\n    return value0 === value1 ? null\n        : value0 === value00 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var value00,\n      value10,\n      interpolate0;\n  return function() {\n    var value0 = style(this, name),\n        value1 = value(this);\n    if (value1 == null) value1 = (this.style.removeProperty(name), style(this, name));\n    return value0 === value1 ? null\n        : value0 === value00 && value1 === value10 ? interpolate0\n        : interpolate0 = interpolate(value00 = value0, value10 = value1);\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n          .styleTween(name, styleRemove(name, i))\n          .on(\"end.style.\" + name, styleRemoveEnd(name))\n      : this.styleTween(name, typeof value === \"function\"\n          ? styleFunction(name, i, tweenValue(this, \"style.\" + name, value))\n          : styleConstant(name, i, value + \"\"), priority);\n}\n","function styleTween(name, value, priority) {\n  function tween() {\n    var node = this, i = value.apply(node, arguments);\n    return i && function(t) {\n      node.style.setProperty(name, i(t), priority);\n    };\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","import {Transition, newId} from \"./index\";\nimport schedule, {get} from \"./schedule\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {get, set} from \"./schedule\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","import {RedBlackNode} from \"./RedBlackTree\";\nimport {createCell} from \"./Cell\";\nimport {attachCircle, detachCircle} from \"./Circle\";\nimport {createEdge, setEdgeEnd} from \"./Edge\";\nimport {beaches, epsilon} from \"./Diagram\";\n\nvar beachPool = [];\n\nfunction Beach() {\n  RedBlackNode(this);\n  this.edge =\n  this.site =\n  this.circle = null;\n}\n\nfunction createBeach(site) {\n  var beach = beachPool.pop() || new Beach;\n  beach.site = site;\n  return beach;\n}\n\nfunction detachBeach(beach) {\n  detachCircle(beach);\n  beaches.remove(beach);\n  beachPool.push(beach);\n  RedBlackNode(beach);\n}\n\nexport function removeBeach(beach) {\n  var circle = beach.circle,\n      x = circle.x,\n      y = circle.cy,\n      vertex = [x, y],\n      previous = beach.P,\n      next = beach.N,\n      disappearing = [beach];\n\n  detachBeach(beach);\n\n  var lArc = previous;\n  while (lArc.circle\n      && Math.abs(x - lArc.circle.x) < epsilon\n      && Math.abs(y - lArc.circle.cy) < epsilon) {\n    previous = lArc.P;\n    disappearing.unshift(lArc);\n    detachBeach(lArc);\n    lArc = previous;\n  }\n\n  disappearing.unshift(lArc);\n  detachCircle(lArc);\n\n  var rArc = next;\n  while (rArc.circle\n      && Math.abs(x - rArc.circle.x) < epsilon\n      && Math.abs(y - rArc.circle.cy) < epsilon) {\n    next = rArc.N;\n    disappearing.push(rArc);\n    detachBeach(rArc);\n    rArc = next;\n  }\n\n  disappearing.push(rArc);\n  detachCircle(rArc);\n\n  var nArcs = disappearing.length,\n      iArc;\n  for (iArc = 1; iArc < nArcs; ++iArc) {\n    rArc = disappearing[iArc];\n    lArc = disappearing[iArc - 1];\n    setEdgeEnd(rArc.edge, lArc.site, rArc.site, vertex);\n  }\n\n  lArc = disappearing[0];\n  rArc = disappearing[nArcs - 1];\n  rArc.edge = createEdge(lArc.site, rArc.site, null, vertex);\n\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nexport function addBeach(site) {\n  var x = site[0],\n      directrix = site[1],\n      lArc,\n      rArc,\n      dxl,\n      dxr,\n      node = beaches._;\n\n  while (node) {\n    dxl = leftBreakPoint(node, directrix) - x;\n    if (dxl > epsilon) node = node.L; else {\n      dxr = x - rightBreakPoint(node, directrix);\n      if (dxr > epsilon) {\n        if (!node.R) {\n          lArc = node;\n          break;\n        }\n        node = node.R;\n      } else {\n        if (dxl > -epsilon) {\n          lArc = node.P;\n          rArc = node;\n        } else if (dxr > -epsilon) {\n          lArc = node;\n          rArc = node.N;\n        } else {\n          lArc = rArc = node;\n        }\n        break;\n      }\n    }\n  }\n\n  createCell(site);\n  var newArc = createBeach(site);\n  beaches.insert(lArc, newArc);\n\n  if (!lArc && !rArc) return;\n\n  if (lArc === rArc) {\n    detachCircle(lArc);\n    rArc = createBeach(lArc.site);\n    beaches.insert(newArc, rArc);\n    newArc.edge = rArc.edge = createEdge(lArc.site, newArc.site);\n    attachCircle(lArc);\n    attachCircle(rArc);\n    return;\n  }\n\n  if (!rArc) { // && lArc\n    newArc.edge = createEdge(lArc.site, newArc.site);\n    return;\n  }\n\n  // else lArc !== rArc\n  detachCircle(lArc);\n  detachCircle(rArc);\n\n  var lSite = lArc.site,\n      ax = lSite[0],\n      ay = lSite[1],\n      bx = site[0] - ax,\n      by = site[1] - ay,\n      rSite = rArc.site,\n      cx = rSite[0] - ax,\n      cy = rSite[1] - ay,\n      d = 2 * (bx * cy - by * cx),\n      hb = bx * bx + by * by,\n      hc = cx * cx + cy * cy,\n      vertex = [(cy * hb - by * hc) / d + ax, (bx * hc - cx * hb) / d + ay];\n\n  setEdgeEnd(rArc.edge, lSite, rSite, vertex);\n  newArc.edge = createEdge(lSite, site, null, vertex);\n  rArc.edge = createEdge(site, rSite, null, vertex);\n  attachCircle(lArc);\n  attachCircle(rArc);\n}\n\nfunction leftBreakPoint(arc, directrix) {\n  var site = arc.site,\n      rfocx = site[0],\n      rfocy = site[1],\n      pby2 = rfocy - directrix;\n\n  if (!pby2) return rfocx;\n\n  var lArc = arc.P;\n  if (!lArc) return -Infinity;\n\n  site = lArc.site;\n  var lfocx = site[0],\n      lfocy = site[1],\n      plby2 = lfocy - directrix;\n\n  if (!plby2) return lfocx;\n\n  var hl = lfocx - rfocx,\n      aby2 = 1 / pby2 - 1 / plby2,\n      b = hl / plby2;\n\n  if (aby2) return (-b + Math.sqrt(b * b - 2 * aby2 * (hl * hl / (-2 * plby2) - lfocy + plby2 / 2 + rfocy - pby2 / 2))) / aby2 + rfocx;\n\n  return (rfocx + lfocx) / 2;\n}\n\nfunction rightBreakPoint(arc, directrix) {\n  var rArc = arc.N;\n  if (rArc) return leftBreakPoint(rArc, directrix);\n  var site = arc.site;\n  return site[1] === directrix ? site[0] : Infinity;\n}\n","import {createBorderEdge} from \"./Edge\";\nimport {cells, edges, epsilon} from \"./Diagram\";\n\nexport function createCell(site) {\n  return cells[site.index] = {\n    site: site,\n    halfedges: []\n  };\n}\n\nfunction cellHalfedgeAngle(cell, edge) {\n  var site = cell.site,\n      va = edge.left,\n      vb = edge.right;\n  if (site === vb) vb = va, va = site;\n  if (vb) return Math.atan2(vb[1] - va[1], vb[0] - va[0]);\n  if (site === va) va = edge[1], vb = edge[0];\n  else va = edge[0], vb = edge[1];\n  return Math.atan2(va[0] - vb[0], vb[1] - va[1]);\n}\n\nexport function cellHalfedgeStart(cell, edge) {\n  return edge[+(edge.left !== cell.site)];\n}\n\nexport function cellHalfedgeEnd(cell, edge) {\n  return edge[+(edge.left === cell.site)];\n}\n\nexport function sortCellHalfedges() {\n  for (var i = 0, n = cells.length, cell, halfedges, j, m; i < n; ++i) {\n    if ((cell = cells[i]) && (m = (halfedges = cell.halfedges).length)) {\n      var index = new Array(m),\n          array = new Array(m);\n      for (j = 0; j < m; ++j) index[j] = j, array[j] = cellHalfedgeAngle(cell, edges[halfedges[j]]);\n      index.sort(function(i, j) { return array[j] - array[i]; });\n      for (j = 0; j < m; ++j) array[j] = halfedges[index[j]];\n      for (j = 0; j < m; ++j) halfedges[j] = array[j];\n    }\n  }\n}\n\nexport function clipCells(x0, y0, x1, y1) {\n  var nCells = cells.length,\n      iCell,\n      cell,\n      site,\n      iHalfedge,\n      halfedges,\n      nHalfedges,\n      start,\n      startX,\n      startY,\n      end,\n      endX,\n      endY,\n      cover = true;\n\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      site = cell.site;\n      halfedges = cell.halfedges;\n      iHalfedge = halfedges.length;\n\n      // Remove any dangling clipped edges.\n      while (iHalfedge--) {\n        if (!edges[halfedges[iHalfedge]]) {\n          halfedges.splice(iHalfedge, 1);\n        }\n      }\n\n      // Insert any border edges as necessary.\n      iHalfedge = 0, nHalfedges = halfedges.length;\n      while (iHalfedge < nHalfedges) {\n        end = cellHalfedgeEnd(cell, edges[halfedges[iHalfedge]]), endX = end[0], endY = end[1];\n        start = cellHalfedgeStart(cell, edges[halfedges[++iHalfedge % nHalfedges]]), startX = start[0], startY = start[1];\n        if (Math.abs(endX - startX) > epsilon || Math.abs(endY - startY) > epsilon) {\n          halfedges.splice(iHalfedge, 0, edges.push(createBorderEdge(site, end,\n              Math.abs(endX - x0) < epsilon && y1 - endY > epsilon ? [x0, Math.abs(startX - x0) < epsilon ? startY : y1]\n              : Math.abs(endY - y1) < epsilon && x1 - endX > epsilon ? [Math.abs(startY - y1) < epsilon ? startX : x1, y1]\n              : Math.abs(endX - x1) < epsilon && endY - y0 > epsilon ? [x1, Math.abs(startX - x1) < epsilon ? startY : y0]\n              : Math.abs(endY - y0) < epsilon && endX - x0 > epsilon ? [Math.abs(startY - y0) < epsilon ? startX : x0, y0]\n              : null)) - 1);\n          ++nHalfedges;\n        }\n      }\n\n      if (nHalfedges) cover = false;\n    }\n  }\n\n  // If there weren’t any edges, have the closest site cover the extent.\n  // It doesn’t matter which corner of the extent we measure!\n  if (cover) {\n    var dx, dy, d2, dc = Infinity;\n\n    for (iCell = 0, cover = null; iCell < nCells; ++iCell) {\n      if (cell = cells[iCell]) {\n        site = cell.site;\n        dx = site[0] - x0;\n        dy = site[1] - y0;\n        d2 = dx * dx + dy * dy;\n        if (d2 < dc) dc = d2, cover = cell;\n      }\n    }\n\n    if (cover) {\n      var v00 = [x0, y0], v01 = [x0, y1], v11 = [x1, y1], v10 = [x1, y0];\n      cover.halfedges.push(\n        edges.push(createBorderEdge(site = cover.site, v00, v01)) - 1,\n        edges.push(createBorderEdge(site, v01, v11)) - 1,\n        edges.push(createBorderEdge(site, v11, v10)) - 1,\n        edges.push(createBorderEdge(site, v10, v00)) - 1\n      );\n    }\n  }\n\n  // Lastly delete any cells with no edges; these were entirely clipped.\n  for (iCell = 0; iCell < nCells; ++iCell) {\n    if (cell = cells[iCell]) {\n      if (!cell.halfedges.length) {\n        delete cells[iCell];\n      }\n    }\n  }\n}\n","import {RedBlackNode} from \"./RedBlackTree\";\nimport {circles, epsilon2} from \"./Diagram\";\n\nvar circlePool = [];\n\nexport var firstCircle;\n\nfunction Circle() {\n  RedBlackNode(this);\n  this.x =\n  this.y =\n  this.arc =\n  this.site =\n  this.cy = null;\n}\n\nexport function attachCircle(arc) {\n  var lArc = arc.P,\n      rArc = arc.N;\n\n  if (!lArc || !rArc) return;\n\n  var lSite = lArc.site,\n      cSite = arc.site,\n      rSite = rArc.site;\n\n  if (lSite === rSite) return;\n\n  var bx = cSite[0],\n      by = cSite[1],\n      ax = lSite[0] - bx,\n      ay = lSite[1] - by,\n      cx = rSite[0] - bx,\n      cy = rSite[1] - by;\n\n  var d = 2 * (ax * cy - ay * cx);\n  if (d >= -epsilon2) return;\n\n  var ha = ax * ax + ay * ay,\n      hc = cx * cx + cy * cy,\n      x = (cy * ha - ay * hc) / d,\n      y = (ax * hc - cx * ha) / d;\n\n  var circle = circlePool.pop() || new Circle;\n  circle.arc = arc;\n  circle.site = cSite;\n  circle.x = x + bx;\n  circle.y = (circle.cy = y + by) + Math.sqrt(x * x + y * y); // y bottom\n\n  arc.circle = circle;\n\n  var before = null,\n      node = circles._;\n\n  while (node) {\n    if (circle.y < node.y || (circle.y === node.y && circle.x <= node.x)) {\n      if (node.L) node = node.L;\n      else { before = node.P; break; }\n    } else {\n      if (node.R) node = node.R;\n      else { before = node; break; }\n    }\n  }\n\n  circles.insert(before, circle);\n  if (!before) firstCircle = circle;\n}\n\nexport function detachCircle(arc) {\n  var circle = arc.circle;\n  if (circle) {\n    if (!circle.P) firstCircle = circle.N;\n    circles.remove(circle);\n    circlePool.push(circle);\n    RedBlackNode(circle);\n    arc.circle = null;\n  }\n}\n","import {addBeach, removeBeach} from \"./Beach\";\nimport {sortCellHalfedges, cellHalfedgeStart, clipCells} from \"./Cell\";\nimport {firstCircle} from \"./Circle\";\nimport {clipEdges} from \"./Edge\";\nimport RedBlackTree from \"./RedBlackTree\";\n\nexport var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var beaches;\nexport var cells;\nexport var circles;\nexport var edges;\n\nfunction triangleArea(a, b, c) {\n  return (a[0] - c[0]) * (b[1] - a[1]) - (a[0] - b[0]) * (c[1] - a[1]);\n}\n\nfunction lexicographic(a, b) {\n  return b[1] - a[1]\n      || b[0] - a[0];\n}\n\nexport default function Diagram(sites, extent) {\n  var site = sites.sort(lexicographic).pop(),\n      x,\n      y,\n      circle;\n\n  edges = [];\n  cells = new Array(sites.length);\n  beaches = new RedBlackTree;\n  circles = new RedBlackTree;\n\n  while (true) {\n    circle = firstCircle;\n    if (site && (!circle || site[1] < circle.y || (site[1] === circle.y && site[0] < circle.x))) {\n      if (site[0] !== x || site[1] !== y) {\n        addBeach(site);\n        x = site[0], y = site[1];\n      }\n      site = sites.pop();\n    } else if (circle) {\n      removeBeach(circle.arc);\n    } else {\n      break;\n    }\n  }\n\n  sortCellHalfedges();\n\n  if (extent) {\n    var x0 = +extent[0][0],\n        y0 = +extent[0][1],\n        x1 = +extent[1][0],\n        y1 = +extent[1][1];\n    clipEdges(x0, y0, x1, y1);\n    clipCells(x0, y0, x1, y1);\n  }\n\n  this.edges = edges;\n  this.cells = cells;\n\n  beaches =\n  circles =\n  edges =\n  cells = null;\n}\n\nDiagram.prototype = {\n  constructor: Diagram,\n\n  polygons: function() {\n    var edges = this.edges;\n\n    return this.cells.map(function(cell) {\n      var polygon = cell.halfedges.map(function(i) { return cellHalfedgeStart(cell, edges[i]); });\n      polygon.data = cell.site.data;\n      return polygon;\n    });\n  },\n\n  triangles: function() {\n    var triangles = [],\n        edges = this.edges;\n\n    this.cells.forEach(function(cell, i) {\n      if (!(m = (halfedges = cell.halfedges).length)) return;\n      var site = cell.site,\n          halfedges,\n          j = -1,\n          m,\n          s0,\n          e1 = edges[halfedges[m - 1]],\n          s1 = e1.left === site ? e1.right : e1.left;\n\n      while (++j < m) {\n        s0 = s1;\n        e1 = edges[halfedges[j]];\n        s1 = e1.left === site ? e1.right : e1.left;\n        if (s0 && s1 && i < s0.index && i < s1.index && triangleArea(site, s0, s1) < 0) {\n          triangles.push([site.data, s0.data, s1.data]);\n        }\n      }\n    });\n\n    return triangles;\n  },\n\n  links: function() {\n    return this.edges.filter(function(edge) {\n      return edge.right;\n    }).map(function(edge) {\n      return {\n        source: edge.left.data,\n        target: edge.right.data\n      };\n    });\n  },\n\n  find: function(x, y, radius) {\n    var that = this, i0, i1 = that._found || 0, n = that.cells.length, cell;\n\n    // Use the previously-found cell, or start with an arbitrary one.\n    while (!(cell = that.cells[i1])) if (++i1 >= n) return null;\n    var dx = x - cell.site[0], dy = y - cell.site[1], d2 = dx * dx + dy * dy;\n\n    // Traverse the half-edges to find a closer cell, if any.\n    do {\n      cell = that.cells[i0 = i1], i1 = null;\n      cell.halfedges.forEach(function(e) {\n        var edge = that.edges[e], v = edge.left;\n        if ((v === cell.site || !v) && !(v = edge.right)) return;\n        var vx = x - v[0], vy = y - v[1], v2 = vx * vx + vy * vy;\n        if (v2 < d2) d2 = v2, i1 = v.index;\n      });\n    } while (i1 !== null);\n\n    that._found = i0;\n\n    return radius == null || d2 <= radius * radius ? cell.site : null;\n  }\n}\n","import {cells, edges, epsilon} from \"./Diagram\";\n\nexport function createEdge(left, right, v0, v1) {\n  var edge = [null, null],\n      index = edges.push(edge) - 1;\n  edge.left = left;\n  edge.right = right;\n  if (v0) setEdgeEnd(edge, left, right, v0);\n  if (v1) setEdgeEnd(edge, right, left, v1);\n  cells[left.index].halfedges.push(index);\n  cells[right.index].halfedges.push(index);\n  return edge;\n}\n\nexport function createBorderEdge(left, v0, v1) {\n  var edge = [v0, v1];\n  edge.left = left;\n  return edge;\n}\n\nexport function setEdgeEnd(edge, left, right, vertex) {\n  if (!edge[0] && !edge[1]) {\n    edge[0] = vertex;\n    edge.left = left;\n    edge.right = right;\n  } else if (edge.left === right) {\n    edge[1] = vertex;\n  } else {\n    edge[0] = vertex;\n  }\n}\n\n// Liang–Barsky line clipping.\nfunction clipEdge(edge, x0, y0, x1, y1) {\n  var a = edge[0],\n      b = edge[1],\n      ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (!(t0 > 0) && !(t1 < 1)) return true; // TODO Better check?\n\n  if (t0 > 0) edge[0] = [ax + t0 * dx, ay + t0 * dy];\n  if (t1 < 1) edge[1] = [ax + t1 * dx, ay + t1 * dy];\n  return true;\n}\n\nfunction connectEdge(edge, x0, y0, x1, y1) {\n  var v1 = edge[1];\n  if (v1) return true;\n\n  var v0 = edge[0],\n      left = edge.left,\n      right = edge.right,\n      lx = left[0],\n      ly = left[1],\n      rx = right[0],\n      ry = right[1],\n      fx = (lx + rx) / 2,\n      fy = (ly + ry) / 2,\n      fm,\n      fb;\n\n  if (ry === ly) {\n    if (fx < x0 || fx >= x1) return;\n    if (lx > rx) {\n      if (!v0) v0 = [fx, y0];\n      else if (v0[1] >= y1) return;\n      v1 = [fx, y1];\n    } else {\n      if (!v0) v0 = [fx, y1];\n      else if (v0[1] < y0) return;\n      v1 = [fx, y0];\n    }\n  } else {\n    fm = (lx - rx) / (ry - ly);\n    fb = fy - fm * fx;\n    if (fm < -1 || fm > 1) {\n      if (lx > rx) {\n        if (!v0) v0 = [(y0 - fb) / fm, y0];\n        else if (v0[1] >= y1) return;\n        v1 = [(y1 - fb) / fm, y1];\n      } else {\n        if (!v0) v0 = [(y1 - fb) / fm, y1];\n        else if (v0[1] < y0) return;\n        v1 = [(y0 - fb) / fm, y0];\n      }\n    } else {\n      if (ly < ry) {\n        if (!v0) v0 = [x0, fm * x0 + fb];\n        else if (v0[0] >= x1) return;\n        v1 = [x1, fm * x1 + fb];\n      } else {\n        if (!v0) v0 = [x1, fm * x1 + fb];\n        else if (v0[0] < x0) return;\n        v1 = [x0, fm * x0 + fb];\n      }\n    }\n  }\n\n  edge[0] = v0;\n  edge[1] = v1;\n  return true;\n}\n\nexport function clipEdges(x0, y0, x1, y1) {\n  var i = edges.length,\n      edge;\n\n  while (i--) {\n    if (!connectEdge(edge = edges[i], x0, y0, x1, y1)\n        || !clipEdge(edge, x0, y0, x1, y1)\n        || !(Math.abs(edge[0][0] - edge[1][0]) > epsilon\n            || Math.abs(edge[0][1] - edge[1][1]) > epsilon)) {\n      delete edges[i];\n    }\n  }\n}\n","function RedBlackTree() {\n  this._ = null; // root node\n}\n\nexport function RedBlackNode(node) {\n  node.U = // parent node\n  node.C = // color - true for red, false for black\n  node.L = // left node\n  node.R = // right node\n  node.P = // previous node\n  node.N = null; // next node\n}\n\nRedBlackTree.prototype = {\n  constructor: RedBlackTree,\n\n  insert: function(after, node) {\n    var parent, grandpa, uncle;\n\n    if (after) {\n      node.P = after;\n      node.N = after.N;\n      if (after.N) after.N.P = node;\n      after.N = node;\n      if (after.R) {\n        after = after.R;\n        while (after.L) after = after.L;\n        after.L = node;\n      } else {\n        after.R = node;\n      }\n      parent = after;\n    } else if (this._) {\n      after = RedBlackFirst(this._);\n      node.P = null;\n      node.N = after;\n      after.P = after.L = node;\n      parent = after;\n    } else {\n      node.P = node.N = null;\n      this._ = node;\n      parent = null;\n    }\n    node.L = node.R = null;\n    node.U = parent;\n    node.C = true;\n\n    after = node;\n    while (parent && parent.C) {\n      grandpa = parent.U;\n      if (parent === grandpa.L) {\n        uncle = grandpa.R;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.R) {\n            RedBlackRotateLeft(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateRight(this, grandpa);\n        }\n      } else {\n        uncle = grandpa.L;\n        if (uncle && uncle.C) {\n          parent.C = uncle.C = false;\n          grandpa.C = true;\n          after = grandpa;\n        } else {\n          if (after === parent.L) {\n            RedBlackRotateRight(this, parent);\n            after = parent;\n            parent = after.U;\n          }\n          parent.C = false;\n          grandpa.C = true;\n          RedBlackRotateLeft(this, grandpa);\n        }\n      }\n      parent = after.U;\n    }\n    this._.C = false;\n  },\n\n  remove: function(node) {\n    if (node.N) node.N.P = node.P;\n    if (node.P) node.P.N = node.N;\n    node.N = node.P = null;\n\n    var parent = node.U,\n        sibling,\n        left = node.L,\n        right = node.R,\n        next,\n        red;\n\n    if (!left) next = right;\n    else if (!right) next = left;\n    else next = RedBlackFirst(right);\n\n    if (parent) {\n      if (parent.L === node) parent.L = next;\n      else parent.R = next;\n    } else {\n      this._ = next;\n    }\n\n    if (left && right) {\n      red = next.C;\n      next.C = node.C;\n      next.L = left;\n      left.U = next;\n      if (next !== right) {\n        parent = next.U;\n        next.U = node.U;\n        node = next.R;\n        parent.L = node;\n        next.R = right;\n        right.U = next;\n      } else {\n        next.U = parent;\n        parent = next;\n        node = next.R;\n      }\n    } else {\n      red = node.C;\n      node = next;\n    }\n\n    if (node) node.U = parent;\n    if (red) return;\n    if (node && node.C) { node.C = false; return; }\n\n    do {\n      if (node === this._) break;\n      if (node === parent.L) {\n        sibling = parent.R;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateLeft(this, parent);\n          sibling = parent.R;\n        }\n        if ((sibling.L && sibling.L.C)\n            || (sibling.R && sibling.R.C)) {\n          if (!sibling.R || !sibling.R.C) {\n            sibling.L.C = false;\n            sibling.C = true;\n            RedBlackRotateRight(this, sibling);\n            sibling = parent.R;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.R.C = false;\n          RedBlackRotateLeft(this, parent);\n          node = this._;\n          break;\n        }\n      } else {\n        sibling = parent.L;\n        if (sibling.C) {\n          sibling.C = false;\n          parent.C = true;\n          RedBlackRotateRight(this, parent);\n          sibling = parent.L;\n        }\n        if ((sibling.L && sibling.L.C)\n          || (sibling.R && sibling.R.C)) {\n          if (!sibling.L || !sibling.L.C) {\n            sibling.R.C = false;\n            sibling.C = true;\n            RedBlackRotateLeft(this, sibling);\n            sibling = parent.L;\n          }\n          sibling.C = parent.C;\n          parent.C = sibling.L.C = false;\n          RedBlackRotateRight(this, parent);\n          node = this._;\n          break;\n        }\n      }\n      sibling.C = true;\n      node = parent;\n      parent = parent.U;\n    } while (!node.C);\n\n    if (node) node.C = false;\n  }\n};\n\nfunction RedBlackRotateLeft(tree, node) {\n  var p = node,\n      q = node.R,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.R = q.L;\n  if (p.R) p.R.U = p;\n  q.L = p;\n}\n\nfunction RedBlackRotateRight(tree, node) {\n  var p = node,\n      q = node.L,\n      parent = p.U;\n\n  if (parent) {\n    if (parent.L === p) parent.L = q;\n    else parent.R = q;\n  } else {\n    tree._ = q;\n  }\n\n  q.U = parent;\n  p.U = q;\n  p.L = q.R;\n  if (p.L) p.L.U = p;\n  q.R = p;\n}\n\nfunction RedBlackFirst(node) {\n  while (node.L) node = node.L;\n  return node;\n}\n\nexport default RedBlackTree;\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","export {default as voronoi} from \"./voronoi\";\n","export function x(d) {\n  return d[0];\n}\n\nexport function y(d) {\n  return d[1];\n}\n","import constant from \"./constant\";\nimport {x as pointX, y as pointY} from \"./point\";\nimport Diagram, {epsilon} from \"./Diagram\";\n\nexport default function() {\n  var x = pointX,\n      y = pointY,\n      extent = null;\n\n  function voronoi(data) {\n    return new Diagram(data.map(function(d, i) {\n      var s = [Math.round(x(d, i, data) / epsilon) * epsilon, Math.round(y(d, i, data) / epsilon) * epsilon];\n      s.index = i;\n      s.data = d;\n      return s;\n    }), extent);\n  }\n\n  voronoi.polygons = function(data) {\n    return voronoi(data).polygons();\n  };\n\n  voronoi.links = function(data) {\n    return voronoi(data).links();\n  };\n\n  voronoi.triangles = function(data) {\n    return voronoi(data).triangles();\n  };\n\n  voronoi.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), voronoi) : x;\n  };\n\n  voronoi.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), voronoi) : y;\n  };\n\n  voronoi.extent = function(_) {\n    return arguments.length ? (extent = _ == null ? null : [[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]], voronoi) : extent && [[extent[0][0], extent[0][1]], [extent[1][0], extent[1][1]]];\n  };\n\n  voronoi.size = function(_) {\n    return arguments.length ? (extent = _ == null ? null : [[0, 0], [+_[0], +_[1]]], voronoi) : extent && [extent[1][0] - extent[0][0], extent[1][1] - extent[0][1]];\n  };\n\n  return voronoi;\n}\n","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n    value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lib = require('./lib');\n\nvar _lib2 = _interopRequireDefault(_lib);\n\nvar _containerManager = require('./container-manager');\n\nvar _containerManager2 = _interopRequireDefault(_containerManager);\n\nvar slLib = _lib2['default'].init(typeof window !== \"undefined\" ? window : undefined),\n    doc = slLib.win.document,\n    M = slLib.win.Math,\n    max = M.max,\n    round = M.round,\n    BLANK = '',\n    htmlSplCharSpace = { ' ': '&nbsp;' },\n    documentSupport = slLib.getDocumentSupport(),\n    SVG_BBOX_CORRECTION = documentSupport.isWebKit ? 0 : 4.5;\n\n/*\n * Create new instance of SmartLabelManager.\n *\n * SmartLabelManager controls the lifetime of the execution space where the text's metrics will be calculated.\n * This takes a string for a given style and returns the height, width.\n * If a bound box is defined it wraps the text and returns the wrapped height and width.\n * It allows to append ellipsis at the end if the text is truncated.\n *\n * @param {String | Number} id - Id of the instance. If the same id is passed, it disposes the old instance and\n *                              save the new one;\n * @param {String | HTMLElement} container - The id or the instance of the container where the intermediate dom\n *                              elements are to be attached. If not passed, it appends in div\n *\n * @param {Boolean} useEllipses - This decides if a ellipses to be appended if the text is truncated.\n * @param {Object} options - Control options\n *                          {\n *                              maxCacheLimit: No of letter to be cached. Default: 500.\n *                          }\n * @constructor\n */\nfunction SmartLabelManager(id, container, useEllipses, options) {\n    var wrapper,\n        prop,\n        max,\n        prevInstance,\n        isBrowserLess = false,\n        store = SmartLabelManager.store;\n\n    if (typeof id === 'undefined' || typeof id === 'object') {\n        return;\n    }\n\n    if (prevInstance = store[id]) {\n        prevInstance.dispose();\n    }\n\n    store[id] = this;\n    options = options || {};\n    options.maxCacheLimit = isFinite(max = options.maxCacheLimit) ? max : slLib.maxDefaultCacheLimit;\n\n    if (typeof container === 'string') {\n        container = doc.getElementById(container);\n    }\n\n    wrapper = slLib.createContainer(container);\n    wrapper.innerHTML = slLib.testStrAvg;\n\n    if (documentSupport.isHeadLess || !documentSupport.isIE && !wrapper.offsetHeight && !wrapper.offsetWidth) {\n        isBrowserLess = true;\n    }\n\n    wrapper.innerHTML = '';\n    for (prop in slLib.parentContainerStyle) {\n        wrapper.style[prop] = slLib.parentContainerStyle[prop];\n    }\n\n    this.id = id;\n    this.parentContainer = wrapper;\n\n    this._containerManager = new _containerManager2['default'](wrapper, isBrowserLess, 10);\n    this._showNoEllipses = !useEllipses;\n    this._init = true;\n    this.style = {};\n    this.options = options;\n\n    this.setStyle();\n}\n\n/*\n * getSmartText returns the text separated by <br/> whenever a break is necessary. This is to recgonize one\n * generalized format independent of the implementation (canvas based solution, svg based solution). This method\n * converts the output of getSmartText().text to array of lines if the text is wrapped. It sets a named property\n * `lines` on the object passed as parameter.\n *\n * @param {Object} smartlabel - the object returned by getSmartText based on which line arr which to be formed.\n *\n * @return {Object} - The same object which was passed in the arguments. Also a named property `lines` is set.\n */\nSmartLabelManager.textToLines = function (smartlabel) {\n    smartlabel = smartlabel || {};\n\n    if (!smartlabel.text) {\n        smartlabel.text = '';\n    } else if (typeof smartlabel.text !== 'string') {\n        smartlabel.text = smartlabel.text.toString();\n    }\n\n    smartlabel.lines = smartlabel.text.split(/\\n|<br\\s*?\\/?>/ig);\n    return smartlabel;\n};\n\n// Saves all the instance created so far\nSmartLabelManager.store = {};\n\n// Calculates space taken by a character with an approximation value which is calculated by repeating the\n// character by string length times.\nSmartLabelManager.prototype._calCharDimWithCache = function (text, calculateDifference, length) {\n    if (!this._init) {\n        return false;\n    }\n\n    var size,\n        csArr,\n        tw,\n        twi,\n        cachedStyle,\n        asymmetricDifference,\n        maxAdvancedCacheLimit = this.options.maxCacheLimit,\n        container = this._container,\n        style = this.style || {},\n        cache = this._advancedCache || (this._advancedCache = {}),\n        advancedCacheKey = this._advancedCacheKey || (this._advancedCacheKey = []),\n        cacheName = text + (style.fontSize || BLANK) + (style.fontFamily || BLANK) + (style.fontWeight || BLANK) + (style.fontStyle || BLANK),\n        cacheInitName = text + 'init' + (style.fontSize || BLANK) + (style.fontFamily || BLANK) + (style.fontWeight || BLANK) + (style.fontStyle || BLANK);\n\n    htmlSplCharSpace[text] && (text = htmlSplCharSpace[text]);\n\n    if (!calculateDifference) {\n        asymmetricDifference = 0;\n    } else {\n        if ((asymmetricDifference = cache[cacheInitName]) === undefined) {\n            container.innerHTML = text.repeat ? text.repeat(length) : Array(length + 1).join(text); // jshint ignore:line\n            tw = container.offsetWidth;\n\n            container.innerHTML = text;\n            twi = container.offsetWidth;\n\n            asymmetricDifference = cache[cacheInitName] = (tw - length * twi) / (length + 1);\n            advancedCacheKey.push(cacheInitName);\n            if (advancedCacheKey.length > maxAdvancedCacheLimit) {\n                delete cache[advancedCacheKey.shift()];\n            }\n        }\n    }\n\n    if (cachedStyle = cache[cacheName]) {\n        csArr = cachedStyle.split(',');\n        return {\n            width: parseFloat(csArr[0], 10),\n            height: parseFloat(csArr[1], 10)\n        };\n    }\n\n    container.innerHTML = text;\n\n    size = {\n        height: container.offsetHeight,\n        width: container.offsetWidth + asymmetricDifference\n    };\n\n    cache[cacheName] = size.width + ',' + size.height;\n    advancedCacheKey.push(cacheName);\n    if (advancedCacheKey.length > maxAdvancedCacheLimit) {\n        delete cache[advancedCacheKey.shift()];\n    }\n\n    return size;\n};\n\n// Provide function to calculate the height and width based on the environment and available support from dom.\nSmartLabelManager.prototype._getWidthFn = function () {\n    var contObj = this._containerObj,\n        container = this._container,\n        svgText = contObj.svgText;\n\n    if (svgText) {\n        return function (str) {\n            var bbox, width;\n\n            svgText.textContent = str;\n            bbox = svgText.getBBox();\n            width = bbox.width - SVG_BBOX_CORRECTION;\n            if (width < 1) {\n                width = bbox.width;\n            }\n\n            return width;\n        };\n    } else {\n        return function (str) {\n            container.innerHTML = str;\n            return container.offsetWidth;\n        };\n    }\n};\n\n/*\n * Sets the style based on which the text's metrics to be calculated.\n *\n * @param {Object} style - The style object which affects the text size\n *                      {\n *                          fontSize / 'font-size' : MUST BE FOLLOWED BY PX (10px, 11px)\n *                          fontFamily / 'font-family'\n *                          fontWeight / 'font-weight'\n *                          fontStyle / 'font-style'\n *                      }\n *\n * @return {SmartLabelManager} - Current instance of SmartLabelManager\n */\nSmartLabelManager.prototype.setStyle = function (style) {\n    if (!this._init) {\n        return this;\n    }\n\n    var sCont;\n\n    if (style === this.style && !this._styleNotSet) {\n        return;\n    }\n\n    if (!style) {\n        style = this.style;\n    }\n\n    slLib.setLineHeight(style);\n    this.style = style;\n\n    this._containerObj = sCont = this._containerManager.get(style);\n\n    if (this._containerObj) {\n        this._container = sCont.node;\n        this._context = sCont.context;\n        this._cache = sCont.charCache;\n        this._lineHeight = sCont.lineHeight;\n        this._styleNotSet = false;\n    } else {\n        this._styleNotSet = true;\n    }\n\n    return this;\n};\n\n/*\n * Decides whether ellipses to be shown if the node is truncated\n *\n * @param {Boolean} useEllipses - decides if a ellipses to be appended if the text is truncated. Default: false\n *\n * @return {SmartLabelManager} - Current instance of SmartLabelManager\n */\nSmartLabelManager.prototype.useEllipsesOnOverflow = function (useEllipses) {\n    if (!this._init) {\n        return this;\n    }\n    this._showNoEllipses = !useEllipses;\n    return this;\n};\n\n/*\n * Get wrapped or truncated text if a bound box is defined around it. The result text would be separated by <br/>\n * if wrapped\n *\n * @param {String} text - the subject text\n * @param {Number} maxWidth - width in px of the the bound box\n * @param {Number} maxHeight - height in px of the the bound box\n * @param {Boolean} noWrap - whether the text to be wrapped. Default false.\n *\n * @return {Object} - The metrics of the text bounded by the box\n *                  {\n *                      height : height of the wrapped text\n *                      width : width of the wrapped text\n *                      isTruncated : whether the text is truncated\n *                      maxHeight : Maximum height given\n *                      maxWidth : Maximum width given\n *                      oriText : Original text sent\n *                      oriTextHeight : Original text height\n *                      oriTextWidth : Original text width\n *                      text : SMART TEXT\n *                  }\n */\nSmartLabelManager.prototype.getSmartText = function (text, maxWidth, maxHeight, noWrap) {\n    if (!this._init) {\n        return false;\n    }\n\n    if (text === undefined || text === null) {\n        text = '';\n    } else if (typeof text !== 'string') {\n        text = text.toString();\n    }\n\n    var len,\n        trimStr,\n        tempArr,\n        tmpText,\n        maxWidthWithEll,\n        toolText,\n        oriWidth,\n        oriHeight,\n        newCharIndex,\n        nearestChar,\n        tempChar,\n        getWidth,\n        initialLeft,\n        initialTop,\n        getOriSizeImproveObj,\n        spanArr,\n        x,\n        y,\n        minWidth,\n        elem,\n        chr,\n        elemRightMostPoint,\n        elemLowestPoint,\n        lastBR,\n        removeFromIndex,\n        removeFromIndexForEllipses,\n        hasHTMLTag = false,\n        maxStrWidth = 0,\n        lastDash = -1,\n        lastSpace = -1,\n        lastIndexBroken = -1,\n        strWidth = 0,\n        strHeight = 0,\n        oriTextArr = [],\n        i = 0,\n        ellipsesStr = this._showNoEllipses ? '' : '...',\n        lineHeight = this._lineHeight,\n        context = this._context,\n        container = this._container,\n        sCont = this._containerObj,\n        ellipsesWidth = sCont.ellipsesWidth,\n        dotWidth = sCont.dotWidth,\n        characterArr = [],\n        dashIndex = -1,\n        spaceIndex = -1,\n        lastLineBreak = -1,\n        fastTrim = function fastTrim(str) {\n        str = str.replace(/^\\s\\s*/, '');\n        var ws = /\\s/,\n            i = str.length;\n        while (ws.test(str.charAt(i -= 1))) {/* jshint noempty:false */}\n        return str.slice(0, i + 1);\n    },\n        smartLabel = {\n        text: text,\n        maxWidth: maxWidth,\n        maxHeight: maxHeight,\n        width: null,\n        height: null,\n        oriTextWidth: null,\n        oriTextHeight: null,\n        oriText: text,\n        isTruncated: false\n    };\n\n    getWidth = this._getWidthFn();\n\n    // In some browsers, offsetheight of a single-line text is getting little (1 px) heigher value of the\n    // lineheight. As a result, smartLabel is unable to return single-line text.\n    // To fix this, increase the maxHeight a little amount. Hence maxHeight =  lineHeight * 1.2\n    if (maxHeight === lineHeight) {\n        maxHeight *= 1.2;\n    }\n\n    if (container) {\n        if (!documentSupport.isBrowserLess) {\n            hasHTMLTag = slLib.xmlTagRegEx.test(text);\n            if (!hasHTMLTag) {\n                // Due to support of <,> for xml we convert &lt;, &gt; to <,> respectively so to get the correct\n                // width it is required to convert the same before calculation for the new improve version of the\n                // get text width.\n                tmpText = text.replace(slLib.ltgtRegex, function (match) {\n                    return match === '&lt;' ? '<' : '>';\n                });\n                getOriSizeImproveObj = this.getOriSize(tmpText, true);\n\n                smartLabel.oriTextWidth = oriWidth = getOriSizeImproveObj.width;\n                smartLabel.oriTextHeight = oriHeight = getOriSizeImproveObj.height;\n            } else {\n                container.innerHTML = text;\n                smartLabel.oriTextWidth = oriWidth = container.offsetWidth;\n                smartLabel.oriTextHeight = oriHeight = container.offsetHeight;\n            }\n\n            if (oriHeight <= maxHeight && oriWidth <= maxWidth) {\n                smartLabel.width = smartLabel.oriTextWidth = oriWidth;\n                smartLabel.height = smartLabel.oriTextHeight = oriHeight;\n                return smartLabel;\n            }\n\n            if (lineHeight > maxHeight) {\n                smartLabel.text = '';\n                smartLabel.width = smartLabel.oriTextWidth = 0;\n                smartLabel.height = smartLabel.oriTextHeight = 0;\n                return smartLabel;\n            }\n        }\n\n        // Calculate width with ellipses\n        text = fastTrim(text).replace(/(\\s+)/g, ' ');\n        maxWidthWithEll = this._showNoEllipses ? maxWidth : maxWidth - ellipsesWidth;\n\n        if (!hasHTMLTag) {\n            oriTextArr = text.split('');\n            len = oriTextArr.length;\n            trimStr = '', tempArr = [];\n            tempChar = oriTextArr[0];\n\n            if (this._cache[tempChar]) {\n                minWidth = this._cache[tempChar].width;\n            } else {\n                minWidth = getWidth(tempChar);\n                this._cache[tempChar] = { width: minWidth };\n            }\n\n            if (maxWidthWithEll > minWidth) {\n                tempArr = text.substr(0, slLib.getNearestBreakIndex(text, maxWidthWithEll, this)).split('');\n                i = tempArr.length;\n            } else if (minWidth > maxWidth) {\n                smartLabel.text = '';\n                smartLabel.width = smartLabel.oriTextWidth = smartLabel.height = smartLabel.oriTextHeight = 0;\n                return smartLabel;\n            } else if (ellipsesStr) {\n                maxWidthWithEll = maxWidth - 2 * dotWidth;\n                if (maxWidthWithEll > minWidth) {\n                    ellipsesStr = '..';\n                } else {\n                    maxWidthWithEll = maxWidth - dotWidth;\n                    if (maxWidthWithEll > minWidth) {\n                        ellipsesStr = '.';\n                    } else {\n                        maxWidthWithEll = 0;\n                        ellipsesStr = '';\n                    }\n                }\n            }\n\n            strWidth = getWidth(tempArr.join(''));\n            strHeight = this._lineHeight;\n\n            if (noWrap) {\n                for (; i < len; i += 1) {\n                    tempChar = tempArr[i] = oriTextArr[i];\n                    if (this._cache[tempChar]) {\n                        minWidth = this._cache[tempChar].width;\n                    } else {\n                        if (!getOriSizeImproveObj || !(minWidth = getOriSizeImproveObj.detailObj[tempChar])) {\n                            minWidth = getWidth(tempChar);\n                        }\n                        this._cache[tempChar] = {\n                            width: minWidth\n                        };\n                    }\n                    strWidth += minWidth;\n                    if (strWidth > maxWidthWithEll) {\n                        if (!trimStr) {\n                            trimStr = tempArr.slice(0, -1).join('');\n                        }\n                        if (strWidth > maxWidth) {\n                            smartLabel.text = fastTrim(trimStr) + ellipsesStr;\n                            smartLabel.tooltext = smartLabel.oriText;\n                            smartLabel.width = getWidth(smartLabel.text);\n                            smartLabel.height = this._lineHeight;\n                            return smartLabel;\n                        }\n                    }\n                }\n\n                smartLabel.text = tempArr.join('');\n                smartLabel.width = strWidth;\n                smartLabel.height = this._lineHeight;\n                return smartLabel;\n            } else {\n                for (; i < len; i += 1) {\n                    tempChar = tempArr[i] = oriTextArr[i];\n                    if (tempChar === ' ' && !context) {\n                        tempChar = '&nbsp;';\n                    }\n\n                    if (this._cache[tempChar]) {\n                        minWidth = this._cache[tempChar].width;\n                    } else {\n                        if (!getOriSizeImproveObj || !(minWidth = getOriSizeImproveObj.detailObj[tempChar])) {\n                            minWidth = getWidth(tempChar);\n                        }\n                        this._cache[tempChar] = {\n                            width: minWidth\n                        };\n                    }\n                    strWidth += minWidth;\n\n                    if (strWidth > maxWidthWithEll) {\n                        if (!trimStr) {\n                            trimStr = tempArr.slice(0, -1).join('');\n                        }\n                        if (strWidth > maxWidth) {\n                            /** @todo use regular expressions for better performance. */\n                            lastSpace = text.substr(0, tempArr.length).lastIndexOf(' ');\n                            lastDash = text.substr(0, tempArr.length).lastIndexOf('-');\n                            if (lastSpace > lastIndexBroken) {\n                                strWidth = getWidth(tempArr.slice(lastIndexBroken + 1, lastSpace).join(''));\n                                tempArr.splice(lastSpace, 1, '<br/>');\n                                lastIndexBroken = lastSpace;\n                                newCharIndex = lastSpace + 1;\n                            } else if (lastDash > lastIndexBroken) {\n                                if (lastDash === tempArr.length - 1) {\n                                    strWidth = getWidth(tempArr.slice(lastIndexBroken + 1, lastSpace).join(''));\n                                    tempArr.splice(lastDash, 1, '<br/>-');\n                                } else {\n                                    strWidth = getWidth(tempArr.slice(lastIndexBroken + 1, lastSpace).join(''));\n                                    tempArr.splice(lastDash, 1, '-<br/>');\n                                }\n                                lastIndexBroken = lastDash;\n                                newCharIndex = lastDash + 1;\n                            } else {\n                                tempArr.splice(tempArr.length - 1, 1, '<br/>' + oriTextArr[i]);\n                                lastLineBreak = tempArr.length - 2;\n                                strWidth = getWidth(tempArr.slice(lastIndexBroken + 1, lastLineBreak + 1).join(''));\n                                lastIndexBroken = lastLineBreak;\n                                newCharIndex = i;\n                            }\n                            strHeight += this._lineHeight;\n                            if (strHeight > maxHeight) {\n                                smartLabel.text = fastTrim(trimStr) + ellipsesStr;\n                                smartLabel.tooltext = smartLabel.oriText;\n                                // The max width among all the lines will be the width of the string.\n                                smartLabel.width = maxWidth;\n                                smartLabel.height = strHeight - this._lineHeight;\n                                return smartLabel;\n                            } else {\n                                maxStrWidth = max(maxStrWidth, strWidth);\n                                trimStr = null;\n                                nearestChar = slLib.getNearestBreakIndex(text.substr(newCharIndex), maxWidthWithEll, this);\n                                strWidth = getWidth(text.substr(newCharIndex, nearestChar || 1));\n                                if (tempArr.length < newCharIndex + nearestChar) {\n                                    tempArr = tempArr.concat(text.substr(tempArr.length, newCharIndex + nearestChar - tempArr.length).split(''));\n                                    i = tempArr.length - 1;\n                                }\n                            }\n                        }\n                    }\n                }\n\n                maxStrWidth = max(maxStrWidth, strWidth);\n\n                smartLabel.text = tempArr.join('');\n                smartLabel.width = maxStrWidth;\n                smartLabel.height = strHeight;\n                return smartLabel;\n            }\n        } else {\n            toolText = text.replace(slLib.spanAdditionRegx, '$2');\n            text = text.replace(slLib.spanAdditionRegx, slLib.spanAdditionReplacer);\n            text = text.replace(/(<br\\s*\\/*\\>)/g, '<span class=\"' + [slLib.classNameWithTag, ' ', slLib.classNameWithTagBR].join('') + '\">$1</span>');\n\n            container.innerHTML = text;\n\n            spanArr = container[documentSupport.childRetriverFn](documentSupport.childRetriverString);\n\n            for (x = 0, y = spanArr.length; x < y; x += 1) {\n                elem = spanArr[x];\n                //chech whether this span is temporary inserted span from it's class\n                if (documentSupport.noClassTesting || slLib.classNameReg.test(elem.className)) {\n                    chr = elem.innerHTML;\n                    if (chr !== '') {\n                        if (chr === ' ') {\n                            spaceIndex = characterArr.length;\n                        } else if (chr === '-') {\n                            dashIndex = characterArr.length;\n                        }\n\n                        characterArr.push({\n                            spaceIdx: spaceIndex,\n                            dashIdx: dashIndex,\n                            elem: elem\n                        });\n                        oriTextArr.push(chr);\n                    }\n                }\n            }\n\n            i = 0;\n            len = characterArr.length;\n            minWidth = characterArr[0].elem.offsetWidth;\n\n            if (minWidth > maxWidth) {\n                smartLabel.text = '';\n                smartLabel.width = smartLabel.oriTextWidth = smartLabel.height = smartLabel.oriTextHeight = 0;\n\n                return smartLabel;\n            } else if (minWidth > maxWidthWithEll && !this._showNoEllipses) {\n\n                maxWidthWithEll = maxWidth - 2 * dotWidth;\n                if (maxWidthWithEll > minWidth) {\n                    ellipsesStr = '..';\n                } else {\n                    maxWidthWithEll = maxWidth - dotWidth;\n                    if (maxWidthWithEll > minWidth) {\n                        ellipsesStr = '.';\n                    } else {\n                        maxWidthWithEll = 0;\n                        ellipsesStr = '';\n                    }\n                }\n            }\n\n            initialLeft = characterArr[0].elem.offsetLeft;\n            initialTop = characterArr[0].elem.offsetTop;\n\n            if (noWrap) {\n                for (; i < len; i += 1) {\n                    elem = characterArr[i].elem;\n                    elemRightMostPoint = elem.offsetLeft - initialLeft + elem.offsetWidth;\n\n                    if (elemRightMostPoint > maxWidthWithEll) {\n                        if (!removeFromIndexForEllipses) {\n                            removeFromIndexForEllipses = i;\n                        }\n                        if (container.offsetWidth > maxWidth) {\n                            removeFromIndex = i;\n                            i = len;\n                        }\n                    }\n                }\n            } else {\n                for (; i < len; i += 1) {\n                    elem = characterArr[i].elem;\n                    elemLowestPoint = elem.offsetHeight + (elem.offsetTop - initialTop);\n                    elemRightMostPoint = elem.offsetLeft - initialLeft + elem.offsetWidth;\n\n                    lastBR = null;\n\n                    if (elemRightMostPoint > maxWidthWithEll) {\n                        if (!removeFromIndexForEllipses) {\n                            removeFromIndexForEllipses = i;\n                        }\n\n                        if (elemRightMostPoint > maxWidth) {\n                            lastSpace = characterArr[i].spaceIdx;\n                            lastDash = characterArr[i].dashIdx;\n                            if (lastSpace > lastIndexBroken) {\n                                characterArr[lastSpace].elem.innerHTML = '<br/>';\n                                lastIndexBroken = lastSpace;\n                            } else if (lastDash > lastIndexBroken) {\n                                if (lastDash === i) {\n                                    // in case the overflowing character itself is the '-'\n                                    characterArr[lastDash].elem.innerHTML = '<br/>-';\n                                } else {\n                                    characterArr[lastDash].elem.innerHTML = '-<br/>';\n                                }\n                                lastIndexBroken = lastDash;\n                            } else {\n                                elem.parentNode.insertBefore(lastBR = doc.createElement('br'), elem);\n                            }\n\n                            //check whether this break made current element outside the area height\n                            if (elem.offsetHeight + elem.offsetTop > maxHeight) {\n                                //remove the lastly inserted line break\n                                if (lastBR) {\n                                    lastBR.parentNode.removeChild(lastBR);\n                                } else if (lastIndexBroken === lastDash) {\n                                    characterArr[lastDash].elem.innerHTML = '-';\n                                } else {\n                                    characterArr[lastSpace].elem.innerHTML = ' ';\n                                }\n                                removeFromIndex = i;\n                                //break the looping condition\n                                i = len;\n                            } else {\n                                removeFromIndexForEllipses = null;\n                            }\n                        }\n                    } else {\n                        //check whether this break made current element outside the area height\n                        if (elemLowestPoint > maxHeight) {\n                            removeFromIndex = i;\n                            i = len;\n                        }\n                    }\n                }\n            }\n\n            if (removeFromIndex < len) {\n                //set the trancated property of the smartlabel\n                smartLabel.isTruncated = true;\n\n                /** @todo is this really needed? */\n                removeFromIndexForEllipses = removeFromIndexForEllipses ? removeFromIndexForEllipses : removeFromIndex;\n\n                for (i = len - 1; i >= removeFromIndexForEllipses; i -= 1) {\n                    elem = characterArr[i].elem;\n                    //chech whether this span is temporary inserted span from it's class\n                    elem.parentNode.removeChild(elem);\n                }\n\n                for (; i >= 0; i -= 1) {\n                    elem = characterArr[i].elem;\n                    if (slLib.classNameBrReg.test(elem.className)) {\n                        //chech whether this span is temporary inserted span from it's class\n                        elem.parentNode.removeChild(elem);\n                    } else {\n                        i = 0;\n                    }\n                }\n            }\n\n            //get the smart text\n            smartLabel.text = container.innerHTML.replace(slLib.spanRemovalRegx, '$1').replace(/\\&amp\\;/g, '&');\n            if (smartLabel.isTruncated) {\n                smartLabel.text += ellipsesStr;\n                smartLabel.tooltext = toolText;\n            }\n        }\n\n        smartLabel.height = container.offsetHeight;\n        smartLabel.width = container.offsetWidth;\n\n        return smartLabel;\n    } else {\n        smartLabel.error = new Error('Body Tag Missing!');\n        return smartLabel;\n    }\n};\n\n/*\n * Get the height and width of a text.\n *\n * @param {String} text - Text whose metrics to be measured\n * @param {Boolean} Optional detailedCalculationFlag - this flag if set it calculates per letter position\n *                          information and returns it. Ideally you dont need it unless you want to post process the\n *                          string. And its an EXPENSIVE OPERATION.\n *\n * @return {Object} - If detailedCalculationFlag is set to true the returned object would be\n *                  {\n *                      height: height of the text\n *                      width: width of the text\n *                      detailObj: detail calculation of letters in the format {lettername: width}\n *                  }\n *                  If detailedCalculationFlag is set to false the returned object wont have the detailObj prop.\n */\nSmartLabelManager.prototype.getOriSize = function (text, detailedCalculationFlag) {\n    if (!this._init) {\n        return false;\n    }\n\n    var textArr,\n        letter,\n        lSize,\n        i,\n        l,\n        cumulativeSize = 0,\n        height = 0,\n        indiSizeStore = {};\n\n    if (!detailedCalculationFlag) {\n        return this._calCharDimWithCache(text);\n    }\n\n    // Calculate the width of every letter with an approximation\n    textArr = text.split('');\n    for (i = 0, l = textArr.length; i < l; i++) {\n        letter = textArr[i];\n        lSize = this._calCharDimWithCache(letter, true, textArr.length);\n        height = max(height, lSize.height);\n        cumulativeSize += lSize.width;\n        indiSizeStore[letter] = lSize.width;\n    }\n\n    return {\n        width: round(cumulativeSize),\n        height: height,\n        detailObj: indiSizeStore\n    };\n};\n\n/*\n * Dispose the container and object allocated by the smartlabel\n */\nSmartLabelManager.prototype.dispose = function () {\n    if (!this._init) {\n        return this;\n    }\n\n    this._containerManager && this._containerManager.dispose && this._containerManager.dispose();\n\n    delete this._container;\n    delete this._context;\n    delete this._cache;\n    delete this._containerManager;\n    delete this._containerObj;\n    delete this.id;\n    delete this.style;\n    delete this.parentContainer;\n    delete this._showNoEllipses;\n\n    return this;\n};\n\nexports['default'] = SmartLabelManager;\nmodule.exports = exports['default'];","'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _lib = require('./lib');\n\nvar _lib2 = _interopRequireDefault(_lib);\n\nvar slLib = _lib2['default'].init(typeof window !== \"undefined\" ? window : undefined),\n    doc = slLib.win.document,\n    documentSupport = slLib.getDocumentSupport(),\n    SVG_BBOX_CORRECTION = documentSupport.isWebKit ? 0 : 4.5;\n\nfunction ContainerManager(parentContainer, isBrowserLess, maxContainers) {\n    var svg;\n\n    maxContainers = maxContainers > 5 ? maxContainers : 5;\n    maxContainers = maxContainers < 20 ? maxContainers : 20;\n\n    this.maxContainers = maxContainers;\n    this.first = null;\n    this.last = null;\n    this.containers = {};\n    this.length = 0;\n    this.rootNode = parentContainer;\n\n    if (isBrowserLess) {\n        svg = doc.createElementNS('http://www.w3.org/2000/svg', 'svg');\n        svg.setAttributeNS('http://www.w3.org/2000/svg', 'xlink', 'http://www.w3.org/1999/xlink');\n        svg.setAttributeNS('http://www.w3.org/2000/svg', 'height', '0');\n        svg.setAttributeNS('http://www.w3.org/2000/svg', 'width', '0');\n        this.svgRoot = svg;\n        this.rootNode.appendChild(svg);\n    }\n}\n\nContainerManager.prototype.get = function (style) {\n    var diff,\n        key,\n        containerObj,\n        containers = this.containers,\n        len = this.length,\n        max = this.maxContainers,\n        keyStr = '';\n\n    for (key in slLib.supportedStyle) {\n        if (style[key] !== undefined) {\n            keyStr += slLib.supportedStyle[key] + ':' + style[key] + ';';\n        }\n    }\n\n    if (!keyStr) {\n        return false;\n    }\n\n    if (containerObj = containers[keyStr]) {\n        if (this.first !== containerObj) {\n            containerObj.prev && (containerObj.prev.next = containerObj.next);\n            containerObj.next && (containerObj.next.prev = containerObj.prev);\n            containerObj.next = this.first;\n            containerObj.next.prev = containerObj;\n            this.last === containerObj && (this.last = containerObj.prev);\n            containerObj.prev = null;\n            this.first = containerObj;\n        }\n    } else {\n        if (len >= max) {\n            diff = len - max + 1;\n            // +1 is to remove an extra entry to make space for the new container to be added.\n            while (diff--) {\n                this.removeContainer(this.last);\n            }\n        }\n        containerObj = this.addContainer(keyStr);\n    }\n\n    return containerObj;\n};\n\nContainerManager.prototype.addContainer = function (keyStr) {\n    var node, container;\n\n    this.containers[keyStr] = container = {\n        next: null,\n        prev: null,\n        node: null,\n        ellipsesWidth: 0,\n        lineHeight: 0,\n        dotWidth: 0,\n        avgCharWidth: 4,\n        keyStr: keyStr,\n        charCache: {}\n    };\n\n    // Since the container objects are arranged from most recent to least recent order, we need to add the new\n    // object at the beginning of the list.\n    container.next = this.first;\n    container.next && (container.next.prev = container);\n    this.first = container;\n    if (!this.last) {\n        this.last = container;\n    }\n    this.length += 1;\n\n    node = container.node = doc.createElement('div');\n    this.rootNode.appendChild(node);\n\n    if (documentSupport.isIE && !documentSupport.hasSVG) {\n        node.style.setAttribute('cssText', keyStr);\n    } else {\n        node.setAttribute('style', keyStr);\n    }\n\n    node.setAttribute('aria-hidden', 'true');\n    node.setAttribute('role', 'presentation');\n    node.style.display = 'inline-block';\n\n    node.innerHTML = slLib.testStrAvg; // A test string.\n    container.lineHeight = node.offsetHeight;\n    container.avgCharWidth = node.offsetWidth / 3;\n\n    if (documentSupport.isBrowserLess) {\n        node = container.svgText = doc.createElementNS('http://www.w3.org/2000/svg', 'text');\n        node.setAttribute('style', keyStr);\n        this.svgRoot.appendChild(node);\n\n        node.textContent = slLib.testStrAvg; // A test string.\n        container.lineHeight = node.getBBox().height;\n        container.avgCharWidth = (node.getBBox().width - SVG_BBOX_CORRECTION) / 3;\n\n        node.textContent = '...';\n        container.ellipsesWidth = node.getBBox().width - SVG_BBOX_CORRECTION;\n        node.textContent = '.';\n        container.dotWidth = node.getBBox().width - SVG_BBOX_CORRECTION;\n    } else {\n        node.innerHTML = '...';\n        container.ellipsesWidth = node.offsetWidth;\n        node.innerHTML = '.';\n        container.dotWidth = node.offsetWidth;\n        node.innerHTML = '';\n    }\n\n    return container;\n};\n\nContainerManager.prototype.removeContainer = function (cObj) {\n    var keyStr = cObj.keyStr;\n\n    if (!keyStr || !this.length || !cObj) {\n        return;\n    }\n    this.length -= 1;\n\n    cObj.prev && (cObj.prev.next = cObj.next);\n    cObj.next && (cObj.next.prev = cObj.prev);\n    this.first === cObj && (this.first = cObj.next);\n    this.last === cObj && (this.last = cObj.prev);\n\n    cObj.node.parentNode.removeChild(cObj.node);\n\n    delete this.containers[keyStr];\n};\n\nContainerManager.prototype.dispose = function () {\n    var key,\n        containers = this.containers;\n\n    this.maxContainers = null;\n    for (key in containers) {\n        this.removeContainer(containers[key]);\n    }\n\n    this.rootNode.parentNode.removeChild(this.rootNode);\n\n    this.rootNode = null;\n    this.first = null;\n    this.last = null;\n};\n\nmodule.exports = ContainerManager;","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n\tvalue: true\n});\nvar lib = {\n\tinit: function init(win) {\n\t\tvar doc = win.document,\n\t\t    nav = win.navigator,\n\t\t    userAgent = nav.userAgent,\n\t\t    DIV = 'DIV',\n\t\t    ceil = Math.ceil,\n\t\t    floor = Math.floor,\n\t\t    containerInstanceCount = 0,\n\t\t    clsNameSpace = 'fusioncharts-smartlabel-',\n\t\t    containerClass = clsNameSpace + 'container',\n\t\t    classNameWithTag = clsNameSpace + 'tag',\n\t\t    classNameWithTagBR = clsNameSpace + 'br';\n\n\t\tlib = {\n\t\t\twin: win,\n\n\t\t\tcontainerClass: containerClass,\n\n\t\t\tclassNameWithTag: classNameWithTag,\n\n\t\t\tclassNameWithTagBR: classNameWithTagBR,\n\n\t\t\tmaxDefaultCacheLimit: 500,\n\n\t\t\tclassNameReg: new RegExp('\\b' + classNameWithTag + '\\b'),\n\n\t\t\tclassNameBrReg: new RegExp('\\b' + classNameWithTagBR + '\\b'),\n\n\t\t\tspanAdditionRegx: /(<[^<\\>]+?\\>)|(&(?:[a-z]+|#[0-9]+);|.)/ig,\n\n\t\t\tspanAdditionReplacer: '$1<span class=\"' + classNameWithTag + '\">$2</span>',\n\n\t\t\tspanRemovalRegx: new RegExp('\\\\<span[^\\\\>]+?' + classNameWithTag + '[^\\\\>]{0,}\\\\>(.*?)\\\\<\\\\/span\\\\>', 'ig'),\n\n\t\t\txmlTagRegEx: new RegExp('<[^>][^<]*[^>]+>', 'i'),\n\n\t\t\tltgtRegex: /&lt;|&gt;/g,\n\n\t\t\tbrReplaceRegex: /<br\\/>/ig,\n\n\t\t\ttestStrAvg: 'WgI',\n\n\t\t\t// This style is applied over the parent smartlabel container. The container is kept hidden from the viewport\n\t\t\tparentContainerStyle: {\n\t\t\t\tposition: 'absolute',\n\t\t\t\ttop: '-9999em',\n\t\t\t\twhiteSpace: 'nowrap',\n\t\t\t\tpadding: '0px',\n\t\t\t\twidth: '1px',\n\t\t\t\theight: '1px',\n\t\t\t\toverflow: 'hidden'\n\t\t\t},\n\n\t\t\t// All the style which might affect the text metrics\n\t\t\tsupportedStyle: {\n\t\t\t\tfont: 'font',\n\t\t\t\tfontFamily: 'font-family',\n\t\t\t\t'font-family': 'font-family',\n\t\t\t\tfontWeight: 'font-weight',\n\t\t\t\t'font-weight': 'font-weight',\n\t\t\t\tfontSize: 'font-size',\n\t\t\t\t'font-size': 'font-size',\n\t\t\t\tlineHeight: 'line-height',\n\t\t\t\t'line-height': 'line-height',\n\t\t\t\tfontStyle: 'font-style',\n\t\t\t\t'font-style': 'font-style'\n\t\t\t},\n\n\t\t\t// Get the support list for html the document where the text calcution is to be done.\n\t\t\tgetDocumentSupport: function getDocumentSupport() {\n\t\t\t\tvar childRetriverFn, childRetriverString, noClassTesting;\n\n\t\t\t\tif (doc.getElementsByClassName) {\n\t\t\t\t\tchildRetriverFn = 'getElementsByClassName';\n\t\t\t\t\tchildRetriverString = classNameWithTag;\n\t\t\t\t\tnoClassTesting = true;\n\t\t\t\t} else {\n\t\t\t\t\tchildRetriverFn = 'getElementsByTagName';\n\t\t\t\t\tchildRetriverString = 'span';\n\t\t\t\t\tnoClassTesting = false;\n\t\t\t\t}\n\n\t\t\t\treturn {\n\t\t\t\t\tisIE: /msie/i.test(userAgent) && !win.opera,\n\t\t\t\t\thasSVG: Boolean(win.SVGAngle || doc.implementation.hasFeature('http://www.w3.org/TR/SVG11/feature#BasicStructure', '1.1')),\n\t\t\t\t\tisHeadLess: new RegExp(' HtmlUnit').test(userAgent),\n\t\t\t\t\tisWebKit: new RegExp(' AppleWebKit/').test(userAgent),\n\t\t\t\t\tchildRetriverFn: childRetriverFn,\n\t\t\t\t\tchildRetriverString: childRetriverString,\n\t\t\t\t\tnoClassTesting: noClassTesting\n\t\t\t\t};\n\t\t\t},\n\n\t\t\t/*\n    * Create a html div element and attach it with a parent. All the subsequent operations are performed\n    * by upding this dom tree only.\n    *\n    * @param {HTMLElement} - The html element where the newly created div is to be attached. If not passed,\n    *                      the new div is appended on the body.\n    */\n\t\t\tcreateContainer: function createContainer(containerParent) {\n\t\t\t\tvar body, container;\n\n\t\t\t\tif (containerParent && (containerParent.offsetWidth || containerParent.offsetHeight)) {\n\t\t\t\t\tif (containerParent.appendChild) {\n\t\t\t\t\t\tcontainerParent.appendChild(container = doc.createElement(DIV));\n\t\t\t\t\t\tcontainer.className = containerClass;\n\t\t\t\t\t\tcontainer.setAttribute('aria-hidden', 'true');\n\t\t\t\t\t\tcontainer.setAttribute('role', 'presentation');\n\t\t\t\t\t\treturn container;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tbody = doc.getElementsByTagName('body')[0];\n\n\t\t\t\t\tif (body && body.appendChild) {\n\t\t\t\t\t\tcontainer = doc.createElement(DIV);\n\t\t\t\t\t\tcontainer.className = containerClass;\n\t\t\t\t\t\tcontainer.setAttribute('aria-hidden', 'true');\n\t\t\t\t\t\tcontainer.setAttribute('role', 'presentation');\n\t\t\t\t\t\tcontainerInstanceCount += 1;\n\t\t\t\t\t\tbody.appendChild(container);\n\t\t\t\t\t\treturn container;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// Finds a approximate position where the text is to be broken\n\t\t\tgetNearestBreakIndex: function getNearestBreakIndex(text, maxWidth, sl) {\n\t\t\t\tif (!text || !text.length) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\tvar difference,\n\t\t\t\t    getWidth = sl._getWidthFn(),\n\t\t\t\t    charLen = 0,\n\t\t\t\t    increment = 0,\n\t\t\t\t    oriWidth = getWidth(text),\n\t\t\t\t    avgWidth = oriWidth / text.length;\n\n\t\t\t\tdifference = maxWidth;\n\t\t\t\tcharLen = ceil(maxWidth / avgWidth);\n\n\t\t\t\tif (oriWidth < maxWidth) {\n\t\t\t\t\treturn text.length - 1;\n\t\t\t\t}\n\n\t\t\t\tif (charLen > text.length) {\n\t\t\t\t\tdifference = maxWidth - oriWidth;\n\t\t\t\t\tcharLen = text.length;\n\t\t\t\t}\n\n\t\t\t\twhile (difference > 0) {\n\t\t\t\t\tdifference = maxWidth - getWidth(text.substr(0, charLen));\n\t\t\t\t\tincrement = floor(difference / avgWidth);\n\t\t\t\t\tif (increment) {\n\t\t\t\t\t\tcharLen += increment;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn charLen;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\twhile (difference < 0) {\n\t\t\t\t\tdifference = maxWidth - getWidth(text.substr(0, charLen));\n\t\t\t\t\tincrement = floor(difference / avgWidth);\n\t\t\t\t\tif (increment) {\n\t\t\t\t\t\tcharLen += increment;\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn charLen;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn charLen;\n\t\t\t},\n\n\t\t\t/*\n    * Determine lineheight of a text for a given style. It adds propery lineHeight to the style passed\n    *\n    * @param {Object} - The style based on which the text's metric needs to be calculated. The calculation happens\n    *                  based on fontSize property, if its not present a default font size is assumed.\n    *\n    * @return {Object} - The style that was passed with lineHeight as a named propery set on the object.\n    */\n\t\t\tsetLineHeight: function setLineHeight(styleObj) {\n\t\t\t\tvar fSize = styleObj.fontSize = styleObj.fontSize || '12px';\n\t\t\t\tstyleObj.lineHeight = styleObj.lineHeight || styleObj['line-height'] || parseInt(fSize, 10) * 1.2 + 'px';\n\t\t\t\treturn styleObj;\n\t\t\t}\n\t\t};\n\n\t\treturn lib;\n\t}\n};\n\nexports['default'] = lib;\nmodule.exports = exports['default'];","import { getUniqueId } from '../index';\n/**\n * Represents the base class that all objects that form\n * the data for a selection must inherit from.\n *\n * @class DataObject\n */\nclass DataObject {\n/**\n * Creates an instance of DataObject.\n * @memberof DataObject\n */\n    constructor () {\n        this._id = getUniqueId();\n    }\n    /**\n     * Returns the id.\n     *\n     * @readonly\n     * @memberof DataObject\n     */\n    get id () {\n        return this._id;\n    }\n\n    /**\n     * Sets the value corresponding to supplied key.\n     *\n     * @param {string} key The property name.\n     * @param {any} value Value associated with prop.\n     * @memberof DataObject\n     */\n    attr (key, value) {\n        this[key] = value;\n    }\n\n    /**\n     * Clean up code to be executed by each object.\n     *\n     * @override\n     * @memberof DataObject\n     */\n    remove () {\n        // cleanup\n    }\n}\n\nexport default DataObject;\n","import Selection from './selection';\n/**\n * This function applies a selection operation on a data array.\n *\n * @export\n * @param {Array} [data=[]] The data array to be observed.\n * @return {Selection} Instance of a selection.\n */\nexport default function dataSelect (data = []) {\n    return new Selection(data);\n}\n\n","import dataSelect from './dataSelect';\nimport DataObject from './data-object';\n\nexport { dataSelect, DataObject };\n","/**\n * This class represents a selection applied on a data array.\n *\n * @class Selection\n */\nclass Selection {\n    /**\n     * Creates an instance of Selection.\n     * @param {Array<DataObject>} data Array of DataObjects.\n     * @memberof Selection\n     */\n    constructor () {\n        this._data = [];\n        // // map of id to data\n        this._idMap = {};\n\n        this._mode = '';\n        // data.forEach((item, idx) => {\n        //     const index = item.id || idx;\n        //     this._idMap[index] = item;\n        // });\n        // // array to store data in enter phase\n        this._enterdata = [];\n        // // array to store data in exit phase\n        this._exitdata = [];\n    }\n    /**\n     *  Gets the object bound to a class\n     *\n     * @return {Object} current data set bound to the class\n     * @memberof Selection\n     */\n    getObjects () {\n        return Object.keys(this._idMap).map(e => this._idMap[e]);\n    }\n\n    /**\n     * This method is used to supply seed data to a selection.\n     *\n     * @param {Array} newData Seed data to create the enter selection.\n     * @param {Functon | undefined } idGetter This function is used to uniqely identify a data entry.\n     * @return {Selection} Modified selection.\n     * @memberof Selection\n     */\n    data (newData, idGetter) {\n        if (idGetter) {\n            this._data = [];\n            this._idGetter = idGetter;\n            const tempMap = {};\n\n            newData.forEach((...params) => {\n                const index = idGetter(...params);\n                tempMap[index] = params[0];\n            });\n            // check if any data items have been removed\n            const purgedIds = [];\n\n            Object.keys(this._idMap).forEach((id) => {\n                if (!tempMap[id]) {\n                    purgedIds.push(id);\n                }\n            });\n\n            Object.keys(tempMap).forEach((id) => {\n                if (!this._idMap[id]) {\n                    this._enterdata.push(tempMap[id]);\n                } else {\n                    this._idMap[id] = tempMap[id];\n                    this._data.push(tempMap[id]);\n                }\n            });\n            // move the purged items to exit selection\n            purgedIds.forEach((id) => {\n                const purged = this._idMap[id];\n                this._exitdata.push(purged);\n                // this._data = this._data.slice(id, 1);\n                delete this._idMap[id];\n            });\n            // this._data = this._data.slice(temp, this._data.length);\n\n            return this;\n        }\n        // no id getter supplied so use indices\n        if (newData.length > this._data.length) {\n            const startIdx = this._data.length;\n            for (let i = startIdx; i < newData.length; i += 1) {\n                this._enterdata.push(newData[i]);\n            }\n        } else {\n            // push to exit selection\n            const temp = newData.length;\n            for (let i = temp; i < this._data.length; i += 1) {\n                const purged = this._data[i];\n                delete this._idMap[purged.id];\n                this._exitdata.push(purged);\n            }\n            this._data = this._data.slice(temp, this._data.length);\n        }\n        return this;\n    }\n\n    /**\n     * Applies the supplied callback to each data element\n     * and returns a new selection.\n     *\n     * @param {Function} callback Callback to execute on each item.\n     * @return {Selection} New selection with data created using callback.\n     * @memberof EnterSelection\n     */\n    append (callback) {\n        this[`_${this._mode}data`].forEach((...params) => {\n            const data = params[0];\n            const id = this._idGetter ? this._idGetter(...params) : (data.id || params[1]);\n            this._idMap[id] = callback(...params);\n        });\n        this._mode = '';\n        return this;\n    }\n\n    /**\n     * This method returns an enter selection that\n     * allows or update operations.\n     *\n     * @return {EnterSelection} Instance of enter selection.\n     * @memberof Selection\n     */\n    enter () {\n        this._mode = 'enter';\n        return this;\n        // return new EnterSelection(this._enterdata, this._idMap, this._idGetter);\n    }\n\n    /**\n     * This method is used to set key value pairs\n     * on data objects.\n     *\n     * @param {string} key Name of property.\n     * @param {any} value Value of property.\n     * @return {Selection} Modified selection.\n     * @memberof Selection\n     */\n    attr (key, value) {\n        this._data.forEach(item => item.attr(key, value));\n        return this;\n    }\n\n    /**\n     * This method merges the data of one selection with another.\n     *\n     * @param {Selection} selection Instance of selection.\n     * @return {Selection} Modified selection.\n     * @memberof Selection\n     */\n    merge (selection) {\n        selection._data.forEach((...params) => {\n            const id = this._idGetter ? this._idGetter(...params) : (params[0].id || params[1]);\n            this._idMap[id] = params[0];\n            this._data.push(params[0]);\n        });\n        // reset enter selection\n        this._enterdata = [];\n        return this;\n    }\n\n    /**\n     * Returns a selection with exit data.\n     *\n     * @return {Selection} Instance of selection.\n     * @memberof Selection\n     */\n    exit () {\n        this._mode = 'exit';\n        // const exitdata = this._exitdata;\n        // const exitSelection = new Selection(exitdata);\n        // this._exitdata = [];\n        return this;\n    }\n\n    each (fn) {\n        Object.keys(this._idMap).forEach((e) => {\n            fn(this._idMap[e]);\n        });\n        return this;\n    }\n\n    map (fn) {\n        Object.keys(this._idMap).forEach((...params) => {\n            this._idMap[params[0]] = fn(this._idMap[params[0]], ...params);\n        });\n        return this;\n    }\n\n    /**\n     * Executes the cleanup operation associated with data objets.\n     *\n     * @memberof Selection\n     */\n    remove () {\n        // do cleanup on DDO's\n        const data = this[`_${this._mode}data`];\n\n        data.forEach(item => item.remove());\n        if (this._mode === '') {\n            this.each(e => e.remove());\n        }\n        this[`_${this._mode}data`] = [];\n        this._mode = '';\n    }\n}\n\nexport default Selection;\n","export {\n    schemeDark2,\n    schemePaired,\n    schemeAccent,\n    schemePastel1,\n    schemePastel2,\n    schemeSet1,\n    schemeSet2,\n    schemeSet3,\n    schemeBlues,\n    schemeBrBG,\n    schemePRGn,\n    schemePiYG,\n\n    interpolateBrBG,\n    interpolatePRGn,\n    interpolatePiYG,\n    interpolatePuOr,\n    interpolateRdBu,\n    interpolateRdGy,\n    interpolateRdYlBu,\n    interpolateRdYlGn,\n    interpolateSpectral,\n\n    interpolateBlues,\n    interpolateGreens,\n    interpolateGreys,\n    interpolateOranges,\n    interpolatePurples,\n    interpolateReds,\n\n    interpolateViridis,\n    interpolateInferno,\n    interpolateMagma,\n    interpolatePlasma,\n    interpolateWarm,\n    interpolateCool,\n    interpolateCubehelixDefault,\n    interpolateBuGn,\n    interpolateBuPu,\n    interpolateGnBu,\n    interpolateOrRd,\n    interpolatePuBuGn,\n    interpolatePuBu,\n    interpolatePuRd,\n    interpolateRdPu,\n    interpolateYlGnBu,\n    interpolateYlGn,\n    interpolateYlOrBr,\n    interpolateYlOrRd,\n    interpolateRainbow\n} from 'd3-scale-chromatic';\n\n","/* global window, requestAnimationFrame, cancelAnimationFrame */\nimport { FieldType, DimensionSubtype } from 'datamodel';\nimport {\n    axisLeft,\n    axisRight,\n    axisTop,\n    axisBottom\n} from 'd3-axis';\nimport {\n    symbolCircle,\n    symbolCross,\n    symbolDiamond,\n    symbolSquare,\n    symbolStar,\n    symbolWye,\n    symbolTriangle,\n    symbol,\n    stack as d3Stack,\n    stackOffsetDiverging,\n    stackOrderNone,\n    stackOrderAscending,\n    stackOrderDescending,\n    stackOffsetNone,\n    stackOffsetExpand,\n    stackOffsetWiggle,\n    pie,\n    arc,\n    line,\n    curveLinear,\n    curveStepAfter,\n    curveStepBefore,\n    curveStep,\n    curveCatmullRom,\n    area\n} from 'd3-shape';\nimport { scaleBand } from 'd3-scale';\nimport { nest } from 'd3-collection';\nimport {\n    interpolate,\n    interpolateRgb,\n    piecewise,\n    interpolateNumber,\n    interpolateHslLong\n} from 'd3-interpolate';\nimport {\n    easeCubic,\n    easeBounce,\n    easePoly,\n    easeBack,\n    easeCircle,\n    easeLinear,\n    easeElastic\n} from 'd3-ease';\nimport {\n   color,\n   rgb,\n   hsl\n} from 'd3-color';\nimport { voronoi } from 'd3-voronoi';\nimport Model from 'hyperdis';\nimport * as STACK_CONFIG from './enums/stack-config';\n\nconst HTMLElement = window.HTMLElement;\n\nconst isSimpleObject = (obj) => {\n    let token;\n    if (typeof obj === 'object') {\n        if (obj === null) { return false; }\n        token = Object.prototype.toString.call(obj);\n        if (token === '[object Object]') {\n            return (obj.constructor.toString().match(/^function (.*)\\(\\)/m) || [])[1] === 'Object';\n        }\n    }\n    return false;\n};\n\n/**\n * Returns unique id\n * @return {string} Unique id string\n */\nconst\n    getUniqueId = () => `id-${new Date().getTime()}${Math.round(Math.random() * 10000)}`;\n\n/**\n * Deep copies an object and returns a new object.\n * @param {Object} o Object to clone\n * @return {Object} New Object.\n */\nconst clone = (o) => {\n    const output = {};\n    let v;\n    for (const key in o) {\n        if ({}.hasOwnProperty.call(o, key)) {\n            v = o[key];\n            output[key] = isSimpleObject(v) ? clone(v) : v;\n        }\n    }\n    return output;\n};\n\n/**\n* Checks the existence of keys in an object\n* @param {Array} keys Set of keys which are to be checked\n* @param {Object} obj whose keys are checked from the set of keys provided\n* @return {Object} Error if the keys are absent, or the object itself\n*/\nconst checkExistence = (keys, obj) => {\n    const nonExistentKeys = [];\n    keys.forEach((key) => {\n        if (key in obj) {\n            return;\n        }\n        nonExistentKeys.push(key);\n    });\n    return nonExistentKeys;\n};\n\nconst sanitizeIP = {\n    typeObj: (keys, obj) => {\n        if (typeof obj !== 'object') {\n            return Error('Argument type object expected');\n        }\n\n        const nonExistentKeys = checkExistence(keys, obj);\n        if (nonExistentKeys.length) {\n            return Error(`Missing keys from parameter ${nonExistentKeys.join(', ')}`);\n        }\n        return obj;\n    },\n\n    /* istanbul ignore next */ htmlElem: (elem) => {\n        if (!(elem instanceof HTMLElement)) {\n            return Error('HTMLElement required');\n        }\n        return elem;\n    }\n};\n\n/**\n * Gets the maximum value from an array of objects for a given property name\n * @param  {Array.<Object>} data   Array of objects\n * @param  {string} field Field name\n * @return {number} Maximum value\n */\nconst getMax = (data, field) => Math.max(...data.filter(d => !isNaN(d[field])).map(d => d[field]));\n\n/**\n * Gets the minimum value from an array of objects for a given property name\n * @param  {Array.<Object>} data   Array of objects\n * @param  {string} field Field name\n * @return {number} Minimum value\n */\nconst getMin = (data, field) => Math.min(...data.filter(d => !isNaN(d[field])).map(d => d[field]));\n\n/**\n * Gets the domain from the data based on the field name and type of field\n * @param  {Array.<Object> | Array.<Array>} data       Data Array\n * @param  {Array.<string>} fields    Array of fields from where the domain will be calculated\n * @param {string} fieldType Type of field - nominal, quantitiative, temporal.\n * @return {Array} Usually contains a min and max value if field is quantitative or\n * an array of values if field type is nominal or ordinal\n */\nconst getDomainFromData = (data, fields, fieldType) => {\n    let domain;\n    let domArr;\n    data = data[0] instanceof Array ? data : [data];\n    switch (fieldType) {\n    case DimensionSubtype.CATEGORICAL:\n        domain = [].concat(...data.map(arr => arr.map(d => d[fields[0]]).filter(d => d !== undefined)));\n        break;\n    default:\n        domArr = data.map((arr) => {\n            const firstMin = getMin(arr, fields[0]);\n            const secondMin = getMin(arr, fields[1]);\n            const firstMax = getMax(arr, fields[0]);\n            const secondMax = getMax(arr, fields[1]);\n            return [Math.min(firstMin, secondMin), Math.max(firstMax, secondMax)];\n        });\n        domain = [Math.min(...domArr.map(d => d[0])), Math.max(...domArr.map(d => d[1]))];\n        break;\n    }\n    return domain;\n};\n\n/**\n * Union Domain values\n * @param {Array.<Array>} domains Array of domain values\n * @param {string} fieldType type of field - dimension,measure or datetime.\n * @return {Array} Unioned domain of all domain values.\n */\nconst unionDomain = (domains, fieldType) => {\n    let domain;\n    domains = domains.filter(dom => dom && dom.length);\n    if (fieldType === DimensionSubtype.CATEGORICAL) {\n        domain = domain = [].concat(...domains);\n    } else {\n        domain = [Math.min(...domains.map(d => d[0])), Math.max(...domains.map(d => d[1]))];\n    }\n\n    return domain;\n};\n\nconst symbolFns = {\n    circle: symbolCircle,\n    cross: symbolCross,\n    diamond: symbolDiamond,\n    square: symbolSquare,\n    star: symbolStar,\n    wye: symbolWye,\n    triangle: symbolTriangle\n};\n\nconst easeFns = {\n    cubic: easeCubic,\n    bounce: easeBounce,\n    linear: easeLinear,\n    elastic: easeElastic,\n    back: easeBack,\n    poly: easePoly,\n    circle: easeCircle\n};\n\n/**\n * Returns the maximum or minimum points of a compare value from an array of objects.\n * @param {Array} points Array of objects\n * @param {string} compareValue Key in the object on which the comparing will be done.\n * @param {string} minOrMax minimum or maximum.\n * @return {Object} Minimum or maximum point.\n */\nconst getExtremePoint = (points, compareValue, minOrMax) => {\n    let extremePoint;\n    let point;\n    const len = points.length;\n    let minOrMaxVal = minOrMax === 'max' ? -Infinity : Infinity;\n    let val;\n\n    for (let i = 0; i < len; i++) {\n        point = points[i];\n        val = point[compareValue];\n        if (minOrMax === 'min' ? val < minOrMaxVal : val > minOrMaxVal) {\n            minOrMaxVal = val;\n            extremePoint = point;\n        }\n    }\n\n    return extremePoint;\n};\n\n/**\n * Returns the minimum point of a compare value from an array of objects.\n * @param {Array} points Array of objects\n * @param {string} compareValue Key in the object on which the comparing will be done.\n * @return {Object} Minimum point.\n */\nconst getMinPoint = (points, compareValue) => getExtremePoint(points, compareValue, 'min');\n\n/**\n * Returns the maximum point of a compare value from an array of objects.\n * @param {Array} points Array of objects\n * @param {string} compareValue Key in the object on which the comparing will be done.\n * @return {Object} Maximum point.\n */\nconst getMaxPoint = (points, compareValue) => getExtremePoint(points, compareValue, 'max');\n\n/**\n * Gets the index of the closest value of the given value from the array.\n * @param {Array} arr Array of values\n * @param {number} value Value from which the nearest value will be calculated.\n * @param {string} side side property.\n * @return {number} index of the closest value\n */\n/* istanbul ignore next */const getClosestIndexOf = (arr, value, side) => {\n    let low = 0;\n    const arrLen = arr.length;\n    let high = arrLen - 1;\n\n    let mid;\n    let d1;\n    let d2;\n\n    while (low < high) {\n        mid = Math.floor((low + high) / 2);\n        d1 = Math.abs(arr[mid] - value);\n        d2 = Math.abs(arr[mid + 1] - value);\n\n        if (d2 <= d1) {\n            low = mid + 1;\n        } else {\n            high = mid;\n        }\n    }\n\n    if (!side) {\n        return high;\n    }\n\n    const highVal = arr[high];\n    if (highVal === value) {\n        return high;\n    } else if (highVal > value) {\n        if (high === 0) { return high; }\n        return side === 'left' ? high - 1 : high;\n    }\n    if (high === arr.length - 1) { return high; }\n    return side === 'left' ? high : high + 1;\n};\n\n/**\n * Returns the browser window object\n * @return {Window} Window object\n*/\nconst getWindow = () => window;\n\n/**\n * Returns the browser window object\n * @return {Window} Window object\n*/\nconst reqAnimFrame = (() => requestAnimationFrame)();\n\nconst cancelAnimFrame = (() => cancelAnimationFrame)();\n\n/**\n * Capitalizes the first letter of the word\n * @param {string} text word\n * @return {string} Capitalized word\n */\nconst capitalizeFirst = (text) => {\n    text = text.toLowerCase();\n\n    return text.replace(/\\w\\S*/g, txt => txt.charAt(0).toUpperCase() + txt.substr(1));\n};\n\n/**\n *\n *\n * @param {*} arr\n */\nconst unique = arr => ([...new Set(arr)]);\n\n/**\n * Gets the minimum difference between two consecutive numbers  in an array.\n * @param {Array} arr Array of numbers\n * @param {number} index index of the value\n * @return {number} minimum difference between values\n */\n/* istanbul ignore next */ const getMinDiff = (arr, index) => {\n    let diff;\n    let uniqueVals;\n    if (index !== undefined) {\n        uniqueVals = unique(arr.map(d => d[index]));\n    } else {\n        uniqueVals = unique(arr);\n    }\n    if (uniqueVals.length > 1) {\n        diff = Math.abs(uniqueVals[1] - uniqueVals[0]);\n        for (let i = 2, len = uniqueVals.length; i < len; i++) {\n            diff = Math.min(diff, Math.abs(uniqueVals[i] - uniqueVals[i - 1]));\n        }\n    } else {\n        diff = uniqueVals[0];\n    }\n\n    return diff;\n};\n\n/**\n * Returns the class name appended with a given id.\n * @param {string} cls class name\n * @param {string} id unique identifier\n * @param {string} prefix string needed to add before the classname\n * @return {string} qualified class name\n */\n/* istanbul ignore next */const getQualifiedClassName = (cls, id, prefix) => {\n    cls = cls.replace(/^\\.*/, '');\n    return [`${prefix}-${cls}`, `${prefix}-${cls}-${id}`];\n};\n\n/**\n * This method is used to set the default value for variables\n * without sullying the code with conditional statements.\n *\n * @export\n * @param {any} param The parameter to test.\n * @param {any} value The default value to assign.\n * @return {any} The value.\n */\n/* istanbul ignore next */ const defaultValue = (param, value) => {\n    if (typeof param === 'undefined' || (typeof param === 'object' && !param)) {\n        return value;\n    }\n    return param;\n};\n\n/**\n * DESCRIPTION TODO\n *\n * @export\n * @param {Object} graph graph whose dependency order has to be generated\n * @return {Object}\n */\nconst getDependencyOrder = (graph) => {\n    const dependencyOrder = [];\n    const visited = {};\n    const keys = Object.keys(graph);\n    /**\n     * DESCRIPTION TODO\n     *\n     * @export\n     * @param {Object} name\n     * @return {Object}\n     */\n    const visit = (name) => {\n        if (dependencyOrder.length === keys.length) {\n            return true;\n        }\n        visited[name] = true;\n        const edges = graph[name];\n        for (let e = 0; e < edges.length; e++) {\n            const dep = edges[e];\n            if (!visited[dep]) {\n                visit(dep);\n            }\n        }\n\n        dependencyOrder.push(name);\n        return false;\n    };\n\n    for (let i = 0; i < keys.length; i++) {\n        if (visit(keys[i], i)) break;\n    }\n\n    return dependencyOrder;\n};\n\n/**\n * Iterates over the properties of an object and applies the function\n *\n * @param {any} obj object to be iterated upon\n * @param {any} fn  function to be applied on it\n */\nconst objectIterator = (obj, fn) => {\n    for (const key in obj) {\n        if (Object.hasOwnProperty.call(obj, key)) {\n            fn(key, obj);\n        }\n    }\n};\n\n/**\n * This class creates a d3 voronoi for retrieving the nearest neighbour of any point from a set of two\n * dimensional points\n * @class Voronoi\n */\n/* istanbul ignore next */ class Voronoi {\n    /**\n     * Initialize the voronoi with the data given.\n     * @param {Array.<Object>} data Array of points.\n     */\n    constructor (data) {\n        this._voronoi = voronoi().x(d => d.x).y(d => d.y);\n        this.data(data);\n    }\n\n    /**\n     * Sets the data to voronoi\n     * @param {Array.<Object>} data Array of objects.\n     * @return {Voronoi} Instance of voronoi.\n     */\n    data (data) {\n        if (data) {\n            this._voronoiFn = this._voronoi(data);\n        }\n        return this;\n    }\n\n    /**\n     * Finds the closest point to the x and y position given.\n     * @param {number} x x value\n     * @param {number} y y value\n     * @param {number} radius search radius.\n     * @return {Object} Details of the nearest point.\n     */\n    find (x, y, radius) {\n        return this._voronoiFn.find(x, y, radius);\n    }\n}\n\nconst addListenerToNamespace = (namespaceInf, fn, context) => {\n    let key = namespaceInf.key;\n    const namespace = namespaceInf.namespace;\n    if (namespace) {\n        !context._listeners[namespace] && (context._listeners[namespace] = []);\n        if (!key) {\n            key = Object.keys(context._listeners[namespace]).length;\n        }\n        context._listeners[namespace][key] = fn;\n    } else {\n        key = Object.keys(context._listeners).length;\n        context._listeners[key] = fn;\n    }\n};\n\n/**\n *\n *\n * @param {*} obj\n * @param {*} fields\n *\n */\nconst getObjProp = (obj, ...fields) => {\n    if (obj === undefined || obj === null) {\n        return obj;\n    }\n    let retObj = obj;\n    for (let i = 0, len = fields.length; i < len; i++) {\n        retObj = retObj[fields[i]];\n        if (retObj === undefined || retObj === null) {\n            break;\n        }\n    }\n    return retObj;\n};\n\n/**\n * Methods to handle changes to table configuration and reactivity are handled by this\n * class.\n */\n/**\n *  Common store class\n *\n * @class Store\n */\nclass Store {\n    /**\n     * Creates an instance of Store.\n     * @param {Object} config The object to create the state store with.\n     * @memberof Store\n     */\n    constructor (config) {\n        // create reactive model\n        this.model = Model.create(config);\n        this._listeners = {};\n    }\n\n    /**\n     * This method returns a plain JSON object\n     * with all the fields in the state store.\n     *\n     * @return {Object} Serialized representation of state store.\n     * @memberof Store\n     */\n    serialize () {\n        return this.model.serialize();\n    }\n\n    /**\n     * This method is used to update the value of a property in the state store.\n     *\n     * @param {string} propName The name of the property.\n     * @param {number} value The new value of the property.\n     * @memberof Store\n     */\n    commit (propName, value) {\n        // check if appropriate enum has been used\n        this.model.prop(propName, value);\n    }\n\n    /**\n     * This method is used to register a callbacl that will execute\n     * when one or more properties change.\n     *\n     * @param {string | Array} propNames name of property or array of props.\n     * @param {Function} callBack The callback to execute.\n     * @memberof Store\n     */\n    /* istanbul ignore next */registerChangeListener (propNames, callBack, instantCall, namespaceInf = {}) {\n        let props = propNames;\n        if (!Array.isArray(propNames)) {\n            props = [propNames];\n        }\n        const fn = this.model.next(props, callBack, instantCall);\n        addListenerToNamespace(namespaceInf, fn, this);\n        return this;\n    }\n    /**\n     * This method is used to register a callbacl that will execute\n     * when one or more properties change.\n     *\n     * @param {string | Array} propNames name of property or array of props.\n     * @param {Function} callBack The callback to execute.\n     * @memberof Store\n     */\n    /* istanbul ignore next */ registerImmediateListener (propNames, callBack, instantCall, namespaceInf = {}) {\n        let props = propNames;\n        if (!Array.isArray(propNames)) {\n            props = [propNames];\n        }\n        const fn = this.model.on(props, callBack, instantCall);\n        addListenerToNamespace(namespaceInf, fn, this);\n        return this;\n    }\n    /**\n     * This method is used to get the name of the property\n     * from the state store.\n     *\n     * @param {string} propName The name of the field in state store.\n     * @return {any} The value of the field.\n     * @memberof Store\n     */\n    get (propName) {\n        return this.model.prop(propName);\n    }\n\n    /**\n     * This method is used to register a computed property that is computed every time\n     * the store value changes.\n     *\n     * @param {string} propName The name of the property to create.\n     * @param {Function} callBack The function to execute when depemdent props change.\n     * @memberof Store\n     */\n    computed (propName, callBack) {\n        return this.model.calculatedProp(propName, callBack);\n    }\n\n    append (propName, value) {\n        this.model.append(propName, value);\n        return this;\n    }\n\n    unsubscribeAll () {\n        Object.values(this._listeners).forEach(fn => fn());\n        return this;\n    }\n\n    unsubscribe (namespaceInf = {}) {\n        const { namespace, key } = namespaceInf;\n        const listeners = this._listeners[namespace];\n        if (key) {\n            const fn = getObjProp(listeners, key);\n            fn && fn();\n        } else {\n            Object.values(listeners).forEach(fn => fn());\n            this._listeners[namespace] = [];\n        }\n        return this;\n    }\n}\n\n/**\n * Sanitize an input number / string mixed number. Currently dot in the no is not supported.\n *\n * @param {number | string} val pure number or string mixed number\n * @return {number | null}  Number if it can be extracted. Otherwise null\n */\nconst intSanitizer = (val) => {\n    const arr = val.toString().match(/(\\d+)(px)*/g);\n    if (!arr) {\n        // If only characters are passed\n        return null;\n    }\n\n    return parseInt(arr[0], 10);\n};\n\n/**\n * Setter getter creator from config\n * Format\n *  PROPERTRY_NAME: {\n *      value: // default value of the property,\n *      meta: {\n *          typeCheck: // The setter value will be checked using this. If the value is function then the setter value\n *                     // is passed as args. (Optional)\n *          typeExpected: // The output of typecheck action will be tested against this. Truthy value will set the\n *                       // value to the setter\n *          sanitizaiton: // Need for sanitization before type is checked\n *      }\n *  }\n *\n * @param {Object} holder an empty object on which the getters and setters will be mounted\n * @param {Object} options options config based on which the getters and setters are determined.\n * @param {Hyperdis} model optional model to attach the property. If not sent new moel is created.\n * @return {Array}\n */\nconst transactor = (holder, options, model, namespaceInf = {}) => {\n    let conf;\n    const store = model && model instanceof Model ? model : Model.create({});\n\n    for (const prop in options) {\n        if ({}.hasOwnProperty.call(options, prop)) {\n            conf = options[prop];\n            let nameSpaceProp;\n            let namespace = namespaceInf.namespace;\n            const subNamespace = namespaceInf.subNamespace !== undefined ? namespaceInf.subNamespace : prop;\n            if (namespace) {\n                if (namespaceInf.subNamespace !== undefined) {\n                    namespace = `${namespace}.${prop}`;\n                    nameSpaceProp = `${namespace}.${subNamespace}`;\n                } else {\n                    nameSpaceProp = `${namespace}.${prop}`;\n                }\n            } else {\n                nameSpaceProp = prop;\n            }\n            if (!store.prop(`${nameSpaceProp}`)) {\n                if (namespace) {\n                    store.append(namespace, {\n                        [subNamespace]: conf.value\n                    });\n                } else {\n                    store.append({ [nameSpaceProp]: conf.value });\n                }\n            }\n            holder[prop] = ((context, meta, nsProp) => (...params) => {\n                let val;\n                let compareTo;\n                const paramsLen = params.length;\n                const prevVal = store.prop(nsProp);\n                if (paramsLen) {\n                    // If parameters are passed then it's a setter\n                    const spreadParams = meta && meta.spreadParams;\n                    val = params;\n                    const values = [];\n                    if (meta) {\n                        for (let i = 0; i < paramsLen; i++) {\n                            val = params[i];\n                            const sanitization = meta.sanitization && (spreadParams ? meta.sanitization[i] :\n                                meta.sanitization);\n                            const typeCheck = meta.typeCheck && (spreadParams ? meta.typeCheck[i] : meta.typeCheck);\n                            if (sanitization && typeof sanitization === 'function') {\n                                // Sanitize if required\n                                val = sanitization(val, prevVal, holder);\n                            }\n\n                            if (typeCheck) {\n                                // Checking if a setter is valid\n                                if (typeof typeCheck === 'function') {\n                                    let typeExpected = meta.typeExpected;\n                                    if (typeExpected && spreadParams) {\n                                        typeExpected = typeExpected[i];\n                                    }\n                                    if (typeExpected) {\n                                        compareTo = typeExpected;\n                                    } else {\n                                        compareTo = true;\n                                    }\n\n                                    if (typeCheck(val) === compareTo) {\n                                        values.push(val);\n                                    }\n                                } else if (typeof typeCheck === 'string') {\n                                    if (typeCheck === 'constructor') {\n                                        const typeExpected = spreadParams ? meta.typeExpected[i] : meta.typeExpected;\n                                        if (val && (val.constructor.name === typeExpected)) {\n                                            values.push(val);\n                                        }\n                                    }\n                                } else {\n                                    // context.prop(key, val);\n                                    values.push(val);\n                                }\n                            } else {\n                                values.push(val);\n                            }\n                        }\n                        const preset = meta.preset;\n                        const oldValues = context.prop(nsProp);\n                        preset && preset(values[0], holder);\n                        if (spreadParams) {\n                            oldValues.forEach((value, i) => {\n                                if (values[i] === undefined) {\n                                    values[i] = value;\n                                }\n                            });\n                        }\n                        values.length && context.prop(nsProp, spreadParams ? values : values[0]);\n                    } else {\n                        context.prop(nsProp, spreadParams ? val : val[0]);\n                    }\n                    return holder;\n                }\n            // No parameters are passed hence its a getter\n                return context.prop(nsProp);\n            })(store, conf.meta, nameSpaceProp);\n        }\n    }\n\n    return [holder, store];\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} props\n */\nconst generateGetterSetters = (context, props) => {\n    Object.entries(props).forEach((propInfo) => {\n        const prop = propInfo[0];\n        const typeChecker = propInfo[1].typeChecker;\n        const defVal = propInfo[1].defaultValue;\n        const sanitization = propInfo[1].sanitization;\n        const prototype = context.constructor.prototype;\n        if (!(Object.hasOwnProperty.call(prototype, prop))) {\n            if (defVal) {\n                context[`_${prop}`] = defVal;\n            }\n            context[prop] = (...params) => {\n                if (params.length) {\n                    let value = params[0];\n                    if (sanitization) {\n                        value = sanitization(context, params[0]);\n                    }\n                    if (typeChecker && !typeChecker(value)) {\n                        return context[`_${prop}`];\n                    }\n                    context[`_${prop}`] = value;\n                    return context;\n                } return context[`_${prop}`];\n            };\n        }\n    });\n};\n\n/**\n *\n *\n * @param {*} arr\n * @param {*} prop\n */\nconst getArraySum = (arr, prop) => arr.reduce((total, elem) => {\n    total += prop ? elem[prop] : elem;\n    return total;\n}, 0);\n\n/**\n *\n *\n * @param {*} arr1\n * @param {*} arr2\n *\n */\nconst arraysEqual = (arr1, arr2) => {\n    if (arr1.length !== arr2.length) { return false; }\n    for (let i = arr1.length; i >= 0; i--) {\n        if (arr1[i] !== arr2[i]) { return false; }\n    }\n\n    return true;\n};\n\n/* eslint valid-typeof:0 */\n/**\n * Returns a validation function which can be used to validate variables against a type and value\n *\n * @param {any} type type of value that the object should have\n * @return {Object} validation function\n */\nconst isEqual = type => (oldVal, newVal) => {\n    if (type === 'Array') {\n        if (!oldVal) {\n            return false;\n        }\n        return arraysEqual(oldVal, newVal);\n    } else if (type === 'Object') {\n        return Object.is(oldVal, newVal);\n    } return oldVal === newVal;\n};\n\n/**\n * Description @todo\n *\n * @param {any} transactionModel @todo\n * @param {any} transactionEndpoint @todo\n * @param {any} transactionItems @todo\n * @return {any} @todo\n */\nconst enableChainedTransaction = (transactionModel, transactionEndpoint, transactionItems) =>\n    transactionItems.forEach(item => transactionModel.on(item, ([, newVal]) => transactionEndpoint[item](newVal)));\n\n/**\n * Chceks if the element is istanceof HTMLElement\n *\n * @param {Object} elem any JS Object\n */\nconst isHTMLElem = elem => elem instanceof HTMLElement;\n\nconst ERROR_MSG = {\n    INTERFACE_IMPL: 'Method not implemented'\n};\n\n/**\n * Merges the sink object in the source by recursively iterating through the object properties\n * @param {Object} source Source Object\n * @param {Object} sink Sink Object\n * @return {Object} Merged object\n */\nconst mergeRecursive = (source, sink) => {\n    for (const prop in sink) {\n        if (isSimpleObject(source[prop]) && isSimpleObject(sink[prop])) {\n            mergeRecursive(source[prop], sink[prop]);\n        } else if (sink[prop] instanceof Object && sink[prop].constructor === Object) {\n            source[prop] = {};\n            mergeRecursive(source[prop], sink[prop]);\n        } else {\n            source[prop] = sink[prop];\n        }\n    }\n    return source;\n};\n\nconst interpolateArray = (data, fitCount) => {\n    const linearInterpolate = function (before, after, atPoint) {\n        return before + (after - before) * atPoint;\n    };\n    const newData = [];\n    const springFactor = ((data.length - 1) / (fitCount - 1));\n    newData[0] = data[0]; // for new allocation\n    for (let i = 1; i < fitCount - 1; i++) {\n        const tmp = i * springFactor;\n        const before = (Math.floor(tmp)).toFixed();\n        const after = (Math.ceil(tmp)).toFixed();\n        const atPoint = tmp - before;\n        newData[i] = linearInterpolate(data[before], data[after], atPoint);\n    }\n    newData[fitCount - 1] = data[data.length - 1]; // for new allocation\n    return newData;\n};\n\n/**\n *\n *\n * @param {*} fn\n */\nconst nextFrame = (fn) => {\n    setTimeout(() => {\n        fn();\n    }, 0);\n};\n\n/**\n *\n *\n * @param {*} angle\n */\nconst angleToRadian = angle => angle * Math.PI / 180;\n\n/**\n *\n *\n * @param {*} newName\n * @param {*} oldName\n */\nconst replaceCSSPrefix = () => {\n    // @todo\n};\n\n/**\n * Gets the  interpolator function from d3 color\n *\n */\nconst interpolator = () => interpolate;\n\n/**\n * Gets the number interpolator from d3 color\n *\n */\nconst numberInterpolator = () => interpolateNumber;\n\n/**\n * Gets the rgb interpolator from d3 color\n *\n */\nconst colorInterpolator = () => interpolateRgb;\n\n/**\n * Gets the hsl interpolator from d3 color\n *\n */\nconst hslInterpolator = () => interpolateHslLong;\n\nconst transformColors = () => ({\n    color,\n    rgb,\n    hsl\n});\n\n/**\n * Gets the piecewise interpolator from d3 color\n *\n */\nconst piecewiseInterpolator = () => piecewise;\n\nfunction hue2rgb (p, q, t) {\n    if (t < 0) t += 1;\n    if (t > 1) t -= 1;\n    if (t < 1 / 6) return p + (q - p) * 6 * t;\n    if (t < 1 / 2) return q;\n    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n    return p;\n}\n\n  /**\n   * Converts an HSL color value to RGB. Conversion formula\n   * adapted from http://en.wikipedia.org/wiki/HSL_color_space.\n   * Assumes h, s, and l are contained in the set [0, 1] and\n   * returns r, g, and b in the set [0, 255].\n   *\n   * @param   Number  h       The hue\n   * @param   Number  s       The saturation\n   * @param   Number  l       The lightness\n   * @return  Array           The RGB representation\n   */\nconst hslToRgb = (h, s, l, a = 1) => {\n    let r;\n    let g;\n    let b;\n\n    if (s === 0) {\n        r = g = b = l; // achromatic\n    } else {\n        const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        const p = 2 * l - q;\n\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n    }\n\n    return [r * 255, g * 255, b * 255, a];\n};\n\n  /**\n   * Converts an RGB color value to HSV. Conversion formula\n   * adapted from http://en.wikipedia.org/wiki/HSV_color_space.\n   * Assumes r, g, and b are contained in the set [0, 255] and\n   * returns h, s, and v in the set [0, 1].\n   *\n   * @param   Number  r       The red color value\n   * @param   Number  g       The green color value\n   * @param   Number  b       The blue color value\n   * @return  Array           The HSV representation\n   */\nconst rgbToHsv = (r, g, b, a = 1) => {\n    r = +r; g = +g; b = +b; a = +a;\n    r /= 255; g /= 255; b /= 255;\n    const max = Math.max(r, g, b);\n    const min = Math.min(r, g, b);\n    let h;\n    let s;\n    const l = (max + min) / 2;\n\n    if (max === min) {\n        h = s = 0; // achromatic\n    } else {\n        const d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n        switch (max) {\n        case r: h = (g - b) / d + (g < b ? 6 : 0); break;\n        case g: h = (b - r) / d + 2; break;\n        case b: h = (r - g) / d + 4; break;\n        default: break;\n        }\n        h /= 6;\n    }\n    return [h, s, l, a];\n};\n\n  /**\n   * Converts an HSV color value to RGB. Conversion formula\n   * adapted from http://en.wikipedia.org/wiki/HSV_color_space.\n   * Assumes h, s, and v are contained in the set [0, 1] and\n   * returns r, g, and b in the set [0, 255].\n   *\n   * @param   Number  h       The hue\n   * @param   Number  s       The saturation\n   * @param   Number  v       The value\n   * @return  Array           The RGB representation\n   */\nconst hsvToRgb = (h, s, v, a = 1) => {\n    let r;\n    let g;\n    let b;\n\n    const i = Math.floor(h * 6);\n    const f = h * 6 - i;\n    const p = v * (1 - s);\n    const q = v * (1 - f * s);\n    const t = v * (1 - (1 - f) * s);\n\n    switch (i % 6) {\n    case 0: r = v; g = t; b = p; break;\n    case 1: r = q; g = v; b = p; break;\n    case 2: r = p; g = v; b = t; break;\n    case 3: r = p; g = q; b = v; break;\n    case 4: r = t; g = p; b = v; break;\n    case 5: r = v; g = p; b = q; break;\n    default: break;\n    }\n\n    return [r * 255, g * 255, b * 255, a];\n};\n\nconst hexToHsv = (hex) => {\n    const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n\n    const r = parseInt(result[1], 16);\n    const g = parseInt(result[2], 16);\n    const b = parseInt(result[3], 16);\n    const a = result[4] ? parseInt(result[4], 16) : 1;\n    return rgbToHsv(r, g, b, a);\n};\n\nconst detectColor = (col) => {\n    const matchRgb = /rgb\\((\\d{1,3}), (\\d{1,3}), (\\d{1,3})\\)/;\n    const matchHsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g;\n\n    // Source :  https://gist.github.com/sethlopezme/d072b945969a3cc2cc11\n     // eslint-disable-next-line\n    const matchRgba = /rgba?\\(((25[0-5]|2[0-4]\\d|1\\d{1,2}|\\d\\d?)\\s*,\\s*?){2}(25[0-5]|2[0-4]\\d|1\\d{1,2}|\\d\\d?)\\s*,?\\s*([01]\\.?\\d*?)?\\)/;\n     // eslint-disable-next-line\n    const matchHsla = /^hsla\\((0|360|35\\d|3[0-4]\\d|[12]\\d\\d|0?\\d?\\d),(0|100|\\d{1,2})%,(0|100|\\d{1,2})%,(0?\\.\\d|1(\\.0)?)\\)$/;\n    const matchHex = /^#([0-9a-f]{3}){1,2}$/i;\n\n    if (matchRgb.test(col) || matchRgba.test(col)) {\n        return 'rgb';\n    } else if (matchHsl.test(col) || matchHsla.test(col)) {\n        return 'hsl';\n    } else if (matchHex.test(col)) {\n        return 'hex';\n    } return col;\n};\n\n/**\n *\n *\n * @param {*} model\n * @param {*} propModel\n *\n */\nconst filterPropagationModel = (model, propModel, measures) => {\n    const { data, schema } = propModel.getData();\n    let filteredModel;\n    if (schema.length) {\n        const fieldMap = model.getFieldsConfig();\n        filteredModel = model.select((fields) => {\n            const include = data.some(row => schema.every((propField, idx) => {\n                if (!measures && (!(propField.name in fieldMap) ||\n                        fieldMap[propField.name].def.type === FieldType.MEASURE)) {\n                    return true;\n                }\n                return row[idx] === fields[propField.name].valueOf();\n            }));\n            return include;\n        }, {\n            saveChild: false\n        });\n    } else {\n        filteredModel = propModel;\n    }\n\n    return filteredModel;\n};\n\nconst assembleModelFromIdentifiers = (model, identifiers) => {\n    let schema = [];\n    let data;\n    const fieldMap = model.getFieldsConfig();\n    if (identifiers.length) {\n        const fields = identifiers[0];\n        const len = fields.length;\n        for (let i = 0; i < len; i++) {\n            const field = fields[i];\n            const fieldObj = fieldMap[field] && Object.assign({}, fieldMap[field].def);\n            if (fieldObj) {\n                schema.push(Object.assign(fieldObj));\n            }\n        }\n\n        data = [];\n        const header = identifiers[0];\n        for (let i = 1; i < identifiers.length; i += 1) {\n            const vals = identifiers[i];\n            const temp = {};\n            vals.forEach((fieldVal, cIdx) => {\n                temp[header[cIdx]] = fieldVal;\n            });\n            data.push(temp);\n        }\n    } else {\n        data = [];\n        schema = [];\n    }\n\n    return new model.constructor(data, schema);\n};\n\n/**\n *\n *\n * @param {*} dataModel\n * @param {*} criteria\n *\n */\nconst getDataModelFromRange = (dataModel, criteria, mode) => {\n    if (criteria === null) {\n        return null;\n    }\n    const selFields = Object.keys(criteria);\n    const selFn = fields => selFields.every((field) => {\n        const val = fields[field].value;\n        const range = criteria[field][0] instanceof Array ? criteria[field][0] : criteria[field];\n        if (typeof range[0] === 'string') {\n            return range.find(d => d === val) !== undefined;\n        }\n        return range ? val >= range[0] && val <= range[1] : true;\n    });\n\n    return dataModel.select(selFn, {\n        saveChild: false,\n        mode\n    });\n};\n\n/**\n *\n *\n * @param {*} dataModel\n * @param {*} identifiers\n *\n */\nconst getDataModelFromIdentifiers = (dataModel, identifiers, mode) => {\n    let filteredDataModel;\n    if (identifiers instanceof Array) {\n        const fieldsConfig = dataModel.getFieldsConfig();\n\n        const dataArr = identifiers.slice(1, identifiers.length);\n        if (identifiers instanceof Function) {\n            filteredDataModel = identifiers(dataModel, {}, false);\n        } else if (identifiers instanceof Array && identifiers[0].length) {\n            const filteredSchema = identifiers[0].filter(d => d in fieldsConfig);\n            filteredDataModel = dataModel.select((fields) => {\n                let include = true;\n                filteredSchema.forEach((propField, idx) => {\n                    const value = fields[propField].valueOf();\n                    const index = dataArr.findIndex(d => d[idx] === value);\n                    include = include && index !== -1;\n                });\n                return include;\n            }, {\n                saveChild: false,\n                mode\n            });\n        }\n    } else {\n        filteredDataModel = getDataModelFromRange(dataModel, identifiers, mode);\n    }\n    return filteredDataModel;\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} listenerMap\n */\nconst registerListeners = (context, listenerMap, ...params) => {\n    const propListenerMap = listenerMap(context, ...params);\n    for (const key in propListenerMap) {\n        if ({}.hasOwnProperty.call(propListenerMap, key)) {\n            const namespace = params[0];\n            const subNamespaceInf = params[1];\n            let ns = null;\n            if (namespace && subNamespaceInf) {\n                ns = `${namespace.local}.${subNamespaceInf.subNamespace}`;\n            }\n            const mapObj = propListenerMap[key];\n            const propType = mapObj.type;\n            const props = mapObj.props;\n            const listenerFn = mapObj.listener;\n            context.store()[propType](props, listenerFn, false, {\n                namespace: ns\n            });\n        }\n    }\n};\n\nconst isValidValue = value => !isNaN(value) && value !== -Infinity && value !== Infinity;\n/**\n *\n *\n * @param {*} str\n *\n */\nconst escapeHTML = (str) => {\n    const htmlEscapes = {\n        '&': '&amp;',\n        '<': '&lt;',\n        '>': '&gt;',\n        '\"': '&quot;',\n        \"'\": '&#x27;',\n        '/': '&#x2F;'\n    };\n    const htmlEscaper = /[&<>\"'/]/g;\n    return (`${str}`).replace(htmlEscaper, match => htmlEscapes[match]);\n};\n\n/**\n *\n *\n * @param {*} arr\n */\nconst transposeArray = arr => arr[0].map((col, i) => arr.map(row => row[i]));\nconst toArray = arr => (arr instanceof Array ? arr : [arr]);\nconst extendsClass = (cls, extendsFrom, found) => {\n    if (!cls) {\n        return false;\n    }\n    const prototype = cls.prototype;\n    if (prototype instanceof extendsFrom) {\n        found = true;\n    } else {\n        found = extendsClass(prototype, extendsFrom, found);\n    }\n    return found;\n};\n\n/**\n *\n * @param {*} dm1\n * @param {*} dm2\n */\nconst concatModels = (dm1, dm2) => {\n    const dataObj1 = dm1.getData();\n    const dataObj2 = dm2.getData();\n    const data1 = dataObj1.data;\n    const data2 = dataObj2.data;\n    const schema1 = dataObj1.schema;\n    const schema2 = dataObj2.schema;\n    const tuples1 = {};\n    const tuples2 = {};\n    const commonTuples = {};\n    for (let i = 0; i < data1.length; i++) {\n        for (let ii = 0; ii < data2.length; ii++) {\n            const row1 = data1[i];\n            const row2 = data2[ii];\n            const dim1Values = row1.filter((d, idx) => schema1[idx].type === FieldType.DIMENSION);\n            const dim2Values = row2.filter((d, idx) => schema2[idx].type === FieldType.DIMENSION);\n            const allDimSame = dim1Values.every(value => dim2Values.indexOf(value) !== -1);\n            if (allDimSame) {\n                const key = dim1Values.join();\n                !commonTuples[key] && (commonTuples[key] = {});\n                row1.forEach((value, idx) => {\n                    commonTuples[key][schema1[idx].name] = value;\n                });\n                row2.forEach((value, idx) => {\n                    commonTuples[key][schema2[idx].name] = value;\n                });\n            } else {\n                const dm1Key = dim1Values.join();\n                const dm2Key = dim2Values.join();\n                if (!commonTuples[dm1Key] && !commonTuples[dm2Key]) {\n                    !tuples1[dm1Key] && (tuples1[dm1Key] = {});\n                    !tuples2[dm2Key] && (tuples2[dm2Key] = {});\n                    row1.forEach((value, idx) => {\n                        tuples1[dm1Key][schema1[idx].name] = value;\n                    });\n                    row2.forEach((value, idx) => {\n                        tuples2[dm2Key][schema2[idx].name] = value;\n                    });\n                }\n            }\n        }\n    }\n\n    const commonSchema = [...schema1, ...schema2.filter(s2 => schema1.findIndex(s1 => s1.name === s2.name) === -1)];\n    const data = [...Object.values(tuples1), ...Object.values(tuples2), ...Object.values(commonTuples)];\n    return [data, commonSchema];\n};\n\nconst getSymbol = type => symbol().type(symbolFns[type]);\n\nconst stackOrders = {\n    [STACK_CONFIG.ORDER_NONE]: stackOrderNone,\n    [STACK_CONFIG.ORDER_ASCENDING]: stackOrderAscending,\n    [STACK_CONFIG.ORDER_DESCENDING]: stackOrderDescending\n};\nconst stackOffsets = {\n    [STACK_CONFIG.OFFSET_DIVERGING]: stackOffsetDiverging,\n    [STACK_CONFIG.OFFSET_NONE]: stackOffsetNone,\n    [STACK_CONFIG.OFFSET_EXPAND]: stackOffsetExpand,\n    [STACK_CONFIG.OFFSET_WIGGLE]: stackOffsetWiggle\n};\n\n// eslint-disable-next-line require-jsdoc\nconst stack = params => d3Stack().keys(params.keys).offset(stackOffsets[params.offset])\n                .order(stackOrders[params.order])(params.data);\n\n/**\n * Groups the data into a hierarchical tree structure based on one or more fields.\n * @param { Object } params Configuration properties for nesting data\n * @param { Array.<Array> } params.data Data which needs to be grouped\n * @param { Array.<number> } params.keys Field indices by which the data will be grouped\n * @return { Array.<Object> } Grouped data array\n */\nconst nestCollection = (params) => {\n    const nestFn = nest();\n    params.keys.forEach(key => nestFn.key(d => d[key]));\n    return nestFn.entries(params.data);\n};\n\nconst pathInterpolators = {\n    curveLinear,\n    curveStepAfter,\n    curveStepBefore,\n    curveStep,\n    curveCatmullRom,\n    stepAfter: curveStepAfter,\n    catmullRom: curveCatmullRom,\n    step: curveStep,\n    stepBefore: curveStepBefore,\n    linear: curveLinear\n};\n\nconst Symbols = {\n    axisLeft,\n    axisRight,\n    axisTop,\n    axisBottom,\n    line,\n    area,\n    pie,\n    arc,\n    nest\n};\n\nconst Scales = {\n    band: scaleBand\n};\n\nconst getSmallestDiff = (points) => {\n    points = points.sort((a, b) => a - b);\n    let minDiff = points[1] - points[0];\n    for (let i = 2; i < points.length; i++) {\n        minDiff = Math.min(minDiff, points[i] - points[i - 1]);\n    }\n\n    return minDiff;\n};\n\nconst require = (lookupWhat, lookupDetails) => ({\n    resolvable: (store) => {\n        const lookupTarget = store[lookupWhat];\n        const depArr = lookupDetails.slice(0, lookupDetails.length - 1);\n        const fn = lookupDetails[lookupDetails.length - 1]; // fn\n\n        const deps = depArr.map(str => lookupTarget[str]);\n        return {\n            fn: fn(...deps),\n            depArr\n        };\n    }\n});\n\nconst nextAnimFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame ||\n    window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame ||\n    function (callback) {\n        setTimeout(callback, 16);\n    };\n\nexport {\n    require,\n    Scales,\n    Symbols,\n    pathInterpolators,\n    stack,\n    nestCollection,\n    getSymbol,\n    transformColors,\n    detectColor,\n    hexToHsv,\n    hslToRgb,\n    rgbToHsv,\n    hsvToRgb,\n    concatModels,\n    toArray,\n    angleToRadian,\n    escapeHTML,\n    generateGetterSetters,\n    getArraySum,\n    interpolator,\n    piecewiseInterpolator,\n    getDataModelFromIdentifiers,\n    getDataModelFromRange,\n    colorInterpolator,\n    numberInterpolator,\n    ERROR_MSG,\n    reqAnimFrame,\n    nextAnimFrame,\n    filterPropagationModel,\n    transposeArray,\n    cancelAnimFrame,\n    getMax,\n    getMin,\n    getDomainFromData,\n    getUniqueId,\n    mergeRecursive,\n    unionDomain,\n    symbolFns,\n    easeFns,\n    clone,\n    isEqual,\n    interpolateArray,\n    getMinPoint,\n    defaultValue,\n    getMaxPoint,\n    getClosestIndexOf,\n    Voronoi,\n    checkExistence,\n    sanitizeIP,\n    getMinDiff,\n    capitalizeFirst,\n    getWindow,\n    getQualifiedClassName,\n    Store,\n    getDependencyOrder,\n    objectIterator,\n    intSanitizer,\n    transactor,\n    enableChainedTransaction,\n    isHTMLElem,\n    isSimpleObject,\n    nextFrame,\n    registerListeners,\n    replaceCSSPrefix,\n    getObjProp,\n    extendsClass,\n    assembleModelFromIdentifiers,\n    isValidValue,\n    hslInterpolator,\n    getSmallestDiff\n};\n","const CommonProps = {\n    ACTION_INF: 'actionInf',\n    ON_LAYER_DRAW: 'onlayerdraw'\n};\n\nexport default CommonProps;\n","export { default as ReservedFields } from './reserved-fields';\nexport { default as CommonProps } from './common-props';\n","export const UNIT_GLOBAL_NAMESPACE = 'app.units';\nexport const UNIT_LOCAL_NAMESPACE = 'local.units';\nexport const LAYER_LOCAL_NAMESPACE = 'local.layers';\nexport const LAYER_GLOBAL_NAMESPACE = 'app.layers';\nexport const GROUP_GLOBAL_NAMESPACE = 'app.group';\nexport const GROUP_LOCAL_NAMESPACE = 'local.group';\nexport const CANVAS_LOCAL_NAMESPACE = 'local.canvas';\nexport const CANVAS_GLOBAL_NAMESPACE = 'app.canvas';\n\n","const ReservedFields = {\n    ROW_ID: '__id__'\n};\n\nexport default ReservedFields;\n","export const ORDER_ASCENDING = 'ascending';\nexport const ORDER_DESCENDING = 'descending';\nexport const ORDER_NONE = 'none';\nexport const OFFSET_DIVERGING = 'diverging';\nexport const OFFSET_NONE = 'none';\nexport const OFFSET_EXPAND = 'expand';\nexport const OFFSET_WIGGLE = 'wiggle';\n","import * as scales from './scales';\nimport * as colorSchemes from './color-schemes';\nimport * as STATE_NAMESPACES from './enums/namespace';\n\nexport {\n    ReservedFields,\n    CommonProps\n} from './enums';\n\nexport { STATE_NAMESPACES };\n\nexport {\n    scales,\n    colorSchemes\n};\n\nexport {\n    transformColors,\n    detectColor,\n    hslToRgb,\n    rgbToHsv,\n    hexToHsv,\n    hsvToRgb,\n    escapeHTML,\n    angleToRadian,\n    generateGetterSetters,\n    getArraySum,\n    ERROR_MSG,\n    interpolator,\n    colorInterpolator,\n    numberInterpolator,\n    piecewiseInterpolator,\n    reqAnimFrame,\n    cancelAnimFrame,\n    nextAnimFrame,\n    getMax,\n    getMin,\n    getDomainFromData,\n    getUniqueId,\n    mergeRecursive,\n    unionDomain,\n    replaceCSSPrefix,\n    symbolFns,\n    defaultValue,\n    easeFns,\n    clone,\n    interpolateArray,\n    getMinPoint,\n    getMaxPoint,\n    getClosestIndexOf,\n    registerListeners,\n    Voronoi,\n    checkExistence,\n    sanitizeIP,\n    getMinDiff,\n    capitalizeFirst,\n    getWindow,\n    getQualifiedClassName,\n    Store,\n    getDependencyOrder,\n    objectIterator,\n    intSanitizer,\n    transactor,\n    enableChainedTransaction,\n    isHTMLElem,\n    isEqual,\n    isSimpleObject,\n    nextFrame,\n    filterPropagationModel,\n    getObjProp,\n    getDataModelFromIdentifiers,\n    getDataModelFromRange,\n    transposeArray,\n    toArray,\n    extendsClass,\n    concatModels,\n    assembleModelFromIdentifiers,\n    isValidValue,\n    nestCollection,\n    stack,\n    getSymbol,\n    Scales,\n    Symbols,\n    pathInterpolators,\n    hslInterpolator,\n    getSmallestDiff,\n    require\n} from './common-utils';\n\nexport {\n    selectElement,\n    makeElement,\n    applyStyle,\n    addClass,\n    removeClass,\n    appendElement,\n    setAttrs,\n    setStyles,\n    createElement,\n    createElements,\n    clipElement,\n    getElementsByClassName,\n    getMousePos,\n    getEvent,\n    getD3Drag,\n    getSmartComputedStyle,\n    getClientPoint,\n    hasTouch\n} from './renderer-utils';\n\nexport { default as Smartlabel } from 'fusioncharts-smartlabel';\n\nexport { dataSelect, DataObject } from './DataSystem';\n\nexport { default as LifeCycleManager } from './lifecycle-manager';\n\nexport { DimensionSubtype, FieldType, MeasureSubtype, DateTimeFormatter, default as DataModel } from 'datamodel';\n","const events = [\n    'initialized',\n    'beforeupdate',\n    'updated',\n    'beforedraw',\n    'drawn',\n    'beforeremove',\n    'removed'\n];\n\nconst compositions = [\n    'canvas',\n    'unit',\n    'layer',\n    'axis',\n    'facet-headers',\n    'legend',\n    'caption'\n];\n\nconst EVENT_LIST = [];\n\ncompositions.forEach((composition) => {\n    events.forEach((event) => {\n        EVENT_LIST.push(`${composition}.${event}`);\n    });\n});\n\nexport default EVENT_LIST;\n","import LifeCycleManager from './lifecycle-manager';\n\nexport default LifeCycleManager;\n","import EVENT_LIST from './event-list';\n\n/**\n * At first call it accepts one function\n * calling it second time accepts notification object.\n * notification object then called with first accepted function\n *\n * @param {Function} resolveFn a promise's resolve function\n * @return {Function} a function to accept notification object\n */\nconst resolver = resolveFn => notification => resolveFn(notification);\n\n/**\n * Checks if the property string is present in the source object\n *\n * @param {Object} source source object whom you want to check the property\n * @param {string} property key name that need to be checked\n * @return {boolean} returns true if the property found in the source object\n */\nconst hasOwn = (source, property) => Object.prototype.hasOwnProperty.call(source, property);\n\n/**\n * LifeCycleManager which goes as a dependendecy to a muze\n * it accepts notification from the entire library throughout\n * the exeecution life\n *\n * @export\n * @class LifeCycleManager\n */\nexport default class LifeCycleManager {\n\n    /**\n     * Creates an instance of LifeCycleManager.\n     * @memberof LifeCycleManager\n     */\n    constructor () {\n        this._eventList = EVENT_LIST;\n        this._promises = new Map();\n        this._notifiers = {};\n        this._lifeCycles = {};\n        this._unreleasedLifeCycles = {};\n        this._boot();\n    }\n\n    /**\n     * Fills all the notifiers with resolver callback\n     *\n     * @memberof LifeCycleManager\n     */\n    _boot () {\n        this._notifiers = this._eventList.reduce((acc, name) => {\n            acc[name] = resolver;\n            return acc;\n        }, {});\n        this._preparePromises();\n    }\n\n    /**\n     * Public method which gives the promise corresponding\n     * to the event name\n     *\n     * @param {string} eventName name of the event like `canvas.drawn`\n     * @return {promise} promise that is passed to the user\n     * @memberof LifeCycleManager\n     */\n    retrieve (eventName) {\n        return this._promises.get(eventName);\n    }\n\n    /**\n     * Creates a promise that will be passed to user's callback\n     *\n     * @param {string} eventName name of the event like `canvas.drawn`\n     * @return {promise} a pending promise waiting for resolve to be called\n     * @memberof LifeCycleManager\n     */\n    _makeNotifierPromise (eventName) {\n        return new Promise((resolve) => {\n            this._notifiers[eventName] = this._notifiers[eventName](resolve);\n        });\n    }\n\n    /**\n     * Prepares the promise map with pending promises\n     * all the promises are in a pending state where their's\n     * resolve function waiting to be called with notification object\n     * @memberof LifeCycleManager\n     */\n    _preparePromises () {\n        this._eventList.forEach((eventName) => {\n            this._promises.set(eventName, this._makeNotifierPromise(eventName));\n        });\n    }\n\n    /**\n     * Resolves the promise with notification object\n     *\n     * @param {string} eventName name of the event in the system\n     * @param {Object} notification notification object\n     * @param {string} notification.formalName name of the sender creating the notification\n     * @param {Object} notification.client instance or array of instances sending the notification\n     * @param {string} notification.action the stage name when the event happened like `beforedraw`\n     *\n     * @memberof LifeCycleManager\n     */\n    _resolvePromise (eventName, notification) {\n        this._notifiers[eventName](notification);\n    }\n\n    /**\n     * Public method which is being called by different\n     * subcompoents of the system at different execution atages\n     * @param {Object} notification notification object\n     * @param {string} notification.formalName name of the sender creating the notification\n     * @param {Object} notification.client instance or array of instances sending the notification\n     * @param {string} notification.action the stage name when the event happened like `beforedraw`\n     * @memberof LifeCycleManager\n     */\n    notify (notification) {\n        // get the composition name from notification\n        // or from static formalName() method\n        const composition = notification.formalName || notification.client.constructor.formalName();\n        notification.formalName = composition;\n        this._releasePromisesFromCache();\n        this._notify(composition, notification);\n    }\n\n    /**\n     * Notify user the with promsie in a callback\n     * if callback not found then cache it\n     *\n     * @param {string} composition\n     * @param {Object} notification notification object\n     * @param {string} notification.formalName name of the sender creating the notification\n     * @param {Object} notification.client instance or array of instances sending the notification\n     * @param {string} notification.action the stage name when the event happened like `beforedraw`\n     * @memberof LifeCycleManager\n     */\n    _notify (composition, notification) {\n        const stage = notification.action;\n        const eventName = `${composition}.${stage}`;\n\n        // resolves promise with the notification object\n        this._resolvePromise(eventName, notification);\n\n        // get the promise from the promise map\n        const promise = this.retrieve(eventName);\n\n        if (this._lifeCycles[composition]) {\n            if (this._lifeCycles[composition][stage]) {\n                // if user given call back exists, then call with promise\n                this._callLifeCycleCallback(composition, stage, promise);\n            } else {\n                // otherwise cache the promise\n                this._cachePromise(composition, stage, promise);\n            }\n        } else {\n            this._cachePromise(composition, stage, promise);\n        }\n    }\n\n    /**\n     * Calls the user's callback with callback\n     *\n     * @param {string} composition name of the compositon like `canvas`\n     * @param {string} stage the stage name when the event happened like `beforedraw`\n     * @param {promise} promise promise that is passed to the user\n     * @memberof LifeCycleManager\n     */\n    _callLifeCycleCallback (composition, stage, promise) {\n        const eventName = `${composition}.${stage}`;\n        this._lifeCycles[composition][stage](promise);\n        this._resetTargetPromise(eventName);\n    }\n\n    /**\n     * Try to clear the cached promsies once we have\n     * macthed callbacks from the user\n     *\n     * @memberof LifeCycleManager\n     */\n    _releasePromisesFromCache () {\n        const compositions = Object.keys(this._unreleasedLifeCycles);\n        compositions.forEach((composition) => {\n            const stages = Object.keys(this._unreleasedLifeCycles[composition]);\n            stages.forEach((stage) => {\n                if (this._lifeCycles[composition]) {\n                    if (this._lifeCycles[composition][stage]) {\n                        // take the promise from unreleased lifeCycles\n                        const promise = this._unreleasedLifeCycles[composition][stage];\n                        // call the user given callback with that promise\n                        this._callLifeCycleCallback(composition, stage, promise);\n                        // delete promise from unreleased lifeCycles\n                        delete this._unreleasedLifeCycles[composition][stage];\n                    }\n                }\n            });\n        });\n    }\n\n    /**\n     * Cache the promise in the map. This cache\n     * then get consumed if we get user callbacks\n     * @param {string} composition name of the compositon like `canvas`\n     * @param {string} stage the stage name when the event happened like `beforedraw`\n     * @param {promise} promise promise that is passed to the user\n     * @memberof LifeCycleManager\n     */\n    _cachePromise (composition, stage, promise) {\n        if (!hasOwn(this._unreleasedLifeCycles, composition)) {\n            this._unreleasedLifeCycles[composition] = {};\n        }\n\n        if (!hasOwn(this._unreleasedLifeCycles[composition], stage)) {\n            this._unreleasedLifeCycles[composition][stage] = {};\n        }\n        this._unreleasedLifeCycles[composition][stage] = promise;\n    }\n\n    /**\n     * It register's the callbacks gievn the user\n     *\n     * @param {Object} [lifeCycles={}] a object with list of callbacks\n     * @memberof LifeCycleManager\n     */\n    register (lifeCycles = {}) {\n        this._lifeCycles = lifeCycles;\n        // as we get all the callbacks, try to call them\n        // from unreleased promise map\n        this._releasePromisesFromCache();\n    }\n\n    /**\n     * Reset the promise into pending state\n     *\n     * @param {string} eventName name of the event happening\n     * @memberof LifeCycleManager\n     */\n    _resetTargetPromise (eventName) {\n        setTimeout(() => {\n            this._notifiers[eventName] = resolver;\n            this._promises.set(eventName, this._makeNotifierPromise(eventName));\n        }, 0);\n    }\n}\n","import { select, event as d3event, selection, clientPoint } from 'd3-selection';\nimport { drag as d3drag } from 'd3-drag';\nimport 'd3-transition';\nimport { mergeRecursive } from './common-utils';\n/**\n * This function takes a raw DOM element or\n * a string and returns a d3 selection of that element.\n *\n * @param {HTMLElement | string} element The element to wrap in d3 selection.\n * @return {Selection} Instance of d3 selection.\n */\nconst selectElement = element => select(element);\n\n/**\n * It creates a new d3 element on the parent element\n * @param  {Selection} parent Element to which the element is to be appended\n * @param  {Object} elemType Type of the new element\n * @param  {Array} data Data for the new element\n * @param  {Object} selector classname/id/tagname for the element\n * @return {HTMLElement} Newly Created Element\n */\nconst makeElement = (parent, elemType, data, selector, callbacks = {}, keyFn) => {\n    if ((parent instanceof HTMLElement || parent instanceof SVGElement)) {\n        parent = selectElement(parent);\n    }\n\n    const selectorVal = selector ? selector[0] : null;\n    let selectorType = null;\n    let actualSelector = null;\n    let element = null;\n    let enterSel = null;\n    let mergeSel = null;\n    let filter;\n    if (selectorVal) {\n        if (selectorVal === '#') {\n            selectorType = 'id';\n            actualSelector = selector;\n        } else {\n            selectorType = 'class';\n            actualSelector = selector[0] === '.' ? selector : `.${selector}`;\n        }\n    } else {\n        actualSelector = elemType;\n        filter = true;\n    }\n    element = parent.selectAll(actualSelector);\n\n    filter && (element = element.filter(function () {\n        return this.parentNode === parent.node();\n    }));\n    element = element.data(data, keyFn);\n\n    enterSel = element.enter()\n                            .append(elemType || 'div');\n    callbacks.enter && enterSel.each(function (...params) {\n        callbacks.enter(selectElement(this), ...params);\n    });\n\n    mergeSel = enterSel.merge(element);\n    callbacks.update && mergeSel.each(function (...params) {\n        callbacks.update(selectElement(this), ...params);\n    });\n    if (selectorType === 'class') {\n        mergeSel.classed(selectorVal === '.' ? selector.substring(1, selector.length) : selector, true);\n    } else if (selectorType === 'id') {\n        mergeSel.attr('id', selector.substring(1, selector.length));\n    }\n    const exitSel = element.exit();\n\n    if (callbacks.exit) {\n        exitSel.each(function (...params) {\n            callbacks.exit(selectElement(this), ...params);\n        });\n    } else {\n        exitSel.remove();\n    }\n    return mergeSel;\n};\n\n/**\n * This function applies styles to an element\n *  @param  {Object} elem Element Selection\n * @param  {Object} styleObj Style Object to be applied\n * @return {Element} Newly Created Element\n*/\nconst applyStyle = (elem, styleObj) => {\n    Object.entries(styleObj).forEach((d) => {\n        elem.style(d[0], d[1]);\n    }, this);\n    return elem;\n};\n\n/**\n * This function appends a dom element in another element.\n * @param {HTMLElement | SVGElement} element1 The element in which to append the second element\n * @param {HTMLElement | SVGElement} element2 The element which will be appended.\n */\nconst appendElement = (element1, element2) => {\n    element1.appendChild(element2);\n};\n\n/**\n * Sets the attributes to the element.\n * @param {HTMLElement | SVGElement} element Element on which attributes will be applied\n * @param {Object} attrs Attributes which need to be applied\n */\nconst setElementAttrs = (element, attrs) => {\n    for (const key in attrs) {\n        if ({}.hasOwnProperty.call(attrs, key)) {\n            element.attr(key, attrs[key]);\n        }\n    }\n};\n\n/**\n * Sets attributes in the svg or html element\n * @param {SVGElement | HTMLElement} element The element on which attrs will be applied\n * @param {Array.<Object>} attrs Array of attributes\n * @param {string} className className of elements to select.\n * @return {SVGElement | HTMLElement} SVGElement or html element.\n */\nconst setAttrs = (element, attrs, className) => {\n    if (!(element instanceof selection)) {\n        element = selectElement(element);\n    }\n    className !== undefined ? element.selectAll(`.${className}`).each(function () {\n        setElementAttrs(select(this), attrs);\n    }) : setElementAttrs(element, attrs);\n    return element;\n};\n\n/**\n * Adds a css class to elements which passes the filter function.If filter function is not given,\n * then all elements will be applied the class.\n * @param {HTMLElement | SVGElement} element element\n * @param {string} className css class\n * @param {string} selector css selector\n * @param {Function} filterFn filter method.\n */\nconst addClass = (element, className, selector, filterFn) => {\n    select(element).selectAll(selector).each(function (data) {\n        const elem = select(this);\n        filterFn ? filterFn(data) && elem.classed(className, true) :\n                elem.classed(className, true);\n    });\n};\n\n/**\n * Removes the css class from elements which passes the filter function.If filter function is not given,\n * then all elements will be applied the class.\n * @param {HTMLElement | SVGElement} element element\n * @param {string} className css class\n * @param {string} selector css selector\n * @param {Function} filterFn filter method.\n */\nconst removeClass = (element, className, selector, filterFn) => {\n    select(element).selectAll(selector).each(function (data) {\n        const elem = select(this);\n        filterFn ? filterFn(data) && elem.classed(className, false) :\n                elem.classed(className, false);\n    });\n};\n\n/**\n * Sets styles in the svg or html element\n * @param {SVGElement | HTMLElement} element The element on which styles will be applied\n * @param {Array.<Object>} styles Array of style attributes\n * @return {SVGElement | HTMLElement} SVGElement or html element.\n */\nconst setStyles = (element, styles) => {\n    if (!(element instanceof selection)) {\n        element = selectElement(element);\n    }\n    for (const key in styles) {\n        if ({}.hasOwnProperty.call(styles, key)) {\n            element.style(key, styles[key]);\n        }\n    }\n    return element;\n};\n\n/**\n * Creates svg or html elements by binding data to the selection.Removes extra elements\n * on exit.\n * @param {Object} params Parameter object\n * @param {SVGElement | HTMLElement} params.container Container element where all elements will be appended\n * @param {string} params.selector Selector by which elements will be selected from dom\n * @param {string} params.append Append tag\n * @param {Function} params.each Function which will be executed for each data point and element.\n */\nconst createElements = (params) => {\n    const container = select(params.container);\n    let data;\n    let sel;\n\n    data = params.data;\n    if (typeof data === 'number') {\n        data = Array(data).fill().map((d, i) => i);\n    }\n    sel = container.selectAll(params.selector).data(data);\n\n    sel = container.selectAll(params.selector).filter(function () {\n        return this.parentNode === container.node();\n    }).data(params.data);\n\n    const selectionMerge = sel.enter().append(params.append).merge(sel).each(function (d, i) {\n        params.each(d, select(this), i);\n    });\n\n    selectionMerge.attr('class', params.className || '');\n    sel.exit().remove();\n};\n\n/**\n * Clips an element with given measurement. Basically it is used to hide overflowing portions\n * of any element.\n * @param {SVGElement} container svg element which needs to be clipped.\n * @param {Object} measurement Dimensions of the clipped rectangle.\n * @param {string} id Unique id of the clip element\n */\nconst clipElement = (container, measurement, id) => {\n    const clipPathElement = makeElement(select(container), 'clipPath', [1], `#${id}`);\n    const clipPathRect = makeElement(clipPathElement, 'rect', [1]);\n    clipPathRect.attr('x', measurement.x)\n                    .attr('y', measurement.x)\n                    .attr('width', measurement.width)\n                    .attr('height', measurement.height);\n    clipPathElement.attr('clip-path', `url(#${id})`);\n};\n\n/**\n * Returns the element of the corresponding classname.\n * @param {HTMLElement | SVGElement} node html or svg node element.\n * @param {string} className css class to be applied.\n * @return {HTMLElement | SVGElement} html or svg element.\n */\nconst getElementsByClassName = (node, className) => select(node).selectAll(className).nodes();\n\n/**\n * Gets the mouse position relative to an svg type of element\n * @param {SVGElement} element Any svg element like rect, circle, etc.\n * @param {Event} event Event object.\n * @return {Object} x and y position relative to the container element passed.\n */\nconst getMousePos = (element, event) => {\n    const boundingClientRect = element.getBoundingClientRect();\n    return {\n        x: event.x - boundingClientRect.x,\n        y: event.y - boundingClientRect.y\n    };\n};\n\nconst getClientPoint = (...params) => {\n    const pos = clientPoint(...params);\n    return {\n        x: pos[0],\n        y: pos[1]\n    };\n};\n\n/** This function appends a dom element in another element.\n * @param {Object} tag The tag name of the element to append\n * @param {Object} mount Mount point fo the element\n * @return {Object} selection of the appended element\n */\nconst createElement = (tag, mount) => select(mount).append(tag).node();\n\n/**\n * Gets the d3 event function\n * @return {Object} d3 event\n */\nconst getEvent = () => d3event;\n\n/**\n * Gets the d3 drag function\n * @return {Object} d3 drag\n */\nconst getD3Drag = () => d3drag;\n\nconst getSmartComputedStyle = (group, css) => {\n    let textEl;\n    const testText = 'W';\n    const mandatoryStyle = {\n        'fill-opacity': 0\n    };\n    const className = typeof css === 'string' ? css : (css instanceof Array ? css.join(' ') : undefined);\n\n    if (group.node() instanceof HTMLElement) {\n        textEl = group.append('div').html(testText);\n    } else {\n        textEl = group.append('text').text(testText);\n    }\n\n    if (className) {\n        textEl.attr('class', className);\n    } else if (typeof css === 'object') {\n        delete css['fill-opacity'];\n        mergeRecursive(mandatoryStyle, css);\n    }\n\n    textEl.style(mandatoryStyle);\n\n    const computedStyle = window.getComputedStyle(textEl.node());\n    const styleForSmartLabel = {\n        fontSize: computedStyle.fontSize,\n        fontFamily: computedStyle.fontFamily,\n        fontWeight: computedStyle.fontWeight,\n        fontStyle: computedStyle.fontStyle\n    };\n\n    textEl.remove();\n\n    return styleForSmartLabel;\n};\n\nconst hasTouch = () => 'ontouchstart' in document.documentElement;\n\nexport {\n    hasTouch,\n    selectElement,\n    makeElement,\n    applyStyle,\n    addClass,\n    removeClass,\n    appendElement,\n    setAttrs,\n    setStyles,\n    createElement,\n    createElements,\n    clipElement,\n    getElementsByClassName,\n    getMousePos,\n    getEvent,\n    getD3Drag,\n    getSmartComputedStyle,\n    getClientPoint\n};\n","/**\n * This file exports functions to create or modify the scale of a plot.\n */\nexport {\n    scaleLinear,\n    scaleThreshold,\n    scaleLog,\n    scalePow,\n    scaleIdentity,\n    scaleOrdinal,\n    scaleSequential,\n    scaleQuantize,\n    scaleQuantile,\n    schemeCategory10,\n    schemeCategory20,\n    schemeCategory20b,\n    scaleBand,\n    scaleTime\n} from 'd3-scale';\n","import { mergeRecursive } from 'muze-utils';\n\nconst defaultPolicy = (registrableComponents) => {\n    const aliases = registrableComponents.map(comp => comp.alias());\n    return {\n        behaviours: {\n            '*': (propagationPayload) => {\n                const propagationCanvas = propagationPayload.sourceCanvas;\n                return propagationCanvas ? aliases.indexOf(propagationCanvas) !== -1 : true;\n            }\n        }\n    };\n};\n\n/**\n * This class is initiated only once in lifecycle and is reponsible for regisration of physical and behavioural\n * actions and side effects and the mapping between them.\n *\n * To get the instance of action model\n * ```\n *  const ActionModel = muze.ActionModel;\n * ```\n *\n * @public\n * @module ActionModel\n */\nclass ActionModel {\n    constructor () {\n        this._registrableComponents = [];\n    }\n\n    /**\n     * Takes an array of canvases on which the physical and behavioural actions will get registered.\n     *\n     * @public\n     * @param  {Canvas} components Array of canvases\n     *\n     * @return {ActionModel} Instance of action model.\n     */\n    for (...components) {\n        this._registrableComponents = components;\n        return this;\n    }\n\n    /**\n     * Registers physical actions on the canvases. It takes an object with key as the name of action and value having\n     * the definition of the action.\n     *\n     * To register a {@link PhysicalAction},\n     * ```\n     *  const ActionModel = muze.ActionModel;\n     *  ActionModel\n     *       // Physical actions will be registered on these canvases.\n     *      .for(canvas)\n     *      .registerPhysicalActions({\n     *          // Key is the name of physical action.\n     *          ctrlClick: (firebolt) => (targetEl, behaviours) => {\n     *              targetEl.on('click', function (data) {\n     *                  const event = utils.getEvent();\n     *                  const pos = utils.getClientPoint(event, this);\n     *                  // Get the data point nearest to the mouse position.\n     *                  const nearestPoint = firebolt.context.getNearestPoint(pos, {\n     *                      data\n     *                  });\n     *                  // Prepare the payload\n     *                  const payload = {\n     *                      criteria: nearestPoint.id\n     *                  };\n     *                  behaviours.forEach((behaviour) => firebolt.dispatchBehaviour(behaviour, payload));\n     *              });\n     *          }\n     *      });\n     * ```\n     * @public\n     *\n     * @param {Object} action Names of physical actions and their definitions.\n     *\n     * @return {ActionModel} Instance of the action model.\n     */\n    registerPhysicalActions (action) {\n        const canvases = this._registrableComponents;\n\n        canvases.forEach((canvas) => {\n            canvas.once('canvas.updated').then((args) => {\n                const matrix = args.client.composition().visualGroup.matrixInstance().value;\n                matrix.each(cell => cell.valueOf().firebolt().registerPhysicalActions(action));\n            });\n        });\n        return this;\n    }\n\n    /**\n     * Registers behavioural actions on the canvases. It takes definitions of the behavioural actions and registers\n     * them on the canvases. Every behavioural action must inherit the {@link GenericBehaviour} class.\n     *\n     * To register a behavioural action\n     * ```\n     *  // Define a new behavioural action\n     *  class SingleSelectBehaviour extends GenericBehaviour {\n     *      static formalName () {\n     *          return 'singleSelect';\n     *      }\n     *\n     *      setSelectionSet (addSet, selectionSet) {\n     *          if (addSet === null) {\n     *              selectionSet.reset();\n     *          } else if (addSet.length) {\n     *              const existingAddSet = selectionSet.getExistingEntrySet(addSet);\n     *              if (existingAddSet.length){\n     *                  selectionSet.reset();\n     *              } else {\n     *               selectionSet.add(addSet);\n     *              }\n     *          } else {\n     *              selectionSet.reset();\n     *          }\n     *      }\n     * }\n     * muze.ActionModel.registerBehaviouralActions(SingleSelectBehaviour);\n     * ```\n     *\n     * @public\n     *\n     * @param {GenericBehaviour} actions Definition of behavioural actions.\n     *\n     * @return {ActionModel} Instance of action model.\n     */\n    registerBehaviouralActions (...actions) {\n        const canvases = this._registrableComponents;\n\n        canvases.forEach((canvas) => {\n            canvas.once('canvas.updated').then(() => {\n                const matrix = canvas.composition().visualGroup.matrixInstance().value;\n                matrix.each(cell => cell.valueOf().firebolt().registerBehaviouralActions(...actions));\n            });\n        });\n        return this;\n    }\n\n    /**\n     * Registers the mapping of physical and behavioural actions. This mapping is used to establish which behavioural\n     * actions should be dispatched on any triggering of physical actions.\n     *\n     * To map physical actions with behavioural actions,\n     * ```\n     *  muze.ActionModel.registerPhysicalBehaviouralMap({\n     *      ctrlClick: {\n     *          behaviours: ['select'] // This array must be the formal names of the behavioural actions.\n     *      }\n     *  });\n     * ```\n     *\n     * @public\n     * @param {Object} map Contains the physical and behavioural action map.\n     * ```\n     *   {\n     *      // Name of the physical action\n     *      click: {\n     *          // Target element selector. This is an optional field. If not passed, then by default takes the\n     *          // container element of visual unit.\n     *          target: '.muze-layers-area path',\n     *          // Behaviours which should be dispatched on triggering of the mapped physical action.\n     *          behaviours: ['select']\n     *      }\n     *   }\n     * ```\n     *\n     * @return {ActionModel} Instance of action model.\n     */\n    registerPhysicalBehaviouralMap (map) {\n        const canvases = this._registrableComponents;\n\n        canvases.forEach((canvas) => {\n            canvas.once('canvas.updated').then((args) => {\n                const matrix = args.client.composition().visualGroup.matrixInstance().value;\n                matrix.each(cell => cell.valueOf().firebolt().registerPhysicalBehaviouralMap(map));\n            });\n        });\n        return this;\n    }\n\n    /**\n     * Registers what behaviour to propagate on dispatch of a certain behavioural action. By default, when any\n     * behavioural action is dispatched, then the same behavioural action gets propagated to all the other canvases.\n     * This can be changed using this api.\n     *\n     * To register what behaviour should be propagated on dispatch of any behavioural action,\n     * ```\n     *  ActionModel.for(canvas1, canvas2).registerPropagationBehaviourMap({\n     *      select: 'filter',\n     *      brush: 'filter'\n     *  });\n     * ```\n     *\n     * @public\n     * @param {Object} map Propagation behaviour map.\n     *\n     * @return {ActionModel} Instance of action model.\n     */\n    registerPropagationBehaviourMap (map) {\n        const canvases = this._registrableComponents;\n\n        canvases.forEach((canvas) => {\n            canvas.once('canvas.updated').then((args) => {\n                const matrix = args.client.composition().visualGroup.matrixInstance().value;\n                matrix.each(cell => cell.valueOf().firebolt().registerPropagationBehaviourMap(map));\n            });\n        });\n        return this;\n    }\n\n    /**\n     * Registers the mapping of side effects and behavioural actions. It takes an object which contains key as the\n     * name of behavioural action and the side effects which will be linked to it.\n     *\n     * To map side effects to select behaviour,\n     * ```\n     *  muze.ActionModel.mapSideEffects({\n     *      select: ['infoBox'] // This array must be the formal names of the side effects\n     *  });\n     * ```\n     *\n     * To map side effects to select behaviour, but disable all the default side effects attached with this behaviour,\n     * ```\n     *  muze.ActionModel.mapSideEffects({\n     *      select: {\n     *          effects: ['infoBox'],\n     *          preventDefaultActions: true\n     *      }\n     *  });\n     * @public\n     * @param {Object} map Mapping of behavioural actions and side effects.\n     * ```\n     *     {\n     *          select: ['infoBox']\n     *     }\n     * ```\n     * @return {ActionModel} Instance of action model.\n     */\n    mapSideEffects (map) {\n        const canvases = this._registrableComponents;\n\n        canvases.forEach((canvas) => {\n            canvas.once('canvas.updated').then(() => {\n                const matrix = canvas.composition().visualGroup.matrixInstance().value;\n                matrix.each(cell => cell.valueOf().firebolt().mapSideEffects(map));\n            });\n        });\n        return this;\n    }\n\n    /**\n     * Registers the side effects on the registered canvases. It takes definitions of side effects and registers them\n     * on the canvases. Every side effect must inherit the base class {@link GenericSideEffect} or\n     * {@link SpawnableSideEffect} or {@link SurrogateSideEffect} class.\n     *\n     * ```\n     * // Define a custom side effect\n     *  class InfoBox extends SpawnableSideEffect {\n     *      static formalName () {\n     *          return 'infoBox';\n     *      }\n     *\n     *      apply (selectionSet) {\n     *      }\n     *  }\n     *  muze.ActionModel.registerSideEffects(InfoBox);\n     * ```\n     * @public\n     * @param  {GenericSideEffect} sideEffects Definition of side effects.\n     *\n     * @return {ActionModel} Instance of action model.\n     */\n    registerSideEffects (...sideEffects) {\n        const registrableComponents = this._registrableComponents;\n\n        registrableComponents.forEach((canvas) => {\n            canvas.once('canvas.updated').then((args) => {\n                const matrix = args.client.composition().visualGroup.matrixInstance().value;\n                matrix.each(cell => cell.valueOf().firebolt().registerSideEffects(sideEffects));\n            });\n        });\n\n        return this;\n    }\n\n    /**\n     * Breaks the link between behavioural actions and physical actions. It takes an array of behavioural action\n     * and it's physical action.\n     *\n     * To dissociate behavioural actions from physical actions\n     * ```\n     *  muze.ActionModel.dissociateBehaviour(['select', 'click'], ['highlight', 'hover']);\n     * ```\n     * @public\n     * @param  {Array} maps Array of behavioural action and physical action.\n     *\n     * @return {ActionModel} Instance of action model.\n     */\n    dissociateBehaviour (...maps) {\n        const registrableComponents = this._registrableComponents;\n\n        registrableComponents.forEach((canvas) => {\n            canvas.once('canvas.updated').then((args) => {\n                const matrix = args.client.composition().visualGroup.matrixInstance().value;\n                matrix.each((cell) => {\n                    maps.forEach(val => cell.valueOf().firebolt().dissociateBehaviour(val[0], val[1]));\n                });\n            });\n        });\n\n        return this;\n    }\n\n    /**\n     * Breaks the link between side effects and behavioural actions. It takes an array of formal names of the side\n     * effects and it's linked behavioural action.\n     *\n     * To dissociate side effects from behavioural actions\n     * ```\n     *  muze.ActionModel.dissociateSideEffect(['crossline', 'highlight'], ['selectionBox', 'brush']);\n     * ```\n     * @public\n     * @param  {Array} maps Array of side effects and behavioural actions.\n     *\n     * @return {ActionModel} Instance of action model.\n     */\n    dissociateSideEffect (...maps) {\n        const registrableComponents = this._registrableComponents;\n\n        registrableComponents.forEach((canvas) => {\n            canvas.once('canvas.updated').then((args) => {\n                const matrix = args.client.composition().visualGroup.matrixInstance().value;\n                matrix.each((cell) => {\n                    maps.forEach(val => cell.valueOf().firebolt().dissociateSideEffect(val[0], val[1]));\n                });\n            });\n        });\n\n        return this;\n    }\n\n    /**\n     * By default cross interactivity is disabled between canvases. This enables cross interaction between the canvases\n     * so that any action happening in one canvas gets dispatched on other canvases as well. An optional policy can also\n     * be passed in this method. The policy can be used to control on which canvases the behavioural actions and\n     * side effects gets dispatched.\n     *\n     * To just enable cross interactivity between two canvases,\n     * ```\n     *  ActionModel.for(canvas1, canvas2)\n     *      .enableCrossInteractivity();\n     * ```\n     *\n     * To enable cross interactivity but enable any behavioural action only when it is triggered from canvas1.\n     * ```\n     *  ActionModel.for(canvas1, canvas2)\n     *      .enableCrossInteractivity({\n     *          behaviours: {\n     *              // Here * stands for any behavioural action name. We can also give any name of behavioural action\n     *              // in place of this.\n     *              '*': (propPayload, context) => {\n     *                  return propPayload.sourceCanvas === canvas1.alias();\n     *              }\n     *          }\n     *      });\n     * ```\n     *\n     * To enable cross interactivity but enable tooltip effect if the action is propagated from canvas1,\n     * ```\n     *  ActionModel.for(canvas1, canvas2)\n     *      .enableCrossInteractivity({\n     *          sideEffects: {\n     *              tooltip: (propPayload, context) => {\n     *                  return propPayload.sourceCanvas === canvas1.alias();\n     *              }\n     *          }\n     *      });\n     * ```\n     * @public\n     * @param {Object} policy Policy definition.\n     *\n     * @return {ActionModel} Instance of action model.\n     */\n    enableCrossInteractivity (policy = {}) {\n        const registrableComponents = this._registrableComponents;\n        const mergedPolicy = mergeRecursive(mergeRecursive({}, defaultPolicy(registrableComponents)), policy);\n\n        registrableComponents.forEach((canvas) => {\n            canvas.firebolt().crossInteractionPolicy(mergedPolicy);\n        });\n\n        return this;\n    }\n}\n\nexport const actionModel = (() => new ActionModel())();\n","export const APP_INITIAL_STATE = {\n    app: {\n        group: {},\n        units: {},\n        layers: {},\n        canvas: {}\n    },\n    local: {\n        canvas: {},\n        group: {},\n        units: {},\n        layers: {}\n    }\n};\n\n","import { GridLayout } from '@chartshq/layout';\nimport { transactor, Store, getUniqueId, selectElement, STATE_NAMESPACES } from 'muze-utils';\nimport { RETINAL } from '../constants';\nimport TransactionSupport from '../transaction-support';\nimport { getRenderDetails, prepareLayout } from './layout-maker';\nimport { localOptions, canvasOptions } from './local-options';\nimport { renderComponents } from './renderer';\nimport GroupFireBolt from './firebolt';\nimport options from '../options';\nimport { APP_INITIAL_STATE } from './app-state';\nimport { initCanvas, setupChangeListener, createGroupState } from './helper';\n\n/**\n * Canvas is a logical component which houses a visualization by taking multiple variable in different encoding channel.\n * Canvas manages lifecycle of many other logical component and exposes one consistent interface for creation of chart.\n * Canvas is intialized from environment with settings from environment and singleton dependencies.\n *\n * To create an instance of canvas\n * ```\n *  const env = Muze();\n *  const canvas = env.canvas()\n * ```\n *\n *\n * @class\n * @public\n * @module Canvas\n */\nexport default class Canvas extends TransactionSupport {\n\n    /**\n     * Creates reactive property accessors.\n     * - data\n     * - height\n     * - width\n     * - config\n     * This configs are retrieved from options.\n     */\n    constructor (globalDependencies) {\n        super();\n\n        this._allOptions = Object.assign({}, options, localOptions);\n        this._registry = {};\n        this._composition = {};\n        this._cachedProps = {};\n        this._alias = null;\n        this._renderedResolve = null;\n        this._renderedPromise = new Promise((resolve) => {\n            this._renderedResolve = resolve;\n        });\n        this._composition.layout = new GridLayout();\n        this._store = new Store(APP_INITIAL_STATE);\n        // Setters and getters will be mounted on this. The object will be mutated.\n        const namespace = STATE_NAMESPACES.CANVAS_LOCAL_NAMESPACE;\n        const [, store] = transactor(this, options, this._store.model, {\n            namespace\n        });\n        transactor(this, localOptions, store, {\n            namespace\n        });\n        transactor(this, canvasOptions, store, {\n            namespace\n        });\n        this.dependencies(Object.assign({}, globalDependencies, this._dependencies));\n        this.firebolt(new GroupFireBolt(this));\n        this.alias(`canvas-${getUniqueId()}`);\n        this.title('', {});\n        this.subtitle('', {});\n        this.legend({});\n        this.color({});\n        this.shape({});\n        this.size({});\n        setupChangeListener(this);\n    }\n\n    /**\n     * Retrieves an instance of layout which is responsible for layouting. Layout is responsible for creating faceted\n     * presentation using table layout.\n     *\n     * @public\n     *\n     * @return {GridLayout} Instance of layout attached to canvas.\n     */\n    layout (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this.composition().layout;\n    }\n\n    /**\n     * Retrieves the composition for a canvas\n     *\n     * @public\n     *\n     * @return {object} Instances of the components which canvas requires to draw the full visualization.\n     *      ```\n     *          {\n     *              layout: // Instance of {@link GridLayout}\n     *              legend: // Instance of {@link Legend}\n     *              subtitle: // Instance of {@link TextCell} using which the title is rendered\n     *              title: // Instance of {@link TextCell} using which the title is rendered\n     *              visualGroup: // Instance of {@link visualGroup}\n     *          }\n     *      ```\n     */\n    composition (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this._composition;\n    }\n\n    done () {\n        return this._renderedPromise;\n    }\n\n    /**\n     * Sets or gets the alias of the canvas. Alias is a name by which the canvas can be referred.\n     *\n     * When setter\n     * @param {string} alias Name of the alias.\n     *\n     * @return {Canvas} Instance of the canvas.\n     *\n     * When getter\n     *\n     * @return {string} Alias of canvas.\n     *\n     * @public\n     */\n    alias (...params) {\n        if (params.length) {\n            const visualGroup = this.composition().visualGroup;\n            this._alias = params[0];\n            visualGroup && visualGroup.alias(this.alias());\n            return this;\n        }\n        return this._alias;\n    }\n\n    /**\n     * Creates an instance initiated with given settings.\n     *\n     * @param {Object} initialSettings Initial settings to be populated in the model\n     * @param {Object} regEntry newly created instance with the initial settings\n     * @param {Object} globalDependencies dependencies which will be created only once in the page\n     *\n     * @return {Object} newly created instance with the initial settings\n     */\n    static withSettings (initialSettings, regEntry, globalDependencies) {\n        const instance = new Canvas(globalDependencies);\n\n        for (const key in initialSettings) {\n            instance[key](initialSettings[key]);\n        }\n        // set registry for instance\n        instance.registry(regEntry);\n        return instance;\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof Canvas\n     */\n    static formalName () {\n        return 'canvas';\n    }\n\n    /**\n     * Returns the instance of firebolt associated with this canvas. The firebolt instance can be used to dispatch a\n     * behaviour dynamically on the canvas. This firebolt does not handle any physical actions. It is just used to\n     * propagate the action to all the visual units in it's composition.\n     *\n     * @public\n     *\n     * @return {GroupFireBolt} Instance of firebolt associated with canvas.\n     */\n    firebolt (...firebolt) {\n        if (firebolt.length) {\n            this._firebolt = firebolt[0];\n            return this;\n        }\n        return this._firebolt;\n    }\n\n    /**\n     * Registry peoperty accessor\n     *\n     * @param {Object} reg plain old javascript object keyvalue pairs. Key containing module name and value contains\n     * module definition class. The reg object has to be flat object of level 1.\n     */\n    registry (...params) {\n        if (params.length) {\n            const components = Object.assign({}, params[0].components);\n            const componentSubRegistry = Object.assign({}, params[0].componentSubRegistry);\n\n            this._registry = { components, componentSubRegistry };\n            const initedComponents = initCanvas(this);\n            // @todo is it okay to continue this tight behaviour? If not use a resolver to resolve diff component type.\n            this._composition.visualGroup = initedComponents[0];\n            createGroupState(this);\n            this.composition().visualGroup.alias(this.alias()).store(this._store);\n            return this;\n        }\n        return this._registry;\n    }\n\n    /*\n     * Prepare dependencies for top level elements\n     */\n    dependencies (...param) {\n        if (param.length) {\n            this._dependencies = param[0];\n            return this;\n        }\n        // @todo prepare dependencies here.\n        return this._dependencies;\n    }\n\n    /**\n     *\n     *\n     * @param {*} lifeCycles\n     *\n     * @memberof Canvas\n     */\n    lifeCycle (lifeCycles) {\n        const lifeCycleManager = this.dependencies().lifeCycleManager;\n        if (lifeCycles) {\n            lifeCycleManager.register(lifeCycles);\n            return this;\n        }\n        return lifeCycleManager;\n    }\n\n    /**\n     *\n     *\n     * @readonly\n     * @memberof Canvas\n     */\n    legend (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this.composition().legend;\n    }\n\n    /**\n     * Returns a promise for various {@link LifecycleEvents} of the various components of canvas. The promise gets\n     * resolved once the particular event gets completed.\n     *\n     * To use this,\n     * ```\n     *      canvas.once('layer.drawn').then(() => {\n     *          // Do any post drawing work here.\n     *      });\n     * ```\n     * @public\n     *\n     * @param {string} eventName Name of the lifecycle event.\n     *\n     * @return {Promise} A pending promise waiting for resolve to be called.\n     */\n    once (eventName) {\n        const lifeCycleManager = this.dependencies().lifeCycleManager;\n        return lifeCycleManager.retrieve(eventName);\n    }\n\n    /**\n     * Internal function to trigger render, this method is cognizant of all the properties of the core modules and\n     * establish a passive reactivity. Passive reactivity is not always a bad thing :)\n     * @internal\n     */\n    render () {\n        const mount = this.mount();\n        const visGroup = this.composition().visualGroup;\n        const lifeCycleManager = this.dependencies().lifeCycleManager;\n        // Get render details including arrangement and measurement\n        const { components, layoutConfig, measurement } = getRenderDetails(this, mount);\n\n        lifeCycleManager.notify({ client: this, action: 'beforedraw' });\n        // Prepare the layout by triggering the matrix calculation\n        prepareLayout(this.layout(), components, layoutConfig, measurement);\n        // Render each component\n        renderComponents(this, components, layoutConfig, measurement);\n        // Update life cycle\n        lifeCycleManager.notify({ client: this, action: 'drawn' });\n        const promises = [];\n        visGroup.matrixInstance().value.each((el) => {\n            promises.push(el.valueOf().done());\n        });\n        Promise.all(promises).then(() => {\n            this._renderedResolve();\n        });\n    }\n\n    /**\n     * Returns the instances of x axis of the canvas. It returns the instances in a two dimensional array form.\n     *\n     * ```\n     *   // The first element in the sub array represents the top axis and the second element represents the bottom\n     *   // axis.\n     *   [\n     *      [X1, X2],\n     *      [X3, X4]\n     *   ]\n     * ```\n     * @public\n     *\n     * @return {Array.<Array>} Instances of x axis.\n     */\n    xAxes () {\n        return this.composition().visualGroup.getAxes('x');\n    }\n\n    /**\n     * Returns the instances of y axis of the canvas. It returns the instances in a two dimensional array form.\n     *\n     * ```\n     *   // The first element in the sub array represents the left axis and the second element represents the right\n     *   // axis.\n     *   [\n     *      [Y1, Y2],\n     *      [Y3, Y4]\n     *   ]\n     * ```\n     * @public\n     * @return {Array.<Array>} Instances of y axis.\n     */\n    yAxes () {\n        return this.composition().visualGroup.getAxes('y');\n    }\n\n    /**\n     * Returns all the retinal axis of the canvas. Color, shape and size axis are combinedly called retinal axis.\n     *\n     * @public\n     * @return {Object} Instances of retinal axis.\n     *          ```\n     *              {\n     *                  color: [ColorAxis], // Array of color axis.\n     *                  shape: [ShapeAxis], // Array of shape axis.\n     *                  size: [SizeAxis] // Array of size axis.\n     *              }\n     *          ```\n     */\n    getRetinalAxes () {\n        const visualGroup = this.composition().visualGroup;\n        return visualGroup.getAxes(RETINAL);\n    }\n\n    mount (...params) {\n        if (params.length) {\n            let value = params[0];\n            if (typeof params[0] === 'string') {\n                value = selectElement(params[0]).node();\n            }\n            this._mount = value;\n            return this;\n        }\n        return this._mount;\n    }\n}\n","import { TOP, BOTTOM, LEFT, TITLE, SUB_TITLE, GROUP, LAYOUT, LEGEND } from '../constants';\n\n/**\n *\n *\n * @param {*} context\n *\n */\nexport const arrangeComponents = (context) => {\n    const legendConfig = context.config().legend;\n    const titleConfig = context.title()[1];\n    const subtitleConfig = context.subtitle()[1];\n    const titleLayouts = {\n        [`${TOP}-${TOP}`]: [TITLE, SUB_TITLE, GROUP],\n        [`${BOTTOM}-${BOTTOM}`]: [GROUP, SUB_TITLE, TITLE],\n        [`${TOP}-${BOTTOM}`]: [TITLE, GROUP, SUB_TITLE],\n        [`${BOTTOM}-${TOP}`]: [SUB_TITLE, GROUP, TITLE]\n    };\n    const legendLayouts = [\n        [LEGEND, LAYOUT],\n        [LAYOUT, LEGEND]\n    ];\n    const titlePosition = titleConfig.position || TOP;\n    const subtitlePosition = subtitleConfig.position || TOP;\n\n    return {\n        headers: titleLayouts[`${titlePosition}-${subtitlePosition}`],\n        legends: legendConfig.position === LEFT || legendConfig.position === TOP ?\n        legendLayouts[0] : legendLayouts[1]\n    };\n};\n","export const TITLE_CONFIG = {\n    position: 'top',\n    align: 'left',\n    padding: 8,\n    maxLines: 2\n};\n\nexport const SUB_TITLE_CONFIG = {\n    position: 'top',\n    align: 'left',\n    padding: 16,\n    maxLines: 2\n};\n","import {\n    getDataModelFromIdentifiers,\n    FieldType,\n    mergeRecursive\n} from 'muze-utils';\n\nimport { applyInteractionPolicy } from '../helper';\n\nconst defaultInteractionPolicy = (valueMatrix, firebolt) => {\n    const isMeasure = field => field.type() === FieldType.MEASURE;\n    const canvas = firebolt.context;\n    const visualGroup = canvas.composition().visualGroup;\n    const xFields = [].concat(...visualGroup.getFieldsFromChannel('x'));\n    const yFields = [].concat(...visualGroup.getFieldsFromChannel('y'));\n    const colDim = xFields.every(field => field.type() === FieldType.DIMENSION);\n    const fieldInf = visualGroup.resolver().getAllFields();\n    const rowFacets = fieldInf.rowFacets;\n    const colFacets = fieldInf.colFacets;\n    valueMatrix.each((cell) => {\n        const unitFireBolt = cell.valueOf().firebolt();\n        if (!(xFields.every(isMeasure) && yFields.every(isMeasure))) {\n            const facetFields = cell.valueOf().facetByFields()[0];\n            const unitColFacets = facetFields.filter(d => colFacets.findIndex(v => v.equals(d)) !== -1);\n            const unitRowFacets = facetFields.filter(d => rowFacets.findIndex(v => v.equals(d)) !== -1);\n            let propFields;\n            if (colDim) {\n                propFields = unitColFacets.map(d => `${d}`);\n            } else {\n                propFields = unitRowFacets.map(d => `${d}`);\n            }\n\n            unitFireBolt.propagateWith('*', propFields, true);\n        }\n    });\n};\n\nconst defaultCrossInteractionPolicy = {\n    behaviours: {\n        '*': (propagationPayload, context) => {\n            const propagationCanvasAlias = propagationPayload.sourceCanvas;\n            const canvasAlias = context.parentAlias();\n            return propagationCanvasAlias ? canvasAlias === propagationCanvasAlias : true;\n        }\n    },\n    sideEffects: {\n        tooltip: (propagationPayload, context) => {\n            const propagationUnit = propagationPayload.sourceUnit;\n            const propagationCanvas = propagationPayload.sourceCanvas;\n            const unitId = context.id();\n            const canvasAlias = context.parentAlias();\n            if (propagationCanvas) {\n                return propagationCanvas !== canvasAlias ? true : unitId === propagationUnit;\n            }\n            return true;\n        }\n    }\n};\n\n/**\n * This class is responsible for dispatching any behavioural action to all the visual units housed by the canvas.\n * It is created by {@link Canvas}. This class does not handle any physical actions. Physical actions get triggered\n * in {@link VisualUnit} which is managed by it's own firebolt instance. The firebolt instance of canvas only\n * propagates the action to all the visual units in it's composition.\n *\n * To get the firebolt instance of {@link Canvas}\n * ```\n *  const firebolt = canvas.firebolt();\n * ```\n *\n * @class GroupFireBolt\n * @public\n */\nexport default class GroupFireBolt {\n    constructor (context) {\n        this.context = context;\n        this._interactionPolicy = this.constructor.defaultInteractionPolicy();\n        this.crossInteractionPolicy(this.constructor.defaultCrossInteractionPolicy());\n    }\n\n    static defaultInteractionPolicy () {\n        return defaultInteractionPolicy;\n    }\n\n    static defaultCrossInteractionPolicy () {\n        return defaultCrossInteractionPolicy;\n    }\n\n    interactionPolicy (...policy) {\n        if (policy.length) {\n            this._interactionPolicy = policy[0] || this.constructor.defaultInteractionPolicy();\n            return this;\n        }\n        return this._interactionPolicy;\n    }\n\n    crossInteractionPolicy (...policy) {\n        if (policy.length) {\n            this._crossInteractionPolicy = mergeRecursive(mergeRecursive({},\n                this.constructor.defaultCrossInteractionPolicy()), policy[0] || {});\n            const context = this.context;\n            this.context.once('canvas.updated').then(() => {\n                applyInteractionPolicy([this._interactionPolicy], this);\n                const crossInteractionPolicy = this._crossInteractionPolicy;\n                const behaviours = crossInteractionPolicy.behaviours;\n                const sideEffects = crossInteractionPolicy.sideEffects;\n                const visualGroup = context.composition().visualGroup;\n                const valueMatrix = visualGroup.composition().matrices.value;\n                valueMatrix.each((cell) => {\n                    const unitFireBolt = cell.valueOf().firebolt();\n                    for (const key in behaviours) {\n                        unitFireBolt.changeBehaviourStateOnPropagation(key, behaviours[key]);\n                    }\n                    for (const key in sideEffects) {\n                        unitFireBolt.changeSideEffectStateOnPropagation(key, sideEffects[key]);\n                    }\n                });\n            });\n            return this;\n        }\n        return this._crossInteractionPolicy;\n    }\n\n    /**\n     * Dispatches a behavioural action with a payload. It takes the name of the behavioural action and a payload\n     * object which contains the criteria aend an array of side effects which determines what side effects are\n     * going to be shown in each visual unit of the canvas. It prepares the datamodel from the given criteria\n     * and initiates a propagation from the datamodel of canvas. Then all the visual units of canvas which listens\n     * to the propagation gets informed on which rows got selected and dispatches the behavioural action sent during\n     * propagation.\n     *\n     * To dispatch a behavioural action on the canvas\n     * ```\n     *  // Get the firebolt instance of the canvas\n     *  const firebolt = canvas.firebolt();\n     *  // Dispatch a brush behaviour\n     *  firebolt.dispatchBehaviour('brush', {\n     *      // Selects all the rows with Horsepower having range between 100 and 200.\n     *      criteria: {\n     *          Horsepower: [100, 200]\n     *      }\n     *  });\n     * // On dispatch of this behavioural action, a selection box gets created and plots gets faded out which are the\n     * // default side effects mapped to this behavioural action.\n     * ```\n     *\n     * ```\n     * Additionally, it can also be passed an array of side effects in the payload.\n     *  // Dispatch a select behaviour with only crossline as side effect.\n     *  firebolt.dispatchBehaviour('select', {\n     *      criteria: {\n     *          Cylinders: ['8']\n     *      },\n     *      sideEffects: ['crossline']\n     *  });\n     * ```\n     *\n     * @public\n     *\n     * @param {string} behaviour Name of the behavioural action\n     * @param {Object} payload Object which contains the interaction information.\n     * @param {Object | Array.<Array>} payload.criteria Identifiers by which the selection happens.\n     * @param {Array.<string|Object>} payload.sideEffects Side effects which needs to be shown.\n     *\n     * @return {GroupFireBolt} Instance of firebolt.\n     */\n    dispatchBehaviour (behaviour, payload) {\n        const propPayload = Object.assign(payload);\n        const criteria = propPayload.criteria;\n        const data = this.context.data();\n\n        propPayload.action = behaviour;\n        const model = getDataModelFromIdentifiers(data, criteria);\n        data.propagate(model, propPayload, {\n            sourceId: this.context.alias()\n        });\n        return this;\n    }\n\n}\n","import GroupFireBolt from './group-firebolt';\n\nexport default GroupFireBolt;\n","import { isEqual, STATE_NAMESPACES } from 'muze-utils';\nimport { VisualGroup } from '@chartshq/visual-group';\nimport { ROWS, COLUMNS, COLOR, SHAPE, SIZE, DETAIL, DATA, CONFIG }\n    from '../constants';\nimport { canvasOptions } from './local-options';\n\n/**\n * Instantiate high level components. Canvas knows what all high level component it has.\n * @nice-to-have dynamic high level components.\n *  - Is it even required ?\n *  - Reactive to source (canvas) streaming ?\n * @param {*} context Canvas instance\n * @return {Object.<Array>} Arrays of Title, visualGroup, Legend\n */\nexport const initCanvas = (context) => {\n    const reg = context._registry.components;\n\n    return [new reg.VisualGroup(context._registry, context.dependencies())];\n};\n\n/**\n *\n *\n * @memberof Canvas\n */\nexport const dispatchProps = (context) => {\n    const lifeCycleManager = context.dependencies().lifeCycleManager;\n    lifeCycleManager.notify({ client: context, action: 'beforeupdate' });\n    const visualGroup = context.composition().visualGroup;\n\n    const allOptions = context._allOptions;\n    for (const key in allOptions) {\n        const value = context[key]();\n        if (value !== null) {\n            visualGroup[key] && visualGroup[key](value);\n        }\n    }\n    visualGroup.createMatrices();\n    context._cachedProps = {};\n    lifeCycleManager.notify({ client: context, action: 'initialized' });\n    lifeCycleManager.notify({ client: context, action: 'updated' });\n};\n\nconst equalityChecker = (props, params) => {\n    let checker = () => false;\n    return !props.every((option, i) => {\n        switch (option) {\n        case ROWS:\n        case COLUMNS:\n        case DETAIL:\n            checker = isEqual('Array');\n            break;\n\n        case SHAPE:\n        case SIZE:\n        case COLOR:\n        case DATA:\n        case CONFIG:\n            checker = isEqual('Object');\n            break;\n        default:\n            checker = () => true;\n            break;\n        }\n        const oldVal = params[i][0];\n        const newVal = params[i][1];\n\n        return checker(oldVal, newVal);\n    });\n};\n\nconst updateChecker = (props, params) => props.every((option, i) => {\n    const val = params[i][1];\n    switch (option) {\n    case ROWS:\n    case COLUMNS:\n        return val !== null;\n\n    case DATA:\n        return val && !val.isEmpty();\n\n    default:\n        return true;\n\n    }\n});\n\nexport const setupChangeListener = (context) => {\n    const store = context._store;\n\n    const allOptions = Object.keys(context._allOptions);\n    const props = [...allOptions, ...Object.keys(canvasOptions)];\n    const nameSpaceProps = [...allOptions, ...Object.keys(canvasOptions)].map(prop =>\n        `${STATE_NAMESPACES.CANVAS_LOCAL_NAMESPACE}.${prop}`);\n    store.registerChangeListener(nameSpaceProps, (...params) => {\n        let updateProps = equalityChecker(props, params);\n        updateProps = updateChecker(props, params);\n\n        // inform attached board to rerender\n        if (updateProps && context.mount()) {\n            dispatchProps(context);\n            context.render();\n        }\n    }, true);\n};\n\nexport const applyInteractionPolicy = (policies, firebolt) => {\n    const canvas = firebolt.context;\n    const visualGroup = canvas.composition().visualGroup;\n    const valueMatrix = visualGroup.composition().matrices.value;\n    policies.forEach(policy => policy(valueMatrix, firebolt));\n};\n\nexport const createGroupState = (context) => {\n    const [globalState, localState] = VisualGroup.getState();\n    const store = context._store;\n    store.append('app.group', globalState);\n    store.append('local.group', localState);\n};\n","export { default as Canvas } from './canvas';\n","import { mergeRecursive } from 'muze-utils';\nimport { arrangeComponents } from './component-resolver';\nimport { createHeaders } from './title-maker';\nimport { createLegend, getLegendSpace } from './legend-maker';\nimport { TOP, BOTTOM, LEFT, RIGHT } from '../constants';\n\n/**\n *\n *\n * @param {*} context\n *\n */\nexport const prepareLayout = (layout, components, config, measurement) => {\n    const {\n        rows,\n        columns,\n        values,\n        cornerMatrices\n    } = components;\n\n    const {\n        topLeft,\n        topRight,\n        bottomLeft,\n        bottomRight\n    } = cornerMatrices;\n    if (rows && columns) {\n        layout.measurement(measurement)\n                        .config(config)\n                        .matrices({\n                            top: [topLeft, columns[0], topRight],\n                            center: [rows[0], values, rows[1]],\n                            bottom: [bottomLeft, columns[1], bottomRight]\n                        })\n                        .triggerReflow();\n    }\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} mount\n *\n */\nexport const getRenderDetails = (context, mount) => {\n    let layoutConfig = mergeRecursive({}, context.config());\n    // Get height width of the mount point\n    let { height, width } = mount.getBoundingClientRect();\n    const heightAttr = context.height();\n    const widthAttr = context.width();\n    const visGroup = context.composition().visualGroup;\n    const {\n        isColumnSizeEqual,\n        isRowSizeEqual,\n        priority,\n        rows,\n        columns,\n        values\n    } = visGroup.placeholderInfo();\n    const {\n        minWidth,\n        minHeight,\n        classPrefix,\n        showHeaders,\n        legend\n    } = context.config();\n    // Get title configuration\n    const titleConfig = context.title()[1];\n     // Get subtitle configuration\n    const subtitleConfig = context.subtitle()[1];\n    // Get legend position\n    const legendPosition = legend.position;\n    // Arrange components according to config\n    const layoutArrangement = arrangeComponents(context);\n\n    height = Math.floor(height);\n    width = Math.floor(width);\n\n    const availableHeightForCanvas = Math.max(heightAttr > 0 ? heightAttr : height, minHeight);\n    const availableWidthForCanvas = Math.max(widthAttr > 0 ? widthAttr : width, minWidth);\n\n    // Create headers and determine header height\n    const { headers, headerHeight } = createHeaders(context, availableHeightForCanvas, availableWidthForCanvas);\n\n    // Create legends and determine legend space\n    const legends = createLegend(context, headerHeight, availableHeightForCanvas, availableWidthForCanvas);\n    context._composition.legend = {};\n    legends.forEach((e) => {\n        context._composition.legend[e.scaleType] = e.legend;\n    });\n\n    const legendSpace = getLegendSpace(legends, legend, availableHeightForCanvas, availableWidthForCanvas);\n    const legendWidth = (legendPosition === LEFT || legendPosition === RIGHT) ? legendSpace.width : 0;\n    const legendHeight = (legendPosition === TOP || legendPosition === BOTTOM) ? legendSpace.height : 0;\n\n    // Set components for layouting\n    const components = {\n        headers,\n        legends,\n        canvases: [context],\n        rows,\n        columns,\n        values,\n        cornerMatrices: visGroup.cornerMatrices()\n    };\n    const measurement = {\n        mountSpace: {\n            height,\n            width\n        },\n        headerHeight,\n        legendSpace,\n        canvasWidth: availableWidthForCanvas,\n        canvasHeight: availableHeightForCanvas,\n        width: availableWidthForCanvas - legendWidth,\n        height: availableHeightForCanvas - headerHeight - legendHeight,\n        minUnitHeight: context.minUnitHeight(),\n        minUnitWidth: context.minUnitWidth()\n    };\n    layoutConfig = mergeRecursive(layoutConfig, {\n        classPrefix,\n        showHeaders,\n        border: mergeRecursive(visGroup.metaData().border, context.config().border),\n        layoutArrangement,\n        legend,\n        title: titleConfig,\n        subtitle: subtitleConfig,\n        isColumnSizeEqual,\n        isRowSizeEqual,\n        priority\n    });\n    return {\n        layoutConfig,\n        components,\n        measurement\n    };\n};\n","import { TextCell, AxisCell } from '@chartshq/visual-cell';\nimport {\n    VERTICAL, HORIZONTAL, LEFT, RIGHT, LEGEND_TYPE_MAP, PADDING, BORDER, MARGIN\n} from '../constants';\n\n/**\n *\n *\n * @param {*} legendConfig\n * @param {*} canvases\n *\n */\nexport const legendCreator = (canvas) => {\n    let LegendCls;\n    const dataset = [];\n    const axes = canvas.getRetinalAxes();\n\n    Object.entries(axes).forEach((axisInfo) => {\n        const scale = axisInfo[1][0];\n        const scaleType = axisInfo[0];\n        const scaleProps = canvas[scaleType]();\n\n        if (scaleProps.field && scale) {\n            const {\n                type,\n                step\n            } = scale.config();\n\n            const stepMapper = typeof step === 'boolean' ? step : false;\n            LegendCls = LEGEND_TYPE_MAP[`${type}-${stepMapper}-${scaleType}`];\n            dataset.push({ scale, canvas, fieldName: scaleProps.field, LegendCls, scaleType });\n        }\n    });\n\n    return dataset;\n};\n\n/**\n *\n *\n * @param {*} legendConfig\n * @param {*} canvases\n * @param {*} measurement\n * @param {*} prevLegends\n *\n */\nexport const legendInitializer = (legendConfig, canvas, measurement, prevLegends) => {\n    const legends = [];\n    const {\n        height,\n        width,\n        headerHeight\n    } = measurement;\n    const {\n        position,\n        align\n    } = legendConfig;\n\n    const legendInfo = legendCreator(canvas);\n\n    legendInfo.forEach((dataInfo, index) => {\n        let legend = {};\n\n        const legendMeasures = {};\n        const {\n                LegendCls,\n                scale,\n                fieldName,\n                scaleType\n            } = dataInfo;\n        const config = legendConfig[scaleType] || {};\n        const title = config.title || {};\n        title.text = title.text || fieldName;\n        if (config.show) {\n            config.position = position;\n            config.align = align;\n\n            if (prevLegends[index]) {\n                legend = prevLegends[index].legend;\n            } else {\n                legend = LegendCls.create({\n                    labelManager: canvas._dependencies.smartlabel,\n                    cells: {\n                        AxisCell, TextCell\n                    }\n                });\n            }\n            legendMeasures.maxHeight = align === VERTICAL ? (height - headerHeight) : height * 0.2;\n            legendMeasures.maxWidth = align === HORIZONTAL ? width : width * 0.2;\n            legendMeasures.width = Math.min(legendMeasures.maxWidth, config.width);\n            legendMeasures.height = Math.min(legendMeasures.maxHeight, config.height);\n\n            [PADDING, BORDER, MARGIN].forEach((e) => {\n                legendMeasures[e] = config[e];\n            });\n            legend.scale(scale)\n                            .title(title)\n                            .fieldName(fieldName)\n                            .config(config)\n                            .metaData(canvas.composition().visualGroup.getGroupByData().project([fieldName]))\n                            .measurement(legendMeasures)\n                            .canvasAlias(canvas.alias())\n                            .setLegendMeasures();\n\n            legends.push({ canvas, legend, scaleType });\n        }\n    });\n    return legends;\n};\n\n/**\n *\n *\n * @param {*} legends\n * @param {*} legendConfig\n * @param {*} availableHeight\n * @param {*} availableWidth\n *\n */\nexport const getLegendSpace = (legends, legendConfig, availableHeight, availableWidth) => {\n    const legendMeasures = legends.map(legendInfo => legendInfo.legend.measurement());\n    const legendSpace = { width: 0, height: 0 };\n\n    legendMeasures.forEach((space) => {\n        let height = 0;\n        let width = 0;\n        width = Math.min(space.width, space.maxWidth);\n        height = Math.min(space.height, space.maxHeight);\n\n        if (legendConfig.align === HORIZONTAL) {\n            if (legendSpace.width + width > availableWidth) {\n                legendSpace.width = availableWidth;\n                legendSpace.height += height;\n            } else {\n                legendSpace.width += width;\n                legendSpace.height = Math.max(legendSpace.height, height);\n            }\n        } else if (legendSpace.height + height > availableHeight) {\n            legendSpace.height = height;\n            legendSpace.width += width;\n        } else {\n            legendSpace.height += height;\n            legendSpace.width = Math.max(legendSpace.width, width);\n        }\n    });\n    if (legendConfig.align === HORIZONTAL) {\n        legendSpace.width = availableWidth;\n    }\n    return legendSpace;\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} headerHeight\n *\n */\nexport const createLegend = (context, headerHeight, height, width) => {\n    const measurement = {\n        height,\n        width,\n        headerHeight\n    };\n    const { legend } = context.config();\n    const { show, position } = legend;\n\n    legend.classPrefix = context.config().classPrefix;\n    const align = (position === LEFT || position === RIGHT) ? VERTICAL : HORIZONTAL;\n\n    legend.show = show ? ((align === VERTICAL && width > 200) || (align === HORIZONTAL && height > 200)) : show;\n    legend.align = align;\n    return legendInitializer(legend, context, measurement, context.legends || []);\n};\n","import { mergeRecursive } from 'muze-utils';\nimport {\n    ROWS,\n    COLUMNS,\n    COLOR,\n    SHAPE,\n    SIZE,\n    DETAIL,\n    LAYERS,\n    TRANSFORM,\n    TITLE,\n    SUB_TITLE\n} from '../constants';\nimport { TITLE_CONFIG, SUB_TITLE_CONFIG } from './defaults';\n/**\n * This is the local options semantics based on which setters getters are created and reactivity is initiated.\n * This local object is only valid for Canvas.\n * Canvas merges global and local object both to the model\n *\n * Format\n *  PROPERTRY_NAME: {\n *      value: // default value of the property,\n *      meta: {\n *          typeCheck: // The setter value will be checked using this. If the value is function then the setter value\n *                     // is passed as args.\n *          typeExpected: // The output of typecheck action will be tested against this. Truthy value will set the\n *                       // value to the setter\n *          sanitizaiton: // Need for sanitization before type is checked\n *      }\n *  }\n *\n * @module LocalOptions\n */\n\nexport const localOptions = {\n    [ROWS]: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Array'\n        }\n    },\n    [COLUMNS]: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Array'\n        }\n    },\n    [COLOR]: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Object',\n            sanitization: (config) => {\n                if (typeof config === 'string' || config === null) {\n                    return {\n                        field: config\n                    };\n                }\n                return config;\n            }\n        }\n    },\n    [SHAPE]: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Object',\n            sanitization: (config) => {\n                if (typeof config === 'string' || config === null) {\n                    return {\n                        field: config\n                    };\n                }\n                return config;\n            }\n        }\n    },\n    [SIZE]: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Object',\n            sanitization: (config) => {\n                if (typeof config === 'string' || config === null) {\n                    return {\n                        field: config\n                    };\n                }\n                return config;\n            }\n        }\n    },\n    [DETAIL]: {\n        value: [],\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Array'\n        }\n    },\n\n    [LAYERS]: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Array'\n        }\n    },\n    [TRANSFORM]: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Object'\n        }\n    }\n};\n\nexport const canvasOptions = {\n    [TITLE]: {\n        value: [null, null],\n        meta: {\n            typeCheck: ['constructor', 'constructor'],\n            typeExpected: ['Function', 'Object'],\n            spreadParams: true,\n            sanitization: [(title) => {\n                if (typeof title === 'string') {\n                    const t = () => title;\n                    t._sanitized = true;\n                    return t;\n                }\n                return title;\n            }, (titleConfig) => {\n                const defConfig = mergeRecursive({}, TITLE_CONFIG);\n                return mergeRecursive(defConfig, titleConfig);\n            }]\n        }\n    },\n    [SUB_TITLE]: {\n        value: [null, null],\n        meta: {\n            typeCheck: ['constructor', 'constructor'],\n            typeExpected: ['Function', 'Object'],\n            spreadParams: true,\n            sanitization: [(subtitle) => {\n                if (typeof subtitle === 'string') {\n                    const sub = () => subtitle;\n                    sub._sanitized = true;\n                    return sub;\n                }\n                return subtitle;\n            }, (subtitleConfig) => {\n                const defConfig = mergeRecursive({}, SUB_TITLE_CONFIG);\n                return mergeRecursive(defConfig, subtitleConfig);\n            }]\n        }\n    }\n};\n","import { makeElement, selectElement } from 'muze-utils';\nimport { VERTICAL, HORIZONTAL, TOP, LEFT, RIGHT, BOTTOM } from '../constants';\n\n/**\n * Sets the rotation for all x axes if any axis has the rotation config set in the\n * entire view\n *\n * @param {Array} columns Column cells that contain the axes cells\n */\nconst setLabelRotationForAxes = (context) => {\n    let rotation = 0;\n\n    const xAxes = context.xAxes() || [];\n\n    (() => {\n        for (let i = 0; i < xAxes.length; i++) {\n            for (let j = 0; j < xAxes[i].length; j++) {\n                if (xAxes[i][j].renderConfig().labels.rotation !== 0) {\n                    rotation = xAxes[i][j].renderConfig().labels.rotation;\n                    return;\n                }\n            }\n        }\n    })();\n\n    if (rotation) {\n        xAxes.forEach((axes) => {\n            axes.forEach((axis) => {\n                axis.renderConfig({ labels: { rotation } });\n                axis.smartTicks(axis.setTickConfig());\n            });\n        });\n    }\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} mount\n *\n */\nconst getSkeletons = (mount, layoutConfig, measurement) => {\n    const {\n        layoutArrangement,\n        classPrefix\n    } = layoutConfig;\n    const {\n        headers,\n        legends\n    } = layoutArrangement;\n    const {\n        canvasWidth,\n        canvasHeight\n    } = measurement;\n    const container = selectElement(mount);\n    const components = {};\n    const mountPoint = makeElement(container, 'div', [1], `${classPrefix}-viz`)\n        .style('width', `${canvasWidth}px`)\n        .style('height', `${canvasHeight}px`);\n    const containers = mountPoint\n        .selectAll(`.${classPrefix}-container`)\n        .data(headers);\n    containers.exit().remove();\n    const containersEnter = containers.enter().append('div');\n\n    const mergedContainer = containersEnter.merge(containers)\n                    .attr('class', `${classPrefix}-container`)\n                    .style('width', `${canvasWidth}px`)\n                    .style('padding', `${null}px`)\n                    .style('margin', null)\n                    .each(function (type) {\n                        components[type] = selectElement(this).classed(`${classPrefix}-${type}-container`, true);\n                    });\n    const innerContainer = mergedContainer\n                    .selectAll(`.${classPrefix}-inner-container`)\n                    .data((d) => {\n                        if (d === 'group') {\n                            return legends;\n                        } return [];\n                    });\n    innerContainer.exit().remove();\n    const innerContainerEnter = innerContainer.enter().append('div');\n\n    innerContainerEnter\n                    .merge(innerContainer)\n                    .attr('class', `${classPrefix}-inner-container`)\n                    .style('width', 'auto')\n                    .style('height', 'auto')\n                    .each(function (layoutType) {\n                        components[layoutType] = selectElement(this)\n                             .classed(`${classPrefix}-${layoutType}-container`, true);\n                    });\n    return components;\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} container\n * @param {*} legendComponents\n */\nconst renderLegend = (legendConfig, container, legendComponents, measurement) => {\n    const sectionComponents = [];\n    const { legendSpace, headerHeight, height, width } = measurement;\n    const { legend, classPrefix } = legendConfig;\n    const { position } = legend;\n    const legendMount = makeElement(container, 'div', [legendComponents], `${classPrefix}-inner-content`, {}, d => d);\n    legendMount.classed(`${classPrefix}-legend`, true);\n    const align = (position === LEFT || position === RIGHT) ? VERTICAL : HORIZONTAL;\n    const legWidth = align === VERTICAL ? legendSpace.width : width;\n    const legHeight = align === VERTICAL ? height - headerHeight : legendSpace.height;\n\n    [container, legendMount].forEach((elem) => {\n        elem.style('width', `${Math.floor(legWidth)}px`)\n                        .style('height', `${legHeight}px`)\n                        .style('float', LEFT);\n    });\n\n    if (align === VERTICAL) {\n        let sections = -1;\n        let currHeight = legHeight;\n        let currWidth = 0;\n\n        legendComponents.forEach((legendInfo) => {\n            const leg = legendInfo.legend;\n            if (leg.measurement().height > currHeight) {\n                sections++;\n                currWidth = 0;\n                currHeight = legHeight;\n            } else {\n                sections < 0 && sections++;\n            }\n            sectionComponents[sections] = sectionComponents[sections] || [];\n            currHeight -= Math.min(leg.measurement().height, currHeight);\n            currWidth = Math.max(Math.min(leg.measurement().width, leg.measurement().maxWidth), currWidth);\n            sectionComponents[sections].push({\n                legend: leg,\n                legendHeight: legHeight,\n                legendWidth: currWidth\n            });\n        });\n\n        const mount = makeElement(legendMount, ['div'], sectionComponents, `${classPrefix}-legend-section`)\n            .each((d, i) => selectElement(this).classed(`${classPrefix}-legend-section-${i}`, true))\n            .classed(`${classPrefix}-legend-vertical-section`, true)\n            .style('width', d => `${d[0].legendWidth}px`);\n        makeElement(mount, ['div'], d => d, `${classPrefix}-legend-components`, {}, d => d.legend.id())\n                        .each(function (d) {\n                            d.legend.mount(this);\n                        })\n                        .style('width', d => `${d.legendWidth}px`);\n    } else {\n        const mount = makeElement(legendMount, 'div', [1], `${classPrefix}-legend-section`)\n            .classed(`${classPrefix}-legend-horizontal-section`, true)\n            .classed(`${classPrefix}-legend-section-${0}`, true)\n            .style('width', `${legWidth}px`);\n\n        makeElement(mount, 'div', legendComponents, `${classPrefix}-legend-components`, {}, d => d.legend.id())\n                        .each(function (d) { d.legend.mount(this); })\n                        .style('width', d => `${d.legend.measurement().width}px`);\n    }\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} container\n * @param {*} type\n * @param {*} headers\n */\nconst renderHeader = (layoutConfig, container, type, headers) => {\n    const headerCell = headers[`${type}Cell`];\n    const config = layoutConfig[`${type}`];\n    const { classPrefix, measurement } = layoutConfig;\n    const { padding: shifter, canvasWidth, canvasHeight } = measurement;\n    const { position, align, padding } = config;\n    if (headerCell) {\n        const sel = container\n        .selectAll(`.${classPrefix}-inner-container`)\n        .data([type]);\n        sel.exit().remove();\n        const selEnter = sel.enter().append('div');\n\n        const cont = selEnter.merge(sel);\n        cont.classed(`${layoutConfig.classPrefix}-inner-container`, true);\n\n        headerCell.setAvailableSpace(canvasWidth - shifter, canvasHeight * 0.2);\n        headerCell.render(cont.node());\n\n        cont.style('width', align === LEFT ? `calc(100% - ${shifter}px` : '100%')\n                        .style('margin-left', align === LEFT ? `${shifter}px` : 0);\n\n        cont.selectAll('div').classed(`${layoutConfig.classPrefix}-inner-content`, true);\n        cont.style('width', `${100}%`);\n\n        if (config) {\n            cont.style('float', LEFT)\n                            .style('text-align', align)\n                            .style(`padding-${position === TOP ? BOTTOM : TOP}`, `${padding}px`);\n        }\n    }\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} shifter\n */\nconst shiftLegend = (config, measurement, mount) => {\n    const { classPrefix } = config;\n    const { legendSpace, padding: shifter } = measurement;\n    const { width } = legendSpace;\n    selectElement(mount).select(`.${classPrefix}-legend-horizontal-section`)\n                    .style('margin-left', `${shifter}px`)\n                    .style('width', `${width - shifter}px`)\n                    .selectAll(`.${classPrefix}-legend-body, .${classPrefix}-legend-title`)\n                    .style('max-width', `${width - shifter}px`);\n\n    selectElement(mount).select(`.${classPrefix}-legend-vertical-section`)\n                    .style('margin-left', null)\n                    .selectAll(`.${classPrefix}-legend-body, .${classPrefix}-legend-title`)\n                    .style('max-width', null);\n};\n\n/**\n *\n *\n * @param {*} mountPoint\n * @param {*} measurement\n * @param {*} classPrefix\n *\n */\nconst prepareGridContainer = (mountPoint, measurement, classPrefix, alias) => {\n    if (!mountPoint) {\n        return this;\n    }\n\n    const {\n        height,\n        width\n    } = measurement;\n    // Create container for the layout\n\n    const sel = selectElement(mountPoint)\n         .selectAll(`.${classPrefix}-inner-content`)\n         .data(['layout'], d => d);\n    sel.exit().remove();\n    const selEnter = sel.enter().append('div');\n\n    const container = selEnter.merge(sel)\n    .attr('class', `${classPrefix}-inner-content`)\n                    .classed(`${classPrefix}-grid-layout`, true)\n                    .attr('id', `${classPrefix}-grid-layout-${alias}`)\n                    .style('height', `${height}px`)\n                    .style('padding', null)\n                    .style('width', `${Math.ceil(width)}px`);\n    // Mount for matrices\n    const innerSel = container.selectAll(`.${classPrefix}-layout-grid-container`)\n         .data(['layout2']);\n    innerSel.exit().remove();\n    const innerSelEnter = innerSel.enter().append('div');\n\n    const mount = innerSelEnter.merge(innerSel);\n    mount.classed(`${classPrefix}-layout-grid-container`, true)\n                    .attr('id', `${classPrefix}-layout-grid-container-${alias}`)\n                    .style('height', `${height}px`)\n                    .style('width', `${Math.ceil(width)}px`);\n\n    return {\n        mount,\n        container\n    };\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} components\n * @param {*} layoutConfig\n * @param {*} measurement\n */\nexport const renderComponents = (context, components, layoutConfig, measurement) => {\n    const mountPoint = context.mount();\n    const {\n        headers,\n        legends\n    } = components;\n    const {\n        classPrefix\n    } = layoutConfig;\n    const {\n        title,\n        legend,\n        subtitle,\n        layout\n    } = getSkeletons(mountPoint, layoutConfig, measurement);\n    const {\n        mount\n    } = prepareGridContainer(layout.node(), measurement, classPrefix, context.alias());\n    const padding = context.layout().viewInfo().layoutDimensions.viewWidth[0];\n\n    measurement.padding = padding;\n    const { position } = layoutConfig.legend;\n\n    measurement.padding += position === LEFT ? measurement.legendSpace.width : 0;\n    setLabelRotationForAxes(context);\n\n    // Render layout\n    context.layout().renderGrid(mount);\n    layoutConfig.measurement = measurement;\n    renderHeader(layoutConfig, title, 'title', headers);\n    renderHeader(layoutConfig, subtitle, 'subtitle', headers);\n    context.once('layer.drawn').then(() => {\n        renderLegend(layoutConfig, legend, legends, measurement);\n        shiftLegend(layoutConfig, measurement, mountPoint, headers);\n    });\n    context.composition().visualGroup.matrixInstance().value.each((el) => {\n        el.valueOf().parentContainer(layout.node());\n    });\n};\n","import { TextCell } from '@chartshq/visual-cell';\nimport { escapeHTML } from 'muze-utils';\n\n/**\n *\n *\n * @param {*} rawContent\n *\n */\nconst resolveTitleSubTitleContent = (rawContent) => {\n    if (typeof rawContent === 'function' && !rawContent._sanitize) {\n        return rawContent();\n    }\n    return escapeHTML(rawContent());\n};\n\n/**\n *\n *\n * @param {*} config\n * @param {*} cellType\n * @param {*} labelManager\n * @param {*} prevCell\n *\n */\nconst headerCreator = (config, cellType, labelManager, prevCell) => {\n    const {\n        content,\n        maxLines,\n        width,\n        height,\n        classPrefix\n    } = config;\n    const cell = prevCell || new TextCell(\n        {\n            type: cellType === 'title' ? 'header' : 'text',\n            className: `${classPrefix}-${cellType}-cell`\n        }, {\n            labelManager\n        })\n     .config({ maxLines }).minSpacing({ width: 0, height: 0 });\n\n    cell.source(content);\n    cell.setAvailableSpace(width, height);\n\n    return {\n        height: cell.getLogicalSpace().height,\n        cell\n    };\n};\n\n/**\n *\n *\n * @param {*} config\n * @param {*} type\n * @param {*} labelManager\n * @param {*} cell\n *\n */\nconst createHeading = (config, type, labelManager, prevCell) => {\n    if (!config) { return ''; }\n\n    return headerCreator(\n        config,\n       type,\n        labelManager,\n        prevCell\n    );\n};\n\n/**\n *\n *\n * @param {*} context\n */\nexport const createHeaders = (context, canvasHeight, canvasWidth) => {\n    let headerHeight = 0;\n    const headers = {};\n\n    canvasHeight >= 200 && canvasWidth >= 200 && ['title', 'subtitle'].forEach((type) => {\n        const headerOptions = context[type]();\n        const content = resolveTitleSubTitleContent(headerOptions[0]);\n        if (content.length) {\n            const config = headerOptions[1];\n\n            config.width = context.width();\n            config.height = context.height();\n            config.classPrefix = context.config().classPrefix;\n            config.content = content;\n            const { height, cell } = createHeading(config, type, context.dependencies().smartlabel,\n                context[`${type}Cell`]);\n\n            headers[`${type}Cell`] = cell;\n            context._composition[type] = cell;\n            headerHeight += height + config.padding;\n        }\n    });\n    return { headerHeight, headers };\n};\n\n","import { GradientLegend, DiscreteLegend, StepLegend } from '@chartshq/muze-legend';\n\n/**\n * Contants to be used as attr\n */\nexport const ROWS = 'rows';\nexport const COLUMNS = 'columns';\nexport const DATA = 'data';\nexport const COLOR = 'color';\nexport const SHAPE = 'shape';\nexport const SIZE = 'size';\nexport const DETAIL = 'detail';\nexport const LAYERS = 'layers';\nexport const TRANSFORM = 'transform';\nexport const INITIALIZED = 'isInitialized';\nexport const SOURCE = 'source';\nexport const WIDTH = 'width';\nexport const HEIGHT = 'height';\nexport const PADDING = 'padding';\nexport const BORDER = 'border';\nexport const MARGIN = 'margin';\nexport const CONFIG = 'config';\nexport const MOUNT = 'mount';\nexport const CANVAS_UPDATED = 'canvasUpdated';\nexport const CLASSPREFIX = 'classPrefix';\nexport const POLICIES = '_policies';\nexport const LEGEND = 'legend';\nexport const TITLE = 'title';\nexport const SUB_TITLE = 'subtitle';\nexport const RESOLVE = 'resolve';\nexport const DISCRETE = 'discrete';\nexport const STEP_COLOR = 'step-color';\nexport const GRADIENT = 'gradient';\nexport const LINEAR = 'linear';\nexport const ORDINAL = 'ordinal';\n\nexport const TITLE_TEMPLATE_NOT_ALLOWED_TAGS = [\n    'script',\n    'style'\n];\n\nexport const LEGEND_TYPE_MAP = {\n    [`${ORDINAL}-${true}-${COLOR}`]: DiscreteLegend,\n    [`${ORDINAL}-${true}-${SIZE}`]: DiscreteLegend,\n    [`${ORDINAL}-${true}-${SHAPE}`]: DiscreteLegend,\n    [`${ORDINAL}-${false}-${COLOR}`]: DiscreteLegend,\n    [`${ORDINAL}-${false}-${SHAPE}`]: DiscreteLegend,\n    [`${ORDINAL}-${false}-${SIZE}`]: DiscreteLegend,\n    [`${LINEAR}-${false}-${SIZE}`]: DiscreteLegend,\n    [`${LINEAR}-${true}-${SIZE}`]: DiscreteLegend,\n    [`${LINEAR}-${false}-${SHAPE}`]: DiscreteLegend,\n    [`${LINEAR}-${true}-${COLOR}`]: StepLegend,\n    [`${LINEAR}-${false}-${COLOR}`]: GradientLegend\n};\n\nexport const LEFT = 'left';\nexport const RIGHT = 'right';\nexport const BOTTOM = 'bottom';\nexport const TOP = 'top';\nexport const GROUP = 'group';\nexport const LAYOUT = 'layout';\nexport const RETINAL = 'retinal';\nexport const DIMENSION = 'dimension';\nexport const MEASURE = 'measure';\nexport const VERTICAL = 'vertical';\nexport const HORIZONTAL = 'horizontal';\n","import { cellRegistry, SimpleCell } from '@chartshq/visual-cell';\nimport { VisualUnit } from '@chartshq/visual-unit';\nimport { layerRegistry } from '@chartshq/visual-layer';\nimport { SimpleGroup, VisualGroup } from '@chartshq/visual-group';\n\nexport const COMPONENTS = {\n    VisualGroup,\n    VisualUnit\n};\nexport const SUBREGISTRIES = {\n    cellRegistry,\n    layerRegistry\n};\nexport const INTERFACES = {\n    SimpleGroup,\n    SimpleCell\n};\n\n","export const DEFAULT_CONFIG = {\n    classPrefix: 'muze',\n    interaction: {\n        sideEffect: 'individual'\n    },\n    legend: {\n        position: 'right',\n        color: {\n            show: true,\n            padding: 1,\n            margin: 3,\n            border: 1,\n            height: 20,\n            width: 20\n        },\n        shape: {\n            show: true,\n            padding: 1,\n            margin: 3,\n            border: 1,\n            height: 20,\n            width: 20\n        },\n        size: {\n            show: true,\n            padding: 1,\n            margin: 3,\n            border: 1,\n            height: 20,\n            width: 20\n        }\n    },\n    showHeaders: false,\n    minWidth: 100,\n    minHeight: 100,\n    facet: {\n        rows: {\n            minCharacters: 3\n        },\n        columns: {\n            maxLines: 2,\n            verticalAlign: 'middle',\n            minCharacters: 1\n        }\n    },\n    border: {\n        style: 'solid',\n        color: '#d6d6d6',\n        width: 2,\n        collapse: true,\n        spacing: 0\n    },\n    autoGroupBy: {\n        disabled: false\n    }\n};\n","const Muze = require('./muze');\n\nmodule.exports = Muze.default ? Muze.default : Muze;\n","import {\n    transactor,\n    Smartlabel,\n    enableChainedTransaction,\n    LifeCycleManager,\n    DataModel,\n    makeElement,\n    getClientPoint,\n    selectElement,\n    getEvent,\n    require,\n    DateTimeFormatter\n} from 'muze-utils';\n\nimport {\n    SurrogateSideEffect,\n    SpawnableSideEffect,\n    sideEffects,\n    PersistentBehaviour,\n    GenericBehaviour,\n    VolatileBehaviour,\n    behaviouralActions,\n    GenericSideEffect\n} from '@chartshq/muze-firebolt';\nimport { layerFactory } from '@chartshq/visual-layer';\nimport pkg from '../package.json';\nimport * as operators from './operators';\nimport { actionModel as ActionModel } from './action-model';\nimport options from './options';\nimport { Canvas } from './canvas';\nimport { COMPONENTS, SUBREGISTRIES } from './default-registry';\nimport './muze.scss';\n\n// Cache singleton instances which should be included only once in a page\nconst globalCache = {};\nconst defaultRegistry = COMPONENTS;\n\nconst overrideRegistryDefinitions = (overrideRegistry, registry) => {\n    for (const prop in overrideRegistry) {\n        registry.set(prop, overrideRegistry[prop]);\n    }\n};\n\n/**\n * Entry point to renderer. Initializes an environment with settings and registries for canvas. This is a simple wrapper\n * over {@link Canvas} which enables common configuration passing to multiple such canvases.\n *\n * Everytime `muze()` is called it creates an environment. These environment supports subset of APIs of Canvas. If\n * common configuration is used to render multiple canvases then it can be set directly in the env. Like if data is\n * common across all the visulization then its better to set the data in env. When a canvas is created it receives all\n * those configuration from env.\n *\n * ```\n *  // Creates an environment\n *  const env = muze()\n *  // Set data property in environment, so that all the canvas created from the same environment gets this data\n *  // automatically\n *  env.data(dm);\n *  // Creates canvas, by default env pushes data to canvas instance\n *  const canvas = env.canvas();\n * ```\n *\n * If a property is set on both environment and canvas instance, property set on canvas instance gets more priority.\n *\n * @public\n * @module muze\n * @namespace Muze\n *\n * @return {Env} Instance of an environment\n */\nconst muze = () => {\n    // Setters and getters will be mounted on this. Object will be mutated.\n    const [env, globalStore] = transactor({}, options);\n    const components = Object.assign({}, COMPONENTS);\n    const componentSubRegistryDef = Object.assign(SUBREGISTRIES);\n    const componentSubRegistry = {};\n\n    for (const prop in componentSubRegistryDef) {\n        componentSubRegistry[prop] = componentSubRegistryDef[prop]();\n    }\n\n    // Apart form the setter getter, an instance method is injected to create real renderer instances\n    env.canvas = () => {\n        // Create a canvas instance with this settings\n        const settings = globalStore.serialize();\n        const canvas = Canvas.withSettings(settings, { /* registry */\n            components,\n            componentSubRegistry\n        }, env.globalDependencies());\n\n        // Whenever settings is changed canvas is updated\n        enableChainedTransaction(globalStore, canvas, Object.keys(settings));\n\n        return canvas;\n    };\n\n    // Global dependencies for for compositions. Only one copy of the same should be in the page\n    env.globalDependencies = () => {\n        if (!globalCache.smartlabel) {\n            globalCache.smartlabel = new Smartlabel(1, 'body');\n        }\n        return {\n            smartlabel: globalCache.smartlabel,\n            lifeCycleManager: new LifeCycleManager()\n        };\n    };\n\n    // Retrieves global settings. This getter is readonly so that user can't change this as change should happen\n    // only from setter to avoid unwanted sync issues.\n    env.settings = () => globalStore.serialize();\n\n    env.registry = (...overrideRegistry) => {\n        // Selectively copy the properties from COMPONENTS\n        if (overrideRegistry.length) {\n            for (const prop in overrideRegistry) {\n                if (prop in defaultRegistry) {\n                    components[prop] = overrideRegistry[prop];\n                }\n            }\n            return env;\n        }\n        return components;\n    };\n\n    env.cellRegistry = (...overrideRegistry) => {\n        const cellRegistry = componentSubRegistry.cellRegistry;\n        if (overrideRegistry.length) {\n            overrideRegistryDefinitions(overrideRegistry[0], cellRegistry);\n            return env;\n        }\n        return cellRegistry.get();\n    };\n\n    env.layerRegistry = (...overrideRegistry) => {\n        const layerRegistry = componentSubRegistry.layerRegistry;\n        if (overrideRegistry.length) {\n            overrideRegistryDefinitions(overrideRegistry[0], layerRegistry);\n            return env;\n        }\n        return layerRegistry.get();\n    };\n\n    return env;\n};\n\nconst SideEffects = {\n    sideEffects,\n    standards: {\n        SurrogateSideEffect,\n        SpawnableSideEffect,\n        GenericSideEffect\n    }\n};\n\nconst Behaviours = {\n    behaviouralActions,\n    standards: {\n        GenericBehaviour,\n        PersistentBehaviour,\n        VolatileBehaviour\n    }\n};\n\nmuze.DataModel = DataModel;\nmuze.version = pkg.version;\nmuze.SideEffects = SideEffects;\nmuze.ActionModel = ActionModel;\nmuze.layerFactory = layerFactory;\nmuze.Operators = operators;\nmuze.Behaviours = Behaviours;\nmuze.utils = {\n    getClientPoint,\n    getEvent,\n    makeElement,\n    selectElement,\n    DateTimeFormatter,\n    require\n};\n\nexport default muze;\n","// extracted by mini-css-extract-plugin","import { ComposedVars, SimpleVariable } from '@chartshq/visual-group';\nimport { TITLE_TEMPLATE_NOT_ALLOWED_TAGS } from './constants';\n\n/**\n * This method creates a new composed variable instance from multiple variables. This is required when we have multiple\n * variables on a single axis and the union of domain of all the variables needs to be set on the axis.\n *\n * To create a new composed variable from multiple fields,\n * ```\n *  const sharedVar = share('open', 'high', 'low', 'close');\n *  canvas.rows([sharedVar])\n *      .columns(['date']);\n * ```\n *\n * @module Operators\n * @public\n * @function share\n * @param {Array} vars Variable names.\n *\n * @return {ComposedVars} Instance of composed variable\n */\nexport const share = (...vars) => new ComposedVars(...vars.map(variable => new SimpleVariable(variable)));\n\n/**\n *\n *\n * @param {*} node\n *\n */\nfunction treeShakeNode (node) {\n    if (node.nodeType !== Node.ELEMENT_NODE) { return; }\n\n    if (TITLE_TEMPLATE_NOT_ALLOWED_TAGS.indexOf(node.tagName.toLowerCase()) !== -1) {\n        node.parentNode.removeChild(node);\n    } else {\n        for (const childNode of node.childNodes) {\n            treeShakeNode(childNode);\n        }\n    }\n}\n\n/**\n * A string template tagged function which sanitizes input html formatted string according to the allowed html tags.\n * This is used to render html in canvas components like title and tooltip.\n *\n * To render html in canvas components,\n * ```\n *     canvas.title(html`<span style=font-size:20px;>TITLE</span>`);\n * ```\n *\n * @public\n * @module Operators\n * @function html\n * @param {Array.<string>} strings - The string parts of the template.\n * @param {Array} exps - The list of evaluated expression values.\n *\n * @return {Function} Returns a function which returns the sanitized html string.\n */\nexport function html (strings, ...exps) {\n    let htmlCode = '';\n    const expLn = exps.length;\n    let i = 0;\n\n    for (; i < expLn; ++i) {\n        htmlCode += strings[i] + exps[i];\n    }\n    htmlCode += strings[i];\n\n    const frag = document.createDocumentFragment();\n    const wrapper = document.createElement('div');\n\n    frag.appendChild(wrapper);\n    wrapper.innerHTML = htmlCode;\n\n    treeShakeNode(wrapper);\n    const { innerHTML } = wrapper;\n\n    return () => innerHTML;\n}\n","/**\n * This is the global options semantics based on which setters getters are created and reactivity is initiated.\n * Format\n *  PROPERTRY_NAME: {\n *      value: // default value of the property,\n *      meta: {\n *          typeCheck: // The setter value will be checked using this. If the value is function then the setter value\n *                     // is passed as args.\n *          typeExpected: // The output of typecheck action will be tested against this. Truthy value will set the\n *                       // value to the setter\n *          sanitizaiton: // Need for sanitization before type is checked\n *      }\n *  }\n * @module GlobalOptions\n */\n\nimport { intSanitizer, mergeRecursive, DataModel } from 'muze-utils';\nimport { DEFAULT_CONFIG } from './defaults';\n\nexport default {\n    data: {\n        value: null,\n        meta: {\n            typeCheck: d => d instanceof DataModel\n        }\n    },\n    width: {\n        value: 0,\n        meta: {\n            sanitization: intSanitizer,\n            typeCheck: Number.isInteger\n        }\n    },\n    height: {\n        value: 0,\n        meta: {\n            sanitization: intSanitizer,\n            typeCheck: Number.isInteger\n        }\n    },\n    minUnitWidth: {\n        value: 50,\n        meta: {\n            sanitization: intSanitizer,\n            typeCheck: Number.isInteger\n        }\n    },\n    minUnitHeight: {\n        value: 50,\n        meta: {\n            sanitization: intSanitizer,\n            typeCheck: Number.isInteger\n        }\n    },\n    config: {\n        value: null,\n        meta: {\n            typeCheck: 'constructor',\n            typeExpected: 'Object',\n            sanitization: (config, oldConfig) => {\n                const oldConf = mergeRecursive({}, oldConfig);\n                const defConfig = mergeRecursive(oldConf, DEFAULT_CONFIG);\n                const newConf = mergeRecursive(defConfig, config);\n                return newConf;\n            }\n\n        }\n    }\n};\n","import { ERROR_MSG } from 'muze-utils';\n/**\n * An Interface to be implemented if the transaction support is necessary. This class ensures reactivity to\n * global properties.\n */\nexport default class TransactionSupport {\n    /**\n     * Property accessor for data member of the class. Data is passed to the system by calling this method.\n     */\n    data () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPl);\n    }\n\n    /**\n     * Property accessor for width of the class. Width is passed as an integer.\n     */\n    width () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPl);\n    }\n\n    /**\n     * Property accessor for height of the class. Height is passed as an integer.\n     */\n    height () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPl);\n    }\n\n    /**\n     * Property accessor for config of the class. Config is passed as an object.\n     */\n    config () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPl);\n    }\n}\n","/**\n * @module Transform\n * This module exports constants that are used to reference transforms in\n * a consistent manner throughout the project.\n */\n/* eslint one-var: 0 */\n export const IDENTITY = 'identity';\n export const GROUP = 'group';\n export const STACK = 'stack';\n export const FRACTURE = 'fracture';\n","import { nestCollection } from 'muze-utils';\n\n/**\n * Create multiple datasets from a single dataset by grouping the data using\n * a dimensional field.\n * @param {Array} schema Name and type of fields are stored in schema\n * @param {Array} data Data array\n * @param {Object} config Configuration object\n * @return {Array} Grouped data array\n */\nexport default (schema, data, config) => {\n    const groupBy = config.groupBy instanceof Array ? config.groupBy : [config.groupBy];\n    const groupByIndices = groupBy.map(fieldName => schema.findIndex(d => d.name === fieldName));\n\n    if (groupByIndices.find(d => d === -1) !== undefined) {\n        throw new Error(`Groupby field ${groupBy} not found in schema`);\n    }\n\n    return nestCollection({\n        keys: groupByIndices,\n        data\n    });\n};\n","/**\n * @module Transform\n * This file exports a function that is used to implement\n * the identity transform\n */\n /* eslint no-unused-vars: 0 */\n /**\n  * This function accepts data and returns the data unchanged.\n  * @param {Object} schema The schema.\n  * @param {Array} data The data array.\n  * @param {Object} config The config object.\n  * @return {Array} The unchanged data.\n  */\n function identityTransform (schema, data, config) {\n     return data;\n }\n\n export default identityTransform;\n","import stackTransform from './stack-transform';\nimport groupTransform from './group-transform';\nimport identityTransform from './identity-transform';\nimport transformFactory from './transform-factory';\n\nexport {\n    identityTransform,\n    stackTransform,\n    groupTransform,\n    transformFactory\n};\n\nexport default { version: '1.0.0' };\n","import { stack } from 'muze-utils';\n\nimport group from '../group-transform';\n/*\n    Normalize the data to a form which can be given to d3 stack for stacking the data\n    ['Product', 'Sales', 'Region'],\n    0 ['A', 2000, 'North'],\n    1 ['A', 3000, 'South'],\n    2 ['B', 3000, 'South'],\n    3 ['B', 2000, 'North'],\n    4 ['C', 3000, 'South'],\n    5 ['C', 2000, 'North']\n            |\n            |\n    ['Product', 'North', 'South'],\n    ['A', 2000, 3000],\n    ['B', 2000, 3000],\n    ['C', 2000, 3000]\n*/\n// eslint-disable-next-line require-jsdoc\nconst normalizeData = (data, schema, valueField, uniqueField, groupBy) => {\n    const groupedData = group(schema, data, {\n        groupBy: uniqueField\n    });\n    const uniqueFieldIndex = schema.findIndex(d => d.name === uniqueField);\n    const valueFieldIndex = schema.findIndex(d => d.name === valueField);\n    const seriesKeyIndex = schema.findIndex(d => d.name === groupBy);\n    const seriesKeys = data.map(d => d[seriesKeyIndex]).filter((item, pos, arr) => arr.indexOf(item) === pos).sort();\n    const fieldNames = schema.reduce((acc, obj, i) => {\n        acc[i] = obj.name;\n        return acc;\n    }, {});\n    const dataArr = groupedData.map((arr) => {\n        const tuples = {};\n        const rowObj = arr.values.reduce((acc, row) => {\n            acc = row.reduce((obj, value, i) => {\n                if (i === seriesKeyIndex) {\n                    obj[value] = row[valueFieldIndex];\n                    tuples[value] = row;\n                } else if (i !== valueFieldIndex) {\n                    obj[fieldNames[i]] = value;\n                }\n                return obj;\n            }, acc);\n            return acc;\n        }, {});\n        rowObj._tuple = tuples;\n            // Set missing values field to zero value\n        seriesKeys.forEach((seriesKey) => {\n            if (rowObj[seriesKey] === undefined) {\n                rowObj[seriesKey] = 0;\n                const newArr = new Array(arr.values[0].length);\n                newArr[uniqueFieldIndex] = arr.key;\n                newArr[seriesKeyIndex] = seriesKey;\n                rowObj._tuple[seriesKey] = newArr;\n            }\n        });\n        return rowObj;\n    });\n\n    return {\n        data: dataArr,\n        keys: seriesKeys\n    };\n};\n/**\n * Generate a stacked representation of data\n * @param {Array} schema schema Array\n * @param {Array} data data array\n * @param {Object} config Configuration object\n * @return {Array} stacked data\n */\nexport default (schema, data, config) => {\n    const uniqueField = config.uniqueField;\n    const valueField = config.value;\n    const groupBy = config.groupBy;\n    const sort = config.sort || 'descending';\n    const normalizedData = normalizeData(data, schema, valueField, uniqueField, groupBy);\n    const keys = normalizedData.keys;\n    const map = {};\n    const orderBy = config.orderBy;\n    const orderIndex = schema.findIndex(d => d.name === orderBy);\n    const groupByIndex = schema.findIndex(d => d.name === groupBy);\n    if (orderIndex !== -1) {\n        keys.forEach((key) => {\n            const name = data.find(d => d[groupByIndex] === key);\n            map[key] = name[orderIndex];\n        });\n        normalizedData.keys.sort((a, b) => map[a].localeCompare(map[b]));\n    }\n\n    const stackData = stack({\n        keys: normalizedData.keys,\n        offset: config.offset || 'diverging',\n        order: sort,\n        data: normalizedData.data\n    });\n    stackData.forEach((seriesData) => {\n        seriesData.forEach((dataObj) => {\n            dataObj.data = dataObj.data._tuple[seriesData.key];\n        });\n    });\n    return stackData;\n};\n\n","/**\n * @module Transform\n * This file exports the transform factory.\n */\nimport * as TransformType from '../enums/transform-type';\nimport identity from '../identity-transform';\nimport group from '../group-transform';\nimport stack from '../stack-transform';\n\n/* istanbul ignore next */\nconst transformMap = {\n    [TransformType.IDENTITY]: identity,\n    [TransformType.GROUP]: group,\n    [TransformType.STACK]: stack\n};\n\n/**\n * This function is used to retirn a transform associated\n * with the given type.\n *\n * @param {string} type The type of the transform.\n * @return {Function} The transform function.\n */\nfunction transformFactory (type) {\n    const transform = transformMap[type];\n    if (typeof transform !== 'function') {\n        throw new Error('Invalid transform type supplied.');\n    }\n    return transform;\n}\n\nexport default transformFactory;\n","/**\n * This file declares a class that represents a table cell\n * used to house an axis.\n * @module VisualCell\n */\nimport { selectElement, makeElement, generateGetterSetters } from 'muze-utils';\nimport { CLASSPREFIX, HEIGHT, WIDTH, AXIS_CELL } from './enums/constants';\nimport SimpleCell from './simple-cell';\nimport { DEFAULT_CONFIG } from './enums/defaults';\nimport { AXIS } from './enums/cell-type';\nimport { PROPS } from './props';\n\n/**\n * Computes the logical space of the an axis instance within an axis cell\n *\n * @param {Object} context Required to get the needed parameters to compute axis space\n * @return {Object} Returns the logical space for axis\n */\nconst computeAxisSpace = (context) => {\n    let logicalWidth;\n    let logicalHeight;\n    const axis = context.source();\n    const {\n        spaceFixer,\n        margin\n    } = context.config();\n    const {\n        width,\n        height\n    } = axis.getLogicalSpace();\n    const {\n            show\n        } = axis.config();\n    if (show === true) {\n        logicalHeight = Math.floor(height + margin.top + margin.bottom + spaceFixer);\n        logicalWidth = Math.floor(width + margin.left + margin.right + spaceFixer);\n    } else {\n        [logicalWidth, logicalHeight] = [width, height];\n    }\n    return {\n        width: logicalWidth,\n        height: logicalHeight\n    };\n};\n\n/**\n * Represents an axis cell.\n *\n * @class Axis\n */\nclass AxisCell extends SimpleCell {\n\n    /**\n     * Creates an instance of AxisCell.\n     *\n     * @param {Object} config The input config.\n     * @memberof AxisCell\n     */\n    constructor (config) {\n        super(config);\n\n        this._axis = null;\n        this._availHeight = null;\n        this._availWidth = null;\n        this._logicalSpace = null;\n\n        generateGetterSetters(this, PROPS[AXIS]);\n    }\n\n    /**\n     * return the type pf SimpleCell cell.\n     *\n     * @readonly\n     * @memberof AxisCell\n     */\n    get type () {\n        return AXIS;\n    }\n\n    /**\n     * This method return the value conatined by this SimpleCell.\n     *\n     * @return {SimpleAxis | ColorAxis} Instance of SimpleAxis or ColorAxis.\n     * @memberof AxisCell\n     */\n    valueOf () {\n        return this.source().id;\n    }\n\n    /**\n     * This method return the unique identififer of the axis\n     *\n     * @return {string} Id of the axis.\n     * @memberof AxisCell\n     */\n    get id () {\n        return this._id;\n    }\n\n    /**\n     * Retrns the serialized representation of this cell.\n     *\n     * @return {Object}Object with serializable props.\n     * @memberof AxisCell\n     */\n    serialize () {\n        return {\n            type: AXIS,\n            axis: this.source().serialize()\n        };\n    }\n\n    /**\n     * return the default configuration for the text cell\n     *\n     * @static\n     * @return {Object} Default configuration of the cell\n     * @memberof AxisCell\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n    /**\n     * return the space taken up by an axis element in the dom.\n     *\n     * @return {Object} Object with width and height fields.\n     * @memberof AxisCell\n     */\n    getLogicalSpace () {\n        if (!this.logicalSpace()) {\n            this.logicalSpace(computeAxisSpace(this));\n        }\n        return this.logicalSpace();\n    }\n\n    /**\n     * This method is used to set the space availiable to render\n     * the SimpleCell.\n     *\n     * @param {number} width The width of SimpleCell.\n     * @param {number} height The height of SimpleCell.\n     * @return {Instance} Returns current Instance\n     * @memberof AxisCell\n     */\n    setAvailableSpace (width, height) {\n        this.availWidth(width);\n        this.availHeight(height);\n        const {\n            margin,\n            isOffset\n        } = this.config();\n\n        if (width || height) {\n            this.source().setAvailableSpace(width, height, margin, isOffset);\n            this.source().logicalSpace(null);\n        } else {\n            this.source().resetLogicalSpace();\n        }\n        this.logicalSpace(null);\n        return this;\n    }\n\n    /**\n     * This method is used to render the axis inside the axis cell.\n     *\n     * @param {HTMLElement} mount The mount point.\n     * @return {Selection} node where axis mounted\n     * @memberof AxisCell\n     */\n    /* istanbul ignore next */render (mount) {\n        if (!mount) {\n            return this;\n        }\n        const axis = this.source();\n        const availHeight = this.availHeight();\n        const availWidth = this.availWidth();\n        const {\n            margin\n        } = this.config();\n        const {\n            top,\n            bottom,\n            left,\n            right\n        } = margin;\n        const {\n            show\n        } = axis.config();\n        const wrapperDiv = makeElement(selectElement(mount), 'div', [this], `${CLASSPREFIX}-${AXIS_CELL}`);\n        const selection = makeElement(wrapperDiv, 'svg', [1], `${CLASSPREFIX}-axis-container`);\n\n        this.mount(mount);\n        if (availWidth === 0 || !availWidth) {\n            selection.attr(WIDTH, `${0}px`);\n        }\n        if (availHeight === 0 || !availHeight) {\n            selection.attr(HEIGHT, `${0}px`);\n        }\n        wrapperDiv.style(WIDTH, `${show ? Math.floor(availWidth) : 0}px`)\n                        .style(HEIGHT, `${show ? Math.floor(availHeight) : 0}px`)\n                        .style('margin-top', top)\n                        .style('margin-bottom', bottom)\n                        .style('margin-left', left)\n                        .style('margin-right', right);\n\n        axis.mount(selection.node());\n        return selection;\n    }\n\n    /**\n     * Disposes the cell\n     *\n     * @return {Instance} Current instance of AxisCell\n     * @memberof AxisCell\n     */\n    remove () {\n        this.source() && this.source().remove();\n        this.mount() && this.mount().remove();\n        return this;\n    }\n}\n\nexport default AxisCell;\n\n","/**\n * This file declares a class that represents a BLANK element in a  table.\n * @module VisualCell\n */\nimport {\n    selectElement,\n    makeElement,\n    applyStyle,\n    generateGetterSetters\n    } from 'muze-utils';\nimport SimpleCell from './simple-cell';\nimport { CLASSPREFIX, BLANK_CELL } from './enums/constants';\nimport { BLANK } from './enums/cell-type';\nimport { DEFAULT_CONFIG } from './enums/defaults';\nimport { PROPS } from './props';\n\n/**\n * Represents a table haeder.\n *\n * @class BLANK\n */\nclass BlankCell extends SimpleCell {\n\n    /**\n     * Creates an instance of BLANK.\n     * @param {Object} config The input configuration.\n     * @memberof BLANK\n     */\n    constructor (config) {\n        super(config);\n\n        generateGetterSetters(this, PROPS[BLANK]);\n    }\n\n    /**\n     * return the type pf SimpleCell cell.\n     *\n     * @readonly\n     * @memberof BlankCell\n     */\n    get type () {\n        return BLANK;\n    }\n\n    /**\n     * This method return the value contained by this SimpleCell.\n     *\n     * @return {string} The text value contained by this cell.\n     * @memberof BlankCell\n     */\n    valueOf () {\n        return this.id;\n    }\n\n    /**\n     * return the default configuration for the text cell\n     *\n     * @static\n     * @return {Object} Default configuration of the cell\n     * @memberof BlankCell\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n    /**\n     * This method is used to return a unique identifier for\n     * the BLANK cell.\n     *\n     * @return {string} The unique identifier for the BLANK.\n     * @memberof BlankCell\n     */\n    get id () {\n        return this._id;\n    }\n\n    /**\n     * This method is used to obtain a serialized representation of this instance.\n     *\n     * @return {Object} Object with serilizable props.\n     * @memberof BLANK\n     */\n    serialize () {\n        return {\n            type: BLANK\n        };\n    }\n\n    /**\n     * This method return the space taken up\n     * by the text with the style applied.\n     *\n     * @return {Object} width and height taken up by the text.\n     * @memberof BLANK\n     */\n    getLogicalSpace () {\n        if (!this.logicalSpace()) {\n            return {\n                width: this.width || 0,\n                height: this.height || 0\n            };\n        }\n        return this.logicalSpace();\n    }\n\n    /**\n     * This method is used to set the available space.\n     *\n     * @param {number} width The available width.\n     * @param {number} height The available height.\n     * @return {Instance} Returns current Instance\n     * @memberof BlankCell\n     */\n    setAvailableSpace (width, height) {\n        this.availWidth(width);\n        this.availHeight(height);\n        this.logicalSpace(null);\n        return this;\n    }\n\n    /**\n     * This method is used to render the BLANK cell inside\n     * the provided mount point.\n     *\n     * @param {HTMLElement} mount The mount point for this cell.\n     * @return {Instance} Returns current Instance\n     * @memberof BLANK\n     */\n    /* istanbul ignore next */render (mount) {\n        if (mount) {\n            const { style } = this.config();\n            // append span element to mount point\n            this.mount(mount);\n            const container = selectElement(mount);\n            const elem = makeElement(container, 'div', [this.id]);\n            elem.classed(`${CLASSPREFIX}-${BLANK_CELL}`, true);\n            elem.style('width', `${this.availWidth()}px`);\n            elem.style('height', `${this.availHeight()}px`);\n            elem.html('');\n            // apply style on the returned element\n            if (style) {\n                applyStyle(elem, style);\n            }\n        } return this;\n    }\n\n    /**\n     * Removes the cell(Disposal)\n     *\n     * @return {Instance} Returns current Instance\n     * @memberof BlankCell\n     */\n    remove () {\n        this.mount() && this.mount().remove();\n        return this;\n    }\n }\nexport default BlankCell;\n","import { DEFAULT_PLACEHOLDERS } from './defaults';\n\n/**\n * Creates a registry for the cells, which can be used for\n * setting a new cell or getting the registered cells\n *\n * @return {Object} Setters and getters for registered cells\n */\nconst cellRegistry = () => {\n    const reg = DEFAULT_PLACEHOLDERS;\n    return {\n        set: (key, def) => {\n            if (key in reg) {\n                reg[key] = def;\n            }\n            return cellRegistry;\n        },\n        get: () => reg\n    };\n};\nexport default cellRegistry;\n","export const SIMPLE_CELL = 'SimpleCell';\nexport const TEXT_CELL = 'TextCell';\nexport const AXIS_CELL = 'AxisCell';\nexport const BLANK_CELL = 'BlankCell';\nexport const GEOM_CELL = 'GeomCell';\n\n","import AxisCell from './axis-cell';\nimport BlankCell from './blank-cell';\nimport TextCell from './text-cell';\nimport GeomCell from './geom-cell';\nimport SimpleCell from './simple-cell';\n\nimport * as CONSTANTS from './constants';\n\nexport const DEFAULT_PLACEHOLDERS = {\n    [CONSTANTS.SIMPLE_CELL]: SimpleCell,\n    [CONSTANTS.TEXT_CELL]: TextCell,\n    [CONSTANTS.AXIS_CELL]: AxisCell,\n    [CONSTANTS.GEOM_CELL]: GeomCell,\n    [CONSTANTS.BLANK_CELL]: BlankCell\n};\n\n","// eneum to refer to simple cell\nexport const SIMPLE = 'simple';\n// eneum to refer to header cell\nexport const TEXT = 'text';\n// enum to refer to axis cell\nexport const AXIS = 'axis';\n// enum to refer to visual cell\nexport const GEOM = 'geom';\n// enum to refer blank cell\nexport const BLANK = 'blank';\n","/**\n * Flag to specify whether direction is vertical.\n */\nexport const MARGIN = 'margin';\nexport const LEFT = 'left';\nexport const RIGHT = 'right';\nexport const BOTTOM = 'bottom';\nexport const TOP = 'top';\nexport const SPACE_FIXER = 'spaceFixer';\nexport const CLASSPREFIX = 'muze';\nexport const VERTICAL_ALIGN = 'verticalAlign';\nexport const TEXT_ALIGN = 'textAlign';\nexport const IS_OFFSET = 'isOffset';\nexport const MIDDLE = 'middle';\nexport const BASELINE = 'baseline';\nexport const SHOW = 'show';\nexport const CENTER = 'center';\nexport const TEXT = 'text';\nexport const HEADER = 'header';\nexport const HEIGHT = 'height';\nexport const WIDTH = 'width';\nexport const DATA = 'data';\nexport const AXES = 'axes';\nexport const FACET_BY_FIELDS = 'facetByFields';\nexport const FIELDS = 'fields';\nexport const TRANSFORM = 'transform';\nexport const LAYER_DEF = 'layerDef';\nexport const CONFIG = 'config';\nexport const DETAIL_FIELDS = 'detailFields';\nexport const MAX_LINES = 'maxLines';\nexport const MIN_CHARS = 'minCharacters';\nexport const ROTATION = 'rotation';\n\nexport const TEXT_CELL = 'text-cell';\nexport const AXIS_CELL = 'axis-cell';\nexport const GEOM_CELL = 'geom-cell';\nexport const BLANK_CELL = 'blank-cell';\n","/**\n * This file exports variables that are used as defaults for\n * the placeholders\n */\nimport * as CONSTANTS from './constants';\n\n /**\n * Default Configuration for the cells\n * @return {Object} Default configuration\n */\nexport const DEFAULT_CONFIG = {\n    [CONSTANTS.MARGIN]: {\n        [CONSTANTS.LEFT]: 0,\n        [CONSTANTS.RIGHT]: 0,\n        [CONSTANTS.TOP]: 0,\n        [CONSTANTS.BOTTOM]: 0\n    },\n    [CONSTANTS.SPACE_FIXER]: 2,\n    [CONSTANTS.IS_OFFSET]: false,\n    [CONSTANTS.VERTICAL_ALIGN]: null,\n    [CONSTANTS.TEXT_ALIGN]: CONSTANTS.CENTER,\n    [CONSTANTS.SHOW]: true,\n    [CONSTANTS.MAX_LINES]: 0,\n    [CONSTANTS.MIN_CHARS]: 0,\n    [CONSTANTS.ROTATION]: null\n};\n","/**\n * This file declares a class that is used to represent a table cell\n * that houses a visual unit.\n * @module VisualCell\n */\n\nimport { selectElement, makeElement, generateGetterSetters } from 'muze-utils';\nimport SimpleCell from './simple-cell';\nimport { GEOM } from './enums/cell-type';\nimport { PROPS } from './props';\nimport {\n    CLASSPREFIX, HEIGHT, WIDTH, DATA, AXES, FACET_BY_FIELDS, FIELDS, TRANSFORM, LAYER_DEF, CONFIG, GEOM_CELL,\n    DETAIL_FIELDS\n} from './enums/constants';\nimport { DEFAULT_CONFIG } from './enums/defaults';\n\n/**\n * Calculates the logical space of the cell\n *\n * @param {Object} context Required to get the needed parameters to compute unit space\n * @return {Object} Logical space taken up by the unit\n * @memberof GeomCell\n */\nconst computeGeomSpace = (context) => {\n    const config = context.source().config();\n    const { width, height } = config;\n    return {\n        width: Math.ceil(width),\n        height: Math.ceil(height + context.getCaptionSpace().height)\n    };\n};\n\n /**\n * This class represents a SimpleCell for visual unit.\n *\n * @class GeomCell\n */\nclass GeomCell extends SimpleCell {\n\n    /**\n     * Creates an instance of GeomCell.\n     * @param {Object} config The input configuration.\n     * @memberof GeomCell\n     */\n    constructor (config) {\n        super(config);\n\n        this._unit = null;\n        this._layers = null;\n        this._axes = {};\n        this._datamodel = {};\n        this._facetByFields = {};\n        this._fields = null;\n        this._transform = null;\n        this._caption = null;\n\n        generateGetterSetters(this, PROPS[GEOM]);\n    }\n\n    /**\n     * return the type pf SimpleCell cell.\n     *\n     * @readonly\n     * @memberof GeomCell\n     */\n    get type () {\n        return GEOM;\n    }\n\n    /**\n     * This method return the value contained by this cell.\n     *\n     * @return {VisualUnit} Instance of visual unit contained by visual unit.\n     * @memberof GeomCell\n     */\n    valueOf () {\n        return this.source();\n    }\n\n    /**\n     * This method is used to return the id of the\n     * visual unit housed by this cell.\n     *\n     * @return {string} The unique id of the visual unit.\n     * @memberof GeomCell\n     */\n    get id () {\n        return this.source().id();\n    }\n\n    /**\n     * This method return a serialized representation of\n     * this instance.\n     *\n     * @return {Object} Object with serializable props.\n     * @memberof GeomCell\n     */\n    serialize () {\n        return {\n            type: GEOM,\n            unit: this.source().serialize(),\n            caption: this.caption()\n        };\n    }\n\n    /**\n     * return the default configuration for the geom cell\n     *\n     * @static\n     * @return {Object} Default configuration of the cell\n     * @memberof GeomCell\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n    /**\n     * Updates the model based on the changed parameters\n     *\n     * @return {Instance} return instance\n     * @memberof GeomCell\n     */\n    updateModel () {\n        const unit = this.source();\n        unit.lockModel();\n        [LAYER_DEF, TRANSFORM, AXES, FIELDS, CONFIG, DATA, AXES, FACET_BY_FIELDS, DETAIL_FIELDS].forEach((prop) => {\n            this[prop]() && unit[prop](this[prop]());\n        });\n        unit.unlockModel();\n        return this;\n    }\n\n    /**\n     * It gives the space taken by the caption of the unit\n     *\n     * @return {Object} return the space taken by caption\n     * @memberof GeomCell\n     */\n    getCaptionSpace () {\n        const caption = this.caption();\n\n        let captionSpace = { width: 0, height: 0 };\n        if (caption) {\n            captionSpace = caption.getLogicalSpace();\n        }\n        return captionSpace;\n    }\n\n    /**\n     * return the space taken up by the element in the dom.\n     *\n     * @return {Object} Object with width and height fields.\n     * @memberof GeomCell\n     */\n    getLogicalSpace () {\n        if (!this.logicalSpace()) {\n            this.logicalSpace(computeGeomSpace(this));\n        }\n        return this.logicalSpace();\n    }\n\n    /**\n     * This method is used to set the space available to\n     * render the SimpleCell.\n     *\n     * @param {number} width The available width.\n     * @param {number} height The available height.\n     * @return {Instance} Returns current Instance\n     * @memberof GeomCell\n     */\n    setAvailableSpace (width, height) {\n        const unit = this.source();\n\n        this.availWidth(width);\n        this.availHeight(height);\n        unit.lockModel();\n        unit.width(width).height(height - this.getCaptionSpace().height);\n        unit.unlockModel();\n        this.logicalSpace(null);\n        return this;\n    }\n\n    /**\n     * his method is used to render the visual unit inside the provided cell.\n     *\n     * @param {HTMLElement} mount The mountpoint in the table.\n     * @return {Instance} Returns current Instance\n     * @memberof GeomCell\n     */\n    render (mount) {\n        if (mount) {\n            this.mount(mount);\n            const availHeight = this.availHeight();\n            const availWidth = this.availWidth();\n            const caption = this.caption();\n            const wrapperDiv = makeElement(selectElement(mount), 'div', [1], `${CLASSPREFIX}-${GEOM_CELL}`);\n\n            if (caption) {\n                const captionDom = makeElement(wrapperDiv, 'div', [caption], `${CLASSPREFIX}-unit-caption`).node();\n                caption.render(captionDom);\n            }\n            const selection = makeElement(wrapperDiv, 'div', [1], `${CLASSPREFIX}-unit`);\n            wrapperDiv.style(WIDTH, `${availWidth}px`).style(HEIGHT, `${availHeight}px`);\n            selection.style(WIDTH, `${availWidth}px`)\n                            .style(HEIGHT, `${availHeight - this.getCaptionSpace().height}px`);\n            this.source().mount(selection.node());\n        }\n        return this;\n    }\n\n    /**\n     * Disposes the cell\n     *\n     * @return {Object} Current instance\n     * @memberof GeomCell\n     */\n    remove () {\n        this.mount() && this.mount().remove();\n        this.source().remove();\n        return this;\n    }\n}\n\nexport default GeomCell;\n","import AxisCell from './axis-cell';\nimport BlankCell from './blank-cell';\nimport TextCell from './text-cell';\nimport GeomCell from './geom-cell';\nimport SimpleCell from './simple-cell';\nimport cellRegistry from './cell-registry';\n\nexport {\n    AxisCell,\n    BlankCell,\n    TextCell,\n    GeomCell,\n    SimpleCell,\n    cellRegistry\n};\n","import { mergeRecursive } from 'muze-utils';\nimport { GEOM, TEXT, AXIS, BLANK } from './enums/cell-type';\n\nconst DEFAULT_PROPS = {\n    mount: {},\n    availHeight: {},\n    availWidth: {},\n    config: {\n        sanitization: (context, value) => mergeRecursive(context._config, value)\n    },\n    logicalSpace: {},\n    minSpacing: {},\n    source: {}\n};\n\nconst geomProps = {\n    data: {},\n    caption: {},\n    config: {},\n    axes: {\n        sanitization: (context, value) => Object.assign(context._axes, value)\n    },\n    facetByFields: {},\n    fields: {},\n    transform: {},\n    layerDef: {},\n    detailFields: {}\n};\n\nconst textProps = {\n    smartText: {}\n};\nexport const PROPS = {\n    [GEOM]: mergeRecursive(geomProps, DEFAULT_PROPS),\n    [TEXT]: mergeRecursive(textProps, DEFAULT_PROPS),\n    [AXIS]: DEFAULT_PROPS,\n    [BLANK]: DEFAULT_PROPS\n};\n","import {\n    ERROR_MSG,\n    getUniqueId,\n    mergeRecursive\n} from 'muze-utils';\nimport { SIMPLE } from './enums/cell-type';\n\n/**\n * This file declares a class that is used as an interface to create new\n * SimpleCell elements.\n * @module SimpleCell\n */\n/**\n * Base class for all table cells.\n *\n * @interface\n * @class SimpleCell\n */\nclass SimpleCell {\n\n    /**\n     * Creates an instance of SimpleCell.\n     *\n     * @param {*} config The input configuration.\n     * @memberof SimpleCell\n     */\n    constructor (config) {\n        this._id = getUniqueId();\n\n        const defConfig = mergeRecursive({}, this.constructor.defaultConfig());\n        this._config = mergeRecursive(defConfig, config || {});\n\n        this._mount = null;\n    }\n\n    /**\n     * Returns the type of the placehlder.\n     *\n     * @readonly\n     * @memberof SimpleCell\n     */\n    get type () {\n        return SIMPLE;\n    }\n\n    /**\n     * Returns the type of the placehlder.\n     *\n     * @readonly\n     * @memberof SimpleCell\n     * @return {Object} Default config for the placeholder\n     */\n    static defaultConfig () {\n        return {};\n    }\n\n    /**\n     * Returns the value contained by the SimpleCell.\n     *\n     * @memberof SimpleCell\n     */\n    valueOf () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns a unique identifier for the instance used\n     * to control selective rendering.\n     *\n     * @memberof SimpleCell\n     */\n    id () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns a serialized representation of the instance.\n     *\n     * @memberof SimpleCell\n     */\n    serialize () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns an object with width and height fields\n     * specifying the space taken up by this metod.\n     *\n     * @memberof SimpleCell\n     */\n    getLogicalSpace () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Method used to set the space available to render the SimpleCell\n     *\n     * @param {number} width The available width.\n     * @param {number} height The available height.\n     * @memberof SimpleCell\n     */\n    setAvailableSpace () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Render the SimpleCell inthe supplied mount point.\n     *\n     * @param {HTMLElement} mount The mount point to render in.\n     * @memberof SimpleCell\n     */\n    render () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Render the SimpleCell inthe supplied mount point.\n     *\n     * @param {HTMLElement} mount The mount point to render in.\n     * @memberof SimpleCell\n     */\n    remove () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n}\n\nexport default SimpleCell;\n","/**\n * This file declares a class that represents a Text element in a  table.\n * @module VisualCell\n */\n\nimport {\n    selectElement,\n    makeElement,\n    getSmartComputedStyle,\n    generateGetterSetters\n} from 'muze-utils';\nimport SimpleCell from './simple-cell';\nimport { TEXT } from './enums/cell-type';\nimport { PROPS } from './props';\nimport { DEFAULT_CONFIG } from './enums/defaults';\nimport { CLASSPREFIX, TOP, BOTTOM, LEFT, RIGHT, HEADER, WIDTH, TEXT_CELL } from './enums/constants';\nimport './text-cell.scss';\n\nconst setSmartText = (context) => {\n    const source = context.source();\n    const {\n        height: minHeightSpace,\n        width: minWidthSpace\n    } = context.minSpacing();\n    const {\n       margin,\n       rotation\n   } = context.config();\n    const {\n        left,\n        right,\n        top,\n        bottom\n     } = margin;\n    const paddedHeight = top + bottom + minHeightSpace;\n    const paddedWidth = left + right + minWidthSpace;\n    const availHeight = context.availHeight() - paddedHeight;\n    const availWidth = context.availWidth() - paddedWidth;\n    const labelManager = context.dependencies().labelManager;\n\n    labelManager.setStyle(context._computedStyle);\n\n    !rotation && context.smartText(labelManager.getSmartText(source, availWidth, availHeight, false));\n    rotation && context.smartText(labelManager.getSmartText(source, availHeight, availWidth, true));\n\n    return context;\n};\n\n/**\n* Computes the Logical Space for the text\n*\n* @param {Object} context Required to get the needed parameters to compute text space\n* @return {Object} Logical space taken up by text\n* @memberof TextCell\n*/\nconst computeTextSpace = (context) => {\n    const { labelManager } = context.dependencies();\n    const {\n        height: minHeightSpace,\n        width: minWidthSpace\n    } = context.minSpacing();\n    const {\n       margin,\n       show,\n       maxLines,\n       minCharacters\n   } = context.config();\n    const {\n       left,\n       right,\n       top,\n       bottom\n    } = margin;\n    const paddedHeight = top + bottom + minHeightSpace;\n    const paddedWidth = left + right + minWidthSpace;\n    const availHeight = context.availHeight() - paddedHeight;\n    const availWidth = context.availWidth() - paddedWidth;\n    const source = context.source();\n    const space = context.smartText();\n    const minText = new Array(minCharacters).fill('W').join('');\n    const _minTextSpace = labelManager.getOriSize(minText);\n\n    context.config({ rotation: false });\n    if (space.width > (availWidth || 0) && maxLines) {\n        space.height = space.oriTextHeight * maxLines;\n    }\n    if (availWidth && availWidth < space.width) {\n        space.width = _minTextSpace.width;\n    }\n    if (availWidth && availWidth < Math.min(_minTextSpace.width, space.oriTextWidth)) {\n        const smartSpace = labelManager.getSmartText(source, availHeight, _minTextSpace.height, true);\n        space.width = smartSpace.height;\n        space.height = smartSpace.width;\n        context.config({ rotation: true });\n        context.smartText(smartSpace);\n    }\n\n    if (show) {\n        return {\n            width: Math.ceil(space.width) + paddedWidth,\n            height: Math.ceil(space.height) + paddedHeight\n        };\n    } return {\n        width: 0,\n        height: 0\n    };\n};\n\n/**\n * Represents a table haeder.\n *\n * @class Text\n */\nclass TextCell extends SimpleCell {\n\n    /**\n     * Creates an instance of Text.\n     * @param {Object} config The input configuration.\n     * @param {string} dependencies Dependencies for the class(labelManager)\n     * @memberof Text\n     */\n    constructor (config, dependencies) {\n        super(config);\n\n        this._dependencies = dependencies;\n        this._className = this._config.className ||\n                    (this._config.type === HEADER ? `${CLASSPREFIX}-${HEADER}-cell` : `${CLASSPREFIX}-${TEXT}-cell`);\n        this._computedStyle = getSmartComputedStyle(selectElement('body'), this._className);\n        this._dependencies.labelManager.setStyle(this._computedStyle);\n        generateGetterSetters(this, PROPS[TEXT]);\n        const space = this._dependencies.labelManager.getOriSize('w');\n        this.minSpacing({ width: Math.floor(space.width * 3 / 4), height: Math.floor(space.height / 2) });\n        setSmartText(this);\n    }\n\n    /**\n     * return the type pf SimpleCell cell.\n     *\n     * @readonly\n     * @memberof TextCell\n     */\n    get type () {\n        return TEXT;\n    }\n\n    /**\n     * This method return the value contained by this SimpleCell.\n     *\n     * @return {string} The text value contained by this cell.\n     * @memberof TextCell\n     */\n    valueOf () {\n        return this.source();\n    }\n\n    /**\n     * This method is used to return a unique identifier for\n     * the Text cell.\n     *\n     * @return {string} The unique identifier for the Text.\n     * @memberof TextCell\n     */\n    get id () {\n        return this._id;\n    }\n\n    /**\n     * Returns the dependencies of the instance\n     *\n     * @return {Object} Dependencies needed by the class\n     * @memberof TextCell\n     */\n    dependencies () {\n        return this._dependencies;\n    }\n\n    /**\n     * This method is used to obtain a serialized representation of this instance.\n     *\n     * @return {Object} Object with serilizable props.\n     * @memberof TextCell\n     */\n    serialize () {\n        return {\n            text: this.source(),\n            type: TEXT\n        };\n    }\n\n    /**\n     * return the default configuration for the text cell\n     *\n     * @static\n     * @return {Object} Default configuration of the cell\n     * @memberof TextCell\n     */\n    static defaultConfig () {\n        return DEFAULT_CONFIG;\n    }\n\n    /**\n     * This method return the space taken up\n     * by the text with the style applied.\n     *\n     * @return {Object} width and height taken up by the text.\n     * @memberof Text\n     */\n    getLogicalSpace () {\n        if (!this.logicalSpace()) {\n            this.logicalSpace(computeTextSpace(this));\n        }\n        return this.logicalSpace();\n    }\n\n    /**\n     * This method is used to set the available space.\n     *\n     * @param {number} width The available width.\n     * @param {number} height The available height.\n     * @return {Instance} Returns current Instance\n     * @memberof TextCell\n     */\n    setAvailableSpace (width, height) {\n        this.availWidth(width);\n        this.availHeight(height);\n        setSmartText(this);\n        this.logicalSpace(null);\n        return this;\n    }\n\n    /**\n     * This method is used to render the Text cell inside\n     * the provided mount point.\n     *\n     * @param {HTMLElement} mount The mount point for this cell.\n     * @return {Instance} Returns current Instance\n     * @memberof Text\n     */\n    render (mount) {\n        const availWidth = this.availWidth();\n        const {\n            margin,\n            show,\n            verticalAlign,\n            textAlign,\n            rotation\n        } = this.config();\n\n        this.mount(mount);\n        if (show) {\n            const container = selectElement(mount);\n            const elem = makeElement(container, 'div', [this.id], `${CLASSPREFIX}-${TEXT_CELL}`);\n            const vAlign = verticalAlign || rotation ? 'middle' : 'top';\n            const {\n                width,\n                height,\n                text\n            } = this.smartText();\n            const {\n                height: minHeightSpace\n            } = this.minSpacing();\n            const translation = {\n                top: width + minHeightSpace / 2,\n                middle: width / 2 + minHeightSpace,\n                bottom: minHeightSpace\n            };\n\n            container.style('vertical-align', vAlign);\n\n            // Set class name\n            elem.classed(this._className, true);\n\n            // Apply styles\n            elem.style('text-align', textAlign);\n            elem.style('display', 'inline');\n            elem.style('transform', rotation ? `translate(${height / 2}px, \n                ${translation[vAlign]}px) rotate(-90deg)` : '');\n            elem.style(WIDTH, availWidth ? `${availWidth}px` : '100%');\n            [TOP, BOTTOM, LEFT, RIGHT].forEach((type) => {\n                elem.style(`padding-${type}`, `${margin[type]}px`);\n            });\n\n            // Set the text as the innerHTML\n            elem.html(text);\n        }\n        return this;\n    }\n\n    /**\n     * Disposes the cell\n     *\n     * @return {Instance} Returns current Instance\n     * @memberof TextCell\n     */\n    remove () {\n        this.mount() && this.mount().remove();\n        return this;\n    }\n }\n\nexport default TextCell;\n","// extracted by mini-css-extract-plugin","import { ScaleType } from '@chartshq/muze-axis';\n\n/**\n * Map of DataModel types to associated field types.\n */\nexport const dataTypeScaleMap = {\n    dimension: ScaleType.BAND,\n    categorical: ScaleType.BAND,\n    temporal: ScaleType.TIME,\n    measure: ScaleType.LINEAR,\n    continuous: ScaleType.LINEAR\n};\n","import { layerFactory } from '@chartshq/visual-layer';\nimport { mergeRecursive, STATE_NAMESPACES, unionDomain, FieldType } from 'muze-utils';\nimport {\n    generateAxisFromMap,\n    getDefaultMark,\n    getIndex,\n    getLayerConfFromFields,\n    getAdjustedDomain\n} from './encoder-helper';\nimport { retriveDomainFromData } from '../group-helper';\n\nimport { ROW, COLUMN, COL, LEFT, TOP, CARTESIAN, MEASURE, BOTH, X, Y } from '../enums/constants';\nimport VisualEncoder from './visual-encoder';\n\n/**\n *\n *\n * @export\n * @class CartesianEncoder\n * @extends {VisualEncoder}\n */\nexport default class CartesianEncoder extends VisualEncoder {\n\n    /**\n     *\n     *\n     *\n     * @memberof CartesianEncoder\n     */\n    static type () {\n        return CARTESIAN;\n    }\n\n    /**\n     *\n     *\n     * @param {*} axesCreators\n     * @param {*} fieldInfo\n     *\n     * @memberof CartesianEncoder\n     */\n    createAxis (axesCreators, fieldInfo) {\n        const geomCellAxes = {};\n        const {\n            axes\n        } = axesCreators;\n        const {\n            projections,\n            indices\n        } = fieldInfo;\n        const {\n            rowFields,\n            columnFields\n        } = projections;\n        const {\n             rowIndex,\n             columnIndex\n        } = indices;\n        const axisFields = [{\n            fields: rowFields,\n            index: rowIndex\n        }, {\n            fields: columnFields,\n            index: columnIndex\n        }];\n        const xAxes = axes.x || [];\n        const yAxes = axes.y || [];\n\n        [rowFields, columnFields].forEach((fields, i) => {\n            const type = i === 0 ? ROW : COLUMN;\n            const axis = i === 0 ? Y : X;\n\n            if (fields.length > 1) {\n                axesCreators.position = BOTH;\n            } else {\n                axesCreators.position = this.axisFrom()[type];\n            }\n            geomCellAxes[axis] = generateAxisFromMap(axis, axisFields[i], axesCreators, axis === X ? xAxes : yAxes);\n        });\n        return geomCellAxes;\n    }\n\n    updateDomains (store, axes) {\n        const xAxes = axes.x;\n        const yAxes = axes.y;\n        store.model.lock();\n        for (let i = 0; i < xAxes.length; i++) {\n            for (let j = 0; j < xAxes[i].length; j++) {\n                store.commit(`${STATE_NAMESPACES.GROUP_GLOBAL_NAMESPACE}.domain.x.${0}${i}0`, xAxes[i][j].domain());\n            }\n        }\n        for (let i = 0; i < yAxes.length; i++) {\n            for (let j = 0; j < yAxes[i].length; j++) {\n                store.commit(`${STATE_NAMESPACES.GROUP_GLOBAL_NAMESPACE}.domain.y.${i}${0}0`, yAxes[i][j].domain());\n                yAxes[i][j]._domainLock = false;\n            }\n        }\n\n        store.model.unlock();\n    }\n\n    unionUnitDomains (context) {\n        const store = context.store();\n        const unitDomains = store.get(`${STATE_NAMESPACES.UNIT_GLOBAL_NAMESPACE}.domain`);\n        const resolver = context.resolver();\n        const units = resolver.units();\n        const domains = {\n            0: {},\n            1: {}\n        };\n\n        for (let rIdx = 0, len = units.length; rIdx < len; rIdx++) {\n            const unitsArr = units[rIdx];\n            for (let cIdx = 0, len2 = unitsArr.length; cIdx < len2; cIdx++) {\n                const unit = unitsArr[cIdx];\n                const axisFields = unit.fields();\n                [axisFields.x, axisFields.y].forEach((fieldArr, axisType) => {\n                    fieldArr.forEach((field, axisIndex) => {\n                        const key = !axisType ? `0${cIdx}${axisIndex}` : `${rIdx}0${axisIndex}`;\n                        const dom = unitDomains[`${rIdx}${cIdx}`];\n                        if (dom && Object.keys(dom).length !== 0) {\n                            domains[axisType][key] = unionDomain([(domains[axisType] && domains[axisType][key]) || [],\n                                dom[`${field}`]], field.subtype());\n                        }\n                    });\n                });\n            }\n        }\n\n        const { x: xAxes, y: yAxes } = resolver.axes();\n        store.model.lock();\n        [xAxes, yAxes].forEach((axesArr, axisType) => {\n            axesArr.forEach((axes, idx) => {\n                const min = [];\n                const max = [];\n                let domain = [];\n                let adjustedDomain = [];\n                if (axes.length > 1 && axes[0].constructor.type() === 'linear' && axes[0].config().alignZeroLine) {\n                    axes.forEach((axis, i) => {\n                        const key = !axisType ? `0${idx}${i}` : `${idx}0${i}`;\n                        domain = domains[axisType][key];\n                        min[i] = domain[0];\n                        max[i] = domain[1];\n                    });\n                    adjustedDomain = getAdjustedDomain(max, min);\n                }\n\n                axes.forEach((axis, index) => {\n                    const key = !axisType ? `0${idx}${index}` : `${idx}0${index}`;\n                    domain = adjustedDomain[index] || domains[axisType][key];\n                    axis.domain(domain);\n                    const type = !axisType ? 'x' : 'y';\n                    store.commit(`${STATE_NAMESPACES.GROUP_GLOBAL_NAMESPACE}.domain.${type}.${key}`, domain);\n                });\n            });\n        });\n        store.model.unlock();\n    }\n\n    /**\n     *\n     *\n     * @param {*} domain\n     *\n     * @memberof VisualUnit\n     */\n    updateAxisDomain (domain) {\n        ['x', 'y'].forEach((type) => {\n            const axes = this.axes()[type];\n            let min = [];\n            let max = [];\n            let dom;\n            axes && axes.forEach((axis, i) => {\n                const field = this.fields()[type][i];\n                dom = domain[`${this.fields()[type][i]}`];\n\n                if (field.type() !== FieldType.DIMENSION && dom) {\n                    min[i] = dom[0];\n                    max[i] = dom[1];\n                }\n            });\n            if (axes) {\n                if (axes.length > 1) {\n                    const axisConf = axes[0].config();\n                    if (axes[0].constructor.type() === 'linear') {\n                        if (axisConf.alignZeroLine) {\n                            axes.forEach(axis => axis.config({\n                                nice: false\n                            }));\n                            const adjustedDomain = getAdjustedDomain(max, min);\n                            min = adjustedDomain.min;\n                            max = adjustedDomain.max;\n                        }\n\n                        axes[0].updateDomainCache([min[0], max[0]]);\n                        axes[1].updateDomainCache([min[1], max[1]]);\n                    } else {\n                        axes[0].updateDomainCache(dom);\n                        axes[1].updateDomainCache(dom);\n                    }\n                } else {\n                    axes[0].updateDomainCache(dom);\n                }\n            }\n        });\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} fields\n     *\n     * @memberof CartesianEncoder\n     */\n    getFacetsAndProjections (fields, type) {\n        let facets = [];\n        let projections = [];\n        let counter = 0;\n        const primaryFacets = [];\n        const secondaryFacets = [];\n        const primaryFields = fields[0];\n        const secondaryFields = fields[1];\n        const primaryLen = primaryFields.length;\n        const secondaryLen = secondaryFields.length;\n        const axisFrom = this.axisFrom();\n\n        for (let i = 0; i < primaryLen; i++) {\n            let projArr = [primaryFields[i]];\n            const primaryField = primaryFields[i];\n\n            if (primaryField.type() === MEASURE) {\n                const secondaryField = secondaryFields[counter];\n                if (secondaryField && secondaryField.type() === MEASURE) {\n                    counter++;\n                    projArr = [primaryField, secondaryField];\n                }\n                projections.push(projArr);\n            } else {\n                facets.push(primaryField);\n                primaryFacets.push(primaryField);\n            }\n        }\n        if (secondaryLen > counter) {\n            for (let i = counter; i < secondaryLen; i++) {\n                const secondaryField = secondaryFields[i];\n                const projArr = [secondaryField];\n                if (secondaryField.type() === MEASURE) {\n                    projections.push(projArr);\n                } else {\n                    facets.push(secondaryField);\n                    secondaryFacets.push(secondaryField);\n                }\n            }\n        }\n        if ((primaryFacets.length || secondaryFacets.length) && !projections.length) {\n            type = type === COL ? COLUMN : type;\n            if ((axisFrom[type] === LEFT || axisFrom[type] === TOP) && primaryFacets.length) {\n                const axisFromIndex = primaryFacets.length - 1;\n                const facet = primaryFacets[axisFromIndex];\n                projections = [[facet]];\n                const existIndex = getIndex(secondaryFacets, facet);\n                if (existIndex > -1) {\n                    projections = [[facet, facet]];\n                    secondaryFacets.splice(existIndex, 1);\n                }\n                primaryFacets.splice(axisFromIndex, 1);\n            } else {\n                const axisFromIndex = 0;\n                const facet = secondaryFacets[axisFromIndex];\n                projections = [[facet]];\n                const existIndex = getIndex(primaryFacets, facet);\n                if (existIndex > -1) {\n                    projections = [[facet, facet]];\n                    primaryFacets.splice(existIndex, 1);\n                }\n                secondaryFacets.splice(axisFromIndex, 1);\n            }\n        }\n\n        facets = [...primaryFacets, ...secondaryFacets];\n        facets = facets.filter((el, index, self) => index === self.findIndex(t => (t.toString() === el.toString())));\n        return {\n            facets,\n            projections\n        };\n    }\n\n    /**\n     *\n     *\n     * @param {*} datamodel\n     * @param {*} config\n     *\n     * @memberof CartesianEncoder\n     */\n    fieldSanitizer (datamodel, config) {\n        return super.fieldSanitizer(datamodel, config);\n    }\n\n    /**\n     *\n     *\n     * @param {*} datamodel\n     *\n     * @memberof CartesianEncoder\n     */\n    getRetinalFieldsDomain (dataModels, encoding) {\n        const groupedModel = dataModels.groupedModel;\n        const domains = {};\n        for (const key in encoding) {\n            if ({}.hasOwnProperty.call(encoding, key)) {\n                const encodingObj = encoding[key];\n                const field = encodingObj.field;\n                if (!encodingObj.domain && field) {\n                    const domain = retriveDomainFromData(groupedModel, field);\n                    domains[field] = domain;\n                }\n            }\n        }\n        return domains;\n    }\n\n    /**\n     *\n     *\n     * @param {*} layerArray\n     * @memberof CartesianEncoder\n     */\n    serializeLayerConfig (layerArray) {\n        const serializedLayers = [];\n        // let currentLayerIndex = 0;\n        layerArray.length && layerArray.forEach((layer, i) => {\n            const def = layerFactory.sanitizeLayerConfig(layer);\n            def.order = i;\n            serializedLayers.push(def);\n        });\n        return serializedLayers;\n    }\n\n    /**\n     *\n     *\n     * @param {*} fields\n     * @param {*} userLayerConfig\n     *\n     * @memberof CartesianEncoder\n     */\n    getLayerConfig (fields, userLayerConfig) {\n        const layerConfig = [];\n        const {\n            columnFields,\n            rowFields\n        } = fields;\n\n        // let currentLayerIndex = 0;\n        columnFields.forEach((colField) => {\n            const colFieldName = colField.toString();\n            rowFields.forEach((rowField) => {\n                let configs = [];\n                const rowFieldName = rowField.toString();\n                const encoding = {\n                    x: {\n                        field: colFieldName\n                    },\n                    y: {\n                        field: rowFieldName\n                    }\n                };\n                const rowFieldType = rowField.subtype();\n                const colFieldType = colField.subtype();\n                const mark = getDefaultMark(colFieldType, rowFieldType);\n\n                const defConfigs = [{\n                    mark,\n                    def: {\n                        mark,\n                        encoding\n                    }\n                }];\n\n                const layerConfigs = getLayerConfFromFields(colField.getMembers(),\n                    rowField.getMembers(), userLayerConfig || []);\n                if (layerConfigs.length) {\n                    configs = layerConfigs.map((layerConf) => {\n                        const mergedLayerConf = mergeRecursive(mergeRecursive({}, defConfigs[0].def), layerConf);\n                        const serializedLayerConfig = layerFactory.getSerializedConf(mergedLayerConf.mark,\n                            mergedLayerConf);\n                        return {\n                            mark: mergedLayerConf.mark,\n                            order: mergedLayerConf.order,\n                            def: serializedLayerConfig\n                        };\n                    });\n                } else {\n                    configs = defConfigs;\n                }\n\n                layerConfig.push(...configs);\n            });\n        });\n        return layerConfig;\n    }\n}\n","import { mergeRecursive } from 'muze-utils';\nimport { AxisOrientation } from '@chartshq/muze-axis';\nimport { scaleMaps } from '../enums/scale-maps';\nimport { getAxisType, getAxisKey } from '../group-helper';\nimport { dataTypeScaleMap } from '../data-type-scale-map';\nimport { CATEGORICAL, TEMPORAL, BAR, LINE, POINT, BOTH, Y } from '../enums/constants';\n\n/**\n *\n *\n * @param {*} axisInfo\n * @param {*} field\n * @param {*} axesCreators\n *\n */\nconst getAxisConfig = (axisInfo, field, axesCreators) => {\n    let axisOrientation;\n    const { index, axisIndex, axisType } = axisInfo;\n    const { config, position } = axesCreators;\n    const userAxisConfig = config.axes ? (config.axes[axisType] || {}) : {};\n    const {\n        LEFT,\n        RIGHT,\n        TOP,\n        BOTTOM\n    } = AxisOrientation;\n    const allOrientations = axisType === Y ? [LEFT, RIGHT] : [TOP, BOTTOM];\n\n    if (position === BOTH) {\n        axisOrientation = allOrientations[axisIndex];\n    } else {\n        axisOrientation = position;\n    }\n    const axisConfig = {\n        id: `${axisType}-${index}-${axisIndex}`,\n        name: field.toString(),\n        field: field.toString(),\n        numberFormat: field.numberFormat(),\n        orientation: axisOrientation,\n        showAxisName: true,\n        show: true,\n        type: dataTypeScaleMap[field.subtype()]\n    };\n    userAxisConfig.tickValues = field.format(userAxisConfig.tickValues);\n    userAxisConfig.domain = field.format(userAxisConfig.domain);\n\n    return mergeRecursive(axisConfig, userAxisConfig);\n};\n\n/**\n *\n *\n * @param {*} axisInfo\n * @param {*} field\n * @param {*} axesCreators\n *\n */\nconst createSimpleAxis = (axisConfig, field, axesCreators) => {\n    const { labelManager } = axesCreators;\n    const Cls = scaleMaps[dataTypeScaleMap[field.subtype()]];\n    const simpleAxis = new Cls(axisConfig, { labelManager });\n    return simpleAxis;\n};\n\nexport const getAdjustedDomain = (max, min) => {\n    const y1ratio = max[0] / (max[0] - min[0]);\n    const y2ratio = max[1] / (max[1] - min[1]);\n\n    // adjust min/max values for positive negative values zero line etc\n    let allSameSign = false;\n\n    // if all numbers are positive set floor to zero\n    if (min[0] > 0 && min[1] > 0 && min[1] > 0 && max[1] > 0) {\n        allSameSign = true;\n        min[0] = 0;\n        min[1] = 0;\n    }\n\n    // if all numbers are negative set ceiling to zero\n    if (min[0] < 0 && min[1] < 0 && min[1] < 0 && max[1] < 0) {\n        allSameSign = true;\n        max[0] = 0;\n        max[1] = 0;\n    }\n\n    // align zero line if necessary\n    if (!allSameSign && y1ratio !== y2ratio) {\n        if (y1ratio < y2ratio) {\n                    // adjust min[1]\n            min[1] = min[0] / max[0] * max[1];\n        } else {\n                    // adjust min[0]\n            min[0] = min[1] / max[1] * max[0];\n        }\n    }\n    return [\n        [min[0], max[0]],\n        [min[1], max[1]]\n    ];\n};\n\n/**\n *\n *\n * @param {*} axisType\n * @param {*} fieldInfo\n * @param {*} axesCreators\n * @param {*} groupAxes\n *\n */\nexport const generateAxisFromMap = (axisType, fieldInfo, axesCreators, groupAxes) => {\n    let axisKey;\n    const currentAxes = [];\n    const { fields, index } = fieldInfo;\n    const { cacheMaps } = axesCreators;\n    const map = cacheMaps[`${axisType}AxesMap`];\n\n    const commonAxisKey = getAxisKey(axisType, index);\n    fields.forEach((field, axisIndex) => {\n        axisKey = getAxisKey(axisType, index, axisIndex, dataTypeScaleMap[field.subtype()]);\n        const axisConfig = getAxisConfig({ index, axisIndex, axisType }, field, axesCreators);\n\n        let axis;\n        if (!map.has(axisKey)) {\n            axis = createSimpleAxis(axisConfig, field, axesCreators);\n        } else {\n            axis = map.get(axisKey);\n            axis._rotationLock = false;\n            axis.config(axisConfig);\n            axisConfig.domain ? axis.domain(axisConfig.domain) : axis.resetDomain();\n        }\n        currentAxes.push(axis);\n        map.set(axisKey, axis);\n    });\n\n    if (currentAxes.length) {\n        map.set(commonAxisKey, currentAxes);\n        groupAxes.add(commonAxisKey);\n    }\n\n    return currentAxes;\n};\n\n/**\n *\n *\n * @memberof MatrixResolver\n */\nexport const mutateAxesFromMap = (cacheMaps, axes) => {\n    const {\n        xAxesMap,\n        yAxesMap\n    } = cacheMaps;\n    const {\n        x: xAxisSet,\n        y: yAxisSet\n    } = axes;\n    const xAxes = [];\n    const yAxes = [];\n\n    xAxisSet.forEach((axisId) => {\n        const xAxis = xAxesMap.get(axisId);\n        xAxes.push(xAxis);\n    });\n    yAxisSet.forEach((axisId) => {\n        const yAxis = yAxesMap.get(axisId);\n        yAxes.push(yAxis);\n    });\n    return {\n        xAxes, yAxes\n    };\n};\n\n/**\n * return a default mark based on predefined set of rules of type and subtype of the fields\n *\n * @param {string} colFieldType dimension/measure - temporal/ordinal/nominal\n * @param {string} rowFieldType dimension/measure - temporal/ordinal/nominal\n * @return {Object} return mark type\n */\nexport const getDefaultMark = (colFieldType, rowFieldType) => {\n    let mark;\n\n    if (colFieldType === CATEGORICAL || rowFieldType === CATEGORICAL) {\n        mark = BAR;\n    } else if (colFieldType === TEMPORAL || rowFieldType === TEMPORAL) {\n        mark = LINE;\n    } else {\n        mark = POINT;\n    }\n\n    return mark;\n};\n\n/**\n *\n *\n * @param {*} axesCreators\n * @param {*} [fieldInfo=[]]\n *\n */\nexport const createRetinalAxis = (axesCreators, fieldProps = {}) => {\n    const { axisType, fieldsConfig } = axesCreators;\n    const field = fieldProps.field;\n    const axis = [];\n    const Cls = scaleMaps[axisType];\n\n    fieldProps.type = fieldProps.type ? fieldProps.type : getAxisType(fieldsConfig, field || null);\n    axis.push(new Cls(fieldProps));\n    return axis;\n};\n\n/**\n *\n *\n * @param {*} arr\n * @param {*} val\n *\n */\nexport const getIndex = (arr, val) => {\n    let i = 0;\n    let arrIndex = -1;\n\n    while (arrIndex === -1 && i < arr.length) {\n        if (arr[i].toString() === val.toString()) {\n            arrIndex = i;\n        }\n        i++;\n    }\n    return arrIndex;\n};\n\n/**\n *\n *\n * @param {*} colFields\n * @param {*} rowFields\n * @param {*} userLayerConfig\n *\n * @memberof CartesianEncoder\n */\nexport const getLayerConfFromFields = (colFields, rowFields, userLayerConfig) => userLayerConfig.filter((conf) => {\n    const userConf = conf instanceof Array ? conf : [conf];\n    const encodingArr = [].concat(...userConf.map(d => d.encoding).filter(d => d !== undefined));\n\n    if (!encodingArr.length) {\n        return true;\n    }\n\n    const xFields = [].concat(...encodingArr.map(d => [d.x && d.x.field, d.x0 && d.x0.field]))\n                .filter(d => d !== undefined && d !== null);\n    const yFields = [].concat(...encodingArr.map(d => [d.y && d.y.field, d.y0 && d.y0.field]))\n                .filter(d => d !== undefined && d !== null);\n\n    if (!xFields.length && !yFields.length) {\n        return true;\n    }\n\n    const colFieldExist = xFields.length ? xFields.every(d => colFields.indexOf(d) !== -1) : false;\n    const rowFieldExist = yFields.length ? yFields.every(d => rowFields.indexOf(d) !== -1) : false;\n    if (xFields.length && yFields.length) {\n        return colFieldExist && rowFieldExist;\n    }\n    return colFieldExist || rowFieldExist;\n});\n","import { ComposedVars, SimpleVariable } from '../variable';\nimport { DIMENSION, COLUMNS, ROWS, TEMPORAL } from '../enums/constants';\n\n/**\n * Gets the list of fields in a sorted order by measurement and dimension\n *\n * @param {Array} fieldList List of fields in the view\n * @param {Object} fieldMap Mapping of fields in the datamodel\n * @return {Array} fields sorted by measurement and dimensions\n */\nconst orderFields = (fieldArray, type) => {\n    const dimensionArr = [[], []];\n    const measureArr = [[], []];\n    const temporalArr = [[], []];\n    const categoricalArr = [[], []];\n\n    fieldArray.forEach((fieldList, index) => {\n        fieldList.forEach((field) => {\n            if (field.type() === DIMENSION) {\n                dimensionArr[index].push(field);\n                field.subtype() === TEMPORAL ? temporalArr[index].push(field) : categoricalArr[index].push(field);\n            } else {\n                measureArr[index].push(field);\n            }\n        });\n    });\n\n    const numOfMeasures = measureArr[0].length + (measureArr[1] ? measureArr[1].length : 0);\n\n    // Single array of fields\n    if (!fieldArray[1]) {\n        // Push measures to bottom\n        measureArr[1] = type === COLUMNS ? measureArr[0] : [];\n        // Push measures to left\n        measureArr[0] = type !== COLUMNS ? measureArr[0] : [];\n        // Bottom and right dimensions empty\n        dimensionArr[1] = [];\n        // Left and top filled with dimensions\n        dimensionArr[0] = dimensionArr[0];\n        if (numOfMeasures === 0) {\n            const allDimensions = [...dimensionArr[0], ...dimensionArr[1]];\n            if (type === COLUMNS) {\n                dimensionArr[1] = allDimensions[allDimensions.length - 1] ? [allDimensions[allDimensions.length - 1]]\n                        : [];\n                allDimensions.splice(-1, 1);\n            } else {\n                dimensionArr[1] = [];\n            }\n            dimensionArr[0] = [...allDimensions];\n        }\n    }\n\n    if (dimensionArr[0].length && dimensionArr[1].length && numOfMeasures > 0) {\n        dimensionArr[0] = [...dimensionArr[0], ...dimensionArr[1]];\n        dimensionArr[1] = [];\n    }\n    return {\n        fields: dimensionArr.map((list, i) => (i === 1 ?\n            measureArr[i].concat(dimensionArr[i]) : dimensionArr[i].concat(measureArr[i]))),\n        dimensions: [...dimensionArr[0], ...dimensionArr[1]],\n        measures: [...measureArr[0], ...measureArr[1]],\n        temporal: [...temporalArr[0], ...temporalArr[1]],\n        categorical: [...categoricalArr[0], ...categoricalArr[1]]\n    };\n};\n\n/**\n * Gets the list of normalized fields\n *\n * @param {Array} fields List of fields in the view\n * @param {Object} fieldMap Mapping of fields in the datamodel\n * @return {Array} fields normalized by measurement and dimensions\n */\nconst normalizeFields = (config, type) => {\n    const fieldsArr = [];\n    const fields = config[type];\n\n    if (!(fields[0] instanceof Array)) {\n        fieldsArr[0] = fields;\n    } else {\n        fieldsArr[0] = fields[0] || [];\n        fieldsArr[1] = fields[1] || [];\n    }\n    return fieldsArr;\n};\n\n/**\n *\n *\n * @param {*} fields\n * @param {*} datamodel\n *\n */\nconst convertToVar = (datamodel, fields) => {\n    const vars = [];\n\n    fields && fields.forEach((field) => {\n        if (field instanceof ComposedVars) {\n            vars.push(field);\n            field.data(datamodel);\n        } else {\n            vars.push(new SimpleVariable(field).data(datamodel));\n        }\n    });\n    return vars;\n};\n\n/**\n *\n *\n * @param {*} rows\n * @param {*} columns\n * @param {*} datamodel\n *\n */\nexport const transformFields = (datamodel, config) => {\n    const [rowsInfo, columnsInfo] = [ROWS, COLUMNS].map((fields) => {\n        const normalizedFields = normalizeFields(config, fields);\n        const norFields = [convertToVar(datamodel, normalizedFields[0])];\n\n        if (normalizedFields[1]) {\n            norFields[1] = convertToVar(datamodel, normalizedFields[1]);\n        }\n        return orderFields(norFields, fields);\n    });\n    const {\n        fields: rows,\n        dimensions: rowDimensions,\n        measures: rowMeasures,\n        temporal: rowTemporalFields,\n        categorical: rowCategoricalFields\n    } = rowsInfo;\n    const {\n        fields: columns,\n        dimensions: columnDimensions,\n        measures: columnMeasures,\n        temporal: columnTemporalFields,\n        categorical: columnCategoricalFields\n    } = columnsInfo;\n    return {\n        rows,\n        rowDimensions,\n        rowMeasures,\n        rowTemporalFields,\n        rowCategoricalFields,\n        columns,\n        columnTemporalFields,\n        columnCategoricalFields,\n        columnDimensions,\n        columnMeasures\n    };\n};\n","export { default as VisualEncoder } from './visual-encoder';\nexport { default as CartesianEncoder } from './cartesian-encoder';\nexport { default as PolarEncoder } from './polar-encoder';\nexport { default as RetinalEncoder } from './retinal-encoder';\n","import { layerFactory } from '@chartshq/visual-layer';\nimport { mergeRecursive, STATE_NAMESPACES } from 'muze-utils';\nimport VisualEncoder from './visual-encoder';\nimport { RADIUS, ANGLE, SIZE, MEASURE, ARC, POLAR, COLOR } from '../enums/constants';\n/**\n *\n *\n * @export\n * @class PolarEncoder\n * @extends {VisualEncoder}\n */\nexport default class PolarEncoder extends VisualEncoder {\n\n    /**\n     *\n     *\n     * @param {*} axesCreators\n     * @param {*} fieldInfo\n     *\n     * @memberof PolarEncoder\n     */\n    createAxis (axesCreators, fieldInfo) {\n        const {\n            axes\n        } = axesCreators;\n        const geomCellAxes = axes;\n        const {\n            indices\n        } = fieldInfo;\n        const {\n            rowIndex,\n            columnIndex\n        } = indices;\n        // Dummy axes for polar, to create blank cells\n        const pieAxes = geomCellAxes.pie || [];\n\n        pieAxes[rowIndex] = pieAxes[rowIndex] || [];\n        pieAxes[rowIndex][columnIndex] = [];\n\n        geomCellAxes.pie = pieAxes;\n        geomCellAxes.x = null;\n        geomCellAxes.y = null;\n\n        return geomCellAxes;\n    }\n\n    /**\n     *\n     *\n     * @param {*} fields\n     *\n     * @memberof CartesianEncoder\n     */\n    getFacetsAndProjections (fields) {\n        let counter = 0;\n        const facets = [];\n        const projections = [];\n        const primaryFields = fields[0];\n        const secondaryFields = fields[1];\n        const primaryLen = primaryFields.length;\n        const secondaryLen = secondaryFields.length;\n\n        for (let i = 0; i < primaryLen; i++) {\n            const primaryField = primaryFields[i];\n            if (primaryField.type() === MEASURE) {\n                const secondaryField = secondaryFields[counter++];\n                const projArr = secondaryField ? [primaryField, secondaryField] : [primaryField];\n                projections.push(projArr);\n            } else {\n                facets.push(primaryField);\n            }\n        }\n        if (secondaryLen > counter) {\n            for (let i = counter; i < secondaryLen; i++) {\n                const secondaryField = secondaryFields[i];\n                const projArr = [secondaryField];\n                if (secondaryField.type() === MEASURE) {\n                    projections.push(projArr);\n                } else {\n                    facets.push(secondaryField);\n                }\n            }\n        }\n        return {\n            facets,\n            projections\n        };\n    }\n\n    unionUnitDomains (context) {\n        const store = context.store();\n        const domains = store.get(`${STATE_NAMESPACES.UNIT_GLOBAL_NAMESPACE}.domain`);\n        const domainProps = {\n            radius: [Infinity, -Infinity]\n        };\n        Object.values(domains).forEach((domainVal) => {\n            for (const key in domainVal) {\n                domainProps[key] = [Math.min(domainVal[key][0], domainProps[key][0]),\n                    Math.min(domainVal[key][1], domainProps[key][1])];\n            }\n        });\n        store.commit(`${STATE_NAMESPACES.GROUP_GLOBAL_NAMESPACE}.domain.radius`, domainProps.radius);\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof PolarEncoder\n     */\n    setCommonDomain () {\n        // No domain to be set\n        return this;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof PolarEncoder\n     */\n    static type () {\n        return POLAR;\n    }\n\n    layers (...layers) {\n        if (layers.length) {\n            this._layers = layers[0];\n            return this;\n        }\n        return this._layers;\n    }\n\n    /**\n     *\n     *\n     * @param {*} datamodel\n     * @param {*} config\n     * @memberof PolarEncoder\n     */\n    fieldSanitizer (datamodel, config) {\n        let sanitizedRows = [[], []];\n        let sanitizedColumns = [[], []];\n        const fields = super.fieldSanitizer(datamodel, config);\n        const {\n            layers\n        } = config;\n        const {\n            rows,\n            columns\n        } = fields;\n        const layer = layers[0];\n        const encoding = layer.encoding;\n        const radius = encoding && encoding.radius ? encoding.radius.field : null;\n        const angle = encoding && encoding.angle ? encoding.angle.field : null;\n        const sanitizedFields = [sanitizedRows, sanitizedColumns];\n\n        [rows, columns].forEach((fieldType, typeIndex) => {\n            fieldType.forEach((fieldSet, i) => fieldSet.forEach((field) => {\n                if (field.toString() !== radius && field.toString() !== angle && field.type() !== MEASURE) {\n                    sanitizedFields[typeIndex][i].push(field);\n                }\n            }));\n        });\n        sanitizedColumns = [...new Set(sanitizedColumns)];\n        sanitizedRows = [...new Set(sanitizedRows)];\n        this.fieldInfo({ rows: sanitizedRows, columns: sanitizedColumns });\n        return this.fieldInfo();\n    }\n\n    getRetinalFieldsDomain (dataModels, encoding, facetFields, groupBy) {\n        let sizeField;\n        let colorField;\n        const fields = [];\n        const layers = this.layers();\n        const dataModel = dataModels.parentModel;\n        const fieldsConfig = dataModel.getFieldsConfig();\n        const domains = {};\n        if (layers && layers[0]) {\n            const layer = layers[0];\n            const layerEncoding = layer.def.encoding || {};\n\n            [RADIUS, ANGLE, SIZE, COLOR].forEach((encType) => {\n                const field = layerEncoding[encType] ? layerEncoding[encType].field : '';\n                const measureField = fieldsConfig[field] && fieldsConfig[field].def.type === MEASURE;\n                if (encType === SIZE && measureField) {\n                    sizeField = field;\n                }\n                if (encType === COLOR) {\n                    colorField = field;\n                }\n                fieldsConfig[field] && !measureField && fields.push(field);\n            });\n        }\n\n        if (sizeField) {\n            domains[sizeField] = dataModel.groupBy(facetFields, {\n                [sizeField]: 'sum'\n            }).getFieldspace().fieldsObj()[sizeField].domain();\n        }\n\n        if (colorField) {\n            const dm = dataModel.groupBy([...facetFields, ...fields], groupBy.measures);\n            domains[colorField] = dm.getFieldspace().fieldsObj()[colorField].domain();\n        }\n        return domains;\n    }\n    /**\n     *\n     *\n     * @param {*} fields\n     * @param {*} userLayerConfig\n     *\n     * @memberof PolarEncoder\n     */\n    getLayerConfig (fields, userLayerConfig) {\n        let layerConfig = [];\n        const {\n                columnFields,\n                rowFields\n            } = fields;\n        const allFields = [...columnFields, ...rowFields];\n\n        allFields.forEach(() => {\n            const encoding = {};\n            let config = {\n                mark: ARC,\n                def: {\n                    encoding\n                }\n            };\n            if (userLayerConfig && userLayerConfig.length > 0) {\n                config = mergeRecursive(config, userLayerConfig[0]);\n            }\n            layerConfig.push(config);\n        });\n        if (layerConfig.length === 0) {\n            layerConfig = userLayerConfig;\n        }\n\n        this.layers(layerConfig);\n        return layerConfig;\n    }\n\n    /**\n     *\n     *\n     * @param {*} layerArray\n     *\n     * @memberof PolarEncoder\n     */\n    serializeLayerConfig (layerArray) {\n        const serializedLayers = [];\n\n        layerArray.length && layerArray.forEach((layer) => {\n            const def = layerFactory.getSerializedConf(layer.mark, layer);\n            serializedLayers.push({\n                mark: layer.mark,\n                def\n            });\n        });\n        return serializedLayers;\n    }\n}\n","import { createRetinalAxis } from './encoder-helper';\nimport { COLOR, SHAPE, SIZE } from '../enums/constants';\nimport VisualEncoder from './visual-encoder';\n\n/**\n *\n *\n * @export\n * @class RetinalEncoder\n * @extends {VisualEncoder}\n */\nexport default class RetinalEncoder extends VisualEncoder {\n\n    /**\n     *\n     *\n     * @param {*} axesCreators\n     *\n     * @memberof RetinalEncoder\n     */\n    createAxis (axesCreators) {\n        const { fieldsConfig, config } = axesCreators;\n        const newAxes = {};\n\n        [COLOR, SHAPE, SIZE].forEach((axisType) => {\n            newAxes[`${axisType}`] = createRetinalAxis({ axisType, fieldsConfig }, config[axisType]);\n        });\n        return newAxes;\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof RetinalEncoder\n     */\n    static type () {\n        return 'retinal';\n    }\n\n    /**\n     *\n     *\n     * @param {*} fields\n     * @param {*} userLayerConfig\n     *\n     * @memberof RetinalEncoder\n     */\n    getLayerConfig (encodingConfigs, userLayerConfig) {\n        const layerConfig = [];\n        userLayerConfig.forEach((e) => {\n            const config = e;\n            [COLOR, SHAPE, SIZE].forEach((axis) => {\n                if (encodingConfigs[axis] && encodingConfigs[axis].field) {\n                    const def = config.def;\n                    if (config.def instanceof Array) {\n                        def.forEach((conf) => {\n                            conf.encoding = conf.encoding || {};\n                            !conf.encoding[axis] && (conf.encoding[axis] = {});\n                            conf.encoding[axis].field = encodingConfigs[axis].field;\n                        });\n                    } else {\n                        def.encoding = def.encoding || {};\n                        !def.encoding[axis] && (def.encoding[axis] = {});\n                        def.encoding[axis].field = encodingConfigs[axis].field;\n                    }\n                }\n            });\n            layerConfig.push(config);\n        });\n        return layerConfig;\n    }\n\n    /**\n     *\n     *\n     * @param {*} context\n     *\n     * @memberof RetinalEncoder\n     */\n    setCommonDomain (context) {\n        const { domains, axes, encoding } = context;\n\n        Object.entries(encoding).forEach((enc) => {\n            if (enc[1] && enc[1].field) {\n                const encType = enc[0];\n                const field = enc[1].field;\n\n                if (field) {\n                    axes[encType].forEach((axis) => {\n                        const domain = domains[field];\n                        !enc[1].domain && axis.updateDomain(domain);\n                    });\n                }\n            }\n        });\n        return axes;\n    }\n}\n","import { ERROR_MSG, mergeRecursive } from 'muze-utils';\nimport { transformFields } from './field-sanitizer';\nimport { getHeaderAxisFrom } from '../group-helper/group-utils';\nimport { ROW, COLUMN } from '../enums/constants';\n\n/**\n *\n *\n * @export\n * @class VisualEncoder\n */\nexport default class VisualEncoder {\n\n    /**\n     *\n     *\n     * @memberof VisualEncoder\n     */\n    createAxis () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     *\n     *\n     * @memberof VisualEncoder\n     */\n    setCommonDomain () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     *\n     *\n     * @memberof VisualEncoder\n     */\n    getLayerConfig () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    fieldInfo (...info) {\n        if (info.length) {\n            this._fieldInfo = mergeRecursive(this._fieldInfo || {}, info[0]);\n            return this;\n        }\n        return this._fieldInfo;\n    }\n\n    /**\n     *\n     *\n     * @param {*} datamodel\n     * @param {*} config\n     *\n     * @memberof VisualEncoder\n     */\n    fieldSanitizer (datamodel, config) {\n        this.fieldInfo(transformFields(datamodel, config));\n        return this.fieldInfo();\n    }\n\n    /**\n     *\n     *\n     * @param {*} params\n     *\n     * @memberof VisualEncoder\n     */\n    axisFrom (...params) {\n        if (params.length) {\n            this._axisFrom = params[0];\n            return this;\n        }\n        return this._axisFrom;\n    }\n\n    /**\n     *\n     *\n     * @param {*} params\n     *\n     * @memberof VisualEncoder\n     */\n    headerFrom (...params) {\n        if (params.length) {\n            this._headerFrom = params[0];\n            return this;\n        }\n        return this.__headerFrom;\n    }\n\n    /**\n     *\n     *\n     * @param {*} axisFrom\n     *\n     * @memberof CartesianEncoder\n     */\n    setAxisAndHeaders (axisFrom = {}, fields) {\n        const [rowHeader, rowAxis] = getHeaderAxisFrom(ROW, fields.rows, axisFrom);\n        const [colHeader, colAxis] = getHeaderAxisFrom(COLUMN, fields.columns, axisFrom);\n\n        this.axisFrom({\n            row: rowAxis,\n            column: colAxis\n        });\n        this.headerFrom({\n            row: rowHeader,\n            column: colHeader\n        });\n        return this;\n    }\n}\n","/**\n * This file exports constants that are used as enums in the\n *  crosstab group implementation.\n */\n/**\n * Width of the crosstab.\n */\nexport const X = 'x';\n/**\n * Width of the crosstab.\n */\nexport const Y = 'y';\n/**\n * Width of the crosstab.\n */\nexport const WIDTH = 'width';\n\n/**\n * Height of the crosstab.\n */\nexport const HEIGHT = 'height';\n\n/**\n * Field referring to object storing measurement configuration.\n */\nexport const MEASUREMENT = 'measurement';\n\n/**\n * Field referring to object storing configuration properties.\n */\nexport const CONFIG = 'config';\n\n/**\n * Width of visual unit in crosstab.\n */\nexport const MIN_UNIT_WIDTH = 'minUnitWidth';\n\n/**\n * Height of visual unit.\n */\nexport const MIN_UNIT_HEIGHT = 'minUnitHeight';\n\n/**\n * Field to store the array of dimensions to facet by.\n */\nexport const DIMENSIONS = 'dimensions';\n\n/**\n * Field to store array of measures to use as x axis.\n */\nexport const MEASURES = 'measures';\n\n/**\n * Field to store the array of dimensions to facet by.\n */\nexport const DIMENSION = 'dimension';\n\n/**\n * Field to store array of measures to use as x axis.\n */\nexport const MEASURE = 'measure';\n\n/**\n * Flag to specify if model should be pivoted.\n */\nexport const PIVOT = 'pivot';\n\n/**\n * Flag to specify format\n */\nexport const FORMAT = 'format';\n\n/**\n * Mount point where the variable will be hosted\n */\nexport const MOUNT = 'mount';\n\n/**\n * Data update flag\n */\nexport const HAS_DATA_UPDATED = 'hasDataUpdated';\n\n/**\n * Field referring to object storing set of rows\n */\nexport const ROWS = 'rows';\n\n/**\n * Field referring to object storing set of columns\n */\nexport const COLUMNS = 'columns';\n\n/**\n * Field referring to object storing set of columns\n */\nexport const COL = 'col';\n\n/**\n * Field referring to object storing set of rows\n */\nexport const ROW = 'row';\n\n/**\n * Field referring to object storing set of columns\n */\nexport const COLUMN = 'column';\n\n/**\n * Field referring to object storing color field\n */\nexport const COLOR = 'color';\n\n/**\n * Field referring to object storing shape field\n */\nexport const SHAPE = 'shape';\n\n/**\n * Field referring to object storing size field\n */\nexport const SIZE = 'size';\n\n/**\n * Field referring to object storing detail field\n */\nexport const DETAIL = 'detail';\n\n/**\n * Field referring to object storing set of layers\n */\nexport const LAYERS = 'layers';\n\n/**\n * Field referring to object storing the transforms\n */\nexport const TRANSFORM = 'transform';\n\n/**\n * Field referring to object storing the transforms\n */\nexport const ORDINAL = 'ordinal';\n\n/**\n * Field referring to object storing the transforms\n */\nexport const LINEAR = 'linear';\n/**\n * Field referring to object storing the transforms\n */\nexport const LEFT = 'left';\n/**\n * Field referring to object storing the transforms\n */\nexport const RIGHT = 'right';\n/**\n * Field referring to object storing the transforms\n */\nexport const TOP = 'top';\n/**\n * Field referring to object storing the transforms\n */\nexport const BOTTOM = 'bottom';\n\n/**\n * Field referring to object storing the transforms\n */\nexport const RETINAL = 'retinal';\n/**\n * Field referring to object storing the transforms\n */\nexport const CELL = 'cell';\n/**\n * Field referring to object storing the transforms\n */\nexport const X_AXES = 'xAxes';\n/**\n * Field referring to object storing the transforms\n */\nexport const Y_AXES = 'yAxes';\n/**\n * Field referring to object storing the transforms\n */\nexport const ENTRY_CELLS = 'entryCell';\n/**\n * Field referring to object storing the transforms\n */\nexport const INITIALIZED = 'initialized';\n/**\n * Field referring to object storing the transforms\n */\nexport const EXIT_CELLS = 'exitCell';\n/**\n * Field referring to object storing the transforms\n */\nexport const AXIS = 'axis';\n/**\n * Field referring to object storing the transforms\n */\nexport const UNIT = 'unit';\n/**\n * Field referring to object storing the transforms\n */\nexport const UPDATED = 'updated';\n/**\n * Field referring to object storing the transforms\n */\nexport const BEFORE_UPDATE = 'beforeupdate';\n/**\n * Field referring to object storing the transforms\n */\nexport const VALUE_MATRIX = 'valueMatrix';\n/**\n * Field referring to object storing the transforms\n */\nexport const FACET_HEADERS = 'facet-headers';\n/**\n * Field referring to object storing the transforms\n */\nexport const RADIUS = 'radius';\n/**\n * Field referring to object storing the transforms\n */\nexport const ANGLE = 'angle';\n/**\n * Field referring to object storing the transforms\n */\nexport const ARC = 'arc';\n/**\n * Field referring to object storing the transforms\n */\nexport const CARTESIAN = 'cartesian';\n/**\n * Field referring to object storing the transforms\n */\nexport const POLAR = 'polar';\n/**\n * Field referring to object storing the transforms\n */\nexport const CATEGORICAL = 'categorical';\n/**\n * Field referring to object storing the transforms\n */\nexport const TEMPORAL = 'temporal';\n/**\n * Field referring to object storing the transforms\n */\nexport const BAR = 'bar';\n/**\n * Field referring to object storing the transforms\n */\nexport const LINE = 'line';\n/**\n * Field referring to object storing the transforms\n */\nexport const POINT = 'point';\n/**\n * Field referring to object storing the transforms\n */\nexport const PRIMARY = 'Primary';\n/**\n * Field referring to object storing the transforms\n */\nexport const SECONDARY = 'Secondary';\n/**\n * Field referring to object storing the transforms\n */\nexport const BOTH = 'both';\n/**\n * Field referring to object storing the transforms\n */\nexport const INTERACTION = 'interaction';\n/**\n * Field referring to object storing the transforms\n */\nexport const GRID_LINES = 'gridLines';\n/**\n * Field referring to object storing the transforms\n */\nexport const GRID_BANDS = 'gridBands';\n/**\n * Field referring to object storing the transforms\n */\nexport const HEADER = 'header';\n/**\n * Field referring to object storing the transforms\n */\nexport const FACET = 'facet';\n\n","/**\n * This file exports variables that are used as defaults for the crosstab group.\n */\nexport const DATA_UPDATE_COUNTER = 0;\n\nexport const DEFAULT_LAYER_TYPE = 'cartesian';\n\n","import { ContinousAxis, BandAxis, TimeAxis, ColorAxis, SizeAxis, ShapeAxis } from '@chartshq/muze-axis';\n\nexport const scaleMaps = {\n    linear: ContinousAxis,\n    band: BandAxis,\n    temporal: TimeAxis,\n    size: SizeAxis,\n    color: ColorAxis,\n    shape: ShapeAxis\n};\n","import { AxisOrientation } from '@chartshq/muze-axis';\nimport { getObjProp, FieldType } from 'muze-utils';\nimport { getMatrixModel } from './matrix-model';\nimport {\n    getCellKey,\n    isDistributionEqual,\n    mutateAxesFromMap,\n    createSelection,\n    getFieldsFromSuppliedLayers,\n    extractFields\n} from './group-utils';\nimport { ROW, ROWS, COLUMNS, COL, LEFT, RIGHT, TOP, BOTTOM, PRIMARY, SECONDARY, X, Y } from '../enums/constants';\n\n/**\n * Updates row and column cells with the geom cell corresponding to the facet keys\n *\n * @param {*} resolver\n * @param {*} facets\n */\nconst updateCells = (resolver, facets, geomCell) => {\n    [ROW, COL].forEach((field) => {\n        const cells = resolver[`${field}Cells`]();\n        const facetKey = facets[`${field}Facets`][1].join();\n\n        !cells[facetKey] && (cells[facetKey] = []);\n        cells[facetKey].push(geomCell);\n        resolver[`${field}Cells`](cells);\n    });\n};\n\n/**\n *\n *\n * @param {*} context\n * @param {*} datamodel\n * @param {*} fieldInfo\n * @param {*} facets\n *\n */\nexport const createValueCells = (context, datamodel, fieldInfo, facets) => {\n    const {\n        projections,\n        indices\n    } = fieldInfo;\n    const {\n        rowFields,\n        columnFields\n    } = projections;\n    const {\n         rowIndex,\n         columnIndex\n    } = indices;\n    const {\n        suppliedLayers,\n        cell: GeomCell,\n        resolver,\n        config,\n        encoder,\n        detailFields\n    } = context;\n    const axes = resolver.axes();\n    const cacheMaps = resolver.cacheMaps();\n    const matrixLayers = resolver.matrixLayers();\n    const labelManager = resolver.dependencies().smartlabel;\n    const horizontalAxis = resolver.horizontalAxis();\n    const verticalAxis = resolver.verticalAxis();\n    const datamodelTransform = resolver.datamodelTransform();\n    const {\n        entryCellMap,\n        exitCellMap\n    } = cacheMaps;\n    const layerConfigArr = encoder.getLayerConfig({ columnFields, rowFields }, suppliedLayers || []);\n    const axesCreators = { config, labelManager, axes, cacheMaps };\n\n    fieldInfo.normalizedColumns = verticalAxis.fields;\n    fieldInfo.normalizedRows = horizontalAxis.fields;\n\n    const groupAxes = encoder.createAxis(axesCreators, fieldInfo);\n\n    matrixLayers[rowIndex] = matrixLayers[rowIndex] ? matrixLayers[rowIndex] : [];\n    matrixLayers[rowIndex][columnIndex] = layerConfigArr;\n\n    // return from map if already there otherwise create and put in map\n    const geomCellKey = getCellKey(rowIndex, columnIndex);\n    const fields = {\n        y: rowFields,\n        x: columnFields\n    };\n    const allFacets = [\n        [...facets.rowFacets[0], ...facets.colFacets[0]],\n        [...facets.rowFacets[1], ...facets.colFacets[1]]\n    ];\n    const geomCell = !exitCellMap.has(geomCellKey) ? new GeomCell() : exitCellMap.get(geomCellKey);\n\n    geomCell.data(datamodel)\n                    .axes(groupAxes)\n                    .fields(fields)\n                    .transform(datamodelTransform)\n                    .detailFields(detailFields)\n                    .facetByFields(allFacets);\n    entryCellMap.set(geomCellKey, geomCell);\n    exitCellMap.delete(geomCellKey);\n\n    updateCells(resolver, facets, geomCell);\n\n    return entryCellMap.get(geomCellKey);\n};\n\n/**\n * Creates axis cells based on the set of axes\n *\n * @param {Selection} selection Contains a selection of the axis units\n * @param {Array} axes Actual axis units\n * @param {number} axisIndex 0-> primary axis, 1-> secondary axis(when dual axis is made)\n * @param {Object} cells Contains a collection of the cells\n * @return {Object} return either set of axis/blank cells depending on the config\n */\n\nconst createAxisCells = (selection, axes, axisIndex, cells) =>\n    createSelection(selection, axis => axis, axes, (item, i) => i + item.reduce((e, n) => {\n        const id = n.id + axisIndex;\n        return e + id;\n    }, '')).map((axis) => {\n        if (axis && axis[axisIndex]) {\n            const axisInst = axis[axisIndex];\n            const { orientation, show } = axisInst.config();\n\n            return new cells.AxisCell().source(axisInst).config({\n                isOffset: orientation === AxisOrientation.LEFT || orientation === AxisOrientation.TOP,\n                show\n            });\n        }\n        return new cells.BlankCell().config({ show: false });\n    });\n\n/**\n *\n *\n * @param {*} context\n * @param {*} selectionObj\n * @param {*} cells\n * @retur\n */\nconst axisPlaceholderGn = (context, selObj, cells) => {\n    const {\n        matrices\n    } = context;\n    const {\n        axesMatrix\n    } = matrices;\n\n    return (type, axisFrom) => {\n        const axes = axesMatrix[`${type}`];\n\n        if (axes && axes.length) {\n            if (type === X || type === Y) {\n                const fieldNames = type === Y ? ROWS : COLUMNS;\n\n                [PRIMARY, SECONDARY].forEach((fieldType, index) => {\n                    const selObjProp = `${fieldNames}${fieldType}`;\n                    let axisIndex = index;\n                    let axesForDraw = axes;\n                    if (axisFrom === RIGHT || axisFrom === BOTTOM) {\n                        axisIndex = 1 - axisIndex;\n                    }\n                    if (!getObjProp(axes, 0, axisIndex)) {\n                        axesForDraw = [];\n                    }\n                    selObj[selObjProp] = createAxisCells(selObj[selObjProp], axesForDraw, axisIndex, cells);\n                });\n            } else {\n                selObj.rowsPrimary = createAxisCells(selObj.rowPrime, axes.map(() => []), 0, cells);\n                selObj.columnsPrimary = createAxisCells(selObj.colPrime, axes[0], 0, cells);\n            }\n        }\n        return selObj;\n    };\n};\n\n/**\n * Creates header cells based on the set of headers\n *\n * @param {Object} selection Contains a selection of the header units\n * @param {string} headers Contains a list of the headers\n * @param {Object} cells Contains a collection of the cells\n * @param {Object} labelManager smart label instance\n * @return {Object} return either set of header cells depending on the config\n */\nconst createTextCells = (selection, headers, cells, labelManager) => createSelection(selection,\n    label => new cells.TextCell({}, { labelManager }).source(label), headers, (key, i) => key + i);\n\n/**\n *\n *\n * @param {*} context\n * @param {*} selectionObj\n * @param {*} cells\n * @param {*} labelManager\n *\n */\nconst headerPlaceholderGn = (context, selectionObj, cells, labelManager) => {\n    const {\n        axis,\n        keys,\n        type,\n        facet\n    } = context;\n    const counter = axis.length / keys.length;\n    const selectionKeys = keys.length ? axis.map((d, i) => keys[Math.floor(i / counter)]) : [];\n\n    return createSelection(selectionObj[`${type}Headers`], keySet => keySet, selectionKeys,\n        (keySet, i) => `${keySet.join(',')}-${i}`)\n                    .map(keySet => createTextCells(null, keySet, cells, labelManager)\n                                    .map((cell, k, i) => cell.source(keySet[i]).config(facet)));\n};\n\n/**\n * Creates a set of placeholders as a part of selection object\n *\n * @param {Array} normalizedOptions contains normalized rows and columns\n * @param {Array} matrices contains axis and value matrices\n * @param {aArrayny} projections contains set of row and column projections\n * @param {Object} cells Contains a collection of the cells\n * @param {Object} labelManager smart label instance\n * @return {Object} Creates a set of placeholders as a part of selections\n */\nconst generatePlaceholders = (context, cells, labelManager) => {\n    let selectionObj;\n    const {\n        matrices,\n        fields,\n        facetsAndProjections,\n        selection,\n        facet,\n        encoders\n    } = context;\n    const {\n        rows,\n        columns\n    } = fields;\n    const {\n        valuesMatrix\n    } = matrices;\n    const {\n        rowProjections,\n        colProjections\n    } = facetsAndProjections;\n    const {\n        rowKeys,\n        columnKeys\n    } = valuesMatrix;\n    const takeAxisFrom = encoders.simpleEncoder._axisFrom;\n    const takeHeaderFrom = encoders.simpleEncoder._headerFrom;\n\n    selectionObj = selection || {};\n\n    ['pie', X, Y].forEach((axis) => {\n        const axisFrom = axis === X ? takeAxisFrom.column : takeAxisFrom.row;\n        selectionObj = axisPlaceholderGn(context, selectionObj, cells)(axis, axisFrom);\n    });\n\n    const {\n        rowsPrimary,\n        rowsSecondary,\n        columnsPrimary,\n        columnsSecondary\n    } = selectionObj;\n\n    const rowAxis = rowsPrimary && rowsPrimary.getObjects().length ? rowsPrimary.getObjects() :\n        (rowsSecondary && rowsSecondary.getObjects().length ? rowsSecondary.getObjects() : []);\n    const colAxis = columnsPrimary && columnsPrimary.getObjects().length ? columnsPrimary.getObjects() :\n        (columnsSecondary && columnsSecondary.getObjects().length ? columnsSecondary.getObjects() : []);\n\n    const headerConfig = [\n        { type: LEFT, section: rows[0], axis: rowAxis, headerFrom: takeHeaderFrom.row },\n        { type: RIGHT, section: rows[1], axis: rowAxis, headerFrom: takeHeaderFrom.row },\n        { type: TOP, section: columns[0], axis: colAxis, headerFrom: takeHeaderFrom.column },\n        { type: BOTTOM, section: columns[1], axis: colAxis, headerFrom: takeHeaderFrom.column }\n    ];\n\n    headerConfig.forEach((config, index) => {\n        let keys;\n        let length;\n        const {\n            type,\n            section,\n            axis,\n            headerFrom\n        } = config;\n\n        if (index < 2) {\n            keys = rowKeys;\n            length = rowProjections.length > 0 ? rowProjections.length : 1;\n        } else {\n            keys = columnKeys;\n            length = colProjections.length > 0 ? colProjections.length : 1;\n        }\n\n        if (section.length && headerFrom === type && axis && keys.length) {\n            const hContext = { axis, length, type };\n            let headers = [];\n            if (index < 2) {\n                hContext.keys = keys;\n                hContext.facet = facet.rows;\n                headers = headerPlaceholderGn(hContext, selectionObj, cells, labelManager);\n            } else {\n                hContext.facet = facet.columns;\n                hContext.keys = keys[0].map((key, i) => keys.map(e => e[i]));\n\n                headers = headerPlaceholderGn(hContext, selectionObj, cells, labelManager);\n            }\n            selectionObj[`${type}Headers`] = headers;\n        } else {\n            selectionObj[`${type}Headers`] = null;\n        }\n    });\n    return selectionObj;\n};\n\n/**\n * Generates matrices\n *\n * @param {Object} config Configuration to generate matrices\n * @param {Array} matrices Matrices containing the set of visual units and axes units\n * @param {Object} cells Contains a collection of the cells\n * @param {Object} labelManager smart label instance\n * @return {Object} contains a collection of matrices\n */\nexport const generateMatrices = (context, matrices, cells, labelManager) => {\n    const {\n        unitHeight,\n        unitWidth,\n        facetsAndProjections,\n        normalizedRows,\n        normalizedColumns,\n        selection,\n        axisFrom,\n        facet,\n        encoders\n     } = context;\n    const placeholderContext = {\n        fields: {\n            rows: normalizedRows,\n            columns: normalizedColumns\n        },\n        matrices,\n        facetsAndProjections,\n        selection,\n        axisFrom,\n        facet,\n        encoders\n    };\n    // Generate placeholders for all matrices\n    const selectionObj = generatePlaceholders(placeholderContext, cells, labelManager);\n    const {\n        columnsPrimary,\n        columnsSecondary,\n        rowsPrimary,\n        rowsSecondary,\n        leftHeaders,\n        topHeaders,\n        bottomHeaders,\n        rightHeaders\n    } = selectionObj;\n    const [rowPrime, rowSec, colPrime, colSec] = [rowsPrimary, rowsSecondary, columnsPrimary, columnsSecondary]\n        .map(d => (d ? d.getObjects() : []));\n    const [leftFacets, rightFacets] = [leftHeaders, rightHeaders]\n        .map(e => (e ? e.getObjects()\n                        .map(f => f.getObjects()) : []));\n    let rowPriority = rowSec.length ? 1 : -1;\n    rowPrime.length && rowPriority++;\n    let colPriority = colSec.length ? 1 : -1;\n    colPrime.length && colPriority++;\n\n    // Compute left matrix using left headers and the axes on the rows\n    let leftMatrix = leftFacets.length ? leftFacets.map((d, i) => {\n        rowPrime[i] = rowPrime[i] ? [rowPrime[i]] : [];\n        return [...d, ...rowPrime[i]];\n    }) : (rowPrime ? rowPrime.map(d => [d]) : []);\n\n    // Compute right matrix using right headers and the axes on the rows\n    const rightMatrix = rowSec.length ? rowSec.map((d, i) => [d, ...(rightFacets[i] || [])]) : (rightFacets.length ?\n        rightFacets.map(d => [...d]) : []);\n\n    const topMatrix = [];\n    if (topHeaders) {\n        const headers = topHeaders.getObjects();\n        headers.forEach((e) => {\n            const innerHeaders = e.getObjects();\n            innerHeaders.forEach((x, i) => {\n                topMatrix[i] = topMatrix[i] || [];\n                topMatrix[i].push(x);\n            });\n        });\n    }\n    // Compute top matrix using the top headers and axes on the columns\n    if (colPrime.length) {\n        topMatrix.push(colPrime);\n    }\n\n    // Bottom and right matrices are prepared using the user config.\n    let bottomMatrix = [];\n    if (colSec.length) {\n        bottomMatrix.push(colSec);\n    }\n    const currentBottomLength = bottomMatrix.length;\n    if (bottomHeaders) {\n        const headers = bottomHeaders.getObjects();\n        headers.forEach((e) => {\n            const innerHeaders = e.getObjects();\n            innerHeaders.forEach((x, i) => {\n                bottomMatrix[i + currentBottomLength] = bottomMatrix[i + currentBottomLength] || [];\n                bottomMatrix[i + currentBottomLength].push(x);\n            });\n        });\n    }\n\n    if (!leftMatrix.length && !rightMatrix.length) {\n        const cell = new cells.BlankCell();\n        cell.setAvailableSpace(unitWidth, unitHeight);\n        leftMatrix = [[cell]];\n    }\n\n    if (!topMatrix.length && (!bottomMatrix.length || !bottomMatrix[0].length)) {\n        const cell = new cells.BlankCell();\n        cell.setAvailableSpace(unitWidth, unitHeight);\n        bottomMatrix = [[cell]];\n    }\n\n    return {\n        rows: [leftMatrix, rightMatrix],\n        columns: [topMatrix, bottomMatrix],\n        selectionObj,\n        colPriority,\n        rowPriority\n    };\n};\n\n/**\n * Computes matrices for a group\n *\n * @param {Object} datamodel on which the matrices are to be computed\n * @param {Object} config configuration of the matrices\n * @param {Object} layerRegistry contains the registered layers\n * @return {Object} conputed matrices\n * @memberof MatrixResolver\n */\nexport const computeMatrices = (context, config) => {\n    const {\n        resolver,\n        datamodel,\n        componentRegistry,\n        encoders\n    } = context;\n    const {\n            globalConfig,\n            selection,\n            transform\n        } = config;\n    const groupBy = globalConfig.autoGroupBy;\n    const { smartlabel: labelManager } = resolver.dependencies();\n    const fieldMap = datamodel.getFieldsConfig();\n    const layerConfig = resolver.layerConfig();\n    const registry = resolver.registry();\n    const { fields: normalizedRows } = resolver.horizontalAxis();\n    const { fields: normalizedColumns } = resolver.verticalAxis();\n    const otherEncodings = resolver.optionalProjections(config, layerConfig);\n    const facetsAndProjections = resolver.getAllFields();\n    const matrixGnContext = {\n        // Configuration to be passed to generate the  different matrices.\n        // A common config is used for both value matrices and other matrices\n        normalizedColumns,\n        normalizedRows,\n        facetsAndProjections,\n        layers: layerConfig,\n        fieldMap,\n        otherEncodings,\n        encoders,\n        facet: globalConfig.facet || {},\n        axisFrom: globalConfig.axisFrom || {},\n        selection\n    };\n    const cells = {\n        GeomCell: resolver.getCellDef(registry.GeomCell),\n        AxisCell: resolver.getCellDef(registry.AxisCell),\n        BlankCell: resolver.getCellDef(registry.BlankCell),\n        TextCell: resolver.getCellDef(registry.TextCell)\n    };\n    const isRowSizeEqual = isDistributionEqual(normalizedRows);\n    const isColumnSizeEqual = isDistributionEqual(normalizedColumns);\n\n    resolver.colCells({});\n    resolver.rowCells({});\n    resolver.datamodelTransform(transform || {});\n\n    // Cell creation begins here\n    resolver.resetSimpleAxes();\n\n    const {\n        entryCellMap\n    } = resolver.cacheMaps();\n    const newCacheMap = {\n        exitCellMap: entryCellMap,\n        entryCellMap: new Map()\n    };\n\n    resolver.cacheMaps(newCacheMap);\n\n    const valueCellContext = {\n        config: globalConfig,\n        suppliedLayers: encoders.simpleEncoder.serializeLayerConfig(resolver.layerConfig()),\n        resolver,\n        cell: cells.GeomCell,\n        encoder: encoders.simpleEncoder,\n        newCacheMap,\n        detailFields: config.detail\n    };\n    const fieldsConfig = datamodel.getFieldsConfig();\n    let groupedModel = datamodel;\n    if (!groupBy.disabled) {\n        const fields = getFieldsFromSuppliedLayers(valueCellContext.suppliedLayers, datamodel.getFieldsConfig());\n        const allFields = extractFields(facetsAndProjections, fields);\n\n        const dimensions = allFields.filter(field =>\n            fieldsConfig[field] && fieldsConfig[field].def.type === FieldType.DIMENSION);\n        const aggregationFns = groupBy.measures;\n\n        groupedModel = datamodel.groupBy(dimensions.length ? dimensions : [''], aggregationFns).project(allFields);\n    }\n\n    // return a callback function to create the cells from the matrix\n    const cellCreator = resolver.valueCellsCreator(valueCellContext);\n    // Creates value matrices from the datamodel and configs\n    const valueMatrixInfo = getMatrixModel(groupedModel, facetsAndProjections, cellCreator);\n\n    resolver.cacheMaps().exitCellMap.forEach((placeholder) => {\n        placeholder.remove();\n    });\n    resolver.cacheMaps().exitCellMap.clear();\n    resolver.valueMatrix(valueMatrixInfo.matrix);\n    resolver.createUnits(componentRegistry, config);\n\n    const { xAxes, yAxes } = mutateAxesFromMap(resolver.cacheMaps(), resolver.axes());\n\n    resolver.axes({\n        x: xAxes,\n        y: yAxes\n    });\n\n    const matrices = {\n        valuesMatrix: valueMatrixInfo,\n        axesMatrix: resolver.axes()\n    };\n    // Create all matrices\n    const {\n        rows,\n        columns,\n        selectionObj,\n        rowPriority,\n        colPriority\n    } = generateMatrices(matrixGnContext, matrices, cells, labelManager);\n\n    resolver.rowMatrix(rows);\n    resolver.columnMatrix(columns);\n\n    return {\n        rows: resolver.rowMatrix(),\n        columns: resolver.columnMatrix(),\n        values: resolver.valueMatrix(),\n        isColumnSizeEqual,\n        isRowSizeEqual,\n        priority: {\n            row: rowPriority,\n            col: colPriority\n        },\n        selection: selectionObj,\n        dataModels: {\n            groupedModel,\n            parentModel: datamodel\n        }\n    };\n};\n","import { Store, dataSelect, FieldType } from 'muze-utils';\nimport { DATA_UPDATE_COUNTER } from '../enums/defaults';\nimport { Variable } from '../variable';\nimport { PolarEncoder, CartesianEncoder } from '../encoder';\nimport {\n    DIMENSION,\n    MEASURE,\n    ORDINAL,\n    LINEAR,\n    ROW,\n    COLUMN,\n    COL,\n    LEFT,\n    RIGHT,\n    TOP,\n    BOTTOM,\n    COLOR,\n    SIZE,\n    TEMPORAL,\n    SHAPE,\n    INTERACTION,\n    GRID_LINES,\n    GRID_BANDS,\n    HEADER,\n    FACET,\n    X,\n    Y,\n    POLAR\n} from '../enums/constants';\n\n/**\n * Creates an instance of a store which contains the arguments to make the class reactive\n *\n * @return {Object} instance of store\n * @memberof VisualGroup\n */\nexport const initStore = () => new Store({\n    [DATA_UPDATE_COUNTER]: DATA_UPDATE_COUNTER\n});\n\n/**\n *\n *\n * @param {*} arr\n */\nexport const isDistributionEqual = arr => [...arr[0], ...arr[1]].reduce((isEqual, row) => {\n    const rowType = row.type();\n\n    if (rowType === MEASURE || rowType === TEMPORAL) {\n        isEqual = true;\n    }\n    return isEqual;\n}, false);\n\n/**\n *\n *\n */\nexport const initializeCacheMaps = () => ({\n    cellMap: new Map(),\n    xAxesMap: new Map(),\n    yAxesMap: new Map(),\n    entryCellMap: new Map(),\n    exitCellMap: new Map()\n});\n\n/**\n *\n *\n * @param {*} axisName\n * @param {*} id\n */\nexport const getAxisKey = (axisName, ...params) => `${axisName}-axis-${params.join('-')}`;\n\n/**\n *\n *\n * @param {*} rowId\n * @param {*} columnId\n */\nexport const getCellKey = (rowId, columnId) => `cell-${rowId}-${columnId}`;\n\n/**\n *\n *\n * @param {*} config\n *\n */\nexport const extractUnitConfig = (config) => {\n    const unitConfig = {};\n    const attrNames = [INTERACTION, GRID_LINES, GRID_BANDS];\n\n    attrNames.forEach((attr) => {\n        if (config[attr] !== undefined) {\n            unitConfig[attr] = config[attr];\n        }\n    });\n    return unitConfig;\n};\n\n/**\n *\n *\n * @param {*} headers\n * @param {*} index\n * @param {*} rowLength\n *\n * @memberof MatrixResolver\n */\nexport const getHeaderText = (headers, index, rowLength) => {\n    let header = '';\n\n    if (index === rowLength - 1 && headers.length > rowLength) {\n        for (let i = index; i < headers.length - 1; i++) {\n            header += `${headers[i].toString()} / `;\n        }\n        header += headers[headers.length - 1].toString();\n        return header;\n    } else if (headers[index]) {\n        return headers[index].toString();\n    }\n    return '';\n};\n\n/**\n *\n *\n * @param {*} fields\n * @param {*} fieldHeaders\n * @param {*} TextCell\n * @param {*} labelManager\n *\n */\nexport const headerCreator = (fields, fieldHeaders, TextCell, labelManager) => {\n    const headers = fields.length > 0 ? fields[0].map((cell, i) => new TextCell({ type: HEADER }, { labelManager })\n                    .source(getHeaderText(fieldHeaders, i, fields[0].length))\n                    .config({ show: cell.config().show })) : [];\n    return headers;\n};\n\n/**\n *\n *\n * @param {*} variable\n * @param {*} allFields\n *\n */\nexport const findInGroup = (variable, allFields) => {\n    let channel = null;\n\n    [COLOR, SIZE, SHAPE].forEach((e) => {\n        if (this.store.get(e) && variable === this.store.get(e)[0]) {\n            channel = e;\n        }\n    });\n\n    if (channel) {\n        return { channel };\n    }\n    [ROW, COL].forEach((facetType) => {\n        allFields[`${facetType}Facets`].forEach((e) => {\n            if (e.toString() === variable) {\n                channel = { channel: FACET, type: facetType === COL ? COLUMN : ROW };\n            }\n        });\n    });\n\n    if (channel) {\n        return channel;\n    }\n\n    [ROW, COL].forEach((projType) => {\n        allFields[`${projType}Projections`].forEach((e) => {\n            e.forEach((m) => {\n                if (m.toString() === variable) {\n                    channel = projType === COL ? X : Y;\n                }\n            });\n        });\n    });\n\n    if (channel) {\n        return { channel };\n    }\n    return null;\n};\n\n/**\n *\n *\n * @param {*} datamodel\n * @param {*} field\n */\nexport const getAxisType = (fieldsConfig, field) => {\n    let fieldType = ORDINAL;\n\n    if (field && fieldsConfig[field].def.type !== DIMENSION) {\n        fieldType = LINEAR;\n    }\n    return fieldType;\n};\n\n/**\n *\n *\n * @param {*} datamodel\n * @param {*} fieldName\n *\n */\nexport const retriveDomainFromData = (datamodel, fieldName) => {\n    const field = datamodel.getFieldspace().fields.find(d => d.name() === fieldName.toString());\n    return field.domain();\n};\n\n/**\n *\n *\n * @memberof MatrixResolver\n */\nexport const mutateAxesFromMap = (cacheMaps, axes) => {\n    let xAxes = null;\n    let yAxes = null;\n    const {\n        xAxesMap,\n        yAxesMap\n    } = cacheMaps;\n    const {\n        x: xAxisSet,\n        y: yAxisSet\n    } = axes;\n\n    xAxisSet && xAxisSet.forEach((axisId) => {\n        const xAxis = xAxesMap.get(axisId);\n        xAxes = xAxes || [];\n        xAxes.push(xAxis);\n    });\n\n    yAxisSet && yAxisSet.forEach((axisId) => {\n        const yAxis = yAxesMap.get(axisId);\n        yAxes = yAxes || [];\n        yAxes.push(yAxis);\n    });\n\n    return {\n        xAxes, yAxes\n    };\n};\n\n/**\n *\n *\n * @param {*} layers\n *\n */\nexport const getEncoder = (layers) => {\n    let encoder = new CartesianEncoder();\n\n    if (layers) {\n        // Figuring out the kind of layers the group will have\n        encoder = layers.every(e => e.mark === 'arc') ? new PolarEncoder() : encoder;\n    }\n    return encoder;\n};\n\n/**\n *\n *\n * @param {*} type\n * @param {*} fields\n * @param {*} userAxisFromConfig\n *\n */\nexport const getHeaderAxisFrom = (type, fields, userAxisFromConfig) => {\n    let axisFrom = userAxisFromConfig[type];\n    let headerFrom = '';\n    const options = type === ROW ? [LEFT, RIGHT] : [BOTTOM, TOP];\n    const [firstField, secondField] = fields;\n    const firstFieldType = i => (firstField.length ? firstField[i].type() : null);\n    const secondFieldType = i => (secondField.length ? secondField[i].type() : null);\n\n    if (firstFieldType(firstField.length - 1) === DIMENSION && secondFieldType(0) === DIMENSION) {\n        headerFrom = axisFrom ? options[1 - options.indexOf(axisFrom)] : options[1];\n\n        if (type === COLUMN && (firstField[firstField.length - 1].toString() === secondField[0].toString())) {\n            axisFrom = TOP;\n        } else {\n            axisFrom = axisFrom || options[0];\n        }\n    } else if (secondFieldType(secondField.length - 1) === DIMENSION) {\n        headerFrom = type === ROW ? RIGHT : BOTTOM;\n        axisFrom = type === ROW ? RIGHT : BOTTOM;\n    } else {\n        headerFrom = type === ROW ? LEFT : TOP;\n        axisFrom = type === ROW ? LEFT : TOP;\n    }\n    if (firstFieldType(firstField.length - 1) === MEASURE && secondFieldType(0) === MEASURE) {\n        axisFrom = type === ROW ? LEFT : TOP;\n    } else if (secondFieldType(0) === MEASURE) {\n        axisFrom = type === ROW ? RIGHT : BOTTOM;\n    } else if (firstFieldType(firstField.length - 1) === MEASURE) {\n        axisFrom = type === ROW ? LEFT : TOP;\n    }\n    return [headerFrom, axisFrom];\n};\n\n/**\n *\n *\n * @param {*} type\n * @param {*} fields\n * @param {*} layers\n *\n * @memberof MatrixResolver\n */\nexport const setFacetsAndProjections = (context, fieldInfo, encoder) => {\n    const {\n        fields,\n        type\n    } = fieldInfo;\n    const { facets, projections } = encoder.simpleEncoder.getFacetsAndProjections(fields, type);\n\n    context.facets({ [`${type}Facets`]: facets });\n    context.projections({ [`${type}Projections`]: projections });\n\n    return { facets, projections, fields };\n};\n\n/**\n * Creates a selection set from a data set with corresponding attributes\n *\n * @export\n * @param {Selection} sel contains previous selection\n * @param {Object} appendObj Object to be appended\n * @param {Array} data Data based on which the selection is entered/updated/removed\n * @param {Object} [attrs={}] Attributes to be set on the data\n * @return {Selection} Merged selection\n */\nexport const createSelection = (sel, appendObj, data, idFn) => {\n    let selection = sel || dataSelect([]);\n\n    selection = selection.data(data, idFn);\n\n    const enter = selection.enter().append(appendObj);\n    const mergedSelection = enter.merge(selection);\n\n    selection.exit() && selection.exit().remove();\n    return mergedSelection;\n};\n\nconst getRowBorders = (left, right) => {\n    const borders = {};\n    borders.top = false;\n    borders.bottom = false;\n    if (left.length > 1 || right.length > 1) {\n        borders.top = true;\n        borders.bottom = true;\n    }\n    return borders;\n};\n\nconst getColumnsBorders = (top, bottom) => {\n    const borders = {};\n    borders.left = false;\n    borders.right = false;\n    if (top.length || bottom.length) {\n        if ((top[0] && top[0].length > 1) || (bottom[0] && bottom[0].length > 1)) {\n            borders.left = true;\n            borders.right = true;\n        }\n    }\n    return borders;\n};\n\nconst getValueBorders = (rows, columns) => {\n    const borders = { top: true, left: true, bottom: true, right: true };\n    const borderTypeRow = [LEFT, RIGHT];\n    const borderTypeCol = [TOP, BOTTOM];\n    rows.forEach((e, i) => {\n        if (e[0] && e[0].length) {\n            borders[borderTypeRow[i]] = true;\n        } else {\n            borders[borderTypeRow[i]] = false;\n        }\n    });\n    columns.forEach((e, i) => {\n        if (e.length) {\n            borders[borderTypeCol[i]] = true;\n        } else {\n            borders[borderTypeCol[i]] = false;\n        }\n    });\n\n    return borders;\n};\n\nexport const getBorders = (matrices, encoder) => {\n    let showRowBorders = { top: false, bottom: false };\n    let showColBorders = { left: false, right: false };\n    let showValueBorders = { top: false, bottom: false, left: false, right: false };\n    const {\n        rows,\n        columns,\n        values: valueMatrix\n    } = matrices;\n    const [leftRows, rightRows] = rows;\n    const [topColumns, bottomColumns] = columns;\n    const {\n        rowDimensions,\n        columnDimensions,\n        rowTemporalFields,\n        columnTemporalFields,\n        columnMeasures,\n        rowMeasures\n    } = encoder.fieldInfo();\n    const allDimensionLength = rowDimensions.length + columnDimensions.length;\n    const allMeasuresLength = rowMeasures.length + columnMeasures.length;\n    const allTemporalFieldsLength = rowTemporalFields.length + columnTemporalFields.length;\n\n    if (encoder.constructor.type() === POLAR) {\n        if (!allDimensionLength) {\n            return { showRowBorders, showColBorders, showValueBorders };\n        }\n    } else if (!allMeasuresLength && !allTemporalFieldsLength && allDimensionLength <= 2) {\n        return { showRowBorders, showColBorders, showValueBorders };\n    }\n\n    showRowBorders = getRowBorders(leftRows, rightRows);\n    showColBorders = getColumnsBorders(topColumns, bottomColumns);\n    showValueBorders = getValueBorders([leftRows, rightRows], [topColumns, bottomColumns]);\n\n    if (valueMatrix.length > 1) {\n        showValueBorders.top = true;\n        showValueBorders.bottom = true;\n    }\n    if (valueMatrix.length && valueMatrix[0].length > 1) {\n        showValueBorders.left = true;\n        showValueBorders.right = true;\n    }\n    return { showRowBorders, showColBorders, showValueBorders };\n};\n\nexport const getFieldsFromSuppliedLayers = (suppliedLayerConfig, fieldsConfig) => {\n    let fields = [];\n    const encodingArr = suppliedLayerConfig.map(conf => (conf.encoding || {}));\n    fields = [...fields, [].concat(...encodingArr.map(enc => Object.values(enc).map(d => d.field)))];\n    fields = fields.filter(field => fieldsConfig[field] && fieldsConfig[field].def.type === FieldType.DIMENSION);\n    return fields;\n};\n\nexport const extractFields = (facetsAndProjections, layerFields) => {\n    const fields = Object.values(facetsAndProjections).map((arr) => {\n        const flattenArray = [].concat(...arr);\n        return [].concat(...flattenArray.map((field) => {\n            if (field instanceof Variable) {\n                return field.getMembers();\n            }\n            return field;\n        }));\n    });\n    return [].concat(...fields, ...layerFields);\n};\n","export {\n    initStore, findInGroup, getEncoder, getAxisType, getAxisKey, retriveDomainFromData, getBorders\n} from './group-utils';\nexport { default as MatrixResolver } from './matrix-resolver';\n","import { DataModel } from 'muze-utils';\n\nimport { retriveDomainFromData } from './group-utils';\n\n/**\n * Gets name of fields form the variables\n *\n * @param {*} fields1\n * @param {*} [fields2=[]]\n *\n */\nconst getFieldNames = (fields1, fields2 = []) => [fields1, fields2].map(fields => fields.reduce((acc, d) => {\n    acc = [...acc, ...d.getMembers()];\n    return acc;\n}, []));\n\n/**\n * Creates a selected datamodel from a parent datamodel and a set of field names\n *\n * @param {Object} datamodel provided as input\n * @param {Array} fieldNames schema  names\n * @param {Array} fieldValues values of those schema names to be selected\n * @return {Object} creates a new selected datamodel\n */\nconst createSelectedDataModel = (datamodel, fieldNames, fieldValues) =>\n    datamodel.select(fields => fieldNames.every((field, k) => fields[field].value === fieldValues[k]));\n\n/**\n *\n *\n * @param {*} facets\n * @param {*} keyArray\n *\n */\nconst uniqueKeyGenerator = (keyArray, context, depth = 0, val = []) => {\n    const {\n        facets,\n        dataModel,\n        uniqueValues\n    } = context;\n\n    // Get unique keys for the next depth recursively if required\n    if (facets[depth + 1]) {\n        const field = facets[depth];\n        uniqueValues.forEach((value) => {\n            const newDm = dataModel.select(fields => fields[field].value === value);\n            const nextDepthUniqueValues = retriveDomainFromData(newDm, facets[depth + 1]);\n            const newContext = {\n                facets,\n                dataModel: newDm,\n                uniqueValues: nextDepthUniqueValues\n            };\n\n            uniqueKeyGenerator(keyArray, newContext, depth + 1, [...val, value]);\n        });\n    } else {\n        uniqueValues.forEach((value) => {\n            keyArray.push([...val, value]);\n        });\n    }\n};\n\n/**\n * projects row model based on the set of row and/or column and other projection fields\n *\n * @param {Object} datamodel provided as input\n * @return {Object} Projected datamodel\n */\nconst projectRows = (datamodel, projections) => {\n    const {\n        allColumnProjections,\n        rowProjections,\n        optionalProjections\n    } = projections;\n\n    if (rowProjections.length > 0) {\n        return rowProjections.map((projectFields) => {\n            const [projFieldNames, colProjFieldNames] = getFieldNames(projectFields, allColumnProjections);\n            return datamodel.project([...projFieldNames, ...colProjFieldNames, ...optionalProjections]);\n        });\n    }\n    return [datamodel];\n};\n\n/**\n * Adds the datamodels to current row index based on column fields\n *\n * @param {Array} context current context\n * @param {Array} callback List of facets applied to the current datamodel\n */\nconst pushToMatrix = (context, callback) => {\n    let cells = [];\n    const {\n        matrix,\n        datamodel,\n        facetInfo,\n        fieldInfo\n    } = context;\n    // Get projected fields for current row\n    const {\n        rowProjections,\n        colProjections,\n        optionalProjections\n    } = fieldInfo;\n    const {\n        rowIndex,\n        columnIndex\n    } = facetInfo;\n    const rowProj = rowProjections[(rowIndex) % rowProjections.length] || [];\n\n    // Get the cells for the matrix from the return function of the callback on the datamodel.\n    // callback function -> (datamodel, {projections, indices}, facets)\n    if (colProjections.length > 0) {\n        cells = colProjections.map((projectFields, projIdx) => {\n            const [colProjFieldNames, rowProjFieldNames] = getFieldNames(projectFields, rowProj);\n            const projectedDm = datamodel.project([...colProjFieldNames, ...rowProjFieldNames, ...optionalProjections]);\n            const projections = { rowFields: rowProj, columnFields: projectFields };\n            const indices = { rowIndex, columnIndex: columnIndex * colProjections.length + projIdx };\n\n            return callback(projectedDm, { projections, indices }, facetInfo);\n        });\n    } else {\n        const projections = { rowFields: rowProj, columnFields: [] };\n        const indices = { rowIndex, columnIndex };\n\n        cells = [callback(datamodel, { projections, indices }, facetInfo)];\n    }\n\n    matrix[rowIndex] = matrix[rowIndex] || [];\n    matrix[rowIndex].push(...cells);\n};\n\n/**\n * Gets Matrixes for corresponding datamodel, facets and projections\n *\n * @param {Object} dataModel input datamodel\n * @param {Object} fieldMap corresponding fieldmap\n * @param {Array} facetsAndProjections contains the set of facets and projections for the matrices\n * @param {Function} callback Callback executed after datamodels are prepared after sel/proj\n * @return {Object} set of matrices with the corresponding row and column keys\n */\nexport const getMatrixModel = (dataModel, fieldInfo, callback) => {\n    let rowDataModels = [];\n    const rowKeys = [];\n    const columnKeys = [];\n    const allColumnProjections = [];\n    const matrix = [];\n    const facetInfo = [];\n    const {\n        rowFacets,\n        colFacets,\n        colProjections\n    } = fieldInfo;\n\n    colProjections.forEach((colProj) => {\n        allColumnProjections.push(...colProj);\n    });\n    fieldInfo.allColumnProjections = allColumnProjections;\n\n    // Performing row selection and projection\n    if (rowFacets.length > 0) {\n        // Get unique values for the root level of facet\n        const field = rowFacets[0].toString();\n        const firstLevelRowKeys = retriveDomainFromData(dataModel, field);\n\n        // Get unique keys in the form of an array of arrays for each row\n        uniqueKeyGenerator(rowKeys, { facets: rowFacets, dataModel, uniqueValues: firstLevelRowKeys });\n\n        // Apply selection -> projection -> row datamodels\n        rowKeys.forEach((val) => {\n            // Create faceted datamodel\n            const [rowFacetFieldNames] = getFieldNames(rowFacets);\n            const selectedDataModel = createSelectedDataModel(dataModel, rowFacetFieldNames, val);\n\n            // Project the datamodel based on the number of projections (based on last levels)\n            facetInfo.push([rowFacets, val]);\n            rowDataModels.push(...projectRows(selectedDataModel, fieldInfo));\n        });\n    } else {\n        // No row facets, hence only row projection\n        rowDataModels.push(...projectRows(dataModel, fieldInfo));\n    }\n\n    // Maintaining set of row datamodels for column resolution\n    rowDataModels = rowDataModels.length > 0 ? rowDataModels : [[]];\n\n    // Performing column selection and projection\n    if (colFacets.length > 0) {\n        const colFacetNames = colFacets.map(d => `${d}`);\n        // Get unique values for the root level of facet\n        const field = colFacetNames[0];\n        const firstLevelColumnKeys = retriveDomainFromData(dataModel, field);\n\n        // Get unique keys to create faceted datamodels: this time for columns\n        uniqueKeyGenerator(columnKeys, {\n            facets: colFacetNames,\n            dataModel,\n            uniqueValues: firstLevelColumnKeys\n        });\n\n        // For each row in the datamodel, apply selection -> projection -> push the projection to matri\n        rowDataModels.forEach((dme, rIndex) => {\n            facetInfo[rIndex] = facetInfo[rIndex] || [[], []];\n            columnKeys.forEach((val, cIndex) => {\n                matrix[rIndex] = matrix[rIndex] || [];\n\n                // If datamodel is not present in current row, choose parent datamodel\n                const datamodel = dme instanceof DataModel ? dme : dataModel;\n\n                // Selection is made on the datamodel for the current row\n                const selectedDataModel = createSelectedDataModel(datamodel, colFacetNames, val);\n                const context = {\n                    matrix,\n                    datamodel: selectedDataModel,\n                    facetInfo: {\n                        rowFacets: facetInfo[rIndex],\n                        colFacets: [colFacets, val],\n                        rowIndex: rIndex,\n                        columnIndex: cIndex\n                    },\n                    fieldInfo\n                };\n                pushToMatrix(context, callback);\n            });\n        });\n    } else {\n        // No column facets, hence only row projection\n        rowDataModels.forEach((dme, rIndex) => {\n            facetInfo[rIndex] = facetInfo[rIndex] || [[], []];\n            const context = {\n                matrix,\n                datamodel: dme || dataModel,\n                facetInfo: {\n                    rowFacets: facetInfo[rIndex],\n                    colFacets: [[], []],\n                    rowIndex: rIndex,\n                    columnIndex: 0\n                },\n                fieldInfo\n            };\n\n            pushToMatrix(context, callback);\n        });\n    }\n\n    // Getting column keys\n    const transposedColKeys = columnKeys.length > 0 ? columnKeys[0].map((col, i) =>\n                    columnKeys.map(row => row[i])) : columnKeys;\n\n    return { matrix, rowKeys, columnKeys: transposedColKeys };\n};\n","import { VisualUnit } from '@chartshq/visual-unit';\nimport { generateGetterSetters, STATE_NAMESPACES } from 'muze-utils';\nimport {\n     initializeCacheMaps,\n     headerCreator,\n     extractUnitConfig,\n     setFacetsAndProjections\n} from './group-utils';\nimport {\n     ROW, COL, LEFT, RIGHT, COLOR, SIZE, SHAPE, DETAIL, CELL, X_AXES, Y_AXES, ENTRY_CELLS, EXIT_CELLS, INITIALIZED,\n     AXIS, UNIT, BEFORE_UPDATE, UPDATED, VALUE_MATRIX, FACET_HEADERS\n} from '../enums/constants';\nimport { createValueCells, computeMatrices } from './cell-creator';\nimport { RESOLVER_PROPS } from './resolver-props';\n\n/**\n * Resolves the matrices from configuration provided\n *\n * @export\n * @class MatrixResolver\n */\nexport default class MatrixResolver {\n\n    /**\n     * Creates an instance of MatrixResolver.\n     * @param {Object} dependencies needed to run the resolver\n     * @memberof MatrixResolver\n     */\n    constructor (dependencies) {\n        this._registry = {};\n        this._layerConfig = [];\n        this._matrixLayers = [];\n        this._dependencies = dependencies;\n        this._rowMatrix = [];\n        this._columnMatrix = [];\n        this._valueMatrix = [];\n        this._facets = { rowFacets: [], colFacets: [] };\n        this._projections = { rowProjections: [], colProjections: [] };\n        this._datamodelTransform = {};\n        this._units = [];\n        this._cacheMaps = {};\n        this._axes = {\n            x: {},\n            y: {},\n            color: [],\n            size: [],\n            shape: []\n        };\n        generateGetterSetters(this, RESOLVER_PROPS);\n        this.cacheMaps(initializeCacheMaps());\n    }\n\n    /**\n     * Set:  Registers placeholders, Get: return {Object} those placeholders\n     *\n     * @param {Object} placeholders cells that will construct the group\n     * @return {Object} Either current instance or the set of placeholders\n     * @memberof MatrixResolver\n     */\n    registry (...placeholders) {\n        if (placeholders.length) {\n            Object.entries(placeholders[0]).forEach((val) => {\n                this._registry[val[0]] = val[1];\n            });\n            return this;\n        }\n        return this._registry;\n    }\n\n    /**\n     * Used to set the layer config from outside or get current layer info\n     *\n     * @param {Object} type configuration of layer provided externally\n     * @return {Object} either the layer or current instance\n     * @memberof MatrixResolver\n     */\n    cacheMaps (...maps) {\n        if (maps.length) {\n            [CELL, X_AXES, Y_AXES, ENTRY_CELLS, EXIT_CELLS].forEach((e) => {\n                this._cacheMaps[`${e}Map`] = maps[0][`${e}Map`] || this._cacheMaps[`${e}Map`];\n            });\n            return this;\n        }\n        return this._cacheMaps;\n    }\n\n    /**\n     * Used to set the layer config from outside or get current layer info\n     *\n     * @param {Object} type configuration of layer provided externally\n     * @return {Object} either the layer or current instance\n     * @memberof MatrixResolver\n     */\n    axes (...axes) {\n        if (axes.length) {\n            this._axes = Object.assign({}, this._axes, axes[0]);\n            return this;\n        }\n        return this._axes;\n    }\n\n    /**\n     *\n     *\n     * @param {*} facets\n     *\n     * @memberof MatrixResolver\n     */\n    facets (...facets) {\n        if (facets.length) {\n            Object.entries(facets[0]).forEach((e) => {\n                this._facets[e[0]] = e[1];\n            });\n            return this;\n        }\n        return this._facets;\n    }\n\n    /**\n     *\n     *\n     * @param {*} projections\n     *\n     * @memberof MatrixResolver\n     */\n    projections (...projections) {\n        if (projections.length) {\n            Object.entries(projections[0]).forEach((e) => {\n                this._projections[e[0]] = e[1];\n            });\n            return this;\n        }\n        return this._projections;\n    }\n\n    /**\n     *\n     *\n     * @param {*} config\n     * @param {*} layerConfig\n     *\n     * @memberof MatrixResolver\n     */\n    optionalProjections (config, layerConfig) {\n        const otherEncodings = {};\n        const optionalProjections = [];\n        const otherEncodingTypes = [SIZE, COLOR, SHAPE];\n\n        otherEncodingTypes.forEach((type) => {\n            if (config[type] && config[type].field) {\n                const enc = config[type];\n                otherEncodings[type] = enc.field;\n                optionalProjections.push(enc.field);\n            }\n        });\n\n        if (config[DETAIL]) {\n            optionalProjections.push(...config.detail);\n        }\n\n        if (layerConfig.length) {\n            layerConfig.forEach((layer) => {\n                if (layer.encoding) {\n                    Object.values(layer.encoding).forEach((enc) => {\n                        if (enc && optionalProjections.indexOf(enc.field) === -1) {\n                            optionalProjections.push(enc.field ? enc.field : enc);\n                        }\n                    });\n                }\n            });\n        }\n        this.projections({ optionalProjections });\n        return otherEncodings;\n    }\n\n    /**\n     * return the normalized set of rows and facets and projections\n     *\n     * @param {Object} rows parameters needed to set horizontal axis consisiting of rows\n     * @return {Object} facets, projections and normalized rows\n     * @memberof MatrixResolver\n     */\n    horizontalAxis (rows, encoder) {\n        if (rows) {\n            this._horizontalAxis = setFacetsAndProjections(this, { type: ROW, fields: rows }, encoder);\n            return this;\n        }\n        return this._horizontalAxis;\n    }\n\n    /**\n     * return the normalized set of columns and facets and projections\n     *\n     * @param {Object} columns parameters needed to set vertical axis consisiting of columns\n     * @return {Object} facets, projections and normalized columns\n     * @memberof MatrixResolver\n     */\n    verticalAxis (columns, encoder) {\n        if (columns) {\n            this._verticalAxis = setFacetsAndProjections(this, { type: COL, fields: columns }, encoder);\n            return this;\n        }\n        return this._verticalAxis;\n    }\n\n    /**\n     * Gets the class definition of a particular cell type(if the particular type has been extended, that particular\n     * definition is returned)\n     *\n     * @param {Object} cell cell whose class definition is to be retrieved\n     * @return {Object} cell definition\n     * @memberof MatrixResolver\n     */\n    getCellDef (cell) {\n        const registry = this.registry();\n\n        Object.values(registry).forEach((e) => {\n            if (e.prototype instanceof cell) {\n                cell = e;\n            }\n        });\n        return cell;\n    }\n\n    /**\n     * return a visual cell creator along with its axis information to be injected to the datamodel creation\n     * function\n     *\n     * @param {Object} GeomCell Type of cell to be created\n     * @return {Object} Created cell\n     * @memberof MatrixResolver\n     */\n    valueCellsCreator (context) {\n        // reset matrix layers\n        this.matrixLayers([]);\n\n        return (datamodel, fieldInfo, facets) => createValueCells(context, datamodel, fieldInfo, facets);\n    }\n\n    /**\n     * Callback to be applied on each cell of a matrix of a particular type\n     *\n     * @param {string} matrixType type of matrix on which callback is to be applied\n     * @param {Function} callback function to be applied to each cell\n     * @memberof MatrixResolver\n     */\n    forEach (matrixType, callback) {\n        this[matrixType]().forEach((row, rIndex) => {\n            row.forEach((col, cIndex) => {\n                callback(rIndex, cIndex, col);\n            });\n        });\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof MatrixResolver\n     */\n    getAllFields () {\n        const retObj = this.projections();\n\n        Object.entries(this.facets()).forEach((e) => {\n            retObj[e[0]] = e[1];\n        });\n        return retObj;\n    }\n\n    /**\n     *\n     *\n     * @memberof MatrixResolver\n     */\n    resetSimpleAxes () {\n        return this.axes({\n            x: new Set(),\n            y: new Set()\n        });\n    }\n\n    /**\n     *\n     *\n     * @param {*} componentRegistry\n     * @param {*} config\n     * @memberof MatrixResolver\n     */\n    createUnits (componentRegistry, config) {\n        const {\n            globalConfig,\n            alias\n        } = config;\n        const {\n            layerRegistry,\n            sideEffectRegistry\n        } = componentRegistry;\n        const {\n            smartlabel: smartLabel,\n            lifeCycleManager\n        } = this.dependencies();\n        // Provide the source for the matrix\n        const units = [[]];\n        // Setting unit configuration\n        const unitConfig = extractUnitConfig(globalConfig || {});\n\n        this.forEach(VALUE_MATRIX, (i, j, el) => {\n            let unit = el.source();\n            if (!unit) {\n                const store = this.store();\n                const namespace = `${i}${j}`;\n\n                [['x', 0], ['x', 1], ['y', 0], ['y', 1]].forEach((axisInf) => {\n                    store.append(`${STATE_NAMESPACES.GROUP_GLOBAL_NAMESPACE}.domain.${axisInf[0]}`, {\n                        [`${i}${j}${axisInf[1]}`]: null\n                    });\n                });\n\n                unit = VisualUnit.create({\n                    layerRegistry,\n                    sideEffectRegistry\n                }, {\n                    smartLabel,\n                    lifeCycleManager\n                });\n                unit.metaInf({\n                    rowIndex: i,\n                    colIndex: j,\n                    namespace\n                });\n                unit.store(store);\n                el.source(unit);\n            }\n            !units[i] && (units[i] = []);\n            units[i][j] = unit;\n            unit.parentAlias(alias);\n            el.config(unitConfig);\n        });\n\n        lifeCycleManager.notify({ client: units, action: INITIALIZED, formalName: UNIT });\n        return this.units(units);\n    }\n\n    /**\n     *\n     *\n     * @param {*} config\n     * @memberof MatrixResolver\n     */\n    setDomains (config, datamodel, encoders) {\n        const {\n            color,\n            shape,\n            size,\n            globalConfig\n        } = config;\n        const groupBy = globalConfig.autoGroupBy;\n        const {\n            rowFacets,\n            colFacets\n        } = this.getAllFields();\n        const encoding = {\n            color,\n            shape,\n            size\n        };\n        const facetFields = [...rowFacets.map(e => e.toString()), ...colFacets.map(e => e.toString())];\n        const retContext = {\n            domains: encoders.simpleEncoder.getRetinalFieldsDomain(datamodel, encoding, facetFields, groupBy),\n            axes: this.axes(),\n            encoding\n        };\n        encoders.retinalEncoder.setCommonDomain(retContext);\n        return this;\n    }\n\n    resetFacetsAndProjections () {\n        this._facets = {};\n        this._projections = {};\n        return this;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof MatrixResolver\n     */\n    getRetinalAxes () {\n        const {\n            color,\n            shape,\n            size\n        } = this.axes();\n\n        return {\n            color: [...color],\n            shape: [...shape],\n            size: [...size]\n        };\n    }\n\n    /**\n     *\n     *\n     * @param {*} type\n     *\n     * @memberof MatrixResolver\n     */\n    getSimpleAxes (type) {\n        return this.axes()[`${type}`];\n    }\n\n    /**\n     *\n     *\n     * @param {*} datamodel\n     * @param {*} config\n     * @memberof MatrixResolver\n     */\n    createRetinalAxes (fieldsConfig, config, encoders) {\n        const layerConfig = this.layerConfig();\n        this.optionalProjections(config, layerConfig);\n        const retinalAxes = encoders.retinalEncoder.createAxis({\n            fieldsConfig,\n            config,\n            axes: this.axes()\n        });\n        const {\n            lifeCycleManager\n        } = this.dependencies();\n\n        [COLOR, SHAPE, SIZE].forEach((e) => {\n            this.axes()[e] = retinalAxes[e];\n        });\n\n        lifeCycleManager.notify({ client: this.axes(), action: INITIALIZED, formalName: AXIS });\n        lifeCycleManager.notify({ client: this.units(), action: BEFORE_UPDATE, formalName: UNIT });\n\n        const units = [];\n        const matrixLayers = this.matrixLayers();\n\n        this.forEach(VALUE_MATRIX, (i, j, el) => {\n            el.axes(retinalAxes);\n            el.source() && el.source().retinalFields(config);\n            el.layerDef(encoders.retinalEncoder.getLayerConfig(config, matrixLayers[i][j]));\n            el.updateModel();\n\n            units.push(el.source());\n        });\n\n        lifeCycleManager.notify({ client: units, action: UPDATED, formalName: UNIT });\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} placeholders\n     * @param {*} fieldNames\n     *\n     * @memberof MatrixResolver\n     */\n    createHeaders (placeholders, fieldNames, config) {\n        let bottomLeft = [];\n        let bottomRight = [];\n        const {\n            rows,\n            columns\n        } = placeholders;\n        const {\n            smartlabel: labelManager,\n            lifeCycleManager\n        } = this.dependencies();\n        const TextCell = this.getCellDef(this.registry().TextCell);\n        const BlankCell = this.getCellDef(this.registry().BlankCell);\n        const [leftRows, rightRows] = rows;\n        const [topCols, bottomCols] = columns;\n        const rowHeaders = fieldNames.rows;\n        const blankCellCreator = cell => new BlankCell().config({ show: cell.config().show });\n\n        // Headers and footers are created based on the rows. Thereafter, using the column information\n        // they are tabularized into the current structure\n        const headers = {\n            left: headerCreator(leftRows, rowHeaders[0], config.showHeaders ? TextCell : BlankCell, labelManager),\n            right: headerCreator(rightRows, rowHeaders[1], config.showHeaders ? TextCell : BlankCell, labelManager)\n        };\n        const footers = {\n            left: leftRows.length > 0 ? leftRows[0].map(blankCellCreator) : [],\n            right: rightRows.length > 0 ? rightRows[0].map(blankCellCreator) : []\n        };\n        const [topLeft, topRight] = [LEFT, RIGHT].map(type => topCols.map((col, i) => {\n            if (i === topCols.length - 1) {\n                return headers[type];\n            }\n            return footers[type];\n        }));\n\n        // Creating only bottom matrices if there is no information on the top\n        if (topCols.length === 0) {\n            [bottomLeft, bottomRight] = [LEFT, RIGHT].map(type => bottomCols.map((col, i) => {\n                if (i === 0) {\n                    return headers[type];\n                }\n                return footers[type];\n            }));\n        } else {\n            bottomLeft = bottomCols.map(() => (leftRows.length > 0 ? leftRows[0].map(blankCellCreator) : []));\n            bottomRight = bottomCols.map(() => (rightRows.length > 0 ? rightRows[0].map(blankCellCreator) : []));\n        }\n\n        lifeCycleManager.notify({\n            client: [topLeft, topRight, bottomLeft, bottomRight],\n            action: INITIALIZED,\n            formalName: FACET_HEADERS\n        });\n\n        return { topLeft, topRight, bottomLeft, bottomRight };\n    }\n\n    /**\n     *\n     *\n     * @param {*} datamodel\n     * @param {*} config\n     * @param {*} componentRegistry\n     * @param {*} encoders\n     *\n     * @memberof MatrixResolver\n     */\n    getMatrices (datamodel, config, componentRegistry, encoders) {\n        const context = {\n            datamodel,\n            componentRegistry,\n            encoders,\n            resolver: this\n        };\n\n        return computeMatrices(context, config);\n    }\n\n    store (...params) {\n        if (params.length) {\n            this._store = params[0];\n            return this;\n        }\n        return this._store;\n    }\n}\n","export const RESOLVER_PROPS = {\n    dependencies: {},\n    units: {},\n    datamodelTransform: {},\n    layerConfig: {},\n    matrixLayers: {},\n    colCells: {},\n    rowCells: {},\n    rowMatrix: {},\n    columnMatrix: {},\n    valueMatrix: {},\n    encoder: {}\n};\n","export { VisualGroup } from './visual-group';\nexport { SimpleGroup } from './simple-group';\nexport { ComposedVars, SimpleVariable } from './variable';\nexport { default as ValueMatrix } from './visual-group/value-matrix';\n","export { default as SimpleGroup } from './simple-group';\n","import { ERROR_MSG } from 'muze-utils';\n\n/**\n * Interfaces for VisualGroup. Any new VisualGroup has to implement this class.\n * @class  SimpleGroup\n */\nclass SimpleGroup {\n\n    /**\n     * This method is used to set or get the DataModel instance.\n     *\n     * @param {DataModel | undefined} dataModel Instance of datamodel.\n\n     * @memberof  SimpleGroup\n     */\n    data () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * This method is used to set or get the group specific configuration\n     * properties\n     *\n     * @param {Object | undefined} configObj The input configuration.\n     *                                or instance of visual group.\n     * @memberof  SimpleGroup\n     */\n    config () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * This method is used to return a serialized representation of the\n     * instance's properties.\n     *\n     * @memberof  SimpleGroup\n     */\n    serialize () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * This method is used to get or set the measurement object which houses\n     * layout properties like width and height.\n     *\n     * @param {Object  | undefined} mObj The measurement properties.\n     * @memberof  SimpleGroup\n     */\n    measurement () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n}\n\nexport default SimpleGroup;\n","import Variable from './variable';\n\n/**\n * This is a wrapper on top of multiple variables which are of same type but they are shown in the same axis.This is\n * required in case of range plots or ohlc plots where one plot is mapped to multiple measure fields. At that time,\n * we need to create a composed variable from multiple variables. This class just wraps them into one variable instance\n * and provides methods to get the type and other common functionalities which can be performed on a simple variable\n * instance.\n *\n * @public\n * @class ComposeVars\n */\nclass ComposedVars extends Variable {\n\n    /**\n     * Creates an instance of ComposeVars.\n     *\n     * @param {Array} texts Array of field names\n     */\n    constructor (...texts) {\n        super(...texts);\n        this.vars(texts);\n    }\n\n    vars (...params) {\n        if (params.length) {\n            this._vars = params[0];\n            return this;\n        }\n        return this._vars;\n    }\n\n    data (...dm) {\n        if (dm.length) {\n            this.vars().forEach(d => d.data(dm[0]));\n            return this;\n        }\n        return this._data;\n    }\n\n    /**\n     * Get all the field names from composed variable instance.\n     *\n     * @public\n     * @return {Array} Array of field names.\n     */\n    getMembers () {\n        const vars = this.vars();\n        return vars.map(member => member.getMembers()[0]);\n    }\n\n    /**\n     * Type of field associated with this composed variable.\n     *\n     * @return {string} Type of variable (Measure/Dimension).\n     */\n    type () {\n        return this.vars()[0].type();\n    }\n\n    toString () {\n        return this.vars().map(d => d.toString()).join(',');\n    }\n\n    /**\n     * Returns the number formatter function of the variable.\n     *\n     * @return {Function} Number formatter function of the variable.\n     */\n    numberFormat () {\n        return this.vars()[0].numberFormat();\n    }\n\n    format (values) {\n        return this.vars()[0].format(values);\n    }\n\n    /**\n     * Returns the subtype of the fields associated with this variable instance.\n     *\n     * @public\n     * @return {string} Subtype of the variable.\n     */\n    subtype () {\n        return this.vars()[0].subtype();\n    }\n\n    /**\n     * Returns the consecutive minimum difference of the field values.\n     *\n     * @public\n     * @return {number} Minimum consecutive difference.\n     */\n    getMinDiff () {\n        return this.vars()[0].getMinDiff();\n    }\n}\n\nexport default ComposedVars;\n","export { default as ComposedVars } from './composed-vars';\nexport { default as SimpleVariable } from './simple-var';\nexport { default as Variable } from './variable';\n","import { DateTimeFormatter } from 'muze-utils';\nimport Variable from './variable';\n\n/**\n * This is a wrapper on top of fields passed in rows or columns in canvas. This is used to get the type of field or\n * get min difference from the field values.\n *\n * @public\n * @class SimpleVariable\n */\nexport default class SimpleVariable extends Variable {\n\n    /**\n     * Creates an instance of simple variable instance.\n     *\n     * @param {string} text Field name.\n     */\n    constructor (text) {\n        super();\n        this.oneVar(text);\n    }\n\n    /**\n     * Gets the field name associated with this variable instance.\n     *\n     * @public\n     * @return {string} Name of the field.\n     */\n    oneVar (...oneV) {\n        if (oneV.length) {\n            this._oneVar = oneV[0];\n            return this;\n        }\n        return this._oneVar;\n    }\n\n    data (...dm) {\n        if (dm.length) {\n            this._data = dm[0];\n            return this;\n        }\n        return this._data;\n    }\n\n    toString () {\n        return this.oneVar();\n    }\n\n    /**\n     * Gets the number formatter function of this variable.\n     *\n     * @public\n     * @return {Function} Number formatter function.\n     */\n    numberFormat () {\n        if (this.type() === 'measure') {\n            const formatter = this.data().getFieldspace().getMeasure()[this.oneVar()];\n            return formatter.numberFormat();\n        } return val => val;\n    }\n\n    format (values) {\n        if (values && this.subtype() === 'temporal') {\n            const formatter = this.data().getFieldspace().getDimension()[this.oneVar()].schema().format;\n            const dtFormat = new DateTimeFormatter(formatter);\n            values = values.map(e => dtFormat.getNativeDate(e));\n        }\n        return values;\n    }\n\n    /**\n     * Return the field names associated with this variable instance.\n     *\n     * @public\n     * @return {Array} Array of fields.\n     */\n    getMembers () {\n        return [this.oneVar()];\n    }\n\n    /**\n     * Returns the type of the variable. Whether it is measure or dimension.\n     *\n     * @public\n     * @return {string} Type of variable.\n     */\n    type () {\n        const fieldDef = this.data().getFieldsConfig()[this.oneVar()].def;\n        return fieldDef.type;\n    }\n\n    /**\n     * Returns the subtype of the variable. Subtype can be categorical or temporal. If no subtype is found, then it\n     * returns the type of the variable.\n     *\n     * @public\n     * @return {string} Subtype of variable.\n     */\n    subtype () {\n        const fieldDef = this.data().getFieldsConfig()[this.oneVar()].def;\n        return fieldDef.subtype || fieldDef.type;\n    }\n\n    /**\n     * Returns the minimum consecutive difference between the data values of this variable.\n     *\n     * @return {number} Minimum consecutive difference.\n     */\n    getMinDiff () {\n        const fieldSpace = this.data().getFieldspace();\n        return fieldSpace.fieldsObj()[this.oneVar()].minimumConsecutiveDifference();\n    }\n\n    /**\n     * Returns true if two variable instances are same.If both variable has the same field names, they are equal.\n     *\n     * @return {Boolean} Whether two variable instances are same.\n     */\n    equals (varInst) {\n        return this.oneVar() === varInst.oneVar();\n    }\n}\n","import { ERROR_MSG } from 'muze-utils';\n\n/**\n *\n *\n * @export\n * @class Variable\n */\nexport default class Variable {\n\n    /**\n     *\n     *\n     * @memberof Variable\n     */\n    type () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     *\n     *\n     * @memberof Variable\n     */\n    toString () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n}\n","import { STATE_NAMESPACES } from 'muze-utils';\n\nexport const setupChangeListeners = (context) => {\n    const store = context.store();\n\n    store.registerChangeListener([`${STATE_NAMESPACES.GROUP_GLOBAL_NAMESPACE}.domain.x`], () => {\n        const groupAxes = context.resolver().axes();\n        groupAxes.x.forEach(axes => axes.forEach((axis) => {\n            axis.render();\n        }));\n    });\n\n    store.registerChangeListener([`${STATE_NAMESPACES.GROUP_GLOBAL_NAMESPACE}.domain.y`], () => {\n        const groupAxes = context.resolver().axes();\n        groupAxes.y.forEach(axes => axes.forEach((axis) => {\n            axis.render();\n        }));\n    });\n};\n\nexport const registerDomainChangeListener = (context) => {\n    const store = context.store();\n    store.unsubscribe({\n        namespace: 'group',\n        key: 'unionDomain'\n    });\n    store.registerChangeListener([`${STATE_NAMESPACES.UNIT_GLOBAL_NAMESPACE}.domain`], () => {\n        context.resolver().encoder().unionUnitDomains(context);\n    }, false, {\n        namespace: 'group',\n        key: 'unionDomain'\n    });\n};\n","import { VisualUnit } from '@chartshq/visual-unit';\nimport { STATE_NAMESPACES } from 'muze-utils';\nimport { RetinalEncoder } from '../encoder';\nimport { getEncoder, getBorders } from '../group-helper';\nimport { registerDomainChangeListener } from './change-listener';\nimport ValueMatrix from './value-matrix';\n\nexport const createUnitState = (context) => {\n    const [globalState, localState] = VisualUnit.getState();\n    const store = context.store();\n    store.append(STATE_NAMESPACES.UNIT_GLOBAL_NAMESPACE, globalState)\n                    .append(STATE_NAMESPACES.UNIT_LOCAL_NAMESPACE, localState);\n};\n\nexport const initializeGlobalState = (context) => {\n    const globalState = context.constructor.getState()[0];\n    const store = context.store();\n    store.append(STATE_NAMESPACES.GROUP_GLOBAL_NAMESPACE, globalState);\n};\n\nconst sanitizeRetinalConfig = (retinalConf) => {\n    const conf = {};\n    for (const key in retinalConf) {\n        const confValue = retinalConf[key];\n        if (typeof confValue === 'string' || !confValue) {\n            conf[key] = {\n                field: retinalConf[key]\n            };\n        } else {\n            conf[key] = confValue;\n        }\n    }\n    return conf;\n};\n\nexport const setMatrixInstances = (context, placeholder) => {\n    let {\n        values,\n        rows,\n        columns\n    } = placeholder;\n    values = values || [];\n    rows = rows || [];\n    columns = columns || [];\n    context._composition.matrices = {\n        value: new ValueMatrix(values),\n        left: new ValueMatrix(rows[0]),\n        right: new ValueMatrix(rows[1]),\n        top: new ValueMatrix(columns[0]),\n        bottom: new ValueMatrix(columns[1])\n    };\n    return context;\n};\n\nexport const createMatrices = (context) => {\n    const rows = context.rows();\n    const columns = context.columns();\n    const color = context.color();\n    const datamodel = context.data();\n    const size = context.size();\n    const detail = context.detail();\n    const layers = context.layers();\n    const transform = context.transform();\n    const config = context.config();\n    const shape = context.shape();\n\n    // Get the resolver for the matrices\n    const resolver = context.resolver();\n    resolver.store(context.store());\n    // Prepare configuration for matrix preparation\n    let matrixConfig = {\n        selection: context.selection(),\n        alias: context.alias(),\n        globalConfig: config || {},\n        rows,\n        columns,\n        detail,\n        layers,\n        transform\n    };\n\n    const retinalConfig = sanitizeRetinalConfig({\n        color,\n        shape,\n        size\n    });\n\n    matrixConfig = Object.assign(matrixConfig, retinalConfig);\n    // Create the encoders for the group\n    const encoders = {};\n    encoders.retinalEncoder = new RetinalEncoder();\n    encoders.simpleEncoder = getEncoder(layers);\n    resolver.encoder(encoders.simpleEncoder);\n\n    // Set the group type\n    context.groupType(encoders.simpleEncoder.constructor.type());\n\n    // Get sanitized fields as instances of the Vars Class\n    const fields = encoders.simpleEncoder.fieldSanitizer(datamodel, matrixConfig);\n    encoders.simpleEncoder.setAxisAndHeaders(config ? config.axisFrom : {}, fields);\n    // Setting layers for the code\n    layers && resolver.layerConfig(layers);\n    // Set the row and column axes\n    resolver.horizontalAxis(fields.rows, encoders).verticalAxis(fields.columns, encoders);\n    // Getting the placeholders\n    const placeholderInfo = resolver.getMatrices(datamodel, matrixConfig, context.registry(), encoders);\n    context._groupedDataModel = placeholderInfo.dataModels.groupedModel;\n    // Set the selection object\n    context.selection(placeholderInfo.selection);\n\n    // Create retinal axes\n    resolver.createRetinalAxes(placeholderInfo.dataModels.parentModel.getFieldsConfig(), retinalConfig,\n            encoders);\n\n    // Domains are evaluated for each of the axes for commonality\n    resolver.setDomains(matrixConfig, placeholderInfo.dataModels, encoders);\n\n    // Create matrix instances\n    setMatrixInstances(context, placeholderInfo);\n\n    // Prepare corner matrices\n    context.cornerMatrices(resolver.createHeaders(placeholderInfo, fields, config));\n\n    // Set placeholder information\n    context.placeholderInfo(placeholderInfo);\n\n    context._composition.axes = resolver.axes();\n    context.metaData({\n        border: getBorders(placeholderInfo, encoders.simpleEncoder)\n    });\n\n    resolver.encoder().unionUnitDomains(context);\n\n    registerDomainChangeListener(context);\n    return context;\n};\n","export { default as VisualGroup } from './visual-group';\n","import { ROWS, COLUMNS, COLOR, SHAPE, SIZE, DETAIL, LAYERS, TRANSFORM, CONFIG } from '../enums/constants';\n\n/**\n * This is the local options semantics based on which setters getters are created and reactivity is initiated.\n * This local object is only valid for Artboard.\n * Artboard merges global and local object both to the model\n *\n * Format\n *  PROPERTRY_NAME: {\n *      value: // default value of the property,\n *      meta: {\n *          typeCheck: // The setter value will be checked using this. If the value is function then the setter value\n *                     // is passed as args.\n *          typeExpected: // The output of typecheck action will be tested against this. Truthy value will set the\n *                       // value to the setter\n *          sanitizaiton: // Need for sanitization before type is checked\n *      }\n *  }\n *\n * @module\n */\n\nexport default {\n    [CONFIG]: {},\n    [ROWS]: {},\n    [COLUMNS]: {},\n    [COLOR]: {},\n    [SHAPE]: {},\n    [SIZE]: {},\n    [DETAIL]: {},\n    [LAYERS]: {},\n    [TRANSFORM]: {}\n};\n","import { ROWS, COLUMNS, COLOR, SHAPE, SIZE, DETAIL, LAYERS, TRANSFORM, CONFIG } from '../enums/constants';\n\nexport const PROPS = {\n    alias: {},\n    data: {},\n    cornerMatrices: {\n        defaultValue: {\n            topLeft: [],\n            topRight: [],\n            bottomLeft: [],\n            bottomRight: []\n        }\n    },\n    groupType: {},\n\n    metaData: {\n        defaultValue: {\n            border: {}\n        }\n    },\n    placeholderInfo: {\n        defaultValue: {}\n    },\n    resolver: {},\n    registry: {\n        sanitization: (context, value) => {\n            if (context.resolver) {\n                context.resolver().registry(value.cellRegistry);\n            }\n            return value;\n        }\n    },\n    selection: {},\n    [CONFIG]: {},\n    [ROWS]: {},\n    [COLUMNS]: {},\n    [COLOR]: {},\n    [SHAPE]: {},\n    [SIZE]: {},\n    [DETAIL]: {},\n    [LAYERS]: {},\n    [TRANSFORM]: {}\n};\n","/**\n * This is a wrapper class over the matrix of cells which gets created in visual group. Visual Group creates left,\n * right, bottom and top and center matrices and wraps them using this class.\n *\n * @public\n * @class ValueMatrix\n */\nclass ValueMatrix {\n\n    /**\n     * Creates an instance of ValueMatrix.\n     *\n     * @param {Array} matrixArr Matrix array.\n     */\n    constructor (matrixArr) {\n        const instancesById = {};\n\n        this.matrix(matrixArr || []);\n        this.filter(() => true);\n\n        this.each((el, rIdx, cIdx) => {\n            const cellValue = el.valueOf();\n            if (cellValue && cellValue.id) {\n                const id = cellValue.id();\n                instancesById[id] = {\n                    instance: cellValue,\n                    rowIndex: rIdx,\n                    colIndex: cIdx\n                };\n            }\n        });\n\n        this.instancesById(instancesById);\n    }\n\n    instancesById (...id) {\n        if (id.length) {\n            this._instancesById = id[0];\n            return this;\n        }\n        return this._instancesById;\n    }\n\n    /**\n     * Returns the array of matrices contained in this instance.\n     *\n     * @public\n     * @return {Array} Array of matrices.\n     */\n    matrix (...matrix) {\n        if (matrix.length) {\n            this._matrix = matrix[0];\n            return this;\n        }\n        return this._matrix;\n    }\n\n    /**\n     * Sets a filter criteria. This filter criteria gets applied when each function is called.\n     *\n     * @public\n     * @param {Function} fn Filter function.\n     *\n     * @return {ValueMatrix} Instance of value matrix.\n     */\n    filter (...fn) {\n        if (fn.length) {\n            this._filterFn = fn[0];\n            return this;\n        }\n        return this._filterFn;\n    }\n\n    /**\n     * Returns the total width occupied by all the cells of the matrix.\n     *\n     * @return {Number} Width of the matrix.\n     */\n    width () {\n        let rowWidth = 0;\n\n        this.matrix().forEach((row) => {\n            let currentRowWidth = 0;\n            row.forEach((cell) => {\n                currentRowWidth += cell.getLogicalSpace().width;\n            });\n            rowWidth = Math.max(rowWidth, currentRowWidth);\n        });\n        return rowWidth;\n    }\n\n    /**\n     * Returns the total width occupied by all the cells of the matrix.\n     *\n     * @return {Number} Width of the matrix.\n     */\n    height () {\n        let rowHeight = 0;\n\n        this.matrix().forEach((row) => {\n            let currentRowHeight = 0;\n            row.forEach((cell) => {\n                currentRowHeight = Math.max(currentRowHeight, cell.getLogicalSpace().height);\n            });\n            rowHeight += currentRowHeight;\n        });\n        return rowHeight;\n    }\n\n    /**\n     * Iterates through the two dimensional matrix array and calls the given callback function with the cell instance,\n     * row index, column index and the matrix array.\n     *\n     * @param {Function} fn Callback function which will get called for every cell.\n     * @return {ValueMatrix} Instance of the value matrix.\n     */\n    each (fn) {\n        const matrix = this.matrix();\n        const filterFn = this.filter();\n\n        matrix.forEach((row, rIndex) => {\n            row.forEach((col, cIndex) => {\n                if (filterFn(col)) {\n                    fn(col, rIndex, cIndex, matrix);\n                }\n            });\n        });\n        return this;\n    }\n\n    findPlaceHolderById (id) {\n        return this.instancesById()[id];\n    }\n}\n\nexport default ValueMatrix;\n","import { generateGetterSetters } from 'muze-utils';\nimport localOptions from './local-options';\nimport { SimpleGroup } from '../simple-group';\nimport {\n    MatrixResolver,\n    findInGroup\n} from '../group-helper';\nimport { createUnitState, initializeGlobalState, setMatrixInstances, createMatrices } from './helper';\nimport { setupChangeListeners } from './change-listener';\nimport { PROPS } from './props';\nimport {\n    CONFIG,\n    MOUNT,\n    RETINAL,\n    Y\n} from '../enums/constants';\n\n/**\n * VisualGroup is instantiated by canvas for creating {@link VisualUnit} and axes instances.It creates the\n * the matrix of visual units and axes. It also creates the layout instance which manages the allocation\n * of space of matrices.\n *\n * To get instance of visual group,\n * ```\n *      const visualGroup = canvas.composition().visualGroup;\n * ```\n * @public\n *\n * @class VisualGroup\n */\nclass VisualGroup extends SimpleGroup {\n\n    /**\n     * Creates an instance of VisualGroup. Requires dependencies and other registry options for placeholders\n     * and layers that create individual units.\n     *\n     * @param {Object} registry Key value pair of compostions for the group\n     * @param {Object} dependencies Dependencies needed to run the group\n     * @memberof VisualGroup\n     */\n    constructor (registry, dependencies) {\n        super();\n\n        const {\n            componentSubRegistry\n        } = registry;\n\n        this._dependencies = dependencies;\n        // Generate getter/setter methods for all properties of the class\n        // One can get each property by calling the method and can set it\n        // by passing paramaters for the same. Thus, one can chain setter\n        // getter methods.\n        generateGetterSetters(this, PROPS);\n        generateGetterSetters(this, localOptions);\n        // Populate the store with default values\n        // initialize group compositions\n        this._composition = {};\n        // store reference to data\n        this._data = [];\n        // store reference to mountpoint\n        this._mount = null;\n        // selection object that takes care of updating of components\n        this._selection = {};\n        // Create instance of matrix resolver\n        this.resolver(new MatrixResolver(this._dependencies));\n        // matrix instance store each of the matrices\n        setMatrixInstances(this, {});\n         // Getting indiviual registered items\n        this.registry({\n            layerRegistry: componentSubRegistry.layerRegistry.get(),\n            cellRegistry: componentSubRegistry.cellRegistry.get()\n        });\n    }\n\n    static getState () {\n        return [{\n            domain: {\n                x: {},\n                y: {},\n                radius: {}\n            }\n        }, {}];\n    }\n\n    store (...params) {\n        if (params.length) {\n            this._store = params[0];\n            initializeGlobalState(this);\n            createUnitState(this);\n            // Register listeners\n            setupChangeListeners(this);\n            return this;\n        }\n        return this._store;\n    }\n\n    /**\n     * Return the instances of matrices created by the visual group.\n     *\n     * @return {Object} Instance of matrices.\n     */\n    matrixInstance (...matrices) {\n        if (matrices.length) {\n            return this;\n        }\n        return this.composition().matrices;\n    }\n\n    /**\n     * Returns the composition of visual group.\n     *\n     * @public\n     *\n     * @return {Object} Composition of visual group. It contains instance of matrices {@link ValueMatrix}\n     * and instances of axis.\n     * ```\n     *          {\n     *              matrices: {\n     *                  value: // Instance of center value matrix.\n     *                  left: // Instance of left value matrix\n     *                  right: // Instance of right value matrix\n     *                  bottom: // Instance of bottom value matrix\n     *                  top: // Instance of top value matrix.\n     *              },\n     *              axes: {\n     *                  x: // Array of x axis.\n     *                  y: // Array of y axis\n     *                  color: // Array of color axis\n     *                  shape: // Array of shape axis\n     *                  size: // Array of size axis.\n     *              }\n     *          }\n     * ```\n     */\n    composition (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this._composition;\n    }\n\n    /**\n     * Locks the model to prevent change listeners to be triggered until unlocked\n     *\n     * @return {Object} Instance of class VisualGroup\n     * @memberof VisualGroup\n     */\n    lockModel () {\n        this.store().model.lock();\n        return this;\n    }\n\n    /**\n     * Unlocks the model so that all change listeners can be triggered\n     *\n     * @return {Object} Instance of class VisualGroup\n     */\n    unlockModel () {\n        this.store().model.unlock();\n        return this;\n    }\n\n    /**\n     * Returns the channel name of the variable. Channels are rows, columns, color, shape and size.\n     *\n     * @public\n     * @param {string} variable Name of the variable.\n     *\n     * @return {string} Name of the channel.\n     */\n    where (variable) {\n        return findInGroup(variable, this.resolver().getAllFields());\n    }\n\n    /**\n     * Gets the axis instances of the visual group based on the given axis type.\n     *\n     * @public\n     * @param {string} type Type of axis. X,Y or retinal axes.\n     *\n     * @return {Array} Array of axis instances.\n     */\n    getAxes (type) {\n        if (type === RETINAL) {\n            return this.resolver().getRetinalAxes();\n        }\n        return this.resolver().getSimpleAxes(type);\n    }\n\n    /**\n     * Returns the instances of cells based on the given type. Type can be given as `row' or `col`.\n     *\n     * @public\n     * @return {Array} Two dimensional array of cells.\n     */\n    getCells (type) {\n        return this.resolver()[`${type}Cells`]();\n    }\n\n    getFieldsFromChannel (channel) {\n        const {\n            rowProjections,\n            colProjections\n        } = this.resolver().getAllFields();\n        return channel === Y ? rowProjections : colProjections;\n    }\n\n    getCellsByFacetKey (facetKey) {\n        const resolver = this.resolver();\n        const cells = resolver.rowCells()[facetKey] || resolver.colCells()[facetKey] || [];\n        return cells;\n    }\n\n    getAxesByFacetKey (axisType, facetKey) {\n        const resolver = this.resolver();\n        const cells = resolver.rowCells()[facetKey] || resolver.colCells()[facetKey];\n        const axes = cells[0].valueOf().axes()[axisType] || [];\n\n        return axes;\n    }\n\n    /**\n     * This method is used to return a serialized representation of the instance's properties.\n     *\n     * @return {Object} Object with config proprties.\n     * @memberof VisualGroup\n     */\n    serialize () {\n        const store = this.store();\n\n        return {\n            [CONFIG]: store.get(CONFIG),\n            [MOUNT]: store.get(MOUNT)\n        };\n    }\n\n    /**\n     * Returns the grouped datamodel prepared by visual group. If there is no group by performed, then it returns the\n     * original data model passed to visual group.\n     *\n     * @return {DataModel} Grouped data model.\n     */\n    getGroupByData () {\n        return this._groupedDataModel;\n    }\n\n    createMatrices () {\n        createMatrices(this);\n    }\n}\n\nexport default VisualGroup;\n","import {\n    getUniqueId,\n    mergeRecursive,\n    FieldType,\n    selectElement,\n    ReservedFields,\n    registerListeners,\n    transactor,\n    DataModel,\n    clone,\n    generateGetterSetters,\n    STATE_NAMESPACES\n} from 'muze-utils';\nimport { SimpleLayer } from '../simple-layer';\nimport * as PROPS from '../enums/props';\nimport { props } from './props';\nimport {\n    transformData,\n    calculateDomainFromData,\n    getNormalizedData,\n    applyInteractionStyle,\n    initializeGlobalState\n} from '../helpers';\nimport { listenerMap } from './listener-map';\nimport { defaultOptions } from './default-options';\n\n/**\n * An abstract class which gives definition of common layer functionality like\n * - transforming data for various modes. Supported modes: identity, group and stack.\n * - calculating data domain\n * - linking dependent layers\n * - merging policy of configuration\n * - interaction sideffect helpers\n * - retrieving dom elements from data using id\n * - retrieving the physical dimensions of marks\n * - disposing layer\n *\n * Every layer has to extend base layer and give concrete definition.\n * This layer does not have any default visual. A new layer has to define the logic of `render` for rendering the\n * visuals\n *\n * @public\n * @class\n * @module BaseLayer\n */\nexport default class BaseLayer extends SimpleLayer {\n\n    /**\n     * Creates a layer using a configuration and data.\n     *\n     * @public\n     * @constructor\n     * @param {DataModel} data Instance of DataModel to be used. This DataModel instance serves as the data for a layer.\n     * @param {Object} axes Axes instances to be used for rendering the layer. Axes are used for mapping data from\n     *      value to px.\n     * @param {SimpleAxis} axes.x X axis of the layer. Based on the type of variable it gets instance of BandAxis,\n     *      TimeAxis, ContinuousAxis\n     * @param {SimpleAxis} axes.y X axis of the layer. Based on the type of variable it gets instance of BandAxis,\n     *      TimeAxis, ContinuousAxis\n     * @param {ColorAxis} axes.color Axis for coloring a layer using color interpolators\n     * @param {ShapeAxis} axes.shape Axis for providing a shape\n     * @param {SizeAxis} axes.size Axis for determining size of a mark using size interpolator\n     * @param {LayerConfig} config Configuration of the layer\n     * @param {Object} dependencies Dependencies of the layer\n     * @param {SmartLabel} dependencies.smartLabel Smartlabel singleton instance\n     */\n    constructor (data, axes, config, dependencies = {}) {\n        super();\n        generateGetterSetters(this, props);\n        this.data(data);\n        this.axes(axes);\n        this.config(config);\n        this.alias(this.constructor.formalName() + getUniqueId());\n        this.dependencies(dependencies);\n        this._points = [];\n        this._cachedData = [];\n        this._id = getUniqueId();\n        this._measurement = {};\n    }\n\n    static getState () {\n        return [\n            {\n                domain: {}\n            },\n            {\n                config: {},\n                data: {}\n            }\n        ];\n    }\n\n    store (...params) {\n        if (params.length) {\n            this._store = params[0];\n            const localNs = STATE_NAMESPACES.LAYER_LOCAL_NAMESPACE;\n            const metaInf = this.metaInf();\n            initializeGlobalState(this);\n            transactor(this, defaultOptions, this.store().model, {\n                namespace: localNs,\n                subNamespace: metaInf.namespace\n            });\n            registerListeners(this, listenerMap, {\n                local: localNs,\n                global: STATE_NAMESPACES.LAYER_GLOBAL_NAMESPACE\n            }, {\n                unitRowIndex: metaInf.unitRowIndex,\n                unitColIndex: metaInf.unitColIndex,\n                subNamespace: metaInf.namespace\n            });\n            return this;\n        }\n        return this._store;\n    }\n\n    domain (...dom) {\n        const prop = `${STATE_NAMESPACES.LAYER_GLOBAL_NAMESPACE}.${PROPS.DOMAIN}.${this.metaInf().namespace}`;\n        if (dom.length) {\n            this.store().commit(prop, dom[0]);\n            return this;\n        }\n        return this.store().get(prop);\n    }\n\n    /**\n     * Creates a layer instance\n     * @return {BaseLayer} Instance of a layer\n     */\n    static create (...params) {\n        return new this(...params);\n    }\n\n    /**\n     * Default configuration of the layer. This configuration gets merged to the user passed configuration using a\n     * plolicy. Base layer only returns part of configuraion, any layer overridding base layer should return its own\n     * configuration.\n     *\n     * @public\n     * @static\n     *\n     * @return {Object} Default configuration\n     */\n    static defaultConfig () {\n        return {\n            transform: {\n                type: 'identity'\n            }\n        };\n    }\n\n    /**\n     * Policy defines how user config gets merged to default config. The default policy here does a deep copy\n     * operation.\n     * Any policy which does more than deep copying should define the policy as a static member.\n     *\n     * @static\n     * @public\n     *\n     * @param {LayerConfig} conf Configuration with which the user config will be merged\n     * @param {LayerConfig} userConf Configuration given by the user\n     *\n     * @return {LayerConfig} Merged layer configuration\n     */\n    static defaultPolicy (conf, userConf) {\n        return mergeRecursive(conf, userConf);\n    }\n\n    /**\n     * Determines a name for a layer. This name of the layer is used in the input data to refer to this layer.\n     * ```\n     *  .layers([\n     *      mark: 'bar',\n     *      encoding: { ... }\n     *  ])\n     * ```\n     *\n     * @static\n     * @public\n     *\n     * @return {string} name of layer\n     */\n    static formalName () {\n        return 'base';\n    }\n\n    encodingFieldsInf (...fieldsInf) {\n        if (fieldsInf.length) {\n            this._encodingFieldsInf = fieldsInf[0];\n            return this;\n        }\n        return this._encodingFieldsInf;\n    }\n\n    encodingTransform (...encodingTransform) {\n        if (encodingTransform.length) {\n            this._encodingTransform = encodingTransform[0];\n            return this;\n        }\n        return this._encodingTransform;\n    }\n\n    /**\n     * Provides a alias for a layer. Like it's possible to have same layer (like bar) multiple times, but among multiple\n     * layers of same type if one layer has to be referred, alias is used. If no alias is given then `formalName` is set\n     * as the alias name.\n     *\n     *\n     * If used as setter\n     * @param  {string} alias Name of the alias\n     * @return {BaseLayer} Instance of current base layer\n     *\n     * If used as getter\n     * @return {string} Alias of the current layer\n     *\n     * @public\n     */\n    alias (...params) {\n        if (params.length) {\n            this._alias = params[0];\n            return this;\n        }\n        return this._alias || this.constructor.formalName();\n    }\n\n    dependencies (...params) {\n        if (params.length) {\n            this._dependencies = params[0];\n            return this;\n        }\n        return this._dependencies;\n    }\n\n    enableCaching () {\n        this._cacheEnabled = true;\n        return this;\n    }\n\n    clearCaching () {\n        this._cacheEnabled = false;\n        return this.data(this._cachedData[0]);\n    }\n\n    /**\n     * Serialize the schema. Merge config is used for serialization.\n     *\n     * @public\n     *\n     * @return {LayerConfig} Serialized schema\n     */\n    serialize () {\n        return this.config();\n    }\n\n    /**\n     * Returns the unique identifier of this layer. Id is auto generated during the creation proceess of a schema.\n     *\n     * @public\n     *\n     * @return {string} id of the layer\n     */\n    id () {\n        return this._id;\n    }\n\n    /**\n     * Returns the transformed data based on given transform type.\n     * It first gets the transform method from transform factory based on type of transform. It then calls the\n     * transform method with the data and passes the configuration parameters of transform such as\n     * groupBy, value field, etc.\n     *\n     * @param {DataModel} dataModel Instance of DataModel\n     * @param {Object} config Configuration for transforming data\n     * @return {Array.<Array>} Transformed data.\n     */\n    getTransformedData (dataModel, config, transformType, encodingFieldsInf) {\n        return transformData(dataModel, config, transformType, encodingFieldsInf);\n    }\n\n    /**\n     * Calculates the domain from the data.\n     * It checks the type of field and calculates the domain based on that. For example, if it\n     * is a quantitative or temporal field, then it calculates the min and max from the data or\n     * if it is a categorical field then it gets all the values from the data of that field.\n     * @param {Array} data DataArray\n     * @param {Object} fieldsConfig Configuration of fields\n     * @return {Array} Domain values array.\n     */\n    calculateDomainFromData (data) {\n        let domains = {};\n        const isEmpty = this.data().isEmpty();\n\n        if (!isEmpty) {\n            domains = calculateDomainFromData(data, this.encodingFieldsInf(), this.transformType());\n        }\n        return domains;\n    }\n\n    static shouldDrawAnchors () {\n        return false;\n    }\n\n    /**\n     * Returns the domain for the axis.\n     *\n     * @param {string} encodingType type of encoding x, y, etc.\n     * @return {Object} Axis domains\n     */\n    getDataDomain (encodingType) {\n        const domains = this.store()\n            .get(`${STATE_NAMESPACES.LAYER_GLOBAL_NAMESPACE}.${PROPS.DOMAIN}.${this.metaInf().namespace}`);\n        return encodingType !== undefined ? domains[encodingType] || [] : domains;\n    }\n\n    /**\n     * Normalizes the transformed data and returns it.\n     *\n     * @param {string} encodingType type of encoding x, y, etc.\n     * @return {Object} Axis domains\n     */\n    getNormalizedData (transformedData, fieldsConfig) {\n        return getNormalizedData(transformedData, fieldsConfig, this.encodingFieldsInf(), this.transformType());\n    }\n\n    /**\n     * Gets the nearest point closest to the given x and y coordinate. If no nearest point is found, then it returns\n     * null.\n     *\n     * @public\n     *\n     * @param {number} x X Coordinate.\n     * @param {number} y Y Coordinate.\n     *\n     * @return {Object} Information of the nearest point.\n     * ```\n     *      {\n     *          // id property contains the field names and their corresponding values in a 2d array. This is the data\n     *          // associated with the nearest point.\n     *          id: // Example data: [['Origin'], ['USA']],\n     *          dimensions: // Physical dimensions of the point.\n     *          layerId: // Id of the layer instance.\n     *      }\n     * ```\n     */\n    getNearestPoint () {\n        return null;\n    }\n\n    applyInteractionStyle (interactionType, selectionSet, apply, styles) {\n        const interactionConfig = this.config().interaction || {};\n\n        let interactionStyles = interactionConfig[interactionType];\n        interactionStyles = styles || interactionStyles;\n        if (interactionStyles) {\n            applyInteractionStyle(this, selectionSet, interactionStyles, {\n                apply,\n                interactionType\n            });\n        }\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof BaseLayer\n     */\n    transformType (...transformType) {\n        if (transformType.length) {\n            this._transformType = transformType[0];\n            return this;\n        }\n        return this._transformType;\n    }\n\n    /**\n     * Renders the layer\n     * @return {BaseLayer} Instance of the layer.\n     */\n    render () {\n        return this;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof BaseLayer\n     */\n    elemType () {\n        return 'g';\n    }\n\n    /**\n     * Disposes the entire layer.\n     *\n     * @return {BaseLayer} Instance of layer.\n     */\n    remove () {\n        this.store().unsubscribe({\n            namespace: `${STATE_NAMESPACES.LAYER_LOCAL_NAMESPACE}.${this.metaInf().namespace}`\n        });\n        selectElement(this.mount()).remove();\n        return this;\n    }\n\n    /**\n     * Stores point in an object with key as the categorical value or temporal value\n     *\n     * @param {string} key categorical value or temporal value\n     * @param {Object} data Information of the data point\n     * @return {BarLayer} Instance of bar layer\n     */\n    cachePoint (key, data) {\n        if (key === null) {\n            return this;\n        }\n        const pointMap = this._pointMap;\n        !pointMap[key] && (pointMap[key] = []);\n        pointMap[key].push(data);\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} dataProps\n     *\n     * @memberof BaseLayer\n     */\n    dataProps (...dataProps) {\n        if (dataProps.length) {\n            this._dataProps = dataProps[0];\n            return this;\n        }\n        return this._dataProps;\n    }\n\n    /**\n     *\n     *\n     * @param {*} data\n     * @param {*} id\n     *\n     * @memberof BaseLayer\n     */\n    getIdentifiersFromData (data) {\n        const schema = this.data().getData().schema;\n        const fieldsConfig = this.data().getFieldsConfig();\n        const identifiers = [[], []];\n        const {\n                xFieldType,\n                yFieldType,\n                xField,\n                yField\n            } = this.encodingFieldsInf();\n\n        const [xMeasure, yMeasure] = [xFieldType, yFieldType].map(type => type === FieldType.MEASURE);\n        schema.forEach((d, i) => {\n            const name = d.name;\n            if (fieldsConfig[name].def.type === FieldType.DIMENSION) {\n                identifiers[0].push(name);\n                identifiers[1].push(data[i]);\n            }\n        });\n\n        if (xMeasure && yMeasure) {\n            const xMeasureIndex = fieldsConfig[xField].index;\n            const yMeasureIndex = fieldsConfig[yField].index;\n            identifiers[0].push(...[xField, yField]);\n            identifiers[1].push(...[data[xMeasureIndex], data[yMeasureIndex]]);\n        }\n        return identifiers;\n    }\n\n    getPlotSpan () {\n        return {\n            x: 0,\n            y: 0\n        };\n    }\n\n    getPlotPadding () {\n        return {\n            x: 0,\n            y: 0\n        };\n    }\n\n    /**\n     * Returns the information of the marks corresponding to the supplied identifiers. Identifiers are a set of field\n     * names and their corresponding values in an array. It can also be an instance of datamodel.\n     *\n     * For example,\n     * ```\n     *  const identifiers = [\n     *      ['Origin', 'Cylinders'],\n     *      ['USA', '8']\n     *  ];\n     *  const points = barLayer.getPointsFromIdentifiers(identifiers);\n     * ```\n     * @public\n     * @param {Array|DataModel} identifiers Identifiers of the marks.\n     * @param {Object} config Optional configuration which describes how to get the information.\n     * @param {boolean} config.getAllAttrs If true, then returns all the information of the points, else returns only\n     * the positions of the points.\n     * @param {boolean} config.getBBox If true, then returns the bounding box of all the marks.\n     *\n     * @return {Array} Array of points contains\n     */\n    getPointsFromIdentifiers (identifiers, config = {}) {\n        const getAllAttrs = config.getAllAttrs;\n        const getBBox = config.getBBox;\n        if (!this.data()) {\n            return [];\n        }\n        let fieldNames;\n        let values;\n        if (identifiers instanceof DataModel) {\n            const dataObj = identifiers.getData();\n            fieldNames = dataObj.schema.map(d => d.name);\n            values = dataObj.data;\n        } else {\n            fieldNames = identifiers[0];\n            values = identifiers.slice(1, identifiers.length);\n        }\n\n        const points = this._points;\n        const fieldsConfig = this.data().getFieldsConfig();\n\n        const filteredPoints = [].concat(...points).filter((point) => {\n            const { _data, _id } = point;\n\n            return fieldNames.every((field, idx) => {\n                if (field in fieldsConfig && fieldsConfig[field].def.type === FieldType.DIMENSION) {\n                    return values.findIndex(d => d[idx] === _data[fieldsConfig[field].index]) !== -1;\n                } else if (field === ReservedFields.ROW_ID) {\n                    return values.findIndex(d => d[idx] === _id) !== -1;\n                } return true;\n            });\n        });\n        return getAllAttrs ? filteredPoints : filteredPoints.map((d) => {\n            const obj = clone(d);\n            if (getBBox) {\n                const update = obj.update || obj;\n                if (obj.size !== undefined) {\n                    const sizeVal = Math.sqrt(obj.size / Math.PI) * 2;\n                    update.width = sizeVal;\n                    update.height = sizeVal;\n                    update.x -= sizeVal / 2;\n                    update.y -= sizeVal / 2;\n                } else {\n                    if (update.width === undefined) {\n                        update.width = 2;\n                    }\n                    if (update.height === undefined) {\n                        update.height = 2;\n                    }\n                }\n            }\n\n            return obj.update || obj;\n        }).sort((a, b) => a.y - b.y);\n    }\n\n    getTransformedDataFromIdentifiers (identifiers) {\n        const { data: identifierData, schema: identifierSchema } = identifiers.getData();\n        const normalizedData = this._normalizedData;\n        const fieldsConfig = this.data().getFieldsConfig();\n        const {\n            yField,\n            xField,\n            yFieldType,\n            xFieldType\n        } = this.encodingFieldsInf();\n        let measureIndex;\n        let enc;\n        if (xFieldType === FieldType.MEASURE) {\n            measureIndex = fieldsConfig[xField].index;\n            enc = 'x';\n        } else if (yFieldType === FieldType.MEASURE) {\n            measureIndex = fieldsConfig[yField].index;\n            enc = 'y';\n        }\n\n        const transformedData = [];\n        normalizedData.forEach((dataArr) => {\n            dataArr.forEach((dataObj) => {\n                const tupleArr = dataObj._data;\n                const exist = identifierSchema.every((obj, i) =>\n                    identifierData.findIndex(d => tupleArr[fieldsConfig[obj.name].index] === d[i]) !== -1);\n                if (exist) {\n                    const transformedVal = dataObj[enc];\n                    const row = dataObj._data;\n                    const tuple = {};\n                    for (const key in fieldsConfig) {\n                        const index = fieldsConfig[key].index;\n                        tuple[key] = row[index];\n                        if (index === measureIndex) {\n                            tuple[key] = transformedVal;\n                        }\n                    }\n                    transformedData.push(tuple);\n                }\n            });\n        });\n\n        return [transformedData, this.data().getData().schema];\n    }\n\n    /**\n     * Returns the dom elements associated with the supplied set of row ids.\n     * Each element in the layer is mapped with a row of the datamodel. When given an array of row ids, it returns all\n     * the elements which is mapped with those row ids.\n     *\n     * @public\n     * @param {Array} set Array of row ids\n     *\n     * @return {Selection} D3 Selection of dom elements.\n     */\n    getPlotElementsFromSet (set) {\n        return selectElement(this.mount()).selectAll(this.elemType()).filter(data =>\n            (data ? set.indexOf(data._id) !== -1 : false));\n    }\n}\n","import { mergeRecursive } from 'muze-utils';\nimport * as PROPS from '../enums/props';\n\nexport const defaultOptions = {\n    [PROPS.CONFIG]: {\n        value: null,\n        meta: {\n            sanitization: (config, oldConfig, context) => {\n                const constructor = context.constructor;\n                const newConf = mergeRecursive({}, constructor.defaultConfig());\n                return constructor.defaultPolicy(newConf, config);\n            }\n        }\n    },\n    [PROPS.DATA]: {\n        value: null,\n        meta: {\n            preset: (data, context) => {\n                if (context._cacheEnabled) {\n                    context._cachedData.push(data);\n                } else {\n                    context._cachedData = [data];\n                }\n            }\n        }\n    }\n    // [PROPS.MOUNT]: {\n    //     value: null\n    // },\n    // [PROPS.AXES]: {\n    //     value: null\n    // },\n    // [PROPS.MEASUREMENT]: {\n    //     value: null\n    // }\n};\n","export { default as BaseLayer } from './base-layer';\n","import { CommonProps, STATE_NAMESPACES } from 'muze-utils';\nimport { getValidTransform, getEncodingFieldInf } from '../helpers';\nimport * as PROPS from '../enums/props';\n\nconst renderLayer = (context) => {\n    const mount = context.mount();\n    if (mount) {\n        context.render(mount);\n        context.dependencies().throwback.commit(CommonProps.ON_LAYER_DRAW, true);\n    }\n};\n\nexport const listenerMap = (context, ns, metaInf) => [\n    {\n        props: [`${ns.local}.${PROPS.DATA}.${metaInf.subNamespace}`],\n        listener: ([, data]) => {\n            const config = context.config();\n            const encodingValue = config.encoding;\n            if (data && encodingValue) {\n                const fieldsConfig = data.getFieldsConfig();\n                const encodingFieldsInf = getEncodingFieldInf(encodingValue, fieldsConfig);\n                context.encodingFieldsInf(encodingFieldsInf);\n                context.transformType(getValidTransform(config, fieldsConfig, encodingFieldsInf));\n                context._transformedData = context.getTransformedData(data, config,\n                    context.transformType(), encodingFieldsInf);\n                context._normalizedData = context.getNormalizedData(context._transformedData, fieldsConfig);\n                const domain = context.calculateDomainFromData(context._normalizedData, context.encodingFieldsInf(),\n                    context.data().getFieldsConfig());\n                context.domain(domain);\n            }\n        },\n        type: 'registerImmediateListener'\n    },\n    {\n        props: [`${ns.local}.${PROPS.CONFIG}.${metaInf.subNamespace}`],\n        listener: ([, config]) => {\n            const calculateDomain = config.calculateDomain;\n            const props = [`${STATE_NAMESPACES.GROUP_GLOBAL_NAMESPACE}.domain.y.${metaInf.unitRowIndex}00`,\n                `${STATE_NAMESPACES.GROUP_GLOBAL_NAMESPACE}.domain.x.0${metaInf.unitColIndex}0`,\n                `${STATE_NAMESPACES.GROUP_GLOBAL_NAMESPACE}.domain.radius`];\n\n            const store = context.store();\n            const namespaceInf = {\n                namespace: `${STATE_NAMESPACES.LAYER_LOCAL_NAMESPACE}.${context.metaInf().namespace}`,\n                key: 'renderListener'\n            };\n            store.unsubscribe(namespaceInf);\n            if (calculateDomain === false) {\n                props.push(`${ns.local}.${PROPS.DATA}.${metaInf.subNamespace}`);\n            }\n            store.registerChangeListener(props,\n                () => {\n                    renderLayer(context);\n                }, false, namespaceInf);\n        },\n        type: 'registerImmediateListener'\n    }\n];\n\n","export const props = {\n    axes: {},\n    mount: {},\n    measurement: {},\n    metaInf: {},\n    data: {},\n    config: {}\n};\n","import { AreaLayer } from './layers/area';\nimport { ArcLayer } from './layers/arc';\nimport { LineLayer } from './layers/line';\nimport { TextLayer } from './layers/text';\nimport { PointLayer } from './layers/point';\nimport { BarLayer } from './layers/bar';\nimport { BaseLayer } from './base-layer';\nimport * as CONSTANTS from './enums/constants';\nimport { TickLayer } from './layers/tick';\n\nexport const DEFAULT_LAYERS = {\n    [CONSTANTS.AREA_LAYER]: AreaLayer,\n    [CONSTANTS.ARC_LAYER]: ArcLayer,\n    [CONSTANTS.LINE_LAYER]: LineLayer,\n    [CONSTANTS.TEXT_LAYER]: TextLayer,\n    [CONSTANTS.POINT_LAYER]: PointLayer,\n    [CONSTANTS.TICK_LAYER]: TickLayer,\n    [CONSTANTS.BAR_LAYER]: BarLayer,\n    [CONSTANTS.BASE_LAYER]: BaseLayer\n};\n","export const CLASSPREFIX = 'muze';\nexport const STACK = 'stack';\nexport const GROUP = 'group';\nexport const IDENTITY = 'identity';\nexport const ANGLE = 'angle';\nexport const RADIUS = 'radius';\nexport const SIZE = 'size';\nexport const COLOR = 'color';\nexport const SHAPE = 'shape';\nexport const OUTER_RADIUS_VALUE = 'outerRadiusValue';\nexport const TEXT_ANCHOR_MIDDLE = 'middle';\nexport const ENCODING = {\n    X: 'x',\n    Y: 'y',\n    X0: 'x0',\n    Y0: 'y0'\n};\n\nexport const ASCENDING = 'asc';\n\nexport const AREA_LAYER = 'area';\nexport const ARC_LAYER = 'arc';\nexport const LINE_LAYER = 'line';\nexport const TEXT_LAYER = 'text';\nexport const POINT_LAYER = 'point';\nexport const BAR_LAYER = 'bar';\nexport const TICK_LAYER = 'tick';\nexport const SIMPLE_LAYER = 'simple';\nexport const BASE_LAYER = 'base';\n","export const DATA = 'data';\nexport const CONFIG = 'config';\nexport const MEASUREMENT = 'measurement';\nexport const DOMAIN = 'domain';\nexport const MOUNT = 'mount';\n","import {\n    FieldType,\n    getDomainFromData,\n    setStyles,\n    easeFns,\n    selectElement,\n    DimensionSubtype,\n    STATE_NAMESPACES\n} from 'muze-utils';\nimport { ScaleType } from '@chartshq/muze-axis';\nimport { transformFactory } from '@chartshq/transform';\nimport { IDENTITY, STACK, GROUP, COLOR, SHAPE, SIZE, ENCODING } from '../enums/constants';\n\nconst BAND = ScaleType.BAND;\n\nexport const getLayerColor = ({ datum, index }, { colorEncoding, colorAxis, colorFieldIndex }) => {\n    let rawColor = '';\n    let color = '';\n    if (colorEncoding && colorEncoding.value instanceof Function) {\n        color = colorEncoding.value(datum, index);\n        rawColor = colorEncoding.value(datum, index);\n    } else {\n        rawColor = colorAxis.getRawColor(datum._data[colorFieldIndex]);\n        color = colorAxis.getHslString(rawColor);\n    }\n    return { color, rawColor };\n};\n\nconst transfromColor = (colorAxis, datum, styleType, intensity) => {\n    datum.meta.stateColor[styleType] = datum.meta.stateColor[styleType] || datum.meta.originalColor;\n    const fillColorInfo = colorAxis.transformColor(datum.meta.stateColor[styleType], intensity);\n    datum.meta.stateColor[styleType] = fillColorInfo.hsla;\n\n    return fillColorInfo;\n};\n\nexport const applyInteractionStyle = (context, selectionSet, interactionStyles, config) => {\n    const elements = context.getPlotElementsFromSet(selectionSet);\n    const axes = context.axes();\n    const colorAxis = axes.color;\n    const apply = config.apply;\n    const interactionType = config.interactionType;\n    interactionStyles.forEach((style) => {\n        const styleType = style.type;\n        elements.style(styleType, ((d) => {\n            const { colorTransform, stateColor, originalColor } = d.meta;\n            colorTransform[interactionType] = colorTransform[interactionType] || {};\n            if (apply && !colorTransform[interactionType][styleType]) {\n                // fade selections\n                colorTransform[interactionType][styleType] = style.intensity;\n                const color = transfromColor(colorAxis, d, styleType, style.intensity).color;\n                return color;\n            }\n            if (!apply && colorTransform[interactionType][styleType]) {\n                 // unfade selections\n                colorTransform[interactionType][styleType] = null;\n                return transfromColor(colorAxis, d, styleType, style.intensity.map(e => -e)).color;\n            }\n            const [h, s, l, a] = stateColor[styleType] ? stateColor[styleType] : originalColor;\n            return `hsla(${h * 360},${s * 100}%,${l * 100}%, ${a || 1})`;\n        }));\n    });\n};\n\n/**\n *\n *\n * @param {*} selectionSet\n * @param {*} className\n * @param {*} hasFaded\n */\nexport const fadeUnfadeSelection = (context, selectionSet, hasFaded, interaction) => {\n    const interactionConfig = { interaction, apply: hasFaded };\n    applyInteractionStyle(context, selectionSet, 'fade', interactionConfig);\n};\n\n/**\n *\n *\n * @param {*} selectionSet\n * @param {*} className\n * @param {*} hasFaded\n */\nexport const focusUnfocusSelection = (context, selectionSet, isFocussed, interaction) => {\n    const interactionConfig = { interaction, apply: isFocussed };\n    applyInteractionStyle(context, selectionSet, 'focus', interactionConfig);\n};\n\n/**\n *\n *\n * @param {*} axes\n *\n */\nexport const getAxesScales = (axes) => {\n    const [xAxis, yAxis] = [ENCODING.X, ENCODING.Y].map(e => axes[e]);\n    const [xScale, yScale] = [xAxis, yAxis].map(e => e && e.scale());\n    return {\n        xAxis,\n        yAxis,\n        xScale,\n        yScale\n    };\n};\n\n/**\n *\n *\n * @param {*} encoding\n * @param {*} fieldsConfig\n *\n */\nexport const getEncodingFieldInf = (encoding, fieldsConfig) => {\n    const [xField, yField, x0Field, y0Field, colorField, shapeField, sizeField] =\n        [ENCODING.X, ENCODING.Y, ENCODING.X0, ENCODING.Y0, COLOR, SHAPE, SIZE].map(e => encoding[e] &&\n            encoding[e].field);\n\n    const [xFieldType, yFieldType] = [xField, yField, x0Field, y0Field].map(e => fieldsConfig[e] &&\n        fieldsConfig[e].def.type);\n\n    const [xFieldSubType, yFieldSubType] = [xField, yField].map(e => fieldsConfig[e] && (fieldsConfig[e].def.subtype ||\n        fieldsConfig[e].def.type));\n\n    const [xFieldIndex, yFieldIndex, x0FieldIndex, y0FieldIndex] = [xField, yField, x0Field, y0Field]\n        .map(e => fieldsConfig[e] && fieldsConfig[e].index);\n\n    return {\n        xField,\n        yField,\n        colorField,\n        shapeField,\n        sizeField,\n        x0Field,\n        y0Field,\n        xFieldType,\n        yFieldType,\n        xFieldSubType,\n        yFieldSubType,\n        xFieldIndex,\n        yFieldIndex,\n        x0FieldIndex,\n        y0FieldIndex\n    };\n};\n\n/**\n *\n *\n * @param {*} layerConfig\n * @param {*} fieldsConfig\n *\n */\nexport const getValidTransform = (layerConfig, fieldsConfig, encodingFieldInf) => {\n    let transformType;\n    const {\n        transform\n    } = layerConfig;\n    const {\n        xField,\n        yField,\n        xFieldType,\n        yFieldType\n    } = encodingFieldInf;\n    const groupByField = transform.groupBy;\n    const groupByFieldMeasure = fieldsConfig[groupByField] && fieldsConfig[groupByField].def.type === FieldType.MEASURE;\n    transformType = transform.type;\n    if (!xField || !yField || groupByFieldMeasure || !groupByField || xFieldType === FieldType.DIMENSION &&\n        yFieldType === FieldType.DIMENSION) {\n        transformType = IDENTITY;\n    }\n    return transformType;\n};\n\n/**\n *\n *\n * @param {*} dataModel\n * @param {*} config\n * @param {*} transformType\n *\n */\nexport const transformData = (dataModel, config, transformType, encodingFieldInf) => {\n    const data = dataModel.getData({ withUid: true });\n    const schema = data.schema;\n    const transform = config.transform;\n    const {\n        xField,\n        yField,\n        xFieldType,\n        yFieldType\n    } = encodingFieldInf;\n    const uniqueField = xFieldType === FieldType.MEASURE ? yField : xField;\n\n    return transformFactory(transformType)(schema, data.data, {\n        groupBy: transform.groupBy,\n        uniqueField,\n        sort: transform.sort || 'none',\n        offset: transform.offset,\n        orderBy: transform.orderBy,\n        value: yFieldType === FieldType.MEASURE ? yField : xField\n    }, data.uids);\n};\n\nexport const getIndividualClassName = (d, i, data, context) => {\n    const className = context.config().individualClassName;\n    let classNameStr = '';\n    if (className instanceof Function) {\n        classNameStr = className(d, i, data, context);\n    }\n    return classNameStr;\n};\n\n/*\n * This method resolves the x, y, x0 and y0 values from the transformed data.\n * It also checks the type of transformed data for example, if it is a stacked data\n * then it fetches the y and y0 values from the stacked data.\n * @param {Array.<Array>} transformedData transformed data\n * @param {Object} fieldsConfig field definitions\n * @param {string} transformType type of transformed data - stack, group or identity.\n * @return {Array.<Object>} Normalized data\n*/\nexport const getNormalizedData = (transformedData, fieldsConfig, encodingFieldInf, transformType) => {\n    const transformedDataArr = transformType === IDENTITY ? [transformedData] : transformedData;\n    const {\n        xFieldType,\n        xFieldIndex,\n        yFieldIndex,\n        x0FieldIndex,\n        y0FieldIndex\n    } = encodingFieldInf;\n    const fieldsLen = Object.keys(fieldsConfig).length;\n    /**\n     * Returns normalized data from transformed data. It recursively traverses through\n     * the transformed data if there it is nested.\n     */\n    return transformedDataArr.map((data) => {\n        const values = transformType === GROUP ? data.values : data;\n        return values.map((d) => {\n            let pointObj = {};\n            let tuple;\n            if (transformType === STACK) {\n                tuple = d.data || [];\n                let y;\n                let y0;\n                let x;\n                let x0;\n                if (d[1] >= d[0]) {\n                    y = x0 = d[1];\n                    x = y0 = d[0];\n                } else {\n                    y = x0 = d[0];\n                    x = y0 = d[1];\n                }\n\n                pointObj = xFieldType === FieldType.MEASURE ? {\n                    x,\n                    x0,\n                    y: tuple[yFieldIndex],\n                    y0: tuple[yFieldIndex]\n                } : {\n                    x: tuple[xFieldIndex],\n                    x0: tuple[xFieldIndex],\n                    y,\n                    y0\n                };\n                pointObj._data = tuple;\n                pointObj._id = tuple[fieldsLen];\n            } else {\n                pointObj = {\n                    x: d[xFieldIndex],\n                    y: d[yFieldIndex],\n                    x0: d[x0FieldIndex],\n                    y0: d[y0FieldIndex]\n                };\n                pointObj._data = d;\n                pointObj._id = d[fieldsLen];\n            }\n            return pointObj;\n        });\n    }).filter(d => d.length);\n};\n\nexport const calculateDomainFromData = (data, encodingFieldInf, transformType) => {\n    const {\n        xFieldSubType,\n        yFieldSubType,\n        xField,\n        yField,\n        x0Field,\n        y0Field\n    } = encodingFieldInf;\n    const domains = {};\n    const yEnc = ENCODING.Y;\n    const xEnc = ENCODING.X;\n    if (xField) {\n        domains.x = getDomainFromData(data, x0Field || transformType === STACK ? [xEnc, ENCODING.X0] : [xEnc, xEnc],\n            xFieldSubType);\n    }\n    if (yField) {\n        domains.y = getDomainFromData(data, y0Field || transformType === STACK ? [ENCODING.Y0, ENCODING.Y] :\n            [yEnc, yEnc], yFieldSubType);\n    }\n\n    return domains;\n};\n\nexport const attachDataToVoronoi = (voronoi, points) => {\n    voronoi.data([].concat(...points).filter(d => d._id !== undefined).map((d) => {\n        const point = d.update;\n        return {\n            x: point.x,\n            y: point.y,\n            data: d\n        };\n    }));\n};\n\n/**\n *\n *\n * @param {*} target\n * @param {*} styles\n * @param {*} remove\n */\nexport const updateStyle = (target, styles, remove) => {\n    for (const key in styles) {\n        if ({}.hasOwnProperty.call(styles, key)) {\n            target.style(key, remove ? null : styles[key]);\n        }\n    }\n};\n\n/**\n *\n *\n * @param {*} mount\n * @param {*} context\n */\nexport const animateGroup = (mount, context) => {\n    let groupTransition;\n    let update;\n    const { transition, groupAnimateStyle } = context;\n    const { duration, effect, disabled } = transition;\n    if (groupAnimateStyle) {\n        setStyles(mount.node(), groupAnimateStyle.enter);\n        update = groupAnimateStyle.update;\n        if (!disabled) {\n            groupTransition = mount.transition()\n                .ease(easeFns[effect])\n                .duration(duration)\n                .on('end', function () {\n                    updateStyle(selectElement(this), update, true);\n                });\n        } else {\n            groupTransition = mount;\n        }\n        updateStyle(groupTransition, update);\n    }\n};\n\nexport const positionPoints = (context, points) => {\n    const positioner = context.encodingTransform();\n    if (positioner) {\n        return positioner(points, context, { smartLabel: context._dependencies.smartLabel });\n    }\n    return points;\n};\n\n/**\n  * Gets the width of each group. It gets the width from axis if it is available for\n  * example when the scale is nominal else it calculates the width from the\n  * range of the axis and number of data points.\n  *\n  * @param {SimpleAxis} axis instance of axis\n  * @param {number} minDiff Minimum difference between data points\n  * @return {number} width of each bar\n  * @private\n*/\nexport const getGroupSpan = (axis, minDiff) => {\n    let groupSpan;\n    const width = axis.getUnitWidth();\n    const scale = axis.scale();\n    const range = scale.range();\n    const domain = scale.domain();\n    !width ? groupSpan = (Math.abs(range[1] - range[0]) / Math.abs(domain[1] - domain[0])) * minDiff :\n        (groupSpan = width);\n\n    return groupSpan;\n};\n\nexport const getPlotMeasurement = (context, dimensionalValues) => {\n    const fieldInfo = context.encodingFieldsInf();\n    const axes = context.axes();\n    const transformType = context.transformType();\n    const config = context.config();\n    const bandScale = context._bandScale;\n\n    return ['x', 'y'].map((type) => {\n        let span = 0;\n        let groupSpan = 0;\n        let padding = 0;\n        let offsetValues = [];\n        if (fieldInfo[`${type}FieldType`] === FieldType.DIMENSION) {\n            let actualGroupWidth;\n            const isTemporal = fieldInfo[`${type}FieldSubType`] === DimensionSubtype.TEMPORAL;\n            const timeDiff = isTemporal ? context.dataProps().timeDiffs[type] : 0;\n            const axis = axes[type];\n            const pad = config[`pad${type.toUpperCase()}`];\n            const innerPadding = config.innerPadding;\n            const keys = dimensionalValues;\n            const scale = axis.scale();\n            groupSpan = getGroupSpan(axis, timeDiff);\n            const isAxisBandScale = axis.constructor.type() === BAND;\n            const axisPadding = axis.config().padding;\n            // If it is a grouped bar then the width of each bar in a grouping is retrieved from\n            // a band scale. The band scale will have range equal to width of one group of bars and\n            // the domain is set to series keys.\n            if (transformType === 'group') {\n                const groupPadding = isAxisBandScale ? 0 : axisPadding * groupSpan / 2;\n                bandScale.range([groupPadding, groupSpan - groupPadding]).domain(keys).paddingInner(innerPadding);\n                span = bandScale.bandwidth();\n                actualGroupWidth = groupSpan - (isAxisBandScale ? 0 : axisPadding * groupSpan);\n                offsetValues = keys.map(key => bandScale(key) - (isAxisBandScale ? 0 : (groupSpan / 2)));\n            } else if (pad !== undefined) {\n                let offset;\n                if (isAxisBandScale) {\n                    const step = scale.step();\n                    offset = scale.padding() * step;\n                    span = scale.bandwidth() + offset;\n                } else {\n                    span = groupSpan;\n                }\n                offsetValues = keys.map(() => (isAxisBandScale ? -(offset / 2) : -(span / 2)));\n            } else {\n                padding = isAxisBandScale ? 0 : axisPadding * groupSpan;\n                span = groupSpan - padding;\n                actualGroupWidth = span;\n                offsetValues = keys.map(() => (isAxisBandScale ? 0 : -(span / 2)));\n            }\n\n            groupSpan = actualGroupWidth;\n            padding = isAxisBandScale ? axisPadding * axis.scale().step() : axisPadding * groupSpan;\n        }\n\n        return {\n            span,\n            offsetValues,\n            groupSpan,\n            padding\n        };\n    });\n};\n\nexport const initializeGlobalState = (context) => {\n    const store = context.store();\n    const globalState = context.constructor.getState()[0];\n    const namespace = context.metaInf().namespace;\n    for (const prop in globalState) {\n        store.append(`${STATE_NAMESPACES.LAYER_GLOBAL_NAMESPACE}.${prop}`, {\n            [namespace]: null\n        });\n    }\n};\n"," import { AreaLayer } from './layers/area';\n import { ArcLayer } from './layers/arc';\n import { LineLayer } from './layers/line';\n import { TextLayer } from './layers/text';\n import { PointLayer } from './layers/point';\n import { BarLayer } from './layers/bar';\n import { TickLayer } from './layers/tick';\n import { SimpleLayer } from './simple-layer';\n import { BaseLayer } from './base-layer';\n import layerFactory from './layer-factory';\n import layerRegistry from './layer-registry';\n\n export {\n    BaseLayer,\n    BarLayer,\n    LineLayer,\n    AreaLayer,\n    PointLayer,\n    ArcLayer,\n    TextLayer,\n    TickLayer,\n    layerFactory,\n    SimpleLayer,\n    layerRegistry\n};\n","import layerFactory from './layer-factory';\n\nexport default layerFactory;\n","import { isSimpleObject, mergeRecursive, getObjProp } from 'muze-utils';\n\nconst parseLayerDefinition = (sink, definition, layerDef, layerType) => {\n    for (const key in definition) {\n        if (Object.hasOwnProperty.call(definition, key)) {\n            let strs;\n            let propValue;\n            const def = definition[key];\n            if (isSimpleObject(def)) {\n                sink[key] = {};\n                parseLayerDefinition(sink[key], def, layerDef, layerType);\n            } else if (typeof def === 'string' && (strs = def.split('.')) && strs[0] === layerType) {\n                propValue = getObjProp(layerDef, ...strs.slice(1, strs.length));\n                if (propValue !== undefined) {\n                    sink[key] = propValue;\n                }\n            } else {\n                sink[key] = def;\n            }\n        }\n    }\n};\n\nconst sanitizeEncoding = (encoding) => {\n    // Create object for each encoding value if encoding value is a string\n    for (const key in encoding) {\n        if (typeof encoding[key] === 'string') {\n            encoding[key] = {\n                field: encoding[key]\n            };\n        }\n    }\n};\n\n/**\n * Layer Factory creates layers based on the layer type. All types of layers needs to register in\n * the layer factory. For getting a layer instance, getLayer method needs to invoked with the\n * layerType and other arguments. It also registers the definition of composite layers.\n *\n * @public\n *\n * @module LayerFactory\n */\nconst layerFactory = (() => {\n    const compositeLayers = {};\n    const factoryObj = {\n        setLayerRegistry: (reg) => {\n            factoryObj._layerRegistry = reg;\n        },\n        getSerializedConf: (mark, layerDef) => {\n            let serializedDefs;\n            const defs = compositeLayers[mark];\n            const newConf = mergeRecursive({}, layerDef);\n\n                // If it is a composite layer then resolve all the definitions of each unit layer\n            if (defs) {\n                serializedDefs = defs.map((unitLayerDef) => {\n                    const sDef = {};\n                    parseLayerDefinition(sDef, unitLayerDef, newConf, mark);\n                    sanitizeEncoding(sDef.encoding);\n                    return sDef;\n                });\n            } else {\n                const encoding = newConf.encoding;\n                // Create object for each encoding value if encoding value is a string\n                sanitizeEncoding(encoding);\n                serializedDefs = newConf;\n            }\n\n            return serializedDefs;\n        },\n        getLayerInstance: (layerDef, ...params) => {\n            const layerRegistry = factoryObj._layerRegistry;\n            layerDef = !(layerDef instanceof Array) ? [layerDef] : layerDef;\n            const instances = layerDef.map((layerObj) => {\n                const layerConstructor = layerRegistry[layerObj.mark];\n                return layerConstructor.create(...params);\n            });\n            return instances.length === 1 ? instances[0] : instances;\n        },\n        getLayerClass: mark => factoryObj._layerRegistry[mark],\n        /**\n         * Registers a new composite layer definition in the layer factory.\n         *\n         * @public\n         *\n         * @param {string} layerType Mark type of the new composite layer.\n         * @param {Array} layerDefs Layer definitions of the composite layer.\n         */\n        composeLayers: (layerType, layerDefs) => {\n            compositeLayers[layerType] = layerDefs;\n        },\n        sanitizeLayerConfig: (layerDef) => {\n            const newConf = mergeRecursive({}, layerDef);\n            sanitizeEncoding(newConf.encoding);\n            return newConf;\n        }\n    };\n    return factoryObj;\n})();\n\nexport default layerFactory;\n","import { DEFAULT_LAYERS } from './defaults';\n\nexport default () => {\n    const reg = DEFAULT_LAYERS;\n    const regObj = {\n        set: (key, def) => {\n            reg[key] = def;\n            return regObj;\n        },\n        get: () => reg\n    };\n    return regObj;\n};\n","import { getObjProp, interpolator, FieldType, selectElement } from 'muze-utils';\nimport { ANGLE, RADIUS, SIZE, COLOR } from '../../enums/constants';\n\n/**\n * Returns the range value from a value inside the domain\n *\n * @param {Object} domainValue Value whose range has to be returned\n * @return {number} range value\n * @memberof ArcLayer\n */\nexport const getRangeValue = (datum, range, domain, defaultRadius, sizeAxis) => {\n    let domainMultiplier = 1;\n    const {\n        outerRadiusValue,\n        sizeVal\n    } = datum;\n    const sizeAxisDomain = sizeAxis.domain();\n    const sizeMultiplier = sizeAxis.getSize(sizeVal) / (sizeAxisDomain ? sizeAxis.range()[1] : sizeAxis.config().value);\n\n    domainMultiplier *= (range[1] - range[0]) / (domain[1] - domain[0]);\n    const rangeVal = (range[0] + (outerRadiusValue - domain[0]) * domainMultiplier);\n    return (rangeVal || defaultRadius) * sizeMultiplier;\n};\n\n/**\n *\n *\n * @memberof ArcLayer\n */\nexport const getRadiusRange = (width, height, config) => {\n    const {\n        minOuterRadius,\n        innerRadius,\n        outerRadius,\n        innerRadiusFixer\n    } = config;\n\n    return [Math.max((innerRadius + innerRadiusFixer || 0), minOuterRadius), outerRadius || Math.min(height,\n        width) / 2];\n};\nexport const getPreviousPoint = (prevData, currIndex, config) => {\n    const prevArc = prevData[currIndex - 1];\n    const nextArc = prevData[currIndex];\n\n    if (prevArc && nextArc) {\n        return {\n            startAngle: prevArc.endAngle,\n            endAngle: nextArc.startAngle\n        };\n    } else if (!nextArc) {\n        return {\n            startAngle: config.endAngle * Math.PI * 2 / 360,\n            endAngle: config.endAngle * Math.PI * 2 / 360\n        };\n    }\n    return {\n        startAngle: config.startAngle * Math.PI * 2 / 360,\n        endAngle: config.startAngle * Math.PI * 2 / 360\n    };\n};\n\n/**\n *\n *\n * @param {*} path\n * @param {*} b\n *\n * @memberof ArcLayer\n */\nexport const tweenPie = (path, rangeValueGetter, b) => {\n    const { datum } = b[0];\n    const outerRadius = rangeValueGetter(datum);\n    datum.outerRadius = outerRadius;\n    datum._previousInfo.outerRadius = datum._previousInfo.outerRadius || outerRadius;\n    return function (t) {\n        return path(interpolator()(datum._previousInfo, datum)(t));\n    };\n};\n\n/**\n *\n *\n * @param {*} path\n * @param {*} b\n *\n * @memberof ArcLayer\n */\nexport const tweenExitPie = (consecutiveExits, transition, rangeValueGetter, path) => {\n    if (consecutiveExits.length > 0) {\n        consecutiveExits.forEach((consecutiveExitArr) => {\n            const startAngle = consecutiveExitArr[0].datum.startAngle;\n            const endAngle = consecutiveExitArr[consecutiveExitArr.length - 1].datum.endAngle;\n            const mid = (Math.PI * 2 * startAngle) / ((Math.PI * 2) + startAngle - endAngle);\n\n            consecutiveExitArr.forEach((e) => {\n                const { elem, datum } = e;\n\n                elem.each(function () {\n                    const gElem = selectElement(this);\n                    gElem.selectAll('path')\n                                    .transition()\n                                    .duration(transition.duration)\n                                    .attrTween('d', () => function (t) {\n                                        const outerRadius = rangeValueGetter(datum);\n                                        datum.outerRadius = outerRadius;\n                                        return path(interpolator()(datum, {\n                                            startAngle: mid,\n                                            endAngle: mid,\n                                            outerRadius\n                                        })(t));\n                                    })\n                                    .remove();\n                    gElem.remove();\n                });\n            });\n        });\n    }\n};\n\nexport const getFieldIndices = (encoding, fieldsConfig) => {\n    const [angleField, radiusField, colorField, sizeField] = [ANGLE, RADIUS, COLOR, SIZE]\n            .map(e => encoding[e].field);\n    const [angleIndex, sizeIndex, radiusIndex] = [angleField, sizeField, radiusField]\n        .map((e) => {\n            const conf = fieldsConfig[e];\n            if (conf && conf.def.type === FieldType.MEASURE) {\n                return conf.index;\n            }\n            return null;\n        });\n    const colorIndex = getObjProp(fieldsConfig, colorField, 'index');\n    return {\n        angleIndex,\n        sizeIndex,\n        radiusIndex,\n        colorIndex\n    };\n};\n","import {\n    makeElement,\n    selectElement,\n    getQualifiedClassName,\n    isSimpleObject,\n    getDomainFromData,\n    Symbols,\n    FieldType,\n    ReservedFields\n} from 'muze-utils';\nimport { defaultConfig } from './default-config';\nimport { BaseLayer } from '../../base-layer';\nimport { ASCENDING, OUTER_RADIUS_VALUE } from '../../enums/constants';\nimport { getIndividualClassName } from '../../helpers';\nimport { getRangeValue, getRadiusRange, tweenPie, tweenExitPie, getFieldIndices, getPreviousPoint } from './arc-helper';\nimport './styles.scss';\n\nconst pie = Symbols.pie;\nconst arc = Symbols.arc;\n\n/**\n * Arc Layer creates a plot with polar coordinates.\n *\n * @public\n *\n * @class\n * @module ArcLayer\n * @extends BaseLayer\n */\nexport default class ArcLayer extends BaseLayer {\n\n    constructor (data, axes, config, dependencies) {\n        super(data, axes, config, dependencies);\n        this._prevPieData = {};\n    }\n\n    /**\n     * returns the default configuration of the layer\n     *\n     * @static\n     * @return {Object} Default configuration for arc layer\n     * @memberof ArcLayer\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof ArcLayer\n     */\n    static formalName () {\n        return 'arc';\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof ArcLayer\n     */\n    elemType () {\n        return 'path';\n    }\n\n    /**\n     * Transforms data in the appropriate data structure to be consumed by the layer for rendering\n     *\n     * @param {Object} data data model associated with the layer\n     * @param {Object} config configuration of the layer that contains encoding and other parameters\n     * @return {Object} Transformed pie data\n     * @memberof ArcLayer\n     */\n    getTransformedData (dataModel, config) {\n        let pieData = [];\n        const pieIndex = {};\n        const {\n            startAngle,\n            endAngle,\n            encoding,\n            sort,\n            minOuterRadius\n        } = config;\n        const prevData = this._transformedData || [];\n        const fieldsConfig = this.data().getFieldsConfig();\n        const {\n            angleIndex,\n            sizeIndex,\n            radiusIndex,\n            colorIndex\n        } = getFieldIndices(encoding, fieldsConfig);\n        const dataVal = dataModel.getData();\n        const data = dataVal.data;\n        const uids = dataVal.uids;\n\n        this._prevPieData = {};\n\n        prevData.forEach((e, index) => {\n            this._prevPieData[e.uid] = [e, index];\n            pieIndex[e.index] = e;\n        });\n        // Creating pie data using angle field provided. If the angle field is a dimension,\n        // all the angles will be equal(360/number of dimensions)\n\n        pieData = pie()\n            .startAngle((startAngle / 180) * Math.PI)\n            .endAngle(Math.PI * endAngle / 180)\n            .value(d => d[angleIndex] || 1)\n            .sortValues(null);\n\n        sort.length && radiusIndex && pieData.sort((a, b) => {\n            if (sort === ASCENDING) {\n                return a[radiusIndex] - b[radiusIndex];\n            } return b[radiusIndex] - a[radiusIndex];\n        });\n        const sizeVal = data.reduce((acc, d) => acc + (d[sizeIndex] || 0), 1);\n\n        // Adding the radius field values to each data point in pie data\n        pieData = pieData(data).map((d, i) => {\n            d.outerRadiusValue = data[i][radiusIndex] || minOuterRadius;\n            d.innerRadius = config.innerRadius;\n            d.colorVal = data[i][colorIndex];\n            d.angleVal = data[i][angleIndex];\n            d.sizeVal = sizeVal;\n            d.uid = uids[i];\n            d.rowId = d.uid;\n            d.source = data[i];\n            d._previousInfo = this._prevPieData[d.uid] ? this._prevPieData[d.uid][0] :\n                getPreviousPoint(pieIndex, d.index, config);\n            return d;\n        });\n        return pieData;\n    }\n\n    /**\n     * Returns normalized data after transformation (it is the same in the case of pie layer)\n     *\n     * @param {Object} data transformed data\n     * @return {Object} normalized data\n     * @memberof ArcLayer\n     */\n    getNormalizedData (data) {\n        return data;\n    }\n\n    /**\n     *\n     *\n     * @param {Object} data\n     * @return {}\n     * @memberof ArcLayer\n     */\n    calculateDomainFromData (data) {\n        const domainKey = OUTER_RADIUS_VALUE;\n        return {\n            radius: getDomainFromData([data], [domainKey, domainKey])\n        };\n    }\n\n    /**\n     *\n     *\n     * @param {Object} x\n     * @param {Object} y\n     * @return {}\n     * @memberof ArcLayer\n     */\n    getNearestPoint (x, y, config = {}) {\n        const dataPoint = selectElement(config.event.target).data()[0];\n        if (isSimpleObject(dataPoint)) {\n            const { data, uid } = dataPoint.datum;\n            return {\n                id: this.getIdentifiersFromData(data, uid),\n                layerId: this.id()\n            };\n        }\n        return null;\n    }\n\n    /**\n     *\n     *\n     * @param {*} set\n     *\n     * @memberof ArcLayer\n     */\n    getPlotElementsFromSet (set) {\n        return selectElement(this.mount()).selectAll(this.elemType()).filter(d => set.indexOf(d.datum.uid) !== -1);\n    }\n\n    /**\n     *\n     *\n     * @param {Object} container\n     * @return {}\n     * @memberof ArcLayer\n     */\n    render (container) {\n        const {\n            height,\n            width\n        } = this.measurement();\n        const {\n            classPrefix,\n            defClassName,\n            minOuterRadius,\n            innerRadius,\n            outerRadius,\n            cornerRadius,\n            padAngle,\n            padRadius,\n            padding,\n            transition,\n            innerRadiusFixer\n       } = this.config();\n        const sizeAxis = this.axes().size;\n        const transformedData = this._transformedData;\n        const chartHeight = height - padding.top - padding.bottom;\n        const chartWidth = width - padding.left - padding.right;\n        const qualClassName = getQualifiedClassName(defClassName, this.id(), classPrefix);\n        // Sets range for radius\n        const range = getRadiusRange(chartWidth, chartHeight, {\n            minOuterRadius,\n            innerRadius,\n            outerRadius,\n            innerRadiusFixer\n        });\n        const colorAxis = this.axes().color;\n        const defaultRadius = outerRadius || Math.min(chartHeight, chartWidth) / 2;\n        const radiusDomain = this.domain().radius;\n        const rangeValueGetter = d => getRangeValue(d, range, radiusDomain, defaultRadius, sizeAxis);\n        // This returns a function that generates the arc path based on the datum provided\n        const path = arc()\n                // .outerRadius(d => rangeValueGetter(d))\n                .innerRadius(innerRadius ? Math.min(chartHeight / 2, chartWidth / 2, innerRadius) : 0)\n                .cornerRadius(cornerRadius)\n                .padAngle(padAngle)\n                .padRadius(padRadius);\n        this._chartWidth = chartWidth;\n        this._chartHeight = chartHeight;\n        // Creating the group that holds all the arcs\n        const g = makeElement(selectElement(container), 'g', [1], `${qualClassName[0]}-group`)\n                .classed(`${qualClassName[1]}-group`, true)\n                .attr('transform', `translate(${chartWidth / 2},${chartHeight / 2})`);\n        const tween = (elem) => {\n            makeElement(elem, 'path', (d, i) => [{\n                datum: d,\n                index: i,\n                arcFn: path,\n                meta: {\n                    originalColor: colorAxis.getRawColor(d.colorVal),\n                    stateColor: {},\n                    colorTransform: {}\n                }\n            }], `${qualClassName[0]}-path`)\n                            .style('fill', d => colorAxis.getColor(d.datum.colorVal))\n                            .transition()\n                            .duration(transition.duration)\n                            .attrTween('d', (...params) => tweenPie(path, rangeValueGetter, params))\n                            .attr('class', (d, i) => {\n                                const individualClass = getIndividualClassName(d, i, transformedData, this);\n                                return `${qualClassName[0]}-path ${qualClassName[1]}-path-${d.index}\n                                    ${individualClass}`;\n                            });\n        };\n        const consecutiveExits = [];\n        let exitCounter = 0;\n        const tweenExit = (elem, d) => {\n            let exitArr = consecutiveExits[exitCounter];\n            const oldExitCounter = exitCounter;\n            if (!exitArr) {\n                exitArr = [{ elem, datum: d }];\n            } else if (exitArr[exitArr.length - 1].datum.index === d.index - 1) {\n                exitArr.push({ elem, datum: d });\n            } else {\n                exitCounter++;\n            }\n            consecutiveExits[oldExitCounter] = exitArr;\n        };\n        // Creating groups for all the arcs present individually\n        makeElement(g, 'g', transformedData, `${qualClassName[0]}`,\n            {\n                update: tween,\n                exit: tweenExit\n            })\n                        .attr('class', (d, i) => `${qualClassName[0]} ${qualClassName[1]}-${i}`);\n        tweenExitPie(consecutiveExits, transition, rangeValueGetter, path);\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} identifiers\n     *\n     * @memberof BaseLayer\n     */\n    getPointsFromIdentifiers (identifiers) {\n        if (!this.data()) {\n            return [];\n        }\n        const fieldNames = identifiers[0];\n        const values = identifiers.slice(1, identifiers.length);\n        const pieSlices = selectElement(this.mount()).selectAll('path').data();\n        const fieldsConfig = this.data().getFieldsConfig();\n\n        const filteredPies = pieSlices.filter((tData) => {\n            const data = tData.datum.data;\n            const uid = tData.datum.uid;\n            return fieldNames.every((field, idx) => {\n                if (field in fieldsConfig && fieldsConfig[field].def.type === FieldType.DIMENSION) {\n                    return values.findIndex(d => d[idx] === data[fieldsConfig[field].index]) !== -1;\n                } else if (field === ReservedFields.ROW_ID) {\n                    return values.findIndex(d => d[idx] === uid) !== -1;\n                } return true;\n            });\n        });\n\n        const pieSliceInf = filteredPies[0];\n        if (pieSliceInf) {\n            const centroid = pieSliceInf.arcFn.centroid(pieSliceInf.datum);\n            return [{\n                x: centroid[0] + this._chartWidth / 2,\n                y: centroid[1] + this._chartHeight / 2,\n                width: 2,\n                height: 2\n            }];\n        }\n        return [];\n    }\n}\n\n","import { CLASSPREFIX } from '../../enums/constants';\n\nexport const defaultConfig = {\n    classPrefix: CLASSPREFIX,\n    defClassName: 'layer-arc',\n    padding: { top: 1, bottom: 1, left: 1, right: 1 },\n    className: '',\n    minOuterRadius: 10,\n    interaction: {\n        highlight: [{\n            type: 'fill',\n            intensity: [0, 0, -15, 0]\n        }],\n        fade: [{\n            type: 'fill',\n            intensity: [0, 0, +15, 0]\n        }],\n        focus: [{\n            type: 'fill',\n            intensity: [0, 0, +15, 0]\n        }]\n    },\n    height: 100,\n    width: 100,\n    sort: '',\n    cornerRadius: 0,\n    padAngle: 0,\n    padRadius: 0,\n    startAngle: 0,\n    endAngle: 360,\n    colors: ['#F44336', 'blue', 'green', 'yellow', 'orange', 'purple'],\n    transform: {\n        type: 'identity'\n    },\n    encoding: {\n        'stroke-width': {\n            value: '2px'\n        },\n        'stroke-linejoin': {\n            value: 'round'\n        },\n        angle: {\n            value: '1'\n        },\n        radius: {\n            value: '1'\n        },\n        opacity: {\n            value: '1'\n        },\n        color: {\n            value: '1'\n        },\n        shape: {\n            value: '1'\n        },\n        size: {\n            value: '1'\n        }\n    },\n    innerRadiusFixer: 10,\n    transition: {\n        effect: 'cubic',\n        duration: 500\n    },\n    states: {\n        highlight: {\n            className: `${CLASSPREFIX}-layer-arc-highlight`\n        },\n        fadeout: {\n            className: `${CLASSPREFIX}-layer-arc-fadeout`\n        },\n        selected: {\n            className: `${CLASSPREFIX}-layer-arc-selected`\n        }\n    }\n};\n\n","export { default as ArcLayer } from './arc';\n","// extracted by mini-css-extract-plugin","import { FieldType } from 'muze-utils';\nimport { defaultConfig } from './default-config';\nimport { LineLayer } from '../line';\nimport drawArea from './renderer';\nimport './styles.scss';\nimport { STACK, ENCODING } from '../../enums/constants';\nimport { getAxesScales, positionPoints, getLayerColor, getIndividualClassName } from '../../helpers';\n\n/**\n * Area layer renders a closed path. The mark type of this layer is ```area```. This layer can be used\n * to create stacked or multi-series areas and vertical range area plots by using the encoding properties.\n *\n * To create this layer using layer configuration from canvas,\n * ```\n *      canvas.layers([{\n *          mark: 'area',\n *          transform: {\n *              type: 'stack' // Produces a stacked area.\n *          }\n *      }]);\n * ```\n *\n * @public\n *\n * @class\n * @module AreaLayer\n * @extends LineLayer\n */\nexport default class AreaLayer extends LineLayer {\n    /** oation of line layer\n     * @return {Object} Default configuration of layer\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof AreaLayer\n     */\n    static formalName () {\n        return 'area';\n    }\n\n    /**\n     * Calculates the domain from data. It calls its parent class's method which is line layer\n     * to get the domain and overwrites the domain according to its need.\n     * @return {Array} Domain values\n     */\n    calculateDomainFromData (data, encodingFieldsInf, fieldsConfig) {\n        const domains = super.calculateDomainFromData(data, fieldsConfig);\n        [ENCODING.X, ENCODING.Y].forEach((type) => {\n            const { [`${type}FieldType`]: fieldType } = encodingFieldsInf;\n            if (fieldType === FieldType.MEASURE && domains[type] !== undefined) {\n                domains[type][0] = Math.min(domains[type][0], 0);\n            }\n        });\n        return domains;\n    }\n\n    /**\n     * Returns the drawing method of this layer\n     * @return {Function} Draw method\n     */\n    getDrawFn () {\n        return drawArea;\n    }\n\n    /**\n     * Generates the x and y positions for each point\n     * @param {Array} data Data Array\n     * @param {Object} encoding Visual Encodings of the layer\n     * @param {Object} axes Contains the axis\n     * @return {Array} Array of points\n     */\n    translatePoints (data, encodingFieldsInf, axes) {\n        let points = [];\n        const transformType = this.transformType();\n        const colorAxis = axes.color;\n        const config = this.config();\n        const encoding = config.encoding;\n        const colorEncoding = encoding.color;\n        const colorField = colorEncoding.field;\n        const fieldsConfig = this.data().getFieldsConfig();\n        const colorFieldIndex = colorField && fieldsConfig[colorField].index;\n        const { xField, yField, y0Field } = encodingFieldsInf;\n        const {\n            xAxis,\n            yAxis\n       } = getAxesScales(axes);\n        const classNameFn = config.individualClassName;\n        const isXDim = fieldsConfig[xField] && fieldsConfig[xField].def.type === FieldType.DIMENSION;\n        const isYDim = fieldsConfig[yField] && fieldsConfig[yField].def.type === FieldType.DIMENSION;\n        const key = isXDim ? 'x' : (isYDim ? 'y' : null);\n        points = data.map((d, i) => {\n            const xPx = xAxis.getScaleValue(d.x) + xAxis.getUnitWidth() / 2;\n            const yPx = yAxis.getScaleValue(d.y);\n            const y0Px = (y0Field || transformType === STACK) ? yAxis.getScaleValue(d.y0) : yAxis.getScaleValue(0);\n            const { color, rawColor } = getLayerColor({ datum: d, index: i }, {\n                colorEncoding, colorAxis, colorFieldIndex });\n            const style = {};\n            const meta = {};\n            style.fill = color;\n            // style['fill-opacity'] = 0;\n            meta.stateColor = {};\n            meta.originalColor = rawColor;\n            meta.colorTransform = {};\n            const point = {\n                enter: {\n                    x: xPx,\n                    y: d.y === null ? d.y : yAxis.getScaleValue(0),\n                    y0: d.y0 === null ? d.y0 : yAxis.getScaleValue(0)\n                },\n                update: {\n                    x: xPx,\n                    y: d.y === null ? d.y : yPx,\n                    y0: d.y0 === null ? d.y0 : y0Px\n                },\n                _id: d._id,\n                _data: d._data,\n                source: d._data,\n                rowId: d._id,\n                className: classNameFn ? classNameFn(d, i, data, this) : '',\n                style,\n                meta\n            };\n            point.className = getIndividualClassName(d, i, data, this);\n            this.cachePoint(d[key], point);\n            return point;\n        });\n        points = positionPoints(this, points);\n        return points;\n    }\n\n    /**\n     * Get the css styles need to be applied on the line path\n     * @param {string} color Color value\n     * @return {Object} Path styles\n     */\n    getPathStyle (color) {\n        return {\n            fill: color\n        };\n    }\n}\n\n","import { CLASSPREFIX, STACK } from '../../enums/constants';\n\nexport const defaultConfig = {\n    classPrefix: CLASSPREFIX,\n    defClassName: 'layer-area',\n    className: '',\n    interpolate: 'linear',\n    transform: {\n        type: STACK\n    },\n    interaction: {\n\n    },\n    nearestPointThreshold: 10,\n    encoding: {\n        color: {},\n        x: {},\n        y: {},\n        y0: {},\n        strokeOpacity: {\n            value: 1\n        }\n    },\n    transition: {\n        effect: 'cubic',\n        duration: 1000\n    },\n    connectNullData: false\n};\n","export { default as AreaLayer } from './area';\n","import {\n    easeFns,\n    selectElement,\n    pathInterpolators,\n    Symbols\n} from 'muze-utils';\n\nconst area = Symbols.area;\n/**\n * Draws a line from the points\n * Generates a svg path string\n * @param {Object} params Contains container, points and interpolate attribute.\n */\nconst /* istanbul ignore next */ drawArea = (params) => {\n    let filteredPoints;\n    const { container, points, style, transition, className, connectNullData, interpolate } = params;\n\n    const { effect: easeEffect, duration } = transition;\n    const mount = selectElement(container);\n    const curveInterpolatorFn = pathInterpolators[interpolate];\n    const selection = mount.selectAll('path').data([params.points]);\n    const [enterAreaPath, updateAreaPath] = ['enter', 'update'].map(e => area().curve(curveInterpolatorFn)\n                    .x(d => d[e].x)\n                    .y1(d => d[e].y)\n                    .y0(d => d[e].y0)\n                    .defined(d => d[e].y !== null\n            ));\n\n    filteredPoints = points;\n    mount.attr('class', className);\n    if (connectNullData) {\n        filteredPoints = points.filter(d => d.update.y !== null);\n    }\n    const selectionEnter = selection.enter().append('path').attr('d', enterAreaPath(filteredPoints));\n    selection.merge(selectionEnter).transition().ease(easeFns[easeEffect])\n                    .duration(duration)\n                    .attr('d', updateAreaPath(filteredPoints))\n                    .each(function (d) {\n                        const element = selectElement(this);\n\n                        element.classed(d[0].className, true);\n                        Object.keys(style).forEach(key => element.style(key, style[key]));\n                    });\n};\n\nexport default drawArea;\n","// extracted by mini-css-extract-plugin","import { MeasureSubtype, DimensionSubtype } from 'muze-utils';\nimport * as PROPS from '../../enums/props';\nimport { STACK } from '../../enums/constants';\nimport { getLayerColor, positionPoints, getIndividualClassName } from '../../helpers';\n\n/**\n *\n *\n * @param {*} type\n * @param {*} fieldInfo\n * @param {*} config\n * @param {*} data\n *\n */\nconst resolveDimByField = (type, axesInfo, config, data) => {\n    const spaceType = type === 'x' ? 'width' : 'height';\n    const [fieldType, axis] = [config[`${type}FieldType`], axesInfo[`${type}Axis`]];\n    const {\n        transformType,\n        sizeEncoding,\n        sizeConfig,\n        measurement\n    } = config;\n\n    const sizeValue = sizeEncoding.value;\n    let enter = 0;\n    let pos;\n    let space = 0;\n    let enterSpace = 0;\n    if (fieldType !== undefined) {\n        if (config[`${type}0Field`]) {\n            const minVal = data[type];\n            const maxVal = data[`${type}0`];\n            let min;\n            let max;\n            if (minVal === null || maxVal === null) {\n                return {\n                    enterSpace: undefined,\n                    enter: undefined,\n                    pos: undefined,\n                    space: undefined\n                };\n            } else if (fieldType === MeasureSubtype.CONTINUOUS || fieldType === DimensionSubtype.TEMPORAL) {\n                min = Math.min(minVal, maxVal);\n                max = Math.max(minVal, maxVal);\n            } else {\n                min = minVal;\n                max = maxVal;\n            }\n            const scales = type === 'x' ? [min, max] : [max, min];\n            pos = axis.getScaleValue(scales[0]) + axis.getUnitWidth() / 2;\n            space = Math.abs(axis.getScaleValue(scales[1]) - pos) + axis.getUnitWidth() / 2;\n\n            enter = pos;\n            enterSpace = 0;\n        } else if (fieldType === DimensionSubtype.CATEGORICAL || fieldType === DimensionSubtype.TEMPORAL) {\n            pos = axis.getScaleValue(data[type]) +\n                (sizeConfig[type === 'x' ? 'barWidthOffset' : 'barHeightOffset'] || 0);\n\n            space = sizeConfig[type === 'x' ? 'barWidth' : 'barHeight'];\n            if (sizeValue !== undefined) {\n                const diffPx = sizeValue * space;\n                space -= diffPx;\n                pos += diffPx / 2;\n            }\n            enter = pos;\n            enterSpace = space;\n        } else {\n            const zeroPos = axis.getScaleValue(0);\n            const axisType = axis.getScaleValue(data[type]);\n            const axisType0 = axis.getScaleValue(data[`${type}0`]);\n\n            enterSpace = 0;\n            if (type === 'x') {\n                pos = data[type] < 0 || transformType === STACK ? axisType : zeroPos;\n                space = Math.abs(pos - (transformType === STACK ? axisType0 : (data[type] >= 0 ? axisType : zeroPos)));\n            } else {\n                pos = transformType === STACK || data[type] >= 0 ? axisType : zeroPos;\n                space = Math.abs(pos - (transformType === STACK ? axisType0 : (data[type] >= 0 ? zeroPos : axisType)));\n            }\n            enter = zeroPos;\n        }\n    } else {\n        pos = 0;\n        space = measurement[spaceType];\n    }\n\n    return {\n        enterSpace,\n        enter,\n        pos,\n        space\n    };\n};\n\n/**\n *\n *\n * @param {*} data\n * @param {*} config\n * @param {*} axes\n *\n */\nconst resolveDimensions = (data, config, axes) => {\n    const axesInfo = {\n        xAxis: axes.x,\n        yAxis: axes.y\n    };\n    const {\n        enterSpace: enterWidth,\n        enter: enterX,\n        pos: xPos,\n        space: width\n    } = resolveDimByField('x', axesInfo, config, data);\n\n    const {\n        enterSpace: enterHeight,\n        enter: enterY,\n        pos: yPos,\n        space: height\n    } = resolveDimByField('y', axesInfo, config, data);\n    return {\n        enter: {\n            x: enterX,\n            y: enterY,\n            width: enterWidth,\n            height: enterHeight\n        },\n        update: {\n            x: xPos,\n            y: yPos,\n            width,\n            height\n        }\n    };\n};\n\n/**\n * Generates an array of objects containing x, y, width and height of the bars from the data\n * @param  {Array.<Array>} data Data Array\n * @param  {Object} encoding  Config\n * @param  {Object} axes     Axes object\n * @param {Object} conf config object for point generation\n * @return {Array.<Object>}  Array of points\n */\nexport const getTranslatedPoints = (context, data, sizeConfig) => {\n    let points = [];\n    const encoding = context.config().encoding;\n    const axes = context.axes();\n    const colorAxis = axes.color;\n    const fieldsConfig = context.data().getFieldsConfig();\n    const colorEncoding = encoding.color;\n    const colorField = colorEncoding.field;\n    const sizeEncoding = encoding.size || {};\n    const {\n            x0Field,\n            y0Field,\n            xFieldSubType,\n            yFieldSubType\n        } = context.encodingFieldsInf();\n    const measurement = context._store.get(PROPS.MEASUREMENT);\n    const isXDim = xFieldSubType === DimensionSubtype.CATEGORICAL || xFieldSubType === DimensionSubtype.TEMPORAL;\n    const isYDim = yFieldSubType === DimensionSubtype.CATEGORICAL || yFieldSubType === DimensionSubtype.TEMPORAL;\n    const key = isXDim ? 'x' : (isYDim ? 'y' : null);\n    const transformType = context.transformType();\n    const colorFieldIndex = colorField && fieldsConfig[colorField] && fieldsConfig[colorField].index;\n\n    for (let i = 0, len = data.length; i < len; i++) {\n        const d = data[i];\n        const style = {};\n        const meta = {};\n        const dimensions = resolveDimensions(d, {\n            xFieldType: xFieldSubType,\n            yFieldType: yFieldSubType,\n            x0Field,\n            y0Field,\n            transformType,\n            measurement,\n            sizeConfig,\n            sizeEncoding\n        }, axes);\n\n        const { color, rawColor } = getLayerColor({ datum: d, index: i },\n            { colorEncoding, colorAxis, colorFieldIndex });\n\n        style.fill = color;\n        meta.stateColor = {};\n        meta.originalColor = rawColor;\n        meta.colorTransform = {};\n\n        const update = dimensions.update;\n\n        if (!isNaN(update.x) && !isNaN(update.y) && d._id !== undefined) {\n            let point = null;\n            point = {\n                enter: dimensions.enter,\n                update,\n                style,\n                _data: d._data,\n                _id: d._id,\n                source: d._data,\n                rowId: d._id,\n                meta\n            };\n            point.className = getIndividualClassName(d, i, data, context);\n            points.push(point);\n            // Store each point in a hashmap with key as the dimensional or temporal field value\n            context.cachePoint(d[key], point);\n        }\n    }\n\n    points = positionPoints(context, points);\n    return points;\n};\n","import {\n    getClosestIndexOf,\n    getQualifiedClassName,\n    selectElement,\n    createElements,\n    clipElement,\n    DimensionSubtype,\n    FieldType,\n    MeasureSubtype,\n    Scales\n} from 'muze-utils';\nimport { BaseLayer } from '../../base-layer';\nimport { drawRects } from './renderer';\nimport { defaultConfig } from './default-config';\nimport { getPlotMeasurement } from '../../helpers';\nimport './styles.scss';\nimport { getTranslatedPoints } from './bar-helper';\n\nconst MEASURE = FieldType.MEASURE;\nconst scaleBand = Scales.band;\n\n/**\n * Bar layer creates rectangle marks. The mark type of this layer is ```bar```. This layer can be used\n * to create stacked or grouped bars, range bars, heatmap plots and also reference bands by using\n * the encoding properties.\n *\n * @public\n *\n * @class\n * @module BarLayer\n * @extends BaseLayer\n */\nexport default class BarLayer extends BaseLayer {\n    /**\n     * Creates an instance of bar layer\n     */\n    constructor (...params) {\n        super(...params);\n        this._bandScale = scaleBand();\n        this._plotPadding = {\n            x: 0,\n            y: 0\n        };\n        this._plotSpan = {\n            x: 0,\n            y: 0\n        };\n        this._pointMap = {};\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof BarLayer\n     */\n    elemType () {\n        return 'rect';\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof BarLayer\n     */\n    static formalName () {\n        return 'bar';\n    }\n\n    /**\n     * Returns the default configuration of the bar layer\n     * @return {Object} Default configuration of the bar layer\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    /**\n     *\n     *\n     * @static\n     * @param {*} conf\n     * @param {*} userConf\n     *\n     * @memberof BarLayer\n     */\n    static defaultPolicy (conf, userConf) {\n        const config = BaseLayer.defaultPolicy(conf, userConf);\n        const encoding = config.encoding;\n        const colorField = encoding.color.field;\n        const transform = config.transform;\n\n        if (colorField) {\n            transform.groupBy = colorField;\n        }\n        return config;\n    }\n\n    /**\n     *\n     *\n     * @param {*} data\n     * @param {*} fieldsConfig\n     *\n     * @memberof BarLayer\n     */\n    calculateDomainFromData (data, encodingFieldInf, fieldsConfig) {\n        const domain = super.calculateDomainFromData(data, encodingFieldInf, fieldsConfig);\n        ['x', 'y'].forEach((d) => {\n            if (encodingFieldInf[`${d}FieldType`] === MEASURE && domain[d]) {\n                encodingFieldInf[`${d}0Field}`] ? domain[d] = domain[d].sort((a, b) => a - b) :\n                    (domain[d][0] = Math.min(domain[d][0], 0));\n            }\n        });\n        return domain;\n    }\n\n    /**\n     * Generates an array of objects containing x, y, width and height of the bars from the data\n     * @param  {Array.<Array>} data Data Array\n     * @param  {Object} encoding  Config\n     * @param  {Object} axes     Axes object\n     * @param {Object} conf config object for point generation\n     * @return {Array.<Object>}  Array of points\n     */\n    translatePoints (data, sizeConfig) {\n        return getTranslatedPoints(this, data, sizeConfig);\n    }\n\n    /**\n     * Renders the plot in the given container\n     * @param  {SVGGroup} container SVGGroup where plot will be rendered.\n     * @return {BarLayer} Instance of bar layer.\n     */\n    render (container) {\n        const config = this.config();\n        const transition = config.transition;\n        const normalizedDataArr = this._normalizedData;\n        const transformedData = this._transformedData;\n        const keys = transformedData.map(d => d.key);\n        const fieldsConfig = this.data().getFieldsConfig();\n        const axes = this.axes();\n        const height = axes.y && axes.y.scale().range()[0];\n        const width = axes.x && axes.x.scale().range()[1];\n        const defClassName = config.defClassName;\n        const qualifiedClassName = getQualifiedClassName(defClassName, this.id(), config.classPrefix);\n        const className = config.className;\n        const containerSelection = selectElement(container);\n        const dimensions = Object.values(fieldsConfig).filter(e => e.def.type === FieldType.DIMENSION)\n            .map(e => e.index);\n        containerSelection.classed(qualifiedClassName.join(' '), true);\n        containerSelection.classed(className, true);\n        clipElement(container, {\n            x: 0,\n            y: 0,\n            width,\n            height\n        }, `id-${this.id()}`);\n\n        this._points = this.generateDataPoints(normalizedDataArr, keys);\n\n        createElements({\n            data: this._points,\n            container,\n            selector: 'g',\n            append: 'g',\n            each: (points, group, i) => {\n                const seriesClassName = `${qualifiedClassName[0]}-${keys[i] || i}`.toLowerCase();\n                group.style('display', 'block');\n                drawRects({\n                    container: group.node(),\n                    points,\n                    className: seriesClassName,\n                    transition,\n                    style: {},\n                    keyFn: d => dimensions.map(key => d._data[key]).join('-')\n                });\n            }\n        });\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} normalizedData\n     * @param {*} keys\n     *\n     * @memberof BarLayer\n     */\n    generateDataPoints (normalizedData, keys) {\n        const [barWidthMetrics, barHeightMetrics] = getPlotMeasurement(this, keys);\n        const barWidthOffsets = barWidthMetrics.offsetValues || [];\n        const barHeightOffsets = barHeightMetrics.offsetValues || [];\n        this._plotSpan = {\n            x: barWidthMetrics.groupSpan || 0,\n            y: barHeightMetrics.groupSpan || 0\n        };\n        this._plotPadding = {\n            x: barWidthMetrics.padding || 0,\n            y: barHeightMetrics.padding || 0\n        };\n\n        this._pointMap = {};\n        return normalizedData.map((data, i) => this.translatePoints(data,\n            {\n                barWidth: barWidthMetrics.span,\n                barWidthOffset: barWidthOffsets[i] || 0,\n                barHeight: barHeightMetrics.span,\n                barHeightOffset: barHeightOffsets[i] || 0\n            }));\n    }\n\n    getPlotPadding () {\n        return this._plotPadding;\n    }\n\n    /**\n     * Gets the nearest point of the position passed.\n     * @param {number} x x position\n     * @param {number} y y position\n     * @return {Object} Nearest point.\n     */\n    getNearestPoint (x, y) {\n        if (!this.data()) {\n            return null;\n        }\n        let axis;\n        let value;\n        let index;\n        let points;\n        let uniqueFieldType;\n        let uniqueFieldIndex;\n        let filterData;\n        let identifiers;\n        let pointFound = null;\n        const dataModel = this.data();\n        const dataObj = dataModel.getData();\n        const fieldsConfig = dataModel.getFieldsConfig();\n        const axes = this.axes();\n        const data = dataObj.data;\n        const pointMap = this._pointMap;\n        const {\n                xField,\n                yField,\n                xFieldSubType,\n                yFieldSubType\n            } = this.encodingFieldsInf();\n\n        if (xFieldSubType === MeasureSubtype.CONTINUOUS) {\n            axis = axes.y;\n            value = axis.invert(y);\n            uniqueFieldIndex = fieldsConfig[yField].index;\n            uniqueFieldType = yFieldSubType;\n        } else {\n            axis = axes.x;\n            value = axis.invert(x);\n            uniqueFieldIndex = fieldsConfig[xField].index;\n            uniqueFieldType = xFieldSubType;\n        }\n\n        if (uniqueFieldType === DimensionSubtype.CATEGORICAL) {\n            points = pointMap[value];\n        }\n\n        if (uniqueFieldType === DimensionSubtype.TEMPORAL) {\n            filterData = [...new Set(data.map(d => d[uniqueFieldIndex]))];\n            index = getClosestIndexOf(filterData, value);\n            value = filterData[index];\n            points = pointMap[value];\n        }\n        const len = points && points.length;\n        points && points.sort((p1, p2) => p1.update.y - p2.update.y);\n        for (let i = 0; i < len; i++) {\n            const point = points[i];\n            const update = point.update;\n            if (x >= update.x && x <= (update.width + update.x) && y >= update.y && y <= (update.height + update.y)) {\n                pointFound = point;\n                break;\n            }\n            pointFound = null;\n        }\n\n        const values = pointFound && pointFound._data;\n        if (values) {\n            identifiers = this.getIdentifiersFromData(values, pointFound._id);\n        }\n        return pointFound ? {\n            dimensions: [pointFound.update],\n            id: identifiers,\n            layerId: this.id()\n        } : pointFound;\n    }\n\n    getPlotSpan () {\n        return this._plotSpan;\n    }\n}\n","import { CLASSPREFIX } from '../../enums/constants';\n\nexport const defaultConfig = {\n    classPrefix: CLASSPREFIX,\n    defClassName: 'layer-bar',\n    className: '',\n    interaction: {\n        highlight: [{\n            type: 'fill',\n            intensity: [0, 0, -15, 0]\n        }],\n        fade: [{\n            type: 'fill',\n            intensity: [0, 0, +15, 0]\n        }],\n        focus: [{\n            type: 'fill',\n            intensity: [0, 0, +15, 0]\n        }]\n    },\n    transform: {\n        type: 'stack'\n    },\n    transition: {\n        effect: 'cubic',\n        duration: 1000\n    },\n    innerPadding: 0.1,\n    encoding: {\n        color: {},\n        x: {},\n        y: {},\n        x0: {},\n        y0: {}\n    },\n    states: {\n        highlight: {\n            className: `${CLASSPREFIX}-layer-bar-highlight`\n        },\n        fadeout: {\n            className: `${CLASSPREFIX}-layer-bar-fadeout`\n        },\n        selected: {\n            className: `${CLASSPREFIX}-layer-bar-selected`\n        }\n    }\n};\n\n","export { default as BarLayer } from './bar';\n","import { makeElement, easeFns } from 'muze-utils';\n\n/**\n *\n *\n * @param {*} elem\n * @param {*} datum\n * @param {*} index\n * @param {*} context\n */\nconst transitionBars = (elem, datum, index, context) => {\n    const { transition } = context;\n    const { duration, disabled, effect } = transition;\n    const selection = elem;\n    const selTransition = disabled ? selection : selection.transition().duration(duration).ease(easeFns[effect]);\n    const update = datum.update || datum;\n    const updateStyle = datum.style || {};\n    datum.className && selection.classed(datum.className, true);\n    Object.entries(update).forEach(attr => (!isNaN(attr[1]) && selTransition.attr(attr[0], attr[1])));\n    Object.entries(updateStyle).forEach(styleObj => selection.style(styleObj[0], styleObj[1]));\n};\n\n/**\n *\n *\n * @param {*} elem\n * @param {*} d\n */\nconst barEnterFn = (elem, d) => {\n    const selection = elem;\n    const enter = d.enter || {};\n    Object.entries(enter).forEach(attr => (!isNaN(attr[1]) && selection.attr(attr[0], attr[1])));\n};\n\n/**\n * Draws rectangles by using d3 selection\n * @param  {Object} params Contains container element and points\n * @return {Selection} Bar Selection\n */\n/* istanbul ignore next */ export const drawRects = (params) => {\n    const { points, container, keyFn } = params;\n    const updateFns = {\n        enter (elem, d) { barEnterFn(elem, d); },\n        update (elem, d, i) { transitionBars(elem, d, i, params); }\n    };\n    return makeElement(container, 'rect', points, null, updateFns, keyFn);\n};\n","// extracted by mini-css-extract-plugin","import { CLASSPREFIX } from '../../enums/constants';\n\nexport const defaultConfig = {\n    classPrefix: CLASSPREFIX,\n    defClassName: 'layer-line',\n    className: '',\n    interpolate: 'linear',\n    transform: {\n        type: 'group'\n    },\n    interaction: {\n        highlight: [{\n            type: 'stroke',\n            intensity: [0, 0, -15, 0]\n        }],\n        fade: [{\n            type: 'stroke',\n            intensity: [0, 0, +15, 0]\n        }],\n        focus: [{\n            type: 'stroke',\n            intensity: [0, 0, +15, 0]\n        }]\n    },\n    nearestPointThreshold: 20,\n    encoding: {\n        color: {},\n        x: {},\n        y: {},\n        strokeOpacity: {\n            value: 1\n        }\n    },\n    transition: {\n        effect: 'cubic',\n        duration: 1000\n    },\n    connectNullData: false\n};\n\n","export { default as LineLayer } from './line';\n","import {\n    Voronoi,\n    getQualifiedClassName,\n    selectElement,\n    makeElement,\n    FieldType,\n    getObjProp\n} from 'muze-utils';\nimport { BaseLayer } from '../../base-layer';\nimport { drawLine } from './renderer';\nimport { defaultConfig } from './default-config';\nimport { ENCODING } from '../../enums/constants';\nimport {\n    attachDataToVoronoi,\n    animateGroup,\n    getLayerColor,\n    positionPoints,\n    getIndividualClassName\n} from '../../helpers';\n\nimport './styles.scss';\n\n/**\n * This layer is used to render straight or smoothed line paths. The mark type of this layer is ```line```.\n *\n * @public\n *\n * @class\n * @module LineLayer\n * @extends BaseLayer\n */\nexport default class LineLayer extends BaseLayer {\n\n    /**\n     * Creates an instance of LineLayer.\n     * @param {*} args\n     * @memberof LineLayer\n     */\n    constructor (...args) {\n        super(...args);\n        this._voronoi = new Voronoi();\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof LineLayer\n     */\n    static formalName () {\n        return 'line';\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof LineLayer\n     */\n    elemType () {\n        return 'path';\n    }\n\n    /**\n     * Default configuration of line layer\n     * @return {Object} Default configuration of layer\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    /**\n     *\n     *\n     * @static\n     * @param {*} conf\n     * @param {*} userConf\n     *\n     * @memberof LineLayer\n     */\n    static defaultPolicy (conf, userConf) {\n        const config = BaseLayer.defaultPolicy(conf, userConf);\n        const encoding = config.encoding;\n        const transform = config.transform;\n        const colorField = encoding.color && encoding.color.field;\n\n        if (colorField && !transform.groupBy) {\n            transform.groupBy = colorField;\n        }\n        return config;\n    }\n\n    /**\n     * Returns the draw method for line\n     * @return {Function} Draw method of line layer\n     */\n    getDrawFn () {\n        return drawLine;\n    }\n\n    static shouldDrawAnchors () {\n        return true;\n    }\n\n    /**\n     * Generates the x and y positions for each point\n     * @param {Array} data Data Array\n     * @param {Object} encoding Visual Encodings of the layer\n     * @param {Object} axes Contains the axis\n     * @param {number} seriesIndex index of series\n     * @return {Array} Array of points\n     */\n    translatePoints (data, encodingFieldsInf, axes) {\n        let points = [];\n        const xAxis = axes.x;\n        const yAxis = axes.y;\n        const colorAxis = axes.color;\n        const encoding = this.config().encoding;\n        const { xFieldType, yFieldType } = encodingFieldsInf;\n        const isXDim = xFieldType === FieldType.DIMENSION;\n        const isYDim = yFieldType === FieldType.DIMENSION;\n        const key = isXDim ? ENCODING.X : (isYDim ? ENCODING.Y : null);\n        const colorEncoding = encoding.color;\n        const colorField = colorEncoding.field;\n        const fieldsConfig = this.data().getFieldsConfig();\n        const colorFieldIndex = colorField && fieldsConfig[colorField].index;\n        const style = {};\n        const meta = {};\n\n        points = data.map((d, i) => {\n            const xPx = xAxis.getScaleValue(d.x) + xAxis.getUnitWidth() / 2;\n            const yPx = yAxis.getScaleValue(d.y);\n            const { color, rawColor } = getLayerColor({ datum: d, index: i }, {\n                colorEncoding, colorAxis, colorFieldIndex });\n\n            style.stroke = color;\n            style['fill-opacity'] = 0;\n            meta.stateColor = {};\n            meta.originalColor = rawColor;\n            meta.colorTransform = {};\n\n            const point = {\n                enter: {},\n                update: {\n                    x: xPx,\n                    y: d.y === null ? null : yPx\n                },\n                style,\n                _data: d._data,\n                _id: d._id,\n                rowId: d._id,\n                source: d._data,\n                meta\n            };\n            point.className = getIndividualClassName(d, i, data, this);\n            this.cachePoint(d[key], point);\n            return point;\n        });\n        points = positionPoints(this, points);\n        return points;\n    }\n\n    /**\n     * Renders the line plot\n     * @param {SVGElement} container svg element\n     * @return {LineLayer} instance of line layer\n     */\n    render (container) {\n        let points;\n        let seriesClassName;\n        let style;\n\n        const config = this.config();\n        const {\n            encoding,\n            interpolate,\n            className,\n            defClassName,\n            transition\n        } = config;\n        const normalizedData = this._normalizedData;\n        const transformedData = this._transformedData;\n        const fieldsConfig = this.data().getFieldsConfig();\n        const axes = this.axes();\n        const keys = transformedData.map(d => d.key);\n        const qualifiedClassName = getQualifiedClassName(defClassName, this.id(), config.classPrefix);\n        const containerSelection = selectElement(container);\n        const colorField = encoding.color.field;\n        const colorFieldIndex = fieldsConfig[colorField] && fieldsConfig[colorField].index;\n\n        this._points = [];\n        this._pointMap = {};\n        containerSelection.classed(qualifiedClassName.join(' '), true);\n        containerSelection.classed(className, true);\n        makeElement(container, 'g', normalizedData, null, {\n            enter: (group) => {\n                animateGroup(group, {\n                    transition,\n                    groupAnimateStyle: {\n                        enter: {\n                            'stroke-opacity': 0,\n                            'fill-opacity': this.getPathStyle()['fill-opacity']\n                        },\n                        update: {\n                            'stroke-opacity': encoding.strokeOpacity.value\n                        }\n                    }\n                });\n            },\n            update: (group, dataArr, i) => {\n                points = this.translatePoints(dataArr, this.encodingFieldsInf(), axes, i);\n                this._points.push(points);\n                seriesClassName = `${qualifiedClassName[0]}-${keys[i] || i}`.toLowerCase();\n\n                let color;\n                const colorValFn = encoding.color.value;\n                const colorVal = points.find(d => d._data[colorFieldIndex] !== null &&\n                        d._data[colorFieldIndex] !== undefined);\n\n                if (colorValFn) {\n                    color = colorValFn(dataArr, i, normalizedData);\n                } else {\n                    color = axes.color.getColor(colorVal && colorVal._data[colorFieldIndex]);\n                }\n\n                style = this.getPathStyle(color);\n                this.getDrawFn()({\n                    container: group.node(),\n                    interpolate,\n                    points,\n                    className: seriesClassName,\n                    transition,\n                    style: style || {},\n                    connectNullData: config.connectNullData\n                });\n            }\n        }, d => d[0]._data[colorFieldIndex] || d[0]._id);\n\n        attachDataToVoronoi(this._voronoi, this._points);\n        return this;\n    }\n\n    /**\n     * Get the css styles need to be applied on the line path\n     * @param {string} color Color value\n     * @return {Object} Path styles\n     */\n    getPathStyle (color) {\n        return {\n            stroke: color,\n            'fill-opacity': '0'\n        };\n    }\n\n    /**\n     * Gets the nearest point closest to the given position\n     * @param {number} x x position\n     * @param {number} y y position\n     * @return {Object} Nearest point information\n     */\n    getNearestPoint (x, y, config) {\n        let searchRadius = config.searchRadius;\n        const data = this.data();\n\n        if (!data || (data && data.isEmpty())) {\n            return null;\n        }\n\n        searchRadius = searchRadius !== undefined ? searchRadius : this.config().nearestPointThreshold;\n        const point = this._voronoi.find(x, y, searchRadius);\n        const dimensions = getObjProp(point, 'data', 'data', 'update');\n\n        if (point) {\n            const { _data, _id } = point.data.data;\n            const identifiers = this.getIdentifiersFromData(_data, _id);\n            return {\n                id: identifiers,\n                dimensions: [{\n                    x: dimensions.x,\n                    y: dimensions.y,\n                    width: 2,\n                    height: 2\n                }],\n                layerId: this.id()\n            };\n        }\n        return null;\n    }\n}\n","import {\n    selectElement,\n    makeElement,\n    pathInterpolators,\n    Symbols\n} from 'muze-utils';\nimport { updateStyle } from '../../helpers';\n\nconst line = Symbols.line;\n\n/**\n * Draws a line from the points\n * Generates a svg path string\n * @param {Object} params Contains container, points and interpolate attribute.\n */\nexport const drawLine = (context) => {\n    let filteredPoints;\n    const { container, points, interpolate, connectNullData, className, style, transition } = context;\n    const mount = selectElement(container).attr('class', className);\n    const curveInterpolatorFn = pathInterpolators[interpolate];\n    const linepath = line()\n                .curve(curveInterpolatorFn)\n                .x(d => d.update.x)\n                .y(d => d.update.y)\n                .defined(d => d.update.y !== null);\n\n    filteredPoints = points;\n    if (connectNullData) {\n        filteredPoints = points.filter(d => d.update.y !== null);\n    }\n\n    updateStyle(mount, style);\n    let element = makeElement(mount, 'path', [1]);\n    element.classed(points[0].className, true);\n    if (!transition.disabled) {\n        element = element.transition().duration(transition.duration);\n    }\n    element.attr('d', linepath(filteredPoints))\n                    .style('fill-opacity', 0);\n    return element;\n};\n","// extracted by mini-css-extract-plugin","import { CLASSPREFIX } from '../../enums/constants';\n\nexport const defaultConfig = {\n    defClassName: 'layer-point',\n    className: '',\n    classPrefix: CLASSPREFIX,\n    defColorStyle: 'stroke',\n    interaction: {\n        highlight: [{\n            type: 'fill',\n            intensity: [0, 0, -20, 0]\n        }],\n        fade: [{\n            type: 'fill',\n            intensity: [0, 0, +20, 0]\n        }],\n        focus: [{\n            type: 'fill',\n            intensity: [0, 0, +20, 0]\n        }\n        ]\n    },\n    innerPadding: 0.1,\n    nearestPointThreshold: 10,\n    transform: {\n        type: 'identity'\n    },\n    transition: {\n        effect: 'cubic',\n        duration: 1000\n    },\n    encoding: {\n        size: {\n            value: 30\n        },\n        color: { },\n        shape: {\n            value: 'circle'\n        },\n        x: {},\n        y: {},\n        strokeOpacity: {\n            value: 0.5\n        },\n        fillOpacity: {\n            value: 0.5\n        }\n    },\n    shapes: ['circle', 'cross', 'diamond', 'square', 'star', 'wye', 'triangle'],\n    sizes: [20, 30, 40, 50, 60, 70]\n};\n","export { default as PointLayer } from './point';\n","import {\n    Voronoi,\n    selectElement,\n    getQualifiedClassName,\n    makeElement,\n    FieldType,\n    Scales\n} from 'muze-utils';\nimport { BaseLayer } from '../../base-layer';\nimport drawSymbols from './renderer';\nimport { defaultConfig } from './default-config';\nimport { ENCODING } from '../../enums/constants';\nimport {\n    attachDataToVoronoi,\n    getLayerColor,\n    positionPoints,\n    getPlotMeasurement,\n    getIndividualClassName\n} from '../../helpers';\n\nimport './styles.scss';\n\n/**\n * This layer is used to create various symbols for each data point. This is commonly used in\n * scatterplot visualizations. The mark type of this layer is ```point```.\n *\n * @public\n *\n * @class\n * @module PointLayer\n * @extends BaseLayer\n */\nexport default class PointLayer extends BaseLayer {\n\n    /**\n     * Creates an instance of PointLayer.\n     * @param {*} args\n     * @memberof PointLayer\n     */\n    constructor (...args) {\n        super(...args);\n        this._voronoi = new Voronoi();\n        this._bandScale = Scales.band();\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof PointLayer\n     */\n    elemType () {\n        return 'g';\n    }\n\n    /**\n     * Returns the default configuration of the point layer\n     * @return {Object} Default configuration of the point layer\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    static defaultPolicy (conf, userConf) {\n        const config = BaseLayer.defaultPolicy(conf, userConf);\n        const encoding = config.encoding;\n        const transform = config.transform;\n        const colorField = encoding.color && encoding.color.field;\n\n        if (colorField) {\n            transform.groupBy = colorField;\n        }\n        return config;\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof PointLayer\n     */\n    static formalName () {\n        return 'point';\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof PointLayer\n     */\n    static drawFn () {\n        return drawSymbols;\n    }\n\n    /**\n     * Generates an array of objects containing x, y, width and height of the points from the data\n     * @param  {Array.<Array>} data Data Array\n     * @param  {Object} encoding  Config\n     * @param  {Object} axes     Axes object\n     * @return {Array.<Object>}  Array of points\n     */\n    translatePoints (data, encoding, axes, config = {}) {\n        let points = [];\n        const {\n            size: sizeEncoding,\n            shape: shapeEncoding,\n            color: colorEncoding,\n            x,\n            y\n        } = encoding;\n        const sizeField = sizeEncoding.field;\n        const sizeValue = sizeEncoding.value;\n        const shapeField = shapeEncoding.field;\n        const xField = x.field;\n        const yField = y.field;\n        const { size: sizeAxis, shape: shapeAxis } = axes;\n        const fieldsConfig = this.data().getFieldsConfig();\n        const isXDim = fieldsConfig[xField] && fieldsConfig[xField].def.type === FieldType.DIMENSION;\n        const isYDim = fieldsConfig[yField] && fieldsConfig[yField].def.type === FieldType.DIMENSION;\n        const key = isXDim ? ENCODING.X : (isYDim ? ENCODING.Y : null);\n        const colorField = colorEncoding && colorEncoding.field;\n        const colorFieldIndex = fieldsConfig[colorField] && fieldsConfig[colorField].index;\n        const measurement = this.measurement();\n        const shapeFieldIndex = fieldsConfig[shapeField] && fieldsConfig[shapeField].index;\n        const sizeFieldIndex = fieldsConfig[sizeField] && fieldsConfig[sizeField].index;\n        const colorAxis = axes.color;\n        const { x: offsetX, y: offsetY } = config.offset;\n\n        for (let i = 0, len = data.length; i < len; i++) {\n            const d = data[i];\n            const row = d._data;\n            const size = sizeValue instanceof Function ? sizeValue(d, i) : sizeAxis.getSize(row[sizeFieldIndex]);\n            const shape = shapeAxis.getShape(row[shapeFieldIndex]);\n\n            let [xPx, yPx] = [ENCODING.X, ENCODING.Y].map((type) => {\n                const value = d[type] === null ? undefined : d[type];\n                const measure = type === ENCODING.X ? measurement.width : measurement.height;\n                return !encoding[type].field ? measure / 2 : axes[type].getScaleValue(value);\n            });\n\n            xPx += offsetX;\n            yPx += offsetY;\n\n            const { color, rawColor } = getLayerColor({ datum: d, index: i },\n                { colorEncoding, colorAxis, colorFieldIndex });\n\n            const style = {\n                fill: color,\n                stroke: color\n            };\n\n            if (!isNaN(xPx) && !isNaN(yPx)) {\n                const point = {\n                    enter: {\n                        x: xPx,\n                        y: yPx\n                    },\n                    update: {\n                        x: xPx,\n                        y: yPx\n                    },\n                    shape,\n                    size: Math.abs(size),\n                    meta: {\n                        stateColor: {},\n                        originalColor: rawColor,\n                        colorTransform: {}\n                    },\n                    style,\n                    _data: row,\n                    _id: d._id,\n                    source: d._data,\n                    rowId: d._id\n                };\n                point.className = getIndividualClassName(d, i, data, this);\n                points.push(point);\n                this.cachePoint(d[key], point);\n            }\n        }\n        points = positionPoints(this, points);\n        return points;\n    }\n\n    /**\n     * Renders the plot in the given container.\n     *\n     * @param  {SVGElement} container SVGElement which will hold the plot\n     * @return {BarLayer} Instance of bar layer\n     */\n    render (container) {\n        let maxSize = 0;\n        let seriesClassName;\n        const config = this.config();\n        const keys = this._transformedData.map(d => d.key);\n        const { transition, className, defClassName, classPrefix } = config;\n        const normalizedData = this._normalizedData;\n        const containerSelection = selectElement(container);\n        const qualifiedClassName = getQualifiedClassName(defClassName, this.id(), classPrefix);\n        this._points = [];\n        this._pointMap = {};\n\n        containerSelection.classed(qualifiedClassName.join(' '), true).classed(className, true);\n\n        this._points = this.generateDataPoints(normalizedData, keys);\n\n        makeElement(container, 'g', this._points, null, {\n            update: (group, points) => {\n                maxSize = Math.max(maxSize, ...points.map(d => d.size));\n                seriesClassName = `${qualifiedClassName[0]}`;\n                this.constructor.drawFn()({\n                    container: group.node(),\n                    points,\n                    className: seriesClassName,\n                    transition,\n                    keyFn: d => d._id\n                });\n            }\n        }, data => data[0]._id);\n        this._maxSize = Math.sqrt(maxSize / Math.PI) * 2;\n        attachDataToVoronoi(this._voronoi, this._points);\n        return this;\n    }\n\n    generateDataPoints (normalizedData, keys) {\n        const encoding = this.config().encoding;\n        const axes = this.axes();\n        const [widthMetrics, heightMetrics] = getPlotMeasurement(this, keys);\n        const offsetXValues = widthMetrics.offsetValues || [];\n        const offsetYValues = heightMetrics.offsetValues || [];\n        return normalizedData.map((dataArr, i) => {\n            const measurementConf = this.getMeasurementConfig(offsetXValues[i], offsetYValues[i], widthMetrics.span,\n                heightMetrics.span);\n            return this.translatePoints(dataArr, encoding, axes, measurementConf);\n        }).filter(d => d.length);\n    }\n\n    getMeasurementConfig (offsetX, offsetY, widthSpan, heightSpan) {\n        return {\n            offset: {\n                x: (offsetX || 0) + widthSpan / 2,\n                y: (offsetY || 0) + heightSpan / 2\n            },\n            span: {\n                x: widthSpan,\n                y: heightSpan\n            }\n        };\n    }\n\n    /**\n     * Gets the nearest point from a position.\n     * @param {number} x x position\n     * @param {number} y y position\n     * @return {Object} Point details\n     */\n    getNearestPoint (x, y) {\n        const distanceLimit = Math.max(this._maxSize, this.config().nearestPointThreshold);\n\n        if (!this.data()) {\n            return null;\n        }\n\n        const point = this._voronoi.find(x, y, distanceLimit);\n        const dimensions = point && point.data.data.update;\n        const radius = point ? Math.sqrt(point.data.data.size / Math.PI) : 0;\n\n        if (point) {\n            const { _data, _id } = point.data.data;\n            const identifiers = this.getIdentifiersFromData(_data, _id);\n            return {\n                id: identifiers,\n                dimensions: [{\n                    x: dimensions.x,\n                    y: dimensions.y,\n                    width: radius,\n                    height: radius\n                }],\n                layerId: this.id()\n            };\n        }\n        return null;\n    }\n}\n","/* global Element, document  */\nimport {\n    makeElement,\n    selectElement,\n    easeFns,\n    objectIterator,\n    getSymbol\n} from 'muze-utils';\n\n/**\n *\n *\n * @param {*} str\n *\n */\nconst checkPath = (str) => {\n    if (/^[mzlhvcsqta]\\s*[-+.0-9][^mlhvzcsqta]+/i.test(str) && /[\\dz]$/i.test(str) && str.length > 4) {\n        return true;\n    }\n    return false;\n};\n\n/**\n *\n *\n * @param {*} d\n * @param {*} elem\n */\nconst createShape = function (d, elem) {\n    const groupElement = selectElement(elem);\n    const { shape, size, update } = d;\n\n    if (shape instanceof Promise) {\n        shape.then((res) => {\n            d.shape = res;\n            createShape(d, elem);\n        });\n    } else if (shape instanceof Element) {\n        let newShape = shape.cloneNode(true);\n\n        if (newShape.nodeName.toLowerCase() === 'img') {\n            const src = newShape.src || newShape.href;\n            newShape = document.createElementNS('http://www.w3.org/2000/svg', 'image');\n            newShape.setAttribute('href', src);\n        }\n        const shapeElement = selectElement(newShape);\n        if (newShape.nodeName === 'path' || newShape.nodeName === 'image') {\n            shapeElement.attr('transform', `scale(${size / 100})`);\n        } else {\n            shapeElement.attr('height', size);\n            shapeElement.attr('width', size);\n        }\n        shapeElement.attr('x', -size / 2);\n        shapeElement.attr('y', -size / 2);\n        selectElement(groupElement.node().appendChild(newShape));\n    } else if (typeof shape === 'string') {\n        let pathStr;\n        if (checkPath(shape)) {\n            pathStr = shape;\n        } else {\n            pathStr = getSymbol(shape).size(size)(update);\n        }\n        makeElement(groupElement, 'path', data => [data]).attr('d', pathStr);\n    } else {\n        d.shape = 'circle';\n        createShape(d, elem);\n    }\n};\n\n/**\n * Draws symbols using d3 symbol api\n * @param {Object} params Contains the svg container, points and other symbol related attributes.\n */\n/* istanbul ignore next */ const drawSymbols = (params) => {\n    let mergedGroups;\n    const { container, points, transition, className } = params;\n    const { duration, effect, disabled } = transition;\n    const mount = selectElement(container);\n\n    mount.attr('class', className);\n    const symbolGroups = mount.selectAll('g').data(points, params.keyFn);\n    const symbolEnter = symbolGroups.enter().append('g').attr('transform', d => `translate(${d.enter.x},${d.enter.y})`);\n    mergedGroups = symbolGroups.merge(symbolEnter)\n                    .each(function (d) {\n                        createShape(d, this);\n                    });\n    mergedGroups = disabled ? mergedGroups : mergedGroups.transition().duration(disabled ? 0 : transition.duration);\n    mergedGroups.attr('transform', d => `translate(${d.update.x},${d.update.y})`)\n                    .each(function (d) {\n                        const style = d.style;\n                        const element = selectElement(this);\n                        objectIterator(style, key => element.style(key, style[key]));\n                        element.attr('class', `${className}`);\n                        element.classed(d.className, true);\n                    });\n\n    const exitGroups = symbolGroups.exit();\n    if (!disabled) {\n        exitGroups.transition().ease(easeFns[effect])\n                        .duration(duration)\n                        .on('end', function () {\n                            selectElement(this).remove();\n                        })\n                        .style('fill-opacity', 0)\n                        .style('stroke-opacity', 0);\n    } else {\n        exitGroups.remove();\n    }\n};\n\nexport default drawSymbols;\n","// extracted by mini-css-extract-plugin","import { CLASSPREFIX } from '../../enums/constants';\n\nexport const defaultConfig = {\n    defClassName: 'layer-text',\n    classPrefix: CLASSPREFIX,\n    className: '',\n    transform: {\n        type: 'identity'\n    },\n    interaction: {\n        highlight: [{\n            type: 'fill',\n            intensity: [0, 0, -15, 0]\n        }],\n        fade: [{\n            type: 'fill',\n            intensity: [0, 0, +15, 0]\n        }],\n        focus: [{\n            type: 'fill',\n            intensity: [0, 0, +15, 0]\n        }]\n    },\n    transition: {\n        effect: 'cubic',\n        duration: 1000\n    },\n    encoding: {\n        color: {},\n        text: {\n            value: '',\n            background: {\n                padding: 10\n            }\n        }\n    },\n    states: {\n        highlight: {\n            className: `${CLASSPREFIX}-layer-text-highlight`\n        },\n        fadeout: {\n            className: `${CLASSPREFIX}-layer-text-fadeout`\n        },\n        selected: {\n            className: `${CLASSPREFIX}-layer-text-selected`\n        }\n    }\n};\n","export { default as TextLayer } from './text';\n\n","import {\n    setAttrs,\n    setStyles,\n    selectElement,\n    makeElement,\n    getSmartComputedStyle\n} from 'muze-utils';\n\n/**\n * Draws svg text in the specified container.\n * @param {SVGElement} container Container where labels will be appended.\n * @param {Array.<Object>} data Data of the elements.\n * @return {Selection} d3 selection of the elements.\n */\nconst drawText = (container, data, config, smartLabel) => {\n    const selection = selectElement(container).selectAll('g').data(data);\n\n    const selectionMerge = selection.enter().append('g')\n        .each(function (dataObj) {\n            setAttrs(this, dataObj.enter);\n        })\n        .merge(selection);\n    const style = getSmartComputedStyle(selectElement(container), config.className);\n    const fontSize = parseInt(style.fontSize, 10);\n\n    smartLabel.setStyle(style);\n    selectionMerge.each(function (dataObj) {\n        const element = selectElement(this);\n        const { update, text, color, textanchor, style: textStyle } = dataObj;\n        const background = dataObj.background;\n        let backgroundVal;\n        if (backgroundVal = background.value) {\n            const backgroundPadding = background.padding;\n            let diff;\n            const { width, height } = smartLabel.getOriSize(dataObj.text);\n            const backgroundEl = makeElement(element, 'rect', [1]);\n\n            if (textanchor === 'end') {\n                diff = width;\n            } else if (textanchor === 'start') {\n                diff = 0;\n            } else {\n                diff = width / 2;\n            }\n\n            setAttrs(backgroundEl.node(), {\n                x: update.x - diff - backgroundPadding / 2,\n                y: update.y - fontSize - backgroundPadding / 2,\n                width: width + backgroundPadding,\n                height: height + backgroundPadding\n            });\n            background && setStyles(backgroundEl, {\n                background: backgroundVal\n            });\n        }\n        const textEl = makeElement(element, 'text', d => [d]).text(text);\n        const textNode = textEl.node();\n        textStyle && setStyles(textNode, textStyle);\n        color && setStyles(textNode, {\n            fill: color\n        });\n        dataObj.className && textEl.classed(dataObj.className, true);\n        setAttrs(textNode, update);\n        textEl.attr('text-anchor', textanchor);\n    });\n    selection.exit().remove();\n    return selection;\n};\n\nexport default drawText;\n","// extracted by mini-css-extract-plugin","import {\n    getQualifiedClassName,\n    selectElement,\n    setStyles,\n    createElements\n} from 'muze-utils';\nimport { BaseLayer } from '../../base-layer';\nimport drawText from './renderer';\nimport { defaultConfig } from './default-config';\nimport { getLayerColor, positionPoints, getIndividualClassName } from '../../helpers';\nimport { TEXT_ANCHOR_MIDDLE, ENCODING } from '../../enums/constants';\n\nimport './styles.scss';\n\n/**\n * This layer is used to create labels for each data point. It has an encoding property ```text```\n * which determines from which field's data the value of the label will be taken. The text encoding\n * property is necessary for the layer to render the text.The mark type of this layer is ```text```.\n *\n * @public\n *\n * @class\n * @module TextLayer\n * @extends BaseLayer\n */\nexport default class TextLayer extends BaseLayer {\n    /**\n     * Returns the default configuration of the text layer\n     * @return {Object} Default configuration of the text layer\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    static formalName () {\n        return 'text';\n    }\n\n    elemType () {\n        return 'text';\n    }\n\n    /**\n     * Generates an array of objects containing x, y, width and height of the points from the data\n     * @param  {Array.<Array>} data Data Array\n     * @param  {Object} encoding  Config\n     * @param  {Object} axes     Axes object\n     * @return {Array.<Object>}  Array of points\n     */\n    translatePoints (data, encoding, axes) {\n        let points = [];\n        const colorAxis = axes.color;\n        const textEncoding = encoding.text;\n        const { field: textField, value, formatter: textFormatter } = textEncoding;\n        const colorEncoding = encoding.color;\n        const colorField = colorEncoding && colorEncoding.field;\n        const fieldsConfig = this.data().getFieldsConfig();\n\n        const backgroundEncoding = encoding.text.background;\n        const backgroundPadding = backgroundEncoding.padding;\n        const backgroundValue = backgroundEncoding.value;\n        const colorFieldIndex = fieldsConfig[colorField] ? fieldsConfig[colorField].index : -1;\n        const textFieldIndex = textField ? fieldsConfig[textField] && fieldsConfig[textField].index : -1;\n        const xEnc = ENCODING.X;\n        const yEnc = ENCODING.Y;\n        for (let i = 0, len = data.length; i < len; i++) {\n            const d = data[i];\n            const row = d._data;\n            const textValue = textField ? row[textFieldIndex] : value;\n\n            const [xPx, yPx] = [xEnc, yEnc].map(type => (axes[type] ? axes[type].getScaleValue(d[type]) +\n                    axes[type].getUnitWidth() / 2 : 0));\n\n            const { color, rawColor } = getLayerColor({ datum: d, index: i },\n                { colorEncoding, colorAxis, colorFieldIndex });\n\n            const point = {\n                enter: {},\n                update: {\n                    x: xPx,\n                    y: yPx\n                },\n                text: textFormatter ? textFormatter(textValue) : textValue,\n                color,\n                background: {\n                    value: backgroundValue instanceof Function ? backgroundValue(d, i, data, this) : null,\n                    padding: backgroundPadding\n                },\n                meta: {\n                    stateColor: {},\n                    originalColor: rawColor,\n                    colorTransform: {}\n                },\n                style: {},\n                _data: row,\n                _id: d._id,\n                source: d._data,\n                rowId: d._id\n            };\n\n            if (d.x !== null && d.y !== null) {\n                points.push(point);\n            }\n\n            point.className = getIndividualClassName(d, i, data, this);\n        }\n\n        points = positionPoints(this, points);\n\n        return points;\n    }\n\n    /**\n     * Renders the plot in the given container\n     * @param  {SVGElement} container SVGElement which will hold the plot\n     * @return {textLayer} Instance of text layer\n     */\n    render (container) {\n        let points;\n        const config = this.config();\n        const encoding = config.encoding;\n        const normalizedData = this._normalizedData;\n        const className = config.className;\n        const qualifiedClassName = getQualifiedClassName(config.defClassName, this.id(), config.classPrefix);\n        const axes = this.axes();\n        const containerSelection = selectElement(container);\n\n        containerSelection.classed(`${qualifiedClassName.join(' ')} ${className}`, true);\n        createElements({\n            data: normalizedData,\n            append: 'g',\n            selector: 'g',\n            container,\n            each: (dataArr, group, i) => {\n                const node = group.node();\n                points = this.translatePoints(dataArr, encoding, axes, i);\n                setStyles(node, {\n                    'text-anchor': TEXT_ANCHOR_MIDDLE\n                });\n                drawText(node, points, {\n                    className: qualifiedClassName[0]\n                }, this._dependencies.smartLabel);\n            }\n        });\n        return this;\n    }\n}\n","import { CLASSPREFIX } from '../../enums/constants';\n\nexport const defaultConfig = {\n    defClassName: 'layer-tick',\n    className: '',\n    classPrefix: CLASSPREFIX,\n    interaction: {\n        highlight: [{\n            type: 'stroke',\n            intensity: [0, 0, -15, 0]\n        }],\n        fade: [{\n            type: 'stroke',\n            intensity: [0, 0, 15, 0]\n        }],\n        focus: [{\n            type: 'stroke',\n            intensity: [0, 0, 15, 0]\n        }]\n    },\n    innerPadding: 0.1,\n    transform: {\n        type: 'identity'\n    },\n    transition: {\n        effect: 'cubic',\n        duration: 1000\n    },\n    encoding: {\n        color: { },\n        x: {},\n        y: {},\n        x0: {},\n        y0: {},\n        strokeOpacity: {\n            value: 0.5\n        },\n        fillOpacity: {\n            value: 0.5\n        }\n    },\n    states: {\n        highlight: {\n            className: `${CLASSPREFIX}-layer-tick-highlight`\n        },\n        fadeout: {\n            className: `${CLASSPREFIX}-layer-tick-fadeout`\n        },\n        selected: {\n            className: `${CLASSPREFIX}-layer-tick-selected`\n        }\n    }\n};\n","export { default as TickLayer } from './tick';\n","import { selectElement } from 'muze-utils';\n\n/**\n * Draws ticks by using d3 selection\n * @param  {Object} params Contains container element and points\n * @return {Selection} Ticks Selection\n */\nexport default /* istanbul ignore next */ (params) => {\n    const { points, container, keyFn, className } = params;\n    const mount = selectElement(container);\n    const ticks = mount.selectAll('path').data(points, keyFn);\n    const ticksEnter = ticks.enter().append('path');\n\n    mount.attr('class', className || '');\n    ticksEnter.each(function (d) {\n        const selection = selectElement(this);\n        const enter = d.enter || {};\n        Object.entries(enter).forEach(attr => (!isNaN(attr[1]) && selection.attr(attr[0], attr[1])));\n    });\n\n    ticks.exit().remove();\n    return ticks.merge(ticksEnter)\n                    .each(function (d) {\n                        const selection = selectElement(this);\n                        const update = d.update;\n                        const updateStyle = d.style || {};\n                        const x0 = update.x0 !== undefined ? update.x0 : update.x;\n                        const y0 = update.y0 !== undefined ? update.y0 : update.y;\n                        const path = `M ${update.x} ${update.y} L ${x0} ${y0}`;\n                        d.className && selection.classed(d.className, true);\n                        selection.attr('d', path);\n                        Object.entries(updateStyle).forEach(styleObj => selection.style(styleObj[0], styleObj[1]));\n                    });\n};\n\n","// extracted by mini-css-extract-plugin","import { FieldType } from 'muze-utils';\nimport { PointLayer } from '../point';\nimport { defaultConfig } from './default-config';\nimport { ENCODING } from '../../enums/constants';\nimport drawTicks from './renderer';\nimport './styles.scss';\nimport { getAxesScales, getLayerColor, positionPoints, getIndividualClassName } from '../../helpers';\n\n/**\n * This layer is used to create small lines. The orientation of the line is determined by the positional\n * encoding properties x0 and y0. The mark type of the layer is ```tick```.\n *\n * @public\n *\n * @class\n * @module TickLayer\n * @extends BaseLayer\n */\nexport default class TickLayer extends PointLayer {\n\n    /**\n     *\n     *\n     * @staticg\n     *\n     * @memberof TickLayer\n     */\n    static defaultConfig () {\n        return defaultConfig;\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof TickLayer\n     */\n    static formalName () {\n        return 'tick';\n    }\n\n    /**\n     *\n     *\n     * @static\n     *\n     * @memberof TickLayer\n     */\n    static drawFn () {\n        return drawTicks;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof TickLayer\n     */\n    elemType () {\n        return 'path';\n    }\n\n    /**\n     * Generates an array of objects containing x, y, width and height of the points from the data\n     * @param  {Array.<Array>} data Data Array\n     * @param  {Object} encoding  Config\n     * @param  {Object} axes     Axes object\n     * @return {Array.<Object>}  Array of points\n     */\n    translatePoints (data, encoding, axes, config = {}) {\n        let points = [];\n        const {\n                xAxis,\n                yAxis\n            } = getAxesScales(axes);\n        const fieldsConfig = this.data().getFieldsConfig();\n        const {\n                xField,\n                yField,\n                x0Field,\n                y0Field,\n                xFieldType,\n                yFieldType\n            } = this.encodingFieldsInf();\n        const isXDim = xFieldType === FieldType.DIMENSION;\n        const isYDim = yFieldType === FieldType.DIMENSION;\n        const key = isXDim ? ENCODING.X : (isYDim ? ENCODING.Y : null);\n        const colorEncoding = encoding.color;\n        const colorField = colorEncoding && colorEncoding.field;\n        const colorFieldIndex = fieldsConfig[colorField] && fieldsConfig[colorField].index;\n        const measurement = this.measurement();\n        const colorAxis = axes.color;\n        const { x: offsetX, y: offsetY } = config.offset;\n        const { x: xSpan, y: ySpan } = config.span;\n        for (let i = 0, len = data.length; i < len; i++) {\n            let xPx;\n            let x0Px;\n            let y0Px;\n            let yPx;\n            const d = data[i];\n            const row = d._data;\n            if (xField) {\n                xPx = xAxis.getScaleValue(d.x) + offsetX;\n                x0Px = xPx + xSpan;\n            }\n\n            if (yField) {\n                yPx = yAxis.getScaleValue(d.y) + offsetY;\n                y0Px = yPx !== null ? yPx + ySpan : null;\n            }\n\n            if (!xField) {\n                xPx = 0;\n                x0Px = measurement.width;\n                if (!isNaN(yPx)) {\n                    yPx += ySpan / 2;\n                    y0Px = yPx;\n                }\n            }\n\n            if (!yField) {\n                yPx = 0;\n                y0Px = measurement.height;\n                x0Px = xPx += xSpan / 2;\n            }\n\n            if (x0Field) {\n                x0Px = xAxis.getScaleValue(d.x0) + xSpan;\n                yPx += ySpan / 2;\n                y0Px -= ySpan / 2;\n            }\n\n            if (y0Field) {\n                y0Px = yAxis.getScaleValue(d.y0) + ySpan;\n                xPx += xSpan / 2;\n                x0Px -= xSpan / 2;\n            }\n            const style = {};\n            const meta = {};\n            const { color, rawColor } = getLayerColor({ datum: d, index: i },\n                { colorEncoding, colorAxis, colorFieldIndex });\n\n            style.stroke = color;\n            meta.stateColor = {};\n            meta.originalColor = rawColor;\n            meta.colorTransform = {};\n            if (!isNaN(xPx) && !isNaN(yPx)) {\n                const point = {\n                    enter: {},\n                    update: {\n                        x: xPx,\n                        y: yPx,\n                        x0: x0Px,\n                        y0: y0Px\n                    },\n                    style,\n                    _data: row,\n                    _id: d._id,\n                    source: row,\n                    rowId: d._id,\n                    meta\n                };\n                point.className = getIndividualClassName(d, i, data, this);\n                points.push(point);\n                this.cachePoint(d[key], point);\n            }\n        }\n        points = positionPoints(this, points);\n        return points;\n    }\n\n    getMeasurementConfig (offsetX, offsetY, widthSpan, heightSpan) {\n        return {\n            offset: {\n                x: (offsetX || 0),\n                y: (offsetY || 0)\n            },\n            span: {\n                x: widthSpan,\n                y: heightSpan\n            }\n        };\n    }\n}\n","export { default as SimpleLayer } from './simple-layer';\n","import { ERROR_MSG } from 'muze-utils';\n\n/**\n * This is an interface class which any new layer class has to extend.\n *\n * @example\n * class BarLayer extends BaseLayer {\n *   update (params) {\n *       // super.update(params);\n *       // Update the bar layer\n *   }\n * }\n * @class\n */\nexport default class SimpleLayer {\n\n    formalName () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Sets or gets the dependencies.\n     * @param {Object} dependencies Dependencies needed by layer\n     * @return {BaseLayer} Instance of base layer.\n     */\n    dependencies () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns the config of the layer\n     *\n     * @param {Object} config Configuration of layer\n     * @return {Object} configuration of layer\n     */\n    config () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Acts as a getter or setter function\n     * When setter\n     * Returns the datamodel of the layer\n     * @param { DataModel } dataModel instance of DataModel\n     * @return { DataModel } DataModel instance of the layer\n     */\n    data () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns a serialized schema of the layer\n     * @return {Object} Serialized schema\n     */\n    serialize () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns the unique identifier of this layer\n     * @return {string} id of the layer\n     */\n    id () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n    /*\n     * This method resolves the x, y, x0 and y0 values from the transformed data.\n     * It also checks the type of transformed data for example, if it is a stacked data\n     * then it fetches the y and y0 values from the stacked data.\n     * @param {Array.<Array>} transformedData transformed data\n     * @param {Object} fieldMap field definitions\n     * @param {string} transformType type of transformed data - stack, group or identity.\n     * @return {Array.<Object>} Normalized data\n     * @private\n     */\n    normalizeTransformedData () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Gets the transform method from transform factory based on type of transform. It then calls the\n     * transform method with the data and passes the configuration parameters of transform such as\n     * groupBy, value field, etc.\n     *\n     * @param {DataModel} dataModel Instance of dataModel\n     * @param {Object} config configuration for transforming data\n     * @return {Array.<Array>} Transformed data.\n     * @private\n     */\n    getTransformedData () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Calculates the domain from the data.\n     * It checks the type of field and calculates the domain based on that. For example, if it\n     * is a quantitative or temporal field, then it calculates the min and max from the data or\n     * if it is a nominal field then it gets all the values from the data of that field.\n     * @param {Array} data DataArray\n     * @return {Array} Domain values array.\n     */\n    _calculateDomainFromData () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Returns the domain for the axis.\n     *\n     * @param {string} encodingType type of encoding x, y, color, etc.\n     * @return {Object} Axis domains\n     */\n    getDomain () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Abstract method for getting nearest point\n     * @return {BaseLayer} Instance of base layer\n     */\n    getNearestPoint () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Abstract method for highlighting points\n     * @return {BaseLayer} Instance of base layer\n     */\n    highlightPoint () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Abstract method for deselecting points\n     * @return {BaseLayer} Instance of base layer\n     */\n    dehighlightPoint () {\n        return this;\n    }\n\n    linkLayerStore () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    /**\n     * Sets the container element for the layer to be renderered.\n     * @param {SVGElement} mountPoint SVG element or group element.\n     */\n    mount () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n\n    render () {\n        throw new Error(ERROR_MSG.INTERFACE_IMPL);\n    }\n}\n","import { CLASSPREFIX, CONSOLIDATED } from './enums/constants';\n\n/**\n * Returns the default configuration of the visual unit\n * @return {Object} Default configuration of visual unit\n */\nexport const defaultConfig = {\n    classPrefix: CLASSPREFIX,\n    defClassName: 'visual-unit',\n    className: '',\n    trackerClassName: 'visual-unit-tracker',\n    gridLines: {\n        defClassName: 'axis-grid-lines',\n        className: '',\n        show: true,\n        color: '#efefef',\n        zeroLineColor: '#b6b6b6'\n    },\n    gridBands: {\n        defClassName: 'axis-grid-bands',\n        className: '',\n        show: false,\n        y: {\n            color: ['#fff', '#fbfbfb']\n        },\n        x: {\n            color: ['#fff', '#f9f9f9']\n        }\n    },\n    arcLayerClassName: 'layer-arc',\n    interaction: {\n        tooltip: {\n            mode: CONSOLIDATED\n        }\n    },\n    sideEffectClassName: 'side-effect-container'\n};\n","export const CLASSPREFIX = 'muze';\nexport const IDFIELD = '__id__';\nexport const GRIDLINEPARENTGROUPCLASS = 'grid-lines';\nexport const GRIDBANDPARENTGROUPCLASS = 'grid-bands';\nexport const CONSOLIDATED = 'consolidated';\nexport const FRAGMENTED = 'fragmented';\nexport const FACET_BY_FIELDS = 'facetByFields';\nexport const RETINAL_FIELDS = 'retinalFields';\nexport const PARENT_ALIAS = 'parentAlias';\nexport const LAYERS = 'layers';\nexport const CACHED_DATA = 'cachedData';\nexport const STORE = 'store';\n","export const CONFIG = 'config';\nexport const DATA = 'data';\nexport const AXES = 'axes';\nexport const LAYERDEFS = 'layerDef';\nexport const WIDTH = 'width';\nexport const HEIGHT = 'height';\nexport const MOUNT = 'mount';\nexport const primaryXAxisUpdated = 'primaryXAxisUpdated';\nexport const primaryYAxisUpdated = 'primaryYAxisUpdated';\nexport const secondaryXAxisUpdated = 'secondaryXAxisUpdated';\nexport const secondaryYAxisUpdated = 'secondaryYAxisUpdated';\nexport const TRANSFORM = 'transform';\nexport const DATADOMAIN = 'dataDomain';\nexport const LAYERSCREATED = 'layersCreated';\nexport const FIELDS = 'fields';\nexport const TIMEDIFFS = 'timeDiffs';\nexport const LAYERAXISINDEX = 'layerAxisIndex';\nexport const LAYERS = 'layers';\nexport const DOMAIN = 'domain';\n\n","import { BEHAVIOURS, ACTIONS } from '@chartshq/muze-firebolt';\n\nexport const actionBehaviourMap = {\n    [ACTIONS.DRAG]: {\n        behaviours: [BEHAVIOURS.BRUSH],\n        touch: false\n    },\n    [ACTIONS.HOVER]: {\n        behaviours: [BEHAVIOURS.HIGHLIGHT]\n    },\n    [ACTIONS.LONGTOUCH]: {\n        behaviours: [BEHAVIOURS.SELECT],\n        touch: true\n    },\n    [ACTIONS.TOUCHDRAG]: {\n        behaviours: [BEHAVIOURS.BRUSH],\n        touch: true\n    },\n    [ACTIONS.CLICK]: {\n        behaviours: [BEHAVIOURS.SELECT],\n        touch: false\n    }\n};\n\n","import { isSimpleObject, FieldType, DataModel } from 'muze-utils';\n\nconst getModelWithFacetData = (dm, data) => {\n    const dataObj = dm.getData();\n    const schema1 = dataObj.schema;\n    const data1 = dataObj.data;\n    const jsonData = [];\n    const schema2 = data[0].map(d => ({\n        name: `${d}`,\n        type: FieldType.DIMENSION\n    }));\n    const data2 = data[1];\n\n    data1.forEach((d) => {\n        const tuple = {};\n        schema1.forEach((obj, i) => {\n            tuple[obj.name] = d[i];\n        });\n        schema2.forEach((obj, i) => {\n            tuple[obj.name] = data2[i];\n        });\n        jsonData.push(tuple);\n    });\n\n    return new DataModel(jsonData, [...schema1, ...schema2]);\n};\n\nexport const propagateValues = (instance, action, config = {}) => {\n    let propagationData;\n    const payload = config.payload;\n    const selectionSet = config.selectionSet;\n    const propagationFieldInf = config.propagationFields[action] || {};\n    const propagationFields = propagationFieldInf.fields || [];\n    const append = propagationFieldInf.append;\n    const criteria = payload.criteria;\n    const context = instance.context;\n    const dataModel = context.cachedData()[0];\n    const sourceId = context.id();\n    const sideEfffects = instance.sideEffects();\n    const behaviourEffectMap = instance._behaviourEffectMap;\n    const mergedModel = selectionSet.mergedEnter.model;\n    const fieldsConfig = dataModel.getFieldsConfig();\n    payload.sourceUnit = sourceId;\n    payload.action = action;\n    payload.sourceCanvas = context.parentAlias();\n    const propagationBehaviourMap = instance._propagationBehaviourMap;\n    const propagationBehaviour = propagationBehaviourMap[action] || action;\n\n    let propFields = [];\n    if (criteria === null) {\n        propagationData = null;\n    } else if (isSimpleObject(criteria)) {\n        propFields = Object.keys(criteria || {});\n        propagationData = mergedModel ? mergedModel.project(propFields) : null;\n    } else {\n        propFields = criteria[0];\n        propagationData = mergedModel ? mergedModel.project(propFields) : null;\n    }\n\n    const facetByFields = context.facetByFields();\n    if (propagationData !== null && propagationFields.length) {\n        const fields = propagationData.getData().schema.map(d => d.name);\n        propagationData = getModelWithFacetData(propagationData, facetByFields);\n        propFields = append ? [...fields, ...propagationFields] : propagationFields;\n        propagationData = propagationData.project(propFields);\n    }\n\n    let propagateInterpolatedValues = false;\n    if (propFields.length && propFields.every(field => fieldsConfig[field] &&\n        fieldsConfig[field].def.type === FieldType.MEASURE)) {\n        propagateInterpolatedValues = true;\n    }\n\n    const groupId = context.parentAlias();\n    payload.action = action;\n    const behaviourInstance = instance._actions.behavioural[propagationBehaviour];\n    const isMutableAction = behaviourInstance ? behaviourInstance.constructor.mutates() : false;\n\n    const filterFn = (entry, propagationConf) => {\n        const effects = behaviourEffectMap[entry.config.action];\n        const mutates = entry.config.groupId ?\n            effects.some(d => sideEfffects[d.name || d].constructor.mutates()) : true;\n        return entry.config.groupId !== propagationConf.groupId && mutates;\n    };\n\n    const sourceBehaviour = instance._actions.behavioural[action];\n    const mutates = sourceBehaviour ? sourceBehaviour.constructor.mutates() : false;\n    let propConfig = {\n        payload,\n        action,\n        criteria: propagationData,\n        isMutableAction: mutates,\n        propagateInterpolatedValues,\n        groupId,\n        sourceId: mutates ? groupId : sourceId,\n        filterFn,\n        enabled: (propConf, firebolt) => (action !== propagationBehaviour ?\n            propConf.payload.sourceCanvas === firebolt.context.parentAlias() : true)\n    };\n\n    dataModel.propagate(propagationData, propConfig, true);\n\n    if (action !== propagationBehaviour) {\n        propConfig = {\n            payload,\n            sourceId: isMutableAction ? groupId : sourceId,\n            criteria: propagationData,\n            isMutableAction,\n            propagateInterpolatedValues,\n            action: propagationBehaviour,\n            groupId,\n            applyOnSource: action === propagationBehaviour,\n            enabled: (propConf, firebolt) => propConf.payload.sourceCanvas !== firebolt.context.parentAlias(),\n            filterFn\n        };\n\n        dataModel.propagate(propagationData, propConfig, true, {\n            filterImmutableAction: (actionInf, propInf) => actionInf.groupId !== propInf.groupId\n        });\n    }\n};\n","import { CommonProps } from 'muze-utils';\nimport { SpawnableSideEffect } from '@chartshq/muze-firebolt';\nimport { DATA } from '../enums/reactive-props';\n\nconst initSideEffects = (sideEffects, firebolt) => {\n    for (const key in sideEffects) {\n        if ({}.hasOwnProperty.call(sideEffects, key)) {\n            sideEffects[key] instanceof SpawnableSideEffect && sideEffects[key].drawingContext(() => {\n                const context = firebolt.context;\n                return context.getDrawingContext();\n            });\n        }\n    }\n};\n\nexport const clearActionHistory = (context) => {\n    const actionHistory = context._actionHistory;\n    for (const key in actionHistory) {\n        if (actionHistory[key].isMutableAction) {\n            delete context._actionHistory[key];\n        }\n    }\n};\n\nexport const dispatchQueuedSideEffects = (context) => {\n    const queuedSideEffects = context._queuedSideEffects;\n    Object.entries(queuedSideEffects).forEach((entry) => {\n        const sideEffect = entry[1];\n        context.dispatchSideEffect(sideEffect.name, ...sideEffect.params);\n    });\n    context._queuedSideEffects = {};\n};\n\nexport const registerListeners = (firebolt) => {\n    const context = firebolt.context;\n    const store = context.store();\n\n    store.registerImmediateListener([`local.units.${DATA}.${context.metaInf().namespace}`], (dataModel) => {\n        const dm = dataModel[1];\n\n        if (dm) {\n            firebolt.createSelectionSet(firebolt.context.data().getData().uids);\n            firebolt.initializeSideEffects();\n            const originalData = firebolt.context.cachedData()[0];\n            firebolt.attachPropagationListener(originalData);\n        }\n    });\n\n    store.registerChangeListener([`local.units.${DATA}.${context.metaInf().namespace}`], () => {\n        if (!firebolt.context.mount()) {\n            const originalData = firebolt.context.cachedData()[0];\n            originalData.unsubscribe('propagation');\n        }\n    });\n\n    context._layerDeps.throwback.registerChangeListener([CommonProps.ON_LAYER_DRAW],\n        ([, onlayerdraw]) => {\n            if (onlayerdraw) {\n                initSideEffects(firebolt.sideEffects(), firebolt);\n                dispatchQueuedSideEffects(firebolt);\n                clearActionHistory(firebolt);\n            }\n        });\n};\n","import { FieldType } from 'muze-utils';\nimport { Firebolt } from '@chartshq/muze-firebolt';\nimport { registerListeners } from './helper';\nimport { payloadGenerator } from './payload-generator';\nimport { propagateValues } from './data-propagator';\n\n/**\n * This class manages the interactions of visual unit. It associates physical actions with\n * behavioural actions. It also propagates the behavioural actions to other datamodels.\n */\nexport default class UnitFireBolt extends Firebolt {\n    constructor (...params) {\n        super(...params);\n        registerListeners(this);\n    }\n\n    propagate (behaviour, payload, selectionSet, sideEffects) {\n        propagateValues(this, behaviour, {\n            payload,\n            selectionSet,\n            sideEffects,\n            propagationFields: this._propagationFields\n        });\n    }\n\n    getApplicableSideEffects (sideEffects, payload, propagationInf) {\n        const context = this.context;\n        const unitId = context.id();\n        const aliasName = context.parentAlias();\n        const propagationSourceCanvas = propagationInf.propPayload && propagationInf.propPayload.sourceCanvas;\n        const sourceUnitId = propagationInf.propPayload && propagationInf.propPayload.sourceUnit;\n        const sourceSideEffects = this._sourceSideEffects;\n        const sideEffectInstances = this.sideEffects();\n        const actionOnSource = sourceUnitId ? sourceUnitId === unitId : true;\n\n        const applicableSideEffects = payload.sideEffects ? [{\n            effects: payload.sideEffects,\n            behaviours: [payload.action]\n        }] : sideEffects;\n        applicableSideEffects.forEach((d) => {\n            let mappedEffects = d.effects;\n            mappedEffects = mappedEffects.filter((se) => {\n                const mutates = sideEffectInstances[se.name || se].constructor.mutates();\n                if (mutates && propagationInf.isMutableAction === false) {\n                    return false;\n                }\n                if (!actionOnSource && payload.criteria !== null) {\n                    const sideEffectChecker = sourceSideEffects[se.name || se];\n                    return sideEffectChecker ? sideEffectChecker(propagationInf.propPayload, context) : true;\n                }\n                if (propagationSourceCanvas === aliasName || actionOnSource) {\n                    return se.applyOnSource !== false;\n                }\n\n                return true;\n            });\n            d.effects = mappedEffects;\n        });\n        return applicableSideEffects;\n    }\n\n    shouldApplySideEffects (propagate) {\n        return propagate === false;\n    }\n\n    onDataModelPropagation () {\n        return (data, config) => {\n            let isSourceFieldPresent = true;\n            let isMutableAction = false;\n            const propPayload = config.payload;\n            const sourceIdentifiers = config.sourceIdentifiers;\n            const enabledFn = config.enabled;\n            const action = config.action;\n            const payloadFn = payloadGenerator[action] || payloadGenerator.__default;\n\n            if (sourceIdentifiers) {\n                const fieldsConfig = sourceIdentifiers.getFieldsConfig();\n                const sourceIdentifierFields = Object.keys(fieldsConfig);\n                const propFields = Object.keys(data[0].getFieldsConfig());\n                if (!Object.values(fieldsConfig).some(d => d.def.type === FieldType.MEASURE)) {\n                    isSourceFieldPresent = sourceIdentifierFields.some(d => propFields.indexOf(d) !== -1);\n                }\n            }\n\n            const payload = payloadFn(this.context, data, config);\n            const sourceBehaviours = this._sourceBehaviours;\n            const filterFn = sourceBehaviours[action] || sourceBehaviours['*'];\n            let enabled = true;\n\n            if (filterFn) {\n                enabled = filterFn(propPayload || {}, this.context);\n            }\n\n            if (enabledFn) {\n                enabled = enabledFn(config, this) && enabled !== false;\n            }\n\n            if (enabled) {\n                const effects = this._behaviourEffectMap[action];\n                const sideEffectInstances = this.sideEffects();\n                isMutableAction = config.groupId ?\n                    effects.some(d => sideEffectInstances[d.name || d].constructor.mutates()) : config.isMutableAction;\n\n                const propagationInf = {\n                    propagate: false,\n                    data,\n                    propPayload,\n                    sourceIdentifiers,\n                    persistent: false,\n                    isSourceFieldPresent,\n                    sourceId: config.propagationSourceId,\n                    isMutableAction: config.isMutableAction\n                };\n\n                this._actionHistory[action] = {\n                    payload,\n                    propagationInf,\n                    isMutableAction\n                };\n                this.dispatchBehaviour(action, payload, propagationInf);\n            }\n        };\n    }\n\n    prepareSelectionSets (behaviours) {\n        const data = this.context.data();\n        if (data) {\n            this.createSelectionSet(data.getData().uids, behaviours);\n        }\n        return this;\n    }\n\n    initializeSideEffects () {\n        if (this.context.data()) {\n            super.initializeSideEffects();\n        }\n        return this;\n    }\n\n    remove () {\n        this.context.cachedData()[0].unsubscribe('propagation');\n        return this;\n    }\n}\n","import { DimensionSubtype } from 'muze-utils';\n\nconst getRangeFromData = (instance, selectionDataModel, propConfig) => {\n    let criteria;\n    const dataObj = selectionDataModel[0].getData();\n    const propCriteria = propConfig.payload.criteria;\n    const sourceIdentifiers = propConfig.sourceIdentifiers;\n    const schema = dataObj.schema;\n    const fieldMap = instance.data().getFieldsConfig();\n    const data = dataObj.data;\n    const isActionSourceSame = instance.id() === propConfig.sourceId;\n\n    if (isActionSourceSame) {\n        criteria = propCriteria;\n    } else {\n        criteria = (sourceIdentifiers !== null) ? schema.reduce((acc, obj, index) => {\n            let range;\n            const field = obj.name;\n            const fieldObj = fieldMap[field];\n            const type = fieldObj && (fieldObj.def.subtype ? fieldObj.def.subtype : fieldObj.def.type);\n            const isDimension = type === DimensionSubtype.CATEGORICAL;\n\n            if (!fieldObj) {\n                return acc;\n            }\n\n            if (!isDimension) {\n                range = [Math.min(...data.map(d => d[index])), Math.max(...data.map(d => d[index]))];\n            } else {\n                range = data.map(d => d[index]);\n            }\n            acc[field] = range;\n            return acc;\n        }, {}) : null;\n    }\n    return criteria;\n};\n\nexport const payloadGenerator = {\n    brush: (instance, selectionDataModel, propConfig) => {\n        const propPayload = propConfig.payload;\n        const criteria = getRangeFromData(instance, selectionDataModel, propConfig);\n        const payload = Object.assign({}, propPayload);\n        payload.criteria = criteria;\n        return payload;\n    },\n\n    __default: (instance, selectionDataModel, propConfig) => {\n        const propPayload = propConfig.payload;\n        const sourceIdentifiers = propConfig.sourceIdentifiers;\n        const dataObj = selectionDataModel[0].getData();\n        let schema = dataObj.schema;\n        const payload = Object.assign({}, propPayload);\n        schema = dataObj.schema;\n        const data = dataObj.data;\n        const sourceFields = schema.map(d => d.name);\n        payload.criteria = !sourceIdentifiers && selectionDataModel[0].isEmpty() ? null :\n            [sourceFields, ...data];\n        payload.sourceFields = sourceIdentifiers ? sourceIdentifiers.getSchema().map(d => d.name) : [];\n        return payload;\n    }\n};\n\n","import { getObjProp, defaultValue, makeElement, DimensionSubtype, DataModel } from 'muze-utils';\nimport { ScaleType } from '@chartshq/muze-axis';\nimport { layerFactory } from '@chartshq/visual-layer';\nimport { GRIDLINEPARENTGROUPCLASS, GRIDBANDPARENTGROUPCLASS } from '../enums/constants';\nimport { TIMEDIFFS } from '../enums/reactive-props';\n\nconst LINEAR = ScaleType.LINEAR;\n\nconst getLayerDefinition = (context, axes, type, orientation) => {\n    let encoding;\n    const config = context.config();\n    const { classPrefix, gridLines, gridBands } = config;\n    const gridLineColor = gridLines.color;\n    const zeroLineColor = gridLines.zeroLineColor;\n    const defClassName = type === 'band' ? gridBands.defClassName : gridLines.defClassName;\n    const gridBandColor = gridBands[orientation].color;\n    const axis = axes[orientation][0];\n    const isLinearScale = axis.constructor.type() === LINEAR;\n\n    if (type === 'band' && isLinearScale) {\n        encoding = {\n            [orientation]: `${orientation}value`,\n            [`${orientation}0`]: `${orientation}value0`\n        };\n    } else {\n        encoding = {\n            [orientation]: isLinearScale ? `${orientation}value` : `${orientation}dim`\n        };\n    }\n    encoding.color = {\n        value: (data, i) => {\n            const isNegativeDomain = isLinearScale && axis.domain()[0] < 0;\n            if (type === 'band') {\n                return gridBandColor[i % 2];\n            }\n            return isNegativeDomain && data[orientation] === 0 ? zeroLineColor : gridLineColor;\n        }\n    };\n\n    return {\n        definition: {\n            defClassName: `${defClassName}-${orientation}`,\n            className: config.className,\n            individualClassName: (data, i) => {\n                let className;\n                const isNegativeDomain = isLinearScale && axis.domain()[0] < 0;\n                if (isNegativeDomain && data.y === 0 && type !== 'band') {\n                    className = `${classPrefix}-axis-zero-line`;\n                } else {\n                    className = `${classPrefix}-grid-${type}-${orientation}-${i % 2}`;\n                }\n                return className;\n            },\n            [`pad${orientation.toUpperCase()}`]: type === 'band' ? 0 : undefined,\n            encoding\n        },\n        axes: {\n            [orientation]: axis\n        },\n        interactive: false\n    };\n};\n\nconst getDefaultVisibilty = (show, axis) => {\n    if (axis.constructor.type() === LINEAR) {\n        return show;\n    }\n    return false;\n};\n\nexport const getGridLayerDefinitions = (context, config, type) => ['x', 'y'].map((axisType) => {\n    const axes = context.axes();\n    if (!axes[axisType]) {\n        return null;\n    }\n    const show = defaultValue(config[axisType] && config[axisType].show,\n        getDefaultVisibilty(config.show, axes[axisType][0]));\n\n    return show ? getLayerDefinition(context, axes, type, axisType) : null;\n}).filter(d => d !== null);\n\nexport const getGridLayerData = (axes, fields, fieldsConfig) => {\n    const gridData = {};\n    ['x', 'y'].forEach((type) => {\n        let ticks = axes[type][0].getTickValues();\n        const subtype = getObjProp(fieldsConfig, getObjProp(fields, type, 0).getMembers()[0], 'def', 'subtype');\n        const jsonData = [];\n        const schema = [\n            {\n                name: 'yvalue',\n                type: 'measure'\n            }, {\n                name: 'xvalue',\n                type: 'measure'\n            },\n            {\n                name: 'yvalue0',\n                type: 'measure'\n            }, {\n                name: 'xvalue0',\n                type: 'measure'\n            }, {\n                name: 'xdim',\n                type: 'dimension',\n                subtype\n            }, {\n                name: 'ydim',\n                type: 'dimension',\n                subtype\n            }\n        ];\n        const len = Math.max(ticks.length);\n        ticks = subtype === DimensionSubtype.TEMPORAL ? ticks.map(d => d.getTime()) : ticks;\n        for (let i = 0; i < len; i += 1) {\n            jsonData.push({\n                [`${type}value`]: ticks[i],\n                [`${type}value0`]: ticks[i + 1],\n                [`${type}dim`]: ticks[i],\n                [`${type}dim`]: ticks[i]\n            });\n        }\n        gridData[type] = new DataModel(jsonData, schema);\n    });\n    return gridData;\n};\n\nexport const createGridLineLayer = (context) => {\n    const vuConf = context.config();\n    const metaInf = context.metaInf();\n    ['band', 'line'].forEach((type) => {\n        let mark;\n        let config;\n        let instances;\n        if (type === 'band') {\n            mark = 'bar';\n            config = vuConf.gridBands;\n            instances = context._gridbands;\n        } else {\n            mark = 'tick';\n            config = vuConf.gridLines;\n            instances = context._gridlines;\n        }\n        const definitions = getGridLayerDefinitions(context, config, type);\n\n        definitions.forEach((atomicDef, i) => {\n            let layer;\n            const definition = atomicDef.definition;\n            const axesObj = atomicDef.axes;\n            const sConf = layerFactory.getSerializedConf(mark, definition);\n            sConf.mark = mark;\n            if (!instances[i]) {\n                layer = layerFactory.getLayerInstance(sConf);\n                layer.dependencies(context._layerDeps);\n            } else {\n                layer = instances[i];\n            }\n\n            layer\n                            .metaInf({\n                                unitRowIndex: metaInf.rowIndex,\n                                unitColIndex: metaInf.colIndex,\n                                namespace: `${metaInf.namespace}${type}${i}`\n                            })\n                            .store(context.store())\n                            .config(sConf)\n                            .dataProps({\n                                timeDiffs: context.store().get(TIMEDIFFS)\n                            })\n                            .axes(axesObj);\n            instances[i] = layer;\n        });\n    });\n};\n\nexport const attachDataToGridLineLayers = (context) => {\n    const axes = context.axes();\n    const measurement = {\n        width: context.width(),\n        height: context.height()\n    };\n\n    const gridLayerData = getGridLayerData(axes, context.fields(), context.data().getFieldsConfig());\n    [].concat(...context._gridbands, ...context._gridlines).forEach((inst) => {\n        inst.data(inst.axes().x ? gridLayerData.x : gridLayerData.y).measurement(measurement);\n    });\n};\n\nexport const renderGridLineLayers = (context, container) => {\n    const axes = context.axes();\n    const config = context.config();\n    const classPrefix = config.classPrefix;\n\n    if (axes && ((axes.x && axes.x.length) || (axes.y && axes.y.length))) {\n        [[context._gridlines, `${classPrefix}-${GRIDLINEPARENTGROUPCLASS}`],\n            [context._gridbands, `${classPrefix}-${GRIDBANDPARENTGROUPCLASS}`]].forEach((entry) => {\n                const [instances, parentGroupClass] = entry;\n                const mountPoint = makeElement(container, 'g', [1], `.${parentGroupClass}`);\n                const className = `${parentGroupClass}-group`;\n                makeElement(mountPoint, 'g', instances, `.${className}`, {\n                    update: (group, instance) => {\n                        instance.dataProps({ timeDiffs: context._timeDiffs }).mount(group.node());\n                    }\n                });\n            });\n    }\n};\n","import {\n    FieldType,\n    getDependencyOrder,\n    getObjProp,\n    defaultValue,\n    objectIterator,\n    unionDomain,\n    makeElement,\n    DimensionSubtype,\n    getClosestIndexOf,\n    toArray,\n    STATE_NAMESPACES,\n    MeasureSubtype\n} from 'muze-utils';\nimport { layerFactory, BaseLayer } from '@chartshq/visual-layer';\n\nexport const getDimensionMeasureMap = (layers, fieldsConfig) => {\n    const retinalEncodingsAndMeasures = {};\n\n    layers.forEach((layer) => {\n        const {\n            colorField,\n            sizeField,\n            shapeField,\n            xField,\n            yField\n        } = layer.encodingFieldsInf();\n        const measures = [xField, yField].filter(field => fieldsConfig[field] && fieldsConfig[field].def.type ===\n            FieldType.MEASURE);\n        [colorField, sizeField, shapeField].forEach((field) => {\n            if (fieldsConfig[field] && fieldsConfig[field].def.type === FieldType.DIMENSION) {\n                !retinalEncodingsAndMeasures[field] && (retinalEncodingsAndMeasures[field] = []);\n                retinalEncodingsAndMeasures[field].push(...measures);\n            }\n        });\n    });\n\n    for (const key in retinalEncodingsAndMeasures) {\n        if ({}.hasOwnProperty.call(retinalEncodingsAndMeasures, key)) {\n            retinalEncodingsAndMeasures[key] = [...new Set(retinalEncodingsAndMeasures[key])];\n        }\n    }\n    return retinalEncodingsAndMeasures;\n};\n\nexport const transformDataModels = (transform, dataModel) => {\n    const dataModels = {};\n    for (const key in transform) {\n        if ({}.hasOwnProperty.call(transform, key)) {\n            const transformVal = transform[key];\n            dataModels[key] = transformVal(dataModel);\n        }\n    }\n\n    return dataModels;\n};\n\nexport const getLayerFromDef = (context, definition, existingLayer, namespaces) => {\n    let instances = existingLayer;\n    const dependencies = context._layerDeps;\n    const metaInf = context.metaInf();\n    if (!existingLayer) {\n        instances = layerFactory.getLayerInstance(definition);\n        toArray(instances).forEach((inst, i) => {\n            inst.metaInf({\n                unitRowIndex: metaInf.rowIndex,\n                unitColIndex: metaInf.colIndex,\n                namespace: namespaces[i]\n            });\n            inst.store(context.store());\n        });\n    }\n    const layers = {};\n    const instanceArr = toArray(instances);\n    definition = toArray(definition);\n    definition.reduce((acc, def, idx) => {\n        const instance = instanceArr[idx];\n        instance.config(def);\n        instance.dependencies(dependencies);\n        instance.dataProps({\n            timeDiffs: context._timeDiffs\n        });\n        if (def.name) {\n            instance.alias(def.name);\n        }\n        layers[instance.alias()] = instance;\n        return acc;\n    }, {});\n    return layers;\n};\n\nexport const resolveEncodingTransform = (layerInst, store) => {\n    const encodingTransform = layerInst.config().encodingTransform || {};\n    const resolvable = encodingTransform.resolvable;\n    let depArr = [];\n    if (resolvable) {\n        const resolved = resolvable(store);\n        depArr = resolved.depArr;\n        layerInst.encodingTransform(resolved.fn);\n    } else if (encodingTransform instanceof Function) {\n        layerInst.encodingTransform(encodingTransform);\n    }\n    return depArr;\n};\n\nexport const createLayers = (context, layerDefinitions) => {\n    const layersMap = context._layersMap;\n    const markSet = {};\n    const store = {\n        layers: {},\n        components: {\n            unit: context\n        }\n    };\n    let layerIndex = 0;\n    let layers = layerDefinitions.sort((a, b) => a.order - b.order).reduce((layersArr, layerDef, i) => {\n        const mark = layerDef.mark;\n        const definition = layerDef.def;\n        const markId = `${mark}-${i}`;\n        const defArr = toArray(definition);\n        defArr.forEach((def) => {\n            def.order = layerDef.order + layerIndex;\n        });\n        layerIndex += defArr.length;\n        const instances = getLayerFromDef(context, definition, layersMap[markId], i);\n        store.layers = Object.assign(store.layers, instances);\n        const instanceValues = Object.values(instances);\n        layersArr = layersArr.concat(...instanceValues);\n        layersMap[markId] = instanceValues;\n        markSet[markId] = markId;\n        return layersArr;\n    }, []);\n    store.unit = context;\n    const layerdeps = {};\n    layers.forEach((layer) => {\n        const depArr = resolveEncodingTransform(layer, store);\n        layerdeps[layer.alias()] = depArr;\n    });\n\n    const order = getDependencyOrder(layerdeps);\n    layers = order.map(name => store.layers[name]);\n    for (const key in layersMap) {\n        if (!(key in markSet)) {\n            layersMap[key].forEach(layer => layer.remove());\n            delete layersMap[key];\n        }\n    }\n    return layers;\n};\n\nexport const sanitizeLayerDef = (layerDefs) => {\n    const sanitizedDefs = [];\n    layerDefs.forEach((layerDef, i) => {\n        const def = layerDef.def;\n        const mark = layerDef.mark;\n        if (!def) {\n            const sConf = layerFactory.getSerializedConf(layerDef.mark, layerDef);\n            if (!sConf.name) {\n                sConf.name = `${mark}-${i}`;\n            }\n            sanitizedDefs.push({\n                mark: layerDef.mark,\n                def: sConf\n            });\n        } else {\n            if (!def.name) {\n                def.name = `${mark}-${i}`;\n            }\n            sanitizedDefs.push(layerDef);\n        }\n    });\n    return sanitizedDefs;\n};\n\nexport const attachDataToLayers = (layers, dm, transformedDataModels) => {\n    layers.forEach((layer) => {\n        const dataSource = layer.config().source;\n        const dataModel = dataSource instanceof Function ? dataSource(dm) : (transformedDataModels[dataSource] || dm);\n        layer.data(dataModel);\n    });\n};\n\nexport const attachAxisToLayers = (axes, layers, layerAxisIndex) => {\n    layers.forEach((layer) => {\n        const layerId = layer.id();\n        const axesObj = {};\n\n        objectIterator(axes, (key) => {\n            const axisInf = layerAxisIndex[layerId];\n            if (axisInf) {\n                axes[key] && (axesObj[key] = axes[key][axisInf[key] || 0]);\n            }\n        });\n        Object.keys(axesObj).length && layer.axes(axesObj);\n    });\n};\n\nexport const getLayerAxisIndex = (layers, fields) => {\n    const layerAxisIndex = {};\n    layers.forEach((layer) => {\n        const { axis, encoding } = layer.config();\n        const id = layer.id();\n        ['x', 'y'].forEach((type) => {\n            let index;\n            const field = defaultValue(getObjProp(axis, type), encoding[type] && encoding[type].field);\n            if (fields[type]) {\n                index = fields[type].findIndex(fieldInst => fieldInst.getMembers().indexOf(field) !== -1);\n            } else {\n                index = 0;\n            }\n            !layerAxisIndex[id] && (layerAxisIndex[id] = {});\n            layerAxisIndex[id][type] = index;\n        });\n    });\n    return layerAxisIndex;\n};\n\nexport const unionDomainFromLayers = (layers, axisFields, layerAxisIndex, fieldsConfig) => {\n    let domains = {};\n    layers = layers.filter(layer => layer.getDataDomain() !== null);\n    layers.forEach((layer) => {\n        let domainValues = {};\n        const config = layer.config();\n        const encoding = config.encoding;\n        const layerDomain = layer.getDataDomain();\n        const layerId = layer.id();\n\n        if (layerDomain !== null && config.calculateDomain !== false) {\n            domainValues = Object.entries(layerDomain);\n            domains = domainValues.reduce((fieldDomain, domain) => {\n                const encodingType = domain[0];\n                const field = encoding[encodingType].field;\n                const axisIndex = layerAxisIndex[layerId][encodingType];\n                if (encodingType in axisFields) {\n                    const fieldStr = `${axisFields[encodingType][axisIndex]}`;\n                    fieldDomain[fieldStr] = fieldDomain[fieldStr] || [];\n                    fieldDomain[fieldStr] = unionDomain(([fieldDomain[fieldStr], domain[1]]),\n                        fieldsConfig[field].def.subtype ? fieldsConfig[field].def.subtype :\n                                fieldsConfig[field].def.type);\n                } else {\n                    fieldDomain[encodingType] = domain[1];\n                }\n                return fieldDomain;\n            }, domains);\n        }\n    });\n    return domains;\n};\n\nexport const renderLayers = (context, container, layers, measurement) => {\n    context._lifeCycleManager.notify({ client: layers, action: 'beforedraw', formalName: 'layer' });\n    const config = context.config();\n    const classPrefix = config.classPrefix;\n    const orderedLayers = context.layers().sort((a, b) => a.config().order - b.config().order);\n    const layerParentGroup = makeElement(container, 'g', [1], `${classPrefix}-layer-group`);\n    const layerDepOrder = getDependencyOrder(context._layerDepOrder);\n    const groups = {};\n    makeElement(layerParentGroup, 'g', orderedLayers, null, {\n        update: (group, layer) => {\n            groups[layer.alias()] = {\n                group,\n                layer\n            };\n        }\n    });\n    const layerSeq = layerDepOrder.map(name => groups[name]);\n    layerSeq.forEach((o) => {\n        const layer = o.layer;\n        const group = o.group;\n        layer.measurement(measurement);\n        layer.dataProps({\n            timeDiffs: context._timeDiffs\n        });\n        layer.config().render !== false && layer.mount(group.node());\n    });\n    return this;\n};\n\nexport const getNearestDimensionalValue = (context, position) => {\n    const fields = context.fields();\n    if (!fields.x.length || !fields.y.length) {\n        return null;\n    }\n    const data = context.data();\n    const axes = context.axes();\n    const fieldsConfig = data.getFieldsConfig();\n    const xField = getObjProp(fields, 'x', 0).getMembers()[0];\n    const yField = getObjProp(fields, 'y', 0).getMembers()[0];\n    const xFieldType = fieldsConfig[xField].def.subtype;\n    const yFieldType = fieldsConfig[yField].def.subtype;\n\n    const entryVal = [['x', xFieldType, xField], ['y', yFieldType, yField]].find(entry =>\n        entry[1] === DimensionSubtype.CATEGORICAL || entry[1] === DimensionSubtype.TEMPORAL);\n\n    if (!entryVal || (xFieldType !== MeasureSubtype.CONTINUOUS && yFieldType !== MeasureSubtype.CONTINUOUS)) {\n        return null;\n    }\n    const field = entryVal[2];\n    const index = fieldsConfig[field].index;\n    let key = axes[entryVal[0]][0].invert(position[entryVal[0]]);\n    if (entryVal[1] === DimensionSubtype.TEMPORAL) {\n        const filterData = [...new Set(data.getData().data.map(d => d[index]))];\n        key = filterData[getClosestIndexOf(filterData, key)];\n    }\n\n    return key !== undefined ? [[field], [key]] : null;\n};\n\nexport const getLayersBy = (layers, searchBy, value) => layers.filter((layer) => {\n    const name = searchBy === 'type' ? layer.constructor.formalName() : layer.alias();\n    return name === value;\n});\n\nexport const removeLayersBy = (layers, searchBy, value) => {\n    layers.filter((inst) => {\n        const name = searchBy === 'type' ? inst.config().mark : inst.alias();\n        if (name === value) {\n            inst.remove();\n            return false;\n        }\n        return true;\n    });\n};\n\nexport const createSideEffectGroup = (container, className) => makeElement(container, 'g', [1], className).node();\n\nexport const createLayerState = (context) => {\n    const [globalState, localState] = BaseLayer.getState();\n    context.store().append('app.layers', globalState)\n                    .append('local.layers', localState);\n};\n\nexport const initializeGlobalState = (context) => {\n    const store = context.store();\n    const globalState = context.constructor.getState()[0];\n    const namespace = context.metaInf().namespace;\n    for (const prop in globalState) {\n        store.append(`${STATE_NAMESPACES.UNIT_GLOBAL_NAMESPACE}.${prop}`, {\n            [namespace]: null\n        });\n    }\n};\n","export { default as VisualUnit } from './visual-unit';\n","import { DimensionSubtype, STATE_NAMESPACES } from 'muze-utils';\nimport * as PROPS from './enums/reactive-props';\nimport {\n    transformDataModels,\n    getDimensionMeasureMap,\n    attachDataToLayers,\n    attachAxisToLayers,\n    unionDomainFromLayers\n} from './helper';\n\nimport { createGridLineLayer, attachDataToGridLineLayers } from './helper/grid-lines';\n\nconst removeExitLayers = (layerDefs, context) => {\n    const layersMap = context._layersMap;\n    const markSet = {};\n    layerDefs.forEach((layerDef, i) => {\n        const id = `${layerDef.mark}-${i}`;\n        markSet[id] = true;\n    });\n\n    for (const key in layersMap) {\n        if (!(key in markSet)) {\n            layersMap[key].forEach(layer => layer.remove());\n            delete layersMap[key];\n        }\n    }\n};\n\nexport const calculateDomainListener = (context, namespace) => () => {\n    const domain = unionDomainFromLayers(context.layers(), context.fields(), context._layerAxisIndex,\n        context.data().getFieldsConfig());\n    context.store().commit(`${STATE_NAMESPACES.UNIT_GLOBAL_NAMESPACE}.${PROPS.DOMAIN}.${namespace}`, domain);\n};\n\nexport const listenerMap = (context, namespace, metaInf) => ([\n    {\n        type: 'registerImmediateListener',\n        props: [`${namespace.local}.${PROPS.CONFIG}.${metaInf.subNamespace}`],\n        listener: ([, config]) => {\n            config && context.firebolt().config(config.interaction);\n        }\n    },\n    {\n        type: 'registerImmediateListener',\n        props: [`${namespace.local}.${PROPS.LAYERDEFS}.${metaInf.subNamespace}`],\n        listener: ([, layerDefs]) => {\n            const fieldsVal = context.fields();\n            if (layerDefs && fieldsVal) {\n                removeExitLayers(layerDefs, context);\n                context.addLayer(layerDefs);\n                context._lifeCycleManager.notify({\n                    client: context.layers(),\n                    action: 'initialized',\n                    formalName: 'layer'\n                });\n            }\n        }\n    },\n    {\n        type: 'registerImmediateListener',\n        props: [`${namespace.local}.${PROPS.DATA}.${metaInf.subNamespace}`],\n        listener: ([, dataModel]) => {\n            const axisFields = context.fields();\n            const axesObj = context.axes();\n            if (dataModel && axisFields && axesObj) {\n                const timeDiffs = {};\n                const timeDiffsByField = {};\n                ['x', 'y'].forEach((type) => {\n                    const field = axisFields[type][0];\n                    if (field && field.subtype() === DimensionSubtype.TEMPORAL) {\n                        timeDiffs[type] = field.getMinDiff();\n                        timeDiffsByField[field] = timeDiffs[type];\n                        axesObj[type].forEach(axis => axis.minDiff(timeDiffs[type]));\n                    }\n                });\n                context._timeDiffsByField = timeDiffsByField;\n                context._timeDiffs = timeDiffs;\n            }\n        }\n    },\n    {\n        type: 'registerImmediateListener',\n        props: [`${namespace.local}.${PROPS.DATA}.${metaInf.subNamespace}`,\n            `${namespace.local}.${PROPS.LAYERS}.${metaInf.subNamespace}`,\n            `${namespace.local}.${PROPS.TRANSFORM}.${metaInf.subNamespace}`],\n        listener: ([, dataModel], [, layers], [, transform]) => {\n            const layerAxisIndexVal = context._layerAxisIndex;\n            const axesVal = context.axes();\n            if (dataModel && layers && axesVal && layerAxisIndexVal) {\n                const dataModels = transformDataModels(transform, dataModel);\n                context._transformedDataModels = dataModels;\n                context._lifeCycleManager.notify({ client: layers, action: 'beforeupdate', formalName: 'layer' });\n                attachDataToLayers(layers, dataModel, context._transformedDataModels);\n                context._dimensionMeasureMap = getDimensionMeasureMap(layers,\n                    dataModel.getFieldsConfig(), context.retinalFields());\n                attachAxisToLayers(axesVal, layers, layerAxisIndexVal);\n                createGridLineLayer(context);\n                context._lifeCycleManager.notify({ client: layers, action: 'updated', formalName: 'layer' });\n            }\n        }\n    },\n    {\n        type: 'registerChangeListener',\n        props: [`${STATE_NAMESPACES.GROUP_GLOBAL_NAMESPACE}.domain.y.${metaInf.rowIndex}00`,\n            `${STATE_NAMESPACES.GROUP_GLOBAL_NAMESPACE}.domain.x.0${metaInf.colIndex}0`],\n        listener: () => {\n            attachDataToGridLineLayers(context);\n        }\n    }\n]);\n","import { mergeRecursive } from 'muze-utils';\nimport { defaultConfig } from './default-config';\nimport { CONFIG, LAYERDEFS, WIDTH, HEIGHT, TRANSFORM, DATA, LAYERS } from './enums/reactive-props';\nimport { sanitizeLayerDef } from './helper';\n\nexport default {\n    [CONFIG]: {\n        value: null,\n        meta: {\n            sanitization: (config, oldConfig) => (\n                mergeRecursive(oldConfig || mergeRecursive({}, defaultConfig), config)\n            )\n        }\n    },\n    [LAYERDEFS]: {\n        value: null,\n        meta: {\n            preset: layerDef => sanitizeLayerDef(layerDef)\n        }\n    },\n    [WIDTH]: {\n        value: null\n    },\n    [HEIGHT]: {\n        value: null\n    },\n    [TRANSFORM]: {\n        value: null\n    },\n    [LAYERS]: {\n        value: null\n    },\n    [DATA]: {\n        value: null,\n        meta: {\n            preset: (data, context) => {\n                if (context._cache) {\n                    const cachedData = context.cachedData();\n                    context.cachedData([...cachedData, data]);\n                } else {\n                    const oldData = context.data();\n                    oldData && oldData.unsubscribe('propagation');\n                    context.cachedData([data]);\n                }\n            }\n        }\n    }\n};\n","import { FACET_BY_FIELDS, RETINAL_FIELDS, PARENT_ALIAS, LAYERS, CACHED_DATA } from './enums/constants';\n\nexport const PROPS = {\n    [FACET_BY_FIELDS]: {},\n    [RETINAL_FIELDS]: {},\n    [PARENT_ALIAS]: {},\n    [LAYERS]: {},\n    [CACHED_DATA]: {},\n    detailFields: {},\n    axes: {},\n    fields: {},\n    metaInf: {},\n    registry: {}\n};\n","// extracted by mini-css-extract-plugin","import { layerFactory } from '@chartshq/visual-layer';\nimport {\n    Store,\n    setAttrs,\n    getUniqueId,\n    getQualifiedClassName,\n    selectElement,\n    transactor,\n    makeElement,\n    registerListeners,\n    generateGetterSetters,\n    getDataModelFromIdentifiers,\n    isSimpleObject,\n    transposeArray,\n    CommonProps,\n    toArray,\n    STATE_NAMESPACES\n} from 'muze-utils';\nimport { physicalActions, sideEffects, behaviouralActions, behaviourEffectMap } from '@chartshq/muze-firebolt';\nimport { actionBehaviourMap } from './firebolt/action-behaviour-map';\nimport {\n    renderLayers,\n    getNearestDimensionalValue,\n    removeLayersBy,\n    getLayersBy,\n    getLayerFromDef,\n    getLayerAxisIndex,\n    sanitizeLayerDef,\n    createSideEffectGroup,\n    resolveEncodingTransform,\n    createLayerState,\n    initializeGlobalState\n} from './helper';\nimport { renderGridLineLayers } from './helper/grid-lines';\nimport localOptions from './local-options';\nimport { listenerMap, calculateDomainListener } from './listener-map';\nimport {\n    DOMAIN\n} from './enums/reactive-props';\nimport { PROPS } from './props';\nimport UnitFireBolt from './firebolt';\nimport './styles.scss';\n\nconst FORMAL_NAME = 'unit';\n\n/**\n * Visual Unit is hierarchical component created by {@link VisualGroup}. This component accepts layer definitions\n * and creates concrete layer instances from them, binds data and attaches axis to them. It also retreives the domain\n * from the layers and unions them and sets them on corresponding axis instances. This also creates the parent svg\n * groups for all the layers and delegates the rendering to all the layers.\n *\n * @public\n * @module VisualUnit\n * @class\n */\nexport default class VisualUnit {\n\n    /**\n     * Creates instance of visualization unit.\n     *\n     * @param {Object} registry  Component registry\n     * @param {Object} dependencies  Dependencies required by visual unit.\n     */\n    constructor (registry, dependencies) {\n        this._id = getUniqueId();\n        this._dependencies = dependencies;\n        this._layerDeps = {\n            throwback: new Store({\n                [CommonProps.ON_LAYER_DRAW]: false\n            }),\n            smartLabel: dependencies.smartLabel,\n            lifeCycleManager: dependencies.lifeCycleManager\n        };\n        this._renderedResolve = null;\n        this._renderedPromise = new Promise((resolve) => {\n            this._renderedResolve = resolve;\n        });\n        this._layerDeps.throwback.registerChangeListener([CommonProps.ON_LAYER_DRAW], () => {\n            this._renderedResolve();\n            this._lifeCycleManager.notify({ client: this.layers(), action: 'drawn', formalName: 'layer' });\n        });\n\n        this._lifeCycleManager = dependencies.lifeCycleManager;\n        this._layersMap = {};\n        this._gridlines = [];\n        this._gridbands = [];\n        this._layerNamespaces = {};\n        this._layerAxisIndex = {};\n        this._transformedDataModels = {};\n        layerFactory.setLayerRegistry(registry.layerRegistry);\n        generateGetterSetters(this, PROPS);\n        this.registry(registry);\n        this.cachedData([]);\n    }\n\n    static formalName () {\n        return FORMAL_NAME;\n    }\n\n    static getState () {\n        return [\n            {\n                domain: {}\n            },\n            {\n                layerDef: {},\n                layers: {},\n                config: {},\n                data: {},\n                width: {},\n                height: {},\n                transform: {}\n            }\n        ];\n    }\n\n    store (...params) {\n        if (params.length) {\n            this._store = params[0];\n            const metaInf = this.metaInf();\n            initializeGlobalState(this);\n            createLayerState(this);\n            transactor(this, localOptions, this.store().model, {\n                namespace: STATE_NAMESPACES.UNIT_LOCAL_NAMESPACE,\n                subNamespace: metaInf.namespace\n            });\n            registerListeners(this, listenerMap, {\n                local: STATE_NAMESPACES.UNIT_LOCAL_NAMESPACE,\n                global: STATE_NAMESPACES.UNIT_GLOBAL_NAMESPACE\n            }, {\n                rowIndex: metaInf.rowIndex,\n                colIndex: metaInf.colIndex,\n                subNamespace: metaInf.namespace\n            });\n            this.firebolt(new UnitFireBolt(this, {\n                physical: physicalActions,\n                behavioural: behaviouralActions,\n                physicalBehaviouralMap: actionBehaviourMap\n            }, sideEffects, behaviourEffectMap));\n            return this;\n        }\n        return this._store;\n    }\n\n    /**\n     * Static helper for creates a unit instance\n     *\n     * @param {Object} [id] optional unique identifier for a unit; , id is calculated internally\n     * @param {DataModel} data instance of datamodel\n     * @param {Array.<Layer>} layers layer configuration\n     * @param {Object} config configurtion for the visual unit\n     * @return {VisualUnit} Instance of a unit\n     */\n    static create (...params) {\n        return new this(...params);\n    }\n\n    /**\n     * Returns the instance of firebolt associated with this visual unit. Firebolt dispatches the behavioural actions\n     * when any physical action happens on the elements of visual unit.\n     *\n     * @public\n     *\n     * @return {Firebolt} Instance of firebolt.\n     */\n    firebolt (...firebolt) {\n        if (firebolt.length) {\n            this._firebolt = firebolt[0];\n            return this;\n        }\n        return this._firebolt;\n    }\n\n    /**\n     * Returns the unique id of this visual unit.\n     *\n     * @public\n     * @return {string} Unique identifier.\n     */\n    id () {\n        return this._id;\n    }\n\n    lockModel () {\n        this._store.model.lock();\n        return this;\n    }\n\n    unlockModel () {\n        this._store.model.unlock();\n        return this;\n    }\n\n    timeDiffsByField (...params) {\n        if (params.length) {\n            return this;\n        }\n        return this._timeDiffsByField;\n    }\n\n    /**\n     * Renders the visual unit. It creates the layout and renders the axes and layers.\n     *\n     * @return {VisualUnit} Instance of visual unit.\n     */\n    render (container) {\n        const config = this.config();\n        const { className, defClassName, sideEffectClassName, classPrefix } = config;\n        const qualifiedClassName = getQualifiedClassName(defClassName, this.id(), config.classPrefix);\n        const width = this.width();\n        const height = this.height();\n        const containerSelection = selectElement(container).style('position', 'relative');\n\n        this._rootSvg = makeElement(containerSelection, 'svg', [null], className)\n                        .style('width', `${width}px`).style('height', `${height}px`);\n\n        const node = this._rootSvg.node();\n        setAttrs(node, {\n            width,\n            height,\n            class: qualifiedClassName.join(' ')\n        });\n        renderGridLineLayers(this, node);\n        renderLayers(this, node, this.layers(), {\n            width,\n            height\n        });\n        this._sideEffectGroup = createSideEffectGroup(node, `${classPrefix}-${sideEffectClassName}`);\n        return this;\n    }\n\n    done () {\n        return this._renderedPromise;\n    }\n\n    /**\n     * Caches all the datamodels in an array from the next `data()` call on visual unit until `clearCaching()` or\n     * `resetData()` is called on it.\n     *\n     * @public\n     * @return {VisualUnit} Instance of visual unit.\n     */\n\n    enableCaching () {\n        this._cache = true;\n        return this;\n    }\n\n    /**\n     * Clears all the previous cached data.\n     *\n     * @public\n     * @segment VisualUnit\n     * @return {VisualUnit} Instance of visual unit.\n     */\n    clearCaching () {\n        this._cache = false;\n        this.cachedData([this.cachedData()[0]]);\n        return this;\n    }\n\n    /**\n     * Returns the drawing information from visual unit.Drawing context contains the dimensions of unit and the svg\n     * container of the visual unit.\n     *\n     * @public\n     *\n     * @return {Object} Drawing information.\n     *      ```\n     *          {\n     *              htmlContainer: // Html container of svg container of the visual unit\n     *              svgContainer: // Root svg container\n     *              width: // Width of the visual unit\n     *              height: // Height of the visual unit\n     *              sideEffectGroup: // Svg group for drawing side effect elements.\n     *              parentContainer: // Parent html container of the visual unit.\n     *              xOffset: // x offset space from the starting x position of the container,\n     *              yOffset: // y offset space from the starting y position of the container\n     *          }\n     *      ```\n     */\n    getDrawingContext () {\n        const rootSvg = this._rootSvg && this._rootSvg.node();\n        const width = this.width();\n        const height = this.height();\n        return {\n            htmlContainer: this.mount(),\n            svgContainer: rootSvg,\n            width,\n            height,\n            sideEffectGroup: this._sideEffectGroup,\n            parentContainer: this.parentContainer(),\n            xOffset: 0,\n            yOffset: 0\n        };\n    }\n\n    /**\n     * Returns the serialized configuration of visual unit.\n     *\n     * @return {Object} serialized configuration\n     */\n    serialize () {\n        return {\n            layers: this.layers().map(layer => layer.serialize()),\n            config: this.config(),\n            axes: this.axes().map(axis => axis.serialize())\n        };\n    }\n\n    mount (...mount) {\n        if (mount.length) {\n            this._mount = mount[0];\n            this.render(mount[0]);\n            this.firebolt().mapActionsAndBehaviour();\n            return this;\n        }\n        return this._mount;\n    }\n\n    /**\n     * Adds a new layer to the visual unit. It takes a layer definition and creates layer instances from them. It does\n     * not render the layers. It returns the layer instances in an array. If the layer definition is a composite layer,\n     * then multiple layer instances will be returned in the array.\n     *\n     * To add a layer in the unit,\n     * ```\n     *      unit.addLayer({\n     *          name: 'bullet',\n     *          mark: 'bar',\n     *          encoding: {\n     *              x: 'Year',\n     *              y: 'Acceleration',\n     *              color: 'Origin'\n     *          }\n     *      });\n     * ```\n     * @public\n     * @param {Object} layerDef Definition of new layer.\n     *\n     * @return {Array} Array of layer instances.\n     */\n    addLayer (layerDefinition) {\n        const layerDefinitions = sanitizeLayerDef(toArray(layerDefinition));\n\n        const layersMap = this._layersMap;\n        const markSet = {};\n        const store = {\n            layers: {},\n            components: {\n                unit: this\n            }\n        };\n        let layerIndex = 0;\n        let startIndex = [].concat(...Object.values(this._layersMap)).length;\n        const metaInf = this.metaInf();\n        const props = this._layerNamespaces;\n        const layers = layerDefinitions.sort((a, b) => a.order - b.order).reduce((layersArr, layerDef) => {\n            const definition = layerDef.def;\n            const markId = definition.name;\n            const defArr = toArray(definition);\n            const namespaces = [];\n            defArr.forEach((def) => {\n                def.order = layerDef.order + layerIndex;\n                const namespace = `${metaInf.namespace}${startIndex}`;\n                if (!layersMap[markId]) {\n                    startIndex++;\n                    if (definition.calculateDomain !== false) {\n                        props[`${STATE_NAMESPACES.LAYER_GLOBAL_NAMESPACE}.${DOMAIN}.${namespace}`] = true;\n                    }\n                }\n                namespaces.push(namespace);\n            });\n            layerIndex += defArr.length;\n            const instances = getLayerFromDef(this, definition, layersMap[markId], namespaces);\n            store.layers = Object.assign(store.layers, instances);\n            const instanceValues = Object.values(instances);\n            layersArr = layersArr.concat(...instanceValues);\n            layersMap[markId] = instanceValues;\n            markSet[markId] = markId;\n            return layersArr;\n        }, []);\n\n        store.unit = this;\n        const layerdeps = {};\n        const layersArr = [].concat(...Object.values(this._layersMap));\n\n        layersArr.forEach((layer) => {\n            const alias = layer.alias();\n            store.layers[alias] = layer;\n            layerdeps[alias] = [];\n        });\n        layers.forEach((layer) => {\n            const depArr = resolveEncodingTransform(layer, store);\n            layerdeps[layer.alias()] = depArr;\n        });\n\n        this._layerDepOrder = layerdeps;\n        this._layerAxisIndex = Object.assign(this._layerAxisIndex, getLayerAxisIndex(layers, this.fields()));\n        const stateStore = this.store();\n\n        stateStore.unsubscribe({\n            key: 'calculateDomainListener',\n            namespace: `${STATE_NAMESPACES.UNIT_LOCAL_NAMESPACE}.${metaInf.namespace}`\n        });\n        stateStore.registerImmediateListener(Object.keys(props), calculateDomainListener(this, metaInf.namespace),\n            false, {\n                key: 'calculateDomainListener',\n                namespace: `${STATE_NAMESPACES.UNIT_LOCAL_NAMESPACE}.${metaInf.namespace}`\n            });\n        this.layers(layersArr);\n        return layers;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof VisualUnit\n     */\n    remove () {\n        const lifeCycleManager = this._dependencies.lifeCycleManager;\n        lifeCycleManager.notify({ client: this, action: 'beforeremove', formalName: 'unit' });\n        this.store().unsubscribe({\n            namespace: `${STATE_NAMESPACES.UNIT_LOCAL_NAMESPACE}.${this.metaInf().namespace}`\n        });\n        selectElement(this.mount()).remove();\n        this.firebolt().remove();\n        // Remove layers\n        lifeCycleManager.notify({ client: this.layers(), action: 'beforeremove', formalName: 'layer' });\n        this.layers().forEach(layer => layer.remove());\n        lifeCycleManager.notify({ client: this.layers(), action: 'removed', formalName: 'layer' });\n        lifeCycleManager.notify({ client: this, action: 'removed', formalName: 'unit' });\n        return this;\n    }\n\n    /**\n     *\n     *\n     * @param {*} identifiers\n     *\n     * @memberof VisualUnit\n     */\n    getDataModelFromIdentifiers (identifiers, mode, parentModel) {\n        if (identifiers === null) {\n            return null;\n        }\n        const dataModel = parentModel || this.data();\n        return getDataModelFromIdentifiers(dataModel, identifiers, mode);\n    }\n\n    /**\n     * Resets the data of visual unit to original data model. It also clears the cached data.\n     *\n     * @public\n     * @segment VisualUnit\n     * @return {VisualUnit} Instance of visual unit.\n     */\n    resetData () {\n        this.data(this.cachedData()[0]);\n        return this;\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof VisualUnit\n     */\n    getSourceInfo () {\n        return {\n            dimensionMeasureMap: this._dimensionMeasureMap,\n            fields: this.fields(),\n            data: this.data(),\n            axes: this.axes()\n        };\n    }\n\n    /**\n     *\n     *\n     *\n     * @memberof VisualUnit\n     */\n    getDefaultTargetContainer () {\n        const { classPrefix, defClassName } = this.config();\n        return [`.${classPrefix}-${defClassName}`];\n    }\n\n    /**\n     * Returns an array of layer instances which matches the supplied mark type.\n     *\n     * @public\n     *\n     * @param {string} type Mark type of layer.\n     *\n     * @return {Array} Array of layer instances.\n     */\n    getLayersByType (type) {\n        const layers = getLayersBy(this.layers(), 'type', type);\n        return layers;\n    }\n\n    /**\n     * Returns the layer instance which matches the supplied layer name. If no layer is found, then it returns\n     * undefined.\n     *\n     * @public\n     * @param {string} name Name of layer.\n     *\n     * @return {VisualUnit} Layer instance.\n     */\n    getLayerByName (name) {\n        const layers = getLayersBy(this.layers(), 'name', name);\n        return layers[0];\n    }\n\n    /**\n     * Returns the point located nearest to the supplied x and y position. It returns the unique identifiers of the\n     * point. This function also accepts an additional configuration `getAllPoints` inside `config` object in the third\n     * argument which if set to true, then it returns the identifiers of all the points which falls on the nearest\n     * x value or y value if any one of the field is a dimension. Additionally, a target property is also returned\n     * which contains the identifier of the nearest point. If no nearest point is found, then it returns identifier\n     * as null.\n     *\n     * @public\n     *\n     * @param {number} x X Position of the point from where nearest point is to be found.\n     * @param {number} y Y Position of the point from where nearest point is to be found.\n     * @param {Object} config Additional configuration options.\n     * @param {boolean} config.getAllPoints If true, then returns all the points nearest to the x value or y value if\n     * it is dimension.\n     * @param {Object} config.data Data associated with the nearest point.\n     * @return {Object} Nearest point information\n     * ```\n     *      {\n     *          id: [['Origin'], ['USA'], ['Japan']], // Identifiers of all the points closest to the x value.\n     *          target: [['Origin'], ['Japan']] // Identifier of the nearest point.\n     *      }\n     * ```\n     */\n    getNearestPoint (x, y, config) {\n        let pointObj = {\n            id: null\n        };\n        const dimValue = getNearestDimensionalValue(this, {\n            x,\n            y\n        });\n\n        if (dimValue !== null && config.getAllPoints) {\n            pointObj.id = dimValue;\n            const pointInf = this.getMarkInfFromLayers(x, y, config);\n            pointObj.target = pointInf && pointInf.id ? pointInf.id : pointObj.id;\n            return pointObj;\n        }\n\n        const markInf = this.getMarkInfFromLayers(x, y, config) || { id: null };\n        pointObj = Object.assign({}, markInf);\n\n        pointObj.target = markInf.id;\n        return pointObj;\n    }\n\n    getMarkInfFromLayers (x, y, args) {\n        const layers = this.layers();\n        const len = layers.length;\n        let point = null;\n        // Iterate through the layers array and fetch the nearest point from each layer. If a valid\n        // nearest point is found from any layer, then return that point.\n        for (let i = 0; i < len; i++) {\n            const layer = layers[i];\n            const config = layer.config();\n            if (config.interactive !== false) {\n                point = layer.getNearestPoint(x, y, args);\n            }\n            if (point) {\n                return point;\n            }\n        }\n        return point;\n    }\n\n    /**\n     * Get the information of all the marks such as x, y position and size from supplied identifiers. It\n     * returns an array of points whose data matches the given identifiers.\n     *\n     * @public\n     *\n     * @param {Array|Object} identifiers Field names and their corresponding values.\n     * ```\n     * identifiers can be given in an array of array,\n     *      ['Origin', 'Name'], // Names of the fields supplied in first array\n     *      ['USA', 'ford'], // Data values of each field supplied in rest of the arrays.\n     *      ['Japan', 'ford']\n     * or in an object,\n     *      {\n     *          Origin: ['USA']\n     *      }\n     * ```\n     * @param {Object} config Optional configurations which decides which information of the mark will\n     * be retrieved.\n     * @param {boolean} [config.getAllAttrs = false] If true, then returns all the information of each mark.\n     * @param {boolean} [config.getBBox = false] If true, then returns the bounding box of each mark.\n     *\n     * @return {Array} Array of objects containing the information of each point.\n     * ```\n     * By default, the method returns the array of points in this structure,\n     *      [\n     *          {\n     *              x: 20,\n     *              y: 100,\n     *              width: 200,\n     *              height: 100\n     *          }\n     *      ]\n     * If 'config.getAllAttrs' is true, then it returns all the information of each mark,\n     *      [\n     *      // Positions of mark on initial state of transition.\n     *          enter: {\n     *              x: 0,\n     *              y: 0\n     *          },\n     *          // Final positions of the mark\n     *          update: {\n     *              x: 20,\n     *              y: 10\n     *          },\n     *          style: // css styles of each mark\n     *          source: [200, 'USA'] // Row information of each mark\n     *          id: 20 // Row id of each mark\n     *      ]\n     * ```\n     */\n    getPlotPointsFromIdentifiers (identifiers, config = {}) {\n        let points = [];\n        let parsedIdentifiers = identifiers;\n        if (identifiers === null) {\n            return [];\n        }\n        const layers = this.layers();\n        const len = layers.length;\n        if (isSimpleObject(identifiers)) {\n            parsedIdentifiers = [Object.keys(identifiers)];\n            parsedIdentifiers = [...parsedIdentifiers, ...transposeArray(Object.values(identifiers))];\n        }\n        for (let i = 0; i < len; i++) {\n            const layer = layers[i];\n            if (layer.config().interactive !== false) {\n                points = [...points, ...layer.getPointsFromIdentifiers(parsedIdentifiers, config)];\n            }\n        }\n        return points;\n    }\n\n    /**\n     * Removes the layer instance which matches the supplied layer name.\n     *\n     * @public\n     * @param {string} name Name of layer\n     *\n     * @return {VisualUnit} Instance of visual unit.\n     */\n    removeLayerByName (name) {\n        removeLayersBy('name', name);\n        return this;\n    }\n\n    /**\n     * Removes all the layer instances which matches the supplied mark type.\n     *\n     * @public\n     * @param {string} type Mark type of layer.\n     *\n     * @return {VisualUnit} Instance of visual unit.\n     */\n    removeLayersByType (type) {\n        removeLayersBy('type', type);\n        return this;\n    }\n\n    parentContainer (...container) {\n        if (container.length) {\n            this._parentContainer = container[0];\n\n            return this;\n        }\n        return this._parentContainer;\n    }\n}\n"],"sourceRoot":""}